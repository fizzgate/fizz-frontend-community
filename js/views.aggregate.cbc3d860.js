/*!
 * Fizz-Admin v3.2.0-beta1
 * (c) 2020-2024 Joker-Lee
 * AGPL v3 Licensed.
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views.aggregate"],{"0090":function(e,t,n){},"027e":function(e,t,n){},"0293":function(e,t,n){var r=n("241e"),o=n("53e2");n("ce7e")("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},"04b4":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-drawer",{attrs:{title:e.title,visible:e.drawerVisible,direction:"rtl","modal-append-to-body":!1,wrapperClosable:!1,size:"81.5%"},on:{"update:visible":function(t){e.drawerVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"small",disabled:e.disabled||"detail"===e.dialogType}},[t("el-form-item",{attrs:{label:"组件描述:",prop:"desc"}},[t("el-input",{attrs:{type:"textarea",placeholder:"如：循环调用10次"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),t("div",{staticClass:"form-item-required"},[t("el-form-item",{attrs:{label:"循环数据源:"}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"",prop:"dataSourceType"}},[t("el-select",{attrs:{placeholder:"固定值/引用值"},model:{value:e.form.dataSourceType,callback:function(t){e.$set(e.form,"dataSourceType",t)},expression:"form.dataSourceType"}},e._l(e.valueType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:15}},[t("el-form-item",{attrs:{label:"",prop:"dataSource"}},["fixed"===e.form.dataSourceType?t("el-input",{attrs:{"controls-position":"right",clearable:"",placeholder:"值",min:1,oninput:"value=value.replace(/[^0-9]/g,'')",type:"number"},model:{value:e.form.dataSource,callback:function(t){e.$set(e.form,"dataSource",e._n(t))},expression:"form.dataSource"}}):t("el-autocomplete",{staticStyle:{width:"100%"},attrs:{placeholder:"值","fetch-suggestions":function(t,n){return e.searchParamOptions(t,n)},clearable:""},model:{value:e.form.dataSource,callback:function(t){e.$set(e.form,"dataSource",t)},expression:"form.dataSource"}})],1)],1),"ref"===e.form.dataSourceType?t("quote-tooltip",{staticClass:"tooltip"}):e._e()],1)],1),t("el-collapse",{staticClass:"info-con",attrs:{accordion:""},model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[t("el-collapse-item",{attrs:{title:"",name:"desc"}},[t("template",{slot:"title"},[t("div",{staticClass:"title"},[e._l(e.info.title,(function(n,r){return t("p",{key:r},[e._v(e._s(n))])})),t("span",{staticClass:"switch-text"},[e._v(e._s("desc"===e.activeCollapse?"收起":"展开"))])],2)]),e._l(e.info.body,(function(n,r){return t("div",{key:r,staticClass:"row"},e._l(n,(function(n,r){return t("p",{key:r},[e._v(e._s(n))])})),0)}))],2)],1)],1),t("div",{staticClass:"con"},[t("exec-break",{ref:"circleConditions",attrs:{data:e.execConditions,disabled:e.disabled||"detail"===e.dialogType,title:"循环条件",info:"条件为true时执行当次循环, 为false时跳过当次循环"},on:{"update:data":function(t){e.execConditions=t}}})],1),t("div",{staticClass:"con"},[t("exec-break",{ref:"breakConditions",attrs:{data:e.breakConditions,disabled:e.disabled||"detail"===e.dialogType,title:"退出条件",info:"条件为true时跳出循环, 退出条件在每次循环之后执行"},on:{"update:data":function(t){e.breakConditions=t}}})],1),t("footer",{staticClass:"drawer-footer"},[e.disabled||"detail"===e.dialogType?e._e():t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("\n      确 定\n    ")]),t("el-button",{attrs:{size:"small"},on:{click:function(t){e.drawerVisible=!1}}},[e._v(" \n      "+e._s(e.disabled||"detail"===e.dialogType?"关 闭":" 取 消")+"\n    ")])],1)],1)},o=[],i=(n("8e6e"),n("456d"),n("5df3"),n("ac6a"),n("c5f6"),n("4917"),n("bd86")),a=n("e683"),s=n("cc38"),u=n("9288"),l=n("5880"),c=n("16cd");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"circle-dialog",components:{quoteTooltip:s["default"],execBreak:u["default"]},props:{visible:{type:Boolean,default:!1},disabled:Boolean,data:Object,dialogType:{type:String,default:"add",validator:function(e){return-1!==["add","detail","edit"].indexOf(e)}}},data:function(){return{activeCollapse:"",form:{type:"circle",desc:"",dataSourceType:"",dataSource:""},rules:{desc:[{required:!0,message:"请输入组件描述",trigger:"blur"}],dataSourceType:[{required:!0,message:"请选择【循环数据源】",trigger:"change"}],dataSource:[{required:!0,message:"请输入【值】",trigger:"blur"}]},valueType:a["c"],info:{title:[" 数据源是一个数组或数字(循环次数)，固定值只支持数字。注意：V3编辑器通过node.{id}进行引用","如：固定值10，引用值step1.request1.response.body.data，当数据源不为空时才执行循环；"],body:[["在请求的循环内可通stepN.requestM.item引用当次循环对象，如：","step2.request1.item.name可获取到循环对象name字段的值，数据源是数字时，item是以1开始的数字，step2.request1.index可得到当次循环对象的下标，下标从0开始","在步骤的循环内可通stepN.item引用当次循环对象，如：","step2.item.name可获取到循环对象name字段的值，数据源是数字时，item是以1开始的数字，step2.index可得到当次循环对象的下标；"],["循环调用的结果为一个数组，可通过引用值获取，如：","循环请求：","step2.request1.circle[0].response.body可得到第一次循环请求的结果，","step2.request1.circle[-1].response.body可得到前一次循环请求的结果,","step2.request1.circle[*].response.body可得到所有循环请求的响应结果;","循环步骤:","step2.circle[0].request1.response.body可得到第一次循环步骤的结果，","step2.circle[-1].request1.response.body可得到前一次循环步骤的结果,","step2.circle[*].request1.response.body可得到所有循环步骤的响应结果"]]},execConditions:[],breakConditions:[]}},computed:p(p({},Object(l["mapGetters"])(["paramOptions"])),{},{drawerVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}},title:function(){var e="";switch(this.dialogType){case"add":e="新增 流程控制组件【循环组件 circle】";break;case"edit":e="编辑 流程控制组件【循环组件 circle】";break;case"detail":e="流程控制组件【循环组件 circle】 详情";break}return e}}),methods:{emitData:function(){this.$emit("emitData",this.handleData())},searchParamOptions:function(e,t){var n=this.paramOptions.filter((function(t){return t.value.match(Object(c["a"])(e))}));t(n)},handleData:function(){"fixed"===this.form.dataSourceType&&(this.form.dataSource=Number(this.form.dataSource));var e=[],t=[];return this.execConditions.forEach((function(t){delete t._uuid,e.push(t)})),this.breakConditions.forEach((function(e){delete e._uuid,t.push(e)})),p(p({},this.form),{},{execConditions:e,breakConditions:t})},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message({showClose:!0,message:"请完善信息！",type:"warning"}),!1;var n=[t.$refs.circleConditions.validate(),t.$refs.breakConditions.validate()];Promise.all(n).then((function(){t.emitData(),t.drawerVisible=!1})).catch((function(e){}))}))}},mounted:function(){this.data&&(this.form=Object.assign({},this.data),this.execConditions=Object.assign([],this.data.execConditions),this.breakConditions=Object.assign([],this.data.breakConditions))}},h=d,y=(n("4501"),n("6ed9"),n("2877")),v=Object(y["a"])(h,r,o,!1,null,"1f7c2a35",null);t["default"]=v.exports},"07d3":function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"json-schema-table"},[t("el-table",{ref:"jsonTable",staticClass:"json-table",attrs:{"row-key":"id",size:e.size,data:e.tableData,"cell-class-name":e.setCellClass,border:"","default-expand-all":""}},[t("el-table-column",{attrs:{prop:"name",label:"参数名"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-input",{staticClass:"scope-box",attrs:{size:e.size,disabled:e.disabled,placeholder:"参数名"},model:{value:n.row.name,callback:function(t){e.$set(n.row,"name",t)},expression:"scope.row.name"}})]}}])}),e.propType?e._e():[t("el-table-column",{attrs:{label:"类型",width:"121"},scopedSlots:e._u([{key:"default",fn:function(n){return[n.row.root?t("el-select",{attrs:{size:e.size,disabled:e.disabled,placeholder:"类型",filterable:""},model:{value:n.row.type,callback:function(t){e.$set(n.row,"type",t)},expression:"scope.row.type"}},e._l(e.rootTypeOptions,(function(n){return e.rootNode&&e.rootNode===n.value?t("el-option",{key:n.value,attrs:{label:n.label,value:n.value}}):e._e()})),1):e.propTypeOptions?t("el-select",{attrs:{size:e.size,disabled:e.disabled,placeholder:"类型",filterable:""},on:{change:function(t){return e.handleSelect(n.row)}},model:{value:n.row.type,callback:function(t){e.$set(n.row,"type",t)},expression:"scope.row.type"}},e._l(e.propTypeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):t("el-select",{attrs:{size:e.size,disabled:e.disabled,placeholder:"类型",filterable:""},on:{change:function(t){return e.handleSelect(n.row)}},model:{value:n.row.type,callback:function(t){e.$set(n.row,"type",t)},expression:"scope.row.type"}},e._l(e.typeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}],null,!1,1565571909)})],t("el-table-column",{attrs:{label:"必填",width:"45"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-checkbox",{attrs:{disabled:e.disabled||n.row.root},model:{value:n.row.required,callback:function(t){e.$set(n.row,"required",t)},expression:"scope.row.required"}})]}}])}),t("el-table-column",{attrs:{prop:"title",label:"中文标题"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"中文标题"},model:{value:n.row.title,callback:function(t){e.$set(n.row,"title",t)},expression:"scope.row.title"}})]}}])}),t("el-table-column",{attrs:{prop:"titleEn",label:"英文标题"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"英文标题"},model:{value:n.row.titleEn,callback:function(t){e.$set(n.row,"titleEn",t)},expression:"scope.row.titleEn"}})]}}])}),t("el-table-column",{attrs:{label:"说明"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"说明"},model:{value:n.row.description,callback:function(t){e.$set(n.row,"description",t)},expression:"scope.row.description"}})]}}])}),t("el-table-column",{attrs:{label:"操作",width:e.hasAddChildren?"220px":"160px"},scopedSlots:e._u([{key:"default",fn:function(n){return[e.hasAddChildren?[t("el-tooltip",{attrs:{content:"为Object或Array添加子层级的参数",placement:"top-start"}},[t("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(t){return e.handleAddChildren(n.row)}}},[e._v("添加子字段\n            ")])],1)]:e._e(),t("el-tooltip",{attrs:{content:"为参数补充更详细的信息",placement:"top-start"}},[t("el-button",{attrs:{size:e.size,type:"text"},on:{click:function(t){return e.handleEdit(n.row)}}},[e._v("更多设置\n          ")])],1),n.row.root?e._e():[t("el-tooltip",{attrs:{content:"插入新的参数",placement:"top-start"}},[t("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(t){return e.handleAdd(n.row)}}},[e._v("插入\n            ")])],1)],t("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(t){return e.handleDelete(n.row)}}},[e._v("删除\n        ")])]}}])}),t("template",{slot:"empty"},[t("div",{staticStyle:{padding:"20px"}},[t("avue-empty"),t("el-button",{attrs:{type:"primary",size:e.size,disabled:e.disabled},on:{click:function(t){return e.initTableData()}}},[e._v("新增数据")])],1)])],2),t("el-dialog",{staticClass:"json-schema-dialog",attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[t("el-table",{attrs:{data:e.detailData,size:"mini",border:""}},[t("el-table-column",{attrs:{prop:"name",label:"参数名"}}),t("el-table-column",{attrs:{prop:"type",label:"类型",width:"121"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.formatType(t.row.type))+"\n        ")]}}])}),t("el-table-column",{attrs:{prop:"required",label:"必填",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.required?"是":"否")+"\n        ")]}}])}),t("el-table-column",{attrs:{prop:"title",label:"中文标题"}}),t("el-table-column",{attrs:{prop:"titleEn",label:"英文标题"}}),t("el-table-column",{attrs:{prop:"description",label:"说明"}})],1),t("el-form",{ref:"detailForm",attrs:{model:e.detailForm,rules:e.rules,size:"small",disabled:e.disabled,"label-width":"100px"}},[e.showMoreRule?[t("el-form-item",{attrs:{label:"长度限制",prop:"length"}},[t("el-input-number",{attrs:{placeholder:"最小长度","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.minLength,callback:function(t){e.$set(e.detailForm,"minLength",t)},expression:"detailForm.minLength"}}),t("span",[e._v(" ~ ")]),t("el-input-number",{attrs:{placeholder:"最大长度","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.maxLength,callback:function(t){e.$set(e.detailForm,"maxLength",t)},expression:"detailForm.maxLength"}})],1),t("el-form-item",{attrs:{label:"格式限制",prop:"format"}},[t("el-select",{attrs:{placeholder:"格式限制",filterable:"",clearable:""},model:{value:e.detailForm.format,callback:function(t){e.$set(e.detailForm,"format",t)},expression:"detailForm.format"}},e._l(e.formatOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"正则限制",prop:"pattern"}},[t("el-input",{attrs:{placeholder:"正则限制",clearable:""},model:{value:e.detailForm.pattern,callback:function(t){e.$set(e.detailForm,"pattern",t)},expression:"detailForm.pattern"}})],1)]:e._e(),"number"===e.detailForm.type||"integer"===e.detailForm.type?[t("el-form-item",{attrs:{label:"数值范围",prop:"length"}},[t("el-input-number",{attrs:{placeholder:"最小值","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.minimum,callback:function(t){e.$set(e.detailForm,"minimum",t)},expression:"detailForm.minimum"}}),t("span",[e._v(" ~ ")]),t("el-input-number",{attrs:{placeholder:"最大值","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.maximum,callback:function(t){e.$set(e.detailForm,"maximum",t)},expression:"detailForm.maximum"}})],1)]:e._e(),t("el-form-item",{attrs:{label:"参数值可能性",prop:"enum"}},[e._l(e.detailForm.enum,(function(n){return t("el-tag",{key:n,attrs:{"disable-transitions":!1,closable:""},on:{close:function(t){return e.handleClose(n)}}},[e._v("\n          "+e._s(n)+"\n        ")])})),e.tagInputVisible?t("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}},model:{value:e.tagInputValue,callback:function(t){e.tagInputValue=t},expression:"tagInputValue"}}):t("el-button",{attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 新枚举值")])],2),"array"!==e.detailForm.type||e.detailForm.children&&e.detailForm.children.length?e._e():[t("el-form-item",{attrs:{label:"子字段类型",prop:"subtype"}},[t("el-select",{attrs:{placeholder:"子字段类型",filterable:"",clearable:""},model:{value:e.detailForm.items.type,callback:function(t){e.$set(e.detailForm.items,"type",t)},expression:"detailForm.items.type"}},e._l(e.typeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]],2),e.disabled?e._e():t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitDetail}},[e._v("提 交\n      ")]),t("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1)],1)],1)},o=[],i=(n("8e6e"),n("20d6"),n("4f7f"),n("5df3"),n("1c4c"),n("bd86")),a=(n("456d"),n("ac6a"),n("6b54"),n("c54a")),s=n("307b");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function e(t,n){var r=t.children;if(r&&r.length){for(var o,i=0;i<r.length;i++){if(r[i].id===n)return o=t,o;if(r[i].children&&r[i].children.length&&(o=e(r[i],n),o))return o}return o}},f={name:"json-schema-table",data:function(){return{tableData:[],typeOptions:[{value:"string",label:"string"},{value:"array",label:"array"},{value:"object",label:"object"},{value:"integer",label:"integer"},{value:"number",label:"number"},{value:"boolean",label:"boolean"}],rootTypeOptions:[{value:"object",label:"object"},{value:"array",label:"array"}],formatOptions:["date-time","time","date","email","ipv4","ipv6","uri"],id:1,detailDialog:{visible:!1,title:"详情",loading:!1},detailData:[],detailForm:{},tagInputVisible:!1,tagInputValue:""}},props:{disabled:{type:Boolean},size:{type:String,default:"mini"},rootType:{type:String},rootNode:{type:String},propType:{type:[String,Array]},propTypeOptions:{type:Array},data:{type:Object},subfields:{type:Boolean,default:!0},isHeaderParams:{type:Boolean,default:!1}},computed:{hasAddChildren:function(){return this.subfields&&!this.propType},showMoreRule:function(){return this.propType&&Array.isArray(this.propType)?this.propType.toString()===["array","string"].toString():"string"===this.detailForm.type}},watch:{data:{deep:!0,handler:function(){this.jsonToTableHandler()}}},created:function(){this.jsonToTableHandler()},methods:{formatType:function(e){return e instanceof Array?e.join(" / "):this.propType&&this.propType instanceof Array?this.propType.join(" / "):e},initTableData:function(){this.isHeaderParams?this.tableData=[{root:!!this.rootNode,required:!0,description:"",oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]}]:this.tableData=[{id:this.id++,name:"",root:!!this.rootNode,type:this.propType||this.rootNode||"string",required:!0,description:""}]},emitData:function(){var e=this.tableToJsonHandler();this.$emit("change",e),this.$emit("update:data",e)},jsonDataFilter:function(e){var t=this,n=[],r=e.items&&e.items.properties||e.properties,o=e.childRequired||e.items&&e.items.required||e.required;return r&&Object.keys(r).forEach((function(e){var i=Object.assign({name:e,id:t.id++},r[e]);if(Object(a["b"])(i.required)&&(i.childRequired=i.required),Object(a["b"])(i.type)){var s=i.type.indexOf("null");s>-1&&i.type.splice(s,1),1===i.type.length&&(i.type=i.type[0])}i.required=!(!Object(a["b"])(o)||!o.some((function(t){return t===e}))),(i.properties||i.items&&i.items.properties)&&(i.children=t.jsonDataFilter(i),delete i.items,delete i.properties,delete i.childRequired),n.push(i)})),n},jsonToTableHandler:function(){var e={},t=this.data.properties,n={};this.isHeaderParams?t&&Object.keys(t).forEach((function(e){t[e]&&(n[e]=l(l({},t[e]),t[e].items),n[e].type=["array","string"],delete n[e].oneOf)})):t&&Object.keys(t).forEach((function(e){t[e]&&(n[e]=Object(s["a"])(l(l({},t[e].items),t[e])),t[e].items&&"string"===t[e].items.type&&(Array.isArray(t[e].type)?n[e].type.push("string"):n[e].type=[t[e].type,"string"],delete n[e].items),delete n[e].oneOf)})),e=Object(s["a"])(Object.assign({},this.data,{properties:n})),this.isEmptyObj(e)?this.initTableData():(this.tableData=this.jsonDataFilter(e),this.rootNode&&this.tableData[0]&&(this.tableData[0].root=!0))},tableDataFilter:function(e){for(var t={},n=[],r=[],o=0;o<e.length;o++){var i=e[o];if(i.name){if(t.hasOwnProperty(i.name)&&r.push(i.name),t[i.name]=Object.assign({},i),i.children&&i.children.length>0){var s=this.tableDataFilter(i.children);t[i.name].properties=s.properties||s,t[i.name].required=s.required||[]}if("array"===t[i.name].type&&(this.isEmptyObj(t[i.name].properties)||(t[i.name].items={type:"object",properties:t[i.name].properties,required:t[i.name].required}),delete t[i.name].properties,delete t[i.name].required),i.required)n.push(i.name);else if(Object(a["b"])(t[i.name].type)){var u=["null"];u=u.concat(t[i.name].type),t[i.name].type=Array.from(new Set(u))}else if(t[i.name].type){var l=["null"];l.push(t[i.name].type),t[i.name].type=l}delete t[i.name].id,delete t[i.name].name,delete t[i.name].root,delete t[i.name].children,Object(a["b"])(t[i.name].required)||delete t[i.name].required}}return r&&r.length&&this.$message.warning("请注意参数[".concat(r.join(","),"]重复，后值覆盖前值")),{properties:t,required:n}},tableToJsonHandler:function(){if(this.tableData.map((function(e){return e.enum&&0===e.enum.length&&delete e.enum,e})),this.isHeaderParams){var e=["minLength","maxLength","pattern","format","enum"];this.tableData.map((function(t){var n={type:"string"};return e.forEach((function(e){t.hasOwnProperty(e)&&(n[e]=t[e],delete t[e],t.items&&delete t.items)})),t.type="array",t.items=n,delete t.oneOf,t}))}else if(this.propType&&this.propType.toString()===["array","string"].toString()){var t=["minLength","maxLength","pattern","format","enum"];this.tableData.map((function(e){var n={};return t.forEach((function(t){e.hasOwnProperty(t)&&(n[t]=e[t],e.items&&delete e.items)})),e.items=n,delete e.oneOf,e}))}var n=Object.assign({},this.tableDataFilter(this.tableData)),r=!n.required.length;return"array"===this.rootType?n={type:r?["array","null"]:["array"],items:Object.assign({type:"object"},n)}:"object"===this.rootType?n.type=r?["object","null"]:["object"]:n.type=r?["object","array","null"]:["object","array"],n},handleAdd:function(e){var t={id:this.id++,name:"",type:this.propType||"string",description:"",required:!0},n=c({id:0,children:this.tableData},e.id),r=n.children.findIndex((function(t){return t.id===e.id}));n.children.splice(r,0,t)},handleAddChildren:function(e){var t={id:this.id++,name:"",type:"string",description:"",required:!0};e.children||this.$set(e,"children",[]),"object"!==e.type&&"array"!==e.type&&this.$set(e,"type","object"),e.children.push(t)},handleDelete:function(e){var t=c({id:0,children:this.tableData},e.id),n=t.children.findIndex((function(t){return t.id===e.id}));t.children.splice(n,1)},handleSelect:function(e){!this.rootTypeOptions.some((function(t){return t.value===e.type}))&&e.children&&this.$set(e,"children",[])},handleEdit:function(e){this.detailData=[],this.detailData.push(e),this.detailForm=Object.assign({enum:[],items:{}},e),this.detailDialog.visible=!0},submitDetail:function(){var e=this;this.detailForm.items.type||delete this.detailForm.items.type;var t=c({id:0,children:this.tableData},this.detailForm.id),n=t.children.findIndex((function(t){return t.id===e.detailForm.id}));t.children[n]=Object.assign(t.children[n],this.detailForm),this.detailForm.enum.length||(delete this.detailForm.enum,delete t.children[n].enum),this.detailDialog.visible=!1},handleClose:function(e){this.detailForm.enum.splice(this.detailForm.enum.indexOf(e),1)},showInput:function(){var e=this;this.tagInputVisible=!0,this.$nextTick((function(){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){this.tagInputValue&&this.detailForm.enum.push(this.tagInputValue),this.tagInputVisible=!1,this.tagInputValue=""},isEmptyObj:function(e){var t=Object.assign({},e);return"{}"===JSON.stringify(t)},setCellClass:function(e){var t=e.columnIndex;if(0===t)return"flex-cell"}}},p=f,d=(n("0950"),n("2877")),h=Object(d["a"])(p,r,o,!1,null,null,null);t["default"]=h.exports},"0870":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("section",{attrs:{id:this.nodeId}})},o=[],i=n("f688"),a={name:"MicroVueNode",props:{model:{type:Object,default:function(){return{id:"",properties:{components:[]}}}},graphModel:{type:Object}},data:function(){return{domOperator:null,lf:null}},methods:{},computed:{nodeId:function(){return"node_".concat(Object(i["a"])(this.graphModel.nodes,this.model.id))}},mounted:function(){var e=this.graphModel.getNodeModelById(this.model.id);if(!e.virtual){var t=this;this.$data.domOperator.render("/",{lf:this.lf,model:e,graphModel:this.graphModel},document.querySelector("#"+t.nodeId))}},unmounted:function(){},watch:{}},s=a,u=n("2877"),l=Object(u["a"])(s,r,o,!1,null,"20c96e78",null);t["default"]=l.exports},"0950":function(e,t,n){"use strict";n("c641")},"0a6a":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return d}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),o=n("b5c6"),i=n("da71");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(i["a"],"/registry-config/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},l=function(e){return Object(o["a"])({url:"".concat(i["a"],"/registry-config/remove"),method:"post",params:{ids:e}})},c=function(e){return Object(o["a"])({url:"".concat(i["a"],"/registry-config/save"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(i["a"],"/registry-config/update"),method:"post",data:e})},p=function(e){return Object(o["a"])({url:"".concat(i["a"],"/registry-config/detail/").concat(e),method:"get"})},d=function(){return Object(o["a"])({url:"".concat(i["a"],"/registry-config/registry-name-list"),method:"get"})}},"0dfe":function(e,t,n){"use strict";n("d29b")},1045:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"node-request-head"},[e._v("节点ID："+e._s(e.model.id))]),t("div",{staticClass:"node-request-body"},[t("div",[e._v("\n    "+e._s(e.model.properties.serviceName?"服务名："+e.model.properties.serviceName:"")+"\n  ")]),t("div",[e._v("\n    "+e._s(e.model.properties.path?"路径："+e.model.properties.path:"")+"\n  ")])]),t("div",{staticClass:"node-request-footer"},[e.model.properties.type?t("span",{staticClass:"node-request-logo"},[e._v("\n      "+e._s(e.model.properties.type)+"\n    ")]):e._e(),t("span",{on:{click:e.onComponentClick}},[e._v("组件："+e._s(e.componentCount))])])])},o=[],i={name:"RequestVueNode",props:{model:{type:Object,default:function(){return{id:"",properties:{components:[]}}}},graphModel:{type:Object}},data:function(){return{}},methods:{onComponentClick:function(e){window.event?window.event.cancelBubble=!0:e.stopPropagation();var t=this.$props,n=t.graphModel,r=t.model,o=r.getData();return n.eventCenter.emit("node:components:click",{target:n,model:o}),!1}},computed:{componentCount:function(){return this.model.properties.components?this.model.properties.components.length:0}},mounted:function(){},watch:{}},a=i,s=n("2877"),u=Object(s["a"])(a,r,o,!1,null,"75803dc8",null);t["default"]=u.exports},"11ad":function(e,t,n){"use strict";n("c281")},"11d7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"api-detail-request"},[t("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e.hasHeader?t("el-tab-pane",{attrs:{label:"请求头",name:"header"}},[e.getParamsKeys(e.headersDef)>0?t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{attrs:{value:e.getParamsKeys(e.headersDef),max:10,type:"success"}},[e._v("请求头")])],1):e._e(),t("json-schema-table",{ref:"headersDef",attrs:{isHeaderParams:"",data:e.headersDef,disabled:e.disabled,"prop-type":["array","string"],"root-type":"object"},on:{"update:data":function(t){e.headersDef=t}}})],1):e._e(),e.hasBody?t("el-tab-pane",{attrs:{label:"请求体",name:"body"}},[e.isForm&&e.getParamsKeys(e.formBodyDef)>0?t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{attrs:{value:e.getParamsKeys(e.formBodyDef),max:10,type:"success"}},[e._v("请求体")])],1):e.isJSON&&e.checkBodyParams(e.bodyDef)||e.isXML&&e.checkBodyParams(e.xmlBodyDef)?t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{attrs:{"is-dot":""}},[e._v("请求体")])],1):e._e(),t("el-form",{attrs:{size:"mini"}},[t("el-form-item",{attrs:{label:""}},[t("el-radio-group",{model:{value:e.contentType,callback:function(t){e.contentType=t},expression:"contentType"}},[t("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),t("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")]),t("el-radio",{attrs:{label:"multipart/form-data"}},[e._v("form-data")]),t("el-radio",{attrs:{label:"application/x-www-form-urlencoded"}},[e._v("x-www-form-urlencoded")])],1)],1),e.isJSON?[t("el-form-item",{attrs:{label:"JSON根类型",prop:"bodyRootType"}},[t("el-select",{model:{value:e.bodyRootType,callback:function(t){e.bodyRootType=t},expression:"bodyRootType"}},[t("el-option",{attrs:{value:"object",label:"Object"}}),t("el-option",{attrs:{value:"array",label:"Array"}})],1)],1)]:e._e(),e.isXML?[t("el-form-item",{attrs:{label:"数组节点路径",prop:"xmlArrPaths"}},[t("el-input",{attrs:{clearable:""},model:{value:e.xmlArrPaths,callback:function(t){e.xmlArrPaths=t},expression:"xmlArrPaths"}}),t("span",{staticClass:"key-tips"},[e._v("输入XML响应体里数组节点的路径, 多个路径用逗号分隔，如：/root/data/user 用于指明user标签可能有多个要转换成一个JSON数组，而不是转换成一个JSON对象 。此字段仅在响应体为XML时有效。")])],1),t("div",{staticClass:"key-tips"},[e._v("\n            网关接收到XML后会把它转换为JSON，入参按转换后的JSON配置，"),t("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("请参考XML和JSON间的转换规则")]),e._v("。\n          ")],1)]:e._e()],2),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isJSON,expression:"isJSON"}]},[t("json-schema-table",{ref:"bodyDef",attrs:{data:e.bodyDef,disabled:e.disabled,"root-type":e.bodyRootType},on:{"update:data":function(t){e.bodyDef=t}}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isXML,expression:"isXML"}]},[t("json-schema-table",{ref:"xmlBodyDef",attrs:{data:e.xmlBodyDef,disabled:e.disabled,"prop-type-options":e.xmlTypeOptions,"root-node":"object"},on:{"update:data":function(t){e.xmlBodyDef=t}}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isForm,expression:"isForm"}]},[t("json-schema-table",{ref:"formBodyDef",attrs:{data:e.formBodyDef,disabled:e.disabled,"prop-type":["array","string"],"root-type":"object"},on:{"update:data":function(t){e.formBodyDef=t}}})],1)],1):e._e(),e.hasQuery?t("el-tab-pane",{attrs:{label:"Query参数",name:"params"}},[e.getParamsKeys(e.paramsDef)>0?t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{attrs:{value:e.getParamsKeys(e.paramsDef),max:10,type:"success"}},[e._v("Query参数")])],1):e._e(),t("json-schema-table",{ref:"paramsDef",attrs:{isHeaderParams:"",data:e.paramsDef,disabled:e.disabled,"prop-type":["array","string"],"root-type":"object"},on:{"update:data":function(t){e.paramsDef=t}}})],1):e._e(),e.hasScript?t("el-tab-pane",{attrs:{label:"脚本校验",name:"script"}},[e.scriptId?t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{attrs:{"is-dot":""}},[e._v("脚本校验")])],1):e._e(),t("el-form",{attrs:{"label-width":"80px",size:"small"}},[t("el-form-item",{attrs:{label:"脚本配置"}},[e.scriptId?t("div",[e.scriptId?t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openScript()}}},[e._v("\n              "+e._s("{ aggregate_config_script_id: ".concat(e.scriptId," }"))+"\n            ")]):e._e(),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteScript(e.scriptId)}}},[e._v("\n              删除\n            ")])],1):t("el-button",{attrs:{type:"text",disabled:e.disabled},on:{click:function(t){return e.openScript()}}},[e._v("\n            "+e._s(e.disabled?"无":"新增")+"\n          ")]),t("script-dialog",{attrs:{default:"validate",visible:e.scriptVisible,content:e.scriptContent,"business-type":e.businessType,disabled:e.disabled,id:e.scriptId,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:visible":function(t){e.scriptVisible=t},"update:content":function(t){e.scriptContent=t},"update:id":function(t){e.scriptId=t}}})],1)],1)],1):e._e(),t("el-tab-pane",{attrs:{label:"语言配置",name:"lang"}},[e.langForm.key||e.langForm.zh||e.langForm.en?t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{attrs:{"is-dot":""}},[e._v("语言配置")])],1):e._e(),t("el-form",{ref:"langForm",attrs:{model:e.langForm,rules:e.langRules,size:"small",disabled:e.disabled,"label-width":"60px"}},[t("el-form-item",{attrs:{label:"字段",prop:"key"}},[t("el-input",{attrs:{placeholder:"请输入入参字段（例：input.request.body.languageCode"},model:{value:e.langForm.key,callback:function(t){e.$set(e.langForm,"key",t)},expression:"langForm.key"}},[t("el-popover",{attrs:{slot:"append",trigger:"hover",content:"通过该入参字段设置提示语言"},slot:"append"},[t("el-button",{attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1),t("el-form-item",{attrs:{label:"中文",prop:"zh"}},[t("el-input",{attrs:{type:"number"===e.langForm.zhType?"number":"text",placeholder:"请输入字段值（例：0 或 zh"},model:{value:e.langForm.zh,callback:function(t){e.$set(e.langForm,"zh",t)},expression:"langForm.zh"}},[t("el-select",{staticStyle:{width:"150px"},attrs:{slot:"prepend",placeholder:"请选择数据类型"},on:{change:function(t){return e.changeParamsType("zh")}},slot:"prepend",model:{value:e.langForm.zhType,callback:function(t){e.$set(e.langForm,"zhType",t)},expression:"langForm.zhType"}},e._l(e.langParamsType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-popover",{attrs:{slot:"append",trigger:"hover",content:"语言与入参字段值映射关系"},slot:"append"},[t("el-button",{attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1),t("el-form-item",{attrs:{label:"英文",prop:"en"}},[t("el-input",{attrs:{type:"number"===e.langForm.enType?"number":"text",placeholder:"请输入字段值（例：1 或 en"},model:{value:e.langForm.en,callback:function(t){e.$set(e.langForm,"en",t)},expression:"langForm.en"}},[t("el-select",{staticStyle:{width:"150px"},attrs:{slot:"prepend",placeholder:"请选择数据类型"},on:{change:function(t){return e.changeParamsType("en")}},slot:"prepend",model:{value:e.langForm.enType,callback:function(t){e.$set(e.langForm,"enType",t)},expression:"langForm.enType"}},e._l(e.langParamsType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-popover",{attrs:{slot:"append",trigger:"hover",content:"语言与入参字段值映射关系"},slot:"append"},[t("el-button",{attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1)],1)],1)],1),t("xml-info",{attrs:{visible:e.xmlInoVisible},on:{"update:visible":function(t){e.xmlInoVisible=t}}})],1)},o=[],i=(n("8e6e"),n("7618")),a=(n("6762"),n("2fdb"),n("c5f6"),n("ac6a"),n("456d"),n("bd86")),s=n("4627"),u=n("2fa9"),l=n("07d3"),c=n("921f"),f=n("5880");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"api-detail-request",data:function(){return{activeTab:"header",editorHeight:400,headersDef:{},bodyDef:{},xmlBodyDef:{},formBodyDef:{},paramsDef:{},scriptValidate:{},scriptVisible:!1,scriptId:"",scriptContent:"",langForm:{},langParamsType:[{label:"number",value:"number"},{label:"string",value:"string"}],bodyRootType:"object",contentType:"application/json",xmlArrPaths:"",xmlInoVisible:!1,xmlTypeOptions:[{value:"string",label:"string"},{value:"array",label:"array"},{value:"object",label:"object"}]}},props:{data:{type:Object,default:function(){return{}}},lang:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},hasHeader:{type:Boolean,default:!0},hasBody:{type:Boolean,default:!0},hasQuery:{type:Boolean,default:!0},hasScript:{type:Boolean,default:!0},businessType:{type:String},isDelScriptWithHttp:{type:Boolean,default:!0}},computed:d(d({},Object(f["mapGetters"])(["apiScriptType"])),{},{isJSON:function(){return"application/json"===this.contentType},isXML:function(){return"application/xml"===this.contentType},isForm:function(){return"multipart/form-data"===this.contentType||"application/x-www-form-urlencoded"===this.contentType},dataObj:function(){var e={};return this.hasHeader&&(e.headersDef=this.headersDef||{}),this.hasBody&&(this.isXML?e.bodyDef=this.xmlBodyDef||{}:this.isForm?e.bodyDef=this.formBodyDef||{}:e.bodyDef=this.bodyDef||{}),this.hasQuery&&(e.paramsDef=this.paramsDef||{}),this.hasScript&&(e.scriptValidate=this.scriptId?{aggregate_config_script_id:this.scriptId}:{}),e.contentType=this.contentType,e.xmlArrPaths=this.xmlArrPaths,e}}),components:{dataEditor:s["default"],scriptDialog:u["default"],jsonSchemaTable:l["default"],xmlInfo:c["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},lang:{immediate:!0,deep:!0,handler:function(e){this.initLangData(e)}},scriptValidate:{immediate:!0,deep:!0,handler:function(e){var t=e&&"string"===typeof e?JSON.parse(e):e;this.scriptId=t["aggregate_config_script_id"]||""}},dataObj:{deep:!0,handler:function(){this.emitData()}}},methods:d(d({},Object(f["mapActions"])(["removeScript"])),{},{getParamsKeys:function(e){var t=Object.keys(e.properties||{})||[];return t.length},checkBodyParams:function(e){var t=Object.keys(e.items&&e.items.properties||e.properties||e||{})||[];return!!t.length},getJson:function(){this.$refs.headersDef&&this.$refs.headersDef.emitData(),this.$refs.paramsDef&&this.$refs.paramsDef.emitData(),this.$refs.bodyDef&&this.$refs.bodyDef.emitData(),this.$refs.xmlBodyDef&&this.$refs.xmlBodyDef.emitData(),this.$refs.formBodyDef&&this.$refs.formBodyDef.emitData(),this.emitData()},emitData:function(){this.$emit("update:data",this.dataObj)},emitLangData:function(){var e={langParam:this.langForm.key,langMapping:{zh:"number"===this.langForm.zhType?Number(this.langForm.zh):this.langForm.zh,en:"number"===this.langForm.enType?Number(this.langForm.en):this.langForm.en}};this.$emit("update:lang",e)},initData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||this.data,this.contentType=e.contentType||"application/json",this.xmlArrPaths=e.xmlArrPaths||"",this.headersDef=e.headersDef||{},this.paramsDef=e.paramsDef||{},this.scriptValidate=e.scriptValidate||{},this.isXML?this.xmlBodyDef=e.bodyDef||{}:this.isForm?this.formBodyDef=e.bodyDef||{}:(this.bodyDef=e.bodyDef||{},this.bodyRootType=e.bodyDef&&e.bodyDef.items?"array":"object")},initLangData:function(){var e=Object.assign({langParam:"",langMapping:{zh:null,en:null}},this.lang||{}),t={key:e.langParam||"",zh:e.langMapping.zh,en:e.langMapping.en};t.zhType=["number","string"].includes(Object(i["a"])(t.zh))?Object(i["a"])(t.zh):"string",t.enType=["number","string"].includes(Object(i["a"])(t.en))?Object(i["a"])(t.en):"string",this.langForm=t},validateForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"langForm";this.emitLangData();var t=!0;return this.$refs[e].validate((function(e){t=e})),t},changeParamsType:function(e){if(!e)return!1;this.langForm[e]=""},openScript:function(){this.scriptVisible=!0},deleteScript:function(e){var t=this;this.$confirm("确定删除该脚本?",{type:"warning"}).then((function(){t.isDelScriptWithHttp?t.removeScript(e).then((function(){t.scriptId="",t.$message.success("删除成功")})):(t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),t.scriptId="",t.$message.success("删除成功"))}))}})},y=h,v=(n("6a0f"),n("0dfe"),n("2877")),g=Object(v["a"])(y,r,o,!1,null,"1d107bc7",null);t["default"]=g.exports},"12c8":function(e,t,n){},1620:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));n("8e6e"),n("456d"),n("20d6"),n("28a5"),n("7f7f"),n("a481");var r=n("bd86"),o=n("75fc");n("6762"),n("2fdb"),n("ac6a"),n("5df3"),n("f400");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,n){return d=p()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),i=new o;return n&&f(i,n.prototype),i},d.apply(null,arguments)}function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function y(e){var t="function"===typeof Map?new Map:void 0;return y=function(e){if(null===e||!h(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)},y(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function b(e){var t=p();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function m(e){return _(e)||O(e)||w(e)||j()}function _(e){if(Array.isArray(e))return x(e)}function O(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function w(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}var E=Object.prototype.hasOwnProperty;function P(e,t){return e=e.slice(),e.push(t),e}function k(e,t){return t=t.slice(),t.unshift(e),t}var T=function(e){l(n,e);var t=b(n);function n(e){var r;return a(this,n),r=t.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),r.avoidNew=!0,r.value=e,r.name="NewError",r}return u(n)}(y(Error));function D(e,t,n,r,o){if(!(this instanceof D))try{return new D(e,t,n,r,o)}catch(l){if(!l.avoidNew)throw l;return l.value}"string"===typeof e&&(o=r,r=n,n=t,t=e,e=null);var a=e&&"object"===i(e);if(e=e||{},this.json=e.json||n,this.path=e.path||t,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!E.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||r||null,this.otherTypeCallback=e.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){var s={path:a?e.path:t};a?"json"in e&&(s.json=e.json):s.json=n;var u=this.evaluate(s);if(!u||"object"!==i(u))throw new T(u);return u}}D.prototype.evaluate=function(e,t,n,r){var o=this,a=this.parent,s=this.parentProperty,u=this.flatten,l=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,t=t||this.json,e=e||this.path,e&&"object"===i(e)&&!Array.isArray(e)){if(!e.path&&""!==e.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!E.call(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');var c=e;t=c.json,u=E.call(e,"flatten")?e.flatten:u,this.currResultType=E.call(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=E.call(e,"sandbox")?e.sandbox:this.currSandbox,l=E.call(e,"wrap")?e.wrap:l,this.currPreventEval=E.call(e,"preventEval")?e.preventEval:this.currPreventEval,n=E.call(e,"callback")?e.callback:n,this.currOtherTypeCallback=E.call(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,a=E.call(e,"parent")?e.parent:a,s=E.call(e,"parentProperty")?e.parentProperty:s,e=e.path}if(a=a||null,s=s||null,Array.isArray(e)&&(e=D.toPathString(e)),(e||""===e)&&t){var f=D.toPathArray(e);"$"===f[0]&&f.length>1&&f.shift(),this._hasParentSelector=null;var p=this._trace(f,t,["$"],a,s,n).filter((function(e){return e&&!e.isParentSelector}));return p.length?l||1!==p.length||p[0].hasArrExpr?p.reduce((function(e,t){var n=o._getPreferredOutput(t);return u&&Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]):this._getPreferredOutput(p[0]):l?[]:void 0}},D.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":var n=Array.isArray(e.path)?e.path:D.toPathArray(e.path);return e.pointer=D.toPointer(n),e.path="string"===typeof e.path?e.path:D.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return D.toPathString(e[t]);case"pointer":return D.toPointer(e.path);default:throw new TypeError("Unknown result type")}},D.prototype._handleCallback=function(e,t,n){if(t){var r=this._getPreferredOutput(e);e.path="string"===typeof e.path?e.path:D.toPathString(e.path),t(r,n,e)}},D.prototype._trace=function(e,t,n,r,o,a,s,u){var l,c=this;if(!e.length)return l={path:n,value:t,parent:r,parentProperty:o,hasArrExpr:s},this._handleCallback(l,a,"value"),l;var f=e[0],p=e.slice(1),d=[];function h(e){Array.isArray(e)?e.forEach((function(e){d.push(e)})):d.push(e)}if(("string"!==typeof f||u)&&t&&E.call(t,f))h(this._trace(p,t[f],P(n,f),t,f,a,s));else if("*"===f)this._walk(t,(function(e){h(c._trace(p,t[e],P(n,e),t,e,a,!0,!0))}));else if(".."===f)h(this._trace(p,t,n,r,o,a,s)),this._walk(t,(function(r){"object"===i(t[r])&&h(c._trace(e.slice(),t[r],P(n,r),t,r,a,!0))}));else{if("^"===f)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:p,isParentSelector:!0};if("~"===f)return l={path:P(n,f),value:o,parent:r,parentProperty:null},this._handleCallback(l,a,"property"),l;if("$"===f)h(this._trace(p,t,n,null,null,a,s));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(f))h(this._slice(f,p,t,n,r,o,a));else if(0===f.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var y=f.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(t,(function(e){c._eval(y,t[e],e,n,r,o)&&h(c._trace(p,t[e],P(n,e),t,e,a,!0))}))}else if("("===f[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");h(this._trace(k(this._eval(f,t,n[n.length-1],n.slice(0,-1),r,o),p),t,n,r,o,a,s))}else if("@"===f[0]){var v=!1,g=f.slice(1,-2);switch(g){case"scalar":t&&["object","function"].includes(i(t))||(v=!0);break;case"boolean":case"string":case"undefined":case"function":i(t)===g&&(v=!0);break;case"integer":!Number.isFinite(t)||t%1||(v=!0);break;case"number":Number.isFinite(t)&&(v=!0);break;case"nonFinite":"number"!==typeof t||Number.isFinite(t)||(v=!0);break;case"object":t&&i(t)===g&&(v=!0);break;case"array":Array.isArray(t)&&(v=!0);break;case"other":v=this.currOtherTypeCallback(t,n,r,o);break;case"null":null===t&&(v=!0);break;default:throw new TypeError("Unknown value type "+g)}if(v)return l={path:n,value:t,parent:r,parentProperty:o},this._handleCallback(l,a,"value"),l}else if("`"===f[0]&&t&&E.call(t,f.slice(1))){var b=f.slice(1);h(this._trace(p,t[b],P(n,b),t,b,a,s,!0))}else if(f.includes(",")){var m,_=f.split(","),O=S(_);try{for(O.s();!(m=O.n()).done;){var w=m.value;h(this._trace(k(w,p),t,n,r,o,a,!0))}}catch(C){O.e(C)}finally{O.f()}}else!u&&t&&E.call(t,f)&&h(this._trace(p,t[f],P(n,f),t,f,a,s,!0))}if(this._hasParentSelector)for(var x=0;x<d.length;x++){var j=d[x];if(j&&j.isParentSelector){var T=this._trace(j.expr,t,j.path,r,o,a,s);if(Array.isArray(T)){d[x]=T[0];for(var D=T.length,N=1;N<D;N++)x++,d.splice(x,0,T[N])}else d[x]=T}}return d},D.prototype._walk=function(e,t){if(Array.isArray(e))for(var n=e.length,r=0;r<n;r++)t(r);else e&&"object"===i(e)&&Object.keys(e).forEach((function(e){t(e)}))},D.prototype._slice=function(e,t,n,r,o,i,a){if(Array.isArray(n)){var s=n.length,u=e.split(":"),l=u[2]&&Number.parseInt(u[2])||1,c=u[0]&&Number.parseInt(u[0])||0,f=u[1]&&Number.parseInt(u[1])||s;c=c<0?Math.max(0,c+s):Math.min(s,c),f=f<0?Math.max(0,f+s):Math.min(s,f);for(var p=[],d=c;d<f;d+=l){var h=this._trace(k(d,t),n,r,o,i,a,!0);h.forEach((function(e){p.push(e)}))}return p}},D.prototype._eval=function(e,t,n,r,o,i){this.currSandbox._$_parentProperty=i,this.currSandbox._$_parent=o,this.currSandbox._$_property=n,this.currSandbox._$_root=this.json,this.currSandbox._$_v=t;var a=e.includes("@path");a&&(this.currSandbox._$_path=D.toPathString(r.concat([n])));var s="script:"+e;if(!D.cache[s]){var u=e.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");a&&(u=u.replace(/@path/g,"_$_path")),D.cache[s]=new this.vm.Script(u)}try{return D.cache[s].runInNewContext(this.currSandbox)}catch(l){throw new Error("jsonPath: "+l.message+": "+e)}},D.cache={},D.toPathString=function(e){for(var t=e,n=t.length,r="$",o=1;o<n;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[o])||(r+=/^[\*0-9]+$/.test(t[o])?"["+t[o]+"]":"['"+t[o]+"']");return r},D.toPointer=function(e){for(var t=e,n=t.length,r="",o=1;o<n;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[o])||(r+="/"+t[o].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return r},D.toPathArray=function(e){var t=D.cache;if(t[e])return t[e].concat();var n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,(function(e,t){return"[#"+(n.push(t)-1)+"]"})).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,(function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"})).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,(function(e,t){return";"+t.split("").join(";")+";"})).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,""),o=r.split(";").map((function(e){var t=e.match(/#([0-9]+)/);return t&&t[1]?n[t[1]]:e}));return t[e]=o,t[e].concat()};var N=function(e,t,n){for(var r=e.length,o=0;o<r;o++){var i=e[o];n(i)&&t.push(e.splice(o--,1)[0])}},C=function(){function e(t){a(this,e),this.code=t}return u(e,[{key:"runInNewContext",value:function(e){var t=this.code,n=Object.keys(e),r=[];N(n,r,(function(t){return"function"===typeof e[t]}));var o=n.map((function(t,n){return e[t]})),i=r.reduce((function(t,n){var r=e[n].toString();return/function/.test(r)||(r="function "+r),"var "+n+"="+r+";"+t}),"");t=i+t,/(["'])use strict\1/.test(t)||n.includes("arguments")||(t="var arguments = undefined;"+t),t=t.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"");var a=t.lastIndexOf(";"),s=a>-1?t.slice(0,a+1)+" return "+t.slice(a+1):" return "+t;return d(Function,n.concat([s])).apply(void 0,m(o))}}]),e}();D.prototype.vm={Script:C};var A=n("25cb");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["b"]=function(){var e=[],t=[],n=new A["a"],r=0;return{getNodesBeforeNodeId:function(e,t,r,o){var i=n.toLogicflowData({nodes:t,edges:r}),a={type:"CONTAINER",nodes:t,name:"rootContainer"},s=new Map;i.nodes.forEach((function(e){s.set(e.id,e)}));var u=this.traverseNode(e,a,i.nodes,i.edges,s);return null!=o&&(u=u.filter((function(e){return!o.includes[e.type]}))),u},getParent:function(e,t){if(!e)return null;var n=t.filter((function(t){return"CONTAINER"==t.type&&t.children&&t.children.length>0&&t.children.includes(e.id)}));return n.length>0?n[0]:null},traverseContainer:function(e,t,n,r,i){var a=this,s=[];return e.children&&e.children.length>0&&e.children.forEach((function(e){var u=i.get(e);if("START"!==u.type&&"END"!==u.type&&(s.push(u),"CONTAINER"==u.type)){var l=a.traverseContainer(u,t,n,r,i);s=[].concat(Object(o["a"])(s),Object(o["a"])(l))}})),s},traverseBanch:function(e,t,n,r,i){var a=this,s=r.filter((function(t){return t.targetNodeId==e})),u=[];return s.forEach((function(e){var s=i.get(e.sourceNodeId);if("START"!==s.type&&"END"!==s.type&&(u.push(s),"CONTAINER"==s.type)){var l=a.traverseContainer(s,t,n,r,i);u=[].concat(Object(o["a"])(u),Object(o["a"])(l))}var c=a.traverseBanch(e.sourceNodeId,t,n,r,i);u=[].concat(Object(o["a"])(u),Object(o["a"])(c))})),u},traverseNode:function(e,t,n,r,i){var a=[],s=i.get(e),u=this.traverseBanch(e,t,n,r,i);a=Object(o["a"])(u);var l=this.getParent(s,n);if(l){var c=this.traverseNode(l.id,t,n,r,i);a=[].concat(Object(o["a"])(a),Object(o["a"])(c))}return a},replace:function(e){var t=I({},e);return D({path:"$..*[?(typeof @ === 'string'&& @.match(/step\\d+\\.request\\d\\./))]",resultType:"all",callback:function(e,t,n){var r=e.parent,o=e.parentProperty,i=e.value;r[o]=i.replace(/^(step\d+)\.(request\d+)\./,"node.$1_$2.")},json:t}),D({path:"$..*[?(typeof @ === 'string'&& @.match(/step\\d+\\./))]",resultType:"all",callback:function(e,t,n){var r=e.parent,o=e.parentProperty,i=e.value;r[o]=i.replace(/^(step\d+)\./,"node.$1.")},json:t}),t},update:function(n){e=[],t=[],n=this.replace(n),this.parseNode(n.stepConfigs);var r=I({},n),o={nodes:e,edges:t},i=new A["a"],a=i.toTurboData(o);return r.nodes=a.nodes,r.edges=a.edges,r.aggrVersion="3.0",r},generateId:function(){return r++,r},parseRequest:function(n,r,o){var i=this,a=n.requests,s=o,u=[];if(0==a.length)return{children:u,width:r,height:o};var l={id:n.name+"_startEvent_"+this.generateId(),type:"START",x:r,y:o,properties:{},text:{value:"开始"}};r+=150,u.push(l.id),e.push(l);var c=0,f="endEvent_"+this.generateId();o-=100*(a.length-1)/2,a.forEach((function(a){o+=100*c;var s={id:n.name+"_"+a.name,type:"REQUEST",x:r,y:o,properties:I({},a)},p={id:i.generateId(),type:"bezier",sourceNodeId:l.id,targetNodeId:s.id};t.push(p),t.push({id:i.generateId(),type:"bezier",sourceNodeId:s.id,targetNodeId:f}),u.push(s.id),e.push(s),c++}));var p={id:f,type:"END",x:r+150,y:s,properties:{},text:{value:"结束"}};return e.push(p),u.push(p.id),{children:u,width:r,height:o}},parseNode:function(n){var r=this;if(n&&0!=n.length){var o=180,i=220,a={id:"startEvent_"+this.generateId(),type:"START",x:o,y:i,properties:{},text:{value:"开始"}},s=400;e.push(a);var u=a;o-=s/2,n.forEach((function(n){o+=s+100;var a={id:n.name,type:"CONTAINER",x:o,y:i,properties:{components:n.components,dataMapping:n.dataMapping,stop:n.stop}},l={id:r.generateId(),type:"bezier",sourceNodeId:u.id,targetNodeId:a.id};t.push(l);var c=r.parseRequest(n,o-s/2+50,i),f=c.children,p=(c.width,c.height),d={width:s,height:p};a.children=f,a.properties.nodeSize=d,u=a,e.push(a)}));var l={id:"endEvent_"+this.generateId(),type:"END",x:o+s/2+100,y:i,properties:{},text:{value:"结束"}};t.push({id:this.generateId(),type:"bezier",sourceNodeId:u.id,targetNodeId:l.id}),e.push(l)}}}}();function R(e,t,n,r){if(e.forEach((function(e,t){"condition"===e.type&&(++t,e.name&&parseInt(e.name.split("判断条件")[1])>t&&e.name.split("判断条件")[1])})),"add"===n){var o=e.findIndex((function(e){return"circle"===e.type}));o>-1?e.splice(e.length-1,0,t):e.splice(e.length,0,t)}else e.splice(r,1,t)}},1763:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-drawer",{ref:"apiDrawer",attrs:{"append-to-body":"","before-close":e.handleClose,title:"添加"+e.typeName+"接口",size:"50%",visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[t("div",[t("div",{staticStyle:{"padding-bottom":"50px"}},[t("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad}})],1),t("footer",{staticClass:"drawer-footer"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleConfirm()}}},[e._v("确 定")]),t("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取 消")])],1)])])},o=[],i=(n("ac6a"),n("adc3")),a={data:function(){return{loading:!0,query:{},page:{pageSize:10,currentPage:1,total:0},option:{size:"mini",border:!0,selection:!0,tip:!1,columnBtn:!1,addBtn:!1,menu:!1,searchMenuSpan:12,column:[{label:"服务类型",prop:"type",type:"radio",dicData:[{label:"Dubbo",value:1},{label:"gRPC",value:2}],searchSpan:12,search:!1,hide:!0},{label:"服务名",prop:"service",search:!0,searchSpan:12},{label:"描述",prop:"description",search:!1},{label:"方法名",prop:"method",search:!0,searchSpan:12},{label:"接口名称",prop:"name",search:!0,searchSpan:12},{label:"版本",prop:"version",search:!0,searchSpan:12},{label:"分组",prop:"group",search:!0,searchSpan:12},{label:"参数类型",prop:"paramTypes",overHidden:!0,searchSpan:12},{label:"备注",prop:"note",overHidden:!0}]},data:[],selectionList:[]}},props:{visible:{type:Boolean,default:!1},type:{type:String,default:"DUBBO"},selection:{type:[Object,Array]}},computed:{ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},typeCode:function(){return("DUBBO"===this.type?1:"GRPC"===this.type&&2)||""},typeName:function(){return("DUBBO"===this.type?" Dubbo ":"GRPC"===this.type&&" gRPC ")||" RPC "}},watch:{typeCode:function(e,t){e!==t&&(this.onLoad(this.page),this.initOption())},visible:function(e){e||this.selectionClear()}},mounted:function(){this.initOption()},methods:{initOption:function(){var e=this;this.option.column=this.option.column.map((function(t){return"version"!==t.prop&&"group"!==t.prop&&"paramTypes"!==t.prop||(t.hide=2===e.typeCode),"type"===t.prop&&(t.hide=!!e.typeCode,t.search=!e.typeCode),t}))},handleClose:function(e){this.$emit("update:visible",!1),e&&e()},handleConfirm:function(){1===this.selectionList.length?(this.$emit("confirm",this.selectionList),this.handleClose()):this.$message.warning("只能选择一条数据")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,e=e||this.page,n.type=n.type||this.typeCode,Object(i["d"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},s=a,u=(n("b9d6"),n("2877")),l=Object(u["a"])(s,r,o,!1,null,"2079c476",null);t["default"]=l.exports},"195e":function(e,t,n){},"1cb7":function(e,t,n){var r=n("bf0b"),o=n("53e2"),i=n("07e3"),a=n("63b6"),s=n("f772"),u=n("e4ae");function l(e,t){var n,a,c=arguments.length<3?e:arguments[2];return u(e)===c?e[t]:(n=r.f(e,t))?i(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:s(a=o(e))?l(a,t,c):void 0}a(a.S,"Reflect",{get:l})},"1d2c":function(e,t,n){},"1da2":function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("basic-container",[t("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,"before-close":e.beforeClose,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"name",fn:function(n){var r=n.row;return[e.permissionList.apiAuthority?t("span",{staticClass:"text-link",on:{click:function(t){return e.goApiList(r)}}},[e._v(e._s(r.name))]):t("span",[e._v(e._s(r.name))])]}},{key:"menu",fn:function(n){var r=n.row,o=n.type,i=n.size;return[e.permissionList.authorityBtn?t("el-button",{attrs:{icon:"el-icon-setting",size:i,type:o},on:{click:function(t){return e.handleAuthority(r)}}},[e._v("权限")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[t("template",{slot:"menuLeft"},[e.permissionList.delBtn?t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2),t("el-dialog",{attrs:{title:"["+e.authorityName+"]用户权限配置","append-to-body":"","custom-class":"authority-dialog",visible:e.authorityDialog,width:"400px"},on:{"update:visible":function(t){e.authorityDialog=t}}},[t("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleUserCheckAll},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),t("el-checkbox-group",{on:{change:e.handleCheckedUser},model:{value:e.checkedUser,callback:function(t){e.checkedUser=t},expression:"checkedUser"}},e._l(e.userList,(function(n,r){return t("el-checkbox",{key:r,attrs:{label:n.userId}},[e._v(e._s(n.userName))])})),1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(t){e.authorityDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.authoritySubmit}},[e._v("确 定")])],1)],1)],1)},o=[],i=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("bd86")),a=n("a378"),s=n("5880");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={data:function(){return{form:{},query:{},loading:!0,treeProps:{label:"userName",value:"userId"},checkAll:!1,isIndeterminate:!0,authorityId:"",authorityName:"",authorityDialog:!1,userList:[],checkedUser:[],page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{dialogWidth:900,labelWidth:100,border:!0,tip:!1,index:!0,selection:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",column:[{label:"服务名",prop:"name",search:!0,slot:!0,rules:[{required:!0,message:"必填",trigger:"blur"}],placeholder:"请输入 服务名，如：user-service"},{label:"服务描述",prop:"title",search:!0,searchLabelWidth:88,rules:[{required:!0,message:"必填",trigger:"blur"}],placeholder:"请输入 服务描述，如：用户服务"},{label:"团队",prop:"team",search:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"负责人",prop:"personInCharge",search:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"备注",prop:"description",span:24,overHidden:!0,minRows:6,type:"textarea",placeholder:" "}]},data:[],historyRoute:null}},computed:l(l({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.aggregate_service_add,!1),delBtn:this.vaildData(this.permission.aggregate_service_delete,!1),editBtn:this.vaildData(this.permission.aggregate_service_edit,!1),authorityBtn:this.vaildData(this.permission.aggregate_service_authority,!1),apiAuthority:this.vaildData(this.permission.aggregate_api,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),beforeRouteEnter:function(e,t,n){n((function(n){e.query&&e.query.add&&(n.historyRoute=t,n.$refs.crud.rowAdd())}))},methods:{goApiList:function(e){e.name&&this.$router.push({path:"/aggregate/api",query:{serviceName:e.name}})},handleAuthority:function(e){var t=this;this.authorityId=e.id,this.authorityName=e.name,this.checkedUser=[],Object(a["e"])(this.authorityId).then((function(e){t.userList=e.data.data,t.userList.forEach((function(e){1===e.hasPrivilege&&t.checkedUser.push(e.userId)})),t.handleCheckedUser(t.checkedUser),t.authorityDialog=!0}))},handleUserCheckAll:function(e){if(e){var t=[];this.userList.forEach((function(e){t.push(e.userId)})),this.checkedUser=t}else this.checkedUser=[];this.isIndeterminate=!1},handleCheckedUser:function(e){var t=e.length;this.checkAll=t===this.userList.length,this.isIndeterminate=t>0&&t<this.userList.length},authoritySubmit:function(){var e=this,t={serviceId:this.authorityId,userIds:this.checkedUser};Object(a["f"])(t).then((function(){e.authorityDialog=!1,e.$message({type:"success",message:"操作成功!"})}))},rowSave:function(e,t,n){var r=this;e.name&&(e.name=e.name.trim()),Object(a["a"])(e).then((function(){t(),r.$message({type:"success",message:"保存成功"}),r.$route.query&&r.$route.query.add?(r.$router.$avueRouter.closeTag(),r.$router.push("/aggregate/service")):r.onLoad(r.page)}),(function(e){n(),window.console.log(e)}))},rowUpdate:function(e,t,n,r){var o=this;e.name&&(e.name=e.name.trim()),Object(a["h"])(e).then((function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"修改成功"})}),(function(e){r(),window.console.log(e)}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(a["g"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(a["g"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"删除成功"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(a["c"])(this.form.id).then((function(e){n.form=e.data.data})),e()},beforeClose:function(e,t){e(),"add"===t&&this.$route.query&&this.$route.query.add&&(this.$router.$avueRouter.closeTag(),this.$router.push(this.historyRoute.fullPath))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(a["d"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},f=c,p=(n("bd6d"),n("2877")),d=Object(p["a"])(f,r,o,!1,null,null,null);t["default"]=d.exports},"1df8":function(e,t,n){var r=n("63b6");r(r.S,"Object",{setPrototypeOf:n("ead6").set})},"1dfc":function(e,t,n){},2190:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"api-detail-response"},[t("data-params",e._b({attrs:{"header-name":"响应头","body-name":"响应体","has-query":!1,data:e.response,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(t){e.response=t}}},"data-params",e.$attrs,!1))],1)},o=[],i=n("942a"),a={name:"api-detail-validate",data:function(){return{response:{}}},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{dataParams:i["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},response:{deep:!0,handler:function(){this.emitData()}}},methods:{emitData:function(){this.$emit("update:data",this.response)},initData:function(e){this.response=e||this.data||{}}}},s=a,u=n("2877"),l=Object(u["a"])(s,r,o,!1,null,"d220a3e4",null);t["default"]=l.exports},2420:function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"api-detail-base"},[t("el-form",{ref:"baseForm",attrs:{model:e.baseForm,rules:e.rules,size:"small",disabled:e.disabled,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"所属服务",prop:"serviceId"}},[t("el-select",{attrs:{placeholder:"请选择所属服务",filterable:""},on:{change:e.getServiceName},model:{value:e.baseForm.serviceId,callback:function(t){e.$set(e.baseForm,"serviceId",t)},expression:"baseForm.serviceId"}},e._l(e.aggregateServiceOptions,(function(e,n){return t("el-option",{key:n,attrs:{label:e.value,value:e.id}})})),1),!e.disabled&&e.permissionList.serviceAddBtn?t("span",{staticClass:"add-service",on:{click:function(t){return e.goAddService()}}},[e._v("新增服务")]):e._e()],1),t("el-form-item",{attrs:{label:"接口描述",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入接口描述，如：用户详情接口"},model:{value:e.baseForm.name,callback:function(t){e.$set(e.baseForm,"name",t)},expression:"baseForm.name"}})],1),t("el-form-item",{attrs:{label:"方法",prop:"method"}},[t("el-select",{attrs:{placeholder:"请选择方法"},model:{value:e.baseForm.method,callback:function(t){e.$set(e.baseForm,"method",t)},expression:"baseForm.method"}},e._l(e.apiMethod,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"路径",prop:"path"}},[t("el-input",{attrs:{placeholder:"请输入接口路径（例：/member/getMebInfo"},model:{value:e.baseForm.path,callback:function(t){e.$set(e.baseForm,"path",t)},expression:"baseForm.path"}}),t("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("（例：/member/getMebInfo）")])],1),t("el-form-item",{attrs:{label:"开发人员",prop:"developer"}},[t("el-input",{attrs:{placeholder:"请输入开发人员"},model:{value:e.baseForm.developer,callback:function(t){e.$set(e.baseForm,"developer",t)},expression:"baseForm.developer"}})],1),t("el-form-item",{attrs:{label:"备注",prop:"description"}},[t("el-input",{attrs:{type:"textarea",placeholder:""},model:{value:e.baseForm.description,callback:function(t){e.$set(e.baseForm,"description",t)},expression:"baseForm.description"}})],1)],1)],1)},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("bd86")),a=n("5880"),s=n("16cd");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={name:"api-detail-base",data:function(){return{baseForm:{},rules:{serviceId:[{required:!0,message:"请选择所属服务",trigger:"change"}],name:[{required:!0,message:"请输入接口描述",trigger:"blur"}],title:[{required:!0,message:"请输入接口中文名",trigger:"blur"}],method:[{required:!0,message:"请选择方法",trigger:"change"}],path:[{required:!0,message:"请输入路径",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"}]}}},props:{data:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},computed:l(l({},Object(a["mapGetters"])(["apiMethod","aggregateServiceOptions","permission"])),{},{permissionList:function(){return{serviceAddBtn:this.vaildData(this.permission.aggregate_service_add,!1)}}}),watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}}},created:function(){this.getAggregateServiceOptions()},methods:l(l({},Object(a["mapActions"])(["getAggregateServiceOptions"])),{},{goAddService:function(){this.$router.push({path:"/aggregate/service",query:{add:1}})},emitData:function(){this.$emit("update:data",Object(s["c"])(this.baseForm))},validateForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"baseForm";this.emitData();var t=!0;return this.$refs[e].validate((function(e){t=e})),t},getServiceName:function(e){e&&(this.baseForm.serviceName=this.aggregateServiceOptions.find((function(t){return t.id===e})).value||"")},initData:function(e){this.baseForm=e||this.data||{id:"",serviceId:"",name:"",title:"",method:"",path:"",developer:"",description:"",serviceName:""}}})},f=c,p=(n("967e"),n("2877")),d=Object(p["a"])(f,r,o,!1,null,"d68abc54",null);t["default"]=d.exports},"2478d":function(e,t,n){"use strict";n("9d74")},"25b0":function(e,t,n){n("1df8"),e.exports=n("584a").Object.setPrototypeOf},"25cb":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("8e6e"),n("456d");var r=n("a8db"),o=(n("5df3"),n("f400"),n("bd86")),i=(n("6762"),n("2fdb"),n("75fc")),a=(n("7f7f"),n("ac6a"),n("d225")),s=n("b0b4"),u=(n("0e0b"),["sourceNodeId","targetNodeId"]),l=["name"],c=["nodes"],f=["sourceNodeName","targetNodeName"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){function e(){Object(a["a"])(this,e),this.errors=[]}return Object(s["a"])(e,[{key:"getErrors",value:function(){return this.errors}},{key:"parseGroup",value:function(e,t,n,r){if(e){var o={isParallel:!0,type:"CONTAINER",nodes:[],name:r};return this.parseNode(e,o,t,n),o}return null}},{key:"parseNode",value:function(e,t,n,r){if(!e||e.id){var o=r.filter((function(t){return t.sourceNodeId==e.id})),i=null;"START"==e.type&&(i={properties:e.properties,type:e.type,name:e.id,x:e.x,y:e.y,text:{value:"开始"}},t.nodes.push(i)),o.length>0&&(t.isParallel=!0,this.traveserBranch(o,r,n,t))}}},{key:"traveserBranch",value:function(e,t,n,r){var o=this,a=null;e.forEach((function(e){var s=[e],u=n.get(e.targetNodeId);if("END"==u.type||"START"==u.type){a={properties:u.properties,name:u.id,type:u.type,x:u.x,y:u.y,text:{value:"START"==u.type?"开始":"结束"}};var l=r.nodes.filter((function(e){return e.name==a.name}));0==l.length&&r.nodes.push(a)}else if("CONTAINER"==u.type){var c=null;if(u.children&&u.children.length>0){var f=Object(i["a"])(n.values()).filter((function(e){return u.children.includes(e.id)&&"START"==e.type}));if(f&&f.length>0){var p=f[0];c=o.parseGroup(p,n,t,u.id);var h=t.filter((function(e){return u.children.includes(e.targetNodeId)||u.children.includes(e.sourceNodeId)}));h=h.map((function(e){return{targetNodeName:e.targetNodeId,sourceNodeName:e.sourceNodeId}})),c=d({properties:u.properties,x:u.x,y:u.y,edges:h},c);var y=r.nodes.filter((function(e){return e.name==c.name}));0==y.length&&r.nodes.push(c)}else o.errors.push("容器:"+u.id+"中无法找到开始节点")}else{c={name:u.id,properties:u.properties,x:u.x,y:u.y,type:"CONTAINER"};var v=r.nodes.filter((function(e){return e.name==c.name}));0==v.length&&r.nodes.push(c)}}else{var g={properties:u.properties,type:u.type,name:u.id,x:u.x,y:u.y},b=r.nodes.filter((function(e){return e.name==g.name}));0==b.length&&r.nodes.push(g)}u&&(s=t.filter((function(e){return e.sourceNodeId==u.id})),o.traveserBranch(s,t,n,r))}))}},{key:"getStartNode",value:function(e){var t=e.nodes.filter((function(e){return"START"==e.type})),n=e.nodes.filter((function(e){return"CONTAINER"==e.type})),r=[];if(n.forEach((function(e){e.children.forEach((function(e){t.forEach((function(t){e==t.id&&r.push(e)}))}))})),t=t.filter((function(e){return!r.includes(e.id)})),t.length>0){var o=t[0];return o}return console.error("can't find entrance"),null}},{key:"toTurboData",value:function(e){this.errors=[];var t=new Map,n={nodes:[],edges:[]};if(e.nodes.forEach((function(e){t.set(e.id,e)})),e.nodes.length>0){var o=this.getStartNode(e),i=this.parseGroup(o,t,e.edges,"rootContainer");if(i){n.nodes=i.nodes;var a=this.toLogicflowData({nodes:i.nodes,edges:[]}),s=e.nodes.filter((function(e){var t=a.nodes.filter((function(t){return t.id==e.id}));return 0==t.length})),l=s.map((function(e){return e.id}));l.length>0&&this.errors.push("找到未连线的ID："+l.join("、")+"，继续保存将丢失")}else console.error("无法找到有效节点"),n.nodes=[]}else n.nodes=[];return n.edges=e.edges.map((function(e){var t=d(d({},e),{},{sourceNodeName:e.sourceNodeId,targetNodeName:e.targetNodeId}),n=(t.sourceNodeId,t.targetNodeId,Object(r["a"])(t,u));return n})),n}},{key:"traveserNode",value:function(e){var t=this,n=[];return e.forEach((function(e){if(e){e=d({id:e.name},e);var o=e,a=(o.name,Object(r["a"])(o,l));switch(e=a,e.type){case"CONTAINER":e.nodes&&(e.children=e.nodes.map((function(e){return e.name})));var s=e,u=s.nodes,f=Object(r["a"])(s,c);if(n.push(f),u){var p=t.traveserNode(u);n=[].concat(Object(i["a"])(n),Object(i["a"])(p))}else e.children=[];break;case"START":case"END":case"REQUEST":default:n.push(e);break}}})),n}},{key:"toLogicflowData",value:function(e){var t=e||{},n=t.nodes,o=t.edges;if(n.length>0){var i=this.traveserNode(n);return o=o.map((function(e){var t=d(d({},e),{},{sourceNodeId:e.sourceNodeName?e.sourceNodeName:e.sourceNodeId,targetNodeId:e.targetNodeName?e.targetNodeName:e.targetNodeId}),n=(t.sourceNodeName,t.targetNodeName,Object(r["a"])(t,f));return n})),o=o.filter((function(e){var t=i.filter((function(t){return t.id==e.targetNodeId})),n=i.filter((function(t){return t.id==e.sourceNodeId}));return t&&t.length>0&&n&&n.length>0})),{nodes:i,edges:o}}return{nodes:[],edges:[]}}}]),e}(),y=function(){function e(t){var n=t.lf;Object(a["a"])(this,e),n.adapterIn=this.adapterIn,n.adapterOut=this.adapterOut,n.turboTransform=new h}return Object(s["a"])(e,[{key:"adapterOut",value:function(e){if(e)return this.turboTransform.toTurboData(e)}},{key:"adapterIn",value:function(e){if(e){var t=this.turboTransform.toLogicflowData(e);return t}}}]),e}();Object(o["a"])(y,"pluginName","turboAdapter"),t["b"]=y},"26ee":function(e,t,n){"use strict";var r=n("5ea3"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r["a"]||o||Function("return this")();t["a"]=i},"278e":function(e,t,n){},"2ad2":function(e,t,n){},"2b3f":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),o=n("b5c6"),i=n("da71");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(i["a"],"/blade-aggregate-config-history/aggregateconfighistory/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},l=function(e){return Object(o["a"])({url:"".concat(i["a"],"/blade-aggregate-config-history/aggregateconfighistory/detail"),method:"get",params:{id:e}})},c=function(e){var t=e.id,n=e.remark;return Object(o["a"])({url:"".concat(i["a"],"/aggregate/rollbackSpecific"),method:"post",params:{id:t,remark:n}})}},"2f74":function(e,t,n){"use strict";function r(){return!1}t["a"]=r},"2fa9":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.title,"append-to-body":"",visible:e.visible,"before-close":e.handleClose,width:"900px"},on:{"update:visible":function(t){e.visible=t}}},[t("div",{staticClass:"tips-area"},[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openTipsDialog("common.v3")}}},[e._v("common.v3.js")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openTipsDialog("context.v3")}}},[e._v("context.v3.js")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openTipsDialog("common")}}},[e._v("common.js")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openTipsDialog("context")}}},[e._v("context.js")])],1),t("el-form",{ref:"scriptForm",attrs:{model:e.scriptForm,"label-width":"80px",size:"small"}},[t("el-form-item",{attrs:{label:"脚本类型",required:""}},[t("el-select",{attrs:{placeholder:"请选择脚本类型",disabled:e.disabled||e.type},on:{change:e.changeType},model:{value:e.script.type,callback:function(t){e.$set(e.script,"type",t)},expression:"script.type"}},e._l(e.apiScriptType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:"javascript"===e.script.type,expression:"script.type === 'javascript'"}],staticClass:"warn-msg",attrs:{closable:!1,type:"warning","show-icon":"",title:"注意：只支持 ES5 语法，不支持ES6及以上语法"}})],1),t("el-form-item",{attrs:{label:"脚本内容",required:""}},[t("code-editor",{attrs:{height:e.editorHeight,content:e.script.source},on:{"update:content":function(t){return e.$set(e.script,"source",t)},change:e.changeCode}})],1),e.disabled?e._e():t("el-form-item",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFn()}}},[e._v("确定")]),e.id?t("el-button",{on:{click:function(t){return e.deleteFn()}}},[e._v("删除")]):e._e()],1)],1),t("el-dialog",{attrs:{width:"600px",title:e.tipsDialog.title,visible:e.tipsDialog.visible,"append-to-body":""},on:{"update:visible":function(t){return e.$set(e.tipsDialog,"visible",t)}}},[t("code-highlight",{attrs:{height:e.editorHeight,code:e.tipsDialog.content}})],1)],1)},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),a=(n("c5f6"),n("5880")),s=n("c735"),u=n("9470"),l=n("d480"),c={commonV3JS:"/**\r\n * context 上下文便捷操作函数（v3）\r\n *\r\n */\r\nvar common = {\r\n    /* *********** private function begin *********** */\r\n\r\n    /**\r\n     * 获取上下文中客户端请求对象\r\n     * @param {*} ctx 上下文 【必填】\r\n     */\r\n    getInputReq: function (ctx){\r\n        if(!ctx || !ctx['input'] || !ctx['input']['request']){\r\n            return {};\r\n        }\r\n        return ctx['input']['request']\r\n    },\r\n\r\n    /**\r\n     * 获取上下文节点请求接口的请求对象\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} nodeName 节点名称 【必填】\r\n     */\r\n    getNodeReq: function (ctx, nodeName){\r\n        if(!ctx || !nodeName){\r\n            return {};\r\n        }\r\n        if(!ctx['node'] || !ctx['node'][nodeName] || !ctx['node'][nodeName]['request']){\r\n            return {};\r\n        }\r\n        return ctx['node'][nodeName]['request'];\r\n    },\r\n\r\n    /**\r\n     * 获取上下文节点中请求接口的响应对象\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} nodeName 节点名称 【必填】\r\n     */\r\n    getNodeResp: function (ctx, nodeName){\r\n      if(!ctx || !nodeName){\r\n        return {};\r\n      }\r\n      if(!ctx['node'] || !ctx['node'][nodeName] || !ctx['node'][nodeName]['response']){\r\n        return {};\r\n      }\r\n      return ctx['node'][nodeName]['response'];\r\n    },\r\n\r\n    /* *********** private function end *********** */\r\n\r\n    /* *********** input begin ************ */\r\n\r\n    /**\r\n     * 获取客户端请求头\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} headerName 请求头字段名 【选填】，不传时返回所有请求头\r\n     */\r\n    getInputReqHeader: function (ctx, headerName){\r\n        var req = this.getInputReq(ctx);\r\n        var headers = req['headers'] || {};\r\n        return headerName ? headers[headerName.toUpperCase()] : headers;\r\n    },\r\n\r\n    /**\r\n     * 获取客户端URL请求参数（query string）\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} paramName URL参数名 【选填】，不传时返回所有请求参数\r\n     */\r\n    getInputReqParam: function (ctx, paramName){\r\n        var req = this.getInputReq(ctx);\r\n        var params = req['params'] || {};\r\n        return paramName ? params[paramName] : params;\r\n    },\r\n\r\n    /**\r\n     * 获取客户端请求体\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} field 字段名 【选填】，不传时返回整个请求体\r\n     */\r\n    getInputReqBody: function (ctx, field){\r\n        var req = this.getInputReq(ctx);\r\n        var body = req['body'] || {};\r\n        return field ? body[field] : body;\r\n    },\r\n\r\n    /**\r\n     * 获取返回给客户端的响应头\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} headerName 响应头字段名 【选填】，不传时返回所有响应头\r\n     */\r\n    getInputRespHeader: function (ctx, headerName){\r\n        var req = this.getInputReq(ctx);\r\n        var headers = req['headers'] || {};\r\n        return headerName ? headers[headerName.toUpperCase()] : headers;\r\n    },\r\n\r\n    /**\r\n     * 获取返回给客户端的响应体\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} field 字段名 【选填】，不传时返回整个响应体\r\n     */\r\n    getInputRespBody: function (ctx, field){\r\n        var req = this.getInputReq(ctx);\r\n        var body = req['body'] || {};\r\n        return field ? body[field] : body;\r\n    },\r\n\r\n    /* *********** input begin ************ */\r\n\r\n    /* *********** node request begin ************ */\r\n\r\n    /**\r\n     * 获取节点中调用的接口的请求头\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} nodeName 节点名称 【必填】\r\n     * @param {*} headerName 请求头字段名 【选填】，不传时返回所有请求头\r\n     */\r\n    getNodeReqHeader: function (ctx, nodeName, headerName){\r\n        var req = this.getNodeReq(ctx, nodeName);\r\n        var headers = req['headers'] || {};\r\n        return headerName ? headers[headerName.toUpperCase()] : headers;\r\n    },\r\n\r\n    /**\r\n     * 获取节点中调用的接口的URL参数\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} nodeName 节点名称 【必填】\r\n     * @param {*} paramName URL参数名 【选填】，不传时返回所有URL参数\r\n     */\r\n    getNodeReqParam: function (ctx, nodeName, paramName){\r\n        var req = this.getNodeReq(ctx, nodeName);\r\n        var params = req['params'] || {};\r\n        return paramName ? params[paramName] : params;\r\n    },\r\n\r\n    /**\r\n     * 获取节点中调用的接口的请求体\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} nodeName 节点名称 【必填】\r\n     * @param {*} field 字段名 【选填】，不传时返回整个请求体\r\n     */\r\n    getNodeReqBody: function (ctx, nodeName, field){\r\n        var req = this.getNodeReq(ctx, nodeName);\r\n        var body = req['body'] || {};\r\n        return field ? body[field] : body;\r\n    },\r\n\r\n    /**\r\n     * 获取节点中调用的接口的响应头\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} nodeName 节点名称 【必填】\r\n     * @param {*} headerName 响应头字段名 【选填】，不传时返回所有响应头\r\n     */\r\n    getNodeRespHeader: function (ctx, nodeName, headerName){\r\n        var resp = this.getNodeResp(ctx, nodeName);\r\n        var headers = resp['headers'] || {};\r\n        return headerName ? headers[headerName.toUpperCase()] : headers;\r\n    },\r\n\r\n    /**\r\n     * 获取节点中调用的接口的响应体\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} nodeName 节点名称 【必填】\r\n     * @param {*} field 字段名 【选填】，不传时返回整个响应体\r\n     */\r\n    getNodeRespBody: function (ctx, nodeName, field){\r\n        var resp = this.getNodeResp(ctx, nodeName);\r\n        var body = resp['body'] || {};\r\n        return field ? body[field] : body;\r\n    },\r\n\r\n    /**\r\n     * 获取节点结果\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} nodeName 节点名称 【必填】\r\n     * @param {*} field 字段名 【选填】，不传时返回整个节点结果对象\r\n     */\r\n    getNodeResult: function (ctx, nodeName, field){\r\n        if(!ctx || !nodeName || !ctx['node'] || !ctx['node'][nodeName]){\r\n            return {};\r\n        }\r\n        var result = ctx['node'][nodeName]['result'] || {};\r\n        return field ? result[field] : result;\r\n    },\r\n\r\n    /**\r\n     * 获取节点循环结果\r\n     * @param {*} ctx 上下文 【必填】\r\n     * @param {*} nodeName 节点名称 【必填】\r\n     */\r\n    getNodeCircle: function (ctx, nodeName){\r\n        if(!ctx || !nodeName || !ctx['node'] || !ctx['node'][nodeName]){\r\n            return null;\r\n        }\r\n        // 返回循环结果数组\r\n        return ctx['node'][nodeName]['circle'];\r\n    }\r\n\r\n    /* *********** node request end ************ */\r\n\r\n    ,/**\r\n       ** 乘法函数，用来得到精确的乘法结果\r\n       ** 说明：javascript的乘法结果会有误差，在两个浮点数相乘的时候会比较明显。这个函数返回较为精确的乘法结果。\r\n       ** 调用：accMul(arg1,arg2)\r\n       ** 返回值：arg1乘以 arg2的精确结果\r\n       **/\r\n      accMul:function (arg1, arg2) {\r\n      var m = 0, s1 = arg1.toString(), s2 = arg2.toString();\r\n      try {\r\n        m += s1.split(\".\")[1].length;\r\n      } catch (e) {\r\n      }\r\n      try {\r\n        m += s2.split(\".\")[1].length;\r\n      } catch (e) {\r\n      }\r\n      return Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\"))\r\n        / Math.pow(10, m);\r\n    },\r\n\r\n      /**\r\n       ** 除法函数，用来得到精确的除法结果\r\n       ** 说明：javascript的除法结果会有误差，在两个浮点数相除的时候会比较明显。这个函数返回较为精确的除法结果。\r\n       ** 调用：accDiv(arg1,arg2)\r\n       ** 返回值：arg1除以arg2的精确结果\r\n       **/\r\n      accDiv:function (arg1, arg2) {\r\n      var t1 = 0, t2 = 0, r1, r2;\r\n      try {\r\n        t1 = arg1.toString().split(\".\")[1].length;\r\n      } catch (e) {\r\n      }\r\n      try {\r\n        t2 = arg2.toString().split(\".\")[1].length;\r\n      } catch (e) {\r\n      }\r\n      with (Math) {\r\n        r1 = Number(arg1.toString().replace(\".\", \"\"));\r\n        r2 = Number(arg2.toString().replace(\".\", \"\"));\r\n        return (r1 / r2) * pow(10, t2 - t1);\r\n      }\r\n    }\r\n\r\n\r\n};\r\n\r\n\r\n",contextV3JS:'// 上下文数据结构设计\r\n// 上下文，用于保存客户输入输出和每个步骤的输入与输出结果\r\nvar context = {\r\n    // 是否DEBUG模式\r\n    debug:false,\r\n        \r\n    // 各个操作的耗时\r\n    elapsedTimes: [{\r\n        [actionName]: 123, // 操作名称:耗时\r\n    }],\r\n    \r\n    // exception info\r\n    exceptionMessage: "",\r\n    exceptionStacks: "",\r\n    exceptionData: "", // such as script source code that cause exception\r\n    \r\n        \r\n    // 客户输入和接口的返回结果\r\n    input: {\r\n        request:{\r\n            path: "",\r\n            method: "GET/POST",\r\n            headers: {},\r\n            body: {},\r\n            params: {}\r\n        },\r\n        response: { // 聚合接口的响应\r\n            headers: {},\r\n            body: {}\r\n        }\r\n    },\r\n\r\n    // 节点数据\r\n    node: {\r\n        // 请求节点\r\n        REQUEST_101: {\r\n            // 请求相关参数\r\n            request:{\r\n                url: "",\r\n                method: "GET/POST",\r\n                headers: {},\r\n                body: {}\r\n            },\r\n            // 根据转换规则转换后的接口响应\r\n            response: {\r\n                headers: {},\r\n                body: {}\r\n            },\r\n            // 请求循环组件当前循环对象\r\n            item: null,\r\n            // 请求循环组件当前循环对象的下标\r\n            index: null,\r\n            // 请求循环的结果\r\n            circle: [{\r\n                // 循环对象\r\n                item: null,\r\n                // 循环对象的下标\r\n                index: null,\r\n                // 请求相关参数\r\n                request:{\r\n                    url: "",\r\n                    method: "GET/POST",\r\n                    headers: {},\r\n                    body: {}\r\n                },\r\n                // 根据转换规则转换后的接口响应\r\n                response: {\r\n                    headers: {},\r\n                    body: {}\r\n                }\r\n            }],\r\n            // 条件组件的执行结果\r\n            conditionResults: [\r\n                {\'我的条件1\': true}\r\n            ]\r\n        },\r\n        // 容器节点\r\n        CONTAINER_1: {\r\n            node: {\r\n                // 请求节点1\r\n                request1: {\r\n                    // 请求相关参数\r\n                    request:{\r\n                        url: "",\r\n                        method: "GET/POST",\r\n                        headers: {},\r\n                        body: {}\r\n                    },\r\n                    // 根据转换规则转换后的接口响应\r\n                    response: {\r\n                        headers: {},\r\n                        body: {}\r\n                    },\r\n                    // 请求循环组件当前循环对象\r\n                    item: null,\r\n                    // 请求循环组件当前循环对象的下标\r\n                    index: null,\r\n                    // 请求循环的结果\r\n                    circle: [{\r\n                        // 循环对象\r\n                        item: null,\r\n                        // 循环对象的下标\r\n                        index: null,\r\n                        // 请求相关参数\r\n                        request:{\r\n                            url: "",\r\n                            method: "GET/POST",\r\n                            headers: {},\r\n                            body: {}\r\n                        },\r\n                        // 根据转换规则转换后的接口响应\r\n                        response: {\r\n                            headers: {},\r\n                            body: {}\r\n                        }\r\n                    }],\r\n                    // 条件组件的执行结果\r\n                    conditionResults: [\r\n                        {\'我的条件1\': true}\r\n                    ]\r\n                },\r\n                // 请求节点2\r\n                request2: {\r\n                    request:{\r\n                        url: "",\r\n                        method: "GET/POST",\r\n                        headers: {},\r\n                        body: {}\r\n                    },\r\n                    response: {\r\n                    headers: {},\r\n                        body: {}\r\n                    },\r\n                    // 请求循环组件当前循环对象\r\n                    item: null,\r\n                    // 请求循环组件当前循环对象的下标\r\n                    index: null,\r\n                    // 请求循环的结果\r\n                    circle: [{\r\n                        // 循环对象\r\n                        item: null,\r\n                        // 循环对象的下标\r\n                        index: null,\r\n                        // 请求相关参数\r\n                        request:{\r\n                            url: "",\r\n                            method: "GET/POST",\r\n                            headers: {},\r\n                            body: {}\r\n                        },\r\n                        // 根据转换规则转换后的接口响应\r\n                        response: {\r\n                            headers: {},\r\n                            body: {}\r\n                        }\r\n                    }],\r\n                    // 条件组件的执行结果\r\n                    conditionResults: [\r\n                        {\'我的条件1\': true}\r\n                    ]\r\n                }\r\n                //...\r\n            },\r\n    \r\n            // 步骤结果\r\n            result: {},\r\n            // 步骤循环组件当前循环对象\r\n            item: null,\r\n            // 步骤循环组件当前循环对象的下标\r\n            index: null,\r\n            // 步骤循环的结果\r\n            circle:[{\r\n                // 循环对象\r\n                item: null,\r\n                // 循环对象的下标\r\n                index: null,\r\n                // 步骤结果\r\n                result: {}\r\n            }] \r\n        }\r\n    }\r\n}',commonJS:"/**\r\n * context 上下文便捷操作函数\r\n *\r\n */\r\n var common = {\r\n  /* *********** private function begin *********** */\r\n\r\n  /**\r\n   * 获取上下文中客户端请求对象\r\n   * @param {*} ctx 上下文 【必填】\r\n   */\r\n  getInputReq: function (ctx){\r\n      if(!ctx || !ctx['input'] || !ctx['input']['request']){\r\n          return {};\r\n      }\r\n      return ctx['input']['request']\r\n  },\r\n\r\n  /**\r\n   * 获取上下文步骤中请求接口的请求对象\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名称 【必填】\r\n   * @param {*} requestName 请求名称 【必填】\r\n   */\r\n  getStepReq: function (ctx, stepName, requestName){\r\n      if(!ctx || !stepName || !requestName){\r\n          return {};\r\n      }\r\n      if(!ctx[stepName] || !ctx[stepName]['requests'] || !ctx[stepName]['requests'][requestName] ||\r\n          !ctx[stepName]['requests'][requestName]['request']){\r\n          return {};\r\n      }\r\n      return ctx[stepName]['requests'][requestName]['request'];\r\n  },\r\n\r\n  /**\r\n   * 获取上下文步骤中请求接口的响应对象\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名称 【必填】\r\n   * @param {*} requestName 请求名称 【必填】\r\n   */\r\n  getStepResp: function (ctx, stepName, requestName){\r\n      if(!ctx || !stepName || !requestName){\r\n          return {};\r\n      }\r\n      if(!ctx[stepName] || !ctx[stepName]['requests'] || !ctx[stepName]['requests'][requestName] ||\r\n          !ctx[stepName]['requests'][requestName]['response']){\r\n          return {};\r\n      }\r\n      return ctx[stepName]['requests'][requestName]['response'];\r\n  },\r\n\r\n  /* *********** private function end *********** */\r\n\r\n  /* *********** input begin ************ */\r\n\r\n  /**\r\n   * 获取客户端请求头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} headerName 请求头字段名 【选填】，不传时返回所有请求头\r\n   */\r\n  getInputReqHeader: function (ctx, headerName){\r\n      var req = this.getInputReq(ctx);\r\n      var headers = req['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取客户端URL请求参数（query string）\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} paramName URL参数名 【选填】，不传时返回所有请求参数\r\n   */\r\n  getInputReqParam: function (ctx, paramName){\r\n      var req = this.getInputReq(ctx);\r\n      var params = req['params'] || {};\r\n      return paramName ? params[paramName] : params;\r\n  },\r\n\r\n  /**\r\n   * 获取客户端请求体\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个请求体\r\n   */\r\n  getInputReqBody: function (ctx, field){\r\n      var req = this.getInputReq(ctx);\r\n      var body = req['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /**\r\n   * 获取返回给客户端的响应头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} headerName 响应头字段名 【选填】，不传时返回所有响应头\r\n   */\r\n  getInputRespHeader: function (ctx, headerName){\r\n      var req = this.getInputReq(ctx);\r\n      var headers = req['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取返回给客户端的响应体\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个响应体\r\n   */\r\n  getInputRespBody: function (ctx, field){\r\n      var req = this.getInputReq(ctx);\r\n      var body = req['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /* *********** input begin ************ */\r\n\r\n  /* *********** step request begin ************ */\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的请求头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} headerName 请求头字段名 【选填】，不传时返回所有请求头\r\n   */\r\n  getStepReqHeader: function (ctx, stepName, requestName, headerName){\r\n      var req = this.getStepReq(ctx, stepName, requestName);\r\n      var headers = req['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的URL参数\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} paramName URL参数名 【选填】，不传时返回所有URL参数\r\n   */\r\n  getStepReqParam: function (ctx, stepName, requestName, paramName){\r\n      var req = this.getStepReq(ctx, stepName, requestName);\r\n      var params = req['params'] || {};\r\n      return paramName ? params[paramName] : params;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的请求体\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个请求体\r\n   */\r\n  getStepReqBody: function (ctx, stepName, requestName, field){\r\n      var req = this.getStepReq(ctx, stepName, requestName);\r\n      var body = req['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的响应头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} headerName 响应头字段名 【选填】，不传时返回所有响应头\r\n   */\r\n  getStepRespHeader: function (ctx, stepName, requestName, headerName){\r\n      var resp = this.getStepResp(ctx, stepName, requestName);\r\n      var headers = resp['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的响应头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个响应头\r\n   */\r\n  getStepRespBody: function (ctx, stepName, requestName, field){\r\n      var resp = this.getStepResp(ctx, stepName, requestName);\r\n      var body = resp['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤结果\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个步骤结果对象\r\n   */\r\n  getStepResult: function (ctx, stepName, field){\r\n      if(!ctx || !stepName || !ctx[stepName]){\r\n          return {};\r\n      }\r\n      var result = ctx[stepName]['result'] || {};\r\n      return field ? result[field] : result;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤循环结果\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   */\r\n  getStepCircle: function (ctx, stepName){\r\n      if(!ctx || !stepName || !ctx[stepName]){\r\n          return null;\r\n      }\r\n      // 返回循环结果数组\r\n      return ctx[stepName]['circle'];\r\n  },\r\n\r\n  /**\r\n   * 获取请求的循环结果\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   */\r\n  getRequestCircle: function (ctx, stepName, requestName){\r\n      if(!ctx || !stepName || !requestName){\r\n          return null;\r\n      }\r\n      if(!ctx[stepName] || !ctx[stepName]['requests'] || !ctx[stepName]['requests'][requestName] ||\r\n          !ctx[stepName]['requests'][requestName]['request']){\r\n          return null;\r\n      }\r\n      // 返回循环结果数组\r\n      return ctx[stepName]['requests'][requestName]['circle'];\r\n  }\r\n\r\n  /* *********** step request end ************ */\r\n\r\n  ,/**\r\n     ** 乘法函数，用来得到精确的乘法结果\r\n     ** 说明：javascript的乘法结果会有误差，在两个浮点数相乘的时候会比较明显。这个函数返回较为精确的乘法结果。\r\n     ** 调用：accMul(arg1,arg2)\r\n     ** 返回值：arg1乘以 arg2的精确结果\r\n     **/\r\n    accMul:function (arg1, arg2) {\r\n    var m = 0, s1 = arg1.toString(), s2 = arg2.toString();\r\n    try {\r\n      m += s1.split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    try {\r\n      m += s2.split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    return Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\"))\r\n      / Math.pow(10, m);\r\n  },\r\n\r\n    /**\r\n     ** 除法函数，用来得到精确的除法结果\r\n     ** 说明：javascript的除法结果会有误差，在两个浮点数相除的时候会比较明显。这个函数返回较为精确的除法结果。\r\n     ** 调用：accDiv(arg1,arg2)\r\n     ** 返回值：arg1除以arg2的精确结果\r\n     **/\r\n    accDiv:function (arg1, arg2) {\r\n    var t1 = 0, t2 = 0, r1, r2;\r\n    try {\r\n      t1 = arg1.toString().split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    try {\r\n      t2 = arg2.toString().split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    with (Math) {\r\n      r1 = Number(arg1.toString().replace(\".\", \"\"));\r\n      r2 = Number(arg2.toString().replace(\".\", \"\"));\r\n      return (r1 / r2) * pow(10, t2 - t1);\r\n    }\r\n  }\r\n\r\n\r\n};\r\n\r\n\r\n",contextJS:'// 上下文数据结构设计\r\n// 上下文，用于保存客户输入输出和每个步骤的输入与输出结果\r\nvar context = {\r\n\t// 是否DEBUG模式\r\n\tdebug:false,\r\n\t\t\r\n\t// 各个操作的耗时\r\n\telapsedTimes: [{\r\n\t\t[actionName]: 123, // 操作名称:耗时\r\n\t}],\r\n\t\r\n\t// exception info\r\n\texceptionMessage: "",\r\n\texceptionStacks: "",\r\n\texceptionData: "", // such as script source code that cause exception\r\n\t\r\n\t\t\r\n    // 客户输入和接口的返回结果\r\n    input: {\r\n        request:{\r\n        \tpath: "",\r\n            method: "GET/POST",\r\n            headers: {},\r\n            body: {},\r\n            params: {}\r\n        },\r\n        response: { // 聚合接口的响应\r\n            headers: {},\r\n            body: {}\r\n        }\r\n    },\r\n\r\n    // 步骤\r\n    step1: {\r\n        requests: {\r\n        \t// 接口1\r\n            request1: {\r\n            \t// 请求相关参数\r\n                request:{\r\n                    url: "",\r\n                    method: "GET/POST",\r\n                    headers: {},\r\n                    body: {}\r\n                },\r\n                // 根据转换规则转换后的接口响应\r\n                response: {\r\n                    headers: {},\r\n                    body: {}\r\n                },\r\n                // 请求循环组件当前循环对象\r\n                item: null,\r\n                // 请求循环组件当前循环对象的下标\r\n                index: null,\r\n                // 请求循环的结果\r\n                circle: [{\r\n                    // 循环对象\r\n                    item: null,\r\n                    // 循环对象的下标\r\n                    index: null,\r\n                    // 请求相关参数\r\n                    request:{\r\n                        url: "",\r\n                        method: "GET/POST",\r\n                        headers: {},\r\n                        body: {}\r\n                    },\r\n                    // 根据转换规则转换后的接口响应\r\n                    response: {\r\n                        headers: {},\r\n                        body: {}\r\n                    }\r\n                }],\r\n                // 条件组件的执行结果\r\n                conditionResults: [\r\n                \t{\'我的条件1\': true}\r\n                ]\r\n            },\r\n            // 接口2\r\n            request2: {\r\n                request:{\r\n                    url: "",\r\n                    method: "GET/POST",\r\n                    headers: {},\r\n                    body: {}\r\n                },\r\n                response: {\r\n                headers: {},\r\n                    body: {}\r\n                },\r\n                // 请求循环组件当前循环对象\r\n                item: null,\r\n                // 请求循环组件当前循环对象的下标\r\n                index: null,\r\n                // 请求循环的结果\r\n                circle: [{\r\n                    // 循环对象\r\n                    item: null,\r\n                    // 循环对象的下标\r\n                    index: null,\r\n                    // 请求相关参数\r\n                    request:{\r\n                        url: "",\r\n                        method: "GET/POST",\r\n                        headers: {},\r\n                        body: {}\r\n                    },\r\n                    // 根据转换规则转换后的接口响应\r\n                    response: {\r\n                        headers: {},\r\n                        body: {}\r\n                    }\r\n                }],\r\n                // 条件组件的执行结果\r\n                conditionResults: [\r\n                \t{\'我的条件1\': true}\r\n                ]\r\n            }\r\n            //...\r\n        },\r\n\r\n        // 步骤结果\r\n        result: {},\r\n\t\t// 步骤循环组件当前循环对象\r\n        item: null,\r\n        // 步骤循环组件当前循环对象的下标\r\n        index: null,\r\n        // 步骤循环的结果\r\n        circle:[{\r\n            // 循环对象\r\n            item: null,\r\n            // 循环对象的下标\r\n            index: null,\r\n            // 步骤结果\r\n            result: {}\r\n        }] \r\n    }\r\n}',defaultGroovyJS:"// context为内置的上下文变量，详情请参考com.fizzgate.aggregate.core.flow.FlowContext类实现 \r\n// def data = context.getStepRespBody('step2', 'request1', 'data') // v2 \r\n// def nodeData = context.getNode('request1') // v3 \r\n \r\n// do something \r\n \r\n// 自定义返回结果，如果返回的Object里含有_stopAndResponse=true字段时将会终止请求并把脚本结果响应给客户端（主要用于有异常情况要终止请求的场景） \r\ndef result = [ \r\n    // _stopAndResponse: true, \r\n    msgCode: '0', \r\n    message: '', \r\n    data: null \r\n] \r\n \r\n// 将处理结果返回 \r\nreturn result",defaultScriptJS:"// javascript脚本函数名不能修改\r\nfunction dyFunc(paramsJsonStr) {\r\n    // 上下文, 数据结构请参考 context.js\r\n    var context = JSON.parse(paramsJsonStr)['context'];\r\n    // common为内置的上下文便捷操作工具类，详情请参考common.js（适用于v2版本）或common.v3.js（适用于v3版本)；例如：\r\n    // var data = common.getStepRespBody(context, 'step2', 'request1', 'data'); // v2\r\n    // var nodeData = common.getNodeRespBody(context, 'REQUEST_100'); // v3\r\n\r\n    // do something\r\n\r\n\r\n    // 自定义返回结果，如果返回的Object里含有_stopAndResponse=true字段时将会终止请求并把脚本结果响应给客户端（主要用于有异常情况要终止请求的场景）\r\n    var result = {\r\n    // _stopAndResponse: true,\r\n    msgCode: '0',\r\n    message: '',\r\n    data: null\r\n    };\r\n    // 返回结果为Array或Object时要先转为json字符串\r\n    return JSON.stringify(result);\r\n}\r\n",validateGroovyJS:"// context为内置的上下文变量，详情请参考we.fizz.StepContext类实现\r\n// 获取聚合接口用户输入的数据\r\n// 获取请求体中account数据\r\ndef account = context.getInputReqBody('account')\r\n// 获取请求体中password数据\r\ndef password = context.getInputReqBody('password')\r\ndef validate = []\r\n\r\n// 校验请求参数\r\nif (account == null || account.trim().isEmpty()) {\r\n    // 将校验不通过的错误信息add到validate中\r\n    validate << '账号不能为空'\r\n}\r\n\r\nif (password == null || password.trim().isEmpty()) {\r\n    validate << '密码不能为空'\r\n}\r\n\r\n// 空数组表示校验通过，非空表示校验不通过\r\nreturn validate",validateScriptJS:"// javascript脚本函数名不能修改\r\nfunction dyFunc(paramsJsonStr) {\r\n  // 上下文, 数据结构请参考 context.js\r\n  var context = JSON.parse(paramsJsonStr)['context'];\r\n  // common为内置的上下文便捷操作工具类，详情请参考common.js；例如：\r\n  // var account = common.getInputReqBody(context, 'account');\r\n  // var password = common.getInputReqBody(context, 'password');\r\n\r\n  // 入参校验结果，空字符串列表表示校验成功\r\n  var result = [];\r\n\r\n  // do something\r\n  // if (account == null) {\r\n  //    result.push(\"账号不能为空\");\r\n  // }\r\n  // if (password == null) {\r\n  //    result.push(\"密码不能为空\");\r\n  // }\r\n\r\n  // 返回结果为Array或Object时要先转为json字符串\r\n  return JSON.stringify(result);\r\n}\r\n"};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"script-dialog",data:function(){return{editorHeight:400,scriptForm:{},script:{type:this.type||"javascript",source:""},tipsDialog:{title:"js",visible:!1,content:""},scriptModule:"",groovyModule:""}},props:{type:{type:String},businessType:{type:String,default:"default"},id:{type:[String,Number]},visible:{type:Boolean,default:!1},content:{type:[Object,String]},disabled:{type:Boolean,default:!1},callback:{type:Function},default:{type:String,default:"default"},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{codeEditor:u["default"],codeHighlight:l["default"]},computed:p(p({},Object(a["mapGetters"])(["apiScriptType"])),{},{title:function(){return"脚本配置"+(this.id?" ID-"+this.id:"")}}),watch:{visible:function(e){e?this.getDetail():this.script.source=""}},methods:{openTipsDialog:function(e){switch(this.tipsDialog.visible=!0,this.tipsDialog.title=e+".js",e){case"common.v3":this.tipsDialog.content=c.commonV3JS;break;case"context.v3":this.tipsDialog.content=c.contextV3JS;break;case"common":this.tipsDialog.content=c.commonJS;break;case"context":this.tipsDialog.content=c.contextJS;break;default:break}},getDetail:function(){var e=this;this.scriptModule=c[this.default+"ScriptJS"]||"",this.groovyModule=c[this.default+"GroovyJS"]||"",this.id?"history"===this.businessType?Object(s["b"])(this.id).then((function(t){e.renderSource(t.data)})):"log"===this.businessType?Object(s["c"])(this.id).then((function(t){e.renderSource(t.data)})):Object(s["a"])(this.id).then((function(t){e.renderSource(t.data)})):this.script.source=c[this.default+"ScriptJS"]||""},renderSource:function(e){var t=e.data&&e.data.script||{};if("{}"===JSON.stringify(t))return this.$message({showClose:!0,message:e.msg,duration:5e3,type:"warning"}),this.id="",void(this.script.source=c[this.default+"ScriptJS"]||"");this.script="string"===typeof t?JSON.parse(t):t,"javascript"===this.script.type?this.scriptModule=this.script.source:"groovy"===this.script.type&&(this.groovyModule=this.script.source)},submitFn:function(){var e=this;if(!this.script.type||!this.script.source)return this.$message.error("请完善脚本数据再提交"),!1;var t=this.script;Object(s["e"])({id:this.id,script:JSON.stringify(t)}).then((function(t){e.$emit("update:id",t.data.data),e.callback&&"function"===typeof e.callback&&e.callback(),e.$message({type:"success",message:"脚本保存成功!"})}),(function(e){window.console.log(e)})),this.$emit("update:content",JSON.stringify(t)),this.$emit("update:visible",!1)},deleteFn:function(e){var t=this;if(e=e||this.id||"",!e)return!1;this.$confirm("确定删除该脚本?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return t.isDelScriptWithHttp?Object(s["d"])(e).then((function(){t.delCallback()})):(t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),void t.delCallback())}))},delCallback:function(){this.$emit("update:id",""),this.$emit("update:visible",!1),this.$message({type:"success",message:"删除成功!"}),this.callback&&"function"===typeof this.callback&&this.callback()},handleClose:function(e){this.$emit("update:visible",!1),e()},changeType:function(e){this.script.source="javascript"===e?this.scriptModule:this.groovyModule},changeCode:function(e){"javascript"===this.script.type?this.scriptModule=e:this.groovyModule=e}}},h=d,y=(n("8487"),n("2877")),v=Object(y["a"])(h,r,o,!1,null,"51e20c8e",null);t["default"]=v.exports},"307b":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("7618"),o=function(e){if("object"===Object(r["a"])(e))return JSON.parse(JSON.stringify(e))}},3913:function(e,t,n){},"3a729":function(e,t,n){"use strict";n("4150")},"3e7c":function(e,t,n){"use strict";n("8cc3")},4150:function(e,t,n){},"417c":function(e,t,n){},"44d0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-drawer",{attrs:{title:e.title,visible:e.drawerVisible,direction:"rtl","modal-append-to-body":!1,wrapperClosable:!1,size:"81.5%"},on:{"update:visible":function(t){e.drawerVisible=t}}},[t("compare-form",{ref:"compareForm",attrs:{data:e.form,disabled:e.disabled||"detail"===e.dialogType,rule:e.rule},on:{"update:data":function(t){e.form=t}}}),t("footer",{staticClass:"drawer-footer"},[e.disabled||"detail"===e.dialogType?e._e():t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("\n      确 定\n    ")]),t("el-button",{attrs:{size:"small"},on:{click:function(t){e.drawerVisible=!1}}},[e._v("\n       "+e._s(e.disabled||"detail"===e.dialogType?"关 闭":" 取 消")+"\n    ")])],1)],1)},o=[],i=n("e815"),a={name:"condition-dialog",components:{compareForm:i["default"]},props:{visible:{type:Boolean,default:!1},disabled:Boolean,data:Object,dialogType:{type:String,default:"add",validator:function(e){return-1!==["add","detail","edit"].indexOf(e)}}},data:function(){return{form:{},rule:{desc:[{required:!0,message:"请输入条件描述",trigger:"blur"}]}}},computed:{drawerVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}},title:function(){var e="";switch(this.dialogType){case"add":e="新增 流程控制组件【判断条件 if】";break;case"edit":e="编辑 流程控制组件【判断条件 if】";break;case"detail":e="流程控制组件【判断条件 if】 详情";break}return e}},methods:{submitForm:function(){var e=this;this.$refs.compareForm.validate().then((function(){e.$emit("emitData",e.form),e.drawerVisible=!1}),(function(){e.$message({showClose:!0,message:"请完善信息！",type:"warning"})}))}},mounted:function(){this.data&&(this.form=Object.assign({},this.data))}},s=a,u=(n("55bc"),n("2877")),l=Object(u["a"])(s,r,o,!1,null,"d937ee70",null);t["default"]=l.exports},4501:function(e,t,n){"use strict";n("7c63")},4766:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("vue-json-pretty",{attrs:{path:"res",data:e.graphData}})],1)},o=[],i=n("838b"),a=n.n(i),s=(n("b83f"),{props:{graphData:Object},components:{VueJsonPretty:a.a}}),u=s,l=n("2877"),c=Object(l["a"])(u,r,o,!1,null,"d6b727f2",null);t["default"]=c.exports},4910:function(e,t,n){n("1cb7"),e.exports=n("584a").Reflect.get},"4c07":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"exec-condition"},[t("el-checkbox",{attrs:{disabled:e.disabled},model:{value:e.step.stop,callback:function(t){e.$set(e.step,"stop",t)},expression:"step.stop"}},[e._v("是否执行完此步骤后结束")])],1),t("step-requests",e._b({ref:"stepRequests",attrs:{data:e.stepRequestsData,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(t){e.stepRequestsData=t}}},"step-requests",e.$attrs,!1)),t("h2",[e._v("\n    配置步骤结果 "),t("el-button",{attrs:{type:"text"},on:{click:function(t){e.showResult=!e.showResult}}},[e._v(e._s(e.showResult?"收起":"展开"))])],1),t("div",[e.showResult?t("data-params",e._b({staticClass:"highlight-border",attrs:{"body-name":"结果","has-query":!1,"has-header":!1,data:e.step.dataMapping.response,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(t){return e.$set(e.step.dataMapping,"response",t)}}},"data-params",e.$attrs,!1)):e._e()],1)],1)},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),a=n("5e9f"),s=n("942a"),u=n("5880");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"step-item",data:function(){return{stepRequestsData:{requests:[],components:[]},step:{},showResult:!1}},inheritAttrs:!1,props:{data:{type:Array,default:function(){return{}}},disabled:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{stepRequests:a["default"],dataParams:s["default"]},computed:{},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},stepRequestsData:{immediate:!0,deep:!0,handler:function(e){this.$set(this.step,"requests",e.requests||[]),this.$set(this.step,"components",e.components||[])}}},methods:c(c({},Object(u["mapActions"])(["updateValidateStep"])),{},{initData:function(){this.step=this.data||{name:"Step 1",stop:!1,requests:[],components:[],dataMapping:{}},this.$set(this.stepRequestsData,"requests",this.step.requests),this.$set(this.stepRequestsData,"components",this.step.components)},validate:function(){var e=this;return this.emitData(),new Promise((function(t,n){e.$refs.stepRequests.validate((function(e){e?t():n()}))}))},emitData:function(){this.$emit("update:data",this.step)}})},p=f,d=(n("c22e"),n("2877")),h=Object(d["a"])(p,r,o,!1,null,"134990aa",null);t["default"]=h.exports},"4eeb":function(e,t,n){},"55bc":function(e,t,n){"use strict";n("4eeb")},"58e0":function(e,t,n){"use strict";(function(e){var r=n("26ee"),o=n("2f74"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i,u=s?r["a"].Buffer:void 0,l=u?u.isBuffer:void 0,c=l||o["a"];t["a"]=c}).call(this,n("dd40")(e))},"5e90":function(e,t,n){!function(t,n){e.exports=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=221)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return q})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return B})),n.d(t,"k",(function(){return E}));var r,o,i,a,s,u,l,c={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var o,i,a,s={};for(a in t)"key"==a?o=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return v(e,s,o,i,null)}function v(e,t,n,r,a){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++i:a};return null==a&&null!=o.vnode&&o.vnode(s),s}function g(){return{current:null}}function b(e){return e.children}function m(e,t){this.props=e,this.context=t}function _(e,t){if(null==t)return e.__?_(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?_(e):null}function O(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return O(e)}}function w(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!x.__r++||u!==o.debounceRendering)&&((u=o.debounceRendering)||s)(x)}function x(){for(var e;x.__r=a.length;)e=a.sort((function(e,t){return e.__v.__b-t.__v.__b})),a=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=d({},o)).__v=o.__v+1,C(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?_(o):i,o.__h),A(n,o),o.__e!=i&&O(o)))}))}function j(e,t,n,r,o,i,a,s,u,l){var p,d,h,y,g,m,O,w=r&&r.__k||f,x=w.length;for(n.__k=[],p=0;p<t.length;p++)if(null!=(y=n.__k[p]=null==(y=t[p])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?v(null,y,null,null,y):Array.isArray(y)?v(b,{children:y},null,null,null):y.__b>0?v(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(h=w[p])||h&&y.key==h.key&&y.type===h.type)w[p]=void 0;else for(d=0;d<x;d++){if((h=w[d])&&y.key==h.key&&y.type===h.type){w[d]=void 0;break}h=null}C(e,y,h=h||c,o,i,a,s,u,l),g=y.__e,(d=y.ref)&&h.ref!=d&&(O||(O=[]),h.ref&&O.push(h.ref,null,y),O.push(d,y.__c||g,y)),null!=g?(null==m&&(m=g),"function"==typeof y.type&&y.__k===h.__k?y.__d=u=S(y,u,e):u=P(e,y,h,w,g,u),"function"==typeof n.type&&(n.__d=u)):u&&h.__e==u&&u.parentNode!=e&&(u=_(h))}for(n.__e=m,p=x;p--;)null!=w[p]&&("function"==typeof n.type&&null!=w[p].__e&&w[p].__e==n.__d&&(n.__d=_(r,p+1)),R(w[p],w[p]));if(O)for(p=0;p<O.length;p++)I(O[p],O[++p],O[++p])}function S(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?S(r,t,n):P(n,r,r,o,r.__e,t));return t}function E(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){E(e,t)})):t.push(e)),t}function P(e,t,n,r,o,i){var a,s,u;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else{for(s=i,u=0;(s=s.nextSibling)&&u<r.length;u+=2)if(s==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function k(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function T(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||k(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||k(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?N:D,i):e.removeEventListener(t,i?N:D,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function D(e){this.l[e.type+!1](o.event?o.event(e):e)}function N(e){this.l[e.type+!0](o.event?o.event(e):e)}function C(e,t,n,r,i,a,s,u,l){var c,f,p,h,y,v,g,_,O,w,x,S=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,u=t.__e=n.__e,t.__h=null,a=[u]),(c=o.__b)&&c(t);try{e:if("function"==typeof S){if(_=t.props,O=(c=S.contextType)&&r[c.__c],w=c?O?O.props.value:c.__:r,n.__c?g=(f=t.__c=n.__c).__=f.__E:("prototype"in S&&S.prototype.render?t.__c=f=new S(_,w):(t.__c=f=new m(_,w),f.constructor=S,f.render=L),O&&O.sub(f),f.props=_,f.state||(f.state={}),f.context=w,f.__n=r,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=S.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,S.getDerivedStateFromProps(_,f.__s))),h=f.props,y=f.state,p)null==S.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==S.getDerivedStateFromProps&&_!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(_,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(_,f.__s,w)||t.__v===n.__v){f.props=_,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),f.__h.length&&s.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(_,f.__s,w),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,y,v)}))}f.context=w,f.props=_,f.state=f.__s,(c=o.__r)&&c(t),f.__d=!1,f.__v=t,f.__P=e,c=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=d(d({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(h,y)),x=null!=c&&c.type===b&&null==c.key?c.props.children:c,j(e,Array.isArray(x)?x:[x],t,n,r,i,a,s,u,l),f.base=t.__e,t.__h=null,f.__h.length&&s.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=M(n.__e,t,n,r,i,a,s,l);(c=o.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=u,t.__h=!!l,a[a.indexOf(u)]=null),o.__e(e,t,n)}}function A(e,t){o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function M(e,t,n,o,i,a,s,u){var l,f,p,d=n.props,y=t.props,v=t.type,g=0;if("svg"===v&&(i=!0),null!=a)for(;g<a.length;g++)if((l=a[g])&&"setAttribute"in l==!!v&&(v?l.localName===v:3===l.nodeType)){e=l,a[g]=null;break}if(null==e){if(null===v)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),a=null,u=!1}if(null===v)d===y||u&&e.data===y||(e.data=y);else{if(a=a&&r.call(e.childNodes),f=(d=n.props||c).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!u){if(null!=a)for(d={},g=0;g<e.attributes.length;g++)d[e.attributes[g].name]=e.attributes[g].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||T(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||T(e,i,t[i],n[i],r)}(e,y,d,i,u),p)t.__k=[];else if(g=t.props.children,j(e,Array.isArray(g)?g:[g],t,n,o,i&&"foreignObject"!==v,a,s,a?a[0]:n.__k&&_(n,0),u),null!=a)for(g=a.length;g--;)null!=a[g]&&h(a[g]);u||("value"in y&&void 0!==(g=y.value)&&(g!==d.value||g!==e.value||"progress"===v&&!g)&&T(e,"value",g,d.value,!1),"checked"in y&&void 0!==(g=y.checked)&&g!==e.checked&&T(e,"checked",g,d.checked,!1))}return e}function I(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,n)}}function R(e,t,n){var r,i;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||I(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&R(r[i],t,"function"!=typeof e.type);n||null==e.__e||h(e.__e),e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function B(e,t,n){var i,a,s;o.__&&o.__(e,t),a=(i="function"==typeof n)?null:n&&n.__k||t.__k,s=[],C(t,e=(!i&&n||t).__k=y(b,null,[e]),a||c,c,void 0!==t.ownerSVGElement,!i&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,s,!i&&n?n:a?a.__e:t.firstChild,i),A(s,e)}function F(e,t){B(e,t,F)}function z(e,t,n){var o,i,a,s=d({},e.props);for(a in t)"key"==a?o=t[a]:"ref"==a?i=t[a]:s[a]=t[a];return arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),v(e.type,s,o||e.key,i||e.ref,null)}function q(e,t){var n={__c:t="__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(w)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,o={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},i=0,m.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof e&&(e=e(d({},n),this.props)),e&&d(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),w(this))},m.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),w(this))},m.prototype.render=b,a=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,x.__r=0,l=0},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return on})),n.d(t,"c",(function(){return Ue})),n.d(t,"d",(function(){return xe})),n.d(t,"e",(function(){return he})),n.d(t,"f",(function(){return de})),n.d(t,"g",(function(){return we})),n.d(t,"h",(function(){return bn})),n.d(t,"i",(function(){return ae})),n.d(t,"j",(function(){return Oe})),n.d(t,"k",(function(){return et})),n.d(t,"l",(function(){return ot})),n.d(t,"m",(function(){return ne})),n.d(t,"n",(function(){return ct})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return Pt})),n.d(t,"q",(function(){return ft})),n.d(t,"r",(function(){return bt})),n.d(t,"s",(function(){return gn})),n.d(t,"t",(function(){return ht})),n.d(t,"u",(function(){return nt})),n.d(t,"v",(function(){return Ot})),n.d(t,"w",(function(){return wt})),n.d(t,"x",(function(){return jt})),n.d(t,"y",(function(){return tn})),n.d(t,"z",(function(){return an})),n.d(t,"A",(function(){return vn})),n.d(t,"B",(function(){return St})),n.d(t,"C",(function(){return J})),n.d(t,"D",(function(){return Tt})),n.d(t,"E",(function(){return ut})),n.d(t,"F",(function(){return st})),n.d(t,"G",(function(){return tt})),n.d(t,"H",(function(){return Je})),n.d(t,"I",(function(){return At})),n.d(t,"J",(function(){return It})),n.d(t,"K",(function(){return ce})),n.d(t,"L",(function(){return Et})),n.d(t,"M",(function(){return Rt}));var o=[];Object.freeze(o);var i={};function a(){return++Ie.mobxGuid}function s(e){throw u(!1,e),"X"}function u(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}function l(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(i);var c=function(){};function f(e){return null!==e&&"object"==typeof e}function p(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function d(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function h(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return f(e)&&!0===e[n]}}function y(e){return e instanceof Map}function v(e){return e instanceof Set}function g(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function b(e){return e&&e.toString?e.toString():new String(e).toString()}function m(e){return null===e?null:"object"==typeof e?""+e:e}var _="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,O=Symbol("mobx administration"),w=function(){function e(e){void 0===e&&(e="Atom@"+a()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Z.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return qe(this)},e.prototype.reportChanged=function(){Fe(),function(e){e.lowestObserverState!==Z.STALE&&(e.lowestObserverState=Z.STALE,e.observers.forEach((function(t){t.dependenciesState===Z.UP_TO_DATE&&(t.isTracing!==Q.NONE&&$e(t,e),t.onBecomeStale()),t.dependenciesState=Z.STALE})))}(this),ze()},e.prototype.toString=function(){return this.name},e}(),x=h("Atom",w);function j(e,t,n){void 0===t&&(t=c),void 0===n&&(n=c);var r,o=new w(e);return t!==c&&lt("onBecomeObserved",o,t,r),n!==c&&ut(o,n),o}var S={identity:function(e,t){return e===t},structural:function(e,t){return _n(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return _n(e,t,1)}},E=function(e,t){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},E(e,t)
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */},P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},P.apply(this,arguments)};function k(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function T(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function D(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(T(arguments[t]));return e}var N=Symbol("mobx did run lazy initializers"),C=Symbol("mobx pending decorators"),A={},M={};function I(e,t){var n=t?A:M;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return R(this),this[e]},set:function(t){R(this),this[e]=t}})}function R(e){var t,n;if(!0!==e[N]){var r=e[C];if(r){d(e,N,!0);var o=D(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=k(o),a=i.next();!a.done;a=i.next()){var s=r[a.value];s.propertyCreator(e,s.prop,s.descriptor,s.decoratorTarget,s.decoratorArguments)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}}function L(e,t){return function(){var n,r=function(r,o,i,a){if(!0===a)return t(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,C)){var s=r[C];d(r,C,P({},s))}return r[C][o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},I(o,e)};return B(arguments)?(n=o,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function B(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function F(e,t,n){return jt(e)?e:Array.isArray(e)?J.array(e,{name:n}):p(e)?J.object(e,void 0,{name:n}):y(e)?J.map(e,{name:n}):v(e)?J.set(e,{name:n}):e}function z(e){return e}function q(t){u(t);var n=L(!0,(function(e,n,r,o,i){var a=r?r.initializer?r.initializer.call(e):r.value:void 0;fn(e).addObservableProp(n,a,t)})),r=(void 0!==e&&e.env,n);return r.enhancer=t,r}var $={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function H(e){return null==e?$:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze($);var U=q(F),W=q((function(e,t,n){return null==e||vn(e)||tn(e)||an(e)||ln(e)?e:Array.isArray(e)?J.array(e,{name:n,deep:!1}):p(e)?J.object(e,void 0,{name:n,deep:!1}):y(e)?J.map(e,{name:n,deep:!1}):v(e)?J.set(e,{name:n,deep:!1}):s(!1)})),V=q(z),G=q((function(e,t,n){return _n(e,t)?t:e}));function X(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?z:F}var Y={box:function(e,t){arguments.length>2&&K("box");var n=H(t);return new Ee(e,X(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&K("array");var n=H(t);return Jt(e,X(n),n.name)},map:function(e,t){arguments.length>2&&K("map");var n=H(t);return new on(e,X(n),n.name)},set:function(e,t){arguments.length>2&&K("set");var n=H(t);return new un(e,X(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&K("object");var r=H(n);if(!1===r.proxy)return ft({},e,t,r);var o=pt(r),i=ft({},void 0,void 0,r),a=$t(i);return dt(a,e,t,o),a},ref:V,shallow:W,deep:U,struct:G},J=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return U.apply(null,arguments);if(jt(e))return e;var r=p(e)?J.object(e,t,n):Array.isArray(e)?J.array(e,t):y(e)?J.map(e,t):v(e)?J.set(e,t):e;if(r!==e)return r;s(!1)};function K(e){s("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(Y).forEach((function(e){return J[e]=Y[e]}));var Z,Q,ee=L(!1,(function(e,t,n,r,o){var i=n.get,a=n.set,s=o[0]||{};fn(e).addComputedProp(e,t,P({get:i,set:a,context:e},s))})),te=ee({equals:S.structural}),ne=function(e,t,n){if("string"==typeof t)return ee.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ee.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new ke(r)};ne.struct=te,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(Z||(Z={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Q||(Q={}));var re=function(e){this.cause=e};function oe(e){return e instanceof re}function ie(e){switch(e.dependenciesState){case Z.UP_TO_DATE:return!1;case Z.NOT_TRACKING:case Z.STALE:return!0;case Z.POSSIBLY_STALE:for(var t=de(!0),n=fe(),r=e.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(Te(a)){if(Ie.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return pe(n),he(t),!0}if(e.dependenciesState===Z.STALE)return pe(n),he(t),!0}}return ye(e),pe(n),he(t),!1}}function ae(){return null!==Ie.trackingDerivation}function se(e){var t=e.observers.size>0;Ie.computationDepth>0&&t&&s(!1),Ie.allowStateChanges||!t&&"strict"!==Ie.enforceActions||s(!1)}function ue(e,t,n){var r=de(!0);ye(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Ie.runId;var o,i=Ie.trackingDerivation;if(Ie.trackingDerivation=e,!0===Ie.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(e){o=new re(e)}return Ie.trackingDerivation=i,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=Z.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++)0===(s=n[a]).diffValue&&(s.diffValue=1,o!==a&&(n[o]=s),o++),s.dependenciesState>r&&(r=s.dependenciesState);for(n.length=o,e.newObserving=null,i=t.length;i--;)0===(s=t[i]).diffValue&&Le(s,e),s.diffValue=0;for(;o--;){var s;1===(s=n[o]).diffValue&&(s.diffValue=0,Re(s,e))}r!==Z.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),he(r),o}function le(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Le(t[n],e);e.dependenciesState=Z.NOT_TRACKING}function ce(e){var t=fe();try{return e()}finally{pe(t)}}function fe(){var e=Ie.trackingDerivation;return Ie.trackingDerivation=null,e}function pe(e){Ie.trackingDerivation=e}function de(e){var t=Ie.allowStateReads;return Ie.allowStateReads=e,t}function he(e){Ie.allowStateReads=e}function ye(e){if(e.dependenciesState!==Z.UP_TO_DATE){e.dependenciesState=Z.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=Z.UP_TO_DATE}}var ve=0,ge=1,be=Object.getOwnPropertyDescriptor((function(){}),"name");function me(e,t,n){var r=function(){return _e(e,t,n||this,arguments)};return r.isMobxAction=!0,r}function _e(e,t,n,r){var o=Oe(e,n,r);try{return t.apply(n,r)}catch(e){throw o.error=e,e}finally{we(o)}}function Oe(e,t,n){var r=0,o=fe();Fe();var i={prevDerivation:o,prevAllowStateChanges:je(!0),prevAllowStateReads:de(!0),notifySpy:!1,startTime:r,actionId:ge++,parentActionId:ve};return ve=i.actionId,i}function we(e){ve!==e.actionId&&s("invalid action stack. did you forget to finish an action?"),ve=e.parentActionId,void 0!==e.error&&(Ie.suppressReactionErrors=!0),Se(e.prevAllowStateChanges),he(e.prevAllowStateReads),ze(),pe(e.prevDerivation),e.notifySpy,Ie.suppressReactionErrors=!1}function xe(e,t){var n,r=je(e);try{n=t()}finally{Se(r)}return n}function je(e){var t=Ie.allowStateChanges;return Ie.allowStateChanges=e,t}function Se(e){Ie.allowStateChanges=e}be&&be.configurable;var Ee=function(e){function t(t,n,r,o,i){void 0===r&&(r="ObservableValue@"+a()),void 0===o&&(o=!0),void 0===i&&(i=S.default);var s=e.call(this,r)||this;return s.enhancer=n,s.name=r,s.equals=i,s.hasUnreportedChange=!1,s.value=n(t,void 0,r),s}return function(e,t){function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value,(e=this.prepareNewValue(e))!==Ie.UNCHANGED&&this.setNewValue(e)},t.prototype.prepareNewValue=function(e){if(se(this),Ht(this)){var t=Wt(this,{object:this,type:"update",newValue:e});if(!t)return Ie.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Ie.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Vt(this)&&Xt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Ut(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Gt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return m(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(w),Pe=h("ObservableValue",Ee),ke=function(){function e(e){this.dependenciesState=Z.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Z.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+a(),this.value=new re(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Q.NONE,u(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+a(),e.set&&(this.setter=me(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?S.structural:S.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){e.lowestObserverState===Z.UP_TO_DATE&&(e.lowestObserverState=Z.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===Z.UP_TO_DATE&&(t.dependenciesState=Z.POSSIBLY_STALE,t.isTracing!==Q.NONE&&$e(t,e),t.onBecomeStale())})))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&s("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ie.inBatch||0!==this.observers.size||this.keepAlive?(qe(this),ie(this)&&this.trackAndCompute()&&function(e){e.lowestObserverState!==Z.STALE&&(e.lowestObserverState=Z.STALE,e.observers.forEach((function(t){t.dependenciesState===Z.POSSIBLY_STALE?t.dependenciesState=Z.STALE:t.dependenciesState===Z.UP_TO_DATE&&(e.lowestObserverState=Z.UP_TO_DATE)})))}(this)):ie(this)&&(this.warnAboutUntrackedRead(),Fe(),this.value=this.computeValue(!1),ze());var e=this.value;if(oe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(oe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){u(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else u(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===Z.NOT_TRACKING,n=this.computeValue(!0),r=t||oe(e)||oe(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Ie.computationDepth++,e)t=ue(this,this.derivation,this.scope);else if(!0===Ie.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new re(e)}return Ie.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(le(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return ot((function(){var i=n.get();if(!r||t){var a=fe();e({type:"update",object:n,newValue:i,oldValue:o}),pe(a)}r=!1,o=i}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return m(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),Te=h("ComputedValue",ke),De=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Ne={};function Ce(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:Ne}var Ae=!0,Me=!1,Ie=function(){var e=Ce();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ae=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new De).version&&(Ae=!1),Ae?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new De):(setTimeout((function(){Me||s("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new De)}();function Re(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Le(e,t){e.observers.delete(t),0===e.observers.size&&Be(e)}function Be(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Ie.pendingUnobservations.push(e))}function Fe(){Ie.inBatch++}function ze(){if(0==--Ie.inBatch){Ve();for(var e=Ie.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof ke&&n.suspend())}Ie.pendingUnobservations=[]}}function qe(e){var t=Ie.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Ie.inBatch>0&&Be(e),!1)}function $e(e,t){if(e.isTracing===Q.BREAK){var n=[];He(ht(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof ke?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function He(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return He(e,t,n+1)})))}var Ue=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+a()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=Z.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Q.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ie.pendingReactions.push(this),Ve())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Fe(),this._isScheduled=!1,ie(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}ze()}},e.prototype.track=function(e){if(!this.isDisposed){Fe(),this._isRunning=!0;var t=ue(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&le(this),oe(t)&&this.reportExceptionInDerivation(t.cause),ze()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Ie.disableErrorBoundaries)throw e;Ie.suppressReactionErrors,Ie.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Fe(),le(this),ze()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[O]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=Mt(e);if(!r)return s(!1);r.isTracing,Q.NONE,r.isTracing=n?Q.BREAK:Q.LOG}(this,e)},e}(),We=function(e){return e()};function Ve(){Ie.inBatch>0||Ie.isRunningReactions||We(Ge)}function Ge(){Ie.isRunningReactions=!0;for(var e=Ie.pendingReactions,t=0;e.length>0;){100==++t&&e.splice(0);for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Ie.isRunningReactions=!1}var Xe=h("Reaction",Ue);function Ye(e){var t=We;We=function(n){return e((function(){return t(n)}))}}function Je(e){return function(){}}function Ke(){s(!1)}function Ze(e){return function(t,n,r){if(r){if(r.value)return{value:me(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return me(e,o.call(this))}}}return Qe(e).apply(this,arguments)}}function Qe(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){d(this,n,et(e,t))}})}}var et=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?me(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?me(e,t):1===arguments.length&&"string"==typeof e?Ze(e):!0!==r?Ze(t).apply(null,arguments):void d(e,t,me(e.name||t,n.value,this))};function tt(e,t){return _e("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function nt(e){return"function"==typeof e&&!0===e.isMobxAction}function rt(e,t,n){d(e,t,me(t,n.bind(e)))}function ot(e,t){void 0===t&&(t=i);var n,r=t&&t.name||e.name||"Autorun@"+a();if(t.scheduler||t.delay){var o=at(t),s=!1;n=new Ue(r,(function(){s||(s=!0,o((function(){s=!1,n.isDisposed||n.track(u)})))}),t.onError,t.requiresObservable)}else n=new Ue(r,(function(){this.track(u)}),t.onError,t.requiresObservable);function u(){e(n)}return n.schedule(),n.getDisposer()}et.bound=function(e,t,n,r){return!0===r?(rt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return rt(this,t,n.value||n.initializer.call(this)),this[t]},set:Ke}:{enumerable:!1,configurable:!0,set:function(e){rt(this,t,e)},get:function(){}}};var it=function(e){return e()};function at(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:it}function st(e,t,n){void 0===n&&(n=i);var r,o,s,u=n.name||"Reaction@"+a(),l=et(u,n.onError?(r=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e)}}):t),c=!n.scheduler&&!n.delay,f=at(n),p=!0,d=!1,h=n.compareStructural?S.structural:n.equals||S.default,y=new Ue(u,(function(){p||c?v():d||(d=!0,f(v))}),n.onError,n.requiresObservable);function v(){if(d=!1,!y.isDisposed){var t=!1;y.track((function(){var n=e(y);t=p||!h(s,n),s=n})),p&&n.fireImmediately&&l(s,y),p||!0!==t||l(s,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function ut(e,t,n){return lt("onBecomeUnobserved",e,t,n)}function lt(e,t,n,r){var o="function"==typeof r?gn(t,n):gn(t),i="function"==typeof r?r:n,a=e+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[e]?s(!1):function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}function ct(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.reactionScheduler,a=e.reactionRequiresObservable,u=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Ie.pendingReactions.length||Ie.inBatch||Ie.isRunningReactions)&&s("isolateGlobalState should be called before MobX is running any reactions"),Me=!0,Ae&&(0==--Ce().__mobxInstanceCount&&(Ce().__mobxGlobals=void 0),Ie=new De)),void 0!==t){var l=void 0;switch(t){case!0:case"observed":l=!0;break;case!1:case"never":l=!1;break;case"strict":case"always":l="strict";break;default:s("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Ie.enforceActions=l,Ie.allowStateChanges=!0!==l&&"strict"!==l}void 0!==n&&(Ie.computedRequiresReaction=!!n),void 0!==a&&(Ie.reactionRequiresObservable=!!a),void 0!==u&&(Ie.observableRequiresReaction=!!u,Ie.allowStateReads=!Ie.observableRequiresReaction),void 0!==r&&(Ie.computedConfigurable=!!r),void 0!==o&&(Ie.disableErrorBoundaries=!!o),i&&Ye(i)}function ft(e,t,n,r){var o=pt(r=H(r));return R(e),fn(e,r.name,o.enhancer),t&&dt(e,t,n,o),e}function pt(e){return e.defaultDecorator||(!1===e.deep?V:U)}function dt(e,t,n,r){var o,i;Fe();try{var a=_(t);try{for(var s=k(a),u=s.next();!u.done;u=s.next()){var l=u.value,c=Object.getOwnPropertyDescriptor(t,l),f=(n&&l in n?n[l]:c.get?ee:r)(e,l,c,!0);f&&Object.defineProperty(e,l,f)}}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}finally{ze()}}function ht(e,t){return yt(gn(e,t))}function yt(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(yt)),r}var vt=0;function gt(){this.message="FLOW_CANCELLED"}function bt(e){1!==arguments.length&&s("Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++vt,a=et(t+" - runid: "+i+" - init",e).apply(r,o),s=void 0,u=new Promise((function(e,r){var o=0;function u(e){var n;s=void 0;try{n=et(t+" - runid: "+i+" - yield "+o++,a.next).call(a,e)}catch(e){return r(e)}c(n)}function l(e){var n;s=void 0;try{n=et(t+" - runid: "+i+" - yield "+o++,a.throw).call(a,e)}catch(e){return r(e)}c(n)}function c(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(s=Promise.resolve(t.value)).then(u,l);t.then(c,r)}n=r,u(void 0)}));return u.cancel=et(t+" - runid: "+i+" - cancel",(function(){try{s&&mt(s);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(c,c),mt(t),n(new gt)}catch(e){n(e)}})),u}}function mt(e){"function"==typeof e.cancel&&e.cancel()}function _t(e,t){if(null==e)return!1;if(void 0!==t){if(!1===vn(e))return!1;if(!e[O].values.has(t))return!1;var n=gn(e,t);return Te(n)}return Te(e)}function Ot(e){return arguments.length>1?s(!1):_t(e)}function wt(e,t){return"string"!=typeof t?s(!1):_t(e,t)}function xt(e,t){return null!=e&&(void 0!==t?!!vn(e)&&e[O].values.has(t):vn(e)||!!e[O]||x(e)||Xe(e)||Te(e))}function jt(e){return 1!==arguments.length&&s(!1),xt(e)}function St(e){return vn(e)?e[O].getKeys():an(e)||ln(e)?Array.from(e.keys()):tn(e)?e.map((function(e,t){return t})):s(!1)}function Et(e){return vn(e)?St(e).map((function(t){return e[t]})):an(e)?St(e).map((function(t){return e.get(t)})):ln(e)?Array.from(e.values()):tn(e)?e.slice():s(!1)}function Pt(e){return vn(e)?St(e).map((function(t){return[t,e[t]]})):an(e)?St(e).map((function(t){return[t,e.get(t)]})):ln(e)?Array.from(e.entries()):tn(e)?e.map((function(e,t){return[t,e]})):s(!1)}function kt(e,t,n){if(2!==arguments.length||ln(e))if(vn(e)){var r=e[O],o=r.values.get(t);o?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(an(e))e.set(t,n);else if(ln(e))e.add(t);else{if(!tn(e))return s(!1);"number"!=typeof t&&(t=parseInt(t,10)),u(t>=0,"Not a valid index: '"+t+"'"),Fe(),t>=e.length&&(e.length=t+1),e[t]=n,ze()}else{Fe();var i=t;try{for(var a in i)kt(e,a,i[a])}finally{ze()}}}function Tt(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return bn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return bn(e).observe(t,n)}(e,t,n)}gt.prototype=Object.create(Error.prototype);var Dt={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Nt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Ct(e,t,n){if(!t.recurseEverything&&!jt(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Pe(e))return Ct(e.get(),t,n);if(jt(e)&&St(e),!0===t.detectCycles&&null!==e&&n.has(e))return n.get(e);if(tn(e)||Array.isArray(e)){var r=Nt(n,e,[],t),o=e.map((function(e){return Ct(e,t,n)}));r.length=o.length;for(var i=0,a=o.length;i<a;i++)r[i]=o[i];return r}if(ln(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var s=Nt(n,e,new Set,t);return e.forEach((function(e){s.add(Ct(e,t,n))})),s}var u=Nt(n,e,[],t);return e.forEach((function(e){u.push(Ct(e,t,n))})),u}if(an(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var l=Nt(n,e,new Map,t);return e.forEach((function(e,r){l.set(r,Ct(e,t,n))})),l}var c=Nt(n,e,{},t);return e.forEach((function(e,r){c[r]=Ct(e,t,n)})),c}var f=Nt(n,e,{},t);return g(e).forEach((function(r){f[r]=Ct(e[r],t,n)})),f}function At(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Dt),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),Ct(e,t,n)}function Mt(e){switch(e.length){case 0:return Ie.trackingDerivation;case 1:return gn(e[0]);case 2:return gn(e[0],e[1])}}function It(e,t){void 0===t&&(t=void 0),Fe();try{return e.apply(t)}finally{ze()}}function Rt(e,t,n){return 1===arguments.length||t&&"object"==typeof t?Bt(e,t):Lt(e,t,n||{})}function Lt(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!i[O].isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+a();var o=me(n.name+"-effect",t),i=ot((function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())}),n);return i}function Bt(e,t){var n,r=new Promise((function(r,o){var i=Lt(e,r,P(P({},t),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function Ft(e){return e[O]}function zt(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var qt={has:function(e,t){if(t===O||"constructor"===t||t===N)return!0;var n=Ft(e);return zt(t)?n.has(t):t in e},get:function(e,t){if(t===O||"constructor"===t||t===N)return e[t];var n=Ft(e),r=n.values.get(t);if(r instanceof w){var o=r.get();return void 0===o&&n.has(t),o}return zt(t)&&n.has(t),e[t]},set:function(e,t,n){return!!zt(t)&&(kt(e,t,n),!0)},deleteProperty:function(e,t){return!!zt(t)&&(Ft(e).remove(t),!0)},ownKeys:function(e){return Ft(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return s("Dynamic observable objects cannot be frozen"),!1}};function $t(e){var t=new Proxy(e,qt);return e[O].proxy=t,t}function Ht(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Ut(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),l((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Wt(e,t){var n=fe();try{for(var r=D(e.interceptors||[]),o=0,i=r.length;o<i&&(u(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{pe(n)}}function Vt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Gt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),l((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Xt(e,t){var n=fe(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);pe(n)}}var Yt={get:function(e,t){return t===O?e[O]:"length"===t?e[O].getArrayLength():"number"==typeof t?Zt.get.call(e,t):"string"!=typeof t||isNaN(t)?Zt.hasOwnProperty(t)?Zt[t]:e[t]:Zt.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[O].setArrayLength(n),"number"==typeof t&&Zt.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:Zt.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return s("Observable arrays cannot be frozen"),!1}};function Jt(e,t,n,r){void 0===n&&(n="ObservableArray@"+a()),void 0===r&&(r=!1);var o,i,s,u=new Kt(n,t,r);o=u.values,i=O,s=u,Object.defineProperty(o,i,{enumerable:!1,writable:!1,configurable:!0,value:s});var l=new Proxy(u.values,Yt);if(u.proxy=l,e&&e.length){var c=je(!0);u.spliceWithArray(0,0,e),Se(c)}return l}var Kt=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new w(e||"ObservableArray@"+a()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Ut(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Gt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;se(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=o),Ht(this)){var a=Wt(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!a)return o;t=a.removedCount,n=a.added}n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}));var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,D([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,o=Vt(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),o&&Xt(this,i)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,o=Vt(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&Xt(this,i)},e}(),Zt={intercept:function(e){return this[O].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[O].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[O];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[O];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[O].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[O];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[O].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[O];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[O],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[O];if(t&&e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e])},set:function(e,t){var n=this[O],r=n.values;if(e<r.length){se(n.atom);var o=r[e];if(Ht(n)){var i=Wt(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){"function"==typeof Array.prototype[e]&&(Zt[e]=function(){var t=this[O];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){"function"==typeof Array.prototype[e]&&(Zt[e]=function(t,n){var r=this,o=this[O];return o.atom.reportObserved(),o.dehanceValues(o.values)[e]((function(e,o){return t.call(n,e,o,r)}),n)})})),["reduce","reduceRight"].forEach((function(e){Zt[e]=function(){var t=this,n=this[O];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,o,i){return o=n.dehanceValue(o),r(e,o,i,t)},n.values[e].apply(n.values,arguments)}}));var Qt,en=h("ObservableArrayAdministration",Kt);function tn(e){return f(e)&&en(e[O])}var nn,rn={},on=function(){function e(e,t,n){if(void 0===t&&(t=F),void 0===n&&(n="ObservableMap@"+a()),this.enhancer=t,this.name=n,this[Qt]=rn,this._keysAtom=j(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Ie.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Ee(this._has(e),z,this.name+"."+b(e)+"?",!1);this._hasMap.set(e,r),ut(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Ht(this)){var r=Wt(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(se(this._keysAtom),Ht(this)&&!(r=Wt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Vt(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return It((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),n&&Xt(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Ie.UNCHANGED){var r=Vt(this),o=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;n.setNewValue(t),r&&Xt(this,o)}},e.prototype._addValue=function(e,t){var n=this;se(this._keysAtom),It((function(){var r=new Ee(t,n.enhancer,n.name+"."+b(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=Vt(this),o=r?{type:"add",object:this,name:e,newValue:t}:null;r&&Xt(this,o)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return jn({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return jn({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,e.get(o)]}}})},e.prototype[(Qt=O,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=k(this),i=o.next();!i.done;i=o.next()){var a=T(i.value,2),s=a[0],u=a[1];e.call(t,u,s,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return an(e)&&(e=e.toJS()),It((function(){var n=je(!0);try{p(e)?g(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=T(e,2),r=n[0],o=n[1];return t.set(r,o)})):y(e)?(e.constructor!==Map&&s("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&s("Cannot initialize map from "+e)}finally{Se(n)}})),this},e.prototype.clear=function(){var e=this;It((function(){ce((function(){var t,n;try{for(var r=k(e.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return It((function(){var n,r,o,i,a=function(e){if(y(e)||an(e))return e;if(Array.isArray(e))return new Map(e);if(p(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return s("Cannot convert to map from '"+e+"'")}(e),u=new Map,l=!1;try{for(var c=k(t._data.keys()),f=c.next();!f.done;f=c.next()){var d=f.value;if(!a.has(d))if(t.delete(d))l=!0;else{var h=t._data.get(d);u.set(d,h)}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}try{for(var v=k(a.entries()),g=v.next();!g.done;g=v.next()){var b=T(g.value,2),m=(d=b[0],h=b[1],t._data.has(d));if(t.set(d,h),t._data.has(d)){var _=t._data.get(d);u.set(d,_),m||(l=!0)}}}catch(e){o={error:e}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}if(!l)if(t._data.size!==u.size)t._keysAtom.reportChanged();else for(var O=t._data.keys(),w=u.keys(),x=O.next(),j=w.next();!x.done;){if(x.value!==j.value){t._keysAtom.reportChanged();break}x=O.next(),j=w.next()}t._data=u})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=k(this),o=r.next();!o.done;o=r.next()){var i=T(o.value,2),a=i[0],s=i[1];n["symbol"==typeof a?a:b(a)]=s}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return b(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Gt(this,e)},e.prototype.intercept=function(e){return Ut(this,e)},e}(),an=h("ObservableMap",on),sn={},un=function(){function e(e,t,n){if(void 0===t&&(t=F),void 0===n&&(n="ObservableSet@"+a()),this.name=n,this[nn]=sn,this._data=new Set,this._atom=j(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;It((function(){ce((function(){var t,n;try{for(var r=k(e._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var o=k(this),i=o.next();!i.done;i=o.next()){var a=i.value;e.call(t,a,a,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(se(this._atom),Ht(this)&&!(r=Wt(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){It((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=Vt(this),r=n?{type:"add",object:this,newValue:e}:null;n&&Xt(this,r)}return this},e.prototype.delete=function(e){var t=this;if(Ht(this)&&!(r=Wt(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=Vt(this),r=n?{type:"delete",object:this,oldValue:e}:null;return It((function(){t._atom.reportChanged(),t._data.delete(e)})),n&&Xt(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return jn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return jn({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return ln(e)&&(e=e.toJS()),It((function(){var n=je(!0);try{Array.isArray(e)||v(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&s("Cannot initialize set from "+e)}finally{Se(n)}})),this},e.prototype.observe=function(e,t){return Gt(this,e)},e.prototype.intercept=function(e){return Ut(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(nn=O,Symbol.iterator)]=function(){return this.values()},e}(),ln=h("ObservableSet",un),cn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new w(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof ke)r.set(t);else{if(Ht(this)){if(!(i=Wt(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=i.newValue}if((t=r.prepareNewValue(t))!==Ie.UNCHANGED){var o=Vt(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;r.setNewValue(t),o&&Xt(this,i)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new Ee(r,z,this.name+"."+b(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Ht(this)){var o=Wt(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new Ee(t,n,this.name+"."+b(e),!1);this.values.set(e,i),t=i.value,Object.defineProperty(r,e,function(e){return pn[e]||(pn[e]={configurable:!0,enumerable:!0,get:function(){return this[O].read(e)},set:function(t){this[O].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r,o,i,a=this.target;n.name=n.name||this.name+"."+b(t),this.values.set(t,new ke(n)),(e===a||(r=e,o=t,!(i=Object.getOwnPropertyDescriptor(r,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(e,t,function(e){return dn[e]||(dn[e]={configurable:Ie.computedConfigurable,enumerable:!1,get:function(){return hn(this).read(e)},set:function(t){hn(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(Ht(this)&&!(a=Wt(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Fe();var n=Vt(this),r=this.values.get(e),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!1)}delete this.target[e];var a=n?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;n&&Xt(this,a)}finally{ze()}}},e.prototype.illegalAccess=function(e,t){},e.prototype.observe=function(e,t){return Gt(this,e)},e.prototype.intercept=function(e){return Ut(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=Vt(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&Xt(this,r),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=k(this.values),o=r.next();!o.done;o=r.next()){var i=T(o.value,2),a=i[0];i[1]instanceof Ee&&n.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function fn(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=F),Object.prototype.hasOwnProperty.call(e,O))return e[O];p(e)||(t=(e.constructor.name||"ObservableObject")+"@"+a()),t||(t="ObservableObject@"+a());var r=new cn(e,new Map,b(t),n);return d(e,O,r),r}var pn=Object.create(null),dn=Object.create(null);function hn(e){var t=e[O];return t||(R(e),e[O])}var yn=h("ObservableObjectAdministration",cn);function vn(e){return!!f(e)&&(R(e),yn(e[O]))}function gn(e,t){if("object"==typeof e&&null!==e){if(tn(e))return void 0!==t&&s(!1),e[O].atom;if(ln(e))return e[O];if(an(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||s(!1),r)}var r;if(R(e),t&&!e[O]&&e[t],vn(e))return t?((r=e[O].values.get(t))||s(!1),r):s(!1);if(x(e)||Te(e)||Xe(e))return e}else if("function"==typeof e&&Xe(e[O]))return e[O];return s(!1)}function bn(e,t){return e||s("Expecting some object"),void 0!==t?bn(gn(e,t)):x(e)||Te(e)||Xe(e)||an(e)||ln(e)?e:(R(e),e[O]?e[O]:void s(!1))}var mn=Object.prototype.toString;function _n(e,t,n){return void 0===n&&(n=-1),On(e,t,n)}function On(e,t,n,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=mn.call(e);if(a!==mn.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=wn(e),t=wn(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,l=t.constructor;if(u!==l&&!("function"==typeof u&&u instanceof u&&"function"==typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return o[c]===t;if(r.push(e),o.push(t),s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!On(e[c],t[c],n-1,r,o))return!1}else{var f=Object.keys(e),p=void 0;if(c=f.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!xn(t,p=f[c])||!On(e[p],t[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function wn(e){return tn(e)?e.slice():y(e)||an(e)||v(e)||ln(e)?Array.from(e.entries()):e}function xn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jn(e){return e[Symbol.iterator]=Sn,e}function Sn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Je,extras:{getDebugName:function(e,t){return(void 0!==t?gn(e,t):vn(e)||an(e)||ln(e)?bn(e):gn(e)).name}},$mobx:O})}).call(this,n(163),n(68))},function(e,t,n){var r=n(113),o=n(42),i=n(179);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){"use strict";var r=n(41),o=n(100),i=n(80),a=n(58),s=n(116),u="Array Iterator",l=a.set,c=a.getterFor(u);e.exports=s(Array,"Array",(function(e,t){l(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(46),a=n(76),s=n(34),u=n(15),l=n(71),c=n(36),f=n(108),p=n(18),d=n(35),h=n(96),y=n(30),v=n(33),g=n(54),b=n(87),m=n(32),_=n(40),O=n(41),w=n(86),x=n(39),j=n(69),S=n(60),E=n(77),P=n(74),k=n(139),T=n(112),D=n(50),N=n(38),C=n(84),A=n(98),M=n(42),I=n(89),R=n(93),L=n(72),B=n(90),F=n(28),z=n(140),q=n(141),$=n(78),H=n(58),U=n(79).forEach,W=R("hidden"),V="Symbol",G=F("toPrimitive"),X=H.set,Y=H.getterFor(V),J=Object.prototype,K=o.Symbol,Z=K&&K.prototype,Q=o.TypeError,ee=o.QObject,te=i("JSON","stringify"),ne=D.f,re=N.f,oe=k.f,ie=C.f,ae=u([].push),se=I("symbols"),ue=I("op-symbols"),le=I("string-to-symbol-registry"),ce=I("symbol-to-string-registry"),fe=I("wks"),pe=!ee||!ee.prototype||!ee.prototype.findChild,de=c&&p((function(){return 7!=S(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=ne(J,t);r&&delete J[t],re(e,t,n),r&&e!==J&&re(J,t,r)}:re,he=function(e,t){var n=se[e]=S(Z);return X(n,{type:V,tag:e,description:t}),c||(n.description=t),n},ye=function(e,t,n){e===J&&ye(ue,t,n),m(e);var r=w(t);return m(n),d(se,r)?(n.enumerable?(d(e,W)&&e[W][r]&&(e[W][r]=!1),n=S(n,{enumerable:j(0,!1)})):(d(e,W)||re(e,W,j(1,{})),e[W][r]=!0),de(e,r,n)):re(e,r,n)},ve=function(e,t){m(e);var n=O(t),r=E(n).concat(_e(n));return U(r,(function(t){c&&!s(ge,n,t)||ye(e,t,n[t])})),e},ge=function(e){var t=w(e),n=s(ie,this,t);return!(this===J&&d(se,t)&&!d(ue,t))&&(!(n||!d(this,t)||!d(se,t)||d(this,W)&&this[W][t])||n)},be=function(e,t){var n=O(e),r=w(t);if(n!==J||!d(se,r)||d(ue,r)){var o=ne(n,r);return!o||!d(se,r)||d(n,W)&&n[W][r]||(o.enumerable=!0),o}},me=function(e){var t=oe(O(e)),n=[];return U(t,(function(e){d(se,e)||d(L,e)||ae(n,e)})),n},_e=function(e){var t=e===J,n=oe(t?ue:O(e)),r=[];return U(n,(function(e){!d(se,e)||t&&!d(J,e)||ae(r,se[e])})),r};if(f||(K=function(){if(g(Z,this))throw Q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,t=B(e),n=function(e){this===J&&s(n,ue,e),d(this,W)&&d(this[W],t)&&(this[W][t]=!1),de(this,t,j(1,e))};return c&&pe&&de(J,t,{configurable:!0,set:n}),he(t,e)},M(Z=K.prototype,"toString",(function(){return Y(this).tag})),M(K,"withoutSetter",(function(e){return he(B(e),e)})),C.f=ge,N.f=ye,D.f=be,P.f=k.f=me,T.f=_e,z.f=function(e){return he(F(e),e)},c&&(re(Z,"description",{configurable:!0,get:function(){return Y(this).description}}),l||M(J,"propertyIsEnumerable",ge,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:K}),U(E(fe),(function(e){q(e)})),r({target:V,stat:!0,forced:!f},{for:function(e){var t=x(e);if(d(le,t))return le[t];var n=K(t);return le[t]=n,ce[n]=t,n},keyFor:function(e){if(!b(e))throw Q(e+" is not a symbol");if(d(ce,e))return ce[e]},useSetter:function(){pe=!0},useSimple:function(){pe=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!c},{create:function(e,t){return void 0===t?S(e):ve(S(e),t)},defineProperty:ye,defineProperties:ve,getOwnPropertyDescriptor:be}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:me,getOwnPropertySymbols:_e}),r({target:"Object",stat:!0,forced:p((function(){T.f(1)}))},{getOwnPropertySymbols:function(e){return T.f(_(e))}}),te&&r({target:"JSON",stat:!0,forced:!f||p((function(){var e=K();return"[null]"!=te([e])||"{}"!=te({a:e})||"{}"!=te(Object(e))}))},{stringify:function(e,t,n){var r=A(arguments),o=t;if((v(t)||void 0!==e)&&!b(e))return h(t)||(t=function(e,t){if(y(o)&&(t=s(o,this,e,t)),!b(t))return t}),r[1]=t,a(te,null,r)}}),!Z[G]){var Oe=Z.valueOf;M(Z,G,(function(e){return s(Oe,this)}))}$(K,V),L[W]=!0},function(e,t,n){var r=n(7),o=n(152),i=n(153),a=n(3),s=n(57),u=n(28),l=u("iterator"),c=u("toStringTag"),f=a.values,p=function(e,t){if(e){if(e[l]!==f)try{s(e,l,f)}catch(t){e[l]=f}if(e[c]||s(e,c,t),o[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},function(e,t,n){"use strict";var r=n(151).charAt,o=n(39),i=n(58),a=n(116),s="String Iterator",u=i.set,l=i.getterFor(s);a(String,"String",(function(e){u(this,{type:s,string:o(e),index:0})}),(function(){var e,t=l(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(68))},function(e,t,n){"use strict";var r=n(16),o=n(36),i=n(7),a=n(15),s=n(35),u=n(30),l=n(54),c=n(39),f=n(38).f,p=n(134),d=i.Symbol,h=d&&d.prototype;if(o&&u(d)&&(!("description"in h)||void 0!==d().description)){var y={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=l(h,this)?new d(e):void 0===e?d():d(e);return""===e&&(y[t]=!0),t};p(v,d),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(d("test")),b=a(h.toString),m=a(h.valueOf),_=/^Symbol\((.*)\)[^)]+$/,O=a("".replace),w=a("".slice);f(h,"description",{configurable:!0,get:function(){var e=m(this),t=b(e);if(s(y,e))return"";var n=g?w(t,7,-1):O(t,_,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:v})}},function(e,t,n){n(141)("iterator")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"c",(function(){return a.e})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"b",(function(){return D})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return N})),n.d(t,"g",(function(){return se}));var r,o,i,a=n(0),s=0,u=[],l=a.i.__b,c=a.i.__r,f=a.i.diffed,p=a.i.__c,d=a.i.unmount;function h(e,t){a.i.__h&&a.i.__h(o,e,s||t),s=0;var n=o.__H||(o.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function y(e){return s=1,v(P,e)}function v(e,t,n){var i=h(r++,2);return i.t=e,i.__c||(i.__=[n?n(t):P(void 0,t),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function g(e,t){var n=h(r++,3);!a.i.__s&&E(n.__H,t)&&(n.__=e,n.__H=t,o.__H.__h.push(n))}function b(e,t){var n=h(r++,4);!a.i.__s&&E(n.__H,t)&&(n.__=e,n.__H=t,o.__h.push(n))}function m(e,t){var n=h(r++,7);return E(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function _(e,t){return s=8,m((function(){return e}),t)}function O(){var e;for(u.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=u.pop();)if(e.__P)try{e.__H.__h.forEach(j),e.__H.__h.forEach(S),e.__H.__h=[]}catch(t){e.__H.__h=[],a.i.__e(t,e.__v)}}a.i.__b=function(e){o=null,l&&l(e)},a.i.__r=function(e){c&&c(e),r=0;var t=(o=e.__c).__H;t&&(t.__h.forEach(j),t.__h.forEach(S),t.__h=[])},a.i.diffed=function(e){f&&f(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==u.push(t)&&i===a.i.requestAnimationFrame||((i=a.i.requestAnimationFrame)||x)(O)),o=null},a.i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(j),e.__h=e.__h.filter((function(e){return!e.__||S(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.i.__e(n,e.__v)}})),p&&p(e,t)},a.i.unmount=function(e){d&&d(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{j(e)}catch(e){t=e}})),t&&a.i.__e(t,n.__v))};var w="function"==typeof requestAnimationFrame;function x(e){var t,n=function(){clearTimeout(r),w&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);w&&(t=requestAnimationFrame(n))}function j(e){var t=o,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),o=t}function S(e){var t=o;e.__c=e.__(),o=t}function E(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function P(e,t){return"function"==typeof t?t(e):t}function k(e,t){for(var n in t)e[n]=t[n];return e}function T(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function D(e){this.props=e}function N(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:T(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Object(a.e)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(D.prototype=new a.a).isPureReactComponent=!0,D.prototype.shouldComponentUpdate=function(e,t){return T(this.props,e)||T(this.state,t)};var C=a.i.__b;a.i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),C&&C(e)};var A="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function M(e){function t(t,n){var r=k({},t);return delete r.ref,e(r,!(n=t.ref||n)||"object"==typeof n&&!("current"in n)?null:n)}return t.$$typeof=A,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var I=function(e,t){return null==e?null:Object(a.k)(Object(a.k)(e).map(t))},R={map:I,forEach:I,count:function(e){return e?Object(a.k)(e).length:0},only:function(e){var t=Object(a.k)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:a.k},L=a.i.__e;a.i.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);L(e,t,n)};var B=a.i.unmount;function F(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=k({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return F(e,t,n)}))),e}function z(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return z(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function q(){this.__u=0,this.t=null,this.__b=null}function $(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function H(){this.u=null,this.o=null}a.i.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),B&&B(e)},(q.prototype=new a.a).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=$(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=z(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},u=!0===t.__h;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},q.prototype.componentWillUnmount=function(){this.t=[]},q.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=F(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__e&&Object(a.e)(a.b,null,e.fallback);return o&&(o.__h=null),[Object(a.e)(a.b,null,t.__e?null:e.children),o]};var U=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function W(e){return this.getChildContext=function(){return e.context},e.children}function V(e){var t=this,n=e.i;t.componentWillUnmount=function(){Object(a.j)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(a.j)(Object(a.e)(W,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(H.prototype=new a.a).__e=function(e){var t=this,n=$(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),U(t,e,r)):o()};n?n(i):i()}},H.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(a.k)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},H.prototype.componentDidUpdate=H.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){U(e,n,t)}))};var G="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,X=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Y="undefined"!=typeof document,J=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};a.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(a.a.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var K=a.i.event;function Z(){}function Q(){return this.cancelBubble}function ee(){return this.defaultPrevented}a.i.event=function(e){return K&&(e=K(e)),e.persist=Z,e.isPropagationStopped=Q,e.isDefaultPrevented=ee,e.nativeEvent=e};var te,ne={configurable:!0,get:function(){return this.class}},re=a.i.vnode;a.i.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var o=-1===t.indexOf("-");for(var i in r={},n){var s=n[i];Y&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in n&&null==s||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===s?s="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!J(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():o&&X.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),r[i]=s)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(a.k)(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=Object(a.k)(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(ne.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",ne))}e.$$typeof=G,re&&re(e)};var oe=a.i.__r;a.i.__r=function(e){oe&&oe(e),te=e.__c};var ie={ReactCurrentDispatcher:{current:{readContext:function(e){return te.__n[e.__c].props.value}}}};function ae(e){return!!e&&e.$$typeof===G}var se=function(e,t){return e(t)},ue=a.b,le={useState:y,useReducer:v,useEffect:g,useLayoutEffect:b,useRef:function(e){return s=5,m((function(){return{current:e}}),[])},useImperativeHandle:function(e,t,n){s=6,b((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:m,useCallback:_,useContext:function(e){var t=o.context[e.__c],n=h(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(o)),t.props.value):e.__},useDebugValue:function(e,t){a.i.useDebugValue&&a.i.useDebugValue(t?t(e):e)},version:"17.0.2",Children:R,render:function(e,t,n){return null==t.__k&&(t.textContent=""),Object(a.j)(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return Object(a.h)(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(Object(a.j)(null,e),!0)},createPortal:function(e,t){return Object(a.e)(V,{__v:e,i:t})},createElement:a.e,createContext:a.d,createFactory:function(e){return a.e.bind(null,e)},cloneElement:function(e){return ae(e)?a.c.apply(null,arguments):e},createRef:a.f,Fragment:a.b,isValidElement:ae,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:a.a,PureComponent:D,memo:N,forwardRef:M,flushSync:function(e,t){return e(t)},unstable_batchedUpdates:se,StrictMode:ue,Suspense:q,SuspenseList:H,lazy:function(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return Object(a.e)(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ie};t.d=le},function(e,t,n){var r=n(7),o=n(152),i=n(153),a=n(187),s=n(57),u=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var l in o)o[l]&&u(r[l]&&r[l].prototype);u(i)},function(e,t,n){n(16)({target:"Object",stat:!0},{setPrototypeOf:n(102)})},function(e,t,n){var r=n(16),o=n(18),i=n(40),a=n(101),s=n(143);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,n){var r=n(16),o=n(46),i=n(76),a=n(203),s=n(165),u=n(32),l=n(33),c=n(60),f=n(18),p=o("Reflect","construct"),d=Object.prototype,h=[].push,y=f((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),v=!f((function(){p((function(){}))})),g=y||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(v&&!y)return p(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return i(h,r,t),new(i(a,e,r))}var o=n.prototype,f=c(l(o)?o:d),g=i(e,f,t);return l(g)?g:f}})},function(e,t){var n=Function.prototype,r=n.bind,o=n.call,i=r&&r.bind(o);e.exports=r?function(e){return e&&i(o,e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},function(e,t,n){var r=n(7),o=n(50).f,i=n(57),a=n(42),s=n(110),u=n(134),l=n(95);e.exports=function(e,t){var n,c,f,p,d,h=e.target,y=e.global,v=e.stat;if(n=y?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(c in t){if(p=t[c],f=e.noTargetGet?(d=o(n,c))&&d.value:n[c],!l(y?c:h+(v?".":"#")+c,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(n,c,p,e)}}},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(96),a=n(99),s=n(33),u=n(75),l=n(45),c=n(41),f=n(62),p=n(28),d=n(81),h=n(98),y=d("slice"),v=p("species"),g=o.Array,b=Math.max;r({target:"Array",proto:!0,forced:!y},{slice:function(e,t){var n,r,o,p=c(this),d=l(p),y=u(e,d),m=u(void 0===t?d:t,d);if(i(p)&&(n=p.constructor,(a(n)&&(n===g||i(n.prototype))||s(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return h(p,y,m);for(r=new(void 0===n?g:n)(b(m-y,0)),o=0;y<m;y++,o++)y in p&&f(r,o,p[y]);return r.length=o,r}})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(16),o=n(103);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){var r=n(16),o=n(40),i=n(77);r({target:"Object",stat:!0,forced:n(18)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,n){var r=n(36),o=n(73).EXISTS,i=n(15),a=n(38).f,s=Function.prototype,u=i(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=i(l.exec);r&&!o&&a(s,"name",{configurable:!0,get:function(){try{return c(l,u(this))[1]}catch(e){return""}}})},function(e,t,n){var r=n(16),o=n(18),i=n(41),a=n(50).f,s=n(36),u=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},function(e,t,n){var r=n(16),o=n(188);r({target:"Array",stat:!0,forced:!n(120)((function(e){Array.from(e)}))},{from:o})},function(e,t,n){"use strict";var r=n(16),o=n(79).filter;r({target:"Array",proto:!0,forced:!n(81)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(16),o=n(36),i=n(135),a=n(41),s=n(50),u=n(62);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),o=s.f,l=i(r),c={},f=0;l.length>f;)void 0!==(n=o(r,t=l[f++]))&&u(c,t,n);return c}})},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(18),a=n(96),s=n(33),u=n(40),l=n(45),c=n(62),f=n(115),p=n(81),d=n(28),h=n(70),y=d("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=o.TypeError,m=h>=51||!i((function(){var e=[];return e[y]=!1,e.concat()[0]!==e})),_=p("concat"),O=function(e){if(!s(e))return!1;var t=e[y];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!m||!_},{concat:function(e){var t,n,r,o,i,a=u(this),s=f(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(O(i=-1===t?a:arguments[t])){if(p+(o=l(i))>v)throw b(g);for(n=0;n<o;n++,p++)n in i&&c(s,p,i[n])}else{if(p>=v)throw b(g);c(s,p++,i)}return s.length=p,s}})},,function(e,t,n){var r=n(7),o=n(89),i=n(35),a=n(90),s=n(108),u=n(132),l=o("wks"),c=r.Symbol,f=c&&c.for,p=u?c:c&&c.withoutSetter||a;e.exports=function(e){if(!i(l,e)||!s&&"string"!=typeof l[e]){var t="Symbol."+e;s&&i(c,e)?l[e]=c[e]:l[e]=u&&f?f(t):p(t)}return l[e]}},function(e,t,n){var r=n(16),o=n(202);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r=n(106),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){var r=n(7),o=n(33),i=r.String,a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not an object")}},function(e,t,n){var r=n(30);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t){var n=Function.prototype.call;e.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(e,t,n){var r=n(15),o=n(40),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},function(e,t,n){var r=n(18);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){"use strict";var r=n(16),o=n(79).map;r({target:"Array",proto:!0,forced:!n(81)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(7),o=n(36),i=n(133),a=n(32),s=n(86),u=r.TypeError,l=Object.defineProperty;t.f=o?l:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(7),o=n(97),i=r.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},function(e,t,n){var r=n(7),o=n(44),i=r.Object;e.exports=function(e){return i(o(e))}},function(e,t,n){var r=n(85),o=n(44);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(7),o=n(30),i=n(35),a=n(57),s=n(110),u=n(92),l=n(58),c=n(73).CONFIGURABLE,f=l.get,p=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,u){var l,f=!!u&&!!u.unsafe,h=!!u&&!!u.enumerable,y=!!u&&!!u.noTargetGet,v=u&&void 0!==u.name?u.name:t;o(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||c&&n.name!==v)&&a(n,"name",v),(l=p(n)).source||(l.source=d.join("string"==typeof v?v:""))),e!==r?(f?!y&&e[t]&&(h=!0):delete e[t],h?e[t]=n:a(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||u(this)}))},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(10),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function i(){var e=o(Object(r.j)(0),2)[1];return Object(r.h)((function(){e((function(e){return e+1}))}),[])}function a(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}function s(e){return"function"==typeof Symbol?Symbol.for(e):"__$mobx-react "+e+"__"}var u={};function l(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:u}}).call(this,n(68))},function(e,t,n){var r=n(7).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},function(e,t,n){var r=n(94);e.exports=function(e){return r(e.length)}},function(e,t,n){var r=n(7),o=n(30),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},function(e,t,n){var r=n(16),o=n(34),i=n(33),a=n(32),s=n(204),u=n(50),l=n(101);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,c,f=arguments.length<3?t:arguments[2];return a(t)===f?t[n]:(r=u.f(t,n))?s(r)?r.value:void 0===r.get?void 0:o(r.get,f):i(c=l(t))?e(c,n,f):void 0}})},function(e,n,r){"use strict";(function(e){var o=r(31),i=r(171),a=t&&!t.nodeType&&t,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=s&&s.exports===a?o.a.Buffer:void 0,l=(u?u.isBuffer:void 0)||i.a;n.a=l}).call(this,r(122)(e))},function(e,n,r){"use strict";(function(e){var o=r(106),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i&&o.a.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();n.a=u}).call(this,r(122)(e))},function(e,t,n){var r=n(36),o=n(34),i=n(84),a=n(69),s=n(41),u=n(86),l=n(35),c=n(133),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=u(t),c)try{return f(e,t)}catch(e){}if(l(e,t))return a(!o(i.f,e,t),e[t])}},function(e,t,n){var r=n(15),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},function(e,t,n){"use strict";n(182)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(186))},function(e,t,n){var r=n(16),o=n(219).entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},function(e,t,n){var r=n(15);e.exports=r({}.isPrototypeOf)},function(e,t,n){var r=n(46);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(7),o=n(30),i=n(88),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a function")}},function(e,t,n){var r=n(36),o=n(38),i=n(69);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r,o,i,a=n(175),s=n(7),u=n(15),l=n(33),c=n(57),f=n(35),p=n(109),d=n(93),h=n(72),y="Object already initialized",v=s.TypeError,g=s.WeakMap;if(a||p.state){var b=p.state||(p.state=new g),m=u(b.get),_=u(b.has),O=u(b.set);r=function(e,t){if(_(b,e))throw new v(y);return t.facade=e,O(b,e,t),t},o=function(e){return m(b,e)||{}},i=function(e){return _(b,e)}}else{var w=d("state");h[w]=!0,r=function(e,t){if(f(e,w))throw new v(y);return t.facade=e,c(e,w,t),t},o=function(e){return f(e,w)?e[w]:{}},i=function(e){return f(e,w)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){var t=+e;return t!=t||0===t?0:(t>0?r:n)(t)}},function(e,t,n){var r,o=n(32),i=n(176),a=n(111),s=n(72),u=n(138),l=n(91),c=n(93),f=c("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"<\/script>"},h=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;y="undefined"!=typeof document?document.domain&&r?h(r):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):h(r);for(var n=a.length;n--;)delete y.prototype[a[n]];return y()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=o(e),n=new p,p.prototype=null,n[f]=e):n=y(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(56);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},function(e,t,n){"use strict";var r=n(86),o=n(38),i=n(69);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(15),o=n(56),i=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?i(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(36),o=n(7),i=n(15),a=n(95),s=n(42),u=n(35),l=n(148),c=n(54),f=n(87),p=n(131),d=n(18),h=n(74).f,y=n(50).f,v=n(38).f,g=n(160),b=n(161).trim,m="Number",_=o.Number,O=_.prototype,w=o.TypeError,x=i("".slice),j=i("".charCodeAt),S=function(e){var t=p(e,"number");return"bigint"==typeof t?t:E(t)},E=function(e){var t,n,r,o,i,a,s,u,l=p(e,"number");if(f(l))throw w("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=b(l),43===(t=j(l,0))||45===t){if(88===(n=j(l,2))||120===n)return NaN}else if(48===t){switch(j(l,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(a=(i=x(l,2)).length,s=0;s<a;s++)if((u=j(i,s))<48||u>o)return NaN;return parseInt(i,r)}return+l};if(a(m,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var P,k=function(e){var t=arguments.length<1?0:_(S(e)),n=this;return c(O,n)&&d((function(){g(n)}))?l(Object(t),n,k):t},T=r?h(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),D=0;T.length>D;D++)u(_,P=T[D])&&!u(k,P)&&v(k,P,y(_,P));k.prototype=O,O.constructor=k,s(o,m,k)}},function(e,t,n){"use strict";var r=n(16),o=n(15),i=n(85),a=n(41),s=n(121),u=o([].join),l=i!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return u(a(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(15),o=n(73).PROPER,i=n(42),a=n(32),s=n(54),u=n(39),l=n(18),c=n(154),f="toString",p=RegExp.prototype,d=p.toString,h=r(c),y=l((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),v=o&&d.name!=f;(y||v)&&i(RegExp.prototype,f,(function(){var e=a(this),t=u(e.source),n=e.flags;return"/"+t+"/"+u(void 0===n&&s(p,e)&&!("flags"in p)?h(e):n)}),{unsafe:!0})},function(e,t,n){var r=n(16),o=n(216),i=n(100);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r,o,i=n(7),a=n(55),s=i.process,u=i.Deno,l=s&&s.versions||u&&u.version,c=l&&l.v8;c&&(o=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,n){var r=n(36),o=n(35),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),u=s&&"something"===function(){}.name,l=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},function(e,t,n){var r=n(136),o=n(111).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(59),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){var n=Function.prototype,r=n.apply,o=n.bind,i=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?i.bind(r):function(){return i.apply(r,arguments)})},function(e,t,n){var r=n(136),o=n(111);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(38).f,o=n(35),i=n(28)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(63),o=n(15),i=n(85),a=n(40),s=n(45),u=n(115),l=o([].push),c=function(e){var t=1==e,n=2==e,o=3==e,c=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,y,v,g){for(var b,m,_=a(h),O=i(_),w=r(y,v),x=s(O),j=0,S=g||u,E=t?S(h,x):n||p?S(h,0):void 0;x>j;j++)if((d||j in O)&&(m=w(b=O[j],j,_),e))if(t)E[j]=m;else if(m)switch(e){case 3:return!0;case 5:return b;case 6:return j;case 2:l(E,b)}else switch(e){case 4:return!1;case 7:l(E,b)}return f?-1:o||c?c:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},function(e,t){e.exports={}},function(e,t,n){var r=n(18),o=n(28),i=n(70),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){"use strict";var r=n(76),o=n(34),i=n(15),a=n(123),s=n(159),u=n(32),l=n(44),c=n(164),f=n(124),p=n(94),d=n(39),h=n(61),y=n(114),v=n(125),g=n(103),b=n(155),m=n(18),_=b.UNSUPPORTED_Y,O=4294967295,w=Math.min,x=[].push,j=i(/./.exec),S=i(x),E=i("".slice),P=!m((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=d(l(this)),a=void 0===n?O:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!s(e))return o(t,i,e,a);for(var u,c,f,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,b=new RegExp(e.source,h+"g");(u=o(g,b,i))&&!((c=b.lastIndex)>v&&(S(p,E(i,v,u.index)),u.length>1&&u.index<i.length&&r(x,p,y(u,1)),f=u[0].length,v=c,p.length>=a));)b.lastIndex===u.index&&b.lastIndex++;return v===i.length?!f&&j(b,"")||S(p,""):S(p,E(i,v)),p.length>a?y(p,0,a):p}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:o(t,this,e,n)}:t,[function(t,n){var r=l(this),a=null==t?void 0:h(t,e);return a?o(a,t,r,n):o(i,d(r),t,n)},function(e,r){var o=u(this),a=d(e),s=n(i,o,a,r,i!==t);if(s.done)return s.value;var l=c(o,RegExp),h=o.unicode,y=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(_?"g":"y"),g=new l(_?"^(?:"+o.source+")":o,y),b=void 0===r?O:r>>>0;if(0===b)return[];if(0===a.length)return null===v(g,a)?[a]:[];for(var m=0,x=0,j=[];x<a.length;){g.lastIndex=_?0:x;var P,k=v(g,_?E(a,x):a);if(null===k||(P=w(p(g.lastIndex+(_?x:0)),a.length))===m)x=f(a,x,h);else{if(S(j,E(a,m,x)),j.length===b)return j;for(var T=1;T<=k.length-1;T++)if(S(j,k[T]),j.length===b)return j;x=m=P}}return S(j,E(a,m)),j}]}),!P,_)},function(e,t,n){n(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(7),o=n(15),i=n(18),a=n(51),s=r.Object,u=o("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?u(e,""):s(e)}:s},function(e,t,n){var r=n(131),o=n(87);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},function(e,t,n){var r=n(7),o=n(46),i=n(30),a=n(54),s=n(132),u=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&a(t.prototype,u(e))}},function(e,t,n){var r=n(7).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},function(e,t,n){var r=n(71),o=n(109);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(15),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},function(e,t,n){var r=n(7),o=n(33),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(15),o=n(30),i=n(109),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},function(e,t,n){var r=n(89),o=n(90),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){var r=n(59),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(18),o=n(30),i=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n==c||n!=l&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},function(e,t,n){var r=n(51);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(7),o=n(113),i=n(30),a=n(51),s=n(28)("toStringTag"),u=r.Object,l="Arguments"==a(function(){return arguments}());e.exports=o?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=u(e),s))?n:l?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},function(e,t,n){var r=n(15);e.exports=r([].slice)},function(e,t,n){var r=n(15),o=n(18),i=n(30),a=n(97),s=n(46),u=n(92),l=function(){},c=[],f=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),h=!p.exec(l),y=function(e){if(!i(e))return!1;try{return f(l,c,e),!0}catch(e){return!1}};e.exports=!f||o((function(){var e;return y(y.call)||!y(Object)||!y((function(){e=!0}))||e}))?function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d(p,u(e))}:y},function(e,t,n){var r=n(28),o=n(60),i=n(38),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){var r=n(7),o=n(35),i=n(30),a=n(40),s=n(93),u=n(143),l=s("IE_PROTO"),c=r.Object,f=c.prototype;e.exports=u?c.getPrototypeOf:function(e){var t=a(e);if(o(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?f:null}},function(e,t,n){var r=n(15),o=n(32),i=n(181);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},function(e,t,n){"use strict";var r,o,i=n(34),a=n(15),s=n(39),u=n(154),l=n(155),c=n(89),f=n(60),p=n(58).get,d=n(190),h=n(191),y=c("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,b=a("".charAt),m=a("".indexOf),_=a("".replace),O=a("".slice),w=(o=/b*/g,i(v,r=/a/,"a"),i(v,o,"a"),0!==r.lastIndex||0!==o.lastIndex),x=l.BROKEN_CARET,j=void 0!==/()??/.exec("")[1];(w||j||x||d||h)&&(g=function(e){var t,n,r,o,a,l,c,d=this,h=p(d),S=s(e),E=h.raw;if(E)return E.lastIndex=d.lastIndex,t=i(g,E,S),d.lastIndex=E.lastIndex,t;var P=h.groups,k=x&&d.sticky,T=i(u,d),D=d.source,N=0,C=S;if(k&&(T=_(T,"y",""),-1===m(T,"g")&&(T+="g"),C=O(S,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(S,d.lastIndex-1))&&(D="(?: "+D+")",C=" "+C,N++),n=new RegExp("^(?:"+D+")",T)),j&&(n=new RegExp("^"+D+"$(?!\\s)",T)),w&&(r=d.lastIndex),o=i(v,k?n:d,C),k?o?(o.input=O(o.input,N),o[0]=O(o[0],N),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:w&&o&&(d.lastIndex=d.global?o.index+o[0].length:r),j&&o&&o.length>1&&i(y,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&P)for(o.groups=l=f(null),a=0;a<P.length;a++)l[(c=P[a])[0]]=o[c[1]];return o}),e.exports=g},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(75),a=n(59),s=n(45),u=n(40),l=n(115),c=n(62),f=n(81)("splice"),p=o.TypeError,d=Math.max,h=Math.min,y=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,o,f,g,b,m=u(this),_=s(m),O=i(e,_),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=_-O):(n=w-2,r=h(d(a(t),0),_-O)),_+n-r>y)throw p(v);for(o=l(m,r),f=0;f<r;f++)(g=O+f)in m&&c(o,f,m[g]);if(o.length=r,n<r){for(f=O;f<_-r;f++)b=f+n,(g=f+r)in m?m[b]=m[g]:delete m[b];for(f=_;f>_-r+n;f--)delete m[f-1]}else if(n>r)for(f=_-r;f>O;f--)b=f+n-1,(g=f+r-1)in m?m[b]=m[g]:delete m[b];for(f=0;f<n;f++)m[f+O]=arguments[f+2];return m.length=_-r+n,o}})},function(e,t,n){"use strict";var r=n(16),o=n(205);r({target:"String",proto:!0,forced:n(206)("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(68))},function(e,n,r){"use strict";(function(e){var o=r(31),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?o.a.Buffer:void 0,u=s?s.allocUnsafe:void 0;n.a=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,r(122)(e))},function(e,t,n){var r=n(70),o=n(18);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t,n){var r=n(7),o=n(110),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},function(e,t,n){var r=n(7),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r={};r[n(28)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(7),o=n(75),i=n(45),a=n(62),s=r.Array,u=Math.max;e.exports=function(e,t,n){for(var r=i(e),l=o(t,r),c=o(void 0===n?r:n,r),f=s(u(c-l,0)),p=0;l<c;l++,p++)a(f,p,e[l]);return f.length=p,f}},function(e,t,n){var r=n(178);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){"use strict";var r=n(16),o=n(34),i=n(71),a=n(73),s=n(30),u=n(180),l=n(101),c=n(102),f=n(78),p=n(57),d=n(42),h=n(28),y=n(80),v=n(142),g=a.PROPER,b=a.CONFIGURABLE,m=v.IteratorPrototype,_=v.BUGGY_SAFARI_ITERATORS,O=h("iterator"),w="keys",x="values",j="entries",S=function(){return this};e.exports=function(e,t,n,a,h,v,E){u(n,t,a);var P,k,T,D=function(e){if(e===h&&I)return I;if(!_&&e in A)return A[e];switch(e){case w:case x:case j:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",C=!1,A=e.prototype,M=A[O]||A["@@iterator"]||h&&A[h],I=!_&&M||D(h),R="Array"==t&&A.entries||M;if(R&&(P=l(R.call(new e)))!==Object.prototype&&P.next&&(i||l(P)===m||(c?c(P,m):s(P[O])||d(P,O,S)),f(P,N,!0,!0),i&&(y[N]=S)),g&&h==x&&M&&M.name!==x&&(!i&&b?p(A,"name",x):(C=!0,I=function(){return o(M,this)})),h)if(k={values:D(x),keys:v?I:D(w),entries:D(j)},E)for(T in k)(_||C||!(T in A))&&d(A,T,k[T]);else r({target:t,proto:!0,forced:_||C},k);return i&&!E||A[O]===I||d(A,O,I,{name:h}),y[t]=I,k}},function(e,t,n){var r=n(7),o=n(63),i=n(34),a=n(32),s=n(88),u=n(145),l=n(45),c=n(54),f=n(146),p=n(118),d=n(147),h=r.TypeError,y=function(e,t){this.stopped=e,this.result=t},v=y.prototype;e.exports=function(e,t,n){var r,g,b,m,_,O,w,x=n&&n.that,j=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),P=o(t,x),k=function(e){return r&&d(r,"normal",e),new y(!0,e)},T=function(e){return j?(a(e),E?P(e[0],e[1],k):P(e[0],e[1])):E?P(e,k):P(e)};if(S)r=e;else{if(!(g=p(e)))throw h(s(e)+" is not iterable");if(u(g)){for(b=0,m=l(e);m>b;b++)if((_=T(e[b]))&&c(v,_))return _;return new y(!1)}r=f(e,g)}for(O=r.next;!(w=i(O,r)).done;){try{_=T(w.value)}catch(e){d(r,"throw",e)}if("object"==typeof _&&_&&c(v,_))return _}return new y(!1)}},function(e,t,n){var r=n(97),o=n(61),i=n(80),a=n(28)("iterator");e.exports=function(e){if(null!=e)return o(e,a)||o(e,"@@iterator")||i[r(e)]}},function(e,t,n){var r=n(7),o=n(54),i=r.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw i("Incorrect invocation")}},function(e,t,n){var r=n(28)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n(19);var r=n(15),o=n(42),i=n(103),a=n(18),s=n(28),u=n(57),l=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,f){var p=s(e),d=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=d&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!d||!h||n){var y=r(/./[p]),v=t(p,""[e],(function(e,t,n,o,a){var s=r(e),u=t.exec;return u===i||u===c.exec?d&&!a?{done:!0,value:y(t,n,o)}:{done:!0,value:s(n,t,o)}:{done:!1}}));o(String.prototype,e,v[0]),o(c,p,v[1])}f&&u(c[p],"sham",!0)}},function(e,t,n){"use strict";var r=n(151).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(7),o=n(34),i=n(32),a=n(30),s=n(51),u=n(103),l=r.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var r=o(n,e,t);return null!==r&&i(r),r}if("RegExp"===s(e))return o(u,e,t);throw l("RegExp#exec called on incompatible receiver")}},function(e,t,n){"use strict";var r=n(76),o=n(34),i=n(15),a=n(123),s=n(18),u=n(32),l=n(30),c=n(59),f=n(94),p=n(39),d=n(44),h=n(124),y=n(61),v=n(201),g=n(125),b=n(28)("replace"),m=Math.max,_=Math.min,O=i([].concat),w=i([].push),x=i("".indexOf),j=i("".slice),S="$0"==="a".replace(/./,"$0"),E=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(e,t,n){var i=E?"$":"$0";return[function(e,n){var r=d(this),i=null==e?void 0:y(e,b);return i?o(i,e,r,n):o(t,p(r),e,n)},function(e,o){var a=u(this),s=p(e);if("string"==typeof o&&-1===x(o,i)&&-1===x(o,"$<")){var d=n(t,a,s,o);if(d.done)return d.value}var y=l(o);y||(o=p(o));var b=a.global;if(b){var S=a.unicode;a.lastIndex=0}for(var E=[];;){var P=g(a,s);if(null===P)break;if(w(E,P),!b)break;""===p(P[0])&&(a.lastIndex=h(s,f(a.lastIndex),S))}for(var k,T="",D=0,N=0;N<E.length;N++){for(var C=p((P=E[N])[0]),A=m(_(c(P.index),s.length),0),M=[],I=1;I<P.length;I++)w(M,void 0===(k=P[I])?k:String(k));var R=P.groups;if(y){var L=O([C],M,A,s);void 0!==R&&w(L,R);var B=p(r(o,void 0,L))}else B=v(C,s,A,M,R,o);A>=D&&(T+=j(s,D,A)+B,D=A+C.length)}return T+j(s,D)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!S||E)},function(e,t,n){var r=n(16),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,o=0,s=0,u=arguments.length,l=0;s<u;)l<(n=i(arguments[s++]))?(o=o*(r=l/n)*r+1,l=n):o+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*a(o)}})},function(e,t,n){var r=n(51),o=n(7);e.exports="process"==r(o.process)},function(e,t,n){n(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){(function(e,r){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,a="Expected a function",s="__lodash_hash_undefined__",u="__lodash_placeholder__",l=16,c=32,f=64,p=128,d=256,h=1/0,y=9007199254740991,v=NaN,g=4294967295,b=[["ary",p],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",f],["rearg",d]],m="[object Arguments]",_="[object Array]",O="[object Boolean]",w="[object Date]",x="[object Error]",j="[object Function]",S="[object GeneratorFunction]",E="[object Map]",P="[object Number]",k="[object Object]",T="[object Promise]",D="[object RegExp]",N="[object Set]",C="[object String]",A="[object Symbol]",M="[object WeakMap]",I="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",B="[object Float64Array]",F="[object Int8Array]",z="[object Int16Array]",q="[object Int32Array]",$="[object Uint8Array]",H="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",V=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,K=RegExp(Y.source),Z=RegExp(J.source),Q=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),se=/^\s+/,ue=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,ye=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,be=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,Oe=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,je=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",ke="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",De="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['’]",Ce="[\\ud800-\\udfff]",Ae="["+De+"]",Me="["+Se+"]",Ie="\\d+",Re="[\\u2700-\\u27bf]",Le="["+Pe+"]",Be="[^\\ud800-\\udfff"+De+Ie+Ee+Pe+ke+"]",Fe="\\ud83c[\\udffb-\\udfff]",ze="[^\\ud800-\\udfff]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",$e="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+ke+"]",Ue="(?:"+Le+"|"+Be+")",We="(?:"+He+"|"+Be+")",Ve="(?:['’](?:d|ll|m|re|s|t|ve))?",Ge="(?:['’](?:D|LL|M|RE|S|T|VE))?",Xe="(?:"+Me+"|"+Fe+")?",Ye="[\\ufe0e\\ufe0f]?",Je=Ye+Xe+"(?:\\u200d(?:"+[ze,qe,$e].join("|")+")"+Ye+Xe+")*",Ke="(?:"+[Re,qe,$e].join("|")+")"+Je,Ze="(?:"+[ze+Me+"?",Me,qe,$e,Ce].join("|")+")",Qe=RegExp(Ne,"g"),et=RegExp(Me,"g"),tt=RegExp(Fe+"(?="+Fe+")|"+Ze+Je,"g"),nt=RegExp([He+"?"+Le+"+"+Ve+"(?="+[Ae,He,"$"].join("|")+")",We+"+"+Ge+"(?="+[Ae,He+Ue,"$"].join("|")+")",He+"?"+Ue+"+"+Ve,He+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Ke].join("|"),"g"),rt=RegExp("[\\u200d\\ud800-\\udfff"+Se+Te+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,st={};st[L]=st[B]=st[F]=st[z]=st[q]=st[$]=st[H]=st[U]=st[W]=!0,st[m]=st[_]=st[I]=st[O]=st[R]=st[w]=st[x]=st[j]=st[E]=st[P]=st[k]=st[D]=st[N]=st[C]=st[M]=!1;var ut={};ut[m]=ut[_]=ut[I]=ut[R]=ut[O]=ut[w]=ut[L]=ut[B]=ut[F]=ut[z]=ut[q]=ut[E]=ut[P]=ut[k]=ut[D]=ut[N]=ut[C]=ut[A]=ut[$]=ut[H]=ut[U]=ut[W]=!0,ut[x]=ut[j]=ut[M]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,ft=parseInt,pt="object"==typeof e&&e&&e.Object===Object&&e,dt="object"==typeof self&&self&&self.Object===Object&&self,ht=pt||dt||Function("return this")(),yt=t&&!t.nodeType&&t,vt=yt&&"object"==typeof r&&r&&!r.nodeType&&r,gt=vt&&vt.exports===yt,bt=gt&&pt.process,mt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),_t=mt&&mt.isArrayBuffer,Ot=mt&&mt.isDate,wt=mt&&mt.isMap,xt=mt&&mt.isRegExp,jt=mt&&mt.isSet,St=mt&&mt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Pt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Ct(e,t){return!(null==e||!e.length)&&$t(e,t,0)>-1}function At(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function It(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Rt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Lt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Vt("length");function zt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function qt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function $t(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):qt(e,Ut,n)}function Ht(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Ut(e){return e!=e}function Wt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:v}function Vt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Xt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Yt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Jt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,vn(e)+1).replace(se,""):e}function Zt(e){return function(t){return e(t)}}function Qt(e,t){return Mt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&$t(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&$t(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var on=Gt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+lt[e]}function un(e){return rt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==u||(e[n]=u,i[o++]=n)}return i}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return un(e)?function(e){for(var t=tt.lastIndex=0;tt.test(e);)++t;return t}(e):Ft(e)}function yn(e){return un(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var gn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),bn=function e(t){var n,r=(t=null==t?ht:bn.defaults(ht.Object(),t,bn.pick(ht,it))).Array,o=t.Date,ue=t.Error,Se=t.Function,Ee=t.Math,Pe=t.Object,ke=t.RegExp,Te=t.String,De=t.TypeError,Ne=r.prototype,Ce=Se.prototype,Ae=Pe.prototype,Me=t["__core-js_shared__"],Ie=Ce.toString,Re=Ae.hasOwnProperty,Le=0,Be=(n=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Ae.toString,ze=Ie.call(Pe),qe=ht._,$e=ke("^"+Ie.call(Re).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=gt?t.Buffer:i,Ue=t.Symbol,We=t.Uint8Array,Ve=He?He.allocUnsafe:i,Ge=cn(Pe.getPrototypeOf,Pe),Xe=Pe.create,Ye=Ae.propertyIsEnumerable,Je=Ne.splice,Ke=Ue?Ue.isConcatSpreadable:i,Ze=Ue?Ue.iterator:i,tt=Ue?Ue.toStringTag:i,rt=function(){try{var e=hi(Pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,pt=o&&o.now!==ht.Date.now&&o.now,dt=t.setTimeout!==ht.setTimeout&&t.setTimeout,yt=Ee.ceil,vt=Ee.floor,bt=Pe.getOwnPropertySymbols,mt=He?He.isBuffer:i,Ft=t.isFinite,Gt=Ne.join,mn=cn(Pe.keys,Pe),_n=Ee.max,On=Ee.min,wn=o.now,xn=t.parseInt,jn=Ee.random,Sn=Ne.reverse,En=hi(t,"DataView"),Pn=hi(t,"Map"),kn=hi(t,"Promise"),Tn=hi(t,"Set"),Dn=hi(t,"WeakMap"),Nn=hi(Pe,"create"),Cn=Dn&&new Dn,An={},Mn=qi(En),In=qi(Pn),Rn=qi(kn),Ln=qi(Tn),Bn=qi(Dn),Fn=Ue?Ue.prototype:i,zn=Fn?Fn.valueOf:i,qn=Fn?Fn.toString:i;function $n(e){if(os(e)&&!Ga(e)&&!(e instanceof Vn)){if(e instanceof Wn)return e;if(Re.call(e,"__wrapped__"))return $i(e)}return new Wn(e)}var Hn=function(){function e(){}return function(t){if(!rs(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Un(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Zn(e,t){var n=Ga(e),r=!n&&Va(e),o=!n&&!r&&Ka(e),i=!n&&!r&&!o&&ps(e),a=n||r||o||i,s=a?Jt(e.length,Te):[],u=s.length;for(var l in e)!t&&!Re.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Oi(l,u))||s.push(l);return s}function Qn(e){var t=e.length;return t?e[Jr(0,t-1)]:i}function er(e,t){return Bi(Co(e),lr(t,0,e.length))}function tr(e){return Bi(Co(e))}function nr(e,t,n){(n!==i&&!Ha(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function rr(e,t,n){var r=e[t];Re.call(e,t)&&Ha(r,n)&&(n!==i||t in e)||sr(e,t,n)}function or(e,t){for(var n=e.length;n--;)if(Ha(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ar(e,t){return e&&Ao(t,Ms(t),e)}function sr(e,t,n){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:Ts(e,t[n]);return a}function lr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,o,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!rs(e))return e;var f=Ga(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Co(e,s)}else{var p=gi(e),d=p==j||p==S;if(Ka(e))return Eo(e,u);if(p==k||p==m||d&&!o){if(s=l||d?{}:mi(e),!u)return l?function(e,t){return Ao(e,vi(e),t)}(e,function(e,t){return e&&Ao(t,Is(t),e)}(s,e)):function(e,t){return Ao(e,yi(e),t)}(e,ar(s,e))}else{if(!ut[p])return o?e:{};s=function(e,t,n){var r,o=e.constructor;switch(t){case I:return Po(e);case O:case w:return new o(+e);case R:return function(e,t){var n=t?Po(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case B:case F:case z:case q:case $:case H:case U:case W:return ko(e,n);case E:return new o;case P:case C:return new o(e);case D:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new o;case A:return r=e,zn?Pe(zn.call(r)):{}}}(e,p,u)}}a||(a=new Kn);var h=a.get(e);if(h)return h;a.set(e,s),ls(e)?e.forEach((function(r){s.add(cr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,o){s.set(o,cr(r,t,n,o,e,a))}));var y=f?i:(c?l?si:ai:l?Is:Ms)(e);return kt(y||e,(function(r,o){y&&(r=e[o=r]),rr(s,o,cr(r,t,n,o,e,a))})),s}function fr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Pe(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function pr(e,t,n){if("function"!=typeof e)throw new De(a);return Mi((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var o=-1,i=Ct,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Mt(t,Zt(n))),r?(i=At,a=!1):t.length>=200&&(i=en,a=!1,t=new Jn(t));e:for(;++o<s;){var c=e[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var p=l;p--;)if(t[p]===f)continue e;u.push(c)}else i(t,f,r)||u.push(c)}return u}$n.templateSettings={escape:Q,evaluate:ee,interpolate:te,variable:"",imports:{_:$n}},$n.prototype=Un.prototype,$n.prototype.constructor=$n,Wn.prototype=Hn(Un.prototype),Wn.prototype.constructor=Wn,Vn.prototype=Hn(Un.prototype),Vn.prototype.constructor=Vn,Gn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==i:Re.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===i?s:t,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=or(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},Xn.prototype.get=function(e){var t=this.__data__,n=or(t,e);return n<0?i:t[n][1]},Xn.prototype.has=function(e){return or(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=or(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Pn||Xn),string:new Gn}},Yn.prototype.delete=function(e){var t=pi(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return pi(this,e).get(e)},Yn.prototype.has=function(e){return pi(this,e).has(e)},Yn.prototype.set=function(e,t){var n=pi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,s),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!Pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ro(wr),yr=Ro(xr,!0);function vr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function gr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s==s&&!fs(s):n(s,u)))var u=s,l=a}return l}function br(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function mr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=_i),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?mr(s,t-1,n,r,o):It(o,s):r||(o[o.length]=s)}return o}var _r=Lo(),Or=Lo(!0);function wr(e,t){return e&&_r(e,t,Ms)}function xr(e,t){return e&&Or(e,t,Ms)}function jr(e,t){return Nt(t,(function(t){return es(e[t])}))}function Sr(e,t){for(var n=0,r=(t=wo(t,e)).length;null!=e&&n<r;)e=e[zi(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return Ga(e)?r:It(r,n(e))}function Pr(e){return null==e?e===i?"[object Undefined]":"[object Null]":tt&&tt in Pe(e)?function(e){var t=Re.call(e,tt),n=e[tt];try{e[tt]=i;var r=!0}catch(e){}var o=Fe.call(e);return r&&(t?e[tt]=n:delete e[tt]),o}(e):function(e){return Fe.call(e)}(e)}function kr(e,t){return e>t}function Tr(e,t){return null!=e&&Re.call(e,t)}function Dr(e,t){return null!=e&&t in Pe(e)}function Nr(e,t,n){for(var o=n?At:Ct,a=e[0].length,s=e.length,u=s,l=r(s),c=1/0,f=[];u--;){var p=e[u];u&&t&&(p=Mt(p,Zt(t))),c=On(p.length,c),l[u]=!n&&(t||a>=120&&p.length>=120)?new Jn(u&&p):i}p=e[0];var d=-1,h=l[0];e:for(;++d<a&&f.length<c;){var y=p[d],v=t?t(y):y;if(y=n||0!==y?y:0,!(h?en(h,v):o(f,v,n))){for(u=s;--u;){var g=l[u];if(!(g?en(g,v):o(e[u],v,n)))continue e}h&&h.push(v),f.push(y)}}return f}function Cr(e,t,n){var r=null==(e=Di(e,t=wo(t,e)))?e:e[zi(Qi(t))];return null==r?i:Et(r,e,n)}function Ar(e){return os(e)&&Pr(e)==m}function Mr(e,t,n,r,o){return e===t||(null==e||null==t||!os(e)&&!os(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var s=Ga(e),u=Ga(t),l=s?_:gi(e),c=u?_:gi(t),f=(l=l==m?k:l)==k,p=(c=c==m?k:c)==k,d=l==c;if(d&&Ka(e)){if(!Ka(t))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new Kn),s||ps(e)?oi(e,t,n,r,o,a):function(e,t,n,r,o,i,a){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!i(new We(e),new We(t)));case O:case w:case P:return Ha(+e,+t);case x:return e.name==t.name&&e.message==t.message;case D:case C:return e==t+"";case E:var s=ln;case N:var u=1&r;if(s||(s=pn),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=oi(s(e),s(t),r,o,i,a);return a.delete(e),c;case A:if(zn)return zn.call(e)==zn.call(t)}return!1}(e,t,l,n,r,o,a);if(!(1&n)){var h=f&&Re.call(e,"__wrapped__"),y=p&&Re.call(t,"__wrapped__");if(h||y){var v=h?e.value():e,g=y?t.value():t;return a||(a=new Kn),o(v,g,n,r,a)}}return!!d&&(a||(a=new Kn),function(e,t,n,r,o,a){var s=1&n,u=ai(e),l=u.length,c=ai(t).length;if(l!=c&&!s)return!1;for(var f=l;f--;){var p=u[f];if(!(s?p in t:Re.call(t,p)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var y=!0;a.set(e,t),a.set(t,e);for(var v=s;++f<l;){var g=e[p=u[f]],b=t[p];if(r)var m=s?r(b,g,p,t,e,a):r(g,b,p,e,t,a);if(!(m===i?g===b||o(g,b,n,r,a):m)){y=!1;break}v||(v="constructor"==p)}if(y&&!v){var _=e.constructor,O=t.constructor;_==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof O&&O instanceof O||(y=!1)}return a.delete(e),a.delete(t),y}(e,t,n,r,o,a))}(e,t,n,r,Mr,o))}function Ir(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Pe(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var l=(u=n[o])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var p=new Kn;if(r)var d=r(c,f,l,e,t,p);if(!(d===i?Mr(f,c,3,r,p):d))return!1}}return!0}function Rr(e){return!(!rs(e)||(t=e,Be&&Be in t))&&(es(e)?$e:me).test(qi(e));var t}function Lr(e){return"function"==typeof e?e:null==e?au:"object"==typeof e?Ga(e)?Hr(e[0],e[1]):$r(e):yu(e)}function Br(e){if(!Ei(e))return mn(e);var t=[];for(var n in Pe(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in Pe(e))t.push(n);return t}(e);var t=Ei(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}function zr(e,t){return e<t}function qr(e,t){var n=-1,o=Ya(e)?r(e.length):[];return hr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function $r(e){var t=di(e);return 1==t.length&&t[0][2]?ki(t[0][0],t[0][1]):function(n){return n===e||Ir(n,e,t)}}function Hr(e,t){return xi(e)&&Pi(t)?ki(zi(e),t):function(n){var r=Ts(n,e);return r===i&&r===t?Ds(n,e):Mr(t,r,3)}}function Ur(e,t,n,r,o){e!==t&&_r(t,(function(a,s){if(o||(o=new Kn),rs(a))!function(e,t,n,r,o,a,s){var u=Ci(e,n),l=Ci(t,n),c=s.get(l);if(c)nr(e,n,c);else{var f=a?a(u,l,n+"",e,t,s):i,p=f===i;if(p){var d=Ga(l),h=!d&&Ka(l),y=!d&&!h&&ps(l);f=l,d||h||y?Ga(u)?f=u:Ja(u)?f=Co(u):h?(p=!1,f=Eo(l,!0)):y?(p=!1,f=ko(l,!0)):f=[]:ss(l)||Va(l)?(f=u,Va(u)?f=_s(u):rs(u)&&!es(u)||(f=mi(l))):p=!1}p&&(s.set(l,f),o(f,l,r,a,s),s.delete(l)),nr(e,n,f)}}(e,t,s,n,Ur,r,o);else{var u=r?r(Ci(e,s),a,s+"",e,t,o):i;u===i&&(u=a),nr(e,s,u)}}),Is)}function Wr(e,t){var n=e.length;if(n)return Oi(t+=t<0?n:0,n)?e[t]:i}function Vr(e,t,n){t=t.length?Mt(t,(function(e){return Ga(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[au];var r=-1;t=Mt(t,Zt(fi()));var o=qr(e,(function(e,n,o){var i=Mt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var u=To(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Sr(e,a);n(s,a)&&to(i,wo(a,e),s)}return i}function Xr(e,t,n,r){var o=r?Ht:$t,i=-1,a=t.length,s=e;for(e===t&&(t=Co(t)),n&&(s=Mt(e,Zt(n)));++i<a;)for(var u=0,l=t[i],c=n?n(l):l;(u=o(s,c,u,r))>-1;)s!==e&&Je.call(s,u,1),Je.call(e,u,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Oi(o)?Je.call(e,o,1):ho(e,o)}}return e}function Jr(e,t){return e+vt(jn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>y)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Ii(Ti(e,t,au),e+"")}function Qr(e){return Qn(Hs(e))}function eo(e,t){var n=Hs(e);return Bi(n,lr(t,0,n.length))}function to(e,t,n,r){if(!rs(e))return e;for(var o=-1,a=(t=wo(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var l=zi(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var f=u[l];(c=r?r(f,l,u):i)===i&&(c=rs(f)?f:Oi(t[o+1])?[]:{})}rr(u,l,c),u=u[l]}return e}var no=Cn?function(e,t){return Cn.set(e,t),e}:au,ro=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:ru(t),writable:!0})}:au;function oo(e){return Bi(Hs(e))}function io(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function ao(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function so(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!fs(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return uo(e,t,au,n)}function uo(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,l=fs(t),c=t===i;o<a;){var f=vt((o+a)/2),p=n(e[f]),d=p!==i,h=null===p,y=p==p,v=fs(p);if(s)var g=r||y;else g=c?y&&(r||d):u?y&&d&&(r||!h):l?y&&d&&!h&&(r||!v):!h&&!v&&(r?p<=t:p<t);g?o=f+1:a=f}return On(a,4294967294)}function lo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ha(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function co(e){return"number"==typeof e?e:fs(e)?v:+e}function fo(e){if("string"==typeof e)return e;if(Ga(e))return Mt(e,fo)+"";if(fs(e))return qn?qn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function po(e,t,n){var r=-1,o=Ct,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=At;else if(i>=200){var l=t?null:Zo(e);if(l)return pn(l);a=!1,o=en,u=new Jn}else u=t?[]:s;e:for(;++r<i;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var p=u.length;p--;)if(u[p]===f)continue e;t&&u.push(f),s.push(c)}else o(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function ho(e,t){return null==(e=Di(e,t=wo(t,e)))||delete e[zi(Qi(t))]}function yo(e,t,n,r){return to(e,t,n(Sr(e,t)),r)}function vo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?io(e,r?0:i,r?i+1:o):io(e,r?i+1:0,r?o:i)}function go(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function bo(e,t,n){var o=e.length;if(o<2)return o?po(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],u=-1;++u<o;)u!=i&&(a[i]=dr(a[i]||s,e[u],t,n));return po(mr(a,1),t,n)}function mo(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function _o(e){return Ja(e)?e:[]}function Oo(e){return"function"==typeof e?e:au}function wo(e,t){return Ga(e)?e:xi(e,t)?[e]:Fi(Os(e))}var xo=Zr;function jo(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:io(e,t,n)}var So=lt||function(e){return ht.clearTimeout(e)};function Eo(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function Po(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function ko(e,t){var n=t?Po(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function To(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=fs(e),s=t!==i,u=null===t,l=t==t,c=fs(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}function Do(e,t,n,o){for(var i=-1,a=e.length,s=n.length,u=-1,l=t.length,c=_n(a-s,0),f=r(l+c),p=!o;++u<l;)f[u]=t[u];for(;++i<s;)(p||i<a)&&(f[n[i]]=e[i]);for(;c--;)f[u++]=e[i++];return f}function No(e,t,n,o){for(var i=-1,a=e.length,s=-1,u=n.length,l=-1,c=t.length,f=_n(a-u,0),p=r(f+c),d=!o;++i<f;)p[i]=e[i];for(var h=i;++l<c;)p[h+l]=t[l];for(;++s<u;)(d||i<a)&&(p[h+n[s]]=e[i++]);return p}function Co(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Ao(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),o?sr(n,u,l):rr(n,u,l)}return n}function Mo(e,t){return function(n,r){var o=Ga(n)?Pt:ir,i=t?t():{};return o(n,e,fi(r,2),i)}}function Io(e){return Zr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&wi(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Pe(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Ro(e,t){return function(n,r){if(null==n)return n;if(!Ya(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Pe(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Lo(e){return function(t,n,r){for(var o=-1,i=Pe(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}function Bo(e){return function(t){var n=un(t=Os(t))?yn(t):i,r=n?n[0]:t.charAt(0),o=n?jo(n,1).join(""):t.slice(1);return r[e]()+o}}function Fo(e){return function(t){return Rt(eu(Vs(t).replace(Qe,"")),e,"")}}function zo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Hn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function qo(e){return function(t,n,r){var o=Pe(t);if(!Ya(t)){var a=fi(n,3);t=Ms(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function $o(e){return ii((function(t){var n=t.length,r=n,o=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new De(a);if(o&&!u&&"wrapper"==li(s))var u=new Wn([],!0)}for(r=u?r:n;++r<n;){var l=li(s=t[r]),c="wrapper"==l?ui(s):i;u=c&&ji(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[li(c[0])].apply(u,c[3]):1==s.length&&ji(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ga(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Ho(e,t,n,o,a,s,u,l,c,f){var d=t&p,h=1&t,y=2&t,v=24&t,g=512&t,b=y?i:zo(e);return function i(){for(var p=arguments.length,m=r(p),_=p;_--;)m[_]=arguments[_];if(v)var O=ci(i),w=rn(m,O);if(o&&(m=Do(m,o,a,v)),s&&(m=No(m,s,u,v)),p-=w,v&&p<f){var x=fn(m,O);return Jo(e,t,Ho,i.placeholder,n,m,x,l,c,f-p)}var j=h?n:this,S=y?j[e]:e;return p=m.length,l?m=Ni(m,l):g&&p>1&&m.reverse(),d&&c<p&&(m.length=c),this&&this!==ht&&this instanceof i&&(S=b||zo(S)),S.apply(j,m)}}function Uo(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=fo(n),r=fo(r)):(n=co(n),r=co(r)),o=e(n,r)}return o}}function Vo(e){return ii((function(t){return t=Mt(t,Zt(fi())),Zr((function(n){var r=this;return e(t,(function(e){return Et(e,r,n)}))}))}))}function Go(e,t){var n=(t=t===i?" ":fo(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,yt(e/hn(t)));return un(t)?jo(yn(r),0,e).join(""):r.slice(0,e)}function Xo(e){return function(t,n,o){return o&&"number"!=typeof o&&wi(t,n,o)&&(n=o=i),t=vs(t),n===i?(n=t,t=0):n=vs(n),function(e,t,n,o){for(var i=-1,a=_n(yt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:vs(o),e)}}function Yo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function Jo(e,t,n,r,o,a,s,u,l,p){var d=8&t;t|=d?c:f,4&(t&=~(d?f:c))||(t&=-4);var h=[e,t,o,d?a:i,d?s:i,d?i:a,d?i:s,u,l,p],y=n.apply(i,h);return ji(e)&&Ai(y,h),y.placeholder=r,Ri(y,e,t)}function Ko(e){var t=Ee[e];return function(e,n){if(e=ms(e),(n=null==n?0:On(gs(n),292))&&Ft(e)){var r=(Os(e)+"e").split("e");return+((r=(Os(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Zo=Tn&&1/pn(new Tn([,-0]))[1]==h?function(e){return new Tn(e)}:fu;function Qo(e){return function(t){var n=gi(t);return n==E?ln(t):n==N?dn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function ei(e,t,n,o,s,h,y,v){var g=2&t;if(!g&&"function"!=typeof e)throw new De(a);var b=o?o.length:0;if(b||(t&=-97,o=s=i),y=y===i?y:_n(gs(y),0),v=v===i?v:gs(v),b-=s?s.length:0,t&f){var m=o,_=s;o=s=i}var O=g?i:ui(e),w=[e,t,n,o,s,m,_,h,y,v];if(O&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==p&&8==n||r==p&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?Do(l,s,t[4]):s,e[4]=l?fn(e[3],u):t[4]}(s=t[5])&&(l=e[5],e[5]=l?No(l,s,t[6]):s,e[6]=l?fn(e[5],u):t[6]),(s=t[7])&&(e[7]=s),r&p&&(e[8]=null==e[8]?t[8]:On(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(w,O),e=w[0],t=w[1],n=w[2],o=w[3],s=w[4],!(v=w[9]=w[9]===i?g?0:e.length:_n(w[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==l?function(e,t,n){var o=zo(e);return function a(){for(var s=arguments.length,u=r(s),l=s,c=ci(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:fn(u,c);return(s-=f.length)<n?Jo(e,t,Ho,a.placeholder,i,u,f,i,i,n-s):Et(this&&this!==ht&&this instanceof a?o:e,this,u)}}(e,t,v):t!=c&&33!=t||s.length?Ho.apply(i,w):function(e,t,n,o){var i=1&t,a=zo(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=o.length,f=r(c+u),p=this&&this!==ht&&this instanceof t?a:e;++l<c;)f[l]=o[l];for(;u--;)f[l++]=arguments[++s];return Et(p,i?n:this,f)}}(e,t,n,o);else var x=function(e,t,n){var r=1&t,o=zo(e);return function t(){return(this&&this!==ht&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Ri((O?no:Ai)(x,w),e,t)}function ti(e,t,n,r){return e===i||Ha(e,Ae[n])&&!Re.call(r,n)?t:e}function ni(e,t,n,r,o,a){return rs(e)&&rs(t)&&(a.set(t,e),Ur(e,t,i,ni,a),a.delete(t)),e}function ri(e){return ss(e)?i:e}function oi(e,t,n,r,o,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var p=-1,d=!0,h=2&n?new Jn:i;for(a.set(e,t),a.set(t,e);++p<u;){var y=e[p],v=t[p];if(r)var g=s?r(v,y,p,t,e,a):r(y,v,p,e,t,a);if(g!==i){if(g)continue;d=!1;break}if(h){if(!Bt(t,(function(e,t){if(!en(h,t)&&(y===e||o(y,e,n,r,a)))return h.push(t)}))){d=!1;break}}else if(y!==v&&!o(y,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ii(e){return Ii(Ti(e,i,Xi),e+"")}function ai(e){return Er(e,Ms,yi)}function si(e){return Er(e,Is,vi)}var ui=Cn?function(e){return Cn.get(e)}:fu;function li(e){for(var t=e.name+"",n=An[t],r=Re.call(An,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ci(e){return(Re.call($n,"placeholder")?$n:e).placeholder}function fi(){var e=$n.iteratee||su;return e=e===su?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function pi(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function di(e){for(var t=Ms(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Pi(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Rr(n)?n:i}var yi=bt?function(e){return null==e?[]:(e=Pe(e),Nt(bt(e),(function(t){return Ye.call(e,t)})))}:bu,vi=bt?function(e){for(var t=[];e;)It(t,yi(e)),e=Ge(e);return t}:bu,gi=Pr;function bi(e,t,n){for(var r=-1,o=(t=wo(t,e)).length,i=!1;++r<o;){var a=zi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ns(o)&&Oi(a,o)&&(Ga(e)||Va(e))}function mi(e){return"function"!=typeof e.constructor||Ei(e)?{}:Hn(Ge(e))}function _i(e){return Ga(e)||Va(e)||!!(Ke&&e&&e[Ke])}function Oi(e,t){var n=typeof e;return!!(t=null==t?y:t)&&("number"==n||"symbol"!=n&&Oe.test(e))&&e>-1&&e%1==0&&e<t}function wi(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?Ya(n)&&Oi(t,n.length):"string"==r&&t in n)&&Ha(n[t],e)}function xi(e,t){if(Ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fs(e))||re.test(e)||!ne.test(e)||null!=t&&e in Pe(t)}function ji(e){var t=li(e),n=$n[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=ui(n);return!!r&&e===r[0]}(En&&gi(new En(new ArrayBuffer(1)))!=R||Pn&&gi(new Pn)!=E||kn&&gi(kn.resolve())!=T||Tn&&gi(new Tn)!=N||Dn&&gi(new Dn)!=M)&&(gi=function(e){var t=Pr(e),n=t==k?e.constructor:i,r=n?qi(n):"";if(r)switch(r){case Mn:return R;case In:return E;case Rn:return T;case Ln:return N;case Bn:return M}return t});var Si=Me?es:mu;function Ei(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ae)}function Pi(e){return e==e&&!rs(e)}function ki(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Pe(n))}}function Ti(e,t,n){return t=_n(t===i?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=_n(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var u=r(t+1);++i<t;)u[i]=o[i];return u[t]=n(s),Et(e,this,u)}}function Di(e,t){return t.length<2?e:Sr(e,io(t,0,-1))}function Ni(e,t){for(var n=e.length,r=On(t.length,n),o=Co(e);r--;){var a=t[r];e[r]=Oi(a,n)?o[a]:i}return e}function Ci(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ai=Li(no),Mi=dt||function(e,t){return ht.setTimeout(e,t)},Ii=Li(ro);function Ri(e,t,n){var r=t+"";return Ii(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return kt(b,(function(n){var r="_."+n[0];t&n[1]&&!Ct(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(fe):[]}(r),n)))}function Li(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Bi(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Jr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Fi=function(e){var t=La(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(oe,(function(e,n,r,o){t.push(r?o.replace(he,"$1"):n||e)})),t}));function zi(e){if("string"==typeof e||fs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function qi(e){if(null!=e){try{return Ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $i(e){if(e instanceof Vn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Co(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Hi=Zr((function(e,t){return Ja(e)?dr(e,mr(t,1,Ja,!0)):[]})),Ui=Zr((function(e,t){var n=Qi(t);return Ja(n)&&(n=i),Ja(e)?dr(e,mr(t,1,Ja,!0),fi(n,2)):[]})),Wi=Zr((function(e,t){var n=Qi(t);return Ja(n)&&(n=i),Ja(e)?dr(e,mr(t,1,Ja,!0),i,n):[]}));function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=_n(r+o,0)),qt(e,fi(t,3),o)}function Gi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gs(n),o=n<0?_n(r+o,0):On(o,r-1)),qt(e,fi(t,3),o,!0)}function Xi(e){return null!=e&&e.length?mr(e,1):[]}function Yi(e){return e&&e.length?e[0]:i}var Ji=Zr((function(e){var t=Mt(e,_o);return t.length&&t[0]===e[0]?Nr(t):[]})),Ki=Zr((function(e){var t=Qi(e),n=Mt(e,_o);return t===Qi(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Nr(n,fi(t,2)):[]})),Zi=Zr((function(e){var t=Qi(e),n=Mt(e,_o);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Nr(n,i,t):[]}));function Qi(e){var t=null==e?0:e.length;return t?e[t-1]:i}var ea=Zr(ta);function ta(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var na=ii((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Yr(e,Mt(t,(function(e){return Oi(e,n)?+e:e})).sort(To)),r}));function ra(e){return null==e?e:Sn.call(e)}var oa=Zr((function(e){return po(mr(e,1,Ja,!0))})),ia=Zr((function(e){var t=Qi(e);return Ja(t)&&(t=i),po(mr(e,1,Ja,!0),fi(t,2))})),aa=Zr((function(e){var t=Qi(e);return t="function"==typeof t?t:i,po(mr(e,1,Ja,!0),i,t)}));function sa(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Ja(e))return t=_n(e.length,t),!0})),Jt(t,(function(t){return Mt(e,Vt(t))}))}function ua(e,t){if(!e||!e.length)return[];var n=sa(e);return null==t?n:Mt(n,(function(e){return Et(t,i,e)}))}var la=Zr((function(e,t){return Ja(e)?dr(e,t):[]})),ca=Zr((function(e){return bo(Nt(e,Ja))})),fa=Zr((function(e){var t=Qi(e);return Ja(t)&&(t=i),bo(Nt(e,Ja),fi(t,2))})),pa=Zr((function(e){var t=Qi(e);return t="function"==typeof t?t:i,bo(Nt(e,Ja),i,t)})),da=Zr(sa),ha=Zr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ua(e,n)}));function ya(e){var t=$n(e);return t.__chain__=!0,t}function va(e,t){return t(e)}var ga=ii((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&Oi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:va,args:[o],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ba=Mo((function(e,t,n){Re.call(e,n)?++e[n]:sr(e,n,1)})),ma=qo(Vi),_a=qo(Gi);function Oa(e,t){return(Ga(e)?kt:hr)(e,fi(t,3))}function wa(e,t){return(Ga(e)?Tt:yr)(e,fi(t,3))}var xa=Mo((function(e,t,n){Re.call(e,n)?e[n].push(t):sr(e,n,[t])})),ja=Zr((function(e,t,n){var o=-1,i="function"==typeof t,a=Ya(e)?r(e.length):[];return hr(e,(function(e){a[++o]=i?Et(t,e,n):Cr(e,t,n)})),a})),Sa=Mo((function(e,t,n){sr(e,n,t)}));function Ea(e,t){return(Ga(e)?Mt:qr)(e,fi(t,3))}var Pa=Mo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),ka=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wi(e,t[0],t[1])?t=[]:n>2&&wi(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,mr(t,1),[])})),Ta=pt||function(){return ht.Date.now()};function Da(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,ei(e,p,i,i,i,i,t)}function Na(e,t){var n;if("function"!=typeof t)throw new De(a);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ca=Zr((function(e,t,n){var r=1;if(n.length){var o=fn(n,ci(Ca));r|=c}return ei(e,r,t,n,o)})),Aa=Zr((function(e,t,n){var r=3;if(n.length){var o=fn(n,ci(Aa));r|=c}return ei(t,r,e,n,o)}));function Ma(e,t,n){var r,o,s,u,l,c,f=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new De(a);function y(t){var n=r,a=o;return r=o=i,f=t,u=e.apply(a,n)}function v(e){return f=e,l=Mi(b,t),p?y(e):u}function g(e){var n=e-c;return c===i||n>=t||n<0||d&&e-f>=s}function b(){var e=Ta();if(g(e))return m(e);l=Mi(b,function(e){var n=t-(e-c);return d?On(n,s-(e-f)):n}(e))}function m(e){return l=i,h&&r?y(e):(r=o=i,u)}function _(){var e=Ta(),n=g(e);if(r=arguments,o=this,c=e,n){if(l===i)return v(c);if(d)return So(l),l=Mi(b,t),y(c)}return l===i&&(l=Mi(b,t)),u}return t=ms(t)||0,rs(n)&&(p=!!n.leading,s=(d="maxWait"in n)?_n(ms(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),_.cancel=function(){l!==i&&So(l),f=0,r=c=o=l=i},_.flush=function(){return l===i?u:m(Ta())},_}var Ia=Zr((function(e,t){return pr(e,1,t)})),Ra=Zr((function(e,t,n){return pr(e,ms(t)||0,n)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new De(a);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(La.Cache||Yn),n}function Ba(e){if("function"!=typeof e)throw new De(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Yn;var Fa=xo((function(e,t){var n=(t=1==t.length&&Ga(t[0])?Mt(t[0],Zt(fi())):Mt(mr(t,1),Zt(fi()))).length;return Zr((function(r){for(var o=-1,i=On(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Et(e,this,r)}))})),za=Zr((function(e,t){var n=fn(t,ci(za));return ei(e,c,i,t,n)})),qa=Zr((function(e,t){var n=fn(t,ci(qa));return ei(e,f,i,t,n)})),$a=ii((function(e,t){return ei(e,d,i,i,i,t)}));function Ha(e,t){return e===t||e!=e&&t!=t}var Ua=Yo(kr),Wa=Yo((function(e,t){return e>=t})),Va=Ar(function(){return arguments}())?Ar:function(e){return os(e)&&Re.call(e,"callee")&&!Ye.call(e,"callee")},Ga=r.isArray,Xa=_t?Zt(_t):function(e){return os(e)&&Pr(e)==I};function Ya(e){return null!=e&&ns(e.length)&&!es(e)}function Ja(e){return os(e)&&Ya(e)}var Ka=mt||mu,Za=Ot?Zt(Ot):function(e){return os(e)&&Pr(e)==w};function Qa(e){if(!os(e))return!1;var t=Pr(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=Pr(e);return t==j||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==gs(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=y}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function os(e){return null!=e&&"object"==typeof e}var is=wt?Zt(wt):function(e){return os(e)&&gi(e)==E};function as(e){return"number"==typeof e||os(e)&&Pr(e)==P}function ss(e){if(!os(e)||Pr(e)!=k)return!1;var t=Ge(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==ze}var us=xt?Zt(xt):function(e){return os(e)&&Pr(e)==D},ls=jt?Zt(jt):function(e){return os(e)&&gi(e)==N};function cs(e){return"string"==typeof e||!Ga(e)&&os(e)&&Pr(e)==C}function fs(e){return"symbol"==typeof e||os(e)&&Pr(e)==A}var ps=St?Zt(St):function(e){return os(e)&&ns(e.length)&&!!st[Pr(e)]},ds=Yo(zr),hs=Yo((function(e,t){return e<=t}));function ys(e){if(!e)return[];if(Ya(e))return cs(e)?yn(e):Co(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=gi(e);return(t==E?ln:t==N?pn:Hs)(e)}function vs(e){return e?(e=ms(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gs(e){var t=vs(e),n=t%1;return t==t?n?t-n:t:0}function bs(e){return e?lr(gs(e),0,g):0}function ms(e){if("number"==typeof e)return e;if(fs(e))return v;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=be.test(e);return n||_e.test(e)?ft(e.slice(2),n?2:8):ge.test(e)?v:+e}function _s(e){return Ao(e,Is(e))}function Os(e){return null==e?"":fo(e)}var ws=Io((function(e,t){if(Ei(t)||Ya(t))Ao(t,Ms(t),e);else for(var n in t)Re.call(t,n)&&rr(e,n,t[n])})),xs=Io((function(e,t){Ao(t,Is(t),e)})),js=Io((function(e,t,n,r){Ao(t,Is(t),e,r)})),Ss=Io((function(e,t,n,r){Ao(t,Ms(t),e,r)})),Es=ii(ur),Ps=Zr((function(e,t){e=Pe(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wi(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Is(a),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===i||Ha(f,Ae[c])&&!Re.call(e,c))&&(e[c]=a[c])}return e})),ks=Zr((function(e){return e.push(i,ni),Et(Ls,i,e)}));function Ts(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function Ds(e,t){return null!=e&&bi(e,t,Dr)}var Ns=Uo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),ru(au)),Cs=Uo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),fi),As=Zr(Cr);function Ms(e){return Ya(e)?Zn(e):Br(e)}function Is(e){return Ya(e)?Zn(e,!0):Fr(e)}var Rs=Io((function(e,t,n){Ur(e,t,n)})),Ls=Io((function(e,t,n,r){Ur(e,t,n,r)})),Bs=ii((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=wo(t,e),r||(r=t.length>1),t})),Ao(e,si(e),n),r&&(n=cr(n,7,ri));for(var o=t.length;o--;)ho(n,t[o]);return n})),Fs=ii((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Ds(e,n)}))}(e,t)}));function zs(e,t){if(null==e)return{};var n=Mt(si(e),(function(e){return[e]}));return t=fi(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var qs=Qo(Ms),$s=Qo(Is);function Hs(e){return null==e?[]:Qt(e,Ms(e))}var Us=Fo((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return Qs(Os(e).toLowerCase())}function Vs(e){return(e=Os(e))&&e.replace(we,on).replace(et,"")}var Gs=Fo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Xs=Fo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=Bo("toLowerCase"),Js=Fo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ks=Fo((function(e,t,n){return e+(n?" ":"")+Qs(t)})),Zs=Fo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qs=Bo("toUpperCase");function eu(e,t,n){return e=Os(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(pe)||[]}(e):e.match(t)||[]}var tu=Zr((function(e,t){try{return Et(e,i,t)}catch(e){return Qa(e)?e:new ue(e)}})),nu=ii((function(e,t){return kt(t,(function(t){t=zi(t),sr(e,t,Ca(e[t],e))})),e}));function ru(e){return function(){return e}}var ou=$o(),iu=$o(!0);function au(e){return e}function su(e){return Lr("function"==typeof e?e:cr(e,1))}var uu=Zr((function(e,t){return function(n){return Cr(n,e,t)}})),lu=Zr((function(e,t){return function(n){return Cr(e,n,t)}}));function cu(e,t,n){var r=Ms(t),o=jr(t,r);null!=n||rs(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=jr(t,Ms(t)));var i=!(rs(n)&&"chain"in n&&!n.chain),a=es(e);return kt(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=Co(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function fu(){}var pu=Vo(Mt),du=Vo(Dt),hu=Vo(Bt);function yu(e){return xi(e)?Vt(zi(e)):function(e){return function(t){return Sr(t,e)}}(e)}var vu=Xo(),gu=Xo(!0);function bu(){return[]}function mu(){return!1}var _u,Ou=Wo((function(e,t){return e+t}),0),wu=Ko("ceil"),xu=Wo((function(e,t){return e/t}),1),ju=Ko("floor"),Su=Wo((function(e,t){return e*t}),1),Eu=Ko("round"),Pu=Wo((function(e,t){return e-t}),0);return $n.after=function(e,t){if("function"!=typeof t)throw new De(a);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},$n.ary=Da,$n.assign=ws,$n.assignIn=xs,$n.assignInWith=js,$n.assignWith=Ss,$n.at=Es,$n.before=Na,$n.bind=Ca,$n.bindAll=nu,$n.bindKey=Aa,$n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ga(e)?e:[e]},$n.chain=ya,$n.chunk=function(e,t,n){t=(n?wi(e,t,n):t===i)?1:_n(gs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=r(yt(o/t));a<o;)u[s++]=io(e,a,a+=t);return u},$n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},$n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return It(Ga(n)?Co(n):[n],mr(t,1))},$n.cond=function(e){var t=null==e?0:e.length,n=fi();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new De(a);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Et(o[0],this,n))return Et(o[1],this,n)}}))},$n.conforms=function(e){return function(e){var t=Ms(e);return function(n){return fr(n,e,t)}}(cr(e,1))},$n.constant=ru,$n.countBy=ba,$n.create=function(e,t){var n=Hn(e);return null==t?n:ar(n,t)},$n.curry=function e(t,n,r){var o=ei(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},$n.curryRight=function e(t,n,r){var o=ei(t,l,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},$n.debounce=Ma,$n.defaults=Ps,$n.defaultsDeep=ks,$n.defer=Ia,$n.delay=Ra,$n.difference=Hi,$n.differenceBy=Ui,$n.differenceWith=Wi,$n.drop=function(e,t,n){var r=null==e?0:e.length;return r?io(e,(t=n||t===i?1:gs(t))<0?0:t,r):[]},$n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?io(e,0,(t=r-(t=n||t===i?1:gs(t)))<0?0:t):[]},$n.dropRightWhile=function(e,t){return e&&e.length?vo(e,fi(t,3),!0,!0):[]},$n.dropWhile=function(e,t){return e&&e.length?vo(e,fi(t,3),!0):[]},$n.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wi(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=gs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gs(r))<0&&(r+=o),r=n>r?0:bs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},$n.filter=function(e,t){return(Ga(e)?Nt:br)(e,fi(t,3))},$n.flatMap=function(e,t){return mr(Ea(e,t),1)},$n.flatMapDeep=function(e,t){return mr(Ea(e,t),h)},$n.flatMapDepth=function(e,t,n){return n=n===i?1:gs(n),mr(Ea(e,t),n)},$n.flatten=Xi,$n.flattenDeep=function(e){return null!=e&&e.length?mr(e,h):[]},$n.flattenDepth=function(e,t){return null!=e&&e.length?mr(e,t=t===i?1:gs(t)):[]},$n.flip=function(e){return ei(e,512)},$n.flow=ou,$n.flowRight=iu,$n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},$n.functions=function(e){return null==e?[]:jr(e,Ms(e))},$n.functionsIn=function(e){return null==e?[]:jr(e,Is(e))},$n.groupBy=xa,$n.initial=function(e){return null!=e&&e.length?io(e,0,-1):[]},$n.intersection=Ji,$n.intersectionBy=Ki,$n.intersectionWith=Zi,$n.invert=Ns,$n.invertBy=Cs,$n.invokeMap=ja,$n.iteratee=su,$n.keyBy=Sa,$n.keys=Ms,$n.keysIn=Is,$n.map=Ea,$n.mapKeys=function(e,t){var n={};return t=fi(t,3),wr(e,(function(e,r,o){sr(n,t(e,r,o),e)})),n},$n.mapValues=function(e,t){var n={};return t=fi(t,3),wr(e,(function(e,r,o){sr(n,r,t(e,r,o))})),n},$n.matches=function(e){return $r(cr(e,1))},$n.matchesProperty=function(e,t){return Hr(e,cr(t,1))},$n.memoize=La,$n.merge=Rs,$n.mergeWith=Ls,$n.method=uu,$n.methodOf=lu,$n.mixin=cu,$n.negate=Ba,$n.nthArg=function(e){return e=gs(e),Zr((function(t){return Wr(t,e)}))},$n.omit=Bs,$n.omitBy=function(e,t){return zs(e,Ba(fi(t)))},$n.once=function(e){return Na(2,e)},$n.orderBy=function(e,t,n,r){return null==e?[]:(Ga(t)||(t=null==t?[]:[t]),Ga(n=r?i:n)||(n=null==n?[]:[n]),Vr(e,t,n))},$n.over=pu,$n.overArgs=Fa,$n.overEvery=du,$n.overSome=hu,$n.partial=za,$n.partialRight=qa,$n.partition=Pa,$n.pick=Fs,$n.pickBy=zs,$n.property=yu,$n.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},$n.pull=ea,$n.pullAll=ta,$n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,fi(n,2)):e},$n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,i,n):e},$n.pullAt=na,$n.range=vu,$n.rangeRight=gu,$n.rearg=$a,$n.reject=function(e,t){return(Ga(e)?Nt:br)(e,Ba(fi(t,3)))},$n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=fi(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Yr(e,o),n},$n.rest=function(e,t){if("function"!=typeof e)throw new De(a);return Zr(e,t=t===i?t:gs(t))},$n.reverse=ra,$n.sampleSize=function(e,t,n){return t=(n?wi(e,t,n):t===i)?1:gs(t),(Ga(e)?er:eo)(e,t)},$n.set=function(e,t,n){return null==e?e:to(e,t,n)},$n.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:to(e,t,n,r)},$n.shuffle=function(e){return(Ga(e)?tr:oo)(e)},$n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wi(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===i?r:gs(n)),io(e,t,n)):[]},$n.sortBy=ka,$n.sortedUniq=function(e){return e&&e.length?lo(e):[]},$n.sortedUniqBy=function(e,t){return e&&e.length?lo(e,fi(t,2)):[]},$n.split=function(e,t,n){return n&&"number"!=typeof n&&wi(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=Os(e))&&("string"==typeof t||null!=t&&!us(t))&&!(t=fo(t))&&un(e)?jo(yn(e),0,n):e.split(t,n):[]},$n.spread=function(e,t){if("function"!=typeof e)throw new De(a);return t=null==t?0:_n(gs(t),0),Zr((function(n){var r=n[t],o=jo(n,0,t);return r&&It(o,r),Et(e,this,o)}))},$n.tail=function(e){var t=null==e?0:e.length;return t?io(e,1,t):[]},$n.take=function(e,t,n){return e&&e.length?io(e,0,(t=n||t===i?1:gs(t))<0?0:t):[]},$n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?io(e,(t=r-(t=n||t===i?1:gs(t)))<0?0:t,r):[]},$n.takeRightWhile=function(e,t){return e&&e.length?vo(e,fi(t,3),!1,!0):[]},$n.takeWhile=function(e,t){return e&&e.length?vo(e,fi(t,3)):[]},$n.tap=function(e,t){return t(e),e},$n.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new De(a);return rs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ma(e,t,{leading:r,maxWait:t,trailing:o})},$n.thru=va,$n.toArray=ys,$n.toPairs=qs,$n.toPairsIn=$s,$n.toPath=function(e){return Ga(e)?Mt(e,zi):fs(e)?[e]:Co(Fi(Os(e)))},$n.toPlainObject=_s,$n.transform=function(e,t,n){var r=Ga(e),o=r||Ka(e)||ps(e);if(t=fi(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:rs(e)&&es(i)?Hn(Ge(e)):{}}return(o?kt:wr)(e,(function(e,r,o){return t(n,e,r,o)})),n},$n.unary=function(e){return Da(e,1)},$n.union=oa,$n.unionBy=ia,$n.unionWith=aa,$n.uniq=function(e){return e&&e.length?po(e):[]},$n.uniqBy=function(e,t){return e&&e.length?po(e,fi(t,2)):[]},$n.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?po(e,i,t):[]},$n.unset=function(e,t){return null==e||ho(e,t)},$n.unzip=sa,$n.unzipWith=ua,$n.update=function(e,t,n){return null==e?e:yo(e,t,Oo(n))},$n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:yo(e,t,Oo(n),r)},$n.values=Hs,$n.valuesIn=function(e){return null==e?[]:Qt(e,Is(e))},$n.without=la,$n.words=eu,$n.wrap=function(e,t){return za(Oo(t),e)},$n.xor=ca,$n.xorBy=fa,$n.xorWith=pa,$n.zip=da,$n.zipObject=function(e,t){return mo(e||[],t||[],rr)},$n.zipObjectDeep=function(e,t){return mo(e||[],t||[],to)},$n.zipWith=ha,$n.entries=qs,$n.entriesIn=$s,$n.extend=xs,$n.extendWith=js,cu($n,$n),$n.add=Ou,$n.attempt=tu,$n.camelCase=Us,$n.capitalize=Ws,$n.ceil=wu,$n.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ms(n))==n?n:0),t!==i&&(t=(t=ms(t))==t?t:0),lr(ms(e),t,n)},$n.clone=function(e){return cr(e,4)},$n.cloneDeep=function(e){return cr(e,5)},$n.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},$n.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},$n.conformsTo=function(e,t){return null==t||fr(e,t,Ms(t))},$n.deburr=Vs,$n.defaultTo=function(e,t){return null==e||e!=e?t:e},$n.divide=xu,$n.endsWith=function(e,t,n){e=Os(e),t=fo(t);var r=e.length,o=n=n===i?r:lr(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},$n.eq=Ha,$n.escape=function(e){return(e=Os(e))&&Z.test(e)?e.replace(J,an):e},$n.escapeRegExp=function(e){return(e=Os(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},$n.every=function(e,t,n){var r=Ga(e)?Dt:vr;return n&&wi(e,t,n)&&(t=i),r(e,fi(t,3))},$n.find=ma,$n.findIndex=Vi,$n.findKey=function(e,t){return zt(e,fi(t,3),wr)},$n.findLast=_a,$n.findLastIndex=Gi,$n.findLastKey=function(e,t){return zt(e,fi(t,3),xr)},$n.floor=ju,$n.forEach=Oa,$n.forEachRight=wa,$n.forIn=function(e,t){return null==e?e:_r(e,fi(t,3),Is)},$n.forInRight=function(e,t){return null==e?e:Or(e,fi(t,3),Is)},$n.forOwn=function(e,t){return e&&wr(e,fi(t,3))},$n.forOwnRight=function(e,t){return e&&xr(e,fi(t,3))},$n.get=Ts,$n.gt=Ua,$n.gte=Wa,$n.has=function(e,t){return null!=e&&bi(e,t,Tr)},$n.hasIn=Ds,$n.head=Yi,$n.identity=au,$n.includes=function(e,t,n,r){e=Ya(e)?e:Hs(e),n=n&&!r?gs(n):0;var o=e.length;return n<0&&(n=_n(o+n,0)),cs(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&$t(e,t,n)>-1},$n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=_n(r+o,0)),$t(e,t,o)},$n.inRange=function(e,t,n){return t=vs(t),n===i?(n=t,t=0):n=vs(n),function(e,t,n){return e>=On(t,n)&&e<_n(t,n)}(e=ms(e),t,n)},$n.invoke=As,$n.isArguments=Va,$n.isArray=Ga,$n.isArrayBuffer=Xa,$n.isArrayLike=Ya,$n.isArrayLikeObject=Ja,$n.isBoolean=function(e){return!0===e||!1===e||os(e)&&Pr(e)==O},$n.isBuffer=Ka,$n.isDate=Za,$n.isElement=function(e){return os(e)&&1===e.nodeType&&!ss(e)},$n.isEmpty=function(e){if(null==e)return!0;if(Ya(e)&&(Ga(e)||"string"==typeof e||"function"==typeof e.splice||Ka(e)||ps(e)||Va(e)))return!e.length;var t=gi(e);if(t==E||t==N)return!e.size;if(Ei(e))return!Br(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},$n.isEqual=function(e,t){return Mr(e,t)},$n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Mr(e,t,i,n):!!r},$n.isError=Qa,$n.isFinite=function(e){return"number"==typeof e&&Ft(e)},$n.isFunction=es,$n.isInteger=ts,$n.isLength=ns,$n.isMap=is,$n.isMatch=function(e,t){return e===t||Ir(e,t,di(t))},$n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Ir(e,t,di(t),n)},$n.isNaN=function(e){return as(e)&&e!=+e},$n.isNative=function(e){if(Si(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},$n.isNil=function(e){return null==e},$n.isNull=function(e){return null===e},$n.isNumber=as,$n.isObject=rs,$n.isObjectLike=os,$n.isPlainObject=ss,$n.isRegExp=us,$n.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=y},$n.isSet=ls,$n.isString=cs,$n.isSymbol=fs,$n.isTypedArray=ps,$n.isUndefined=function(e){return e===i},$n.isWeakMap=function(e){return os(e)&&gi(e)==M},$n.isWeakSet=function(e){return os(e)&&"[object WeakSet]"==Pr(e)},$n.join=function(e,t){return null==e?"":Gt.call(e,t)},$n.kebabCase=Gs,$n.last=Qi,$n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gs(n))<0?_n(r+o,0):On(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):qt(e,Ut,o,!0)},$n.lowerCase=Xs,$n.lowerFirst=Ys,$n.lt=ds,$n.lte=hs,$n.max=function(e){return e&&e.length?gr(e,au,kr):i},$n.maxBy=function(e,t){return e&&e.length?gr(e,fi(t,2),kr):i},$n.mean=function(e){return Wt(e,au)},$n.meanBy=function(e,t){return Wt(e,fi(t,2))},$n.min=function(e){return e&&e.length?gr(e,au,zr):i},$n.minBy=function(e,t){return e&&e.length?gr(e,fi(t,2),zr):i},$n.stubArray=bu,$n.stubFalse=mu,$n.stubObject=function(){return{}},$n.stubString=function(){return""},$n.stubTrue=function(){return!0},$n.multiply=Su,$n.nth=function(e,t){return e&&e.length?Wr(e,gs(t)):i},$n.noConflict=function(){return ht._===this&&(ht._=qe),this},$n.noop=fu,$n.now=Ta,$n.pad=function(e,t,n){e=Os(e);var r=(t=gs(t))?hn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Go(vt(o),n)+e+Go(yt(o),n)},$n.padEnd=function(e,t,n){e=Os(e);var r=(t=gs(t))?hn(e):0;return t&&r<t?e+Go(t-r,n):e},$n.padStart=function(e,t,n){e=Os(e);var r=(t=gs(t))?hn(e):0;return t&&r<t?Go(t-r,n)+e:e},$n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(Os(e).replace(se,""),t||0)},$n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wi(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vs(e),t===i?(t=e,e=0):t=vs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=jn();return On(e+o*(t-e+ct("1e-"+((o+"").length-1))),t)}return Jr(e,t)},$n.reduce=function(e,t,n){var r=Ga(e)?Rt:Xt,o=arguments.length<3;return r(e,fi(t,4),n,o,hr)},$n.reduceRight=function(e,t,n){var r=Ga(e)?Lt:Xt,o=arguments.length<3;return r(e,fi(t,4),n,o,yr)},$n.repeat=function(e,t,n){return t=(n?wi(e,t,n):t===i)?1:gs(t),Kr(Os(e),t)},$n.replace=function(){var e=arguments,t=Os(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$n.result=function(e,t,n){var r=-1,o=(t=wo(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[zi(t[r])];a===i&&(r=o,a=n),e=es(a)?a.call(e):a}return e},$n.round=Eu,$n.runInContext=e,$n.sample=function(e){return(Ga(e)?Qn:Qr)(e)},$n.size=function(e){if(null==e)return 0;if(Ya(e))return cs(e)?hn(e):e.length;var t=gi(e);return t==E||t==N?e.size:Br(e).length},$n.snakeCase=Js,$n.some=function(e,t,n){var r=Ga(e)?Bt:ao;return n&&wi(e,t,n)&&(t=i),r(e,fi(t,3))},$n.sortedIndex=function(e,t){return so(e,t)},$n.sortedIndexBy=function(e,t,n){return uo(e,t,fi(n,2))},$n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=so(e,t);if(r<n&&Ha(e[r],t))return r}return-1},$n.sortedLastIndex=function(e,t){return so(e,t,!0)},$n.sortedLastIndexBy=function(e,t,n){return uo(e,t,fi(n,2),!0)},$n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=so(e,t,!0)-1;if(Ha(e[n],t))return n}return-1},$n.startCase=Ks,$n.startsWith=function(e,t,n){return e=Os(e),n=null==n?0:lr(gs(n),0,e.length),t=fo(t),e.slice(n,n+t.length)==t},$n.subtract=Pu,$n.sum=function(e){return e&&e.length?Yt(e,au):0},$n.sumBy=function(e,t){return e&&e.length?Yt(e,fi(t,2)):0},$n.template=function(e,t,n){var r=$n.templateSettings;n&&wi(e,t,n)&&(t=i),e=Os(e),t=js({},t,r,ti);var o,a,s=js({},t.imports,r.imports,ti),u=Ms(s),l=Qt(s,u),c=0,f=t.interpolate||xe,p="__p += '",d=ke((t.escape||xe).source+"|"+f.source+"|"+(f===te?ye:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),h="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,n,r,i,s,u){return r||(r=i),p+=e.slice(c,u).replace(je,sn),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),p+="';\n";var y=Re.call(t,"variable")&&t.variable;if(y){if(de.test(y))throw new ue("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(V,""):p).replace(G,"$1").replace(X,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=tu((function(){return Se(u,h+"return "+p).apply(i,l)}));if(v.source=p,Qa(v))throw v;return v},$n.times=function(e,t){if((e=gs(e))<1||e>y)return[];var n=g,r=On(e,g);t=fi(t),e-=g;for(var o=Jt(r,t);++n<e;)t(n);return o},$n.toFinite=vs,$n.toInteger=gs,$n.toLength=bs,$n.toLower=function(e){return Os(e).toLowerCase()},$n.toNumber=ms,$n.toSafeInteger=function(e){return e?lr(gs(e),-9007199254740991,y):0===e?e:0},$n.toString=Os,$n.toUpper=function(e){return Os(e).toUpperCase()},$n.trim=function(e,t,n){if((e=Os(e))&&(n||t===i))return Kt(e);if(!e||!(t=fo(t)))return e;var r=yn(e),o=yn(t);return jo(r,tn(r,o),nn(r,o)+1).join("")},$n.trimEnd=function(e,t,n){if((e=Os(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=fo(t)))return e;var r=yn(e);return jo(r,0,nn(r,yn(t))+1).join("")},$n.trimStart=function(e,t,n){if((e=Os(e))&&(n||t===i))return e.replace(se,"");if(!e||!(t=fo(t)))return e;var r=yn(e);return jo(r,tn(r,yn(t))).join("")},$n.truncate=function(e,t){var n=30,r="...";if(rs(t)){var o="separator"in t?t.separator:o;n="length"in t?gs(t.length):n,r="omission"in t?fo(t.omission):r}var a=(e=Os(e)).length;if(un(e)){var s=yn(e);a=s.length}if(n>=a)return e;var u=n-hn(r);if(u<1)return r;var l=s?jo(s,0,u).join(""):e.slice(0,u);if(o===i)return l+r;if(s&&(u+=l.length-u),us(o)){if(e.slice(u).search(o)){var c,f=l;for(o.global||(o=ke(o.source,Os(ve.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var p=c.index;l=l.slice(0,p===i?u:p)}}else if(e.indexOf(fo(o),u)!=u){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+r},$n.unescape=function(e){return(e=Os(e))&&K.test(e)?e.replace(Y,gn):e},$n.uniqueId=function(e){var t=++Le;return Os(e)+t},$n.upperCase=Zs,$n.upperFirst=Qs,$n.each=Oa,$n.eachRight=wa,$n.first=Yi,cu($n,(_u={},wr($n,(function(e,t){Re.call($n.prototype,t)||(_u[t]=e)})),_u),{chain:!1}),$n.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){$n[e].placeholder=$n})),kt(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:_n(gs(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=On(n,r.__takeCount__):r.__views__.push({size:On(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),kt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:fi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),kt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),kt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(au)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Cr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ba(fi(e)))},Vn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(g)},wr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=$n[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&($n.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Vn,l=s[0],c=u||Ga(t),f=function(e){var t=o.apply($n,It([e],s));return r&&p?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var p=this.__chain__,d=!!this.__actions__.length,h=a&&!p,y=u&&!d;if(!a&&c){t=y?t:new Vn(this);var v=e.apply(t,s);return v.__actions__.push({func:va,args:[f],thisArg:i}),new Wn(v,p)}return h&&y?e.apply(this,s):(v=this.thru(f),h?r?v.value()[0]:v.value():v)})})),kt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);$n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ga(o)?o:[],e)}return this[n]((function(n){return t.apply(Ga(n)?n:[],e)}))}})),wr(Vn.prototype,(function(e,t){var n=$n[t];if(n){var r=n.name+"";Re.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Ho(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Co(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Co(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Co(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ga(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=On(t,e+a);break;case"takeRight":e=_n(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,p=0,d=On(u,this.__takeCount__);if(!n||!r&&o==u&&d==u)return go(e,this.__actions__);var h=[];e:for(;u--&&p<d;){for(var y=-1,v=e[l+=t];++y<f;){var g=c[y],b=g.iteratee,m=g.type,_=b(v);if(2==m)v=_;else if(!_){if(1==m)continue e;break e}}h[p++]=v}return h},$n.prototype.at=ga,$n.prototype.chain=function(){return ya(this)},$n.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===i&&(this.__values__=ys(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var r=$i(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:va,args:[ra],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(ra)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return go(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Ze&&($n.prototype[Ze]=function(){return this}),$n}();ht._=bn,(o=function(){return bn}.call(t,n,t,r))===i||(r.exports=o)}).call(this)}).call(this,n(68),n(220)(e))},function(e,t,n){var r=n(7),o=n(34),i=n(33),a=n(87),s=n(61),u=n(174),l=n(28),c=r.TypeError,f=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,r=s(e,f);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!i(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},function(e,t,n){var r=n(108);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(36),o=n(18),i=n(91);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(35),o=n(135),i=n(50),a=n(38);e.exports=function(e,t){for(var n=o(t),s=a.f,u=i.f,l=0;l<n.length;l++){var c=n[l];r(e,c)||s(e,c,u(t,c))}}},function(e,t,n){var r=n(46),o=n(15),i=n(74),a=n(112),s=n(32),u=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?u(t,n(e)):t}},function(e,t,n){var r=n(15),o=n(35),i=n(41),a=n(137).indexOf,s=n(72),u=r([].push);e.exports=function(e,t){var n,r=i(e),l=0,c=[];for(n in r)!o(s,n)&&o(r,n)&&u(c,n);for(;t.length>l;)o(r,n=t[l++])&&(~a(c,n)||u(c,n));return c}},function(e,t,n){var r=n(41),o=n(75),i=n(45),a=function(e){return function(t,n,a){var s,u=r(t),l=i(u),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(46);e.exports=r("document","documentElement")},function(e,t,n){var r=n(51),o=n(41),i=n(74).f,a=n(114),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return i(e)}catch(e){return a(s)}}(e):i(o(e))}},function(e,t,n){var r=n(28);t.f=r},function(e,t,n){var r=n(177),o=n(35),i=n(140),a=n(38).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t,n){"use strict";var r,o,i,a=n(18),s=n(30),u=n(60),l=n(101),c=n(42),f=n(28),p=n(71),d=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):h=!0),null==r||a((function(){var e={};return r[d].call(e)!==e}))?r={}:p&&(r=u(r)),s(r[d])||c(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(e,t,n){var r=n(18);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(16),o=n(15),i=n(72),a=n(33),s=n(35),u=n(38).f,l=n(74),c=n(139),f=n(183),p=n(90),d=n(185),h=!1,y=p("meta"),v=0,g=function(e){u(e,y,{value:{objectID:"O"+v++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},h=!0;var e=l.f,t=o([].splice),n={};n[y]=1,e(n).length&&(l.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===y){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,y)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[y].objectID},getWeakData:function(e,t){if(!s(e,y)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[y].weakData},onFreeze:function(e){return d&&h&&f(e)&&!s(e,y)&&g(e),e}};i[y]=!0},function(e,t,n){var r=n(28),o=n(80),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,n){var r=n(7),o=n(34),i=n(56),a=n(32),s=n(88),u=n(118),l=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(i(n))return a(o(n,e));throw l(s(e)+" is not iterable")}},function(e,t,n){var r=n(34),o=n(32),i=n(61);e.exports=function(e,t,n){var a,s;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return o(a),n}},function(e,t,n){var r=n(30),o=n(33),i=n(102);e.exports=function(e,t,n){var a,s;return i&&r(a=t.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(e,s),e}},function(e,t,n){var r=n(42);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(46),o=n(38),i=n(28),a=n(36),s=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(15),o=n(59),i=n(39),a=n(44),s=r("".charAt),u=r("".charCodeAt),l=r("".slice),c=function(e){return function(t,n){var r,c,f=i(a(t)),p=o(n),d=f.length;return p<0||p>=d?e?"":void 0:(r=u(f,p))<55296||r>56319||p+1===d||(c=u(f,p+1))<56320||c>57343?e?s(f,p):r:e?l(f,p,p+2):c-56320+(r-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(91)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},function(e,t,n){"use strict";var r=n(32);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(18),o=n(7).RegExp,i=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),s=i||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},function(e,t,n){"use strict";var r=n(16),o=n(79).find,i=n(100),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(a)},function(e,t,n){"use strict";var r=n(16),o=n(137).includes,i=n(100);r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t,n){"use strict";var r=n(16),o=n(15),i=n(197),a=n(44),s=n(39),u=n(198),l=o("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~l(s(a(this)),s(i(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(33),o=n(51),i=n(28)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(15);e.exports=r(1..valueOf)},function(e,t,n){var r=n(15),o=n(44),i=n(39),a=n(162),s=r("".replace),u="["+a+"]",l=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),f=function(e){return function(t){var n=i(o(t));return 1&e&&(n=s(n,l,"")),2&e&&(n=s(n,c,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,f=-1;function p(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=s(p);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||c||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(32),o=n(165),i=n(28)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r=n(7),o=n(99),i=n(88),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a constructor")}},function(e,t,n){"use strict";var r=n(16),o=n(161).trim;r({target:"String",proto:!0,forced:n(200)("trim")},{trim:function(){return o(this)}})},function(e,t,n){"use strict";var r=n(34),o=n(123),i=n(32),a=n(94),s=n(39),u=n(44),l=n(61),c=n(124),f=n(125);o("match",(function(e,t,n){return[function(t){var n=u(this),o=null==t?void 0:l(t,e);return o?r(o,t,n):new RegExp(t)[e](s(n))},function(e){var r=i(this),o=s(e),u=n(t,r,o);if(u.done)return u.value;if(!r.global)return f(r,o);var l=r.unicode;r.lastIndex=0;for(var p,d=[],h=0;null!==(p=f(r,o));){var y=s(p[0]);d[h]=y,""===y&&(r.lastIndex=c(o,a(r.lastIndex),l)),h++}return 0===h?null:d}]}))},function(e,t,n){var r,o,i,a,s=n(7),u=n(76),l=n(63),c=n(30),f=n(35),p=n(18),d=n(138),h=n(98),y=n(91),v=n(169),g=n(128),b=s.setImmediate,m=s.clearImmediate,_=s.process,O=s.Dispatch,w=s.Function,x=s.MessageChannel,j=s.String,S=0,E={},P="onreadystatechange";try{r=s.location}catch(e){}var k=function(e){if(f(E,e)){var t=E[e];delete E[e],t()}},T=function(e){return function(){k(e)}},D=function(e){k(e.data)},N=function(e){s.postMessage(j(e),r.protocol+"//"+r.host)};b&&m||(b=function(e){var t=h(arguments,1);return E[++S]=function(){u(c(e)?e:w(e),void 0,t)},o(S),S},m=function(e){delete E[e]},g?o=function(e){_.nextTick(T(e))}:O&&O.now?o=function(e){O.now(T(e))}:x&&!v?(a=(i=new x).port2,i.port1.onmessage=D,o=l(a.postMessage,a)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!p(N)?(o=N,s.addEventListener("message",D,!1)):o=P in y("script")?function(e){d.appendChild(y("script")).onreadystatechange=function(){d.removeChild(this),k(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:b,clear:m}},function(e,t,n){var r=n(55);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(56),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(1);function o(e){throw new Error("[mobx-utils] "+e)}function i(e,t){void 0===t&&(t="Illegal state"),e||o(t)}var a=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(a(Object.getPrototypeOf(e))||[])},s=function(e){return function(e){var t=a(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))},u="pending",l="fulfilled",c="rejected";function f(e){switch(this.state){case u:return e.pending&&e.pending(this.value);case c:return e.rejected&&e.rejected(this.value);case l:return e.fulfilled?e.fulfilled(this.value):this.value}}function p(e,t){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then(Object(r.k)("observableFromPromise-resolve",(function(e){n.value=e,n.state=l})),Object(r.k)("observableFromPromise-reject",(function(e){n.value=e,n.state=c}))),n.isPromiseBasedObservable=!0,n.case=f;var o=t&&t.state===l?t.value:void 0;return Object(r.q)(n,{value:o,state:u},{},{deep:!1}),n}!function(e){e.reject=Object(r.k)("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=c,n.value=t,n})),e.resolve=Object(r.k)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=l,n.value=t,n}))}(p||(p={}));var d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(){function e(e,t){var n=this;Object(r.G)((function(){n.current=t,n.subscription=e.subscribe(n)}))}e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},d([r.C.ref],e.prototype,"current",void 0),d([r.k.bound],e.prototype,"next",null),d([r.k.bound],e.prototype,"complete",null),d([r.k.bound],e.prototype,"error",null)}();var h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h.apply(this,arguments)},y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function g(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function b(e){return Object(r.A)(e)||Object(r.y)(e)||Object(r.z)(e)}function m(e,t){var n=new WeakMap;function o(r){var o=n.get(r.object);!function(e,t){switch(e.type){case"add":i(e.newValue,t,e.name);break;case"update":a(e.oldValue),i(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":a(e.oldValue);break;case"splice":e.removed.map(a),e.added.forEach((function(n,r){return i(n,t,""+(e.index+r))}));for(var r=e.index+e.addedCount;r<e.object.length;r++)if(b(e.object[r])){var o=n.get(e.object[r]);o&&(o.path=""+r)}}}(r,o),t(r,g(o),e)}function i(e,t,a){if(b(e)){var s=n.get(e);if(s){if(s.parent!==t||s.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+g(t)+"/"+a+"', but it already exists at '"+g(s.parent)+"/"+s.path+"'")}else{var u={parent:t,path:a,dispose:Object(r.D)(e,o)};n.set(e,u),Object(r.p)(e).forEach((function(e){var t=e[0];return i(e[1],u,t)}))}}}function a(e){if(b(e)){var t=n.get(e);if(!t)return;n.delete(e),t.dispose(),Object(r.L)(e).forEach(a)}}return i(e,void 0,""),function(){a(e)}}!function(){function e(e){var t=this;this.model=e,this.localValues=r.C.map({}),this.localComputedValues=r.C.map({}),this.isPropertyDirty=function(e){return t.localValues.has(e)},i(Object(r.A)(e),"createViewModel expects an observable object"),s(e).forEach((function(n){if(n!==r.a&&"__mobxDidRunLazyInitializers"!==n){if(i(-1===v.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r.w)(e,n)){var o=Object(r.h)(e,n).derivation;t.localComputedValues.set(n,Object(r.m)(o.bind(t)))}var a=Object.getOwnPropertyDescriptor(e,n),s=a?{enumerable:a.enumerable}:{};Object.defineProperty(t,n,h(h({},s),{configurable:!0,get:function(){return Object(r.w)(e,n)?t.localComputedValues.get(n).get():t.isPropertyDirty(n)?t.localValues.get(n):t.model[n]},set:Object(r.k)((function(e){e!==t.model[n]?t.localValues.set(n,e):t.localValues.delete(n)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(r.B)(this.localValues).forEach((function(t){var n=e.localValues.get(t),o=e.model[t];Object(r.y)(o)?o.replace(n):Object(r.z)(o)?(o.clear(),o.merge(n)):Object(r.v)(n)||(e.model[t]=n)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},y([r.m],e.prototype,"isDirty",null),y([r.m],e.prototype,"changedValues",null),y([r.k.bound],e.prototype,"submit",null),y([r.k.bound],e.prototype,"reset",null),y([r.k.bound],e.prototype,"resetProperty",null)}();var _,O=(_=function(e,t){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},_(e,t)},function(e,t){function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),w=(function(e){function t(t,n,o){var i=void 0===o?{}:o,a=i.name,s=void 0===a?"ogm"+(1e3*Math.random()|0):a,u=i.keyToName,l=void 0===u?function(e){return""+e}:u,c=e.call(this)||this;c._keyToName=l,c._groupBy=n,c._ogmInfoKey=Symbol("ogmInfo"+s),c._base=t;for(var f=0;f<t.length;f++)c._addItem(t[f]);return c._disposeBaseObserver=Object(r.D)(c._base,(function(e){if("splice"===e.type)Object(r.J)((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];c._removeItem(r)}for(var o=0,i=e.added;o<i.length;o++){var a=i[o];c._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(r.J)((function(){c._removeItem(e.oldValue),c._addItem(e.newValue)}))}})),c}O(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Object(r.C)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n},t.prototype._removeFromGroupArr=function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},t.prototype._addItem=function(e){var t=this,n=this._groupBy(e),o=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:o.length,reaction:Object(r.F)((function(){return t._groupBy(e)}),(function(n,r){var o=e[t._ogmInfoKey];t._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=t._getGroupArr(n),a=i.length;i.push(e),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}}(r.b),function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var o=new Map;n.set(this.args[r],o),n=o}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}());!function(){function e(){this.store=new Map,this.argsLength=-1}e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new w(this.store,e)}}(),new Set,new Set;Promise.resolve();"undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==e&&e.nextTick}).call(this,n(163))},function(e,t,n){var r;!function(o,i,a){if(o){for(var s,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)u[111+p]="f"+p;for(p=0;p<=9;++p)u[p+96]=p.toString();m.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},m.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},m.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},m.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},m.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(b(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},m.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},m.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);s=null},m.init=function(){var e=m(i);for(var t in e)"_"!==t.charAt(0)&&(m[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},m.init(),o.Mousetrap=m,e.exports&&(e.exports=m),void 0===(r=function(){return m}.call(t,n,t,e))||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,n){return n||(n=function(){if(!s)for(var e in s={},u)e>95&&e<112||u.hasOwnProperty(e)&&(s[u[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e,t){var n,r,o,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),t&&"keypress"!=t&&c[r]&&(r=c[r],i.push("shift")),y(r)&&i.push(r);return{key:r,modifiers:i,action:t=v(r,i,t)}}function b(e,t){return null!==e&&e!==i&&(e===t||b(e.parentNode,t))}function m(e){var t=this;if(e=e||i,!(t instanceof m))return new m(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,a=!1,s=!1;function u(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function l(e,n,o,i,a,s){var u,l,c,f,p=[],d=o.type;if(!t._callbacks[e])return[];for("keyup"==d&&y(e)&&(n=[e]),u=0;u<t._callbacks[e].length;++u)if(l=t._callbacks[e][u],(i||!l.seq||r[l.seq]==l.level)&&d==l.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(c=n,f=l.modifiers,c.sort().join(",")===f.sort().join(",")))){var h=!i&&l.combo==a,v=i&&l.seq==i&&l.level==s;(h||v)&&t._callbacks[e].splice(u,1),p.push(l)}return p}function c(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function p(e,t,i,a){function l(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(u,1e3)}}function f(t){c(i,t,e),"keyup"!==a&&(o=h(t)),setTimeout(u,10)}r[e]=0;for(var p=0;p<t.length;++p){var d=p+1===t.length?f:l(a||g(t[p+1]).action);v(t[p],d,a,e,p)}}function v(e,n,r,o,i){t._directMap[e+":"+r]=n;var a,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?p(e,s,n,r):(a=g(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],l(a.key,a.modifiers,{type:a.action},o,e,i),t._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,n){var r,o=l(e,t,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,c(o[r].callback,n,o[r].combo,o[r].seq)}else p||c(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&a;n.type!=s||y(e)||d||u(i),a=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){var r=n(7),o=n(34),i=n(30),a=n(33),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&i(n=e.toString)&&!a(r=o(n,e)))return r;if(i(n=e.valueOf)&&!a(r=o(n,e)))return r;if("string"!==t&&i(n=e.toString)&&!a(r=o(n,e)))return r;throw s("Can't convert object to primitive value")}},function(e,t,n){var r=n(7),o=n(30),i=n(92),a=r.WeakMap;e.exports=o(a)&&/native code/.test(i(a))},function(e,t,n){var r=n(36),o=n(38),i=n(32),a=n(41),s=n(77);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),u=s(t),l=u.length,c=0;l>c;)o.f(e,n=u[c++],r[n]);return e}},function(e,t,n){var r=n(7);e.exports=r},function(e,t,n){var r=n(7),o=n(96),i=n(99),a=n(33),s=n(28)("species"),u=r.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,(i(t)&&(t===u||o(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?u:t}},function(e,t,n){"use strict";var r=n(113),o=n(97);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,n){"use strict";var r=n(142).IteratorPrototype,o=n(60),i=n(69),a=n(78),s=n(80),u=function(){return this};e.exports=function(e,t,n,l){var c=t+" Iterator";return e.prototype=o(r,{next:i(+!l,n)}),a(e,c,!1,!0),s[c]=u,e}},function(e,t,n){var r=n(7),o=n(30),i=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(15),a=n(95),s=n(42),u=n(144),l=n(117),c=n(119),f=n(30),p=n(33),d=n(18),h=n(120),y=n(78),v=n(148);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),m=g?"set":"add",_=o[e],O=_&&_.prototype,w=_,x={},j=function(e){var t=i(O[e]);s(O,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!f(_)||!(b||O.forEach&&!d((function(){(new _).entries().next()})))))w=n.getConstructor(t,e,g,m),u.enable();else if(a(e,!0)){var S=new w,E=S[m](b?{}:-0,1)!=S,P=d((function(){S.has(1)})),k=h((function(e){new _(e)})),T=!b&&d((function(){for(var e=new _,t=5;t--;)e[m](t,t);return!e.has(-0)}));k||((w=t((function(e,t){c(e,O);var n=v(new _,e,w);return null!=t&&l(t,n[m],{that:n,AS_ENTRIES:g}),n}))).prototype=O,O.constructor=w),(P||T)&&(j("delete"),j("has"),g&&j("get")),(T||E)&&j(m),b&&O.clear&&delete O.clear}return x[e]=w,r({global:!0,forced:w!=_},x),y(w,e),b||n.setStrong(w,e,g),w}},function(e,t,n){var r=n(18),o=n(33),i=n(51),a=n(184),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||a?function(e){return!!o(e)&&(!a||"ArrayBuffer"!=i(e))&&(!s||s(e))}:s},function(e,t,n){var r=n(18);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,t,n){var r=n(18);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var r=n(38).f,o=n(60),i=n(149),a=n(63),s=n(119),u=n(117),l=n(116),c=n(150),f=n(36),p=n(144).fastKey,d=n(58),h=d.set,y=d.getterFor;e.exports={getConstructor:function(e,t,n,l){var c=e((function(e,r){s(e,d),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=r&&u(r,e[l],{that:e,AS_ENTRIES:n})})),d=c.prototype,v=y(t),g=function(e,t,n){var r,o,i=v(e),a=b(e,t);return a?a.value=n:(i.last=a={index:o=p(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},b=function(e,t){var n,r=v(e),o=p(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(d,{clear:function(){for(var e=v(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=this,n=v(t),r=b(t,e);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),f?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=v(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),i(d,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&r(d,"size",{get:function(){return v(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",o=y(t),i=y(r);l(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},function(e,t,n){"use strict";var r=n(79).forEach,o=n(121)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){"use strict";var r=n(7),o=n(63),i=n(34),a=n(40),s=n(189),u=n(145),l=n(99),c=n(45),f=n(62),p=n(146),d=n(118),h=r.Array;e.exports=function(e){var t=a(e),n=l(this),r=arguments.length,y=r>1?arguments[1]:void 0,v=void 0!==y;v&&(y=o(y,r>2?arguments[2]:void 0));var g,b,m,_,O,w,x=d(t),j=0;if(!x||this==h&&u(x))for(g=c(t),b=n?new this(g):h(g);g>j;j++)w=v?y(t[j],j):t[j],f(b,j,w);else for(O=(_=p(t,x)).next,b=n?new this:[];!(m=i(O,_)).done;j++)w=v?s(_,y,[m.value,j],!0):m.value,f(b,j,w);return b.length=j,b}},function(e,t,n){var r=n(32),o=n(147);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},function(e,t,n){var r=n(18),o=n(7).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,n){var r=n(18),o=n(7).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,n){"use strict";var r=n(16),o=n(15),i=n(56),a=n(40),s=n(45),u=n(39),l=n(18),c=n(193),f=n(121),p=n(194),d=n(195),h=n(70),y=n(196),v=[],g=o(v.sort),b=o(v.push),m=l((function(){v.sort(void 0)})),_=l((function(){v.sort(null)})),O=f("sort"),w=!l((function(){if(h)return h<70;if(!(p&&p>3)){if(d)return!0;if(y)return y<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:t+r,v:n})}for(v.sort((function(e,t){return t.v-e.v})),r=0;r<v.length;r++)t=v[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:m||!_||!O||!w},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(w)return void 0===e?g(t):g(t,e);var n,r,o=[],l=s(t);for(r=0;r<l;r++)r in t&&b(o,t[r]);for(c(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=o.length,r=0;r<n;)t[r]=o[r++];for(;r<l;)delete t[r++];return t}})},function(e,t,n){var r=n(114),o=Math.floor,i=function(e,t){var n=e.length,u=o(n/2);return n<8?a(e,t):s(e,i(r(e,0,u),t),i(r(e,u),t),t)},a=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?r(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e};e.exports=i},function(e,t,n){var r=n(55).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,t,n){var r=n(55);e.exports=/MSIE|Trident/.test(r)},function(e,t,n){var r=n(55).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},function(e,t,n){var r=n(7),o=n(159),i=r.TypeError;e.exports=function(e){if(o(e))throw i("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(28)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){n(16)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(73).PROPER,o=n(18),i=n(162);e.exports=function(e){return o((function(){return!!i[e]()||"​᠎"!=="​᠎"[e]()||r&&i[e].name!==e}))}},function(e,t,n){var r=n(15),o=n(40),i=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,p){var d=n+e.length,h=r.length,y=c;return void 0!==f&&(f=o(f),y=l),s(p,y,(function(o,s){var l;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,d);case"<":l=f[u(s,1,-1)];break;default:var c=+s;if(0===c)return o;if(c>h){var p=i(c/10);return 0===p?o:p<=h?void 0===r[p-1]?a(s,1):r[p-1]+a(s,1):o}l=r[c-1]}return void 0===l?"":l}))}},function(e,t,n){"use strict";var r=n(36),o=n(15),i=n(34),a=n(18),s=n(77),u=n(112),l=n(84),c=n(40),f=n(85),p=Object.assign,d=Object.defineProperty,h=o([].concat);e.exports=!p||a((function(){if(r&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=p({},e)[n]||s(p({},t)).join("")!=o}))?function(e,t){for(var n=c(e),o=arguments.length,a=1,p=u.f,d=l.f;o>a;)for(var y,v=f(arguments[a++]),g=p?h(s(v),p(v)):s(v),b=g.length,m=0;b>m;)y=g[m++],r&&!i(d,v,y)||(n[y]=v[y]);return n}:p},function(e,t,n){"use strict";var r=n(7),o=n(15),i=n(56),a=n(33),s=n(35),u=n(98),l=r.Function,c=o([].concat),f=o([].join),p={},d=function(e,t,n){if(!s(p,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";p[t]=l("C,a","return new C("+f(r,",")+")")}return p[t](e,n)};e.exports=l.bind||function(e){var t=i(this),n=t.prototype,r=u(arguments,1),o=function(){var n=c(r,u(arguments));return this instanceof o?d(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}},function(e,t,n){var r=n(35);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},function(e,t,n){var r=n(15),o=n(44),i=n(39),a=/"/g,s=r("".replace);e.exports=function(e,t,n,r){var u=i(o(e)),l="<"+t;return""!==n&&(l+=" "+n+'="'+s(i(r),a,"&quot;")+'"'),l+">"+u+"</"+t+">"}},function(e,t,n){var r=n(18);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){"use strict";var r,o,i,a,s=n(16),u=n(71),l=n(7),c=n(46),f=n(34),p=n(208),d=n(42),h=n(149),y=n(102),v=n(78),g=n(150),b=n(56),m=n(30),_=n(33),O=n(119),w=n(92),x=n(117),j=n(120),S=n(164),E=n(168).set,P=n(209),k=n(212),T=n(213),D=n(170),N=n(214),C=n(58),A=n(95),M=n(28),I=n(215),R=n(128),L=n(70),B=M("species"),F="Promise",z=C.getterFor(F),q=C.set,$=C.getterFor(F),H=p&&p.prototype,U=p,W=H,V=l.TypeError,G=l.document,X=l.process,Y=D.f,J=Y,K=!!(G&&G.createEvent&&l.dispatchEvent),Z=m(l.PromiseRejectionEvent),Q="unhandledrejection",ee=!1,te=A(F,(function(){var e=w(U),t=e!==String(U);if(!t&&66===L)return!0;if(u&&!W.finally)return!0;if(L>=51&&/native code/.test(e))return!1;var n=new U((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[B]=r,!(ee=n.then((function(){}))instanceof r)||!t&&I&&!Z})),ne=te||!j((function(e){U.all(e).catch((function(){}))})),re=function(e){var t;return!(!_(e)||!m(t=e.then))&&t},oe=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;P((function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var a,s,u,l=n[i++],c=o?l.ok:l.fail,p=l.resolve,d=l.reject,h=l.domain;try{c?(o||(2===e.rejection&&ue(e),e.rejection=1),!0===c?a=r:(h&&h.enter(),a=c(r),h&&(h.exit(),u=!0)),a===l.promise?d(V("Promise-chain cycle")):(s=re(a))?f(s,a,p,d):p(a)):d(r)}catch(e){h&&!u&&h.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ae(e)}))}},ie=function(e,t,n){var r,o;K?((r=G.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!Z&&(o=l["on"+e])?o(r):e===Q&&T("Unhandled promise rejection",n)},ae=function(e){f(E,l,(function(){var t,n=e.facade,r=e.value;if(se(e)&&(t=N((function(){R?X.emit("unhandledRejection",r,n):ie(Q,n,r)})),e.rejection=R||se(e)?2:1,t.error))throw t.value}))},se=function(e){return 1!==e.rejection&&!e.parent},ue=function(e){f(E,l,(function(){var t=e.facade;R?X.emit("rejectionHandled",t):ie("rejectionhandled",t,e.value)}))},le=function(e,t,n){return function(r){e(t,r,n)}},ce=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,oe(e,!0))},fe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw V("Promise can't be resolved itself");var r=re(t);r?P((function(){var n={done:!1};try{f(r,t,le(fe,n,e),le(ce,n,e))}catch(t){ce(n,t,e)}})):(e.value=t,e.state=1,oe(e,!1))}catch(t){ce({done:!1},t,e)}}};if(te&&(W=(U=function(e){O(this,W),b(e),f(r,this);var t=z(this);try{e(le(fe,t),le(ce,t))}catch(e){ce(t,e)}}).prototype,(r=function(e){q(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(W,{then:function(e,t){var n=$(this),r=n.reactions,o=Y(S(this,U));return o.ok=!m(e)||e,o.fail=m(t)&&t,o.domain=R?X.domain:void 0,n.parent=!0,r[r.length]=o,0!=n.state&&oe(n,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=z(e);this.promise=e,this.resolve=le(fe,t),this.reject=le(ce,t)},D.f=Y=function(e){return e===U||e===i?new o(e):J(e)},!u&&m(p)&&H!==Object.prototype)){a=H.then,ee||(d(H,"then",(function(e,t){var n=this;return new U((function(e,t){f(a,n,e,t)})).then(e,t)}),{unsafe:!0}),d(H,"catch",W.catch,{unsafe:!0}));try{delete H.constructor}catch(e){}y&&y(H,W)}s({global:!0,wrap:!0,forced:te},{Promise:U}),v(U,F,!1,!0),g(F),i=c(F),s({target:F,stat:!0,forced:te},{reject:function(e){var t=Y(this);return f(t.reject,void 0,e),t.promise}}),s({target:F,stat:!0,forced:u||te},{resolve:function(e){return k(u&&this===i?U:this,e)}}),s({target:F,stat:!0,forced:ne},{all:function(e){var t=this,n=Y(t),r=n.resolve,o=n.reject,i=N((function(){var n=b(t.resolve),i=[],a=0,s=1;x(e,(function(e){var u=a++,l=!1;s++,f(n,t,e).then((function(e){l||(l=!0,i[u]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=Y(t),r=n.reject,o=N((function(){var o=b(t.resolve);x(e,(function(e){f(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(e,t,n){var r=n(7);e.exports=r.Promise},function(e,t,n){var r,o,i,a,s,u,l,c,f=n(7),p=n(63),d=n(50).f,h=n(168).set,y=n(169),v=n(210),g=n(211),b=n(128),m=f.MutationObserver||f.WebKitMutationObserver,_=f.document,O=f.process,w=f.Promise,x=d(f,"queueMicrotask"),j=x&&x.value;j||(r=function(){var e,t;for(b&&(e=O.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},y||b||g||!m||!_?!v&&w&&w.resolve?((l=w.resolve(void 0)).constructor=w,c=p(l.then,l),a=function(){c(r)}):b?a=function(){O.nextTick(r)}:(h=p(h,f),a=function(){h(r)}):(s=!0,u=_.createTextNode(""),new m(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),e.exports=j||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},function(e,t,n){var r=n(55),o=n(7);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(e,t,n){var r=n(55);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(32),o=n(33),i=n(170);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(7);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t){e.exports="object"==typeof window},function(e,t,n){"use strict";var r=n(40),o=n(75),i=n(45);e.exports=function(e){for(var t=r(this),n=i(t),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:o(u,n);l>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(16),o=n(7),i=n(15),a=n(59),s=n(160),u=n(218),l=n(18),c=o.RangeError,f=o.String,p=Math.floor,d=i(u),h=i("".slice),y=i(1..toFixed),v=function(e,t,n){return 0===t?n:t%2==1?v(e,t-1,n*e):v(e*e,t/2,n)},g=function(e,t,n){for(var r=-1,o=n;++r<6;)o+=t*e[r],e[r]=o%1e7,o=p(o/1e7)},b=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=p(r/t),r=r%t*1e7},m=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=f(e[t]);n=""===n?r:n+d("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:l((function(){return"0.000"!==y(8e-5,3)||"1"!==y(.9,0)||"1.25"!==y(1.255,2)||"1000000000000000128"!==y(0xde0b6b3a7640080,0)}))||!l((function(){y({})}))},{toFixed:function(e){var t,n,r,o,i=s(this),u=a(e),l=[0,0,0,0,0,0],p="",y="0";if(u<0||u>20)throw c("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return f(i);if(i<0&&(p="-",i=-i),i>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(i*v(2,69,1))-69)<0?i*v(2,-t,1):i/v(2,t,1),n*=4503599627370496,(t=52-t)>0){for(g(l,0,n),r=u;r>=7;)g(l,1e7,0),r-=7;for(g(l,v(10,r,1),0),r=t-1;r>=23;)b(l,1<<23),r-=23;b(l,1<<r),g(l,1,1),b(l,2),y=m(l)}else g(l,0,n),g(l,1<<-t,0),y=m(l)+d("0",u);return u>0?p+((o=y.length)<=u?"0."+d("0",u-o)+y:h(y,0,o-u)+"."+h(y,o-u)):p+y}})},function(e,t,n){"use strict";var r=n(7),o=n(59),i=n(39),a=n(44),s=r.RangeError;e.exports=function(e){var t=i(a(this)),n="",r=o(e);if(r<0||r==1/0)throw s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},function(e,t,n){var r=n(36),o=n(15),i=n(77),a=n(41),s=o(n(84).f),u=o([].push),l=function(e){return function(t){for(var n,o=a(t),l=i(o),c=l.length,f=0,p=[];c>f;)n=l[f++],r&&!s(o,n)||u(p,e?[n,o[n]]:o[n]);return p}};e.exports={entries:l(!0),values:l(!1)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.r(t),n.d(t,"observer",(function(){return jO})),n.d(t,"LogicFlow",(function(){return xO})),n.d(t,"h",(function(){return ee.g})),n.d(t,"LogicFlowUtil",(function(){return r})),n.d(t,"BaseNode",(function(){return Zv})),n.d(t,"RectNode",(function(){return sg})),n.d(t,"CircleNode",(function(){return vg})),n.d(t,"PolygonNode",(function(){return Tg})),n.d(t,"DiamondNode",(function(){return Bg})),n.d(t,"EllipseNode",(function(){return Kg})),n.d(t,"TextNode",(function(){return ub})),n.d(t,"HtmlNode",(function(){return mb})),n.d(t,"BaseEdge",(function(){return am})),n.d(t,"LineEdge",(function(){return mm})),n.d(t,"PolylineEdge",(function(){return Lm})),n.d(t,"BezierEdge",(function(){return Xm})),n.d(t,"Arrow",(function(){return o_})),n.d(t,"BaseEdgeModel",(function(){return ts})),n.d(t,"BezierEdgeModel",(function(){return ld})),n.d(t,"LineEdgeModel",(function(){return bs})),n.d(t,"PolylineEdgeModel",(function(){return Rs})),n.d(t,"BaseNodeModel",(function(){return xd})),n.d(t,"CircleNodeModel",(function(){return $d})),n.d(t,"DiamondNodeModel",(function(){return lh})),n.d(t,"EllipseNodeModel",(function(){return Ph})),n.d(t,"PolygonNodeModel",(function(){return Gh})),n.d(t,"RectNodeModel",(function(){return ly})),n.d(t,"TextNodeModel",(function(){return jy})),n.d(t,"HtmlNodeModel",(function(){return By})),n.d(t,"EditConfigModel",(function(){return ko})),n.d(t,"GraphModel",(function(){return sc})),n.d(t,"SnaplineModel",(function(){return Uy})),n.d(t,"Keyboard",(function(){return cO})),n.d(t,"get",(function(){return mp})),n.d(t,"defaults",(function(){return wp})),n.d(t,"ElementState",(function(){return co})),n.d(t,"ModelType",(function(){return po})),n.d(t,"ElementType",(function(){return ho})),n.d(t,"EventType",(function(){return yo})),n.d(t,"formateAnchorConnectValidateData",(function(){return Ua}));var r={};n.r(r),n.d(r,"createUuid",(function(){return ta})),n.d(r,"refreshGraphId",(function(){return na})),n.d(r,"StepDrag",(function(){return Vu})),n.d(r,"setupEdgeModel",(function(){return Ks})),n.d(r,"isBboxOverLapping",(function(){return Zs})),n.d(r,"filterRepeatPoints",(function(){return Qs})),n.d(r,"getSimplePolyline",(function(){return eu})),n.d(r,"getExpandedBBox",(function(){return tu})),n.d(r,"pointDirection",(function(){return nu})),n.d(r,"getExpandedBBoxPoint",(function(){return ru})),n.d(r,"mergeBBox",(function(){return ou})),n.d(r,"getBBoxOfPoints",(function(){return iu})),n.d(r,"getPointsFromBBox",(function(){return au})),n.d(r,"isPointOutsideBBox",(function(){return su})),n.d(r,"getBBoxXCrossPoints",(function(){return uu})),n.d(r,"getBBoxYCrossPoints",(function(){return lu})),n.d(r,"getBBoxCrossPointsByPoint",(function(){return cu})),n.d(r,"estimateDistance",(function(){return fu})),n.d(r,"costByPoints",(function(){return pu})),n.d(r,"heuristicCostEstimate",(function(){return du})),n.d(r,"rebuildPath",(function(){return hu})),n.d(r,"removeClosePointFromOpenList",(function(){return yu})),n.d(r,"isSegmentsIntersected",(function(){return vu})),n.d(r,"isSegmentCrossingBBox",(function(){return gu})),n.d(r,"getNextNeighborPoints",(function(){return bu})),n.d(r,"pathFinder",(function(){return mu})),n.d(r,"getBoxByOriginNode",(function(){return _u})),n.d(r,"pointFilter",(function(){return Ou})),n.d(r,"getPolylinePoints",(function(){return wu})),n.d(r,"getLongestEdge",(function(){return xu})),n.d(r,"isSegmentsInNode",(function(){return ju})),n.d(r,"isSegmentsCrossNode",(function(){return Su})),n.d(r,"getCrossPointInRect",(function(){return Eu})),n.d(r,"segmentDirection",(function(){return Pu})),n.d(r,"points2PointsList",(function(){return ku})),n.d(r,"getSimplePoints",(function(){return Tu})),n.d(r,"getBytesLength",(function(){return Nu})),n.d(r,"getTextWidth",(function(){return Au})),n.d(r,"getAppendAttributes",(function(){return Mu})),n.d(r,"getBezierControlPoints",(function(){return Iu})),n.d(r,"getBezierPoints",(function(){return Ru})),n.d(r,"getEndTangent",(function(){return Bu})),n.d(r,"getClosestPointOfPolyline",(function(){return Fu})),n.d(r,"pickEdgeConfig",(function(){return zu})),n.d(r,"twoPointDistance",(function(){return qu})),n.d(r,"createEdgeGenerator",(function(){return $u})),n.d(r,"snapToGrid",(function(){return zi})),n.d(r,"getGridOffset",(function(){return qi})),n.d(r,"sampleCubic",(function(){return Fs})),n.d(r,"getThetaOfVector",(function(){return qs})),n.d(r,"degrees",(function(){return $s})),n.d(r,"Vector",(function(){return ll})),n.d(r,"Point",(function(){return cl})),n.d(r,"Matrix",(function(){return $l})),n.d(r,"RotateMatrix",(function(){return Hl})),n.d(r,"ScaleMatrix",(function(){return Ul})),n.d(r,"TranslateMatrix",(function(){return Wl}));var o=n(1),i=n(10);if(!i.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!o.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=n(43),s=Object(a.b)("observerBatching");function u(e){e()}var l=!1;function c(){return l}function f(e){return Object(o.t)(e)}var p,d=1e4,h=new Set;function y(){void 0===p&&(p=setTimeout(v,1e4))}function v(){p=void 0;var e=Date.now();h.forEach((function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,h.delete(t))})),h.size>0&&y()}var g=!1,b=[],m={};function _(e){return"observer"+e}function O(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=m),c())return e();var r,s=function(e){return function(){g?b.push(e):e()}}((n.useForceUpdate||a.d)()),u=i.d.useRef(null);if(!u.current){var l=new o.c(_(t),(function(){p.mounted?s():(l.dispose(),u.current=null)})),p=function(e){return{cleanAt:Date.now()+d,reaction:e}}(l);u.current=p,r=u,h.add(r),y()}var v=u.current.reaction;return i.d.useDebugValue(v,f),i.d.useEffect((function(){var e;return e=u,h.delete(e),u.current?u.current.mounted=!0:(u.current={reaction:new o.c(_(t),(function(){s()})),cleanAt:1/0},s()),function(){u.current.reaction.dispose(),u.current=null}}),[]),function(e){g=!0,b=[];try{var t=e();g=!1;var n=b.length>0?b:void 0;return i.d.useLayoutEffect((function(){n&&n.forEach((function(e){return e()}))}),[n]),t}finally{g=!1}}((function(){var t,n;if(v.track((function(){try{t=e()}catch(e){n=e}})),n)throw n;return t}))}var w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},w.apply(this,arguments)};function x(e,t){if(c())return e;var n,r,o,a=w({forwardRef:!1},t),s=e.displayName||e.name,u=function(t,n){return O((function(){return e(t,n)}),s)};return u.displayName=s,n=a.forwardRef?Object(i.f)(Object(i.e)(u)):Object(i.f)(u),r=e,o=n,Object.keys(r).forEach((function(e){S[e]||Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})),n.displayName=s,n}var j,S={$$typeof:!0,render:!0,compare:!0,type:!0};function E(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:O(r)}function P(e,t,n,r,o){var i="children"===t?"render":"children",a="function"==typeof e[t],s="function"==typeof e[i];return a&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||s?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}E.propTypes={children:P,render:P},E.displayName="Observer",(j=i.g)||(j=u),Object(o.n)({reactionScheduler:j}),Object(a.a)()[s]=!0;var k=0,T={};function D(e){return T[e]||(T[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+k+")";return k++,t}(e)),T[e]}function N(e,t){if(C(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!C(e[n[o]],t[n[o]]))return!1;return!0}function C(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function A(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var M=D("patchMixins"),I=D("patchedDefinition");function R(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function L(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];R.call.apply(R,[this,e,t].concat(r))}}function B(e,t,n){var r=function(e,t){var n=e[M]=e[M]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[I]){var i=e[t],a=F(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}function F(e,t,n,r,o){var i,a=L(o,r);return(i={})[I]=!0,i.get=function(){return a},i.set=function(o){if(this===e)a=L(o,r);else{var i=F(this,t,n,r,o);Object.defineProperty(this,t,i)}},i.configurable=!0,i.enumerable=n,i}var z=o.a||"$mobx",q=D("isMobXReactObserver"),$=D("isUnmounted"),H=D("skipRender"),U=D("isForcingUpdate");function W(e){var t=e.prototype;if(e[q]?V(t):e[q]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==i.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==X)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=X;Y(t,"props"),Y(t,"state");var n=t.render;return t.render=function(){return G.call(this,n)},B(t,"componentWillUnmount",(function(){var e;!0===c()||(null===(e=this.render[z])||void 0===e||e.dispose(),this[$]=!0,this.render[z])||V(this)})),e}function V(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function G(e){var t=this;if(!0===c())return e.call(this);A(this,H,!1),A(this,U,!1);var n=V(this),r=e.bind(this),a=!1,s=new o.c(n+".render()",(function(){if(!a&&(a=!0,!0!==t[$])){var e=!0;try{A(t,U,!0),t[H]||i.a.prototype.forceUpdate.call(t),e=!1}finally{A(t,U,!1),e&&s.dispose()}}}));function u(){a=!1;var e=void 0,t=void 0;if(s.track((function(){try{t=Object(o.d)(!1,r)}catch(t){e=t}})),e)throw e;return t}return s.reactComponent=this,u[z]=s,this.render=u,u.call(this)}function X(e,t){return c(),this.state!==t||!N(this.props,e)}function Y(e,t){var n=D("reactProp_"+t+"_valueHolder"),r=D("reactProp_"+t+"_atomHolder");function i(){return this[r]||A(this,r,Object(o.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return o.f&&o.e&&(e=Object(o.f)(!0)),i.call(this).reportObserved(),o.f&&o.e&&Object(o.e)(e),this[n]},set:function(e){this[U]||N(this[n],e)?A(this,n,e):(A(this,n,e),A(this,H,!0),i.call(this).reportChanged(),A(this,H,!1))}})}var J="function"==typeof Symbol&&Symbol.for,K=J?Symbol.for("react.forward_ref"):"function"==typeof i.e&&Object(i.e)((function(e){return null})).$$typeof,Z=J?Symbol.for("react.memo"):"function"==typeof i.f&&Object(i.f)((function(e){return null})).$$typeof;function Q(e){if(e.isMobxInjector,Z&&e.$$typeof===Z)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(K&&e.$$typeof===K){var t=e.render;if("function"!=typeof t)throw new Error("render property of ForwardRef was not a function");return Object(i.e)((function(){var e=arguments;return Object(i.c)(E,null,(function(){return t.apply(void 0,e)}))}))}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(i.a,e)?W(e):x(e)}if(!i.a)throw new Error("mobx-react requires React to be available");if(!o.C)throw new Error("mobx-react requires mobx to be available");var ee=n(0);n(4),n(8),n(2),n(3),n(52),n(6),n(5),n(11),n(37),n(26),n(21),n(20),n(24),n(22),n(25),n(9),n(17),n(23),n(19),n(192),n(156),n(104),n(157),n(158),n(199),n(64);var te=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},ne=function(){this.__data__=[],this.size=0},re=function(e,t){return e===t||e!=e&&t!=t},oe=function(e,t){for(var n=e.length;n--;)if(re(e[n][0],t))return n;return-1},ie=Array.prototype.splice,ae=function(e){var t=this.__data__,n=oe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ie.call(t,n,1),--this.size,!0)},se=function(e){var t=this.__data__,n=oe(t,e);return n<0?void 0:t[n][1]},ue=function(e){return oe(this.__data__,e)>-1},le=function(e,t){var n=this.__data__,r=oe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ce.prototype.clear=ne,ce.prototype.delete=ae,ce.prototype.get=se,ce.prototype.has=ue,ce.prototype.set=le;var fe,pe=ce,de=function(){this.__data__=new pe,this.size=0},he=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ye=function(e){return this.__data__.get(e)},ve=function(e){return this.__data__.has(e)},ge=n(31),be=ge.a.Symbol,me=Object.prototype,_e=me.hasOwnProperty,Oe=me.toString,we=be?be.toStringTag:void 0,xe=function(e){var t=_e.call(e,we),n=e[we];try{e[we]=void 0;var r=!0}catch(e){}var o=Oe.call(e);return r&&(t?e[we]=n:delete e[we]),o},je=Object.prototype.toString,Se=function(e){return je.call(e)},Ee=be?be.toStringTag:void 0,Pe=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ee&&Ee in Object(e)?xe(e):Se(e)},ke=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Te=function(e){if(!ke(e))return!1;var t=Pe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},De=ge.a["__core-js_shared__"],Ne=(fe=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||""))?"Symbol(src)_1."+fe:"",Ce=function(e){return!!Ne&&Ne in e},Ae=Function.prototype.toString,Me=function(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ie=/^\[object .+?Constructor\]$/,Re=Function.prototype,Le=Object.prototype,Be=Re.toString,Fe=Le.hasOwnProperty,ze=RegExp("^"+Be.call(Fe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=function(e){return!(!ke(e)||Ce(e))&&(Te(e)?ze:Ie).test(Me(e))},$e=function(e,t){return null==e?void 0:e[t]},He=function(e,t){var n=$e(e,t);return qe(n)?n:void 0},Ue=He(ge.a,"Map"),We=He(Object,"create"),Ve=function(){this.__data__=We?We(null):{},this.size=0},Ge=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Xe=Object.prototype.hasOwnProperty,Ye=function(e){var t=this.__data__;if(We){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Xe.call(t,e)?t[e]:void 0},Je=Object.prototype.hasOwnProperty,Ke=function(e){var t=this.__data__;return We?void 0!==t[e]:Je.call(t,e)},Ze=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=We&&void 0===t?"__lodash_hash_undefined__":t,this};function Qe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qe.prototype.clear=Ve,Qe.prototype.delete=Ge,Qe.prototype.get=Ye,Qe.prototype.has=Ke,Qe.prototype.set=Ze;var et=Qe,tt=function(){this.size=0,this.__data__={hash:new et,map:new(Ue||pe),string:new et}},nt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},rt=function(e,t){var n=e.__data__;return nt(t)?n["string"==typeof t?"string":"hash"]:n.map},ot=function(e){var t=rt(this,e).delete(e);return this.size-=t?1:0,t},it=function(e){return rt(this,e).get(e)},at=function(e){return rt(this,e).has(e)},st=function(e,t){var n=rt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ut(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ut.prototype.clear=tt,ut.prototype.delete=ot,ut.prototype.get=it,ut.prototype.has=at,ut.prototype.set=st;var lt=ut,ct=function(e,t){var n=this.__data__;if(n instanceof pe){var r=n.__data__;if(!Ue||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new lt(r)}return n.set(e,t),this.size=n.size,this};function ft(e){var t=this.__data__=new pe(e);this.size=t.size}ft.prototype.clear=de,ft.prototype.delete=he,ft.prototype.get=ye,ft.prototype.has=ve,ft.prototype.set=ct;var pt=ft,dt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ht=function(e){return this.__data__.has(e)};function yt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new lt;++t<n;)this.add(e[t])}yt.prototype.add=yt.prototype.push=dt,yt.prototype.has=ht;var vt=yt,gt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},bt=function(e,t){return e.has(t)},mt=function(e,t,n,r,o,i){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=i.get(e),c=i.get(t);if(l&&c)return l==t&&c==e;var f=-1,p=!0,d=2&n?new vt:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var h=e[f],y=t[f];if(r)var v=a?r(y,h,f,t,e,i):r(h,y,f,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!gt(t,(function(e,t){if(!bt(d,t)&&(h===e||o(h,e,n,r,i)))return d.push(t)}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p},_t=ge.a.Uint8Array,Ot=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},wt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},xt=be?be.prototype:void 0,jt=xt?xt.valueOf:void 0,St=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new _t(e),new _t(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return re(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ot;case"[object Set]":var u=1&r;if(s||(s=wt),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=mt(s(e),s(t),r,o,i,a);return a.delete(e),c;case"[object Symbol]":if(jt)return jt.call(e)==jt.call(t)}return!1},Et=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Pt=Array.isArray,kt=function(e,t,n){var r=t(e);return Pt(e)?r:Et(r,n(e))},Tt=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},Dt=function(){return[]},Nt=Object.prototype.propertyIsEnumerable,Ct=Object.getOwnPropertySymbols,At=Ct?function(e){return null==e?[]:(e=Object(e),Tt(Ct(e),(function(t){return Nt.call(e,t)})))}:Dt,Mt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},It=function(e){return null!=e&&"object"==typeof e},Rt=function(e){return It(e)&&"[object Arguments]"==Pe(e)},Lt=Object.prototype,Bt=Lt.hasOwnProperty,Ft=Lt.propertyIsEnumerable,zt=Rt(function(){return arguments}())?Rt:function(e){return It(e)&&Bt.call(e,"callee")&&!Ft.call(e,"callee")},qt=zt,$t=n(48),Ht=/^(?:0|[1-9]\d*)$/,Ut=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ht.test(e))&&e>-1&&e%1==0&&e<t},Wt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Vt={};Vt["[object Float32Array]"]=Vt["[object Float64Array]"]=Vt["[object Int8Array]"]=Vt["[object Int16Array]"]=Vt["[object Int32Array]"]=Vt["[object Uint8Array]"]=Vt["[object Uint8ClampedArray]"]=Vt["[object Uint16Array]"]=Vt["[object Uint32Array]"]=!0,Vt["[object Arguments]"]=Vt["[object Array]"]=Vt["[object ArrayBuffer]"]=Vt["[object Boolean]"]=Vt["[object DataView]"]=Vt["[object Date]"]=Vt["[object Error]"]=Vt["[object Function]"]=Vt["[object Map]"]=Vt["[object Number]"]=Vt["[object Object]"]=Vt["[object RegExp]"]=Vt["[object Set]"]=Vt["[object String]"]=Vt["[object WeakMap]"]=!1;var Gt=function(e){return It(e)&&Wt(e.length)&&!!Vt[Pe(e)]},Xt=function(e){return function(t){return e(t)}},Yt=n(49),Jt=Yt.a&&Yt.a.isTypedArray,Kt=Jt?Xt(Jt):Gt,Zt=Object.prototype.hasOwnProperty,Qt=function(e,t){var n=Pt(e),r=!n&&qt(e),o=!n&&!r&&Object($t.a)(e),i=!n&&!r&&!o&&Kt(e),a=n||r||o||i,s=a?Mt(e.length,String):[],u=s.length;for(var l in e)!t&&!Zt.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ut(l,u))||s.push(l);return s},en=Object.prototype,tn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||en)},nn=function(e,t){return function(n){return e(t(n))}},rn=nn(Object.keys,Object),on=Object.prototype.hasOwnProperty,an=function(e){if(!tn(e))return rn(e);var t=[];for(var n in Object(e))on.call(e,n)&&"constructor"!=n&&t.push(n);return t},sn=function(e){return null!=e&&Wt(e.length)&&!Te(e)},un=function(e){return sn(e)?Qt(e):an(e)},ln=function(e){return kt(e,un,At)},cn=Object.prototype.hasOwnProperty,fn=function(e,t,n,r,o,i){var a=1&n,s=ln(e),u=s.length;if(u!=ln(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:cn.call(t,c)))return!1}var f=i.get(e),p=i.get(t);if(f&&p)return f==t&&p==e;var d=!0;i.set(e,t),i.set(t,e);for(var h=a;++l<u;){var y=e[c=s[l]],v=t[c];if(r)var g=a?r(v,y,c,t,e,i):r(y,v,c,e,t,i);if(!(void 0===g?y===v||o(y,v,n,r,i):g)){d=!1;break}h||(h="constructor"==c)}if(d&&!h){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(e),i.delete(t),d},pn=He(ge.a,"DataView"),dn=He(ge.a,"Promise"),hn=He(ge.a,"Set"),yn=He(ge.a,"WeakMap"),vn="[object Map]",gn="[object Promise]",bn="[object Set]",mn="[object WeakMap]",_n="[object DataView]",On=Me(pn),wn=Me(Ue),xn=Me(dn),jn=Me(hn),Sn=Me(yn),En=Pe;(pn&&En(new pn(new ArrayBuffer(1)))!=_n||Ue&&En(new Ue)!=vn||dn&&En(dn.resolve())!=gn||hn&&En(new hn)!=bn||yn&&En(new yn)!=mn)&&(En=function(e){var t=Pe(e),n="[object Object]"==t?e.constructor:void 0,r=n?Me(n):"";if(r)switch(r){case On:return _n;case wn:return vn;case xn:return gn;case jn:return bn;case Sn:return mn}return t});var Pn=En,kn="[object Arguments]",Tn="[object Array]",Dn="[object Object]",Nn=Object.prototype.hasOwnProperty,Cn=function(e,t,n,r,o,i){var a=Pt(e),s=Pt(t),u=a?Tn:Pn(e),l=s?Tn:Pn(t),c=(u=u==kn?Dn:u)==Dn,f=(l=l==kn?Dn:l)==Dn,p=u==l;if(p&&Object($t.a)(e)){if(!Object($t.a)(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new pt),a||Kt(e)?mt(e,t,n,r,o,i):St(e,t,u,n,r,o,i);if(!(1&n)){var d=c&&Nn.call(e,"__wrapped__"),h=f&&Nn.call(t,"__wrapped__");if(d||h){var y=d?e.value():e,v=h?t.value():t;return i||(i=new pt),o(y,v,n,r,i)}}return!!p&&(i||(i=new pt),fn(e,t,n,r,o,i))},An=function e(t,n,r,o,i){return t===n||(null==t||null==n||!It(t)&&!It(n)?t!=t&&n!=n:Cn(t,n,r,o,e,i))},Mn=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var u=(s=n[o])[0],l=e[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in e))return!1}else{var f=new pt;if(r)var p=r(l,c,u,e,t,f);if(!(void 0===p?An(c,l,3,r,f):p))return!1}}return!0},In=function(e){return e==e&&!ke(e)},Rn=function(e){for(var t=un(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,In(o)]}return t},Ln=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},Bn=function(e){var t=Rn(e);return 1==t.length&&t[0][2]?Ln(t[0][0],t[0][1]):function(n){return n===e||Mn(n,e,t)}},Fn=function(e){return"symbol"==typeof e||It(e)&&"[object Symbol]"==Pe(e)},zn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qn=/^\w*$/,$n=function(e,t){if(Pt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Fn(e))||qn.test(e)||!zn.test(e)||null!=t&&e in Object(t)};function Hn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Hn.Cache||lt),n}Hn.Cache=lt;var Un=Hn,Wn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vn=/\\(\\)?/g,Gn=function(e){var t=Un(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Wn,(function(e,n,r,o){t.push(r?o.replace(Vn,"$1"):n||e)})),t})),Xn=be?be.prototype:void 0,Yn=Xn?Xn.toString:void 0,Jn=function e(t){if("string"==typeof t)return t;if(Pt(t))return te(t,e)+"";if(Fn(t))return Yn?Yn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Kn=function(e){return null==e?"":Jn(e)},Zn=function(e,t){return Pt(e)?e:$n(e,t)?[e]:Gn(Kn(e))},Qn=function(e){if("string"==typeof e||Fn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},er=function(e,t){for(var n=0,r=(t=Zn(t,e)).length;null!=e&&n<r;)e=e[Qn(t[n++])];return n&&n==r?e:void 0},tr=function(e,t,n){var r=null==e?void 0:er(e,t);return void 0===r?n:r},nr=function(e,t){return null!=e&&t in Object(e)},rr=function(e,t,n){for(var r=-1,o=(t=Zn(t,e)).length,i=!1;++r<o;){var a=Qn(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Wt(o)&&Ut(a,o)&&(Pt(e)||qt(e))},or=function(e,t){return null!=e&&rr(e,t,nr)},ir=function(e,t){return $n(e)&&In(t)?Ln(Qn(e),t):function(n){var r=tr(n,e);return void 0===r&&r===t?or(n,e):An(t,r,3)}},ar=function(e){return e},sr=function(e){return function(t){return null==t?void 0:t[e]}},ur=function(e){return function(t){return er(t,e)}},lr=function(e){return $n(e)?sr(Qn(e)):ur(e)},cr=function(e){return"function"==typeof e?e:null==e?ar:"object"==typeof e?Pt(e)?ir(e[0],e[1]):Bn(e):lr(e)},fr=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}(),pr=function(e,t){return function(n,r){if(null==n)return n;if(!sn(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(e,t){return e&&fr(e,t,un)})),dr=function(e,t){var n=-1,r=sn(e)?Array(e.length):[];return pr(e,(function(e,o,i){r[++n]=t(e,o,i)})),r},hr=function(e,t){return(Pt(e)?te:dr)(e,cr(t,3))};Object(o.n)({isolateGlobalState:!0});var yr,vr,gr,br,mr,_r,Or,wr,xr,jr,Sr,Er,Pr,kr,Tr,Dr,Nr,Cr,Ar,Mr=function(){try{var e=He(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ir=function(e,t,n){"__proto__"==t&&Mr?Mr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Rr=Object.prototype.hasOwnProperty,Lr=function(e,t,n){var r=e[t];Rr.call(e,t)&&re(r,n)&&(void 0!==n||t in e)||Ir(e,t,n)},Br=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),o?Ir(n,s,u):Lr(n,s,u)}return n},Fr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},zr=Math.max,qr=function(e,t,n){return t=zr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=zr(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),Fr(e,this,s)}},$r=function(e){return function(){return e}},Hr=Mr?function(e,t){return Mr(e,"toString",{configurable:!0,enumerable:!1,value:$r(t),writable:!0})}:ar,Ur=Date.now,Wr=function(e){var t=0,n=0;return function(){var r=Ur(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Vr=Wr(Hr),Gr=function(e,t){return Vr(qr(e,t,ar),e+"")},Xr=function(e,t,n){if(!ke(n))return!1;var r=typeof t;return!!("number"==r?sn(n)&&Ut(t,n.length):"string"==r&&t in n)&&re(n[t],e)},Yr=function(e){return Gr((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Xr(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))},Jr=Object.prototype.hasOwnProperty,Kr=Yr((function(e,t){if(tn(t)||sn(t))Br(t,un(t),e);else for(var n in t)Jr.call(t,n)&&Lr(e,n,t[n])})),Zr=function(e,t,n,r){if(!ke(e))return e;for(var o=-1,i=(t=Zn(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=Qn(t[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=ke(c)?c:Ut(t[o+1])?[]:{})}Lr(s,u,l),s=s[u]}return e},Qr=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=er(e,a);n(s,a)&&Zr(i,Zn(a,e),s)}return i},eo=function(e,t){return Qr(e,t,(function(t,n){return or(e,n)}))},to=be?be.isConcatSpreadable:void 0,no=function(e){return Pt(e)||qt(e)||!!(to&&e&&e[to])},ro=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=no),i||(i=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):Et(i,u):o||(i[i.length]=u)}return i},oo=function(e){return null!=e&&e.length?ro(e,1):[]},io=function(e){return Vr(qr(e,void 0,oo),e+"")}((function(e,t){return null==e?{}:eo(e,t)}));function ao(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function so(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var co,fo,po,ho,yo,vo,go,bo,mo,_o,Oo,wo,xo,jo,So,Eo={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Po=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],ko=(vr=lo((yr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ao(this,"isSilentMode",vr,this),ao(this,"stopZoomGraph",gr,this),ao(this,"stopScrollGraph",br,this),ao(this,"stopMoveGraph",mr,this),ao(this,"adjustEdge",_r,this),ao(this,"adjustEdgeMiddle",Or,this),ao(this,"adjustEdgeStartAndEnd",wr,this),ao(this,"adjustNodePosition",xr,this),ao(this,"hideAnchors",jr,this),ao(this,"allowRotation",Sr,this),ao(this,"hoverOutline",Er,this),ao(this,"nodeSelectedOutline",Pr,this),ao(this,"edgeSelectedOutline",kr,this),ao(this,"nodeTextEdit",Tr,this),ao(this,"edgeTextEdit",Dr,this),ao(this,"nodeTextDraggable",Nr,this),ao(this,"edgeTextDraggable",Cr,this),ao(this,"autoExpand",Ar,this),uo(this,"multipleSelectKey",""),uo(this,"defaultConfig",{}),Kr(this,this.getConfigDetail(t))}var t,n,r;return t=e,(n=[{key:"updateEditConfig",value:function(e){var t=this.getConfigDetail(e);Kr(this,t)}},{key:"getConfigDetail",value:function(e){var t=e.isSilentMode,n=e.textEdit,r={};if(!1===t&&Kr(r,this.defaultConfig),!0===t&&t!==this.isSilentMode){var o=io(Eo,Po);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Kr(r,o)}!1===n&&Kr(r,{nodeTextEdit:!1,edgeTextEdit:!1});var i=io(e,Po);return Kr(r,i)}},{key:"getConfig",value:function(){return io(this,Po)}}])&&so(t.prototype,n),r&&so(t,r),e}()).prototype,"isSilentMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gr=lo(yr.prototype,"stopZoomGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),br=lo(yr.prototype,"stopScrollGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mr=lo(yr.prototype,"stopMoveGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_r=lo(yr.prototype,"adjustEdge",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Or=lo(yr.prototype,"adjustEdgeMiddle",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wr=lo(yr.prototype,"adjustEdgeStartAndEnd",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xr=lo(yr.prototype,"adjustNodePosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jr=lo(yr.prototype,"hideAnchors",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sr=lo(yr.prototype,"allowRotation",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Er=lo(yr.prototype,"hoverOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pr=lo(yr.prototype,"nodeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kr=lo(yr.prototype,"edgeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tr=lo(yr.prototype,"nodeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dr=lo(yr.prototype,"edgeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Nr=lo(yr.prototype,"nodeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cr=lo(yr.prototype,"edgeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ar=lo(yr.prototype,"autoExpand",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lo(yr.prototype,"updateEditConfig",[o.k],Object.getOwnPropertyDescriptor(yr.prototype,"updateEditConfig"),yr.prototype),yr);function To(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Do(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function No(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n(65),n(66),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(co||(co={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(fo||(fo={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(po||(po={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(ho||(ho={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_GROUP_COPY="node:group-copy-add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.NODE_ROTATE="node:rotate",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(yo||(yo={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(vo||(vo={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"}(go||(go={}));var Io={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Ro=(bo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ao(this,"MINI_SCALE_SIZE",.2),Ao(this,"MAX_SCALE_SIZE",16),No(this,"SCALE_X",mo,this),No(this,"SKEW_Y",_o,this),No(this,"SKEW_X",Oo,this),No(this,"SCALE_Y",wo,this),No(this,"TRANSLATE_X",xo,this),No(this,"TRANSLATE_Y",jo,this),No(this,"ZOOM_SIZE",So,this),Ao(this,"eventCenter",void 0),Ao(this,"translateLimitMinX",void 0),Ao(this,"translateLimitMinY",void 0),Ao(this,"translateLimitMaxX",void 0),Ao(this,"translateLimitMaxY",void 0),this.eventCenter=t;var r=n.stopMoveGraph,o=void 0!==r&&r;this.updateTranslateLimits(o)}var t,n,r;return t=e,n=[{key:"setZoomMiniSize",value:function(e){this.MINI_SCALE_SIZE=e}},{key:"setZoomMaxSize",value:function(e){this.MAX_SCALE_SIZE=e}},{key:"HtmlPointToCanvasPoint",value:function(e){var t=To(e,2),n=t[0],r=t[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(e){var t=To(e,2),n=t[0],r=t[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(e,t,n){var r=To(e,2),o=r[0],i=r[1];return[o+t/this.SCALE_X,i+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(e,t){return[e/this.SCALE_X,t/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var e=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(e,")")}}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this.SCALE_X,r=this.SCALE_Y;return!0===e?(n+=this.ZOOM_SIZE,r+=this.ZOOM_SIZE):!1===e?(n-=this.ZOOM_SIZE,r-=this.ZOOM_SIZE):"number"==typeof e&&(n=e,r=e),n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE||(t&&(this.TRANSLATE_X-=(n-this.SCALE_X)*t[0],this.TRANSLATE_Y-=(r-this.SCALE_Y)*t[1]),this.SCALE_X=n,this.SCALE_Y=r,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(e){this.eventCenter.emit(yo.GRAPH_TRANSFORM,{type:e,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(e,t){this.TRANSLATE_X+e<=this.translateLimitMaxX&&this.TRANSLATE_X+e>=this.translateLimitMinX&&(this.TRANSLATE_X+=e),this.TRANSLATE_Y+t<=this.translateLimitMaxY&&this.TRANSLATE_Y+t>=this.translateLimitMinY&&(this.TRANSLATE_Y+=t),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(e,t,n,r){var o=To(this.CanvasPointToHtmlPoint([e,t]),2),i=n/2-o[0],a=r/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(e){var t=To(Array.isArray(e)&&4===e.length?e:Io[e.toString()],4);this.translateLimitMinX=t[0],this.translateLimitMinY=t[1],this.translateLimitMaxX=t[2],this.translateLimitMaxY=t[3]}}],n&&Co(t.prototype,n),r&&Co(t,r),e}(),mo=Mo(bo.prototype,"SCALE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_o=Mo(bo.prototype,"SKEW_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oo=Mo(bo.prototype,"SKEW_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wo=Mo(bo.prototype,"SCALE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xo=Mo(bo.prototype,"TRANSLATE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jo=Mo(bo.prototype,"TRANSLATE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),So=Mo(bo.prototype,"ZOOM_SIZE",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),Mo(bo.prototype,"zoom",[o.k],Object.getOwnPropertyDescriptor(bo.prototype,"zoom"),bo.prototype),Mo(bo.prototype,"resetZoom",[o.k],Object.getOwnPropertyDescriptor(bo.prototype,"resetZoom"),bo.prototype),Mo(bo.prototype,"translate",[o.k],Object.getOwnPropertyDescriptor(bo.prototype,"translate"),bo.prototype),Mo(bo.prototype,"focusOn",[o.k],Object.getOwnPropertyDescriptor(bo.prototype,"focusOn"),bo.prototype),bo),Lo=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Bo=function(e,t){return e&&Br(t,un(t),e)},Fo=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},zo=Object.prototype.hasOwnProperty,qo=function(e){if(!ke(e))return Fo(e);var t=tn(e),n=[];for(var r in e)("constructor"!=r||!t&&zo.call(e,r))&&n.push(r);return n},$o=function(e){return sn(e)?Qt(e,!0):qo(e)},Ho=function(e,t){return e&&Br(t,$o(t),e)},Uo=n(107),Wo=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Vo=function(e,t){return Br(e,At(e),t)},Go=nn(Object.getPrototypeOf,Object),Xo=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Et(t,At(e)),e=Go(e);return t}:Dt,Yo=function(e,t){return Br(e,Xo(e),t)},Jo=function(e){return kt(e,$o,Xo)},Ko=Object.prototype.hasOwnProperty,Zo=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ko.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Qo=function(e){var t=new e.constructor(e.byteLength);return new _t(t).set(new _t(e)),t},ei=function(e,t){var n=t?Qo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},ti=/\w*$/,ni=function(e){var t=new e.constructor(e.source,ti.exec(e));return t.lastIndex=e.lastIndex,t},ri=be?be.prototype:void 0,oi=ri?ri.valueOf:void 0,ii=function(e){return oi?Object(oi.call(e)):{}},ai=function(e,t){var n=t?Qo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},si=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Qo(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return ei(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ai(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return ni(e);case"[object Symbol]":return ii(e)}},ui=Object.create,li=function(){function e(){}return function(t){if(!ke(t))return{};if(ui)return ui(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ci=function(e){return"function"!=typeof e.constructor||tn(e)?{}:li(Go(e))},fi=function(e){return It(e)&&"[object Map]"==Pn(e)},pi=Yt.a&&Yt.a.isMap,di=pi?Xt(pi):fi,hi=function(e){return It(e)&&"[object Set]"==Pn(e)},yi=Yt.a&&Yt.a.isSet,vi=yi?Xt(yi):hi,gi="[object Arguments]",bi="[object Function]",mi="[object Object]",_i={};_i[gi]=_i["[object Array]"]=_i["[object ArrayBuffer]"]=_i["[object DataView]"]=_i["[object Boolean]"]=_i["[object Date]"]=_i["[object Float32Array]"]=_i["[object Float64Array]"]=_i["[object Int8Array]"]=_i["[object Int16Array]"]=_i["[object Int32Array]"]=_i["[object Map]"]=_i["[object Number]"]=_i["[object Object]"]=_i["[object RegExp]"]=_i["[object Set]"]=_i["[object String]"]=_i["[object Symbol]"]=_i["[object Uint8Array]"]=_i["[object Uint8ClampedArray]"]=_i["[object Uint16Array]"]=_i["[object Uint32Array]"]=!0,_i["[object Error]"]=_i[bi]=_i["[object WeakMap]"]=!1;var Oi=function e(t,n,r,o,i,a){var s,u=1&n,l=2&n,c=4&n;if(r&&(s=i?r(t,o,i,a):r(t)),void 0!==s)return s;if(!ke(t))return t;var f=Pt(t);if(f){if(s=Zo(t),!u)return Wo(t,s)}else{var p=Pn(t),d=p==bi||"[object GeneratorFunction]"==p;if(Object($t.a)(t))return Object(Uo.a)(t,u);if(p==mi||p==gi||d&&!i){if(s=l||d?{}:ci(t),!u)return l?Yo(t,Ho(s,t)):Vo(t,Bo(s,t))}else{if(!_i[p])return i?t:{};s=si(t,p,u)}}a||(a=new pt);var h=a.get(t);if(h)return h;a.set(t,s),vi(t)?t.forEach((function(o){s.add(e(o,n,r,o,t,a))})):di(t)&&t.forEach((function(o,i){s.set(i,e(o,n,r,i,t,a))}));var y=f?void 0:(c?l?Jo:ln:l?$o:un)(t);return Lo(y||t,(function(o,i){y&&(o=t[i=o]),Lr(s,i,e(o,n,r,i,t,a))})),s},wi=function(e){return Oi(e,5)},xi=function(e,t,n){(void 0!==n&&!re(e[t],n)||void 0===n&&!(t in e))&&Ir(e,t,n)},ji=function(e){return It(e)&&sn(e)},Si=Function.prototype,Ei=Object.prototype,Pi=Si.toString,ki=Ei.hasOwnProperty,Ti=Pi.call(Object),Di=function(e){if(!It(e)||"[object Object]"!=Pe(e))return!1;var t=Go(e);if(null===t)return!0;var n=ki.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pi.call(n)==Ti},Ni=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Ci=function(e){return Br(e,$o(e))},Ai=function(e,t,n,r,o,i,a){var s=Ni(e,n),u=Ni(t,n),l=a.get(u);if(l)xi(e,n,l);else{var c=i?i(s,u,n+"",e,t,a):void 0,f=void 0===c;if(f){var p=Pt(u),d=!p&&Object($t.a)(u),h=!p&&!d&&Kt(u);c=u,p||d||h?Pt(s)?c=s:ji(s)?c=Wo(s):d?(f=!1,c=Object(Uo.a)(u,!0)):h?(f=!1,c=ai(u,!0)):c=[]:Di(u)||qt(u)?(c=s,qt(s)?c=Ci(s):ke(s)&&!Te(s)||(c=ci(u))):f=!1}f&&(a.set(u,c),o(c,u,r,i,a),a.delete(u)),xi(e,n,c)}},Mi=function e(t,n,r,o,i){t!==n&&fr(n,(function(a,s){if(i||(i=new pt),ke(a))Ai(t,n,s,r,e,o,i);else{var u=o?o(Ni(t,s),a,s+"",t,n,i):void 0;void 0===u&&(u=a),xi(t,s,u)}}),$o)},Ii=Yr((function(e,t,n){Mi(e,t,n)})),Ri={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Li=function(e){var t=wi(Ri);return e&&(t=Ii(t,e)),t};function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(82),n(166);var Fi=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="_events")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t,n){var r=this;return null==e||e.split(",").forEach((function(e){e=e.trim(),r._events[e]||(r._events[e]=[]),r._events[e].push({callback:t,once:!!n})})),this}},{key:"once",value:function(e,t){var n=this;null==e||e.split(",").forEach((function(e){return e=e.trim(),n.on(e,t,!0)}))}},{key:"emit",value:function(e,t){var n=this;null==e||e.split(",").forEach((function(e){var r=n._events[e]||[],o=n._events["*"]||[],i=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],s=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete n._events[e],o--,i--),s.apply(n,[t])}};i(r),i(o)}))}},{key:"off",value:function(e,t){var n=this;return e||(this._events={}),e.split(",").forEach((function(e){if(t){for(var r=n._events[e]||[],o=r.length,i=0;i<o;i++)r[i].callback===t&&(r.splice(i,1),o--,i--);0===r.length&&delete n._events[e]}else delete n._events[e]})),this}},{key:"getEvents",value:function(){return this._events}}])&&Bi(t.prototype,n),r&&Bi(t,r),e}();function zi(e,t){return t*Math.round(e/t)||e}function qi(e,t){return e%t}function $i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ui,Wi=function(e,t,n){var r=$i(e,2),o=r[0],i=r[1],a=$i(t,2),s=a[0],u=a[1],l=$i(n,2),c=l[0],f=l[1];return o>s&&o<c&&i>u&&i<f},Vi=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;case"ctrl":n=e.ctrlKey;break;default:n=!1}return n},Gi=(n(167),n(126),n(83),n(29),n(12),n(13),n(14),n(47),new Uint8Array(16));function Xi(){if(!Ui&&!(Ui="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ui(Gi)}for(var Yi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ji=function(e){return"string"==typeof e&&Yi.test(e)},Ki=[],Zi=0;Zi<256;++Zi)Ki.push((Zi+256).toString(16).substr(1));var Qi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ki[e[t+0]]+Ki[e[t+1]]+Ki[e[t+2]]+Ki[e[t+3]]+"-"+Ki[e[t+4]]+Ki[e[t+5]]+"-"+Ki[e[t+6]]+Ki[e[t+7]]+"-"+Ki[e[t+8]]+Ki[e[t+9]]+"-"+Ki[e[t+10]]+Ki[e[t+11]]+Ki[e[t+12]]+Ki[e[t+13]]+Ki[e[t+14]]+Ki[e[t+15]]).toLowerCase();if(!Ji(n))throw TypeError("Stringified UUID is invalid");return n},ea=function(e,t,n){var r=(e=e||{}).random||(e.rng||Xi)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Qi(r)},ta=function(){return ea()},na=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.nodes.reduce((function(e,n){return e[n.id]=t+ea(),n.id=e[n.id],e}),{});return e.edges.forEach((function(e){e.id=t+ea(),e.sourceNodeId=n[e.sourceNodeId],e.targetNodeId=n[e.targetNodeId]})),e},ra=(n(105),n(127),function(e,t,n){var r=e.x,o=e.y;return(r-t.x)*(r-n.x)<=0&&(o-t.y)*(o-n.y)<=0});function oa(e){return oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(e)}function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(n),!0).forEach((function(t){sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ua,la,ca,fa,pa,da,ha,ya,va,ga,ba,ma,_a,Oa,wa,xa,ja,Sa,Ea,Pa,ka,Ta=function(e){return e.anchors},Da=function(e,t){for(var n,r=t.nodes,o=r.length-1;o>=0;o--){var i=r[o];if(Ma(e,i)){var a=i.getTargetAnchor(e);if(a){var s={node:i,anchorIndex:a.index,anchor:a.anchor};n&&!Na(i,n.node,t)||(n=s)}}}return n},Na=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},Ca=function(e,t,n,r){return Math.hypot(e-n,t-r)},Aa=function(e,t){var n=!1,r=Ia(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},Ma=function(e,t){var n=!1,r=Ia(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},Ia=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n}},Ra=function(e,t,n){var r,o=function(e){var t=e,n=t.x,r=t.y,o=t.width,i=t.height,a=t.radius;return[{x:n-o/2+a,y:r-i/2+a,r:a},{x:n+o/2-a,y:r-i/2+a,r:a},{x:n-o/2+a,y:r+i/2-a,r:a},{x:n+o/2-a,y:r+i/2-a,r:a}]}(n),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(t){var n=Ca(e.x,e.y,t.x,t.y);n<i&&(i=n,r=t)})),La(e,t,r)},La=function(e,t,n){var r,o=n,i=o.x,a=o.y,s=o.r;if(t===vo.HORIZONTAL){var u=i-Math.sqrt(s*s-(e.y-a)*(e.y-a)),l=i+Math.sqrt(s*s-(e.y-a)*(e.y-a));r={x:Math.abs(u-e.x)<Math.abs(l-e.x)?u:l,y:e.y}}else if(t===vo.VERTICAL){var c=a-Math.sqrt(s*s-(e.x-i)*(e.x-i)),f=a+Math.sqrt(s*s-(e.x-i)*(e.x-i)),p=Math.abs(c-e.y)<Math.abs(f-e.y)?c:f;r={x:e.x,y:p}}return r},Ba=function(e,t){var n=t,r=!1,o=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,s=n.y+n.height/2-n.radius,u=n.x,l=n.y,c=n.width,f=n.height;return e.y===l+f/2||e.y===l-f/2?r=e.x>o&&e.x<i:e.x!==u+c/2&&e.x!==u-c/2||(r=e.y>a&&e.y<s),r},Fa=function(e,t,n){var r,o=n,i=o.x,a=o.y,s=o.rx,u=o.ry;if(t===vo.HORIZONTAL){var l=i-Math.sqrt(s*s-(e.y-a)*(e.y-a)*s*s/(u*u)),c=i+Math.sqrt(s*s-(e.y-a)*(e.y-a)*s*s/(u*u));r={x:Math.abs(l-e.x)<Math.abs(c-e.x)?l:c,y:e.y}}else if(t===vo.VERTICAL){var f=a-Math.sqrt(u*u-(e.x-i)*(e.x-i)*u*u/(s*s)),p=a+Math.sqrt(u*u-(e.x-i)*(e.x-i)*u*u/(s*s)),d=Math.abs(f-e.y)<Math.abs(p-e.y)?f:p;r={x:e.x,y:d}}return r},za=function(e,t,n){for(var r,o=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,a=[],s=0;s<o.length;s++)a.push({start:o[s],end:o[(s+1)%o.length]});return a.forEach((function(n){var o=n.start,a=n.end,s=o,u=a;o.x>a.x&&(s=a,u=o);var l={x:e.x,y:e.y};if(s.x===u.x&&t===vo.HORIZONTAL&&(l={x:s.x,y:e.y}),s.y===u.y&&t===vo.VERTICAL&&(l={x:e.x,y:s.y}),s.x!==u.x&&s.y!==u.y){var c=(u.y-s.y)/(u.x-s.x),f=(s.x*u.y-u.x*s.y)/(s.x-u.x);t===vo.HORIZONTAL?l={x:(e.y-f)/c,y:e.y}:t===vo.VERTICAL&&(l={x:e.x,y:c*e.x+f})}if(ra(l,o,a)){var p=Ca(l.x,l.y,e.x,e.y);p<i&&(i=p,r=l)}})),r},qa=function(e,t,n,r){var o=e.x,i=e.y;return t.x>e.x?o=e.x+n/2:t.x<e.x&&(o=e.x-n/2),t.y>e.y?i=e.y+r/2:t.y<e.y&&(i=e.y-r/2),{x:o,y:i}},$a=function(e){var t=e.rows,n=e.style,r=e.rowsLength,o=e.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=o,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?t.forEach((function(e){var t=document.createElement("div");t.textContent=e,i.appendChild(t)})):i.textContent=t,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},Ha=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,o=0;return t&&t.forEach((function(e){var t=Nu(e);o=t>o?t:o})),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},Ua=function(e){return"object"!==oa(e)?{isAllPass:!!e,msg:e?"":"不允许连接"}:e},Wa=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},Va=1e3,Ga=999,Xa=function(){return++Va};function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){Qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ka(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ts=(ua=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qa(this,"id",""),Ka(this,"type",la,this),Ka(this,"sourceNodeId",ca,this),Ka(this,"targetNodeId",fa,this),Ka(this,"startPoint",pa,this),Ka(this,"endPoint",da,this),Ka(this,"text",ha,this),Ka(this,"properties",ya,this),Ka(this,"points",va,this),Ka(this,"pointsList",ga,this),Ka(this,"isSelected",ba,this),Ka(this,"isHovered",ma,this),Ka(this,"isHitable",_a,this),Ka(this,"draggable",Oa,this),Ka(this,"visible",wa,this),Qa(this,"virtual",!1),Ka(this,"isAnimation",xa,this),Ka(this,"isShowAdjustPoint",ja,this),Qa(this,"graphModel",void 0),Ka(this,"zIndex",Sa,this),Qa(this,"BaseType",ho.EDGE),Qa(this,"modelType",po.EDGE),Ka(this,"state",Ea,this),Qa(this,"additionStateData",void 0),Qa(this,"sourceAnchorId",""),Qa(this,"targetAnchorId",""),Qa(this,"menu",void 0),Qa(this,"customTextPosition",!1),Ka(this,"style",Pa,this),Ka(this,"arrowConfig",ka,this),this.graphModel=n,this.initEdgeData(t),this.setAttributes()}var t,n,r;return t=e,n=[{key:"initEdgeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,n=t&&t(e.type),r=this.createId();e.id=r||n||ta()}this.arrowConfig.markerEnd="url(#marker-end-".concat(e.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(e.id,")");var o=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=o,Kr(this,zu(e)),this.graphModel.overlapMode===go.INCREASE&&(this.zIndex=e.zIndex||Xa()),this.setAnchors(),this.initPoints(),this.formatText(e)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Ja(Ja({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Ja({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var e=this.graphModel.theme.edgeText;return wi(e)}},{key:"getEdgeAnimationStyle",value:function(){var e=this.graphModel.theme.edgeAnimation;return wi(e)}},{key:"getArrowStyle",value:function(){var e=this.getEdgeStyle(),t=this.getEdgeAnimationStyle(),n=this.graphModel.theme.arrow,r=this.isAnimation?t.stroke:e.stroke;return Ja(Ja({},e),{},{fill:r,stroke:r},n)}},{key:"getOutlineStyle",value:function(){var e=this.graphModel.theme.outline;return wi(e)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.sourceNodeId])||void 0===t?void 0:t.model}},{key:"targetNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.targetNodeId])||void 0===t?void 0:t.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(e,t){var n,r;return Ta(e).forEach((function(e){var o=qu(e,t);(void 0===r||o<r)&&(r=o,n=e)})),n}},{key:"getEndAnchor",value:function(e){var t,n,r=this;return Ta(e).forEach((function(e){var o=qu(e,r.startPoint);(void 0===n||o<n)&&(n=o,t=e)})),t}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,i={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(o.I)(this.properties)};return r&&(i.text={x:t,y:n,value:r}),this.graphModel.overlapMode===go.INCREASE&&(i.zIndex=this.zIndex),i}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(e,t){this.properties[e]=Wa(t),this.setAttributes()}},{key:"deleteProperty",value:function(e){delete this.properties[e],this.setAttributes()}},{key:"setProperties",value:function(e){this.properties=Ja(Ja({},Object(o.I)(this.properties)),Wa(e)),this.setAttributes()}},{key:"changeEdgeId",value:function(e){var t=this.arrowConfig,n=t.markerEnd,r=t.markerStart;r&&r==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(e,")")),n&&n==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(e,")")),this.id=e}},{key:"setStyle",value:function(e,t){this.style=Ja(Ja({},this.style),{},Qa({},e,Wa(t)))}},{key:"setStyles",value:function(e){this.style=Ja(Ja({},this.style),Wa(e))}},{key:"updateStyles",value:function(e){this.style=Ja({},Wa(e))}},{key:"formatText",value:function(e){var t=this.textPosition,n=t.x,r=t.y;e.text&&"string"!=typeof e.text?"[object Object]"===Object.prototype.toString.call(e.text)&&(this.text={x:e.text.x||n,y:e.text.y||r,value:e.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:e.text||"",x:n,y:r,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var e=this.textPosition,t=e.x,n=e.y;this.text.x=t,this.text.y=n}},{key:"moveText",value:function(e,t){if(this.text){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,s=n.editable;this.text={value:i,draggable:a,x:r+e,y:o+t,editable:s}}}},{key:"setText",value:function(e){e&&Kr(this.text,e)}},{key:"updateText",value:function(e){this.text=Ja(Ja({},Object(o.I)(this.text)),{},{value:e})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode);if(!(e||this.startPoint&&this.sourceAnchorId))throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:e.x,y:e.y}),this.sourceAnchorId||(this.sourceAnchorId=e.id)}if(!this.targetAnchorId||!this.endPoint){var t=this.getEndAnchor(this.targetNode);if(!(t||this.endPoint&&this.targetAnchorId))throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:t.x,y:t.y}),this.targetAnchorId||(this.targetAnchorId=t.id)}}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStartPoint",value:function(e){this.startPoint=e}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t}},{key:"updateEndPoint",value:function(e){this.endPoint=e}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.zIndex=e}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(e){Kr(this,e)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint;this.updateStartPoint({x:t.x,y:t.y}),this.updateEndPoint({x:n.x,y:n.y})}}],n&&Za(t.prototype,n),r&&Za(t,r),e}(),la=es(ua.prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ca=es(ua.prototype,"sourceNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fa=es(ua.prototype,"targetNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pa=es(ua.prototype,"startPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),da=es(ua.prototype,"endPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ha=es(ua.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ya=es(ua.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),va=es(ua.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ga=es(ua.prototype,"pointsList",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ba=es(ua.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ma=es(ua.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_a=es(ua.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oa=es(ua.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wa=es(ua.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xa=es(ua.prototype,"isAnimation",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ja=es(ua.prototype,"isShowAdjustPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sa=es(ua.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ea=es(ua.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pa=es(ua.prototype,"style",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ka=es(ua.prototype,"arrowConfig",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),es(ua.prototype,"sourceNode",[o.m],Object.getOwnPropertyDescriptor(ua.prototype,"sourceNode"),ua.prototype),es(ua.prototype,"targetNode",[o.m],Object.getOwnPropertyDescriptor(ua.prototype,"targetNode"),ua.prototype),es(ua.prototype,"textPosition",[o.m],Object.getOwnPropertyDescriptor(ua.prototype,"textPosition"),ua.prototype),es(ua.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setProperty"),ua.prototype),es(ua.prototype,"deleteProperty",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"deleteProperty"),ua.prototype),es(ua.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setProperties"),ua.prototype),es(ua.prototype,"changeEdgeId",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"changeEdgeId"),ua.prototype),es(ua.prototype,"setStyle",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setStyle"),ua.prototype),es(ua.prototype,"setStyles",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setStyles"),ua.prototype),es(ua.prototype,"updateStyles",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"updateStyles"),ua.prototype),es(ua.prototype,"formatText",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"formatText"),ua.prototype),es(ua.prototype,"resetTextPosition",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"resetTextPosition"),ua.prototype),es(ua.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"moveText"),ua.prototype),es(ua.prototype,"setText",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setText"),ua.prototype),es(ua.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"updateText"),ua.prototype),es(ua.prototype,"setAnchors",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setAnchors"),ua.prototype),es(ua.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setSelected"),ua.prototype),es(ua.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setHovered"),ua.prototype),es(ua.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setHitable"),ua.prototype),es(ua.prototype,"openEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"openEdgeAnimation"),ua.prototype),es(ua.prototype,"closeEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"closeEdgeAnimation"),ua.prototype),es(ua.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setElementState"),ua.prototype),es(ua.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"updateStartPoint"),ua.prototype),es(ua.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"moveStartPoint"),ua.prototype),es(ua.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"updateEndPoint"),ua.prototype),es(ua.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"moveEndPoint"),ua.prototype),es(ua.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"setZIndex"),ua.prototype),es(ua.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"initPoints"),ua.prototype),es(ua.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"updateAttributes"),ua.prototype),es(ua.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"getAdjustStart"),ua.prototype),es(ua.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"getAdjustEnd"),ua.prototype),es(ua.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(ua.prototype,"updateAfterAdjustStartAndEnd"),ua.prototype),ua),ns=ts;function rs(e){return rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(e)}function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach((function(t){ys(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function as(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function us(){return us="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ls(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},us.apply(this,arguments)}function ls(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hs(e)););return e}function cs(e,t){return cs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cs(e,t)}function fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hs(e);if(t){var o=hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ps(this,n)}}function ps(e,t){if(t&&("object"===rs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ds(e)}function ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hs(e){return hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hs(e)}function ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vs,gs,bs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cs(e,t)}(i,e);var t,n,r,o=fs(i);function i(){var e;as(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ys(ds(e=o.call.apply(o,[this].concat(n))),"modelType",po.LINE_EDGE),e}return t=i,(n=[{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.line;return is(is({},us(hs(i.prototype),"getEdgeStyle",this).call(this)),wi(e))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&ss(t.prototype,n),r&&ss(t,r),i}(ns);function ms(e){return ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(e)}function _s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Os(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(n),!0).forEach((function(t){Ms(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function js(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ps(){return Ps="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ks(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Ps.apply(this,arguments)}function ks(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=As(e)););return e}function Ts(e,t){return Ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ts(e,t)}function Ds(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=As(e);if(t){var o=As(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ns(this,n)}}function Ns(e,t){if(t&&("object"===ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cs(e)}function Cs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function As(e){return As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},As(e)}function Ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Is(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Rs=(vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ts(e,t)}(i,e);var t,n,r,o=Ds(i);function i(){var e;Ss(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ms(Cs(e=o.call.apply(o,[this].concat(n))),"modelType",po.POLYLINE_EDGE),Ms(Cs(e),"draggingPointList",void 0),js(Cs(e),"dbClickPosition",gs,Cs(e)),e}return t=i,(n=[{key:"initEdgeData",value:function(e){this.offset=30,Ps(As(i.prototype),"initEdgeData",this).call(this,e)}},{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.polyline;return xs(xs({},Ps(As(i.prototype),"getEdgeStyle",this).call(this)),wi(e))}},{key:"getTextPosition",value:function(){var e,t=null===(e=this.text)||void 0===e?void 0:e.value;if(this.dbClickPosition&&!t){var n=this.dbClickPosition;return{x:n.x,y:n.y}}var r=ku(this.points),o=_s(xu(r),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}},{key:"getAfterAnchor",value:function(e,t,n){var r,o;return n.forEach((function(n){var i;e===vo.HORIZONTAL?i=Math.abs(t.y-n.y):e===vo.VERTICAL&&(i=Math.abs(t.x-n.x)),(!o||o>i)&&(o=i,r=n)})),r}},{key:"getCrossPoint",value:function(e,t,n){var r;return e===vo.HORIZONTAL?r={x:n.x,y:t.y}:e===vo.VERTICAL&&(r={x:t.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(e,t,n){var r=n.map((function(e){return e}));if(1===e){var o=r[e],i=r[t],a=r[e-1];if(ju(a,o,this.sourceNode)){if(Su(o,i,this.sourceNode)){var s=Eu(o,i,this.sourceNode);s&&(r[e]=s,r.splice(e-1,1),e--,t--)}}else this.sourceNode.anchors.forEach((function(t){(t.x===a.x&&t.x===o.x||t.y===a.y&&t.y===o.y)&&Ca(t.x,t.y,o.x,o.y)<Ca(a.x,a.y,o.x,o.y)&&(r[e-1]=t)}))}if(t===n.length-2){var u=r[e],l=r[t],c=r[t+1];if(ju(l,c,this.targetNode)){if(Su(u,l,this.targetNode)){var f=Eu(u,l,this.targetNode);f&&(r[t]=f,r.splice(t+1,1))}}else this.targetNode.anchors.forEach((function(e){(e.x===c.x&&e.x===l.x||e.y===c.y&&e.y===l.y)&&Ca(e.x,e.y,l.x,l.y)<Ca(c.x,c.y,l.x,l.y)&&(r[t+1]=e)}))}return r}},{key:"getDraggingPoints",value:function(e,t,n,r,o){var i=o.map((function(e){return e})),a=this.getAfterAnchor(e,n,r),s=this.getCrossPoint(e,n,a);return"start"===t?(i.unshift(s),i.unshift(a)):(i.push(s),i.push(a)),i}},{key:"updateCrossPoints",value:function(e){var t=e.map((function(e){return e})),n=e[0],r=e[1],o=e[t.length-2],i=e[t.length-1],a=this.sourceNode,s=this.targetNode,u=a.modelType,l=s.modelType,c=Pu(n,r),f=t[0];switch(u){case po.RECT_NODE:0!==a.radius&&(Ba(n,a)||(f=Ra(n,c,a)));break;case po.CIRCLE_NODE:f=La(n,c,a);break;case po.ELLIPSE_NODE:f=Fa(n,c,a);break;case po.DIAMOND_NODE:case po.POLYGON_NODE:f=za(n,c,a)}t[0]=f;var p=Pu(o,i),d=t[t.length-1];switch(l){case po.RECT_NODE:0!==s.radius&&(Ba(i,s)||(d=Ra(i,p,s)));break;case po.CIRCLE_NODE:d=La(i,p,s);break;case po.ELLIPSE_NODE:d=Fa(i,p,s);break;case po.DIAMOND_NODE:case po.POLYGON_NODE:d=za(i,p,s)}return t[t.length-1]=d,t}},{key:"getData",value:function(){var e=Ps(As(i.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return Object.assign({},e,{pointsList:t})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var e=wu({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=e,this.points=e.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map((function(e){return e}))}},{key:"dragAppendSimple",value:function(e,t){this.isDragging=!0;var n=e.start,r=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,s=this.pointsList,u=s;return a===vo.HORIZONTAL?(s[o]={x:n.x,y:n.y+t.y},s[i]={x:r.x,y:r.y+t.y},u=this.pointsList.map((function(e){return e}))):a===vo.VERTICAL&&(s[o]={x:n.x+t.x,y:n.y},s[i]={x:r.x+t.x,y:r.y},u=this.pointsList.map((function(e){return e}))),this.updatePointsAfterDrag(u),this.draggingPointList=u,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},s[o]),end:Object.assign({},s[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppend",value:function(e,t){this.isDragging=!0;var n=e.start,r=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,s=this.pointsList;if(a===vo.HORIZONTAL){s[o]={x:n.x,y:n.y+t.y},s[i]={x:r.x,y:r.y+t.y};var u=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(u=this.removeCrossPoints(o,i,u)),0===o){var l={x:n.x,y:n.y+t.y};if(!Aa(l,this.sourceNode)){var c=this.sourceNode.anchors;u=this.getDraggingPoints(a,"start",l,c,u)}}if(i===this.pointsList.length-1){var f={x:r.x,y:r.y+t.y};if(!Aa(f,this.targetNode)){var p=this.targetNode.anchors;u=this.getDraggingPoints(a,"end",f,p,u)}}this.updatePointsAfterDrag(u),this.draggingPointList=u}else if(a===vo.VERTICAL){s[o]={x:n.x+t.x,y:n.y},s[i]={x:r.x+t.x,y:r.y};var d=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(d=this.removeCrossPoints(o,i,d)),0===o){var h={x:n.x+t.x,y:n.y};if(!Aa(h,this.sourceNode)){var y=this.sourceNode.anchors;d=this.getDraggingPoints(a,"start",h,y,d)}}if(i===this.pointsList.length-1){var v={x:r.x+t.x,y:r.y};if(!Aa(v,this.targetNode)){var g=this.targetNode.anchors;d=this.getDraggingPoints(a,"end",v,g,d)}}this.updatePointsAfterDrag(d),this.draggingPointList=d}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},s[o]),end:Object.assign({},s[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var e=Ou(ku(this.points));this.pointsList=e.map((function(e){return e})),this.draggingPointList=[];var t=e[0];this.startPoint=Object.assign({},t);var n=e[e.length-1];this.endPoint=Object.assign({},n)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(e){var t=this.updateCrossPoints(e);this.points=t.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var e=this.pointsList;return e[e.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint,r=e.sourceNode,o=e.targetNode,i=wu({x:t.x,y:t.y},{x:n.x,y:n.y},r,o,this.offset||0);this.pointsList=i,this.initPoints()}}])&&Es(t.prototype,n),r&&Es(t,r),i}(ns),gs=Is(vs.prototype,"dbClickPosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is(vs.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"initPoints"),vs.prototype),Is(vs.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"updatePoints"),vs.prototype),Is(vs.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"updateStartPoint"),vs.prototype),Is(vs.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"moveStartPoint"),vs.prototype),Is(vs.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"updateEndPoint"),vs.prototype),Is(vs.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"moveEndPoint"),vs.prototype),Is(vs.prototype,"dragAppendStart",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"dragAppendStart"),vs.prototype),Is(vs.prototype,"dragAppendSimple",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"dragAppendSimple"),vs.prototype),Is(vs.prototype,"dragAppend",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"dragAppend"),vs.prototype),Is(vs.prototype,"dragAppendEnd",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"dragAppendEnd"),vs.prototype),Is(vs.prototype,"updatePointsAfterDrag",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"updatePointsAfterDrag"),vs.prototype),Is(vs.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"getAdjustStart"),vs.prototype),Is(vs.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"getAdjustEnd"),vs.prototype),Is(vs.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(vs.prototype,"updateAfterAdjustStartAndEnd"),vs.prototype),vs),Ls=function(e){var t=e.start,n=e.end,r=e.offset,o=e.verticalLength,i=e.type,a={leftX:0,leftY:0,rightX:0,rightY:0},s=Math.atan((n.y-t.y)/(n.x-t.x)),u=Math.atan(r/o),l=Math.sqrt(o*o+r*r);return"start"===i?n.x>=t.x?(a.leftX=t.x+l*Math.sin(s+u),a.leftY=t.y-l*Math.cos(s+u),a.rightX=t.x-l*Math.sin(s-u),a.rightY=t.y+l*Math.cos(s-u)):(a.leftX=t.x-l*Math.sin(s+u),a.leftY=t.y+l*Math.cos(s+u),a.rightX=t.x+l*Math.sin(s-u),a.rightY=t.y-l*Math.cos(s-u)):"end"===i&&(n.x>=t.x?(a.leftX=n.x+l*Math.sin(s-u),a.leftY=n.y-l*Math.cos(s-u),a.rightX=n.x-l*Math.sin(s+u),a.rightY=n.y+l*Math.cos(s+u)):(a.leftX=n.x-l*Math.sin(s-u),a.leftY=n.y+l*Math.cos(s-u),a.rightX=n.x+l*Math.sin(s+u),a.rightY=n.y-l*Math.cos(s+u))),a},Bs={x:1,y:0,z:0};function Fs(e,t,n,r,o){for(var i=function(o){if(o<0||o>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:e.x*Math.pow(1-o,3)+3*t.x*o*Math.pow(1-o,2)+3*n.x*Math.pow(o,2)*(1-o)+r.x*Math.pow(o,3),y:e.y*Math.pow(1-o,3)+3*t.y*o*Math.pow(1-o,2)+3*n.y*Math.pow(o,2)*(1-o)+r.y*Math.pow(o,3)}},a=0,s=2,u=r.x,l=r.y,c=r;a<o&&s<50;){var f=c=i(1-s/100),p=f.x,d=f.y;a=Ca(u,l,p,d),s++}return c}function zs(e){var t=Math.hypot(e.x,e.y);return{x:e.x/t,y:e.y/t,z:0}}function qs(e){return r=function(e,t){return e.x*t.y-e.y*t.x}(t=Bs,n=e),o=Math.acos(function(e,t){var n=[e.x,e.y,e.z];return[t.x,t.y,t.z].reduce((function(e,t,r){return e+t*n[r]}))}(zs(t),zs(n))),r>=0?o:-o;var t,n,r,o}function $s(e){return e*(180/Math.PI)}function Hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(n),!0).forEach((function(t){Ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e){return function(e){if(Array.isArray(e))return Js(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ys(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gs(e){return Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(e)}function Xs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Ys(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ys(e,t){if(e){if("string"==typeof e)return Js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Js(e,t):void 0}}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ks=function(e,t){var n;switch(e.type){case"line":default:n=new bs(e,t);break;case"polyline":n=new Rs(e,t)}return n},Zs=function(e,t){return 2*Math.abs(e.centerX-t.centerX)<e.width+t.width&&2*Math.abs(e.centerY-t.centerY)<e.height+t.height},Qs=function(e){var t=[],n={};return e.forEach((function(e){var t="".concat(e.x,"-").concat(e.y);e.id=t,n[t]=e})),Object.keys(n).forEach((function(e){t.push(n[e])})),t},eu=function(e,t){var n=[e,{x:e.x,y:t.y},t];return Qs(n)},tu=function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},nu=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return n/t.width>r/t.height?vo.HORIZONTAL:vo.VERTICAL},ru=function(e,t,n){return nu(n,t)===vo.HORIZONTAL?{x:n.x>e.centerX?e.maxX:e.minX,y:n.y}:{x:n.x,y:n.y>e.centerY?e.maxY:e.minY}},ou=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},iu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach((function(e){n.push(e.x),r.push(e.y)}));var o=Math.min.apply(Math,n),i=Math.max.apply(Math,n),a=Math.min.apply(Math,r),s=Math.max.apply(Math,r),u=i-o,l=s-a;return t&&(u+=t,l+=t),{centerX:(o+i)/2,centerY:(a+s)/2,maxX:i,maxY:s,minX:o,minY:a,x:(o+i)/2,y:(a+s)/2,height:l,width:u}},au=function(e){var t=e.minX,n=e.minY,r=e.maxX,o=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:o},{x:t,y:o}]},su=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},uu=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},lu=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},cu=function(e,t){return uu(e,t.x).concat(lu(e,t.y))},fu=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},pu=function(e,t){var n=0;return t.forEach((function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))})),n},du=function(e,t,n,r,o){return fu(e,t)+fu(e,n)+pu(e,[t,n,r,o])},hu=function e(t,n,r,o,i){i||(i=0),t.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&e(t,n,r,r[o],i+1)},yu=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},vu=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=r.x-n.x,s=r.y-n.y,u=(-i*(e.x-n.x)+o*(e.y-n.y))/(-a*i+o*s),l=(a*(e.y-n.y)-s*(e.x-n.x))/(-a*i+o*s);return u>=0&&u<=1&&l>=0&&l<=1},gu=function(e,t,n){if(0===n.width&&0===n.height)return!1;var r=Xs(au(n),4),o=r[0],i=r[1],a=r[2],s=r[3];return vu(e,t,o,i)||vu(e,t,o,s)||vu(e,t,i,a)||vu(e,t,a,s)},bu=function(e,t,n,r){var o=[];return e.forEach((function(e){e!==t&&(e.x!==t.x&&e.y!==t.y||gu(e,t,n)||gu(e,t,r)||o.push(e))})),Qs(o)},mu=function(e,t,n,r,o,i,a){var s=[],u=[t],l={},c={},f={};c[t.id]=0,f[t.id]=du(t,n,t);var p={};e.forEach((function(e){p[e.id]=e}));for(var d=function(){var d=void 0,h=1/0;if(u.forEach((function(e){f[e.id]<h&&(h=f[e.id],d=e)})),d===n){var y=[];return hu(y,p,l,n.id),{v:y}}yu(u,d),s.push(d),bu(e,d,r,o).forEach((function(e){if(-1===s.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=f[d.id]+fu(d,e);c[e.id]&&r>=c[e.id]||(l[e.id]=d.id,c[e.id]=r,f[e.id]=c[e.id]+du(e,n,t,i,a))}}))};u.length;){var h=d();if("object"===Gs(h))return h.v}return[t,n]},_u=function(e){return Ia(e)},Ou=function(e){for(var t=1;t<e.length-1;){var n=e[t-1],r=e[t],o=e[t+1];n.x===r.x&&r.x===o.x||n.y===r.y&&r.y===o.y?e.splice(t,1):t++}return e},wu=function(e,t,n,r,o){var i=_u(n),a=_u(r),s=tu(i,o),u=tu(a,o),l=ru(s,i,e),c=ru(u,a,t);if(Zs(s,u)){var f=Tu(e,t,l,c);return[e,l].concat(Vs(f),[c,t])}var p=iu([l,c]),d=ou(s,p),h=ou(u,p),y=[];y=(y=y.concat(au(d))).concat(au(h));var v={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[p,d,h].forEach((function(e){y=y.concat(cu(e,v).filter((function(e){return su(e,s)&&su(e,u)})))})),[{x:l.x,y:c.y},{x:c.x,y:l.y}].forEach((function(e){su(e,s)&&su(e,u)&&y.push(e)})),y.unshift(l),y.push(c),y=Qs(y);var g=mu(y,l,c,i,a,e,t);return g.unshift(e),g.push(t),g.length>2&&(g=Ou(g)),Qs(g)},xu=function(e){var t;if(1===e.length)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],o=Ca(n.x,n.y,r.x,r.y),i=1;i<e.length-1;i++){var a=e[i],s=e[i+1],u=Ca(a.x,a.y,s.x,s.y);u>o&&(o=u,n=a,r=s)}t=[n,r]}return t},ju=function(e,t,n){var r=Aa(e,n),o=Aa(t,n);return r&&o},Su=function(e,t,n){var r=Aa(e,n),o=Aa(t,n);return!(r&&o)&&(r||o)},Eu=function(e,t,n){for(var r,o,i=Ia(n),a=au(i),s=0;s<a.length;s++)vu(e,t,a[s],a[(s+1)%a.length])&&(o=[a[s],a[(s+1)%a.length]]);return o&&(r=function(e,t,n,r){var o=(t.y-e.y)*(r.x-n.x)-(e.x-t.x)*(n.y-r.y);if(0===o)return!1;var i=((t.x-e.x)*(r.x-n.x)*(n.y-e.y)+(t.y-e.y)*(r.x-n.x)*e.x-(r.y-n.y)*(t.x-e.x)*n.x)/o,a=-((t.y-e.y)*(r.y-n.y)*(n.x-e.x)+(t.x-e.x)*(r.y-n.y)*e.y-(r.x-n.x)*(t.y-e.y)*n.y)/o;return(i-e.x)*(i-t.x)<=0&&(a-e.y)*(a-t.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0&&{x:i,y:a}}(e,t,o[0],o[1])),r},Pu=function(e,t){var n;return e.x===t.x?n=vo.VERTICAL:e.y===t.y&&(n=vo.HORIZONTAL),n},ku=function(e){var t=e.split(" "),n=[];return t&&t.forEach((function(e){var t=Xs(e.split(","),2),r=t[0],o=t[1];n.push({x:Number(r),y:Number(o)})})),n},Tu=function(e,t,n,r){var o=[];if(Pu(e,n)===Pu(t,r))e.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},a=ra(i,e,n),s=ra(i,t,r);if(a||s)i={x:r.x,y:n.y};else{var u=Du(i,e,n),l=Du(i,t,r);u&&l&&(i={x:r.x,y:n.y})}o.push(i)}return o},Du=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},Nu=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},Cu=null,Au=function(e,t){Cu||(Cu=document.createElement("canvas"));var n=Cu.getContext("2d");return n.font=t,n.measureText(e).width},Mu=function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Ls(Us(Us({},o),{},{type:"start"})),a=Ls(Us(Us({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Iu=function(e){var t=e.start,n=e.end,r=e.sourceNode,o=e.targetNode,i=e.offset,a=Ia(r),s=Ia(o),u=tu(a,i),l=tu(s,i);return{sNext:ru(u,a,t),ePre:ru(l,s,n)}},Ru=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[Lu(t[0]),Lu(t[1]),Lu(t[2]),Lu(t[3])]},Lu=function(e){var t=Xs(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},Bu=function(e,t){var n=Xs(e,4);return[Fs(n[0],n[1],n[2],n[3],t),e[3]]},Fu=function(e,t){for(var n,r=e.x,o=e.y,i=ku(t),a=Number.MAX_SAFE_INTEGER,s=[],u=0;u<i.length;u++)s.push({start:i[u],end:i[(u+1)%i.length]});if(s.forEach((function(e){var t=e.start,i=e.end;if(t.x===i.x){var s={x:t.x,y:o};if(ra(s,t,i)){var u=Math.abs(t.x-r);u<a&&(a=u,n=s)}}else if(t.y===i.y){var l={x:r,y:t.y};if(ra(l,t,i)){var c=Math.abs(t.y-o);c<a&&(a=c,n=l)}}})),!n){var l=s[0],c=l.start,f=l.end;n={x:c.x+(f.x-c.x)/2,y:c.y+(f.y-c.y)/2}}return n},zu=function(e){return io(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},qu=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};function $u(e,t){return"function"!=typeof t?function(t,n,r){return Object.assign({type:e.edgeType},r)}:function(n,r,o){var i=t(n,r,o);return i?"string"==typeof i?Object.assign({},o,{type:i}):Object.assign({type:i},o):{type:e.edgeType}}}n(207);var Hu=function(){};function Uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vu=function(){function e(t){var n=this,r=t.onDragStart,o=void 0===r?Hu:r,i=t.onDragging,a=void 0===i?Hu:i,s=t.onDragEnd,u=void 0===s?Hu:s,l=t.eventType,c=void 0===l?"":l,f=t.eventCenter,p=void 0===f?null:f,d=t.step,h=void 0===d?1:d,y=t.isStopPropagation,v=void 0===y||y,g=t.model,b=void 0===g?null:g,m=t.data,_=void 0===m?null:m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wu(this,"onDragStart",void 0),Wu(this,"onDragging",void 0),Wu(this,"onDragEnd",void 0),Wu(this,"step",void 0),Wu(this,"isStopPropagation",void 0),Wu(this,"isDragging",!1),Wu(this,"isStartDragging",!1),Wu(this,"startX",0),Wu(this,"startY",0),Wu(this,"sumDeltaX",0),Wu(this,"sumDeltaY",0),Wu(this,"eventType",void 0),Wu(this,"eventCenter",void 0),Wu(this,"model",void 0),Wu(this,"data",void 0),Wu(this,"startTime",void 0),Wu(this,"handleMouseDown",(function(e){var t,r,o,i=null===(t=window)||void 0===t?void 0:t.document;if(0===e.button){n.isStopPropagation&&e.stopPropagation(),n.isStartDragging=!0,n.startX=e.clientX,n.startY=e.clientY,i.addEventListener("mousemove",n.handleMouseMove,!1),i.addEventListener("mouseup",n.handleMouseUp,!1);var a=null===(r=n.model)||void 0===r?void 0:r.getData();null===(o=n.eventCenter)||void 0===o||o.emit(yo["".concat(n.eventType,"_MOUSEDOWN")],{e:e,data:n.data||a}),n.startTime=(new Date).getTime()}})),Wu(this,"handleMouseMove",(function(e){if(n.isStopPropagation&&e.stopPropagation(),n.isStartDragging&&(n.sumDeltaX+=e.clientX-n.startX,n.sumDeltaY+=e.clientY-n.startY,n.startX=e.clientX,n.startY=e.clientY,n.step<=1||Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var t,r=n.sumDeltaX%n.step,o=n.sumDeltaY%n.step,i=n.sumDeltaX-r,a=n.sumDeltaY-o;n.sumDeltaX=r,n.sumDeltaY=o;var s,u=null===(t=n.model)||void 0===t?void 0:t.getData();n.isDragging||(null===(s=n.eventCenter)||void 0===s||s.emit(yo["".concat(n.eventType,"_DRAGSTART")],{e:e,data:n.data||u}),n.onDragStart({event:e})),n.isDragging=!0,Promise.resolve().then((function(){var t,r;n.onDragging({deltaX:i,deltaY:a,event:e}),null===(t=n.eventCenter)||void 0===t||t.emit(yo["".concat(n.eventType,"_MOUSEMOVE")],{e:e,data:n.data||u}),null===(r=n.eventCenter)||void 0===r||r.emit(yo["".concat(n.eventType,"_DRAG")],{e:e,data:n.data||u})}))}})),Wu(this,"handleMouseUp",(function(e){var t=window.document;n.isStartDragging=!1,n.isStopPropagation&&e.stopPropagation(),Promise.resolve().then((function(){var r,o,i;t.removeEventListener("mousemove",n.handleMouseMove,!1),t.removeEventListener("mouseup",n.handleMouseUp,!1);var a=null===(r=n.model)||void 0===r?void 0:r.getData();null===(o=n.eventCenter)||void 0===o||o.emit(yo["".concat(n.eventType,"_MOUSEUP")],{e:e,data:n.data||a}),n.isDragging&&(n.isDragging=!1,n.onDragEnd({event:e}),null===(i=n.eventCenter)||void 0===i||i.emit(yo["".concat(n.eventType,"_DROP")],{e:e,data:n.data||a}))}))})),Wu(this,"cancelDrag",(function(){var e,t=null===(e=window)||void 0===e?void 0:e.document;t.removeEventListener("mousemove",n.handleMouseMove,!1),t.removeEventListener("mouseup",n.handleMouseUp,!1),n.onDragEnd({event:null}),n.isDragging=!1})),this.onDragStart=o,this.onDragging=a,this.onDragEnd=u,this.step=h,this.isStopPropagation=v,this.eventType=c,this.eventCenter=p,this.model=b,this.data=_}var t,n,r;return t=e,(n=[{key:"setStep",value:function(e){this.step=e}},{key:"setModel",value:function(e){this.model=e}}])&&Uu(t.prototype,n),r&&Uu(t,r),e}();function Gu(e){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(e)}function Xu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ju(e,t,n){return t&&Yu(e.prototype,t),n&&Yu(e,n),e}function Ku(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ol(e,t)}function Zu(e){var t=rl();return function(){var n,r=il(e);if(t){var o=il(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qu(this,n)}}function Qu(e,t){if(t&&("object"===Gu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return el(e)}function el(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tl(e){var t="function"==typeof Map?new Map:void 0;return tl=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return nl(e,arguments,il(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ol(r,e)},tl(e)}function nl(e,t,n){return nl=rl()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ol(o,n.prototype),o},nl.apply(null,arguments)}function rl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ol(e,t){return ol=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ol(e,t)}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},il(e)}function al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sl(e,t){return!!(e instanceof ll&&t instanceof ll)}var ul=function(e){Ku(n,e);var t=Zu(n);function n(e,r,o){var i;return Xu(this,n),al(el(i=t.call(this,3)),"x",void 0),al(el(i),"y",void 0),al(el(i),"z",void 0),i[0]=e,i[1]=r,i[2]=o,i.x=e,i.y=r,i.z=o,Object.setPrototypeOf(el(i),n.prototype),i}return Ju(n,[{key:"add",value:function(e){if(sl(this,e))return new ll(this.x+e.x,this.y+e.y);var t=this.z+e.z;return new cl((this.x+e.x)/t,(this.y+e.y)/t)}},{key:"subtract",value:function(e){if(sl(this,e))return new ll(this.x-e.x,this.y-e.y);var t=this.z-e.z;return 0===t?new ll(this.x-e.x,this.y-e.y):new cl((this.x-e.x)/t,(this.y-e.y)/t)}}]),n}(tl(Array)),ll=function(e){Ku(n,e);var t=Zu(n);function n(e,r,o){var i;return Xu(this,n),i=t.call(this,e,r,null!=o?o:0),Object.setPrototypeOf(el(i),n.prototype),i}return Ju(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(e){var t=this;return e.reduce((function(e,n,r){return e+n*t[r]}))}},{key:"cross",value:function(e){return new n(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var e=this.getLength();return new n(this.x/e,this.y/e)}},{key:"crossZ",value:function(e){return this.x*e.y-this.y*e.x}},{key:"angle",value:function(e){var t=this.crossZ(e),n=Math.acos(this.normalize().dot(e.normalize()));return t>=0?n:-n}}]),n}(ul),cl=function(e){Ku(n,e);var t=Zu(n);function n(e,r){var o;return Xu(this,n),o=t.call(this,e,r,1),Object.setPrototypeOf(el(o),n.prototype),o}return Ju(n,[{key:"toString",value:function(){return"Point"}}]),n}(ul);function fl(e){return fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(e)}function pl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||hl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e){return function(e){if(Array.isArray(e))return yl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hl(e,t){if(e){if("string"==typeof e)return yl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yl(e,t):void 0}}function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bl(e,t,n){return t&&gl(e.prototype,t),n&&gl(e,n),e}function ml(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&El(e,t)}function _l(e){var t=Sl();return function(){var n,r=Pl(e);if(t){var o=Pl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ol(this,n)}}function Ol(e,t){if(t&&("object"===fl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wl(e)}function wl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xl(e){var t="function"==typeof Map?new Map:void 0;return xl=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return jl(e,arguments,Pl(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),El(r,e)},xl(e)}function jl(e,t,n){return jl=Sl()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&El(o,n.prototype),o},jl.apply(null,arguments)}function Sl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function El(e,t){return El=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},El(e,t)}function Pl(e){return Pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pl(e)}function kl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(67),n(217);var Tl,Dl,Nl,Cl,Al,Ml,Il,Rl,Ll,Bl,Fl,zl,ql,$l=function(e){ml(n,e);var t=_l(n);function n(){var e;vl(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return kl(wl(e=t.call(this,o.length)),"rows",void 0),kl(wl(e),"columns",void 0),e.fill(new Array(3)),o.forEach((function(t,n){e[n]=t})),e.columns=o[0].length,e.rows=o.length,Object.setPrototypeOf(wl(e),n.prototype),e}return bl(n,[{key:"getRow",value:function(e){return this[e]}},{key:"getColumn",value:function(e){return dl(this.map((function(t){return t[e]})))}},{key:"transpose",value:function(){for(var e=[],t=0;t<this.columns;t++)e.push(this.getColumn(t));return jl(n,e)}},{key:"cross",value:function(e){var t=new Array(this.rows).fill("").map((function(){return[]}));if(this.columns===e.rows)for(var r=0;r<this.rows;r++)for(var o=this.getRow(r),i=function(n){var i=e.getColumn(n);t[r][n]=o.reduce((function(e,t,n){return e+t*i[n]}),0)},a=0;a<e.columns;a++)i(a);return jl(n,dl(t))}},{key:"to2D",value:function(){return this.map((function(e){return[e[0],e[1]]}))}},{key:"toPoints",value:function(){return this.map((function(e){return new cl(e[0],e[1])}))}},{key:"toString",value:function(){var e=pl(this[0],2),t=e[0],n=e[1],r=pl(this[1],2),o=r[0],i=r[1],a=pl(this[2],2),s=a[0],u=a[1];return"matrix(".concat(t," ").concat(n," ").concat(o," ").concat(i," ").concat(s," ").concat(u,")")}},{key:"translate",value:function(e,t){return this.cross(new Wl(e,t))}},{key:"rotate",value:function(e){return this.cross(new Hl(e))}},{key:"scale",value:function(e,t){return this.cross(new Ul(e,t))}}]),n}(xl(Array)),Hl=function(e){ml(n,e);var t=_l(n);function n(e){var r;return vl(this,n),r=t.call(this,new ll(+Math.cos(e).toFixed(2),+Math.sin(e).toFixed(2),0),new ll(-Math.sin(e).toFixed(2),+Math.cos(e).toFixed(2),0),new ll(0,0,1)),Object.setPrototypeOf(wl(r),n.prototype),r}return bl(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}($l),Ul=function(e){ml(n,e);var t=_l(n);function n(e,r){var o;return vl(this,n),kl(wl(o=t.call(this,new ll(e,0,0),new ll(0,r,0),new ll(0,0,1))),"sx",void 0),kl(wl(o),"sy",void 0),o.sx=e,o.sy=r,Object.setPrototypeOf(wl(o),n.prototype),o}return bl(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}($l),Wl=function(e){ml(n,e);var t=_l(n);function n(e,r){var o;return vl(this,n),kl(wl(o=t.call(this,new ll(1,0,0),new ll(0,1,0),new ll(e,r,1))),"tx",void 0),kl(wl(o),"ty",void 0),o.tx=e,o.ty=r,Object.setPrototypeOf(wl(o),n.prototype),o}return bl(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}($l),Vl={node:!1,edge:!1},Gl={node:!0,edge:!0};function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(n),!0).forEach((function(t){rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||Zl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kl(e){return function(e){if(Array.isArray(e))return Ql(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zl(e,t){if(e){if("string"==typeof e)return Ql(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ql(e,t):void 0}}function Ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ec(e){return ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(e)}function tc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oc(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ic,ac=200,sc=(Tl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rc(this,"rootEl",void 0),tc(this,"width",Dl,this),tc(this,"height",Nl,this),rc(this,"theme",void 0),rc(this,"eventCenter",void 0),rc(this,"modelMap",new Map),rc(this,"topElement",void 0),rc(this,"animation",void 0),rc(this,"idGenerator",void 0),rc(this,"edgeGenerator",void 0),rc(this,"nodeMoveRules",[]),rc(this,"customTrajectory",void 0),tc(this,"edgeType",Cl,this),tc(this,"nodes",Al,this),tc(this,"edges",Ml,this),tc(this,"overlapMode",Il,this),tc(this,"background",Rl,this),tc(this,"transformModel",Ll,this),tc(this,"editConfigModel",Bl,this),tc(this,"gridSize",Fl,this),tc(this,"partial",zl,this),tc(this,"fakerNode",ql,this);var n,r=t.container,o=t.background,i=void 0===o?{}:o,a=t.grid,s=t.idGenerator,u=t.edgeGenerator,l=t.animation,c=t.customTrajectory;this.background=i,"object"===ec(a)&&(this.gridSize=a.size),this.rootEl=r,this.editConfigModel=new ko(t),this.eventCenter=new Fi,this.transformModel=new Ro(this.eventCenter,t),this.theme=Li(t.style),this.edgeType=t.edgeType||"polyline",this.width=t.width,this.height=t.height,this.animation=(n=l)&&"boolean"!=typeof n?Ii(wi(Vl),n):wi(!0===n?Gl:Vl),this.partial=t.partial,this.overlapMode=t.overlapMode||0,this.idGenerator=s,this.customTrajectory=c,this.edgeGenerator=$u(this,u),this.width=t.width||this.rootEl.getBoundingClientRect().width,this.height=t.height||this.rootEl.getBoundingClientRect().height,this.flowId=ta()}var t,n,r;return t=e,n=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"modelsMap",get:function(){return[].concat(Kl(this.nodes),Kl(this.edges)).reduce((function(e,t){return e[t.id]=t,e}),{})}},{key:"sortElements",get:function(){var e=[];this.nodes.forEach((function(t){return e.push(t)})),this.edges.forEach((function(t){return e.push(t)})),e=e.sort((function(e,t){return e.zIndex-t.zIndex}));for(var t=[],n=[-200,-200],r=[this.width+ac,this.height+ac],o=0;o<e.length;o++){var i=e[o];i.visible&&(!this.partial||i.isSelected||this.isElementInArea(i,n,r,!1,!1))&&t.push(i)}return t}},{key:"textEditElement",get:function(){var e=this.nodes.find((function(e){return e.state===co.TEXT_EDIT})),t=this.edges.find((function(e){return e.state===co.TEXT_EDIT}));return e||t}},{key:"selectElements",get:function(){var e=new Map;return this.nodes.forEach((function(t){t.isSelected&&e.set(t.id,t)})),this.edges.forEach((function(t){t.isSelected&&e.set(t.id,t)})),e}},{key:"selectNodes",get:function(){var e=[];return this.nodes.forEach((function(t){t.isSelected&&e.push(t)})),e}},{key:"getAreaElement",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[],a=[];this.nodes.forEach((function(e){return a.push(e)})),this.edges.forEach((function(e){return a.push(e)}));for(var s=0;s<a.length;s++){var u=a[s];o&&!u.visible||!this.isElementInArea(u,e,t,n,r)||i.push(u)}return i}},{key:"getModel",value:function(e){return this.modelMap.get(e)}},{key:"getNodeModelById",value:function(e){var t;return this.fakerNode&&e===this.fakerNode.id?this.fakerNode:null===(t=this.nodesMap[e])||void 0===t?void 0:t.model}},{key:"getPointByClient",value:function(e){var t=e.x,n=e.y,r=this.rootEl.getBoundingClientRect(),o={x:t-r.left,y:n-r.top},i=Jl(this.transformModel.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(e.BaseType===ho.NODE){for(var i=Ia(e=e),a=i.minX,s=i.minY,u=i.maxX,l=i.maxY,c=[{x:a,y:s},{x:u,y:s},{x:u,y:l},{x:a,y:l}],f=o,p=0;p<c.length;p++){var d=c[p],h=d.x,y=d.y,v=this.transformModel.CanvasPointToHtmlPoint([h,y]),g=Jl(v,2);if(h=g[0],y=g[1],Wi([h,y],t,n)!==o){f=!o;break}}return f}if(e.BaseType===ho.EDGE){var b=e=e,m=b.startPoint,_=b.endPoint,O=this.transformModel.CanvasPointToHtmlPoint([m.x,m.y]),w=this.transformModel.CanvasPointToHtmlPoint([_.x,_.y]),x=Wi(O,t,n),j=Wi(w,t,n);return r?x&&j:x||j}return!1}},{key:"graphDataToModel",value:function(e){var t=this;if(this.width&&this.height||this.resize(),!e)return this.nodes=[],void(this.edges=[]);e.nodes?this.nodes=hr(e.nodes,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("找不到".concat(e.type,"对应的节点。"));var r=e.x,o=e.y;return r&&o&&(e.x=zi(r,t.gridSize),e.y=zi(o,t.gridSize),"object"===ec(e.text)&&(e.text.x-=qi(r,t.gridSize),e.text.y-=qi(o,t.gridSize))),new n(e,t)})):this.nodes=[],e.edges?this.edges=hr(e.edges,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("找不到".concat(e.type,"对应的边。"));return new n(e,t)})):this.edges=[]}},{key:"modelToGraphData",value:function(){var e=[];this.edges.forEach((function(t){var n=t.getData();n&&!t.virtual&&e.push(n)}));var t=[];return this.nodes.forEach((function(e){var n=e.getData();n&&!e.virtual&&t.push(n)})),{nodes:t,edges:e}}},{key:"modelToHistoryData",value:function(){for(var e=!1,t=[],n=0;n<this.nodes.length;n++){var r=this.nodes[n];if(r.isDragging){e=!0;break}t.push(r.getHistoryData())}if(e)return!1;for(var o=!1,i=[],a=0;a<this.edges.length;a++){var s=this.edges[a];if(s.isDragging){o=!0;break}i.push(s.getHistoryData())}return!o&&{nodes:t,edges:i}}},{key:"getEdgeModelById",value:function(e){var t;return null===(t=this.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getElement",value:function(e){return this.modelsMap[e]}},{key:"getNodeEdges",value:function(e){for(var t=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===e,i=this.edges[n].targetNodeId===e;(o||i)&&t.push(r)}return t}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.selectElements,n={nodes:[],edges:[]};return t.forEach((function(r){if(r.BaseType===ho.NODE&&n.nodes.push(r.getData()),r.BaseType===ho.EDGE){var o=r.getData(),i=t.get(o.sourceNodeId)&&t.get(o.targetNodeId);(e||i)&&n.edges.push(o)}})),n}},{key:"updateAttributes",value:function(e,t){this.getElement(e).updateAttributes(t)}},{key:"changeNodeId",value:function(e,t){return t||(t=ta()),this.nodesMap[t]?"":this.nodesMap[e]?(this.edges.forEach((function(n){n.sourceNodeId===e&&(n.sourceNodeId=t),n.targetNodeId===e&&(n.targetNodeId=t)})),this.nodesMap[e].model.id=t,this.nodesMap[t]=this.nodesMap[e],t):""}},{key:"changeEdgeId",value:function(e,t){return t||(t=ta()),this.edgesMap[t]?"":this.edgesMap[e]?(this.edges.forEach((function(n){n.id===e&&n.changeEdgeId(t)})),t):""}},{key:"setFakerNode",value:function(e){this.fakerNode=e}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(e,t){return this.modelMap.set(e,t)}},{key:"toFront",value:function(e){var t,n,r,o=(null===(t=this.nodesMap[e])||void 0===t?void 0:t.model)||(null===(n=this.edgesMap[e])||void 0===n?void 0:n.model);o&&(this.overlapMode===go.DEFAULT&&(null===(r=this.topElement)||void 0===r||r.setZIndex(),o.setZIndex(9999),this.topElement=o),this.overlapMode===go.INCREASE&&this.setElementZIndex(e,"top"))}},{key:"setElementZIndex",value:function(e,t){var n,r,o,i=(null===(n=this.nodesMap[e])||void 0===n?void 0:n.model)||(null===(r=this.edgesMap[e])||void 0===r?void 0:r.model);i&&("number"==typeof t&&(o=t),"top"===t&&(o=Xa()),"bottom"===t&&(o=--Ga),i.setZIndex(o))}},{key:"deleteNode",value:function(e){var t=this.nodesMap[e].model.getData();this.deleteEdgeBySource(e),this.deleteEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(yo.NODE_DELETE,{data:t})}},{key:"addNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yo.NODE_ADD,n=arguments.length>2?arguments[2]:void 0,r=Wa(e);r.id&&this.nodesMap[e.id]&&delete r.id;var o=this.getModel(r.type);if(!o)throw new Error("找不到".concat(r.type,"对应的节点，请确认是否已注册此类型节点。"));r.x=zi(r.x,this.gridSize),r.y=zi(r.y,this.gridSize);var i=new o(r,this);this.nodes.push(i);var a=i.getData(),s={data:a};return n&&(s.e=n),this.eventCenter.emit(t,s),i}},{key:"cloneNode",value:function(e){var t=this.getNodeModelById(e),n=t.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),t.setSelected(!1),r.getData()}},{key:"moveNode",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[e];if(o){var i=o.model,a=i.getMoveDistance(t,n,r),s=Jl(a,2);t=s[0],n=s[1],this.moveEdge(e,t,n)}}},{key:"moveNode2Coordinate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[e];if(o){var i=o.model,a=i.x,s=i.y,u=t-a,l=n-s;this.moveNode(e,u,l,r)}}},{key:"editText",value:function(e){this.setElementStateById(e,co.TEXT_EDIT)}},{key:"addEdge",value:function(e){var t=Wa(e),n=t.type;n||(n=this.edgeType),t.id&&this.edgesMap[t.id]&&delete t.id;var r=this.getModel(n);if(!r)throw new Error("找不到".concat(n,"对应的边，请确认是否已注册此类型边。"));var o=new r(Yl(Yl({},t),{},{type:n}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(yo.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(e,t,n){for(var r=0;r<this.edges.length;r++){var o=this.edges[r],i=o.textPosition,a=i.x,s=i.y,u=this.edges[r].sourceNodeId===e,l=this.edges[r].targetNodeId===e;u&&o.moveStartPoint(t,n),l&&o.moveEndPoint(t,n),(u||l)&&this.handleEdgeTextMove(o,a,s)}}},{key:"handleEdgeTextMove",value:function(e,t,n){var r;if(!0===e.customTextPosition)e.resetTextPosition();else if(e.modelType===po.POLYLINE_EDGE&&null!==(r=e.text)&&void 0!==r&&r.value){var o=e.text,i=Fu(o,e.points);e.moveText(i.x-o.x,i.y-o.y)}else{var a=e.textPosition,s=a.x,u=a.y;e.moveText(s-t,u-n)}}},{key:"deleteEdgeBySourceAndTarget",value:function(e,t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===e&&this.edges[n].targetNodeId===t){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(yo.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeById",value:function(e){if(this.edgesMap[e]){var t=this.edgesMap[e].index,n=this.edgesMap[e].model.getData();this.edges.splice(t,1),this.eventCenter.emit(yo.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeBySource",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].sourceNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(yo.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeByTarget",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].targetNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(yo.EDGE_DELETE,{data:n})}}},{key:"setElementStateById",value:function(e,t,n){this.nodes.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(co.DEFAULT)})),this.edges.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(co.DEFAULT)}))}},{key:"updateText",value:function(e,t){this.nodes.forEach((function(n){n.id===e&&n.updateText(t)})),this.edges.forEach((function(n){n.id===e&&n.updateText(t)}))}},{key:"selectNodeById",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(t=this.nodesMap[e])||void 0===t?void 0:t.model;null==r||r.setSelected(!0)}},{key:"selectEdgeById",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(t=this.edgesMap[e])||void 0===t?void 0:t.model;null==r||r.setSelected(!0)}},{key:"selectElementById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||this.clearSelectElements();var n=this.getElement(e);null==n||n.setSelected(!0)}},{key:"clearSelectElements",value:function(){var e;this.selectElements.forEach((function(e){null==e||e.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===go.DEFAULT&&(null===(e=this.topElement)||void 0===e||e.setZIndex())}},{key:"moveNodes",value:function(e,t,n){for(var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.reduce((function(e,i){var a=r.nodesMap[i].model.getMoveDistance(t,n,o);return e[i]=a,e}),{}),a=0;a<this.edges.length;a++){var s=this.edges[a],u=s.textPosition,l=u.x,c=u.y,f=i[s.sourceNodeId],p=void 0,d=void 0;if(f){var h=Jl(f,2);p=h[0],d=h[1],s.moveStartPoint(p,d)}var y=i[s.targetNodeId];if(y){var v=Jl(y,2);p=v[0],d=v[1],s.moveEndPoint(p,d)}(f||y)&&this.handleEdgeTextMove(s,l,c)}}},{key:"addNodeMoveRules",value:function(e){this.nodeMoveRules.includes(e)||this.nodeMoveRules.push(e)}},{key:"setDefaultEdgeType",value:function(e){this.edgeType=e}},{key:"changeNodeType",value:function(e,t){var n=this.getNodeModelById(e);if(n){var r=n.getData();r.type=t;var o=this.getModel(t);if(!o)throw new Error("找不到".concat(t,"对应的节点，请确认是否已注册此类型节点。"));var i=new o(r,this);this.nodes.splice(this.nodesMap[e].index,1,i),this.getNodeEdges(e).forEach((function(t){if(t.sourceNodeId===e){var n=qa(i,t.startPoint,i.width,i.height);t.updateStartPoint(n)}if(t.targetNodeId===e){var r=qa(i,t.endPoint,i.width,i.height);t.updateEndPoint(r)}}))}}},{key:"changeEdgeType",value:function(e,t){var n=this.getEdgeModelById(e);if(n&&n.type!==t){var r=n.getData();r.type=t;var o=this.getModel(t);if(!o)throw new Error("找不到".concat(t,"对应的节点，请确认是否已注册此类型节点。"));delete r.pointsList;var i=new o(r,this);this.edges.splice(this.edgesMap[e].index,1,i)}}},{key:"getNodeIncomingEdge",value:function(e){var t=[];return this.edges.forEach((function(n){n.targetNodeId===e&&t.push(n)})),t}},{key:"getNodeOutgoingEdge",value:function(e){var t=[];return this.edges.forEach((function(n){n.sourceNodeId===e&&t.push(n)})),t}},{key:"getNodeIncomingNode",value:function(e){var t=this,n=[];return this.edges.forEach((function(r){r.targetNodeId===e&&n.push(t.nodesMap[r.sourceNodeId].model)})),n}},{key:"getNodeOutgoingNode",value:function(e){var t=this,n=[];return this.edges.forEach((function(r){r.sourceNodeId===e&&n.push(t.nodesMap[r.targetNodeId].model)})),n}},{key:"setTheme",value:function(e){this.theme=Li(Yl(Yl({},this.theme),e))}},{key:"resize",value:function(e,t){this.width=e||this.rootEl.getBoundingClientRect().width,this.height=t||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var e=this.nodes,t=[],n=[];e.forEach((function(e){var r=e.x,o=e.y,i=e.width,a=e.height,s=e.getNodeStyle().strokeWidth,u=void 0===s?0:s,l=r+i/2+u,c=r-i/2-u,f=o+a/2+u,p=o-a/2-u;t=t.concat([l,c].filter((function(e){return!Number.isNaN(e)}))),n=n.concat([f,p].filter((function(e){return!Number.isNaN(e)})))}));var r=Math.min.apply(Math,Kl(t)),o=Math.max.apply(Math,Kl(t)),i=Math.min.apply(Math,Kl(n)),a=o-r||0,s=Math.max.apply(Math,Kl(n))-i||0;return{virtualRectWidth:a,virtualRectHeight:s,virtualRectCenterPositionX:r+a/2,virtualRectCenterPositionY:i+s/2}}},{key:"translateCenter",value:function(){var e=this.nodes,t=this.width,n=this.height,r=this.rootEl,o=this.transformModel;if(e.length){var i=t||r.clientWidth,a=n||r.clientHeight,s=this.getVirtualRectSize(),u=s.virtualRectCenterPositionX,l=s.virtualRectCenterPositionY;o.focusOn(u,l,i,a)}}},{key:"fitView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.nodes,r=this.width,o=this.height,i=this.rootEl,a=this.transformModel;if(n.length){var s=r||i.clientWidth,u=o||i.clientHeight,l=this.getVirtualRectSize(),c=l.virtualRectWidth,f=l.virtualRectHeight,p=l.virtualRectCenterPositionX,d=l.virtualRectCenterPositionY,h=(c+t)/s,y=(f+e)/u,v=0;v=1/Math.max(h,y);var g=[s/2,u/2];a.zoom(v,g),a.focusOn(p,d,s,u)}}},{key:"openEdgeAnimation",value:function(e){this.getEdgeModelById(e).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(e){this.getEdgeModelById(e).closeEdgeAnimation()}}],n&&nc(t.prototype,n),r&&nc(t,r),e}(),Dl=oc(Tl.prototype,"width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nl=oc(Tl.prototype,"height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cl=oc(Tl.prototype,"edgeType",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Al=oc(Tl.prototype,"nodes",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ml=oc(Tl.prototype,"edges",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Il=oc(Tl.prototype,"overlapMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return go.DEFAULT}}),Rl=oc(Tl.prototype,"background",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ll=oc(Tl.prototype,"transformModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bl=oc(Tl.prototype,"editConfigModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fl=oc(Tl.prototype,"gridSize",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),zl=oc(Tl.prototype,"partial",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ql=oc(Tl.prototype,"fakerNode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oc(Tl.prototype,"nodesMap",[o.m],Object.getOwnPropertyDescriptor(Tl.prototype,"nodesMap"),Tl.prototype),oc(Tl.prototype,"edgesMap",[o.m],Object.getOwnPropertyDescriptor(Tl.prototype,"edgesMap"),Tl.prototype),oc(Tl.prototype,"modelsMap",[o.m],Object.getOwnPropertyDescriptor(Tl.prototype,"modelsMap"),Tl.prototype),oc(Tl.prototype,"sortElements",[o.m],Object.getOwnPropertyDescriptor(Tl.prototype,"sortElements"),Tl.prototype),oc(Tl.prototype,"textEditElement",[o.m],Object.getOwnPropertyDescriptor(Tl.prototype,"textEditElement"),Tl.prototype),oc(Tl.prototype,"selectElements",[o.m],Object.getOwnPropertyDescriptor(Tl.prototype,"selectElements"),Tl.prototype),oc(Tl.prototype,"selectNodes",[o.m],Object.getOwnPropertyDescriptor(Tl.prototype,"selectNodes"),Tl.prototype),oc(Tl.prototype,"setFakerNode",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"setFakerNode"),Tl.prototype),oc(Tl.prototype,"removeFakerNode",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"removeFakerNode"),Tl.prototype),oc(Tl.prototype,"setModel",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"setModel"),Tl.prototype),oc(Tl.prototype,"toFront",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"toFront"),Tl.prototype),oc(Tl.prototype,"setElementZIndex",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"setElementZIndex"),Tl.prototype),oc(Tl.prototype,"deleteNode",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"deleteNode"),Tl.prototype),oc(Tl.prototype,"addNode",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"addNode"),Tl.prototype),oc(Tl.prototype,"cloneNode",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"cloneNode"),Tl.prototype),oc(Tl.prototype,"moveNode",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"moveNode"),Tl.prototype),oc(Tl.prototype,"moveNode2Coordinate",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"moveNode2Coordinate"),Tl.prototype),oc(Tl.prototype,"editText",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"editText"),Tl.prototype),oc(Tl.prototype,"addEdge",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"addEdge"),Tl.prototype),oc(Tl.prototype,"moveEdge",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"moveEdge"),Tl.prototype),oc(Tl.prototype,"deleteEdgeBySourceAndTarget",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"deleteEdgeBySourceAndTarget"),Tl.prototype),oc(Tl.prototype,"deleteEdgeById",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"deleteEdgeById"),Tl.prototype),oc(Tl.prototype,"deleteEdgeBySource",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"deleteEdgeBySource"),Tl.prototype),oc(Tl.prototype,"deleteEdgeByTarget",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"deleteEdgeByTarget"),Tl.prototype),oc(Tl.prototype,"setElementStateById",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"setElementStateById"),Tl.prototype),oc(Tl.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"updateText"),Tl.prototype),oc(Tl.prototype,"selectNodeById",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"selectNodeById"),Tl.prototype),oc(Tl.prototype,"selectEdgeById",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"selectEdgeById"),Tl.prototype),oc(Tl.prototype,"selectElementById",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"selectElementById"),Tl.prototype),oc(Tl.prototype,"clearSelectElements",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"clearSelectElements"),Tl.prototype),oc(Tl.prototype,"moveNodes",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"moveNodes"),Tl.prototype),oc(Tl.prototype,"setDefaultEdgeType",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"setDefaultEdgeType"),Tl.prototype),oc(Tl.prototype,"changeNodeType",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"changeNodeType"),Tl.prototype),oc(Tl.prototype,"changeEdgeType",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"changeEdgeType"),Tl.prototype),oc(Tl.prototype,"getNodeIncomingEdge",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"getNodeIncomingEdge"),Tl.prototype),oc(Tl.prototype,"getNodeOutgoingEdge",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"getNodeOutgoingEdge"),Tl.prototype),oc(Tl.prototype,"getNodeIncomingNode",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"getNodeIncomingNode"),Tl.prototype),oc(Tl.prototype,"getNodeOutgoingNode",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"getNodeOutgoingNode"),Tl.prototype),oc(Tl.prototype,"setTheme",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"setTheme"),Tl.prototype),oc(Tl.prototype,"resize",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"resize"),Tl.prototype),oc(Tl.prototype,"clearData",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"clearData"),Tl.prototype),oc(Tl.prototype,"translateCenter",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"translateCenter"),Tl.prototype),oc(Tl.prototype,"fitView",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"fitView"),Tl.prototype),oc(Tl.prototype,"openEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"openEdgeAnimation"),Tl.prototype),oc(Tl.prototype,"closeEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(Tl.prototype,"closeEdgeAnimation"),Tl.prototype),Tl),uc=sc;function lc(e){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(e)}function cc(){return cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cc.apply(this,arguments)}function fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pc(e,t){return pc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pc(e,t)}function dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vc(e);if(t){var o=vc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hc(this,n)}}function hc(e,t){if(t&&("object"===lc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yc(e)}function yc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vc(e){return vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vc(e)}function gc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bc,mc=jO(ic=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pc(e,t)}(i,e);var t,n,r,o=dc(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),gc(yc(t=o.call(this)),"stepDrag",void 0),gc(yc(t),"stepScrollX",0),gc(yc(t),"stepScrollY",0),gc(yc(t),"onDragging",(function(e){var n=e.deltaX,r=e.deltaY;t.setState({isDragging:!0});var o=t.props.graphModel,i=o.transformModel;!0!==o.editConfigModel.stopMoveGraph&&i.translate(n,r)})),gc(yc(t),"onDragEnd",(function(){t.setState({isDragging:!1})})),gc(yc(t),"zoomHandler",(function(e){var n=t.props,r=n.graphModel,o=r.editConfigModel,i=r.transformModel,a=r.gridSize,s=n.graphModel,u=e.deltaX,l=e.deltaY;if(o.stopScrollGraph||!0===e.ctrlKey){if(!o.stopZoomGraph){e.preventDefault();var c=s.getPointByClient({x:e.clientX,y:e.clientY}).canvasOverlayPosition,f=c.x,p=c.y;i.zoom(e.deltaY<0,[f,p])}}else{if(e.preventDefault(),t.stepScrollX+=u,t.stepScrollY+=l,Math.abs(t.stepScrollX)>=a){var d=t.stepScrollX%a,h=t.stepScrollX-d;i.translate(-h*i.SCALE_X,0),t.stepScrollX=d}if(Math.abs(t.stepScrollY)>=a){var y=t.stepScrollY%a,v=t.stepScrollY-y;i.translate(0,-v*i.SCALE_Y),t.stepScrollY=y}}})),gc(yc(t),"clickHandler",(function(e){if("canvas-overlay"===e.target.getAttribute("name")){var n=t.props.graphModel;n.selectElements.size>0&&n.clearSelectElements(),n.eventCenter.emit(yo.BLANK_CLICK,{e:e})}})),gc(yc(t),"handleContextMenu",(function(e){if("canvas-overlay"===e.target.getAttribute("name")){e.preventDefault();var n=t.props.graphModel,r=n.getPointByClient({x:e.clientX,y:e.clientY});n.eventCenter.emit(yo.BLANK_CONTEXTMENU,{e:e,position:r})}})),gc(yc(t),"mouseDownHandler",(function(e){var n=t.props.graphModel,r=n.eventCenter,o=n.editConfigModel,i=n.transformModel.SCALE_X,a=n.gridSize,s=e.target,u=!o.adjustEdge&&!o.adjustNodePosition;("canvas-overlay"===s.getAttribute("name")||u)&&(!0!==o.stopMoveGraph?(t.stepDrag.setStep(a*i),t.stepDrag.handleMouseDown(e)):r.emit(yo.BLANK_MOUSEDOWN,{e:e}),t.clickHandler(e))}));var n=e.graphModel,r=n.gridSize,a=n.eventCenter;return t.stepDrag=new Vu({onDragging:t.onDragging,onDragEnd:t.onDragEnd,step:r,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:null}),t.state={isDragging:!1},t}return t=i,(n=[{key:"render",value:function(){var e=this.props.graphModel.transformModel.getTransformStyle().transform,t=this.props,n=t.children,r=t.dnd,o=this.state.isDragging;return Object(ee.g)("svg",cc({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:o?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},r.eventMap()),Object(ee.g)("g",{transform:e},n))}}])&&fc(t.prototype,n),r&&fc(t,r),i}(ee.a))||ic;function _c(e){return _c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(e)}function Oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xc(e,t){return xc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xc(e,t)}function jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ec(e);if(t){var o=Ec(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sc(this,n)}}function Sc(e,t){if(t&&("object"===_c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ec(e){return Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ec(e)}var Pc=jO(bc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xc(e,t)}(i,e);var t,n,r,o=jc(i);function i(){return Oc(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var e=this.props,t=e.tool,n=e.graphModel,r=t.getTools().map((function(e){return Object(ee.g)(e,{graphModel:n,logicFlow:t.instance})}));return t.components=r,r}},{key:"triggerToolRender",value:function(){var e=this.props,t=e.tool,n=e.graphModel,r=document.querySelector("#ToolOverlay_".concat(n.flowId)),o=t.getInstance();o.components.forEach((function(e){return e(o,r)})),o.components=[]}},{key:"render",value:function(){var e=this.props.graphModel;return Object(ee.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(e.flowId)},this.getTools())}}])&&wc(t.prototype,n),r&&wc(t,r),i}(ee.a))||bc;function kc(e){return kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(e)}function Tc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nc(e,t){return Nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nc(e,t)}function Cc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mc(e);if(t){var o=Mc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ac(this,n)}}function Ac(e,t){if(t&&("object"===kc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mc(e){return Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mc(e)}var Ic,Rc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nc(e,t)}(i,e);var t,n,r,o=Cc(i);function i(){return Tc(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.background;return Object(ee.g)("div",{className:"lf-background"},Object(ee.g)("div",{style:e,className:"lf-background-area"}))}}])&&Dc(t.prototype,n),r&&Dc(t,r),i}(ee.a);function Lc(e){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(e)}function Bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zc(e,t){return zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zc(e,t)}function qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Uc(e);if(t){var o=Uc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $c(this,n)}}function $c(e,t){if(t&&("object"===Lc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hc(e)}function Hc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uc(e){return Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uc(e)}function Wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vc=jO(Ic=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zc(e,t)}(i,e);var t,n,r,o=qc(i);function i(){var e;Bc(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wc(Hc(e=o.call.apply(o,[this].concat(n))),"id",ta()),e}return t=i,(n=[{key:"renderDot",value:function(){var e=this.props,t=e.config,n=t.color,r=t.thickness,o=void 0===r?2:r,i=e.size,a=e.visible,s=Math.min(Math.max(2,o),i/2),u=1;return a||(u=0),Object(ee.g)("rect",{width:s,height:s,rx:s/2,ry:s/2,fill:n,opacity:u})}},{key:"renderMesh",value:function(){var e=this.props,t=e.config,n=t.color,r=t.thickness,o=void 0===r?1:r,i=e.size,a=e.visible,s=Math.min(Math.max(1,o),i/2),u="M ".concat(i," 0 H0 M0 0 V0 ").concat(i),l=1;return a||(l=0),Object(ee.g)("path",{d:u,stroke:n,strokeWidth:s,opacity:l})}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=e.graphModel.transformModel,o=[r.SCALE_X,r.SKEW_Y,r.SKEW_X,r.SCALE_Y,r.TRANSLATE_X,r.TRANSLATE_Y].join(","),i="matrix(".concat(o,")");return Object(ee.g)("div",{className:"lf-grid"},Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ee.g)("defs",null,Object(ee.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:i,x:"0",y:"0",width:n,height:n},"dot"===t&&this.renderDot(),"mesh"===t&&this.renderMesh())),Object(ee.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&Fc(t.prototype,n),r&&Fc(t,r),i}(ee.a))||Ic;function Gc(e){return Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(e)}function Xc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Vc.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},n(53);var Jc,Kc=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach((function(e){var n=Xc(e,2),r=n[0],o=n[1];("style"===r||"object"!==Gc(o))&&(t[r]=o)})),Object(ee.g)("line",t)};function Zc(e){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(e)}function Qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(n),!0).forEach((function(t){tf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function of(e,t){return of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},of(e,t)}function af(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uf(e);if(t){var o=uf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sf(this,n)}}function sf(e,t){if(t&&("object"===Zc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uf(e)}var lf,cf=jO(Jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&of(e,t)}(i,e);var t,n,r,o=af(i);function i(){return nf(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.snaplineModel,t=e.position,n=e.isShowHorizontal,r=e.isShowVertical,o=e.getStyle(),i=t.x,a=void 0===i?0:i,s=t.y,u=void 0===s?0:s,l=ef(ef({x1:-1e5,y1:u,x2:1e5,y2:u},o),{},{stroke:n?o.stroke:"none"}),c=ef(ef({x1:a,y1:-1e5,x2:a,y2:1e5},o),{},{stroke:r?o.stroke:"none"});return Object(ee.g)("g",{className:"lf-snapline"},Object(ee.g)(Kc,l),Object(ee.g)(Kc,c))}}])&&rf(t.prototype,n),r&&rf(t,r),i}(ee.a))||Jc;function ff(e){return ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(e)}function pf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return df(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?df(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hf(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.className,a=e.radius,s=t-r/2,u=n-o/2,l={};return Object.entries(e).forEach((function(e){var t=pf(e,2),n=t[0],r=t[1];"object"!==ff(r)&&(l[n]=r)})),l.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",a&&(l.rx=a,l.ry=a),l.x=s,l.y=u,Object(ee.g)("rect",l)}function yf(e){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(e)}function vf(){return vf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vf.apply(this,arguments)}function gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gf(Object(n),!0).forEach((function(t){mf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wf(e,t){return wf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wf(e,t)}function xf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sf(e);if(t){var o=Sf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jf(this,n)}}function jf(e,t){if(t&&("object"===yf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sf(e)}hf.defaultProps={className:"",radius:""};var Ef,Pf=jO(lf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wf(e,t)}(i,e);var t,n,r,o=xf(i);function i(){return _f(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getNodesOutline",value:function(){var e=this.props.graphModel,t=e.nodes,n=e.editConfigModel,r=n.hoverOutline,o=n.nodeSelectedOutline,i=[];return t.forEach((function(e){if(e.isHovered||e.isSelected){var t=e.isHovered,n=e.isSelected,a=e.x,s=e.y,u=e.width,l=e.height;if(o&&n||r&&t){var c=e.getOutlineStyle(),f={};if(Object.keys(c).forEach((function(e){"hover"!==e&&(f[e]=c[e])})),t){var p=c.hover;f=bf(bf({},f),p)}i.push(Object(ee.g)(hf,vf({transform:e.transform,className:"lf-outline-node",x:a,y:s,width:u+10,height:l+10},f)))}}})),i}},{key:"getEdgeOutline",value:function(){for(var e=this.props.graphModel,t=e.edges,n=e.editConfigModel,r=n.edgeSelectedOutline,o=n.hoverOutline,i=[],a=0;a<t.length;a++){var s=t[a];(r&&s.isSelected||o&&s.isHovered)&&(s.modelType===po.LINE_EDGE?i.push(this.getLineOutline(s)):s.modelType===po.POLYLINE_EDGE?i.push(this.getPolylineOutline(s)):s.modelType===po.BEZIER_EDGE&&i.push(this.getBezierOutline(s)))}return i}},{key:"getLineOutline",value:function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,o=(t.y+n.y)/2,i=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10,s=e.getOutlineStyle();return Object(ee.g)(hf,vf({className:"lf-outline-edge",x:r,y:o,width:i,height:a},s))}},{key:"getPolylineOutline",value:function(e){var t=e.points,n=ku(t),r=iu(n,8),o=r.x,i=r.y,a=r.width,s=r.height,u=e.getOutlineStyle();return Object(ee.g)(hf,vf({className:"lf-outline",x:o,y:i,width:a,height:s},u))}},{key:"getBezierOutline",value:function(e){var t=e.path,n=Ru(t),r=iu(n,8),o=r.x,i=r.y,a=r.width,s=r.height,u=e.getOutlineStyle();return Object(ee.g)(hf,vf({className:"lf-outline",x:o,y:i,width:a,height:s},u))}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&Of(t.prototype,n),r&&Of(t,r),i}(ee.a))||lf;function kf(e){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(e)}function Tf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Df(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Df(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Df(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nf(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.r,a=void 0===i?4:i,s=e.className,u={cx:n,cy:o,r:a,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach((function(e){var t=Tf(e,2),n=t[0],r=t[1];"object"!==kf(r)&&(u[n]=r)})),u.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",Object(ee.g)("circle",u)}function Cf(e){return Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(e)}function Af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function If(){return If=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},If.apply(this,arguments)}function Rf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bf(e,t,n){return t&&Lf(e.prototype,t),n&&Lf(e,n),e}function Ff(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zf(e,t)}function zf(e,t){return zf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zf(e,t)}function qf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Uf(e);if(t){var o=Uf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $f(this,n)}}function $f(e,t){if(t&&("object"===Cf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hf(e)}function Hf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uf(e)}function Wf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vf,Gf=function(e){Ff(n,e);var t=qf(n);function n(){var e;return Rf(this,n),Wf(Hf(e=t.call(this)),"dragHandler",void 0),Wf(Hf(e),"onDragging",(function(t){var n=t.event,r=e.props,o=r.graphModel,i=r.bezierModel,a=r.type,s=o.getPointByClient({x:n.clientX,y:n.clientY}).canvasOverlayPosition,u=s.x,l=s.y;i.updateAdjustAnchor({x:u,y:l},a),o.eventCenter.emit(yo.EDGE_ADJUST,{data:i.getData()})})),Wf(Hf(e),"onDragEnd",(function(){e.props.bezierModel.isDragging=!1})),e.dragHandler=new Vu({onDragging:e.onDragging,onDragEnd:e.onDragEnd}),e}return Bf(n,[{key:"render",value:function(){var e=this,t=this.props.position,n=t.x,r=t.y,o=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ee.g)(Nf,If({className:"lf-bezier-adjust-anchor",x:n,y:r},o,{onMouseDown:function(t){e.dragHandler.handleMouseDown(t)}}))}}]),n}(ee.a),Xf=jO(Ef=function(e){Ff(n,e);var t=qf(n);function n(){return Rf(this,n),t.apply(this,arguments)}return Bf(n,[{key:"getBezierAdjust",value:function(e,t){var n=e.path,r=e.id,o=Af(Ru(n),4),i=o[0],a=o[1],s=o[2],u=o[3],l=e.getEdgeStyle().adjustLine,c=[];return c.push(Object(ee.g)(Kc,If({x1:i.x,y1:i.y,x2:a.x,y2:a.y},l))),c.push(Object(ee.g)(Gf,{position:a,bezierModel:e,graphModel:t,key:"".concat(r,"_ePre"),type:"sNext"})),c.push(Object(ee.g)(Kc,If({x1:u.x,y1:u.y,x2:s.x,y2:s.y},l))),c.push(Object(ee.g)(Gf,{position:s,bezierModel:e,graphModel:t,key:"".concat(r,"_sNext"),type:"ePre"})),c}},{key:"selectedBezierEdge",value:function(){for(var e=this.props.graphModel,t=e.edges,n=[],r=0;r<t.length;r++){var o=t[r];o.isSelected&&o.modelType===po.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,e))}return n}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ee.a))||Ef;function Yf(e){return Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(e)}function Jf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zf(e,t){return Zf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zf(e,t)}function Qf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tp(e);if(t){var o=tp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ep(this,n)}}function ep(e,t){if(t&&("object"===Yf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tp(e)}var np,rp=jO(Vf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zf(e,t)}(i,e);var t,n,r,o=Qf(i);function i(){return Jf(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.graphModel.transformModel.getTransformStyle().transform,t=this.props.children;return Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ee.g)("g",{transform:e},t))}}])&&Kf(t.prototype,n),r&&Kf(t,r),i}(ee.a))||Vf;function op(e){return op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(e)}function ip(){return ip=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ip.apply(this,arguments)}function ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function up(e,t){return up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},up(e,t)}function lp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fp(e);if(t){var o=fp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cp(this,n)}}function cp(e,t){if(t&&("object"===op(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fp(e)}var pp=jO(np=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&up(e,t)}(i,e);var t,n,r,o=lp(i);function i(){return ap(this,i),o.apply(this,arguments)}return t=i,n=[{key:"getComponent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",r=this.props.getView,o=r(e.type);return Object(ee.g)(o,{key:e.id,model:e,graphModel:t,overlay:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.graphModel,r=t.tool,o=t.options,i=t.dnd,a=t.snaplineModel,s={};o.width&&(s.width="".concat(n.width,"px")),o.height&&(s.height="".concat(n.height,"px"));var u=o.grid,l=n.fakerNode,c=n.editConfigModel.adjustEdge;return Object(ee.g)("div",{className:"lf-graph","flow-id":n.flowId,style:s},Object(ee.g)(mc,{graphModel:n,dnd:i},Object(ee.g)("g",{className:"lf-base"},hr(n.sortElements,(function(t){return e.getComponent(t,n)}))),l?this.getComponent(l,n):""),Object(ee.g)(rp,{graphModel:n},Object(ee.g)(Pf,{graphModel:n}),c?Object(ee.g)(Xf,{graphModel:n}):"",!1!==o.snapline?Object(ee.g)(cf,{snaplineModel:a}):""),Object(ee.g)(Pc,{graphModel:n,tool:r}),o.background&&Object(ee.g)(Rc,{background:o.background}),o.grid&&Object(ee.g)(Vc,ip({},u,{graphModel:n})))}}],n&&sp(t.prototype,n),r&&sp(t,r),i}(ee.a))||np,dp=pp;function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach((function(t){gp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bp=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gp(this,"nodeConfig",void 0),gp(this,"lf",void 0),gp(this,"fakerNode",void 0),gp(this,"stopDrag",(function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)})),gp(this,"dragEnter",(function(e){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(yp(yp({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY}))))})),gp(this,"onDragOver",(function(e){if(e.preventDefault(),n.fakerNode){var t=n.clientToLocalPoint({x:e.clientX,y:e.clientY}),r=t.x,o=t.y;n.fakerNode.moveTo(r,o);var i=n.fakerNode.getData();n.lf.setNodeSnapLine(i),n.lf.graphModel.eventCenter.emit(yo.NODE_DND_DRAG,{data:i})}return!1})),gp(this,"onDragLeave",(function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)})),gp(this,"onDrop",(function(e){n.lf.graphModel&&e&&n.nodeConfig&&(n.lf.addNode(yp(yp({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY})),yo.NODE_DND_ADD,e),e.preventDefault(),e.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)}));var r=t.lf;this.lf=r}var t,n,r;return t=e,(n=[{key:"clientToLocalPoint",value:function(e){var t=e.x,n=e.y,r=tr(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:t,y:n}).canvasOverlayPosition,i=o.x,a=o.y;return{x:zi(i,r),y:zi(a,r)}}},{key:"startDrag",value:function(e){this.lf.options.isSilentMode||(this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&vp(t.prototype,n),r&&vp(t,r),e}();function mp(e){var t=e.container,n=e.grid,r=e.width,o=e.height;if(!t)throw new Error("请检查 container 参数是否有效");if("string"==typeof r||"string"==typeof o)throw new Error("width或height不支持传入字符串，请传数字");return n&&(e.grid=Kr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Kr({},wp,e)}var _p,Op,wp={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function xp(e){return xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(e)}function jp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ep(Object(n),!0).forEach((function(t){Bp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kp(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Tp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Np(){return Np="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Cp(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Np.apply(this,arguments)}function Cp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lp(e)););return e}function Ap(e,t){return Ap=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ap(e,t)}function Mp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lp(e);if(t){var o=Lp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ip(this,n)}}function Ip(e,t){if(t&&("object"===xp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rp(e)}function Rp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(e)}function Bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var zp,qp,$p,Hp,Up,Wp,Vp,Gp,Xp,Yp,Jp,Kp,Zp,Qp,ed,td,nd,rd,od,id,ad,sd,ud,ld=(_p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ap(e,t)}(i,e);var t,n,r,o=Mp(i);function i(){var e;Tp(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bp(Rp(e=o.call.apply(o,[this].concat(n))),"modelType",po.BEZIER_EDGE),kp(Rp(e),"path",Op,Rp(e)),e}return t=i,(n=[{key:"initEdgeData",value:function(e){this.offset=100,Np(Lp(i.prototype),"initEdgeData",this).call(this,e)}},{key:"getEdgeStyle",value:function(){var e=this.graphModel.theme.bezier;return Pp(Pp({},Np(Lp(i.prototype),"getEdgeStyle",this).call(this)),wi(e))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var e=0,t=0;return this.pointsList.forEach((function(n){var r=n.x,o=n.y;e+=r,t+=o})),{x:e/this.pointsList.length,y:t/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var e=Np(Lp(i.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return Pp(Pp({},e),{},{pointsList:t})}},{key:"getControls",value:function(){var e=this.startPoint,t=this.endPoint;return Iu({start:e,end:t,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(e){var t=jp(e,4),n=t[0],r=t[1],o=t[2],i=t[3];return"M ".concat(n.x," ").concat(n.y,"\n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var e=this.getControls(),t=e.sNext,n=e.ePre;this.updatePath(t,n)}},{key:"updatePath",value:function(e,t){e=wi(e),t=wi(t);var n={x:this.startPoint.x,y:this.startPoint.y},r={x:this.endPoint.x,y:this.endPoint.y};if(!e||!t){var o=this.getControls();e=o.sNext,t=o.ePre}this.pointsList=[n,e,t,r],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"moveStartPoint",value:function(e,t){this.startPoint.x+=e,this.startPoint.y+=t;var n=jp(this.pointsList,3),r=n[1],o=n[2];r.x+=e,r.y+=t,this.updatePath(r,o)}},{key:"moveEndPoint",value:function(e,t){this.endPoint.x+=e,this.endPoint.y+=t;var n=jp(this.pointsList,3),r=n[1],o=n[2];o.x+=e,o.y+=t,this.updatePath(r,o)}},{key:"updateAdjustAnchor",value:function(e,t){"sNext"===t?this.pointsList[1]=e:"ePre"===t&&(this.pointsList[2]=e),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var e=this.pointsList;return e[e.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint,r=e.sourceNode,o=e.targetNode,i=Iu({start:t,end:n,sourceNode:r,targetNode:o,offset:this.offset}),a=i.sNext,s=i.ePre;this.pointsList=[t,a,s,n],this.initPoints()}}])&&Dp(t.prototype,n),r&&Dp(t,r),i}(ns),Op=Fp(_p.prototype,"path",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fp(_p.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(_p.prototype,"initPoints"),_p.prototype),Fp(_p.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(_p.prototype,"updatePoints"),_p.prototype),Fp(_p.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(_p.prototype,"updateStartPoint"),_p.prototype),Fp(_p.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(_p.prototype,"updateEndPoint"),_p.prototype),Fp(_p.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(_p.prototype,"moveStartPoint"),_p.prototype),Fp(_p.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(_p.prototype,"moveEndPoint"),_p.prototype),Fp(_p.prototype,"updateAdjustAnchor",[o.k],Object.getOwnPropertyDescriptor(_p.prototype,"updateAdjustAnchor"),_p.prototype),Fp(_p.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(_p.prototype,"getAdjustStart"),_p.prototype),Fp(_p.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(_p.prototype,"getAdjustEnd"),_p.prototype),Fp(_p.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(_p.prototype,"updateAfterAdjustStartAndEnd"),_p.prototype),_p),cd=function(e){return null==e};function fd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||dd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pd(e){return pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(e)}function dd(e,t){if(e){if("string"==typeof e)return hd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hd(e,t):void 0}}function hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yd(Object(n),!0).forEach((function(t){md(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function md(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _d(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Od,wd,xd=(zp=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),md(this,"id",""),gd(this,"type",qp,this),gd(this,"x",$p,this),gd(this,"y",Hp,this),gd(this,"text",Up,this),gd(this,"properties",Wp,this),gd(this,"_width",Vp,this),gd(this,"_height",Gp,this),gd(this,"anchorsOffset",Xp,this),gd(this,"isSelected",Yp,this),gd(this,"isHovered",Jp,this),gd(this,"isShowAnchor",Kp,this),gd(this,"isDragging",Zp,this),gd(this,"isHitable",Qp,this),gd(this,"draggable",ed,this),gd(this,"visible",td,this),gd(this,"enableRotate",nd,this),md(this,"virtual",!1),md(this,"graphModel",void 0),gd(this,"zIndex",rd,this),gd(this,"state",od,this),gd(this,"autoToFront",id,this),gd(this,"style",ad,this),gd(this,"transform",sd,this),gd(this,"_rotate",ud,this),md(this,"BaseType",ho.NODE),md(this,"modelType",po.NODE),md(this,"additionStateData",void 0),md(this,"targetRules",[]),md(this,"sourceRules",[]),md(this,"moveRules",[]),md(this,"hasSetTargetRules",!1),md(this,"hasSetSourceRules",!1),this.graphModel=n,this.initNodeData(t),this.setAttributes()}var t,n,r;return t=e,n=[{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e;var t=this.x,n=void 0===t?0:t,r=this.y,o=void 0===r?0:r;this.transform=new Wl(-n,-o).rotate(e).translate(n,o).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,n=t&&t(e.type),r=this.createId();e.id=r||n||ta()}this.formatText(e),Kr(this,function(e){return io(e,["id","type","x","y","text","properties","virtual","rotate"])}(e)),this.graphModel.overlapMode===go.INCREASE&&(this.zIndex=e.zIndex||Xa())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(e){e.text||(e.text={value:"",x:e.x,y:e.y,draggable:!1,editable:!0}),e.text&&"string"==typeof e.text?e.text={value:e.text,x:e.x,y:e.y,draggable:!1,editable:!0}:e.text&&void 0===e.text.editable&&(e.text.editable=!0)}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,i=this.properties;Object(o.x)(i)&&(i=Object(o.I)(i));var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:i};return this.rotate&&(a.rotate=this.rotate),this.graphModel.overlapMode===go.INCREASE&&(a.zIndex=this.zIndex),r&&(a.text={x:t,y:n,value:r}),a}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return vd(vd({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var e=this.graphModel.theme.nodeText;return wi(e)}},{key:"getRotateControlStyle",value:function(){var e=this.graphModel.theme.rotateControl;return wi(e)}},{key:"getAnchorStyle",value:function(e){var t=this.graphModel.theme.anchor;return wi(t)}},{key:"getAnchorLineStyle",value:function(e){var t=this.graphModel.theme.anchorLine;return wi(t)}},{key:"getOutlineStyle",value:function(){var e=this.graphModel.theme.outline;return wi(e)}},{key:"isAllowConnectedAsSource",value:function(e,t,n,r){var o=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var i,a=!0,s=0;s<o.length;s++){var u=o[s];if(!u.validate.call(this,this,e,t,n,r)){a=!1,i=u.message;break}}return{isAllPass:a,msg:i}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(e,t,n,r){var o=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var i,a=!0,s=0;s<o.length;s++){var u=o[s];if(!u.validate.call(this,e,this,t,n,r)){a=!1,i=u.message;break}}return{isAllPass:a,msg:i}}},{key:"isAllowMoveNode",value:function(e,t){var n,r=!0,o=!0,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=dd(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(i.s();!(n=i.n()).done;){var a=(0,n.value)(this,e,t);if(!a)return!1;if("object"===pd(a)){var s=a;if(!1===s.x&&!1===s.y)return!1;r=r&&s.x,o=o&&s.y}}}catch(e){i.e(e)}finally{i.f()}return{x:r,y:o}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var e=this.anchorsOffset,t=this.id,n=this.x,r=this.y;return e&&e.length>0?e.map((function(e,o){return e.length?(e=e,{id:"".concat(t,"_").concat(o),x:n+e[0],y:r+e[1]}):vd(vd({},e=e),{},{x:n+e.x,y:r+e.y,id:e.id||"".concat(t,"_").concat(o)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(e){return function(e,t){for(var n,r=Ta(t),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var a=Ca(e.x,e.y,r[i].x,r[i].y);a<o&&(o=a,n={index:i,anchor:aa(aa({},r[i]),{},{x:r[i].x,y:r[i].y,id:r[i].id})})}return n}(e,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var e=this.getAnchorsByOffset(),t=this.x,n=this.y,r=this.rotate;return e.forEach((function(e){var o=e.x,i=e.y,a=fd(new $l([o,i,1]).translate(-t,-n).rotate(r).translate(t,n)[0],2),s=a[0],u=a[1];e.x=s,e.y=u})),e}},{key:"getAnchorInfo",value:function(e){if(!cd(e))for(var t=0;t<this.anchors.length;t++){var n=this.anchors[t];if(n.id===e)return n}}},{key:"addNodeMoveRules",value:function(e){this.moveRules.includes(e)||this.moveRules.push(e)}},{key:"move",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1;if(n)r=!0,o=!0;else{var i=this.isAllowMoveNode(e,t);"boolean"==typeof i?(r=i,o=i):(r=i.x,o=i.y)}if(r){var a=this.x+e;this.x=a,this.text&&this.moveText(e,0)}if(o){var s=this.y+t;this.y=s,this.text&&this.moveText(0,t)}return r||o}},{key:"getMoveDistance",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1,i=0,a=0;if(n)r=!0,o=!0;else{var s=this.isAllowMoveNode(e,t);"boolean"==typeof s?(r=s,o=s):(r=s.x,o=s.y)}if(r&&e){var u=this.x+e;this.x=u,this.text&&this.moveText(e,0),i=e}if(o&&t){var l=this.y+t;this.y=l,this.text&&this.moveText(0,t),a=t}return[i,a]}},{key:"moveTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e-this.x,o=t-this.y;return!(!n&&!this.isAllowMoveNode(r,o)||(this.text&&this.text&&this.moveText(r,o),this.x=e,this.y=t,0))}},{key:"moveText",value:function(e,t){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,s=n.editable;this.text={value:i,editable:s,draggable:a,x:r+e,y:o+t}}},{key:"updateText",value:function(e){this.text=vd(vd({},Object(o.I)(this.text)),{},{value:e})}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e,this.setIsShowAnchor(e)}},{key:"setIsShowAnchor",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isShowAnchor=e}},{key:"setEnableRotate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.enableRotate=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"setProperty",value:function(e,t){this.properties=vd(vd({},Object(o.I)(this.properties)),{},md({},e,Wa(t))),this.setAttributes()}},{key:"setProperties",value:function(e){this.properties=vd(vd({},Object(o.I)(this.properties)),Wa(e)),this.setAttributes()}},{key:"deleteProperty",value:function(e){delete this.properties[e],this.setAttributes()}},{key:"setStyle",value:function(e,t){this.style=vd(vd({},this.style),{},md({},e,Wa(t)))}},{key:"setStyles",value:function(e){this.style=vd(vd({},this.style),Wa(e))}},{key:"updateStyles",value:function(e){this.style=vd({},Wa(e))}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.zIndex=e}},{key:"updateAttributes",value:function(e){Kr(this,e)}}],n&&bd(t.prototype,n),r&&bd(t,r),e}(),qp=_d(zp.prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$p=_d(zp.prototype,"x",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hp=_d(zp.prototype,"y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Up=_d(zp.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Wp=_d(zp.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Vp=_d(zp.prototype,"_width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Gp=_d(zp.prototype,"_height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Xp=_d(zp.prototype,"anchorsOffset",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yp=_d(zp.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jp=_d(zp.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kp=_d(zp.prototype,"isShowAnchor",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zp=_d(zp.prototype,"isDragging",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qp=_d(zp.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ed=_d(zp.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),td=_d(zp.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nd=_d(zp.prototype,"enableRotate",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rd=_d(zp.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),od=_d(zp.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),id=_d(zp.prototype,"autoToFront",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ad=_d(zp.prototype,"style",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),sd=_d(zp.prototype,"transform",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ud=_d(zp.prototype,"_rotate",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_d(zp.prototype,"incoming",[o.m],Object.getOwnPropertyDescriptor(zp.prototype,"incoming"),zp.prototype),_d(zp.prototype,"outgoing",[o.m],Object.getOwnPropertyDescriptor(zp.prototype,"outgoing"),zp.prototype),_d(zp.prototype,"addNodeMoveRules",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"addNodeMoveRules"),zp.prototype),_d(zp.prototype,"move",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"move"),zp.prototype),_d(zp.prototype,"getMoveDistance",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"getMoveDistance"),zp.prototype),_d(zp.prototype,"moveTo",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"moveTo"),zp.prototype),_d(zp.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"moveText"),zp.prototype),_d(zp.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"updateText"),zp.prototype),_d(zp.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setSelected"),zp.prototype),_d(zp.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setHovered"),zp.prototype),_d(zp.prototype,"setIsShowAnchor",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setIsShowAnchor"),zp.prototype),_d(zp.prototype,"setEnableRotate",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setEnableRotate"),zp.prototype),_d(zp.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setHitable"),zp.prototype),_d(zp.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setElementState"),zp.prototype),_d(zp.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setProperty"),zp.prototype),_d(zp.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setProperties"),zp.prototype),_d(zp.prototype,"deleteProperty",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"deleteProperty"),zp.prototype),_d(zp.prototype,"setStyle",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setStyle"),zp.prototype),_d(zp.prototype,"setStyles",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setStyles"),zp.prototype),_d(zp.prototype,"updateStyles",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"updateStyles"),zp.prototype),_d(zp.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"setZIndex"),zp.prototype),_d(zp.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(zp.prototype,"updateAttributes"),zp.prototype),zp);function jd(e){return jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(e)}function Sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(n),!0).forEach((function(t){Ld(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function kd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dd(){return Dd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Nd(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Dd.apply(this,arguments)}function Nd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rd(e)););return e}function Cd(e,t){return Cd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cd(e,t)}function Ad(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rd(e);if(t){var o=Rd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Md(this,n)}}function Md(e,t){if(t&&("object"===jd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Id(e)}function Id(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rd(e)}function Ld(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bd(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Fd,zd,qd,$d=(Od=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cd(e,t)}(i,e);var t,n,r,o=Ad(i);function i(){var e;kd(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ld(Id(e=o.call.apply(o,[this].concat(n))),"modelType",po.CIRCLE_NODE),Pd(Id(e),"r",wd,Id(e)),e}return t=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var e=Dd(Rd(i.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.circle;return Ed(Ed({},e),wi(t))}},{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.r;return[{x:e,y:t-n,id:"".concat(this.id,"_0")},{x:e+n,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+n,id:"".concat(this.id,"_2")},{x:e-n,y:t,id:"".concat(this.id,"_3")}]}}])&&Td(t.prototype,n),r&&Td(t,r),i}(xd),wd=Bd(Od.prototype,"r",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Bd(Od.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Od.prototype,"width"),Od.prototype),Bd(Od.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Od.prototype,"height"),Od.prototype),Od);function Hd(e){return Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(e)}function Ud(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vd(Object(n),!0).forEach((function(t){oh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kd(){return Kd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zd(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Kd.apply(this,arguments)}function Zd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rh(e)););return e}function Qd(e,t){return Qd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qd(e,t)}function eh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rh(e);if(t){var o=rh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return th(this,n)}}function th(e,t){if(t&&("object"===Hd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nh(e)}function nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rh(e){return rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rh(e)}function oh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ih(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n(129);var ah,sh,uh,lh=(Fd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qd(e,t)}(i,e);var t,n,r,o=eh(i);function i(){var e;Yd(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oh(nh(e=o.call.apply(o,[this].concat(n))),"modelType",po.DIAMOND_NODE),Xd(nh(e),"rx",zd,nh(e)),Xd(nh(e),"ry",qd,nh(e)),e}return t=i,(n=[{key:"getNodeStyle",value:function(){var e=Kd(rh(i.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.diamond;return Gd(Gd({},e),wi(t))}},{key:"points",get:function(){var e=this.x,t=this.y,n=this.rx,r=this.ry;return[[e,t-r],[e+n,t],[e,t+r],[e-n,t]]}},{key:"pointsPosition",get:function(){return this.points.map((function(e){return{x:e[0],y:e[1]}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Ud(n,1)[0];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Ud(n,2)[1];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"getDefaultAnchor",value:function(){var e=this;return this.points.map((function(t,n){var r=Ud(t,2);return{x:r[0],y:r[1],id:"".concat(e.id,"_").concat(n)}}))}}])&&Jd(t.prototype,n),r&&Jd(t,r),i}(xd),zd=ih(Fd.prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),qd=ih(Fd.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ih(Fd.prototype,"points",[o.m],Object.getOwnPropertyDescriptor(Fd.prototype,"points"),Fd.prototype),ih(Fd.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(Fd.prototype,"pointsPosition"),Fd.prototype),ih(Fd.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Fd.prototype,"width"),Fd.prototype),ih(Fd.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Fd.prototype,"height"),Fd.prototype),Fd);function ch(e){return ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(e)}function fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ph(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fh(Object(n),!0).forEach((function(t){xh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vh(){return vh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=gh(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},vh.apply(this,arguments)}function gh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wh(e)););return e}function bh(e,t){return bh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bh(e,t)}function mh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wh(e);if(t){var o=wh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _h(this,n)}}function _h(e,t){if(t&&("object"===ch(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oh(e)}function Oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wh(e)}function xh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jh(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Sh,Eh,Ph=(ah=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bh(e,t)}(i,e);var t,n,r,o=mh(i);function i(){var e;hh(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xh(Oh(e=o.call.apply(o,[this].concat(n))),"modelType",po.ELLIPSE_NODE),dh(Oh(e),"rx",sh,Oh(e)),dh(Oh(e),"ry",uh,Oh(e)),e}return t=i,(n=[{key:"getNodeStyle",value:function(){var e=vh(wh(i.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.ellipse;return ph(ph({},e),wi(t))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.rx,r=this.ry;return[{x:e,y:t-r,id:"".concat(this.id,"_0")},{x:e+n,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r,id:"".concat(this.id,"_2")},{x:e-n,y:t,id:"".concat(this.id,"_3")}]}}])&&yh(t.prototype,n),r&&yh(t,r),i}(xd),sh=jh(ah.prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),uh=jh(ah.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),jh(ah.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(ah.prototype,"width"),ah.prototype),jh(ah.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(ah.prototype,"height"),ah.prototype),ah);function kh(e){return kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(e)}function Th(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nh(Object(n),!0).forEach((function(t){Hh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ah(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rh(){return Rh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Lh(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Rh.apply(this,arguments)}function Lh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$h(e)););return e}function Bh(e,t){return Bh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bh(e,t)}function Fh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$h(e);if(t){var o=$h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zh(this,n)}}function zh(e,t){if(t&&("object"===kh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qh(e)}function qh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $h(e){return $h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$h(e)}function Hh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uh(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Wh,Vh,Gh=(Sh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bh(e,t)}(i,e);var t,n,r,o=Fh(i);function i(){var e;Mh(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Hh(qh(e=o.call.apply(o,[this].concat(n))),"modelType",po.POLYGON_NODE),Ah(qh(e),"points",Eh,qh(e)),e}return t=i,(n=[{key:"getNodeStyle",value:function(){var e=Rh($h(i.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.polygon;return Ch(Ch({},e),wi(t))}},{key:"pointsPosition",get:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.points.map((function(o){return{x:o[0]+e-n/2,y:o[1]+t-r/2}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Th(n,1)[0];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Th(n,2)[1];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"getDefaultAnchor",value:function(){var e=this,t=this.x,n=this.y,r=this.width,o=this.height;return this.points.map((function(i,a){var s=Th(i,2),u=s[0],l=s[1];return{x:t+u-r/2,y:n+l-o/2,id:"".concat(e.id,"_").concat(a)}}))}}])&&Ih(t.prototype,n),r&&Ih(t,r),i}(xd),Eh=Uh(Sh.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Uh(Sh.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(Sh.prototype,"pointsPosition"),Sh.prototype),Uh(Sh.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Sh.prototype,"width"),Sh.prototype),Uh(Sh.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Sh.prototype,"height"),Sh.prototype),Sh);function Xh(e){return Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(e)}function Yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yh(Object(n),!0).forEach((function(t){sy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Zh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ey(){return ey="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ty(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ey.apply(this,arguments)}function ty(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ay(e)););return e}function ny(e,t){return ny=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ny(e,t)}function ry(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ay(e);if(t){var o=ay(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oy(this,n)}}function oy(e,t){if(t&&("object"===Xh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return iy(e)}function iy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ay(e)}function sy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uy,ly=(Wh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ny(e,t)}(i,e);var t,n,r,o=ry(i);function i(){var e;Zh(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sy(iy(e=o.call.apply(o,[this].concat(n))),"modelType",po.RECT_NODE),Kh(iy(e),"radius",Vh,iy(e)),e}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return[{x:e,y:t-r/2,id:"".concat(this.id,"_0")},{x:e+n/2,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r/2,id:"".concat(this.id,"_2")},{x:e-n/2,y:t,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var e=ey(ay(i.prototype),"getNodeStyle",this).call(this),t=this.graphModel.theme.rect;return Jh(Jh({},e),wi(t))}}])&&Qh(t.prototype,n),r&&Qh(t,r),i}(xd),Vh=function(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(Wh.prototype,"radius",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wh);function cy(e){return cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(e)}function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(n),!0).forEach((function(t){wy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yy(){return yy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vy(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},yy.apply(this,arguments)}function vy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oy(e)););return e}function gy(e,t){return gy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gy(e,t)}function by(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oy(e);if(t){var o=Oy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return my(this,n)}}function my(e,t){if(t&&("object"===cy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _y(e)}function _y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oy(e)}function wy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xy(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var jy=(uy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gy(e,t)}(i,e);var t,n,r,o=by(i);function i(){var e;dy(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wy(_y(e=o.call.apply(o,[this].concat(n))),"modelType",po.TEXT_NODE),e}return t=i,(n=[{key:"getTextStyle",value:function(){var e=yy(Oy(i.prototype),"getTextStyle",this).call(this),t=this.graphModel.theme.text;return py(py({},e),wi(t))}},{key:"width",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=this.getTextStyle().fontSize;return Ha({rows:e,fontSize:t,rowsLength:e.length}).width}},{key:"height",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=this.getTextStyle().fontSize;return Ha({rows:e,fontSize:t,rowsLength:e.length}).height}}])&&hy(t.prototype,n),r&&hy(t,r),i}(xd),xy(uy.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(uy.prototype,"width"),uy.prototype),xy(uy.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(uy.prototype,"height"),uy.prototype),uy);function Sy(e){return Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(e)}function Ey(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Py(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ky(e,t){return ky=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ky(e,t)}function Ty(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cy(e);if(t){var o=Cy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dy(this,n)}}function Dy(e,t){if(t&&("object"===Sy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ny(e)}function Ny(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cy(e)}function Ay(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var My,Iy,Ry,Ly,By=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ky(e,t)}(i,e);var t,n,r,o=Ty(i);function i(){var e;Ey(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ay(Ny(e=o.call.apply(o,[this].concat(n))),"modelType",po.HTML_NODE),e}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return[{x:e,y:t-r/2,id:"".concat(this.id,"_0")},{x:e+n/2,y:t,id:"".concat(this.id,"_1")},{x:e,y:t+r/2,id:"".concat(this.id,"_2")},{x:e-n/2,y:t,id:"".concat(this.id,"_3")}]}}])&&Py(t.prototype,n),r&&Py(t,r),i}(xd);function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zy(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hy(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Uy=(My=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$y(this,"graphModel",void 0),zy(this,"isShowHorizontal",Iy,this),zy(this,"isShowVertical",Ry,this),zy(this,"position",Ly,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}var t,n,r;return t=e,n=[{key:"getStyle",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fy(Object(n),!0).forEach((function(t){$y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(e,t){for(var n=e.x,r=e.y,o=!1,i=!1,a=0;a<t.length;a++){var s=t[a];if(s.id!==e.id&&(n===s.x&&(o=!0),r===s.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(e,t){var n,r,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Ia(a);else{var s=this.graphModel.getNodeModelById(i);r=Ia(s)}}for(var u=0;u<t.length;u++){var l=t[u];if(l.id!==e.id){var c=Ia(l);if(c.minY===r.minY||c.maxY===r.minY){o=!0,n=r.minY;break}if(c.minY===r.maxY||c.maxY===r.maxY){o=!0,n=r.maxY;break}}}return Kr({isShowHorizontal:o,position:{y:n}})}},{key:"getVerticalSnapline",value:function(e,t){var n,r,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Ia(a);else{var s=this.graphModel.getNodeModelById(i);r=Ia(s)}}for(var u=0;u<t.length;u++){var l=t[u];if(l.id!==e.id){var c=Ia(l);if(c.minX===r.minX||c.maxX===r.minX){o=!0,n=r.minX;break}if(c.minX===r.maxX||c.maxX===r.maxX){o=!0,n=r.maxX;break}}}return Kr({isShowVertical:o,position:{x:n}})}},{key:"getSnapLinePosition",value:function(e,t){var n=this.getCenterSnapLine(e,t),r=n.isShowHorizontal,o=n.isShowVertical;if(!r){var i=this.getHorizontalSnapline(e,t);i.isShowHorizontal&&(n.isShowHorizontal=i.isShowHorizontal,n.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(e,t);a.isShowVertical&&(n.isShowVertical=a.isShowVertical,n.position.x=a.position.x)}return n}},{key:"setSnaplineInfo",value:function(e){var t=e.isShowHorizontal,n=e.isShowVertical,r=e.position;this.position=r,this.isShowHorizontal=t,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(e){var t=this.graphModel.nodes,n=this.getSnapLinePosition(e,t);this.setSnaplineInfo(n)}}],n&&qy(t.prototype,n),r&&qy(t,r),e}(),Iy=Hy(My.prototype,"isShowHorizontal",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ry=Hy(My.prototype,"isShowVertical",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ly=Hy(My.prototype,"position",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hy(My.prototype,"clearSnapline",[o.k],Object.getOwnPropertyDescriptor(My.prototype,"clearSnapline"),My.prototype),Hy(My.prototype,"setNodeSnapLine",[o.k],Object.getOwnPropertyDescriptor(My.prototype,"setNodeSnapLine"),My.prototype),My),Wy=new Map,Vy=function(e){var t=ta(),n=window.requestAnimationFrame((function n(){if(e(),Wy.get(t)){var r=window.requestAnimationFrame(n);Wy.set(t,r)}}));return Wy.set(t,n),t},Gy=function(e){var t=Wy.get(e);t&&(window.cancelAnimationFrame(t),Wy.delete(e))};function Xy(e){return Xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(e)}function Yy(){return Yy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(this,arguments)}function Jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jy(Object(n),!0).forEach((function(t){av(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ev(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tv(e,t){return tv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tv(e,t)}function nv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iv(e);if(t){var o=iv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rv(this,n)}}function rv(e,t){if(t&&("object"===Xy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ov(e)}function ov(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iv(e){return iv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},iv(e)}function av(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tv(e,t)}(i,e);var t,n,r,o=nv(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),av(ov(e=o.call(this)),"preTargetNode",void 0),av(ov(e),"sourceRuleResults",void 0),av(ov(e),"targetRuleResults",void 0),av(ov(e),"dragHandler",void 0),av(ov(e),"t",void 0),av(ov(e),"onDragStart",(function(t){var n=t.event,r=e.props,o=r.anchorData,i=r.nodeModel,a=r.graphModel;a.overlapMode,a.selectNodeById(i.id),i.autoToFront&&a.toFront(i.id),a.eventCenter.emit(yo.ANCHOR_DRAGSTART,{data:o,e:n,nodeModel:i}),e.setState({startX:o.x,startY:o.y,endX:o.x,endY:o.y})})),av(ov(e),"onDragging",(function(t){var n=t.event,r=e.props,o=r.graphModel,i=r.nodeModel,a=r.anchorData,s=o.transformModel,u=o.eventCenter,l=o.width,c=o.height,f=o.editConfigModel,p=f.autoExpand,d=f.stopMoveGraph,h=n.clientX,y=n.clientY,v=o.getPointByClient({x:h,y:y}),g=v.domOverlayPosition,b=g.x,m=g.y,_=v.canvasOverlayPosition,O=_.x,w=_.y;e.t&&Gy(e.t);var x=[];b<10?x=[10,0]:b+10>l?x=[-10,0]:m<10?x=[0,10]:m+10>c&&(x=[0,-10]),e.setState({endX:O,endY:w,dragging:!0}),e.moveAnchorEnd(O,w),x.length>0&&!d&&p&&(e.t=Vy((function(){var t=Zy(x,2),n=t[0],r=t[1];s.translate(n,r);var o=e.state,i=o.endX,a=o.endY;e.setState({endX:i-n,endY:a-r}),e.moveAnchorEnd(i-n,a-r)}))),u.emit(yo.ANCHOR_DRAG,{data:a,e:n,nodeModel:i})})),av(ov(e),"onDragEnd",(function(t){var n=t.event;e.t&&Gy(e.t);var r=e.checkEnd(n);e.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),e.sourceRuleResults.clear(),e.targetRuleResults.clear();var o=e.props,i=o.graphModel,a=o.nodeModel,s=o.anchorData;i.eventCenter.emit(yo.ANCHOR_DRAGEND,{data:s,e:n,nodeModel:a,edgeModel:r})})),av(ov(e),"checkEnd",(function(t){var n=e.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=i.x,s=i.y,u=i.id,l=(r.edgeType,e.state),c=l.endX,f=l.endY,p=l.dragging,d=Da({x:c,y:f},r);if(e.preTargetNode&&e.preTargetNode.state!==co.DEFAULT&&e.preTargetNode.setElementState(co.DEFAULT),p&&d&&d.node){var h=d.node,y=d.anchor.id,v="".concat(o.id,"_").concat(h.id,"_").concat(y,"_").concat(u),g=e.sourceRuleResults.get(v)||{},b=g.isAllPass,m=g.msg,_=e.targetRuleResults.get(v)||{},O=_.isAllPass,w=_.msg;if(b&&O){h.setElementState(co.DEFAULT);var x=r.edgeGenerator(o.getData(),r.getNodeModelById(d.node.id).getData()),j=r.addEdge(Ky(Ky({},x),{},{sourceNodeId:o.id,sourceAnchorId:u,startPoint:{x:a,y:s},targetNodeId:d.node.id,targetAnchorId:d.anchor.id,endPoint:{x:d.anchor.x,y:d.anchor.y}})),S=e.props.anchorData;return r.eventCenter.emit(yo.ANCHOR_DROP,{data:S,e:t,nodeModel:o,edgeModel:j}),j}var E=h.getData();return r.eventCenter.emit(yo.CONNECTION_NOT_ALLOWED,{data:E,msg:w||m}),null}})),e.sourceRuleResults=new Map,e.targetRuleResults=new Map,e.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},e.dragHandler=new Vu({onDragStart:e.onDragStart,onDragging:e.onDragging,onDragEnd:e.onDragEnd}),e}return t=i,(n=[{key:"getAnchorShape",value:function(){var e=this.props,t=e.anchorData,n=e.style,r=e.node.getAnchorShape(t);if(r)return r;var o=t.x,i=t.y,a=Ky(Ky({},n),n.hover);return Object(ee.g)("g",null,Object(ee.g)(Nf,Yy({className:"lf-node-anchor-hover"},a,{x:o,y:i})),Object(ee.g)(Nf,Yy({className:"lf-node-anchor"},n,{x:o,y:i})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"moveAnchorEnd",value:function(e,t){var n=this.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=Da({x:e,y:t},r);if(a){var s=a.node,u=a.anchor.id;if(this.preTargetNode&&this.preTargetNode!==a.node&&this.preTargetNode.setElementState(co.DEFAULT),i.id===u)return;this.preTargetNode=s;var l="".concat(o.id,"_").concat(s.id,"_").concat(u,"_").concat(i.id);if(!this.targetRuleResults.has(l)){var c=a.anchor,f=o.isAllowConnectedAsSource(s,i,c),p=s.isAllowConnectedAsTarget(o,i,c);this.sourceRuleResults.set(l,Ua(f)),this.targetRuleResults.set(l,Ua(p))}var d=this.sourceRuleResults.get(l).isAllPass,h=this.targetRuleResults.get(l).isAllPass;d&&h?s.setElementState(co.ALLOW_CONNECT):s.setElementState(co.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==co.DEFAULT&&this.preTargetNode.setElementState(co.DEFAULT)}},{key:"isShowLine",value:function(){var e=this.state,t=e.startX,n=e.startY,r=e.endX,o=e.endY;return Ca(t,n,r,o)>10}},{key:"render",value:function(){var e=this,t=this.state,n=t.startX,r=t.startY,o=t.endX,i=t.endY,a=this.props,s=a.anchorData.edgeAddable,u=a.edgeStyle;return Object(ee.g)("g",{className:"lf-anchor"},Object(ee.g)("g",{onMouseDown:function(t){!1!==s&&e.dragHandler.handleMouseDown(t)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(Ky({sourcePoint:{x:n,y:r},targetPoint:{x:o,y:i}},u)):Object(ee.g)(Kc,Yy({x1:n,y1:r,x2:o,y2:i},u,{"pointer-events":"none"}))))}}])&&ev(t.prototype,n),r&&ev(t,r),i}(ee.a);function uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uv(Object(n),!0).forEach((function(t){cv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fv(e){return fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(e)}function pv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hv(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.value,a=e.fontSize,s=e.fill,u=void 0===s?"currentColor":s,l=e.overflowMode,c=void 0===l?"default":l,f=e.textWidth,p=void 0===f?"":f,d=e.model,h={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:u};if(Object.entries(e).forEach((function(e){var t=pv(e,2),n=t[0],r=t[1];"object"!==fv(r)&&(h[n]=r)})),i){var y=String(i).split(/[\r\n]/g),v=y.length;if("default"!==c){var g=d.BaseType,b=d.modelType;if(g===ho.NODE&&b!==po.TEXT_NODE||g===ho.EDGE&&p)return function(e){var t=e.value,n=e.fontSize,r=e.model,o=e.fontFamily,i=void 0===o?"":o,a=e.lineHeight,s=e.wrapPadding,u=void 0===s?"0, 0":s,l=e.overflowMode,c=e.x,f=e.y,p=r.width,d=r.textHeight,h=e.textWidth||p,y=String(t).split(/[\r\n]/g),v=y.length,g=$a({rows:y,style:{fontSize:"".concat(n,"px"),width:"".concat(h,"px"),fontFamily:i,lineHeight:a,padding:u},rowsLength:v,className:"lf-get-text-height"}),b=r.height>g?r.height:g;d&&(b=d);var m="ellipsis"===l;return m&&(b=n+2),Object(ee.g)("g",null,Object(ee.g)("foreignObject",{width:h,height:b,x:c-h/2,y:f-b/2},Object(ee.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:b,width:h,padding:u}},Object(ee.g)("div",{className:m?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:m?y.join(""):"",style:lv({},e)},y.map((function(e){return Object(ee.g)("div",{className:"lf-node-text--auto-wrap-inner"},e)}))))))}(e)}if(v>1){var m=y.map((function(e,t){var r=(t-(v-1)/2)*(a+2);return Object(ee.g)("tspan",{className:"lf-text-tspan",x:n,y:o+r},e)}));return Object(ee.g)("text",h,m)}return Object(ee.g)("text",h,i)}}function yv(e){return yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(e)}function vv(){return vv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(this,arguments)}function gv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _v(e,t){return _v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_v(e,t)}function Ov(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jv(e);if(t){var o=jv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wv(this,n)}}function wv(e,t){if(t&&("object"===yv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xv(e)}function xv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jv(e){return jv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jv(e)}function Sv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ev=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_v(e,t)}(i,e);var t,n,r,o=Ov(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Sv(xv(t=o.call(this)),"dragHandler",void 0),Sv(xv(t),"sumDeltaX",0),Sv(xv(t),"sumDeltaY",0),Sv(xv(t),"stepDrag",void 0),Sv(xv(t),"onDragging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props,i=o.model,a=gv(o.graphModel.transformModel.fixDeltaXY(n,r),2),s=a[0],u=a[1];i.moveText(s,u)})),Sv(xv(t),"dblClickHandler",(function(){t.props.editable&&t.props.model.setElementState(co.TEXT_EDIT)})),Sv(xv(t),"mouseDownHandle",(function(e){var n=t.props,r=n.draggable,o=n.model,i=n.graphModel.editConfigModel.nodeTextDraggable;(r||i)&&(t.stepDrag.model=o,t.stepDrag.handleMouseDown(e))})),e.model;var n=e.draggable;return t.stepDrag=new Vu({onDragging:t.onDragging,step:1,isStopPropagation:n}),t}return t=i,(n=[{key:"getShape",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.text,o=n.editConfigModel,i=r.value,a=r.x,s=r.y,u=r.editable,l=r.draggable,c={x:a,y:s,className:"",value:i};u?c.className="lf-element-text":l||o.nodeTextDraggable?c.className="lf-text-draggable":c.className="lf-text-disabled";var f=t.getTextStyle();return Object(ee.g)(hv,vv({},c,f,{model:t}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ee.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&mv(t.prototype,n),r&&mv(t,r),i}(ee.a),Pv=null!==window.navigator.userAgent.match(/MSIE|Trident/),kv=n(130);function Tv(e){return Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(e)}function Dv(){return Dv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(this,arguments)}function Nv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cv(e,t){return Cv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cv(e,t)}function Av(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rv(e);if(t){var o=Rv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mv(this,n)}}function Mv(e,t){if(t&&("object"===Tv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Iv(e)}function Iv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rv(e)}function Lv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cv(e,t)}(i,e);var t,n,r,o=Av(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Lv(Iv(t=o.call(this,e)),"style",{}),Lv(Iv(t),"defaultAngle",void 0),Lv(Iv(t),"normal",void 0),Lv(Iv(t),"stepperDrag",void 0),Lv(Iv(t),"onDragging",(function(e){var n,r=e.event,o=t.props,i=o.graphModel,a=o.nodeModel,s=o.eventCenter,u=i.selectNodes,l=a.x,c=a.y,f=r.clientX,p=r.clientY,d=i.getPointByClient({x:f,y:p}).canvasOverlayPosition,h=d.x,y=d.y,v=new ll(h-l,y-c),g=(null===(n=t.normal)||void 0===n?void 0:n.angle(v))-t.defaultAngle,b=new Wl(-l,-c).rotate(g).translate(l,c).toString();a.transform=b,a.rotate=g;var m=Object(kv.map)(u,(function(e){return e.id}));-1===m.indexOf(a.id)&&(m=[a.id]);var _=Object(kv.reduce)(m,(function(e,t){var n=i.getNodeModelById(t);return e[t]=null==n?void 0:n.getMoveDistance(0,0,!1),e}),{});m.forEach((function(e){i.getNodeEdges(e).forEach((function(e){if(_[e.sourceNodeId]){var t=i.getNodeModelById(e.sourceNodeId).anchors.find((function(t){return t.id===e.sourceAnchorId}));e.updateStartPoint(t)}if(_[e.targetNodeId]){var n=i.getNodeModelById(e.targetNodeId).anchors.find((function(t){return t.id===e.targetAnchorId}));e.updateEndPoint(n)}}))})),s.emit(yo.NODE_ROTATE,{e:r,nodeModel:a})})),t.style=e.style,t.stepperDrag=new Vu({onDragging:t.onDragging}),t}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props.nodeModel,n=t.x,r=t.y,o=n+t.width/2+20,i=r-t.height/2-20;return this.normal=new ll(1,0),this.defaultAngle=this.normal.angle(new ll(o-n,i-r)),t.defaultAngle=this.defaultAngle,Object(ee.g)("g",{className:"lf-rotate-control"},Object(ee.g)("g",{onMouseDown:function(t){e.stepperDrag.handleMouseDown(t)}},Object(ee.g)(Nf,Dv({},this.style,{cx:o,cy:i}))))}}])&&Nv(t.prototype,n),r&&Nv(t,r),i}(ee.a);function Fv(e){return Fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(e)}var zv=["className"];function qv(){return qv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qv.apply(this,arguments)}function $v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Hv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vv(e,t){return Vv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vv(e,t)}function Gv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jv(e);if(t){var o=Jv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xv(this,n)}}function Xv(e,t){if(t&&("object"===Fv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yv(e)}function Yv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jv(e)}function Kv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vv(e,t)}(a,e);var t,n,r,i=Gv(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Kv(Yv(t=i.call(this)),"t",void 0),Kv(Yv(t),"moveOffset",void 0),Kv(Yv(t),"stepDrag",void 0),Kv(Yv(t),"contextMenuTime",void 0),Kv(Yv(t),"startTime",void 0),Kv(Yv(t),"clickTimer",void 0),Kv(Yv(t),"modelDisposer",void 0),Kv(Yv(t),"onDragStart",(function(e){var n=e.event,r=n.clientX,o=n.clientY,i=t.props,a=i.model,s=i.graphModel.getPointByClient({x:r,y:o}).canvasOverlayPosition,u=s.x,l=s.y;t.moveOffset={x:a.x-u,y:a.y-l}})),Kv(Yv(t),"onDragging",(function(e){var n=e.event,r=t.props,o=r.model,i=r.graphModel,a=i.editConfigModel,s=a.stopMoveGraph,u=a.autoExpand,l=i.transformModel,c=i.selectNodes,f=i.width,p=i.height,d=i.gridSize;o.isDragging=!0;var h=n.clientX,y=n.clientY,v=i.getPointByClient({x:h,y:y}).canvasOverlayPosition,g=v.x,b=v.y,m=Hv(l.CanvasPointToHtmlPoint([g,b]),2),_=m[0],O=m[1];if(g+=t.moveOffset.x,b+=t.moveOffset.y,g=zi(g,d),b=zi(b,d),f&&p){if(!u||s||!(_<0||O<0||_>f||O>p)){var w=Hv(l.CanvasPointToHtmlPoint([g-o.width/2,b-o.height/2]),2),x=w[0],j=w[1],S=Hv(l.CanvasPointToHtmlPoint([g+o.width/2,b+o.height/2]),2),E=S[0],P=S[1],k=Math.max(d,20),T=[];x<0?T=[k,0]:E>i.width?T=[-k,0]:j<0?T=[0,k]:P>i.height&&(T=[0,-k]),t.t&&Gy(t.t);var D=new Wl(-g,-b).rotate(o.rotate).translate(g,b).toString();o.transform=D;var N=c.map((function(e){return e.id}));-1===N.indexOf(o.id)&&(N=[o.id]),T.length>0&&!s&&u?t.t=Vy((function(){var e=Hv(T,2),t=e[0],n=e[1];l.translate(t,n);var r=-t/l.SCALE_X,o=-n/l.SCALE_X;i.moveNodes(N,r,o)})):i.moveNodes(N,g-o.x,b-o.y)}}else i.moveNode2Coordinate(o.id,g,b)})),Kv(Yv(t),"onDragEnd",(function(){t.t&&Gy(t.t),t.props.model.isDragging=!1})),Kv(Yv(t),"handleClick",(function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200)){var n=t.props,r=n.model,o=n.graphModel,i={data:r.getData(),e:e,position:o.getPointByClient({x:e.clientX,y:e.clientY}),isSelected:!1,isMultiple:!1},a=2===e.button,s=2===e.detail;if(!a){var u=o.editConfigModel,l=Vi(e,u);i.isMultiple=l,r.isSelected&&!s&&l?(i.isSelected=!1,r.setSelected(!1)):(o.selectNodeById(r.id,l),i.isSelected=!0,t.toFront()),s?(u.nodeTextEdit&&r.text.editable&&(r.setSelected(!1),o.setElementStateById(r.id,co.TEXT_EDIT)),o.eventCenter.emit(yo.NODE_DBCLICK,i)):(o.eventCenter.emit(yo.ELEMENT_CLICK,i),o.eventCenter.emit(yo.NODE_CLICK,i))}}})),Kv(Yv(t),"handleContextMenu",(function(e){e.preventDefault();var n=t.props,r=n.model,o=n.graphModel,i=r.getData(),a=o.getPointByClient({x:e.clientX,y:e.clientY});o.setElementStateById(r.id,co.SHOW_MENU,a.domOverlayPosition),r.isSelected||o.selectNodeById(r.id),o.eventCenter.emit(yo.NODE_CONTEXTMENU,{data:i,e:e,position:a}),t.toFront()})),Kv(Yv(t),"handleMouseDown",(function(e){var n=t.props,r=n.model,o=n.graphModel;t.startTime=(new Date).getTime(),o.editConfigModel.adjustNodePosition&&r.draggable&&t.stepDrag&&t.stepDrag.handleMouseDown(e)})),Kv(Yv(t),"setHoverON",(function(e){var n=t.props,r=n.model,o=n.graphModel;if(!r.isHovered){var i=r.getData();r.setHovered(!0),o.eventCenter.emit(yo.NODE_MOUSEENTER,{data:i,e:e})}})),Kv(Yv(t),"setHoverOFF",(function(e){var n=t.props,r=n.model,o=n.graphModel,i=r.getData();r.isHovered&&(r.setHovered(!1),o.eventCenter.emit(yo.NODE_MOUSELEAVE,{data:i,e:e}))})),Kv(Yv(t),"onMouseOut",(function(e){Pv&&t.setHoverOFF(e)}));var n=e.graphModel,r=n.gridSize,s=n.eventCenter,u=e.model;return t.stepDrag=new Vu({onDragStart:t.onDragStart,onDragging:t.onDragging,onDragEnd:t.onDragEnd,step:r,eventType:"NODE",isStopPropagation:!1,eventCenter:s,model:u}),t.modelDisposer=Object(o.F)((function(){return t.props}),(function(e){e&&e.model&&t.stepDrag.setModel(e.model)})),t}return t=a,r=[{key:"getModel",value:function(e){return e}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(e){return null}},{key:"getAnchors",value:function(){var e=this,t=this.props,n=t.model,r=t.graphModel,o=n.isSelected,i=n.isHitable,a=n.isDragging,s=n.isShowAnchor;return i&&(o||s)&&!a?hr(n.anchors,(function(t,o){var i=n.getAnchorLineStyle(t),a=n.getAnchorStyle(t);return Object(ee.g)(sv,{anchorData:t,node:e,style:a,edgeStyle:i,anchorIndex:o,nodeModel:n,graphModel:r,setHoverOFF:e.setHoverOFF})})):[]}},{key:"getRotateControl",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.isSelected,o=t.isHitable,i=t.enableRotate,a=t.isHovered,s=t.getRotateControlStyle().style;if(o&&(r||a)&&i)return Object(ee.g)(Bv,{graphModel:n,nodeModel:t,eventCenter:n.eventCenter,style:s})}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===co.TEXT_EDIT)return"";if(t.text){var r=n.editConfigModel,o=!1;return(t.text.draggable||r.nodeTextDraggable)&&(o=!0),Object(ee.g)(Ev,{editable:r.nodeTextEdit&&t.text.editable,model:t,graphModel:n,draggable:o})}}},{key:"getStateClassName",value:function(){var e=this.props.model,t=e.state,n=e.isDragging,r=e.isSelected,o="lf-node";switch(t){case co.ALLOW_CONNECT:o+=" lf-node-allow";break;case co.NOT_ALLOW_CONNECT:o+=" lf-node-not-allow";break;default:o+=" lf-node-default"}return n&&(o+=" lf-isDragging"),r&&(o+=" lf-node-selected"),o}},{key:"toFront",value:function(){var e=this.props,t=e.model,n=e.graphModel;t.autoToFront&&n.toFront(t.id)}},{key:"render",value:function(){var e,t=this.props,n=t.model,r=t.graphModel,o=r.editConfigModel,i=o.hideAnchors,a=o.adjustNodePosition,s=o.allowRotation,u=r.gridSize,l=r.transformModel.SCALE_X,c=n.isHitable,f=n.draggable,p=n.transform,d=n.getOuterGAttributes(),h=d.className,y=void 0===h?"":h,v=$v(d,zv),g=Object(ee.g)("g",{className:"lf-node-content"},Object(ee.g)("g",{transform:p},this.getShape(),this.getText(),s&&this.getRotateControl()),!i&&this.getAnchors());return c?(a&&f&&this.stepDrag.setStep(u*l),e=Object(ee.g)("g",qv({className:"".concat(this.getStateClassName()," ").concat(y),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},v),g)):e=Object(ee.g)("g",qv({className:"".concat(this.getStateClassName()," ").concat(y)},v),g),e}}])&&Wv(t.prototype,n),r&&Wv(t,r),a}(ee.a);function Qv(e){return Qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(e)}function eg(){return eg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eg.apply(this,arguments)}function tg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rg(e,t){return rg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rg(e,t)}function og(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ag(e);if(t){var o=ag(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ig(this,n)}}function ig(e,t){if(t&&("object"===Qv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ag(e){return ag=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ag(e)}var sg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rg(e,t)}(i,e);var t,n,r,o=og(i);function i(){return tg(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object(ee.g)(hf,eg({},t,{x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius}))}}])&&ng(t.prototype,n),r&&ng(t,r),i}(Zv);function ug(e){return ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(e)}function lg(){return lg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lg.apply(this,arguments)}function cg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pg(e,t){return pg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pg(e,t)}function dg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yg(e);if(t){var o=yg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hg(this,n)}}function hg(e,t){if(t&&("object"===ug(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yg(e){return yg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yg(e)}var vg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pg(e,t)}(i,e);var t,n,r,o=dg(i);function i(){return cg(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.r,o=e.getNodeStyle();return Object(ee.g)(Nf,lg({},o,{x:t,y:n,r:r}))}}])&&fg(t.prototype,n),r&&fg(t,r),i}(Zv);function gg(e){return gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(e)}function bg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _g(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach((function(e){var t=bg(e,2),n=t[0],o=t[1];"object"!==gg(o)&&(r[n]=o)})),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map((function(e){return e.join(",")})).join(" "),Object(ee.g)("polygon",r)}function Og(e){return Og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(e)}function wg(){return wg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(this,arguments)}function xg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sg(e,t){return Sg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sg(e,t)}function Eg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kg(e);if(t){var o=kg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pg(this,n)}}function Pg(e,t){if(t&&("object"===Og(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kg(e)}var Tg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sg(e,t)}(i,e);var t,n,r,o=Eg(i);function i(){return xg(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.points,a=e.getNodeStyle(),s={transform:"matrix(1 0 0 1 ".concat(t-r/2," ").concat(n-o/2,")")};return Object(ee.g)("g",s,Object(ee.g)(_g,wg({},a,{points:i,x:t,y:n})))}}])&&jg(t.prototype,n),r&&jg(t,r),i}(Zv);function Dg(e){return Dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(e)}function Ng(){return Ng=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(this,arguments)}function Cg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mg(e,t){return Mg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mg(e,t)}function Ig(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lg(e);if(t){var o=Lg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rg(this,n)}}function Rg(e,t){if(t&&("object"===Dg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lg(e)}var Bg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mg(e,t)}(i,e);var t,n,r,o=Ig(i);function i(){return Cg(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object(ee.g)("g",null,Object(ee.g)(_g,Ng({},t,{points:e.points,x:e.x,y:e.y})))}}])&&Ag(t.prototype,n),r&&Ag(t,r),i}(Zv);function Fg(e){return Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(e)}function zg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $g(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.rx,a=void 0===i?4:i,s=e.ry,u=void 0===s?4:s,l=e.className,c={cx:n,cy:o,rx:a,ry:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach((function(e){var t=zg(e,2),n=t[0],r=t[1];"object"!==Fg(r)&&(c[n]=r)})),c.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(ee.g)("ellipse",c)}function Hg(e){return Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(e)}function Ug(){return Ug=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ug.apply(this,arguments)}function Wg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gg(e,t){return Gg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gg(e,t)}function Xg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jg(e);if(t){var o=Jg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yg(this,n)}}function Yg(e,t){if(t&&("object"===Hg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Jg(e){return Jg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jg(e)}var Kg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gg(e,t)}(i,e);var t,n,r,o=Xg(i);function i(){return Wg(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var e=this.props.model,t=e.getNodeStyle();return Object(ee.g)($g,Ug({},t,{x:e.x,y:e.y,rx:e.rx,ry:e.ry}))}}])&&Vg(t.prototype,n),r&&Vg(t,r),i}(Zv);function Zg(e){return Zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(e)}function Qg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qg(Object(n),!0).forEach((function(t){tb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ob(e,t){return ob=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ob(e,t)}function ib(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sb(e);if(t){var o=sb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ab(this,n)}}function ab(e,t){if(t&&("object"===Zg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sb(e)}var ub=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ob(e,t)}(i,e);var t,n,r,o=ib(i);function i(){return nb(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getBackground",value:function(){var e=this.props.model,t=e.getTextStyle(),n=e.width,r=e.height,o=e.x,i=e.y,a=eb(eb({},t.background),{},{x:o,y:i-1,width:n,height:r});return Object(ee.g)(hf,a)}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getBackground())}}])&&rb(t.prototype,n),r&&rb(t,r),i}(Zv);function lb(e){return lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(e)}function cb(){return cb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cb.apply(this,arguments)}function fb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function db(e,t){return db=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},db(e,t)}function hb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gb(e);if(t){var o=gb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yb(this,n)}}function yb(e,t){if(t&&("object"===lb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vb(e)}function vb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gb(e)}function bb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&db(e,t)}(i,e);var t,n,r,o=hb(i);function i(){var e;fb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bb(vb(e=o.call.apply(o,[this].concat(n))),"ref",void 0),bb(vb(e),"currentProperties",void 0),bb(vb(e),"preProperties",void 0),bb(vb(e),"setRef",(function(t){e.ref=t})),e}return t=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(e){e.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.height,o=e.width,i=e.getNodeStyle();return this.currentProperties=JSON.stringify(e.properties),Object(ee.g)("foreignObject",cb({},i,{x:t-o/2,y:n-r/2,width:o,height:r,ref:this.setRef}))}}])&&pb(t.prototype,n),r&&pb(t,r),i}(Zv);function _b(e){return _b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(e)}function Ob(){return Ob=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(this,arguments)}function wb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wb(Object(n),!0).forEach((function(t){Db(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sb(e,t){return Sb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sb(e,t)}function Eb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tb(e);if(t){var o=Tb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pb(this,n)}}function Pb(e,t){if(t&&("object"===_b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kb(e)}function kb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tb(e)}function Db(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sb(e,t)}(i,e);var t,n,r,o=Eb(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Db(kb(t=o.call(this,e)),"setHoverON",(function(){t.setState({isHovered:!0})})),Db(kb(t),"setHoverOFF",(function(){t.setState({isHovered:!1})})),t.state={isHovered:!1},t}return t=i,(n=[{key:"getBackground",value:function(){var e=this.props.model,t=e.getTextStyle(),n=e.text,r=e.width,o=t.background||{};if(this.state.isHovered&&t.hover&&t.hover.background&&(o=xb(xb({},o),t.hover.background)),n&&n.value&&"transparent"!==o.fill){var i,a=t.fontSize,s=t.overflowMode,u=t.lineHeight,l=t.wrapPadding,c=t.textWidth,f=n.value,p=n.x,d=n.y,h=String(f).split(/[\r\n]/g),y=h.length;if("autoWrap"===s&&c){var v=$a({rows:h,style:{fontSize:"".concat(a,"px"),width:"".concat(c,"px"),lineHeight:u,padding:l},rowsLength:y,className:"lf-get-text-height"});i=xb(xb({},o),{},{x:p-1,y:d-1,width:c,height:v})}else{var g=0;h&&h.forEach((function(e){var t=Nu(e);g=t>g?t:g}));var b=Ha({rows:h,fontSize:a,rowsLength:y}),m=b.width,_=b.height;if("ellipsis"===s&&(m=c||r,_=a+2),"string"==typeof o.wrapPadding){var O=o.wrapPadding.split(",").filter((function(e){return e.trim()})).map((function(e){return parseFloat(e.trim())}));O.length>0&&O.length<=4&&(1===O.length?O=[O[0],O[0],O[0],O[0]]:2===O.length?O=[O[0],O[1],O[0],O[1]]:3===O.length&&(O=[O[0],O[1],O[2],O[1]]),m+=O[1]+O[3],_+=O[0]+O[2],p+=(O[1]-O[3])/2,d+=(O[2]-O[0])/2)}i=xb(xb({},o),{},{x:p-1,y:d-1,width:m,height:_})}return Object(ee.g)(hf,i)}}},{key:"getShape",value:function(){var e=this.props.model,t=e.text,n=t.value,r=t.x,o=t.y;if(n){var i=xb({x:r,y:o,className:"lf-element-text",value:n},e.getTextStyle());return Object(ee.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ee.g)(hv,Ob({},i,{model:e})))}}}])&&jb(t.prototype,n),r&&jb(t,r),i}(Ev);function Cb(e){return Cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(e)}var Ab,Mb=["text","sourceAnchorId","targetAnchorId"];function Ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ib(Object(n),!0).forEach((function(t){Vb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Bb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qb(e,t){return qb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qb(e,t)}function $b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wb(e);if(t){var o=Wb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hb(this,n)}}function Hb(e,t){if(t&&("object"===Cb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ub(e)}function Ub(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wb(e)}function Vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Ab||(Ab={}));var Gb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qb(e,t)}(i,e);var t,n,r,o=$b(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Vb(Ub(t=o.call(this)),"stepDragData",void 0),Vb(Ub(t),"stepDrag",void 0),Vb(Ub(t),"oldEdge",void 0),Vb(Ub(t),"preTargetNode",void 0),Vb(Ub(t),"targetRuleResults",void 0),Vb(Ub(t),"sourceRuleResults",void 0),Vb(Ub(t),"handleMouseDown",(function(e){t.stepDrag&&t.stepDrag.handleMouseDown(e)})),Vb(Ub(t),"onDragStart",(function(){var e=t.props,n=e.x,r=e.y,o=e.edgeModel,i=o.startPoint,a=o.endPoint,s=o.pointsList;t.oldEdge={startPoint:i,endPoint:a,pointsList:s},t.setState({endX:n,endY:r,dragging:!0})})),Vb(Ub(t),"onDragging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.state,i=o.endX,a=o.endY,s=t.props,u=s.graphModel,l=s.type,c=u.transformModel,f=u.editConfigModel,p=Bb(c.moveCanvasPointByHtml([i,a],n,r),2),d=p[0],h=p[1];t.setState({endX:d,endY:h,dragging:!0});var y=t.props.edgeModel,v=Da({x:i,y:a},u);if(v&&v.node&&t.isAllowAdjust(v).pass){var g,b=y.startPoint,m=y.endPoint,_=y.sourceNode,O=y.targetNode;l===Ab.SOURCE?g={startPoint:{x:v.anchor.x,y:v.anchor.y},endPoint:{x:m.x,y:m.y},sourceNode:v.node,targetNode:O}:l===Ab.TARGET&&(g={startPoint:{x:b.x,y:b.y},endPoint:{x:v.anchor.x,y:v.anchor.y},sourceNode:_,targetNode:v.node}),y.updateAfterAdjustStartAndEnd(g)}else l===Ab.SOURCE?y.updateStartPoint({x:d,y:h}):l===Ab.TARGET&&y.updateEndPoint({x:d,y:h});y.text.value&&f.adjustEdge&&y.setText(Object.assign({},y.text,y.textPosition))})),Vb(Ub(t),"onDragEnd",(function(e){var n=e.event;try{var r;t.setState({dragging:!1});var o=t.props,i=o.graphModel,a=o.edgeModel,s=o.type,u=t.state,l=u.endX,c=u.endY,f=u.dragging,p=Da({x:l,y:c},i);if(!f)return;var d,h=!1;if(p&&p.node){var y=t.isAllowAdjust(p),v=y.pass,g=y.msg,b=y.newTargetNode;if(v){var m=a.getData(),_=m.text,O=m.sourceAnchorId,w=void 0===O?"":O,x=m.targetAnchorId;d=Rb(Rb({sourceAnchorId:w,targetAnchorId:void 0===x?"":x},Lb(m,Mb)),{},{text:(null==_?void 0:_.value)||""}),s===Ab.SOURCE?(d=Rb(Rb({},i.edgeGenerator(i.getNodeModelById(p.node.id).getData(),i.getNodeModelById(a.targetNodeId).getData(),d)),{},{sourceNodeId:p.node.id,sourceAnchorId:p.anchor.id,startPoint:{x:p.anchor.x,y:p.anchor.y},targetNodeId:a.targetNodeId,endPoint:Rb({},a.endPoint)}),a.sourceNodeId===p.node.id&&a.sourceAnchorId===p.anchor.id&&(h=!0)):s===Ab.TARGET&&(d=Rb(Rb({},i.edgeGenerator(i.getNodeModelById(a.sourceNodeId).getData(),i.getNodeModelById(p.node.id).getData(),d)),{},{sourceNodeId:a.sourceNodeId,startPoint:Rb({},a.startPoint),targetNodeId:p.node.id,targetAnchorId:p.anchor.id,endPoint:{x:p.anchor.x,y:p.anchor.y}}),a.targetNodeId===p.node.id&&a.targetAnchorId===p.anchor.id&&(h=!0))}else{h=!0;var j=b.getData();i.eventCenter.emit(yo.CONNECTION_NOT_ALLOWED,{data:j,msg:g})}}else h=!0;if(h)t.recoveryEdge();else{var S=a.getData();i.deleteEdgeById(a.id);var E=i.addEdge(Rb({},d));i.eventCenter.emit(yo.EDGE_EXCHANGE_NODE,{data:{newEdge:E.getData(),oldEdge:S}})}null===(r=t.preTargetNode)||void 0===r||r.setElementState(co.DEFAULT)}finally{t.props.graphModel.eventCenter.emit(yo.ADJUST_POINT_DRAGEND,{e:n,data:t.stepDragData})}})),Vb(Ub(t),"recoveryEdge",(function(){var e=t.props.edgeModel,n=t.oldEdge,r=n.startPoint,o=n.endPoint,i=n.pointsList;e.updateStartPoint(r),e.updateEndPoint(o),e.modelType!==po.LINE_EDGE&&(e.pointsList=i,e.initPoints())})),Vb(Ub(t),"getAdjustPointStyle",(function(){var e=t.props,n=e.graphModel.theme;return e.edgeModel,n.edgeAdjust})),t.state={dragging:!1,endX:0,endY:0},t.targetRuleResults=new Map,t.sourceRuleResults=new Map;var n=e.type,r=e.edgeModel,a=e.graphModel.eventCenter;return t.stepDragData={type:n,edgeData:r.getData()},t.stepDrag=new Vu({onDragStart:t.onDragStart,onDragging:t.onDragging,onDragEnd:t.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:a,data:t.stepDragData}),t}return t=i,(n=[{key:"isAllowAdjust",value:function(e){var t=this.props,n=t.edgeModel,r=n.id,o=n.sourceNode,i=n.targetNode,a=n.sourceAnchorId,s=n.targetAnchorId,u=t.type,l=null,c=null,f=null,p=null;if(u===Ab.SOURCE?(l=e.node,c=i,f=e.anchor,p=i.getAnchorInfo(s)):(l=o,c=e.node,p=e.anchor,f=o.getAnchorInfo(a)),this.preTargetNode&&this.preTargetNode!==e.node&&this.preTargetNode.setElementState(co.DEFAULT),this.preTargetNode=e.node,p.id===f.id)return{pass:!1,msg:"",newTargetNode:c};var d="".concat(l.id,"_").concat(c.id,"_").concat(f.id,"_").concat(p.id);if(!this.targetRuleResults.has(d)){var h=l.isAllowConnectedAsSource(c,f,p,r),y=c.isAllowConnectedAsTarget(l,f,p,r);this.sourceRuleResults.set(d,Ua(h)),this.targetRuleResults.set(d,Ua(y))}var v=this.sourceRuleResults.get(d),g=v.isAllPass,b=v.msg,m=this.targetRuleResults.get(d),_=m.isAllPass,O=m.msg,w=g&&_?co.ALLOW_CONNECT:co.NOT_ALLOW_CONNECT;return u===Ab.SOURCE?l.setElementState(w):c.setElementState(w),{pass:g&&_,msg:O||b,newTargetNode:c}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.getAdjustPointShape,o=e.edgeModel,i=this.state.dragging;return Object(ee.g)("g",{pointerEvents:i?"none":"",onMouseDown:this.handleMouseDown},i?"":r(t,n,o))}}])&&zb(t.prototype,n),r&&zb(t,r),i}(ee.a);function Xb(e){return Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(e)}function Yb(){return Yb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(this,arguments)}function Jb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function em(e,t){return em=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},em(e,t)}function tm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=om(e);if(t){var o=om(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nm(this,n)}}function nm(e,t){if(t&&("object"===Xb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rm(e)}function rm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function om(e){return om=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},om(e)}function im(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var am=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&em(e,t)}(i,e);var t,n,r,o=tm(i);function i(){var e;Zb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return im(rm(e=o.call.apply(o,[this].concat(n))),"startTime",void 0),im(rm(e),"contextMenuTime",void 0),im(rm(e),"clickTimer",void 0),im(rm(e),"textRef",Object(ee.f)()),im(rm(e),"handleHover",(function(t,n){var r=e.props,o=r.model,i=r.graphModel.eventCenter;o.setHovered(t);var a=t?yo.EDGE_MOUSEENTER:yo.EDGE_MOUSELEAVE,s=o.getData();i.emit(a,{data:s,e:n})})),im(rm(e),"setHoverON",(function(t){e.props.model.isHovered||(e.textRef&&e.textRef.current&&e.textRef.current.setHoverON(),e.handleHover(!0,t))})),im(rm(e),"setHoverOFF",(function(t){e.props.model.isHovered&&(e.textRef&&e.textRef.current&&e.textRef.current.setHoverOFF(),e.handleHover(!1,t))})),im(rm(e),"handleContextMenu",(function(t){t.preventDefault(),e.contextMenuTime=(new Date).getTime(),e.clickTimer&&clearTimeout(e.clickTimer);var n=e.props,r=n.model,o=n.graphModel,i=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(r.id,co.SHOW_MENU,i.domOverlayPosition),e.toFront(),r.isSelected||o.selectEdgeById(r.id);var a=null==r?void 0:r.getData();o.eventCenter.emit(yo.EDGE_CONTEXTMENU,{data:a,e:t,position:i})})),im(rm(e),"handleMouseDown",(function(t){t.stopPropagation(),e.startTime=(new Date).getTime()})),im(rm(e),"handleMouseUp",(function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200||2===t.button)){var n=2===t.detail,r=e.props,o=r.model,i=r.graphModel,a=null==o?void 0:o.getData(),s=i.getPointByClient({x:t.clientX,y:t.clientY});if(n){var u=i.editConfigModel,l=i.textEditElement;if(l&&l.id===o.id&&i.setElementStateById(o.id,co.DEFAULT),u.edgeTextEdit&&o.text.editable&&i.setElementStateById(o.id,co.TEXT_EDIT),o.modelType===po.POLYLINE_EDGE){var c=o,f=i.getPointByClient({x:t.x,y:t.y}).canvasOverlayPosition,p=f.x,d=f.y,h=Fu({x:p,y:d},c.points);c.dbClickPosition=h}i.eventCenter.emit(yo.EDGE_DBCLICK,{data:a,e:t,position:s})}else i.eventCenter.emit(yo.ELEMENT_CLICK,{data:a,e:t,position:s}),i.eventCenter.emit(yo.EDGE_CLICK,{data:a,e:t,position:s});var y=i.editConfigModel;i.selectEdgeById(o.id,Vi(t,y)),e.toFront()}})),e}return t=i,(n=[{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===co.TEXT_EDIT)return null;var r=!1,o=n.editConfigModel;return(t.text.draggable||o.edgeTextDraggable)&&(r=!0),Object(ee.g)(Nb,{ref:this.textRef,editable:o.edgeTextEdit&&t.text.editable,model:t,graphModel:n,draggable:r})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=e.isSelected;return{start:t,end:n,hover:this.state.hover,isSelected:r}}},{key:"getLastTwoPoints",value:function(){var e=this.props.model;return[e.startPoint,e.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var e=this.props.model,t=e.id,n=e.getArrowStyle(),r=n.refY,o=void 0===r?0:r,i=n.refX,a=void 0===i?2:i,s=Jb(this.getLastTwoPoints(),2),u=s[0],l=s[1],c="auto";return null!==u&&null!==l&&(c=$s(qs({x:l.x-u.x,y:l.y-u.y,z:0}))),Object(ee.g)("g",null,Object(ee.g)("defs",null,Object(ee.g)("marker",{id:"marker-start-".concat(t),refX:-a,refY:o,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ee.g)("marker",{id:"marker-end-".concat(t),refX:a,refY:o,overflow:"visible",orient:c,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var e=this.props.model.getArrowStyle();return e.stroke,e.strokeWidth,e.offset,e.verticalLength,Object(ee.g)("path",null)}},{key:"getEndArrow",value:function(){var e=this.props.model.getArrowStyle(),t=e.stroke,n=e.strokeWidth,r=e.offset,o=e.verticalLength;return Object(ee.g)("path",{stroke:t,fill:t,strokeWidth:n,transform:"rotate(180)",d:"M 0 0 L ".concat(r," -").concat(o," L ").concat(r," ").concat(o," Z")})}},{key:"getAdjustPointShape",value:function(e,t,n){var r=n.getAdjustPointStyle();return Object(ee.g)(Nf,Yb({className:"lf-edge-adjust-point"},r,{x:e,y:t}))}},{key:"getAdjustPoints",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=t.getAdjustStart(),o=t.getAdjustEnd();return Object(ee.g)("g",null,Object(ee.g)(Gb,Yb({type:"SOURCE"},r,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:t,graphModel:n})),Object(ee.g)(Gb,Yb({type:"TARGET"},o,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:t,graphModel:n})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ee.g)("g",null)}},{key:"getAppend",value:function(){return Object(ee.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var e=this.props,t=e.graphModel,n=e.model;t.toFront(n.id)}},{key:"render",value:function(){var e=this.props,t=e.model,n=t.isSelected,r=t.isHitable,o=t.isShowAdjustPoint;return e.graphModel.animation,Object(ee.g)("g",null,Object(ee.g)("g",{className:["lf-edge",!r&&"pointer-none",n&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),o&&n?this.getAdjustPoints():"")}}])&&Qb(t.prototype,n),r&&Qb(t,r),i}(ee.a);function sm(e){return sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(e)}function um(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cm=function(e){var t={d:""};return Object.entries(e).forEach((function(e){var n=um(e,2),r=n[0],o=n[1],i=sm(o);"style"!==r&&"object"===i||(t[r]=o)})),Object(ee.g)("path",t)};function fm(e){return fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(e)}function pm(){return pm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pm.apply(this,arguments)}function dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ym(e,t){return ym=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ym(e,t)}function vm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bm(e);if(t){var o=bm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gm(this,n)}}function gm(e,t){if(t&&("object"===fm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bm(e){return bm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bm(e)}var mm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ym(e,t)}(i,e);var t,n,r,o=vm(i);function i(){return dm(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=e.isAnimation,o=e.arrowConfig,i=e.getEdgeStyle(),a=e.getEdgeAnimationStyle(),s=a.strokeDasharray,u=a.stroke,l=a.strokeDashoffset,c=a.animationName,f=a.animationDuration,p=a.animationIterationCount,d=a.animationTimingFunction,h=a.animationDirection;return Object(ee.g)(Kc,pm({},i,{x1:t.x,y1:t.y,x2:n.x,y2:n.y},o,r?{strokeDasharray:s,stroke:u,style:{strokeDashoffset:l,animationName:c,animationDuration:f,animationIterationCount:p,animationTimingFunction:d,animationDirection:h}}:{}))}},{key:"getAppendWidth",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=Mu({start:t,end:n}),o=r.d,i=r.strokeWidth,a=r.fill,s=r.strokeDasharray,u=r.stroke;return Object(ee.g)(cm,{d:o,fill:a,strokeWidth:i,stroke:u,strokeDasharray:s})}}])&&hm(t.prototype,n),r&&hm(t,r),i}(am);function _m(e){return _m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(e)}function Om(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xm=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach((function(e){var n=Om(e,2),r=n[0],o=n[1];("style"===r||"object"!==_m(o))&&(t[r]=o)})),Object(ee.g)("polyline",t)};function jm(e){return jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(e)}function Sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sm(Object(n),!0).forEach((function(t){Rm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pm(){return Pm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pm.apply(this,arguments)}function km(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nm(e,t){return Nm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nm(e,t)}function Cm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Im(e);if(t){var o=Im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Am(this,n)}}function Am(e,t){if(t&&("object"===jm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mm(e)}function Mm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Im(e){return Im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Im(e)}function Rm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nm(e,t)}(i,e);var t,n,r,o=Cm(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Rm(Mm(e=o.call(this)),"drag",void 0),Rm(Mm(e),"isDragging",void 0),Rm(Mm(e),"isShowAdjustPointTemp",void 0),Rm(Mm(e),"appendInfo",void 0),Rm(Mm(e),"onDragStart",(function(){var t=e.props.model;t.dragAppendStart(),e.isShowAdjustPointTemp=t.isShowAdjustPoint,t.isShowAdjustPoint=!1})),Rm(Mm(e),"onDragging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.props,i=o.model,a=o.graphModel;e.isDragging=!0;var s=a.transformModel,u=a.editConfigModel,l=km(s.fixDeltaXY(n,r),2),c=l[0],f=l[1],p=i,d=u.adjustEdgeMiddle;e.appendInfo=d?p.dragAppendSimple(e.appendInfo,{x:c,y:f}):p.dragAppend(e.appendInfo,{x:c,y:f})})),Rm(Mm(e),"onDragEnd",(function(){var t=e.props,n=t.model,r=t.graphModel.eventCenter,o=n;o.dragAppendEnd(),e.isDragging=!1,o.isShowAdjustPoint=e.isShowAdjustPointTemp,e.appendInfo=void 0,r.emit(yo.EDGE_ADJUST,{data:o.getData()})})),Rm(Mm(e),"beforeDragStart",(function(t,n){n.dragAble&&e.drag.handleMouseDown(t),e.appendInfo=n})),e.drag=new Vu({onDragStart:e.onDragStart,onDragging:e.onDragging,onDragEnd:e.onDragEnd,isStopPropagation:!1}),e}return t=i,(n=[{key:"getEdge",value:function(){var e=this.props.model,t=e.points,n=e.isAnimation,r=e.arrowConfig,o=e.getEdgeStyle(),i=e.getEdgeAnimationStyle(),a=i.strokeDasharray,s=i.stroke,u=i.strokeDashoffset,l=i.animationName,c=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(ee.g)(xm,Pm({points:t},o,r,n?{strokeDasharray:a,stroke:s,style:{strokeDashoffset:u,animationName:l,animationDuration:c,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.points,n=e.isSelected,r={start:null,end:null,hover:this.state.hover,isSelected:n},o=ku(t);return o.length>=2&&(r.start=o[o.length-2],r.end=o[o.length-1]),r}},{key:"getLastTwoPoints",value:function(){var e=this.props.model.points,t=ku(e);return t.length>=2?[t[t.length-2],t[t.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Ls(Em(Em({},o),{},{type:"start"})),a=Ls(Em(Em({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(e){var t=this.getAppendAttributes(e),n=t.d,r=t.strokeWidth,o=t.fill,i=t.strokeDasharray,a=t.stroke;return Object(ee.g)(cm,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var e=this,t=this.props,n=t.model,r=t.graphModel,o=n.pointsList,i=n.draggable,a=[],s=o.length,u=function(t){var n="lf-polyline-append",u={start:{x:o[t].x,y:o[t].y},end:{x:o[t+1].x,y:o[t+1].y},startIndex:t,endIndex:t+1,direction:"",dragAble:!0},l=Object(ee.g)("g",{className:n},e.getAppendShape(u)),c=r.editConfigModel,f=c.adjustEdge,p=c.adjustEdgeMiddle;if(f&&i){var d=u.startIndex,h=u.endIndex,y=p&&(0===d||h===s-1);u.dragAble=!y,u.start.x===u.end.x?(u.dragAble&&(n+="-ew-resize"),u.direction=vo.VERTICAL):u.start.y===u.end.y&&(u.dragAble&&(n+="-ns-resize"),u.direction=vo.HORIZONTAL),l=Object(ee.g)("g",{className:e.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(t){return e.beforeDragStart(t,u)}},Object(ee.g)("g",{className:n},e.getAppendShape(u)))}a.push(l)},l=0;l<s-1;l++)u(l);return Object(ee.g)("g",null,a)}}])&&Dm(t.prototype,n),r&&Dm(t,r),i}(am);function Bm(e){return Bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(e)}function Fm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qm(){return qm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qm.apply(this,arguments)}function $m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Um(e,t){return Um=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Um(e,t)}function Wm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gm(e);if(t){var o=Gm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vm(this,n)}}function Vm(e,t){if(t&&("object"===Bm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gm(e){return Gm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gm(e)}var Xm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Um(e,t)}(i,e);var t,n,r,o=Wm(i);function i(){return $m(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var e=this.props.model,t=e.getEdgeStyle(),n=e.path,r=e.isAnimation,o=e.arrowConfig,i=e.getEdgeAnimationStyle(),a=i.strokeDasharray,s=i.stroke,u=i.strokeDashoffset,l=i.animationName,c=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(ee.g)(cm,qm({d:n},t,o,r?{strokeDasharray:a,stroke:s,style:{strokeDashoffset:u,animationName:l,animationDuration:c,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getAppendWidth",value:function(){var e=this.props.model.path;return Object(ee.g)(cm,{d:e,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=this.state.hover,n=e.isSelected,r=e.getArrowStyle().offset,o=e.pointsList.map((function(e){return{x:e.x,y:e.y}})),i=Fm(Bu(o,r),2);return{start:i[0],end:i[1],hover:t,isSelected:n}}},{key:"getLastTwoPoints",value:function(){var e=this.props.model,t=e.getArrowStyle().offset,n=e.pointsList.map((function(e){return{x:e.x,y:e.y}}));return Bu(n,t)}}])&&Hm(t.prototype,n),r&&Hm(t,r),i}(am);function Ym(e){return Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(e)}function Jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Km(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e_(e,t){return e_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e_(e,t)}function t_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=r_(e);if(t){var o=r_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return n_(this,n)}}function n_(e,t){if(t&&("object"===Ym(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r_(e){return r_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r_(e)}var o_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&e_(e,t)}(i,e);var t,n,r,o=t_(i);function i(){return Zm(this,i),o.apply(this,arguments)}return t=i,n=[{key:"getArrowAttributes",value:function(){var e=this.props,t=e.arrowInfo,n=e.style,r=t.start,o=t.end,i={start:r,end:o,offset:n.offset,verticalLength:n.verticalLength,type:"end"},a=Ls(i),s=a.leftX,u=a.leftY,l=a.rightX,c=a.rightY;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jm(Object(n),!0).forEach((function(t){Km(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({d:"M".concat(s," ").concat(u," L").concat(o.x," ").concat(o.y," L").concat(l," ").concat(c," z")},n)}},{key:"getShape",value:function(){var e=this.getArrowAttributes(),t=e.d,n=e.strokeWidth,r=e.stroke,o=e.fill;return Object(ee.g)(cm,{d:t,fill:o,strokeWidth:n,stroke:r})}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&Qm(t.prototype,n),r&&Qm(t,r),i}(ee.a),i_=function(e,t){return An(e,t)},a_=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},s_=function(){return ge.a.Date.now()},u_=/\s/,l_=function(e){for(var t=e.length;t--&&u_.test(e.charAt(t)););return t},c_=/^\s+/,f_=function(e){return e?e.slice(0,l_(e)+1).replace(c_,""):e},p_=/^[-+]0x[0-9a-f]+$/i,d_=/^0b[01]+$/i,h_=/^0o[0-7]+$/i,y_=parseInt,v_=function(e){if("number"==typeof e)return e;if(Fn(e))return NaN;if(ke(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ke(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=f_(e);var n=d_.test(e);return n||h_.test(e)?y_(e.slice(2),n?2:8):p_.test(e)?NaN:+e},g_=Math.max,b_=Math.min,m_=function(e,t,n){var r,o,i,a,s,u,l=0,c=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n)}function h(e){return l=e,s=setTimeout(v,t),c?d(e):a}function y(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=i}function v(){var e=s_();if(y(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-u);return f?b_(n,i-(e-l)):n}(e))}function g(e){return s=void 0,p&&r?d(e):(r=o=void 0,a)}function b(){var e=s_(),n=y(e);if(r=arguments,o=this,u=e,n){if(void 0===s)return h(u);if(f)return clearTimeout(s),s=setTimeout(v,t),d(u)}return void 0===s&&(s=setTimeout(v,t)),a}return t=v_(t)||0,ke(n)&&(c=!!n.leading,i=(f="maxWait"in n)?g_(v_(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=o=s=void 0},b.flush=function(){return void 0===s?a:g(s_())},b},__=n(172);function O_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x_,j_,S_,E_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w_(this,"undos",[]),w_(this,"redos",[]),w_(this,"callbacks",[]),w_(this,"stopWatch",null),w_(this,"curData",null),w_(this,"maxSize",50),w_(this,"waitTime",100),w_(this,"eventCenter",void 0),this.eventCenter=t}var t,n,r;return t=e,(n=[{key:"add",value:function(e){i_(a_(this.undos),e)||(this.undos.push(e),i_(this.curData,e)||(this.redos=[]),this.eventCenter.emit(yo.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var t=this.undos.pop();return this.curData=wi(t),t}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=wi(e),e}}},{key:"watch",value:function(e){var t=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=Object(__.a)(e,m_((function(){var n=e.modelToHistoryData();n&&t.add(n)}),this.waitTime))}}])&&O_(t.prototype,n),r&&O_(t,r),e}();function P_(e){return P_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P_(e)}function k_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D_(Object(n),!0).forEach((function(t){B_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A_(e,t){return A_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A_(e,t)}function M_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L_(e);if(t){var o=L_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I_(this,n)}}function I_(e,t){if(t&&("object"===P_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R_(e)}function R_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L_(e){return L_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L_(e)}function B_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F_,z_,q_,$_=jO((S_=j_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A_(e,t)}(i,e);var t,n,r,o=M_(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),B_(R_(e=o.call(this)),"ref",Object(ee.f)()),B_(R_(e),"__prevText",{type:"",text:"",id:""}),B_(R_(e),"keyupHandler",(function(t){var n=e.props.graphModel.textEditElement;"Enter"===t.key&&t.altKey&&n.setElementState(0)})),B_(R_(e),"inputHandler",(function(t){var n=t.target.innerText,r=e.props.graphModel.textEditElement;e.__prevText={type:r.type,text:n.replace(/(\r\n)+$|(\n)+$/,""),id:r.id}})),B_(R_(e),"keydownHandler",(function(e){e.stopPropagation()})),e.state={style:{left:0,top:0}},e}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e){var t,n=e.graphModel,r=n.transformModel,o=n.theme,i=o.inputText,a=n.textEditElement;if(a){var s;if(null===(s=a.text)||void 0===s||!s.value)if(a.BaseType===ho.EDGE){var u=(a=a).text,l=a.textPosition,c=l.x,f=l.y;u.x=c,u.y=f,a.setText(u)}else a=a;var p={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(a.BaseType===ho.EDGE){var d=o.edgeText,h=d.overflowMode,y=d.lineHeight,v=d.wrapPadding,g=d.textWidth;g&&"autoWrap"===h&&(t=N_(N_({},p),{},{width:g,minWidth:g,lineHeight:y,padding:v}))}else if(a.BaseType===ho.NODE){var b=o.nodeText,m=b.overflowMode,_=b.lineHeight,O=b.wrapPadding,w=b.textWidth,x=a,j=x.width,S=x.modelType,E=x.textWidth||w||j;(S!==po.TEXT_NODE&&"autoWrap"===m||S===po.TEXT_NODE&&w)&&(t=N_(N_({},p),{},{width:E,minWidth:E,lineHeight:_,padding:O}))}var P=a.text,k=P.x,T=P.y,D=k_(r.CanvasPointToHtmlPoint([k,T]),2);return{style:N_(N_({left:D[0],top:D[1]},t),i)}}}}],(n=[{key:"componentDidUpdate",value:function(){var e=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var t=this.__prevText,n=t.text,r=t.id;e.updateText(r,n),e.eventCenter.emit(yo.TEXT_UPDATE,N_({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}},{key:"render",value:function(){var e,t=this.props.graphModel.textEditElement,n=this.state.style;return t?Object(ee.g)("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:t.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},null===(e=t.text)||void 0===e?void 0:e.value):null}}])&&C_(t.prototype,n),r&&C_(t,r),i}(ee.a),B_(j_,"toolName","textEdit"),x_=S_))||x_,H_=function(e){return e.modelType===po.LINE_EDGE?function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,o=(t.y+n.y)/2,i=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10;return{x:r-i/2,y:o-a/2,x1:r+i/2,y1:o+a/2}}(e):e.modelType===po.POLYLINE_EDGE?function(e){var t=e.points,n=ku(t),r=iu(n,8),o=r.x,i=r.y,a=r.width,s=r.height;return{x:o-a/2,y:i-s/2,x1:o+a/2,y1:i+s/2}}(e):e.modelType===po.BEZIER_EDGE?function(e){var t=e.path,n=Ru(t),r=iu(n,8),o=r.x,i=r.y,a=r.width,s=r.height;return{x:o-a/2,y:i-s/2,x1:o+a/2,y1:i+s/2}}(e):void 0};function U_(e){return U_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U_(e)}function W_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||G_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V_(e){return function(e){if(Array.isArray(e))return X_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G_(e,t){if(e){if("string"==typeof e)return X_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X_(e,t):void 0}}function X_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J_(e,t){return J_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},J_(e,t)}function K_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eO(e);if(t){var o=eO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z_(this,n)}}function Z_(e,t){if(t&&("object"===U_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Q_(e)}function Q_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(e){return eO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eO(e)}function tO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nO=jO((q_=z_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J_(e,t)}(i,e);var t,n,r,o=K_(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),tO(Q_(t=o.call(this)),"stepDrag",void 0),tO(Q_(t),"handleMouseDown",(function(e){t.stepDrag.handleMouseDown(e)})),tO(Q_(t),"onDragging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props.graphModel,i=o.getSelectElements(!0);o.moveNodes(i.nodes.map((function(e){return e.id})),n,r)})),tO(Q_(t),"handleContextMenu",(function(e){e.preventDefault();var n=t.props,r=n.graphModel,o=n.graphModel,i=o.eventCenter,a=o.selectElements,s=r.getPointByClient({x:e.clientX,y:e.clientY}),u={nodes:[],edges:[]};V_(a.values()).forEach((function(e){e.BaseType===ho.NODE&&u.nodes.push(e.getData()),e.BaseType===ho.EDGE&&u.edges.push(e.getData())})),i.emit(yo.SELECTION_CONTEXTMENU,{data:u,e:e,position:s})}));var n=e.graphModel,r=n.gridSize,a=n.eventCenter;return t.stepDrag=new Vu({onDragging:t.onDragging,step:r,eventType:"SELECTION",eventCenter:a}),t}return t=i,(n=[{key:"render",value:function(){var e=this.props.graphModel,t=e.selectElements,n=e.transformModel;if(!(t.size<=1)){var r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;t.forEach((function(e){var t={x:0,y:0,x1:0,y1:0};e.BaseType===ho.NODE&&(t=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{x:t-r/2,y:n-o/2,x1:t+r/2,y1:n+o/2}}(e)),e.BaseType===ho.EDGE&&(t=H_(e)),r=Math.min(r,t.x),o=Math.min(o,t.y),i=Math.max(i,t.x1),a=Math.max(a,t.y1)}));var s=W_(n.CanvasPointToHtmlPoint([r,o]),2);r=s[0],o=s[1];var u=W_(n.CanvasPointToHtmlPoint([i,a]),2);i=u[0],a=u[1];var l={left:"".concat(r-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-r+20,"px"),height:"".concat(a-o+20,"px")};return Object(ee.g)("div",{className:"lf-multiple-select",style:l,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Y_(t.prototype,n),r&&Y_(t,r),i}(ee.a),tO(z_,"toolName","multipleSelect"),F_=q_))||F_;function rO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iO=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oO(this,"tools",void 0),oO(this,"components",void 0),oO(this,"toolMap",new Map),oO(this,"instance",void 0),this.instance=t,this.isDisabledTool($_.toolName)||this.registerTool($_.toolName,$_),this.isDisabledTool(nO.toolName)||this.registerTool(nO.toolName,nO);var n=t.graphModel;n.eventCenter.on("".concat(yo.GRAPH_TRANSFORM,",").concat(yo.NODE_CLICK,",").concat(yo.BLANK_CLICK," "),(function(){var e=n.textEditElement,t=n.editConfigModel,r=t.edgeTextEdit,o=t.nodeTextEdit;(r||o)&&e&&n.textEditElement.setElementState(co.DEFAULT)}))}var t,n,r;return t=e,(n=[{key:"isDisabledTool",value:function(e){return-1!==this.instance.options.disabledTools.indexOf(e)}},{key:"registerTool",value:function(e,t){this.toolMap.set(e,t)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&rO(t.prototype,n),r&&rO(t,r),e}(),aO=n(173),sO=n.n(aO);function uO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cO=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lO(this,"mousetrap",void 0),lO(this,"options",void 0),lO(this,"target",void 0),t.keyboard||(t.keyboard={enabled:!1}),this.options=t;var n=t.lf;this.target=n.container,this.mousetrap=new sO.a(this.target),t.keyboard.enabled&&this.enable(!0)}var t,n,r;return t=e,(n=[{key:"initShortcuts",value:function(){var e=this,t=this.options.keyboard.shortcuts;if(t)if(Pt(t))t.forEach((function(t){var n=t.keys,r=t.callback,o=t.action;return e.on(n,r,o)}));else{var n=t.keys,r=t.callback,o=t.action;this.on(n,r,o)}}},{key:"on",value:function(e,t,n){this.mousetrap.bind(this.getKeys(e),t,n)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(e,t){this.mousetrap.unbind(this.getKeys(e),t)}},{key:"enable",value:function(e){(this.disabled||e)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(e){var t=this;return(Array.isArray(e)?e:[e]).map((function(e){return t.formatKey(e)}))}},{key:"formatKey",value:function(e){return e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&uO(t.prototype,n),r&&uO(t,r),e}(),fO=cO,pO=null;function dO(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function hO(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach((function(e){e.x+=t,e.y+=t})),e.text&&(e.text.x+=t,e.text.y+=t),e}var yO=40,vO=40;function gO(e){return gO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gO(e)}function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bO(Object(n),!0).forEach((function(t){OO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wO=Symbol("plugin register by Logicflow.use"),xO=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),OO(this,"container",void 0),OO(this,"width",void 0),OO(this,"height",void 0),OO(this,"graphModel",void 0),OO(this,"history",void 0),OO(this,"viewMap",new Map),OO(this,"tool",void 0),OO(this,"keyboard",void 0),OO(this,"dnd",void 0),OO(this,"options",void 0),OO(this,"snaplineModel",void 0),OO(this,"components",[]),OO(this,"plugins",void 0),OO(this,"extension",{}),OO(this,"adapterIn",void 0),OO(this,"adapterOut",void 0),OO(this,"getView",(function(e){return o.viewMap.get(e)})),t=mp(t),this.options=t,this.container=this.initContainer(t.container),this.plugins=t.plugins,this.graphModel=new uc(mO({},t)),this.tool=new iO(this),this.history=new E_(this.graphModel.eventCenter),this.dnd=new bp({lf:this}),this.keyboard=new fO({lf:this,keyboard:t.keyboard}),!1!==t.snapline&&(this.snaplineModel=new Uy(this.graphModel),n=this.graphModel.eventCenter,r=this.snaplineModel,n.on("node:mousemove",(function(e){var t=e.data;r.setNodeSnapLine(t)})),n.on("node:mouseup",(function(){r.clearSnapline()}))),this.options.isSilentMode||(function(e,t){var n=e.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],(function(){if(vO=yO,!r.enabled)return!0;if(t.textEditElement)return!0;var n=e.options.guards,o=t.getSelectElements(!1);return n&&n.beforeClone&&!n.beforeClone(o)||0===o.nodes.length&&0===o.edges.length?(pO=null,!0):((pO=o).nodes.forEach((function(e){return dO(e,yO)})),pO.edges.forEach((function(e){return hO(e,yO)})),!1)})),n.on(["cmd + v","ctrl + v"],(function(){if(!r.enabled)return!0;if(t.textEditElement)return!0;if(pO&&(pO.nodes||pO.edges)){e.clearSelectElements();var n=e.addElements(pO,vO);if(!n)return!0;n.nodes.forEach((function(t){return e.selectElementById(t.id,!0)})),n.edges.forEach((function(t){return e.selectElementById(t.id,!0)})),pO.nodes.forEach((function(e){return dO(e,yO)})),pO.edges.forEach((function(e){return hO(e,yO)})),vO+=yO}return!1})),n.on(["cmd + z","ctrl + z"],(function(){return!r.enabled||!!t.textEditElement||(e.undo(),!1)})),n.on(["cmd + y","ctrl + y"],(function(){return!r.enabled||!!t.textEditElement||(e.redo(),!1)})),n.on(["backspace"],(function(){if(!r.enabled)return!0;if(t.textEditElement)return!0;var n=t.getSelectElements(!0);return e.clearSelectElements(),n.edges.forEach((function(t){return e.deleteEdge(t.id)})),n.nodes.forEach((function(t){return e.deleteNode(t.id)})),!1}))}(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(t.disabledPlugins)}var t,n,r;return t=e,n=[{key:"register",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof e){var r={BaseEdge:am,BaseEdgeModel:ts,BaseNode:Zv,BaseNodeModel:xd,RectNode:sg,RectNodeModel:ly,CircleNode:vg,CircleNodeModel:$d,PolygonNode:Tg,PolygonNodeModel:Gh,TextNode:ub,TextNodeModel:jy,LineEdge:mm,LineEdgeModel:bs,DiamondNode:Bg,DiamondNodeModel:lh,PolylineEdge:Lm,PolylineEdgeModel:Rs,BezierEdge:Xm,BezierEdgeModel:ld,EllipseNode:Kg,EllipseNodeModel:Ph,HtmlNode:mb,HtmlNodeModel:By,h:ee.g,type:e};this.viewMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)})),this.graphModel.modelMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)}));var o=t(r),i=o.view,a=o.model,s=i;n&&!s.isObervered&&(s.isObervered=!0,s=Q(s)),this.setView(e,s),this.graphModel.setModel(e,a)}else this.registerElement(e)}},{key:"registerElement",value:function(e){var t=e.view;!1===e.isObserverView||t.isObervered||(t.isObervered=!0,t=Q(t)),this.setView(e.type,t),this.graphModel.setModel(e.type,e.model)}},{key:"batchRegister",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){e.registerElement(t)}))}},{key:"defaultRegister",value:function(){this.registerElement({view:sg,model:ly,type:"rect"}),this.registerElement({type:"circle",view:vg,model:$d}),this.registerElement({type:"polygon",view:Tg,model:Gh}),this.registerElement({type:"line",view:mm,model:bs}),this.registerElement({type:"polyline",view:Lm,model:Rs}),this.registerElement({type:"bezier",view:Xm,model:ld}),this.registerElement({type:"text",view:ub,model:jy}),this.registerElement({type:"ellipse",view:Kg,model:Ph}),this.registerElement({type:"diamond",view:Bg,model:lh}),this.registerElement({type:"html",view:mb,model:By})}},{key:"selectElementById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.graphModel.selectElementById(e,t),!t&&n&&this.graphModel.toFront(e)}},{key:"focusOn",value:function(e){var t=this.graphModel.transformModel,n=e.coordinate,r=e.id;if(!n){var o=this.getNodeModelById(r);o&&(n=o.getData());var i=this.getEdgeModelById(r);i&&(n=i.textPosition)}var a=n,s=a.x,u=a.y;t.focusOn(s,u,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(e){this.graphModel.setTheme(e)}},{key:"resize",value:function(e,t){this.graphModel.resize(e,t),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(e){this.graphModel.setDefaultEdgeType(e)}},{key:"updateText",value:function(e,t){this.graphModel.updateText(e,t)}},{key:"deleteElement",value:function(e){var t,n,r,o=this.getModelById(e);return!!o&&null!==(n=null===(r=(OO(t={},ho.NODE,this.deleteNode),OO(t,ho.EDGE,this.deleteEdge),t)[o.BaseType])||void 0===r?void 0:r.call(this,e))&&void 0!==n&&n}},{key:"getModelById",value:function(e){return this.graphModel.getElement(e)}},{key:"getDataById",value:function(e){var t;return null===(t=this.graphModel.getElement(e))||void 0===t?void 0:t.getData()}},{key:"changeNodeType",value:function(e,t){this.graphModel.changeNodeType(e,t)}},{key:"changeEdgeType",value:function(e,t){this.graphModel.changeEdgeType(e,t)}},{key:"getNodeEdges",value:function(e){return this.graphModel.getNodeEdges(e)}},{key:"addNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yo.NODE_ADD,n=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(e,t,n)}},{key:"deleteNode",value:function(e){var t=this.graphModel.getNodeModelById(e);if(!t)return!1;var n=t.getData(),r=this.options.guards,o=!r||!r.beforeDelete||r.beforeDelete(n);return o&&this.graphModel.deleteNode(e),o}},{key:"cloneNode",value:function(e){var t=this.graphModel.getNodeModelById(e).getData(),n=this.options.guards;if(!n||!n.beforeClone||n.beforeClone(t))return this.graphModel.cloneNode(e)}},{key:"changeNodeId",value:function(e,t){return this.graphModel.changeNodeId(e,t)}},{key:"getNodeModelById",value:function(e){return this.graphModel.getNodeModelById(e)}},{key:"getNodeDataById",value:function(e){var t;return null===(t=this.graphModel.getNodeModelById(e))||void 0===t?void 0:t.getData()}},{key:"addEdge",value:function(e){return this.graphModel.addEdge(e)}},{key:"deleteEdge",value:function(e){var t=this.options.guards,n=this.graphModel.edgesMap[e];if(!n)return!1;var r=n.model.getData(),o=!t||!t.beforeDelete||t.beforeDelete(r);return o&&this.graphModel.deleteEdgeById(e),o}},{key:"deleteEdgeByNodeId",value:function(e){var t=e.sourceNodeId,n=e.targetNodeId;t&&n?this.graphModel.deleteEdgeBySourceAndTarget(t,n):t?this.graphModel.deleteEdgeBySource(t):n&&this.graphModel.deleteEdgeByTarget(n)}},{key:"changeEdgeId",value:function(e,t){return this.graphModel.changeEdgeId(e,t)}},{key:"getEdgeModelById",value:function(e){var t;return null===(t=this.graphModel.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getEdgeModels",value:function(e){var t=this.graphModel.edges,n=e.sourceNodeId,r=e.targetNodeId;if(n&&r){var o=[];return t.forEach((function(e){e.sourceNodeId===n&&e.targetNodeId===r&&o.push(e)})),o}if(n){var i=[];return t.forEach((function(e){e.sourceNodeId===n&&i.push(e)})),i}if(r){var a=[];return t.forEach((function(e){e.targetNodeId===r&&a.push(e)})),a}return[]}},{key:"getEdgeDataById",value:function(e){var t;return null===(t=this.getEdgeModelById(e))||void 0===t?void 0:t.getData()}},{key:"getNodeIncomingEdge",value:function(e){return this.graphModel.getNodeIncomingEdge(e)}},{key:"getNodeOutgoingEdge",value:function(e){return this.graphModel.getNodeOutgoingEdge(e)}},{key:"getNodeIncomingNode",value:function(e){return this.graphModel.getNodeIncomingNode(e)}},{key:"getNodeOutgoingNode",value:function(e){return this.graphModel.getNodeOutgoingNode(e)}},{key:"editText",value:function(e){this.graphModel.editText(e)}},{key:"setProperties",value:function(e,t){var n;null===(n=this.graphModel.getElement(e))||void 0===n||n.setProperties(Wa(t))}},{key:"deleteProperty",value:function(e,t){var n;null===(n=this.graphModel.getElement(e))||void 0===n||n.deleteProperty(t)}},{key:"getProperties",value:function(e){var t;return null===(t=this.graphModel.getElement(e))||void 0===t?void 0:t.getProperties()}},{key:"toFront",value:function(e){this.graphModel.toFront(e)}},{key:"setElementZIndex",value:function(e,t){return this.graphModel.setElementZIndex(e,t)}},{key:"addElements",value:function(e){for(var t=this,n=e.nodes,r=e.edges,o={},i={nodes:[],edges:[]},a=0;a<n.length;a++){var s=n[a],u=s.id,l=this.addNode(s);if(!l)return;u&&(o[u]=l.id),i.nodes.push(l)}return r.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId;o[n]&&(n=o[n]),o[r]&&(r=o[r]);var a=t.graphModel.addEdge(mO(mO({},e),{},{sourceNodeId:n,targetNodeId:r}));i.edges.push(a)})),i}},{key:"getAreaElement",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.graphModel.getAreaElement(e,t,n,r,o).map((function(e){return e.getData()}))}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(e)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var e=this.graphModel.modelToGraphData();if(this.adapterOut){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.adapterOut.apply(this,[e].concat(n))}return e}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(e){this.graphModel.editConfigModel.updateEditConfig(e)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(e,t){return this.graphModel.getPointByClient({x:e,y:t})}},{key:"undo",value:function(){if(this.history.undoAble()){var e=Wa(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"redo",value:function(){if(this.history.redoAble()){var e=Wa(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"zoom",value:function(e,t){return this.graphModel.transformModel.zoom(e,t)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(e){this.graphModel.transformModel.setZoomMiniSize(e)}},{key:"setZoomMaxSize",value:function(e){this.graphModel.transformModel.setZoomMaxSize(e)}},{key:"getTransform",value:function(){var e=this.graphModel.transformModel;return{SCALE_X:e.SCALE_X,SCALE_Y:e.SCALE_Y,TRANSLATE_X:e.TRANSLATE_X,TRANSLATE_Y:e.TRANSLATE_Y}}},{key:"translate",value:function(e,t){this.graphModel.transformModel.translate(e,t)}},{key:"resetTranslate",value:function(){var e=this.graphModel.transformModel,t=e.TRANSLATE_X,n=e.TRANSLATE_Y;this.translate(-t,-n)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(e,t){void 0===t&&(t=e),this.graphModel.fitView(e,t)}},{key:"openEdgeAnimation",value:function(e){this.graphModel.openEdgeAnimation(e)}},{key:"closeEdgeAnimation",value:function(e){this.graphModel.closeEdgeAnimation(e)}},{key:"on",value:function(e,t){this.graphModel.eventCenter.on(e,t)}},{key:"off",value:function(e,t){this.graphModel.eventCenter.off(e,t)}},{key:"once",value:function(e,t){this.graphModel.eventCenter.once(e,t)}},{key:"emit",value:function(e,t){this.graphModel.eventCenter.emit(e,t)}},{key:"initContainer",value:function(e){var t=document.createElement("div");return t.style.position="relative",t.style.width="100%",t.style.height="100%",e.innerHTML="",e.appendChild(t),t}},{key:"installPlugins",value:function(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=null!==(t=this.plugins)&&void 0!==t?t:e.extensions;o.forEach((function(e){var t=null,o=null;e[wO]?(t=e.extension,o=e.props):t=e;var i=t.pluginName||t.name;-1===r.indexOf(i)&&n.installPlugin(t,o)}))}},{key:"installPlugin",value:function(t,n){if("object"===gO(t)){var r=t.install,o=t.render;return r&&r.call(t,this,e),o&&this.components.push(o.bind(t)),void(this.extension[t.pluginName]=t)}var i=t,a=new i({lf:this,LogicFlow:e,options:this.options.pluginsOptions,props:n});a.render&&this.components.push(a.render.bind(a)),this.extension[i.pluginName]=a}},{key:"updateAttributes",value:function(e,t){this.graphModel.updateAttributes(e,t)}},{key:"createFakerNode",value:function(e){var t=this.graphModel.modelMap.get(e.type);if(t){var n=new t(mO(mO({},e),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(n),n}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(e){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(e)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(e,t){this.viewMap.set(e,t)}},{key:"renderRawData",value:function(e){this.graphModel.graphDataToModel(Wa(e)),!1!==this.options.history&&this.history.watch(this.graphModel),Object(ee.j)(Object(ee.g)(dp,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(yo.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(e=this.adapterIn(e)),this.renderRawData(e)}}],r=[{key:"use",value:function(e,t){var n,r,o=e.pluginName;o||(o=e.name);var i=null===(n=this.extensions.get(o))||void 0===n?void 0:n.extension;i&&i.destroy&&i.destroy(),this.extensions.set(o,(OO(r={},wO,wO),OO(r,"extension",e),OO(r,"props",t),r))}}],n&&_O(t.prototype,n),r&&_O(t,r),e}();function jO(e){return Q(e)}OO(xO,"extensions",new Map),t.default=xO}])}))},"5e9f":function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"requests-con"},[t("add-component",{staticClass:"add-component-con",attrs:{data:e.components,disabled:e.disabled},on:{"update:data":function(t){e.components=t}}}),t("div",{staticClass:"add-request-btn"},[e.disabled?e._e():t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addTab()}}},[e._v("\n      添加请求\n    ")])],1),t("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.requestList.length>0,expression:"requestList.length > 0"}],staticClass:"tabs-con",attrs:{"tab-position":"left"},on:{"tab-remove":e.removeTab},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.requestList,(function(n){return t("el-tab-pane",{key:n.name,attrs:{name:n.name,label:n.name,closable:e.requestList&&!e.disabled}},[t("request-item",e._b({ref:"requestItem",refInFor:!0,attrs:{data:n,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(e){n=e}}},"request-item",e.$attrs,!1))],1)})),1)],1)},o=[],i=(n("20d6"),n("5df3"),n("ac6a"),n("28a5"),n("c5f6"),n("fd89")),a=n("c983"),s="request",u={name:"step-requests",data:function(){return{currentTab:"",requestList:[],maxIndex:0,components:[]}},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{requests:[],components:[]}}},disabled:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{requestItem:i["default"],addComponent:a["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(){var e=this,t=this.data||{},n=t.requests,r=t.components;this.components=r||[],n&&0!==n.length||0!==this.requestList.length?n&&n.length>0&&(this.requestList=n,this.currentTab=this.requestList.filter((function(t){return t.name===e.currentTab})).length>0?this.currentTab:this.requestList[0].name,this.maxIndex=Number(n[n.length-1].name.split(s)[1])||0):this.maxIndex=0}}},methods:{validate:function(e){if(this.emitData(),this.requestList&&this.requestList.length>0){var t=[];this.$refs.requestItem.forEach((function(e){t.push(e.validate())})),Promise.all(t).then((function(){e(!0)})).catch((function(){e(!1)}))}else e(!0)},emitData:function(){this.$emit("update:data",{requests:this.requestList,components:this.components})},addTab:function(){this.currentTab="".concat(s).concat(++this.maxIndex),this.requestList.push({name:this.currentTab,type:"REQUEST",fallback:{},condition:{},dataMapping:{request:{contentType:"application/json"},response:{contentType:"auto"}},conditionFlag:!1})},removeTab:function(e){var t=this;this.$confirm("确定删除请求".concat(e,"?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=t.requestList.findIndex((function(t){return t.name==e}));n>-1&&(t.requestList.splice(n,1),t.requestList.length>0&&t.currentTab===e?t.currentTab=t.requestList[t.requestList.length-1].name:0===t.requestList.length&&(t.currentTab="".concat(s).concat(t.maxIndex+1)))}))}}},l=u,c=(n("d1b1"),n("2877")),f=Object(c["a"])(l,r,o,!1,null,"5f880930",null);t["default"]=f.exports},"5ea3":function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t["a"]=n}).call(this,n("c8ba"))},6033:function(e,t,n){"use strict";n("0090")},"60b5":function(e,t,n){"use strict";n("1dfc")},"627c":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return v}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),o=n("b5c6"),i=n("da71");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(i["a"],"/extension/page"),method:"get",params:s(s({},n),{},{current:e,size:t})})},l=function(e){return Object(o["a"])({url:"".concat(i["a"],"/extension/detail/").concat(e),method:"get"})},c=function(e){return Object(o["a"])({url:"".concat(i["a"],"/extension/remove"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(i["a"],"/extension/save"),method:"post",data:e})},p=function(e){return Object(o["a"])({url:"".concat(i["a"],"/extension/upload"),method:"post",timeout:0,data:e})},d=function(e){return Object(o["a"])({url:"".concat(i["a"],"/extension/download"),method:"get",timeout:0,params:e})},h=function(e){return Object(o["a"])({url:"".concat(i["a"],"/extension/update"),method:"post",data:e})},y=function(){return Object(o["a"])({url:"".concat(i["a"],"/extension/aggregate/nodes"),method:"get"})},v=function(){return Object(o["a"])({url:"".concat(i["a"],"/extension/servers"),method:"get"})}},6374:function(e,t,n){"use strict";n("f2bb")},"641b":function(e,t,n){},"65d4":function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("basic-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"aggregate-api-detail"},[e.loading||e.showV3||!e.showV3UpdateTip?e._e():t("el-alert",{attrs:{title:"编辑器升级提示",type:"info"}},[t("span",[e._v("当前使用的是V2编辑器，可升级到V3编辑器，支持更复杂编排场景，升级后不支持回退。")]),t("el-button",{staticClass:"update-btn",attrs:{type:"primary",size:"small"},on:{click:e.updateV3}},[e._v("升级")])],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"api-header-wrapper clearfix",attrs:{slot:"header"},slot:"header"},[t("api-header",{staticStyle:{display:"inline-block"},attrs:{"service-name":e.serviceName,"api-name":e.apiName,"page-name":e.pageName}}),"default"===e.businessType?t("div",[e.originId&&e.permissionList.publishBtn&&2===e.formData.approvalState?t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.publish}},[e._v("发布")]):e._e(),e.originId?t("el-button",{attrs:{size:"small",type:"primary",plain:"",loading:e.testLoading},on:{click:e.testFn}},[e._v("测试")]):e._e()],1):e._e()],1),t("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeTabs,callback:function(t){e.activeTabs=t},expression:"activeTabs"}},[t("el-tab-pane",{attrs:{label:"基础信息",name:"0"}},[t("api-base",{ref:"baseForm",attrs:{data:e.baseConfigs,disabled:e.disabled},on:{"update:data":function(t){e.baseConfigs=t}}})],1),t("el-tab-pane",{attrs:{label:"配置输入",name:"1",lazy:!0}},[t("api-request",{ref:"requestConfigs",attrs:{data:e.requestConfigs,lang:e.langConfigs,"business-type":e.businessType,"has-body":"GET"!==e.baseConfigs.method,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.requestConfigs=t},"update:lang":function(t){e.langConfigs=t}}})],1),e.showV3?e._e():t("el-tab-pane",{attrs:{label:"配置步骤",name:"2"}},[t("api-step",{ref:"stepForm",attrs:{"business-type":e.businessType,data:e.stepConfigs,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.stepConfigs=t}}})],1),e.showV3?t("el-tab-pane",{attrs:{label:"配置步骤",name:"2"}},[t("logicFlow",{ref:"lfStepForm",attrs:{"business-type":e.businessType,data:e.turboData,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.turboData=t}}})],1):e._e(),t("el-tab-pane",{attrs:{label:"配置输出",name:"3"}},[t("api-response",{ref:"responseForm",attrs:{"business-type":e.businessType,data:e.responseConfigs,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.responseConfigs=t}}})],1),t("el-tab-pane",{attrs:{label:"校验结果",name:"4"}},[t("api-validate",{attrs:{"business-type":e.businessType,data:e.validateResponse,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.validateResponse=t}}})],1),"add"!==e.actionType?t("el-tab-pane",{attrs:{label:"Config Json",lazy:!0,name:"5"}},[t("el-alert",{attrs:{title:"只读 Read Only",type:"warning"}}),t("code-highlight",{attrs:{language:"json",code:e.jsonCode,height:500}})],1):e._e()],1),t("footer",{staticClass:"cardFooter"},[e.disabled?e._e():t("div",[t("el-button",{attrs:{size:"small",icon:"el-icon-circle-check",loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")]),t("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.handleClose}},[e._v("取消")])],1)])],1),t("publish-dialog",{attrs:{visible:e.publishDialog,name:e.baseConfigs.name,id:e.originId},on:{"update:visible":function(t){e.publishDialog=t}}})],1)},o=[],i=(n("8e6e"),n("6b54"),n("7618")),a=(n("456d"),n("a481"),n("6762"),n("2fdb"),n("96cf"),n("3b8d")),s=(n("ac6a"),n("28a5"),n("bd86")),u=n("708f"),l=n("5880"),c=n("936b"),f=n("2420"),p=n("11d7"),d=n("78e6"),h=n("f6d3"),y=n("2190"),v=n("047b"),g=n("d480"),b=n("f52f"),m=n("1620"),_={nodes:[{properties:{},type:"START",name:"START_100",x:170,y:190,text:{value:"开始"}},{properties:{},type:"REQUEST",name:"REQUEST_1",x:450,y:190},{properties:{},name:"END_101",type:"END",x:740,y:190,text:{value:"结束"}}],edges:[{id:"afe1e5a7-4872-416b-95aa-a6e265511d6d",type:"bezier",startPoint:{x:190,y:190},endPoint:{x:380,y:190},properties:{},pointsList:[{x:190,y:190},{x:290,y:190},{x:280,y:190},{x:380,y:190}],sourceNodeName:"START_100",targetNodeName:"REQUEST_1"},{id:"a26ebb67-9cb7-48e6-88ad-15263e74bdbe",type:"bezier",startPoint:{x:520,y:190},endPoint:{x:720,y:190},properties:{},pointsList:[{x:520,y:190},{x:620,y:190},{x:620,y:190},{x:720,y:190}],sourceNodeName:"REQUEST_1",targetNodeName:"END_101"}]},O=n("8de7");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={name:"detail",data:function(){return{showV3UpdateTip:!0,showV3:!1,activeTabs:"0",loading:!0,testLoading:!1,debug:!1,formData:{},baseConfigs:{},requestConfigs:{},responseConfigs:{},stepConfigs:[],nodes:[],edges:[],validateResponse:{},langConfigs:{},publishDialog:!1,editData:{},businessType:"default"}},computed:x(x({turboData:{get:function(){return{nodes:this.nodes,edges:this.edges}},set:function(e){var t=e.nodes,n=e.edges;this.editData={nodes:t,edges:n}}}},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1)}},originId:function(){return this.$route.query.originId||""},actionType:function(){var e=this.$route.path.split("/");return e[e.length-1]||"add"},disabled:function(){return"view"===this.actionType||!1},pageName:function(){return"add"===this.actionType?"新增接口":this.$route.name},serviceName:function(){return this.formData.serviceName||""},apiName:function(){return this.formData.name||""},apiConfig:function(){var e=this.formData&&this.formData.config||{};if("string"===typeof this.formData.config)try{e=JSON.parse(this.formData.config)}catch(n){console.warn("[error in config]",n)}var t=[];return this.showV3?t=O["a"].buildAllInputComplete(e.nodes):e.stepConfigs&&e.stepConfigs.forEach((function(e){t.push({value:e.name,id:e.name}),e.requests=e.requests||[],e.requests.forEach((function(n){t.push({value:e.name+"."+n.name,id:e.name+"."+n.name})})),e.requests.forEach((function(n){t.push({value:e.name+"."+n.name+".request",id:e.name+"."+n.name+".request"}),t.push({value:e.name+"."+n.name+".response",id:e.name+"."+n.name+".response"})}))})),this.setParamOptions(t),e||{}},jsonCode:function(){return JSON.stringify(x(x({},this.apiConfig),this.editData),null,"    ")}}),components:{logicFlow:b["default"],apiHeader:c["default"],apiBase:f["default"],apiRequest:p["default"],apiStep:d["default"],apiResponse:h["default"],apiValidate:y["default"],publishDialog:v["default"],codeHighlight:g["default"]},created:function(){this.init()},beforeRouteUpdate:function(e,t,n){e.fullPath!==t.fullPath&&(n(),this.init())},watch:{apiConfig:{deep:!0,handler:function(e){this.initConfig(e)}}},methods:x(x({},Object(l["mapActions"])(["removeScript","setParamOptions"])),{},{add:function(e,t){var n=this;return this.loading=!0,Object(u["a"])(e).then((function(){n.$message.success("接口保存成功"),n.loading=!1;var e=setTimeout((function(){n.$router.$avueRouter.closeTag(),n.$router.push({path:"/aggregate/api"}),clearTimeout(e),t&&"function"===typeof t&&t()}),300)})).catch((function(){n.loading=!1}))},update:function(e,t){var n=this;return this.loading=!0,Object(u["m"])(e).then((function(){n.$message.success("接口修改成功"),n.loading=!1,n.getDetail(),t&&"function"===typeof t&&t()})).catch((function(){n.loading=!1}))},publish:function(){this.originId?this.publishDialog=!0:this.$message.error("数据缺失，无法发布！")},testPublish:function(){this.$router.$avueRouter.closeTag();var e=this.$route;this.$router.push({path:"/aggregate/test",query:{originId:this.originId,redirect:encodeURIComponent(e.fullPath)}})},testFn:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validateConfigs();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",!1);case 5:if(this.testLoading=!0,n=this.handleSubmitData(),r=this.checkChange(n),!r){e.next=12;break}this.$confirm("配置内容已修改，是否保存后跳转测试页面?",{confirmButtonText:"保存后跳转测试",cancelButtonText:"不保存直接测试",distinguishCancelAndClose:!0,type:"warning"}).then((function(){o.update(n,(function(){return o.testLoading=!1,o.testPublish(n)}))})).catch((function(e){if(o.testLoading=!1,"cancel"===e)return o.testPublish(n)})),e.next=13;break;case 12:return e.abrupt("return",this.testPublish(n));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||this.apiConfig,this.debug=e.debug||!1;var t=e,n=t.headersDef,r=t.paramsDef,o=t.bodyDef,i=t.scriptValidate,a=t.langDef,s=t.dataMapping,u=t.stepConfigs,l=t.nodes,c=t.edges,f=t.validateResponse,p=t.contentType,d=t.xmlArrPaths;this.requestConfigs={headersDef:n,paramsDef:r,bodyDef:o,scriptValidate:i,contentType:p,xmlArrPaths:d},this.langConfigs=a||{},this.responseConfigs=s||{},this.stepConfigs=u||[],this.nodes=l||[],this.edges=c||[],this.editData={nodes:l,edges:c},this.validateResponse=f||{body:{errorMsg:"string validateMsg"}}},getDetail:function(e){var t=this;if(!this.originId)return this.formData={},void(this.baseConfigs={});["edit","view"].includes(this.actionType)&&Object(u["f"])(this.originId).then((function(n){t.formData=n.data.data||{};var r=Object.assign({},t.formData),o=r.id,i=void 0===o?"":o,a=r.serviceId,s=void 0===a?"":a,u=r.name,l=void 0===u?"":u,c=r.method,f=void 0===c?"":c,p=r.path,d=void 0===p?"":p,h=r.developer,y=void 0===h?"":h,v=r.description,g=void 0===v?"":v,b=r.serviceName,m=void 0===b?"":b;d=d.replace("/proxy/".concat(m,"/"),"/"),t.baseConfigs={id:i,serviceId:s,name:l,method:f,path:d,developer:y,description:g,serviceName:m},e&&e()}))},handleConfig:function(){this.$refs.requestConfigs&&this.$refs.requestConfigs.getJson();var e=Object.assign({},this.requestConfigs);return e.name=this.baseConfigs.name,e.debug=this.debug,e.type="REQUEST",e.method=this.baseConfigs.method,e.path="/proxy/".concat(this.baseConfigs.serviceName)+this.baseConfigs.path,e.validateResponse=this.validateResponse,e.stepConfigs=this.stepConfigs,e.edges=this.editData.edges,e.nodes=this.editData.nodes,e.dataMapping=this.responseConfigs,e.langDef=this.langConfigs,e.aggrVersion=this.apiConfig.aggrVersion,JSON.stringify(e)},validateConfigs:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,n=this.$refs.baseForm.validateForm(),this.$refs.requestConfigs&&this.$refs.requestConfigs.validateForm(),n){e.next=7;break}return t=!1,this.$message.error("请完善基础信息"),e.abrupt("return",!1);case 7:if(r=!1,!this.showV3){e.next=27;break}if(!this.$refs.lfStepForm){e.next=25;break}return e.next=12,this.$refs.lfStepForm.validateErrors();case 12:if(o=e.sent,!(o&&o.length>0)){e.next=24;break}return e.next=16,this.$confirm(o.join("<br/>"),"编辑器错误：确定抛弃无法识别节点",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(){}));case 16:if(i=e.sent,"confirm"!=i){e.next=21;break}r=!0,e.next=22;break;case 21:return e.abrupt("return",!1);case 22:e.next=25;break;case 24:r=!0;case 25:e.next=33;break;case 27:if(e.t0=this.$refs.stepForm,!e.t0){e.next=32;break}return e.next=31,this.$refs.stepForm.validate();case 31:e.t0=e.sent;case 32:r=e.t0;case 33:if(r){e.next=37;break}return this.$message.error("请完善步骤信息"),t=!1,e.abrupt("return",!1);case 37:if(e.t1=this.$refs.responseForm,!e.t1){e.next=42;break}return e.next=41,this.$refs.responseForm.validate();case 41:e.t1=e.sent;case 42:if(a=e.t1,a.validate){e.next=47;break}return this.$message.error(a.message),t=!1,e.abrupt("return",!1);case 47:return e.abrupt("return",t);case 48:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSubmitData:function(){var e=Object.assign({},this.baseConfigs);return e.path="/proxy/".concat(e.serviceName)+e.path,e.config=this.handleConfig(),e},handleSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validateConfigs();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",!1);case 5:n=this.handleSubmitData(),r="add"===this.actionType?this.add:this.update,r(n,(function(){var e=o.$store.state.api.willDelScriptIds||[];e.length>0&&o.removeScript(e.join(",")).then((function(){o.$store.commit("CLEAR_WILL_DEL_SCRIPT_IDS")}))}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/aggregate/api"})},checkChange:function(e){var t=this;if(!e)return!0;var n=!1;return Object.keys(e).forEach((function(r){if("config"!==r&&e[r]!==t.formData[r]&&(n=!0),"config"===r)try{var o=t.deepEqual(JSON.parse(e[r]),JSON.parse(t.formData[r]));n=!o||n}catch(i){console.log(i)}})),n},deepEqual:function(e,t){var n=["fixedHeaders","headers","fixedBody","body","fixedParams","params"];if(e===t)return!0;if("object"==Object(i["a"])(e)&&null!=e&&"object"==Object(i["a"])(t)&&null!=t){if(Object.keys(e).length<Object.keys(t).length)return!1;for(var r in e)if(t.hasOwnProperty(r)){if("[object Array]"===Object.prototype.toString.call(e[r])&&"[object Object]"===Object.prototype.toString.call(t[r])&&n.includes(r)){if(!this.checkJSONArray(e[r],t[r]))return!1}else if(!this.deepEqual(e[r],t[r]))return!1}else if("[]"!==JSON.stringify(e[r])&&"{}"!==JSON.stringify(e[r])&&("contentType"!==r||!e[r]||t[r]))return!1;return!0}return!1},checkJSONArray:function(e,t){for(var n=0;n<e.length;n++)if("object"==Object(i["a"])(e)&&null!=e[n].value||"object"==Object(i["a"])(e)&&null!=t[e[n].key]){if(!this.deepEqual(e[n].value,t[e[n].key]))return!1}else if(e[n].value!==t[e[n].key])return!1;return!0},updateV3:function(){var e=this,t=this.apiConfig||{},n=t.aggrVersion,r=this;if(n*=1,this.loading=!0,3!==n){var o=m["b"].update(this.apiConfig);0==o.nodes.length?this.$confirm("检查到配置文件为空，使用模板创建?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.nodes=_.nodes,o.edges=_.edges,e.formData.config=JSON.stringify(o),e.initConfig(o),e.showV3=!0,e.loading=!1})).catch((function(){r.formData.config=JSON.stringify(o),r.initConfig(),r.showV3=!0,e.loading=!1})):(this.formData.config=JSON.stringify(o),this.initConfig(),this.showV3=!0,this.loading=!1)}else this.loading=!1},init:function(){var e=this;"add"===this.actionType&&(this.formData={},this.showV3=!1,this.updateV3()),this.getDetail((function(){var t=e.apiConfig||{},n=t.aggrVersion;if(n*=1,3===n)return e.showV3=!0,void(e.loading=!1);e.loading=!1}))}}),beforeDestroy:function(){this.$store.commit("CLEAR_WILL_DEL_SCRIPT_IDS")}},S=j,E=(n("e244"),n("2877")),P=Object(E["a"])(S,r,o,!1,null,"b80a30b4",null);t["default"]=P.exports},6962:function(e,t,n){"use strict";n("278e")},"6a0f":function(e,t,n){"use strict";n("da80")},"6a2e":function(e,t,n){"use strict";n("a6ce")},"6c1d":function(e,t,n){"use strict";t["a"]={pluginFormJS:'/*\r\n* plugin_config_design\r\n* 动态插件参考结构\r\n* */\r\n\r\nconst pluginConfig = [\r\n  {\r\n    /* 必有字段 */\r\n    "field": "inputVal",\r\n    "label": "输入框",\r\n    "component": "input", // input, select, radio, checkbox, textarea\r\n    "dataType": "string", // number(long, double), string, boolean, array\r\n    /* 可选字段 */\r\n    "desc": "字段的说明文字",\r\n    "placeholder": "placeholder文字",\r\n    "default": "Aa123", // 初始默认值\r\n    "options": [ // for select, radio, checkbox\r\n      {\r\n        "label": "选项1",\r\n        "value": 1  // number(long, double), string, boolean,\r\n      },\r\n      {\r\n        "label": "选项2",\r\n        "value": 2\r\n      }\r\n    ],\r\n    "rules": [ // min|max / range / length / regex pattern\r\n      { "required": true, "message": "输入框不能为空", "trigger": "change" }, // required 必填\r\n      // { "min": 3, "ma x": 5, "message": "长度在 3 到 5 个字符", "trigger": "change" }, // range 长度范围（for dataType："string"）\r\n      // { "len": 8, "message": "长度需 8 个字符", "trigger": "change" }, // length 长度限制（for dataType："string"）\r\n      // { "type": "number", "message": "请输入数字类型"}, // for dataType："number" 校验数值\r\n      // { "type": "integer", "message": "请输入整数数值", "trigger": "change" }, // for dataType："long" 校验整数\r\n      // { "type": "float", "message": "请输入浮点数数值", "trigger": "change" }, // for dataType："double" 校验浮点数\r\n      { "pattern": "^[A-Za-z\\\\d]+$", "message": "只能是字母或数字", "trigger": "change" } // regex pattern正则\r\n    ]\r\n  },\r\n  {\r\n    "field": "selectVal",\r\n    "label": "选择器",\r\n    "component": "select",\r\n    "dataType": "number",\r\n    "options": [\r\n      {\r\n        "label": "选项1",\r\n        "value": 1\r\n      },\r\n      {\r\n        "label": "选项2",\r\n        "value": 2\r\n      },\r\n      {\r\n        "label": "选项3",\r\n        "value": 3\r\n      }\r\n    ],\r\n    "desc": "选择器的说明文字",\r\n    "placeholder": "请选择",\r\n    "rules": [\r\n      { "required": true, "message": "选择器不能为空", "trigger": "change" }\r\n    ]\r\n  },\r\n  {\r\n    "field": "radioVal",\r\n    "label": "单选框",\r\n    "component": "radio",\r\n    "dataType": "boolean",\r\n    "default": true,\r\n    "options": [\r\n      {\r\n        "label": "是",\r\n        "value": true\r\n      },\r\n      {\r\n        "label": "否",\r\n        "value": false\r\n      }\r\n    ],\r\n    "desc": "单选框的说明文字",\r\n    "rules": [\r\n      { "required": true, "message": "请选择单选框", "trigger": "change" }\r\n    ]\r\n  },\r\n  {\r\n    "field": "radioVal2",\r\n    "label": "单选框",\r\n    "component": "radio",\r\n    "dataType": "Number",\r\n    "default": true,\r\n    "options": [\r\n      {\r\n        "label": "值1",\r\n        "value": 1,\r\n        "refs": [\'radio1\'] // 选中值1，显示 vIf 为 radio1 的表单\r\n      },\r\n      {\r\n        "label": "值2",\r\n        "value": 2,\r\n      }\r\n    ],\r\n    "desc": "单选框的说明文字",\r\n    "rules": [\r\n      { "required": true, "message": "请选择单选框", "trigger": "change" }\r\n    ]\r\n  },\r\n  {\r\n    "vIf": \'radio1\',\r\n    "field": "textVal",\r\n    "label": "文本框",\r\n    "component": "textarea",\r\n    "dataType": "string",\r\n    "desc": "文本框的说明文字",\r\n    "placeholder": "textarea文字",\r\n    "default": "一般放很长的文字",\r\n    "tooltipLabel": \'使用说明\',\r\n    "tooltipValue": "1.这是使用说明这是\\n2.使用说明这是使用说明",\r\n    "tooltipWidth": 200,\r\n    "rules": [\r\n      {\r\n        "required": true,\r\n        "message": "文本框不能为空",\r\n        "trigger": "change"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    "field": "checkboxVal",\r\n    "label": "多选框",\r\n    "component": "checkbox",\r\n    "dataType": "array",\r\n    "options": [\r\n      {\r\n        "label": "选项1",\r\n        "value": 11\r\n      },\r\n      {\r\n        "label": "选项2",\r\n        "value": 22\r\n      },\r\n      {\r\n        "label": "选项3",\r\n        "value": 33\r\n      }\r\n    ],\r\n    "desc": "多选框的说明文字",\r\n    "rules": [\r\n      { "required": true, "message": "请选择多选框", "trigger": "change" }\r\n    ]\r\n  },\r\n  {\r\n    "field": "textVal",\r\n    "label": "文本框",\r\n    "component": "textarea",\r\n    "dataType": "string",\r\n    "desc": "文本框的说明文字",\r\n    "placeholder": "textarea文字",\r\n    "default": "一般放很长的文字",\r\n    "rules": [\r\n      {\r\n        "required": true,\r\n        "message": "文本框不能为空",\r\n        "trigger": "change"\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n// TODO 注意！！\r\n// [pluginConfig]数组注释仅为示例说明，实际数组JSON不可包含注释\r\n// 组件 "checkbox" 的dataType = "array"\r\n// 组件 "radio/select" 的实际值类型等于options内的value值类型'}},"6ed9":function(e,t,n){"use strict";n("762d")},"6f91":function(e,t,n){},"72d7":function(e,t,n){"use strict";n("7d90")},7347:function(e,t,n){},"73d1":function(e,t,n){"use strict";n("1d2c")},"75ce":function(e,t,n){},"762d":function(e,t,n){},7692:function(e,t,n){},7852:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"uml-head"},[e._v("容器ID："+e._s(e.model.id))]),t("div",{staticClass:"uml-footer"},[t("div",{on:{click:e.onComponentClick}},[e._v("组件："+e._s(e.componentCount))])])])},o=[],i={name:"VueNode",props:{model:{type:Object,default:function(){return{id:"",properties:{components:[]}}}},graphModel:{type:Object}},data:function(){return{}},methods:{onComponentClick:function(e){window.event?window.event.cancelBubble=!0:e.stopPropagation();var t=this.$props,n=t.graphModel,r=t.model,o=r.getData();return n.eventCenter.emit("node:components:click",{target:n,model:o}),!1}},computed:{componentCount:function(){return this.model.properties.components?this.model.properties.components.length:0}},mounted:function(){},watch:{}},a=i,s=n("2877"),u=Object(s["a"])(a,r,o,!1,null,"3b4f1355",null);t["default"]=u.exports},"78e6":function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"api-detail-step"},[t("div",{staticStyle:{"margin-bottom":"10px"}},[t("el-button",{attrs:{size:"mini",type:"primary",disabled:e.disabled},on:{click:function(t){return e.handleAdd()}}},[e._v("\n      添加步骤\n    ")]),t("div",{staticClass:"step-tip"},[e._v("\n      注意：可拖拽步骤进行排序, 网关从左到右依次执行步骤\n    ")])],1),t("div",{staticClass:"tab-sort",attrs:{id:"tabSort"}},[t("el-tabs",{attrs:{type:"card"},on:{"tab-remove":e.handleDelete},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.stepList,(function(n){return t("el-tab-pane",{key:n.name,attrs:{label:n.name,name:n.name,closable:!e.disabled}},[t("step-item",e._b({ref:"stepItem",refInFor:!0,attrs:{data:n,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(e){n=e}}},"step-item",e.$attrs,!1))],1)})),1)],1)])},o=[],i=(n("20d6"),n("5df3"),n("96cf"),n("3b8d")),a=(n("28a5"),n("c5f6"),n("ac6a"),n("4c07"));
/**!
 * Sortable 1.15.1
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function d(e,t){if(null==e)return{};var n,r,o=p(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h="1.15.1";function y(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var v=y(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),g=y(/Edge/i),b=y(/firefox/i),m=y(/safari/i)&&!y(/chrome/i)&&!y(/android/i),_=y(/iP(ad|od|hone)/i),O=y(/chrome/i)&&y(/android/i),w={capture:!1,passive:!1};function x(e,t,n){e.addEventListener(t,n,!v&&w)}function j(e,t,n){e.removeEventListener(t,n,!v&&w)}function S(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function E(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function P(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&S(e,t):S(e,t))||r&&e===n)return e;if(e===n)break}while(e=E(e))}return null}var k,T=/\s+/g;function D(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(T," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(T," ")}}function N(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function C(e,t){var n="";if("string"===typeof e)n=e;else do{var r=N(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function A(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function M(){var e=document.scrollingElement;return e||document.documentElement}function I(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,u,l,c,f;if(e!==window&&e.parentNode&&e!==M()?(i=e.getBoundingClientRect(),a=i.top,s=i.left,u=i.bottom,l=i.right,c=i.height,f=i.width):(a=0,s=0,u=window.innerHeight,l=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!v))do{if(o&&o.getBoundingClientRect&&("none"!==N(o,"transform")||n&&"static"!==N(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt(N(o,"border-top-width")),s-=p.left+parseInt(N(o,"border-left-width")),u=a+i.height,l=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var d=C(o||e),h=d&&d.a,y=d&&d.d;d&&(a/=y,s/=h,f/=h,c/=y,u=a+c,l=s+f)}return{top:a,left:s,bottom:u,right:l,width:f,height:c}}}function R(e){var t=I(e),n=parseInt(N(e,"padding-left")),r=parseInt(N(e,"padding-top")),o=parseInt(N(e,"padding-right")),i=parseInt(N(e,"padding-bottom"));return t.top+=r+parseInt(N(e,"border-top-width")),t.left+=n+parseInt(N(e,"border-left-width")),t.width=e.clientWidth-n-o,t.height=e.clientHeight-r-i,t.bottom=t.top+t.height,t.right=t.left+t.width,t}function L(e,t,n){var r=H(e,!0),o=I(e)[t];while(r){var i=I(r)[n],a=void 0;if(a="top"===n||"left"===n?o>=i:o<=i,!a)return r;if(r===M())break;r=H(r,!1)}return!1}function B(e,t,n,r){var o=0,i=0,a=e.children;while(i<a.length){if("none"!==a[i].style.display&&a[i]!==Ze.ghost&&(r||a[i]!==Ze.dragged)&&P(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function F(e,t){var n=e.lastElementChild;while(n&&(n===Ze.ghost||"none"===N(n,"display")||t&&!S(n,t)))n=n.previousElementSibling;return n||null}function z(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ze.clone||t&&!S(e,t)||n++;return n}function q(e){var t=0,n=0,r=M();if(e)do{var o=C(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function $(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}function H(e,t){if(!e||!e.getBoundingClientRect)return M();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=N(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return M();if(r||t)return n;r=!0}}}while(n=n.parentNode);return M()}function U(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function W(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function V(e,t){return function(){if(!k){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),k=setTimeout((function(){k=void 0}),t)}}}function G(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function X(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Y="Sortable"+(new Date).getTime();function J(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==N(e,"display")&&e!==Ze.ghost){t.push({target:e,rect:I(e)});var n=u({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=C(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice($(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=I(n),u=n.prevFromRect,l=n.prevToRect,c=e.rect,f=C(n,!0);f&&(s.top-=f.f,s.left-=f.e),n.toRect=s,n.thisAnimationDuration&&W(u,s)&&!W(a,s)&&(c.top-s.top)/(c.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(t=Z(c,u,l,r.options)),W(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,c,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"===typeof n&&n()}),i):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){N(e,"transition",""),N(e,"transform","");var o=C(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),u=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!u,N(e,"transform","translate3d("+s+"px,"+u+"px,0)"),this.forRepaintDummy=K(e),N(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),N(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){N(e,"transition",""),N(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}function K(e){return e.offsetWidth}function Z(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Q=[],ee={initializeByDefault:!0},te={mount:function(e){for(var t in ee)ee.hasOwnProperty(t)&&!(t in e)&&(e[t]=ee[t]);Q.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Q.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";Q.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](u({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](u({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in Q.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,f(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);"undefined"!==typeof i&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return Q.forEach((function(r){"function"===typeof r.eventProperties&&f(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return Q.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"===typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};function ne(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,f=e.oldDraggableIndex,p=e.newDraggableIndex,d=e.originalEvent,h=e.putSortable,y=e.extraEventProperties;if(t=t||n&&n[Y],t){var b,m=t.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||v||g?(b=document.createEvent("Event"),b.initEvent(r,!0,!0)):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=a||n,b.from=s||n,b.item=o||n,b.clone=i,b.oldIndex=l,b.newIndex=c,b.oldDraggableIndex=f,b.newDraggableIndex=p,b.originalEvent=d,b.pullMode=h?h.lastPutMode:void 0;var O=u(u({},y),te.getEventProperties(r,t));for(var w in O)b[w]=O[w];n&&n.dispatchEvent(b),m[_]&&m[_].call(t,b)}}var re=["evt"],oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=d(n,re);te.pluginEvent.bind(Ze)(e,t,u({dragEl:ae,parentEl:se,ghostEl:ue,rootEl:le,nextEl:ce,lastDownEl:fe,cloneEl:pe,cloneHidden:de,dragStarted:Ee,putSortable:me,activeSortable:Ze.active,originalEvent:r,oldIndex:he,oldDraggableIndex:ve,newIndex:ye,newDraggableIndex:ge,hideGhostForTarget:Xe,unhideGhostForTarget:Ye,cloneNowHidden:function(){de=!0},cloneNowShown:function(){de=!1},dispatchSortableEvent:function(e){ie({sortable:t,name:e,originalEvent:r})}},o))};function ie(e){ne(u({putSortable:me,cloneEl:pe,targetEl:ae,rootEl:le,oldIndex:he,oldDraggableIndex:ve,newIndex:ye,newDraggableIndex:ge},e))}var ae,se,ue,le,ce,fe,pe,de,he,ye,ve,ge,be,me,_e,Oe,we,xe,je,Se,Ee,Pe,ke,Te,De,Ne=!1,Ce=!1,Ae=[],Me=!1,Ie=!1,Re=[],Le=!1,Be=[],Fe="undefined"!==typeof document,ze=_,qe=g||v?"cssFloat":"float",$e=Fe&&!O&&!_&&"draggable"in document.createElement("div"),He=function(){if(Fe){if(v)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ue=function(e,t){var n=N(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=B(e,0,t),i=B(e,1,t),a=o&&N(o),s=i&&N(i),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(o).width,l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a["float"]&&"none"!==a["float"]){var c="left"===a["float"]?"left":"right";return!i||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||u>=r&&"none"===n[qe]||i&&"none"===n[qe]&&u+l>r)?"vertical":"horizontal"},We=function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,u=n?t.width:t.height;return r===a||o===s||r+i/2===a+u/2},Ve=function(e,t){var n;return Ae.some((function(r){var o=r[Y].options.emptyInsertThreshold;if(o&&!F(r)){var i=I(r),a=e>=i.left-o&&e<=i.right+o,s=t>=i.top-o&&t<=i.bottom+o;return a&&s?n=r:void 0}})),n},Ge=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var u=(n?r:o).options.group.name;return!0===e||"string"===typeof e&&e===u||e.join&&e.indexOf(u)>-1}}var n={},r=e.group;r&&"object"==l(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Xe=function(){!He&&ue&&N(ue,"display","none")},Ye=function(){!He&&ue&&N(ue,"display","")};Fe&&!O&&document.addEventListener("click",(function(e){if(Ce)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ce=!1,!1}),!0);var Je=function(e){if(ae){e=e.touches?e.touches[0]:e;var t=Ve(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Y]._onDragOver(n)}}},Ke=function(e){ae&&ae.parentNode[Y]._isOutsideThisEl(e.target)};function Ze(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=f({},t),e[Y]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ue(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ze.supportPointer&&"PointerEvent"in window&&!m,emptyInsertThreshold:5};for(var r in te.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in Ge(t),this)"_"===o.charAt(0)&&"function"===typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&$e,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?x(e,"pointerdown",this._onTapStart):(x(e,"mousedown",this._onTapStart),x(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(x(e,"dragover",this),x(e,"dragenter",this)),Ae.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),f(this,J())}function Qe(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function et(e,t,n,r,o,i,a,s){var u,l,c=e[Y],f=c.options.onMove;return!window.CustomEvent||v||g?(u=document.createEvent("Event"),u.initEvent("move",!0,!0)):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=o||t,u.relatedRect=i||I(t),u.willInsertAfter=s,u.originalEvent=a,e.dispatchEvent(u),f&&(l=f.call(c,u,a)),l}function tt(e){e.draggable=!1}function nt(){Le=!1}function rt(e,t,n){var r=I(B(n.el,0,n.options,!0)),o=R(n.el),i=10;return t?e.clientX<o.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<o.top-i||e.clientY<r.bottom&&e.clientX<r.left}function ot(e,t,n){var r=I(F(n.el,n.options.draggable)),o=R(n.el),i=10;return t?e.clientX>o.right+i||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>o.bottom+i||e.clientX>r.right&&e.clientY>r.top}function it(e,t,n,r,o,i,a,s){var u=r?e.clientY:e.clientX,l=r?n.height:n.width,c=r?n.top:n.left,f=r?n.bottom:n.right,p=!1;if(!a)if(s&&Te<l*o){if(!Me&&(1===ke?u>c+l*i/2:u<f-l*i/2)&&(Me=!0),Me)p=!0;else if(1===ke?u<c+Te:u>f-Te)return-ke}else if(u>c+l*(1-o)/2&&u<f-l*(1-o)/2)return at(t);return p=p||a,p&&(u<c+l*i/2||u>f-l*i/2)?u>c+l/2?1:-1:0}function at(e){return z(ae)<z(e)?1:-1}function st(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;while(n--)r+=t.charCodeAt(n);return r.toString(36)}function ut(e){Be.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var r=t[n];r.checked&&Be.push(r)}}function lt(e){return setTimeout(e,0)}function ct(e){return clearTimeout(e)}Ze.prototype={constructor:Ze,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Pe=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,ae):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,l=r.filter;if(ut(n),!ae&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!u.isContentEditable&&(this.nativeDraggable||!m||!s||"SELECT"!==s.tagName.toUpperCase())&&(s=P(s,r.draggable,n,!1),(!s||!s.animated)&&fe!==s)){if(he=z(s),ve=z(s,r.draggable),"function"===typeof l){if(l.call(this,e,s,this))return ie({sortable:t,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),oe("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(l&&(l=l.split(",").some((function(r){if(r=P(u,r.trim(),n,!1),r)return ie({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),oe("filter",t,{evt:e}),!0})),l))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!P(u,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!ae&&n.parentNode===i){var u=I(n);if(le=i,ae=n,se=ae.parentNode,ce=ae.nextSibling,fe=n,be=a.group,Ze.dragged=ae,_e={target:ae,clientX:(t||e).clientX,clientY:(t||e).clientY},je=_e.clientX-u.left,Se=_e.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ae.style["will-change"]="all",r=function(){oe("delayEnded",o,{evt:e}),Ze.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!b&&o.nativeDraggable&&(ae.draggable=!0),o._triggerDragStart(e,t),ie({sortable:o,name:"choose",originalEvent:e}),D(ae,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){A(ae,e.trim(),tt)})),x(s,"dragover",Je),x(s,"mousemove",Je),x(s,"touchmove",Je),x(s,"mouseup",o._onDrop),x(s,"touchend",o._onDrop),x(s,"touchcancel",o._onDrop),b&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ae.draggable=!0),oe("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(g||v))r();else{if(Ze.eventCanceled)return void this._onDrop();x(s,"mouseup",o._disableDelayedDrag),x(s,"touchend",o._disableDelayedDrag),x(s,"touchcancel",o._disableDelayedDrag),x(s,"mousemove",o._delayedDragTouchMoveHandler),x(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&x(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ae&&tt(ae),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;j(e,"mouseup",this._disableDelayedDrag),j(e,"touchend",this._disableDelayedDrag),j(e,"touchcancel",this._disableDelayedDrag),j(e,"mousemove",this._delayedDragTouchMoveHandler),j(e,"touchmove",this._delayedDragTouchMoveHandler),j(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?x(document,"pointermove",this._onTouchMove):x(document,t?"touchmove":"mousemove",this._onTouchMove):(x(ae,"dragend",this),x(le,"dragstart",this._onDragStart));try{document.selection?lt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ne=!1,le&&ae){oe("dragStarted",this,{evt:t}),this.nativeDraggable&&x(document,"dragover",Ke);var n=this.options;!e&&D(ae,n.dragClass,!1),D(ae,n.ghostClass,!0),Ze.active=this,e&&this._appendGhost(),ie({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Oe){this._lastX=Oe.clientX,this._lastY=Oe.clientY,Xe();var e=document.elementFromPoint(Oe.clientX,Oe.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(Oe.clientX,Oe.clientY),e===t)break;t=e}if(ae.parentNode[Y]._isOutsideThisEl(e),t)do{if(t[Y]){var n=void 0;if(n=t[Y]._onDragOver({clientX:Oe.clientX,clientY:Oe.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ye()}},_onTouchMove:function(e){if(_e){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=ue&&C(ue,!0),a=ue&&i&&i.a,s=ue&&i&&i.d,u=ze&&De&&q(De),l=(o.clientX-_e.clientX+r.x)/(a||1)+(u?u[0]-Re[0]:0)/(a||1),c=(o.clientY-_e.clientY+r.y)/(s||1)+(u?u[1]-Re[1]:0)/(s||1);if(!Ze.active&&!Ne){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ue){i?(i.e+=l-(we||0),i.f+=c-(xe||0)):i={a:1,b:0,c:0,d:1,e:l,f:c};var f="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");N(ue,"webkitTransform",f),N(ue,"mozTransform",f),N(ue,"msTransform",f),N(ue,"transform",f),we=l,xe=c,Oe=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ue){var e=this.options.fallbackOnBody?document.body:le,t=I(ae,!0,ze,!0,e),n=this.options;if(ze){De=e;while("static"===N(De,"position")&&"none"===N(De,"transform")&&De!==document)De=De.parentNode;De!==document.body&&De!==document.documentElement?(De===document&&(De=M()),t.top+=De.scrollTop,t.left+=De.scrollLeft):De=M(),Re=q(De)}ue=ae.cloneNode(!0),D(ue,n.ghostClass,!1),D(ue,n.fallbackClass,!0),D(ue,n.dragClass,!0),N(ue,"transition",""),N(ue,"transform",""),N(ue,"box-sizing","border-box"),N(ue,"margin",0),N(ue,"top",t.top),N(ue,"left",t.left),N(ue,"width",t.width),N(ue,"height",t.height),N(ue,"opacity","0.8"),N(ue,"position",ze?"absolute":"fixed"),N(ue,"zIndex","100000"),N(ue,"pointerEvents","none"),Ze.ghost=ue,e.appendChild(ue),N(ue,"transform-origin",je/parseInt(ue.style.width)*100+"% "+Se/parseInt(ue.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;oe("dragStart",this,{evt:e}),Ze.eventCanceled?this._onDrop():(oe("setupClone",this),Ze.eventCanceled||(pe=X(ae),pe.removeAttribute("id"),pe.draggable=!1,pe.style["will-change"]="",this._hideClone(),D(pe,this.options.chosenClass,!1),Ze.clone=pe),n.cloneId=lt((function(){oe("clone",n),Ze.eventCanceled||(n.options.removeCloneOnHide||le.insertBefore(pe,ae),n._hideClone(),ie({sortable:n,name:"clone"}))})),!t&&D(ae,o.dragClass,!0),t?(Ce=!0,n._loopId=setInterval(n._emulateDragOver,50)):(j(document,"mouseup",n._onDrop),j(document,"touchend",n._onDrop),j(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,ae)),x(document,"drop",n),N(ae,"transform","translateZ(0)")),Ne=!0,n._dragStartId=lt(n._dragStarted.bind(n,t,e)),x(document,"selectstart",n),Ee=!0,m&&N(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,a=e.target,s=this.options,l=s.group,c=Ze.active,f=be===l,p=s.sort,d=me||c,h=this,y=!1;if(!Le){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=P(a,s.draggable,i,!0),A("dragOver"),Ze.eventCanceled)return y;if(ae.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return R(!1);if(Ce=!1,c&&!s.disabled&&(f?p||(r=se!==le):me===this||(this.lastPutMode=be.checkPull(this,c,ae,e))&&l.checkPut(this,c,ae,e))){if(o="vertical"===this._getDirection(e,a),t=I(ae),A("dragOverValid"),Ze.eventCanceled)return y;if(r)return se=le,M(),this._hideClone(),A("revert"),Ze.eventCanceled||(ce?le.insertBefore(ae,ce):le.appendChild(ae)),R(!0);var v=F(i,s.draggable);if(!v||ot(e,o,this)&&!v.animated){if(v===ae)return R(!1);if(v&&i===e.target&&(a=v),a&&(n=I(a)),!1!==et(le,i,ae,t,a,n,e,!!a))return M(),v&&v.nextSibling?i.insertBefore(ae,v.nextSibling):i.appendChild(ae),se=i,q(),R(!0)}else if(v&&rt(e,o,this)){var g=B(i,0,s,!0);if(g===ae)return R(!1);if(a=g,n=I(a),!1!==et(le,i,ae,t,a,n,e,!1))return M(),i.insertBefore(ae,g),se=i,q(),R(!0)}else if(a.parentNode===i){n=I(a);var b,m,_=0,O=ae.parentNode!==i,w=!We(ae.animated&&ae.toRect||t,a.animated&&a.toRect||n,o),x=o?"top":"left",j=L(a,"top","top")||L(ae,"top","top"),S=j?j.scrollTop:void 0;if(Pe!==a&&(b=n[x],Me=!1,Ie=!w&&s.invertSwap||O),_=it(e,a,n,o,w?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Ie,Pe===a),0!==_){var E=z(ae);do{E-=_,m=se.children[E]}while(m&&("none"===N(m,"display")||m===ue))}if(0===_||m===a)return R(!1);Pe=a,ke=_;var k=a.nextElementSibling,T=!1;T=1===_;var C=et(le,i,ae,t,a,n,e,T);if(!1!==C)return 1!==C&&-1!==C||(T=1===C),Le=!0,setTimeout(nt,30),M(),T&&!k?i.appendChild(ae):a.parentNode.insertBefore(ae,T?k:a),j&&G(j,0,S-j.scrollTop),se=ae.parentNode,void 0===b||Ie||(Te=Math.abs(b-I(a)[x])),q(),R(!0)}if(i.contains(ae))return R(!1)}return!1}function A(s,l){oe(s,h,u({evt:e,isOwner:f,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:p,fromSortable:d,target:a,completed:R,onMove:function(n,r){return et(le,i,ae,t,n,I(n),e,r)},changed:q},l))}function M(){A("dragOverAnimationCapture"),h.captureAnimationState(),h!==d&&d.captureAnimationState()}function R(t){return A("dragOverCompleted",{insertion:t}),t&&(f?c._hideClone():c._showClone(h),h!==d&&(D(ae,me?me.options.ghostClass:c.options.ghostClass,!1),D(ae,s.ghostClass,!0)),me!==h&&h!==Ze.active?me=h:h===Ze.active&&me&&(me=null),d===h&&(h._ignoreWhileAnimating=a),h.animateAll((function(){A("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(a===ae&&!ae.animated||a===i&&!a.animated)&&(Pe=null),s.dragoverBubble||e.rootEl||a===document||(ae.parentNode[Y]._isOutsideThisEl(e.target),!t&&Je(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function q(){ye=z(ae),ge=z(ae,s.draggable),ie({sortable:h,name:"change",toEl:i,newIndex:ye,newDraggableIndex:ge,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){j(document,"mousemove",this._onTouchMove),j(document,"touchmove",this._onTouchMove),j(document,"pointermove",this._onTouchMove),j(document,"dragover",Je),j(document,"mousemove",Je),j(document,"touchmove",Je)},_offUpEvents:function(){var e=this.el.ownerDocument;j(e,"mouseup",this._onDrop),j(e,"touchend",this._onDrop),j(e,"pointerup",this._onDrop),j(e,"touchcancel",this._onDrop),j(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ye=z(ae),ge=z(ae,n.draggable),oe("drop",this,{evt:e}),se=ae&&ae.parentNode,ye=z(ae),ge=z(ae,n.draggable),Ze.eventCanceled||(Ne=!1,Ie=!1,Me=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ct(this.cloneId),ct(this._dragStartId),this.nativeDraggable&&(j(document,"drop",this),j(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),m&&N(document.body,"user-select",""),N(ae,"transform",""),e&&(Ee&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ue&&ue.parentNode&&ue.parentNode.removeChild(ue),(le===se||me&&"clone"!==me.lastPutMode)&&pe&&pe.parentNode&&pe.parentNode.removeChild(pe),ae&&(this.nativeDraggable&&j(ae,"dragend",this),tt(ae),ae.style["will-change"]="",Ee&&!Ne&&D(ae,me?me.options.ghostClass:this.options.ghostClass,!1),D(ae,this.options.chosenClass,!1),ie({sortable:this,name:"unchoose",toEl:se,newIndex:null,newDraggableIndex:null,originalEvent:e}),le!==se?(ye>=0&&(ie({rootEl:se,name:"add",toEl:se,fromEl:le,originalEvent:e}),ie({sortable:this,name:"remove",toEl:se,originalEvent:e}),ie({rootEl:se,name:"sort",toEl:se,fromEl:le,originalEvent:e}),ie({sortable:this,name:"sort",toEl:se,originalEvent:e})),me&&me.save()):ye!==he&&ye>=0&&(ie({sortable:this,name:"update",toEl:se,originalEvent:e}),ie({sortable:this,name:"sort",toEl:se,originalEvent:e})),Ze.active&&(null!=ye&&-1!==ye||(ye=he,ge=ve),ie({sortable:this,name:"end",toEl:se,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){oe("nulling",this),le=ae=se=ue=ce=pe=fe=de=_e=Oe=Ee=ye=ge=he=ve=Pe=ke=me=be=Ze.dragged=Ze.ghost=Ze.clone=Ze.active=null,Be.forEach((function(e){e.checked=!0})),Be.length=we=xe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ae&&(this._onDragOver(e),Qe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)e=n[r],P(e,i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||st(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];P(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return P(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=te.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&Ge(n)},destroy:function(){oe("destroy",this);var e=this.el;e[Y]=null,j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart),j(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ae.splice(Ae.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!de){if(oe("hideClone",this),Ze.eventCanceled)return;N(pe,"display","none"),this.options.removeCloneOnHide&&pe.parentNode&&pe.parentNode.removeChild(pe),de=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(de){if(oe("showClone",this),Ze.eventCanceled)return;ae.parentNode!=le||this.options.group.revertClone?ce?le.insertBefore(pe,ce):le.appendChild(pe):le.insertBefore(pe,ae),this.options.group.revertClone&&this.animate(ae,pe),N(pe,"display",""),de=!1}}else this._hideClone()}},Fe&&x(document,"touchmove",(function(e){(Ze.active||Ne)&&e.cancelable&&e.preventDefault()})),Ze.utils={on:x,off:j,css:N,find:A,is:function(e,t){return!!P(e,t,e,!1)},extend:U,throttle:V,closest:P,toggleClass:D,clone:X,index:z,nextTick:lt,cancelNextTick:ct,detectDirection:Ue,getChild:B},Ze.get=function(e){return e[Y]},Ze.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ze.utils=u(u({},Ze.utils),e.utils)),te.mount(e)}))},Ze.create=function(e,t){return new Ze(e,t)},Ze.version=h;var ft,pt,dt,ht=[];function yt(){ht.forEach((function(e){clearInterval(e.pid)})),ht=[]}V((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,u=t.scrollSpeed,l=M(),c=!1;pt!==n&&(pt=n,yt(),ft=t.scroll,o=t.scrollFn,!0===ft&&(ft=H(n,!0)));var f=0,p=ft;do{var d=p,h=I(d),y=h.top,v=h.bottom,g=h.left,b=h.right,m=h.width,_=h.height,O=void 0,w=void 0,x=d.scrollWidth,j=d.scrollHeight,S=N(d),E=d.scrollLeft,P=d.scrollTop;d===l?(O=m<x&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),w=_<j&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(O=m<x&&("auto"===S.overflowX||"scroll"===S.overflowX),w=_<j&&("auto"===S.overflowY||"scroll"===S.overflowY));var k=O&&(Math.abs(b-i)<=s&&E+m<x)-(Math.abs(g-i)<=s&&!!E),T=w&&(Math.abs(v-a)<=s&&P+_<j)-(Math.abs(y-a)<=s&&!!P);if(!ht[f])for(var D=0;D<=f;D++)ht[D]||(ht[D]={});ht[f].vx==k&&ht[f].vy==T&&ht[f].el===d||(ht[f].el=d,ht[f].vx=k,ht[f].vy=T,clearInterval(ht[f].pid),0==k&&0==T||(c=!0,ht[f].pid=setInterval(function(){r&&0===this.layer&&Ze.active._onTouchMove(dt);var t=ht[this.layer].vy?ht[this.layer].vy*u:0,n=ht[this.layer].vx?ht[this.layer].vx*u:0;"function"===typeof o&&"continue"!==o.call(Ze.dragged.parentNode[Y],n,t,e,dt,ht[this.layer].el)||G(ht[this.layer].el,n,t)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&p!==l&&(p=H(p,!1)));c}}),30);var vt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var u=n||o;a();var l=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(l.clientX,l.clientY);s(),u&&!u.el.contains(c)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function gt(){}function bt(){}gt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=B(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:vt},f(gt,{pluginName:"revertOnSpill"}),bt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:vt},f(bt,{pluginName:"removeOnSpill"});var mt=Ze,_t="step",Ot={name:"api-detail-step",data:function(){return{tabIndex:0,stepList:[],currentTab:"",maxIndex:0}},inheritAttrs:!1,props:{data:{type:Array,default:function(){return{}}},disabled:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{stepItem:a["default"]},computed:{tabCount:function(){return this.stepList&&this.stepList.length||0},originId:function(){return this.$route.query.originId}},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},originId:function(){this.maxIndex=0}},methods:{initData:function(){var e=this;if(this.stepList=this.data||[],this.stepList.length>0){var t=[];this.stepList.forEach((function(e){t.push(Number(e.name.split(_t)[1]))}));var n=Math.max.apply(Math,t);this.maxIndex=this.maxIndex>n?this.maxIndex:n,this.currentTab=this.stepList.filter((function(t){return t.name===e.currentTab})).length>0?this.currentTab:this.stepList[0].name}else this.currentTab=""},emitData:function(){this.$emit("update:data",this.stepList)},validate:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.emitData(),t=!0,!(this.stepList&&this.stepList.length>0)){e.next=9;break}return n=[],this.$refs.stepItem.forEach((function(e){n.push(e.validate())})),e.next=7,Promise.all(n).then((function(){t=!0})).catch((function(){t=!1}));case 7:e.next=10;break;case 9:t=!0;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.currentTab="".concat(_t).concat(++this.maxIndex),this.stepList.push({name:this.currentTab,stop:!1,dataMapping:{},requests:[]})},handleDelete:function(e){var t=this;this.$confirm("确定删除步骤【".concat(e,"】?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=t.stepList.findIndex((function(t){return t.name==e}));n>-1&&(t.stepList.splice(n,1),t.stepList.length>0&&t.currentTab===e?t.currentTab=t.stepList[t.stepList.length-1].name:0===t.stepList.length&&(t.currentTab="".concat(_t).concat(t.maxIndex+1)))}))}},mounted:function(){var e=this;mt.create(document.querySelector("#tabSort .el-tabs__nav"),{animation:150,easing:"cubic-bezier(1, 0, 0, 1)",dragClass:"sortable-chosen",onEnd:function(t){var n=e.stepList.splice(t.oldIndex,1)[0];e.stepList.splice(t.newIndex,0,n)}})}},wt=Ot,xt=(n("c1b2"),n("2877")),jt=Object(xt["a"])(wt,r,o,!1,null,null,null);t["default"]=jt.exports},"7c63":function(e,t,n){},"7d90":function(e,t,n){},"7ede":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return f}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),o=n("b5c6"),i=n("da71");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(i["a"],"/blade-aggregate-test/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},l=function(e){return Object(o["a"])({url:"".concat(i["a"],"/blade-aggregate-test/detail"),method:"get",params:{id:e}})},c=function(e){return Object(o["a"])({url:"".concat(i["a"],"/blade-aggregate-test/remove"),method:"post",params:{ids:e}})},f=function(e){return Object(o["a"])({url:"".concat(i["a"],"/blade-aggregate-test/save"),method:"post",data:e})}},"7fa2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("el-button-group",[t("el-button",{attrs:{type:"plain",size:"small"},on:{click:e.$_zoomIn}},[e._v("放大")]),t("el-button",{attrs:{type:"plain",size:"small"},on:{click:e.$_zoomOut}},[e._v("缩小")]),t("el-button",{attrs:{type:"plain",size:"small"},on:{click:e.$_zoomReset}},[e._v("大小适应")]),t("el-button",{attrs:{type:"plain",size:"small"},on:{click:e.$_translateRest}},[e._v("定位还原")]),t("el-button",{attrs:{type:"plain",size:"small"},on:{click:e.$_reset}},[e._v("还原(大小&定位)")]),t("el-button",{attrs:{type:"plain",size:"small",disabled:e.undoDisable},on:{click:e.$_undo}},[e._v("上一步(ctrl+z)")]),t("el-button",{attrs:{type:"plain",size:"small",disabled:e.redoDisable},on:{click:e.$_redo}},[e._v("下一步(ctrl+y)")]),t("el-button",{attrs:{type:"plain",size:"small"},on:{click:e.$_catData}},[e._v("查看数据")])],1)],1)},o=[],i={name:"Control",props:{lf:Object||String,catTurboData:Boolean},data:function(){return{undoDisable:!0,redoDisable:!0,graphData:null,dataVisible:!1}},mounted:function(){var e=this;this.$props.lf.on("history:change",(function(t){var n=t.data,r=n.undoAble,o=n.redoAble;e.$data.undoDisable=!r,e.$data.redoDisable=!o}))},methods:{$_zoomIn:function(){this.$props.lf.zoom(!0)},$_zoomOut:function(){this.$props.lf.zoom(!1)},$_zoomReset:function(){this.$props.lf.resetZoom()},$_translateRest:function(){this.$props.lf.resetTranslate()},$_reset:function(){this.$props.lf.resetZoom(),this.$props.lf.resetTranslate()},$_undo:function(){this.$props.lf.undo()},$_redo:function(){this.$props.lf.redo()},$_catData:function(){this.$emit("catData")}}},a=i,s=n("2877"),u=Object(s["a"])(a,r,o,!1,null,"e2bce328",null);t["default"]=u.exports},"8237d":function(e,t,n){},"838b":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=67)}([function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(25)("wks"),o=n(27),i=n(2).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(8)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(2),o=n(0),i=n(19),a=n(5),s=n(9),u=function(e,t,n){var l,c,f,p=e&u.F,d=e&u.G,h=e&u.S,y=e&u.P,v=e&u.B,g=e&u.W,b=d?o:o[t]||(o[t]={}),m=b.prototype,_=d?r:h?r[t]:(r[t]||{}).prototype;for(l in d&&(n=t),n)(c=!p&&_&&void 0!==_[l])&&s(b,l)||(f=c?_[l]:n[l],b[l]=d&&"function"!=typeof _[l]?n[l]:v&&c?i(f,r):g&&_[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((b.virtual||(b.virtual={}))[l]=f,e&u.R&&m&&!m[l]&&a(m,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(6),o=n(13);e.exports=n(3)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(7),o=n(36),i=n(37),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(12);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(15);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports={default:n(62),__esModule:!0}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(39),o=n(28);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(25)("keys"),o=n(27);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(35);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(12),o=n(2).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(22),o=n(15);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(23);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(16),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(0),o=n(2),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(26)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(6).f,o=n(9),i=n(1)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){e.exports={default:n(33),__esModule:!0}},function(e){e.exports=JSON.parse('{"name":"vue-json-pretty","version":"1.7.1","description":"A JSON tree view component that is easy to use and also supports data selection.","author":"leezng <im.leezng@gmail.com>","main":"lib/vue-json-pretty.js","scripts":{"dev":"node build/dev-server.js","build":"node build/build.js","build:example":"cross-env EXAMPLE_ENV=true node build/build.js","e2e":"node test/e2e/runner.js","test":"npm run e2e","lint":"eslint --ext .js,.vue src test/e2e/specs example"},"repository":{"type":"git","url":"git@github.com:leezng/vue-json-pretty.git"},"homepage":"https://leezng.github.io/vue-json-pretty","keywords":["vue","json","format","pretty","vue-component"],"license":"MIT","bugs":{"url":"https://github.com/leezng/vue-json-pretty/issues"},"devDependencies":{"autoprefixer":"^7.1.2","babel-core":"^6.26.3","babel-loader":"7","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.7.0","babel-preset-stage-2":"^6.24.1","chalk":"^2.0.1","clean-webpack-plugin":"^3.0.0","connect-history-api-fallback":"^1.3.0","copy-webpack-plugin":"^6.0.2","cross-env":"^7.0.2","cross-spawn":"^5.0.1","css-loader":"^0.28.0","cssnano":"^3.10.0","eslint":"^7.3.1","eslint-friendly-formatter":"^4.0.1","eslint-loader":"^4.0.2","eslint-plugin-vue":"^6.2.2","eventsource-polyfill":"^0.9.6","express":"^4.17.1","file-loader":"^6.0.0","friendly-errors-webpack-plugin":"^1.7.0","html-webpack-plugin":"^4.3.0","http-proxy-middleware":"^0.17.3","less":"^3.11.3","less-loader":"^6.1.2","mini-css-extract-plugin":"^0.9.0","nightwatch":"^1.0.19","opn":"^5.1.0","optimize-css-assets-webpack-plugin":"^5.0.3","selenium-server":"^3.0.1","semver":"^5.3.0","shelljs":"^0.7.6","url-loader":"^4.1.0","vue":"^2.6.11","vue-loader":"^14.2.4","vue-style-loader":"^4.1.2","vue-template-compiler":"^2.6.11","webpack":"^4.43.0","webpack-bundle-analyzer":"^3.8.0","webpack-dev-middleware":"^3.7.2","webpack-hot-middleware":"^2.25.0","webpack-merge":"^4.1.0"},"engines":{"node":">= 10.0.0","npm":">= 5.0.0"},"browserslist":["> 1%","last 10 versions","not ie <= 11"],"files":["lib"],"dependencies":{}}')},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(44),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){n(34),e.exports=n(0).Object.assign},function(e,t,n){var r=n(4);r(r.S+r.F,"Object",{assign:n(38)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=!n(3)&&!n(8)((function(){return 7!=Object.defineProperty(n(20)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(12);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";var r=n(3),o=n(14),i=n(42),a=n(43),s=n(10),u=n(22),l=Object.assign;e.exports=!l||n(8)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,c=1,f=i.f,p=a.f;l>c;)for(var d,h=u(arguments[c++]),y=f?o(h).concat(f(h)):o(h),v=y.length,g=0;v>g;)d=y[g++],r&&!p.call(h,d)||(n[d]=h[d]);return n}:l},function(e,t,n){var r=n(9),o=n(21),i=n(40)(!1),a=n(17)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(21),o=n(24),i=n(41);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=o(u.length),c=i(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(16),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){e.exports={default:n(45),__esModule:!0}},function(e,t,n){n(46),n(55),e.exports=n(0).Array.from},function(e,t,n){"use strict";var r=n(47)(!0);n(48)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(16),o=n(15);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(26),o=n(4),i=n(49),a=n(5),s=n(18),u=n(50),l=n(29),c=n(54),f=n(1)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,y,v,g){u(n,t,h);var b,m,_,O=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",x="values"==y,j=!1,S=e.prototype,E=S[f]||S["@@iterator"]||y&&S[y],P=E||O(y),k=y?x?O("entries"):P:void 0,T="Array"==t&&S.entries||E;if(T&&(_=c(T.call(new e)))!==Object.prototype&&_.next&&(l(_,w,!0),r||"function"==typeof _[f]||a(_,f,d)),x&&E&&"values"!==E.name&&(j=!0,P=function(){return E.call(this)}),r&&!g||!p&&!j&&S[f]||a(S,f,P),s[t]=P,s[w]=d,y)if(b={values:x?P:O("values"),keys:v?P:O("keys"),entries:k},g)for(m in b)m in S||i(S,m,b[m]);else o(o.P+o.F*(p||j),t,b);return b}},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";var r=n(51),o=n(13),i=n(29),a={};n(5)(a,n(1)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(7),o=n(52),i=n(28),a=n(17)("IE_PROTO"),s=function(){},u=function(){var e,t=n(20)("iframe"),r=i.length;for(t.style.display="none",n(53).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(6),o=n(7),i=n(14);e.exports=n(3)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(9),o=n(10),i=n(17)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(19),o=n(4),i=n(10),a=n(56),s=n(57),u=n(24),l=n(58),c=n(59);o(o.S+o.F*!n(61)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,f,p=i(e),d="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,v=void 0!==y,g=0,b=c(p);if(v&&(y=r(y,h>2?arguments[2]:void 0,2)),null==b||d==Array&&s(b))for(n=new d(t=u(p.length));t>g;g++)l(n,g,v?y(p[g],g):p[g]);else for(f=b.call(p),n=new d;!(o=f.next()).done;g++)l(n,g,v?a(f,y,[o.value,g],!0):o.value);return n.length=g,n}})},function(e,t,n){var r=n(7);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(18),o=n(1)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){"use strict";var r=n(6),o=n(13);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(60),o=n(1)("iterator"),i=n(18);e.exports=n(0).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(23),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(1)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){n(63),e.exports=n(0).Object.keys},function(e,t,n){var r=n(10),o=n(14);n(64)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(4),o=n(0),i=n(8);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(66);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),(0,n(68).default)("4e38e324",r,!0,{})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(30),o=n.n(r),i=n(31),a=n(32),s=n.n(a),u=n(11),l=n.n(u);function c(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function f(e,t,n,r,o,i,a,s){var u=typeof(e=e||{}).default;"object"!==u&&"function"!==u||(e=e.default);var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId=i),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var f=c.render;c.render=function(e,t){return l.call(t),f(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}var p=f({props:{showDoubleQuotes:Boolean,parentData:{type:[String,Number,Boolean,Array,Object],default:null},data:{type:[String,Number,Boolean],default:""},showComma:Boolean,currentKey:{type:[Number,String],default:""},customValueFormatter:{type:Function,default:null}},computed:{valueClass:function(){return"vjs-value vjs-value__"+this.dataType},dataType:function(){return c(this.data)}},methods:{defaultFormatter:function(e){var t=e+"";return"string"===this.dataType&&(t='"'+t+'"'),t},customFormatter:function(e){return this.customValueFormatter?this.customValueFormatter(e,this.currentKey,this.parentData,this.defaultFormatter(e)):this.defaultFormatter(e)}}},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default"),e._v(" "),e.customValueFormatter?n("span",{class:e.valueClass,domProps:{innerHTML:e._s(e.customFormatter(e.data))}}):n("span",{class:e.valueClass},[e._v(e._s(e.defaultFormatter(e.data)))]),e.showComma?n("span",[e._v(",")]):e._e()],2)}),[],!1,null,null,null).exports,d=f({props:{value:{type:Boolean,default:!1}},data:function(){return{focus:!1}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:["vjs-checkbox",e.value?"is-checked":""],on:{click:function(e){e.stopPropagation()}}},[n("span",{staticClass:"vjs-checkbox__inner"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"vjs-checkbox__original",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e.model},on:{change:[function(t){var n=e.model,r=t.target,o=!!r.checked;if(Array.isArray(n)){var i=e._i(n,null);r.checked?i<0&&(e.model=n.concat([null])):i>-1&&(e.model=n.slice(0,i).concat(n.slice(i+1)))}else e.model=o},function(t){return e.$emit("change",e.model)}],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}})])}),[],!1,null,null,null).exports,h=f({props:{path:{type:String,default:""},value:{type:String,default:""}},data:function(){return{focus:!1}},computed:{currentPath:function(){return this.path},model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{change:function(){this.$emit("change",this.model)}}},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:["vjs-radio",e.model===e.currentPath?"is-checked":""],on:{click:function(e){e.stopPropagation()}}},[n("span",{staticClass:"vjs-radio__inner"}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"vjs-radio__original",attrs:{type:"radio"},domProps:{value:e.currentPath,checked:e._q(e.model,e.currentPath)},on:{change:[function(t){e.model=e.currentPath},e.change],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}})])}),[],!1,null,null,null).exports,y={props:{visible:{required:!0,type:Boolean},data:{required:!0},showComma:Boolean,collapsedOnClickBrackets:Boolean},computed:{dataVisiable:{get:function(){return this.visible},set:function(e){this.collapsedOnClickBrackets&&this.$emit("update:visible",e)}}},methods:{toggleBrackets:function(){this.dataVisiable=!this.dataVisiable},bracketsFormatter:function(e){return this.showComma?e+",":e}}},v=f({mixins:[y],props:{showLength:Boolean},methods:{closedBracketsGenerator:function(e){var t=Array.isArray(e)?"[...]":"{...}";return this.bracketsFormatter(t)},lengthGenerator:function(e){return" // "+(Array.isArray(e)?e.length+" items":l()(e).length+" keys")}}},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("default"),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.dataVisiable,expression:"dataVisiable"}],staticClass:"vjs-tree__brackets",on:{click:function(t){return t.stopPropagation(),e.toggleBrackets(t)}}},[e._v("\n    "+e._s(Array.isArray(e.data)?"[":"{")+"\n  ")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.dataVisiable,expression:"!dataVisiable"}]},[n("span",{staticClass:"vjs-tree__brackets",on:{click:function(t){return t.stopPropagation(),e.toggleBrackets(t)}}},[e._v("\n      "+e._s(e.closedBracketsGenerator(e.data))+"\n    ")]),e._v(" "),e.showLength?n("span",{staticClass:"vjs-comment"},[e._v("\n      "+e._s(e.lengthGenerator(e.data))+"\n    ")]):e._e()])],2)}),[],!1,null,null,null).exports,g=f({mixins:[y]},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.dataVisiable,expression:"dataVisiable"}]},[n("span",{staticClass:"vjs-tree__brackets",on:{click:function(t){return t.stopPropagation(),e.toggleBrackets(t)}}},[e._v("\n    "+e._s(e.bracketsFormatter(Array.isArray(e.data)?"]":"}"))+"\n  ")])])}),[],!1,null,null,null),b=f({name:"VueJsonPretty",components:{SimpleText:p,VueCheckbox:d,VueRadio:h,BracketsLeft:v,BracketsRight:g.exports},props:{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},path:{type:String,default:"root"},selectableType:{type:String,default:""},showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},selectOnClickNode:{type:Boolean,default:!0},value:{type:[Array,String],default:function(){return""}},pathSelectable:{type:Function,default:function(){return!0}},highlightMouseoverNode:{type:Boolean,default:!1},highlightSelectedNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},customValueFormatter:{type:Function,default:null},parentData:{type:[String,Number,Boolean,Array,Object],default:null},currentDeep:{type:Number,default:1},currentKey:{type:[Number,String],default:""}},data:function(){return{visible:this.currentDeep<=this.deep,isMouseover:!1,currentCheckboxVal:!!Array.isArray(this.value)&&this.value.includes(this.path)}},computed:{model:{get:function(){var e="multiple"===this.selectableType?[]:"single"===this.selectableType?"":null;return this.value||e},set:function(e){this.$emit("input",e)}},lastKey:function(){if(Array.isArray(this.parentData))return this.parentData.length-1;if(this.isObject(this.parentData)){var e=l()(this.parentData);return e[e.length-1]}return""},notLastKey:function(){return this.currentKey!==this.lastKey},selectable:function(){return this.pathSelectable(this.path,this.data)&&(this.isMultiple||this.isSingle)},isMultiple:function(){return"multiple"===this.selectableType},isSingle:function(){return"single"===this.selectableType},isSelected:function(){return this.isMultiple?this.model.includes(this.path):!!this.isSingle&&this.model===this.path},prettyKey:function(){return this.showDoubleQuotes?'"'+this.currentKey+'"':this.currentKey},propsError:function(){return!this.selectableType||this.selectOnClickNode||this.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}},watch:{deep:function(e){this.visible=this.currentDeep<=e},propsError:{handler:function(e){if(e)throw new Error("[vue-json-pretty] "+e)},immediate:!0}},methods:{handleValueChange:function(e){var t=this;if(!this.isMultiple||"checkbox"!==e&&"tree"!==e){if(this.isSingle&&("radio"===e||"tree"===e)&&this.model!==this.path){var n=this.model,r=this.path;this.model=r,this.$emit("change",r,n)}}else{var o=this.model.findIndex((function(e){return e===t.path})),i=[].concat(s()(this.model));-1!==o?this.model.splice(o,1):this.model.push(this.path),"checkbox"!==e&&(this.currentCheckboxVal=!this.currentCheckboxVal),this.$emit("change",this.model,i)}},handleClick:function(e){e._uid&&e._uid!==this._uid||(e._uid=this._uid,this.$emit("click",this.path,this.data),this.selectable&&this.selectOnClickNode&&this.handleValueChange("tree"))},handleItemClick:function(e,t){this.$emit("click",e,t)},handleItemChange:function(e,t){this.selectable&&this.$emit("change",e,t)},handleMouseover:function(){this.highlightMouseoverNode&&(this.selectable||""===this.selectableType)&&(this.isMouseover=!0)},handleMouseout:function(){this.highlightMouseoverNode&&(this.selectable||""===this.selectableType)&&(this.isMouseover=!1)},isObject:function(e){return"object"===c(e)},getChildPath:function(e){return this.path+(Array.isArray(this.data)?"["+e+"]":e.includes(".")?'["'+e+'"]':"."+e)}},errorCaptured:function(){return!1}},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"vjs-tree":!0,"has-selectable-control":e.isMultiple||e.showSelectController,"is-root":1===e.currentDeep,"is-selectable":e.selectable,"is-selected":e.isSelected,"is-highlight-selected":e.isSelected&&e.highlightSelectedNode,"is-mouseover":e.isMouseover},on:{click:e.handleClick,mouseover:function(t){return t.stopPropagation(),e.handleMouseover(t)},mouseout:function(t){return t.stopPropagation(),e.handleMouseout(t)}}},[e.showSelectController&&e.selectable?[e.isMultiple?n("vue-checkbox",{on:{change:function(t){return e.handleValueChange("checkbox")}},model:{value:e.currentCheckboxVal,callback:function(t){e.currentCheckboxVal=t},expression:"currentCheckboxVal"}}):e.isSingle?n("vue-radio",{attrs:{path:e.path},on:{change:function(t){return e.handleValueChange("radio")}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):e._e()]:e._e(),e._v(" "),Array.isArray(e.data)||e.isObject(e.data)?[n("brackets-left",{attrs:{visible:e.visible,data:e.data,"show-length":e.showLength,"collapsed-on-click-brackets":e.collapsedOnClickBrackets,"show-comma":e.notLastKey},on:{"update:visible":function(t){e.visible=t}}},[e.currentDeep>1&&!Array.isArray(e.parentData)?n("span",{staticClass:"vjs-key"},[e._v("\n        "+e._s(e.prettyKey)+":\n      ")]):e._e()]),e._v(" "),e._l(e.data,(function(t,r){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],key:r,class:{"vjs-tree__content":!0,"has-line":e.showLine}},[n("vue-json-pretty",{attrs:{"parent-data":e.data,data:t,deep:e.deep,"show-length":e.showLength,"show-double-quotes":e.showDoubleQuotes,"show-line":e.showLine,"highlight-mouseover-node":e.highlightMouseoverNode,"highlight-selected-node":e.highlightSelectedNode,path:e.getChildPath(r),"path-selectable":e.pathSelectable,"selectable-type":e.selectableType,"show-select-controller":e.showSelectController,"select-on-click-node":e.selectOnClickNode,"collapsed-on-click-brackets":e.collapsedOnClickBrackets,"current-key":r,"current-deep":e.currentDeep+1,"custom-value-formatter":e.customValueFormatter},on:{click:e.handleItemClick,change:e.handleItemChange},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)})),e._v(" "),n("brackets-right",{attrs:{visible:e.visible,data:e.data,"collapsed-on-click-brackets":e.collapsedOnClickBrackets,"show-comma":e.notLastKey},on:{"update:visible":function(t){e.visible=t}}})]:n("simple-text",{attrs:{"custom-value-formatter":e.customValueFormatter,"show-double-quotes":e.showDoubleQuotes,"show-comma":e.notLastKey,"parent-data":e.parentData,data:e.data,"current-key":e.currentKey}},[e.parentData&&e.currentKey&&!Array.isArray(e.parentData)?n("span",{staticClass:"vjs-key"},[e._v("\n      "+e._s(e.prettyKey)+":\n    ")]):e._e()])],2)}),[],!1,null,null,null).exports;n(65),t.default=o()({},b,{version:i.version})},function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],s={id:e+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return d}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,l=!1,c=function(){},f=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function d(e,t,n,o){l=n,f=o||{};var a=r(e,t);return h(a),function(t){for(var n=[],o=0;o<a.length;o++){var s=a[o];(u=i[s.id]).refs--,n.push(u)}for(t?h(a=r(e,t)):a=[],o=0;o<n.length;o++){var u;if(0===(u=n[o]).refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete i[u.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(v(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(v(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:a}}}}function y(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function v(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(l)return c;r.parentNode.removeChild(r)}if(p){var o=u++;r=s||(s=y()),t=m.bind(null,r,o,!1),n=m.bind(null,r,o,!0)}else r=y(),t=_.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var g,b=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function m(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function _(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),f.ssrId&&e.setAttribute("data-vue-ssr-id",t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}])}))},"83b0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return e.reload?t("avue-crud",{ref:"crudRef",staticClass:"param-table",attrs:{option:e.option,data:e.data,"table-loading":e.loading,"row-class-name":e.tableRowClassName},on:{"row-del":e.rowDel,"row-update":e.addUpdate},nativeOn:{click:function(t){return e.clickNative.apply(null,arguments)}},scopedSlots:e._u([{key:"key",fn:function(n){var r=n.row,o=n.size;return[r.$cellEdit?t("div",{staticClass:"with-icon"},[t("el-input",{staticStyle:{"padding-right":"6px"},attrs:{size:o,placeholder:"请输入字段(必填)",clearable:""},model:{value:r.key,callback:function(t){e.$set(r,"key",t)},expression:"row.key"}}),t("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("span",[e._v("\n            JSON和XML字段支持多级，用点分隔，如 user.name 或 user.address.city；"),t("br"),e._v("\n            form-data和x-www-form-urlencoded字段不支持多级；\n          ")])]),t("i",{staticClass:"el-icon-question"})])],1):t("div",[e._v(" "+e._s(r.key))])]}},{key:"paramType",fn:function(n){var r=n.row,o=n.size;return[r.$cellEdit?t("el-select",{attrs:{size:o,placeholder:"请选择类型(必填)"},on:{change:function(t){return e.paramTypeChange(r)}},model:{value:r.paramType,callback:function(t){e.$set(r,"paramType",t)},expression:"row.paramType"}},e._l(e.paramType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):t("div",[e._v("\n      "+e._s(e.getParamTypeName(r.paramType))+"\n    ")])]}},{key:"dataType",fn:function(n){var r=n.row,o=n.size;return[r.$cellEdit?t("div",{staticClass:"with-icon"},["fixed"===r.paramType?t("el-select",{attrs:{size:o,placeholder:"请选择数据类型(必填)",clearable:""},on:{change:function(t){return e.dataTypeChange(r)}},model:{value:r.dataType,callback:function(t){e.$set(r,"dataType",t)},expression:"row.dataType"}},e._l(e.fixedDataType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):"quote"===r.paramType||"fn"===r.paramType?t("el-select",{staticStyle:{"padding-right":"6px"},attrs:{size:o,placeholder:"请选择数据类型(非必填)",clearable:""},on:{change:function(t){return e.dataTypeChange(r)}},model:{value:r.dataType,callback:function(t){e.$set(r,"dataType",t)},expression:"row.dataType"}},e._l(e.quoteDataType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),"quote"===r.paramType?t("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("span",[e._v("\n          引用值的数据类型为非必填，默认使用引用值原来的类型；"),t("br"),e._v("\n          如果选择了数据类型，系统会将引用值强转为所选类型，"),t("br"),e._v("\n          请确保引用值可以被强转为所选数据类型，如果强转失败会抛异常。"),t("br"),e._v("\n          如：引用值为abc, 数据类型选int时会导致强转失败。\n        ")])]),t("i",{staticClass:"el-icon-question"})]):e._e()],1):t("div",[e._v(" "+e._s(r.dataType))])]}},{key:"value",fn:function(n){var r=n.row,o=n.size;return[r.$cellEdit?t("div",["script"===r.paramType?t("el-button",{attrs:{type:"text",size:o},on:{click:function(t){return e.openScript(r)}}},[e._v("\n        "+e._s(r.value||"新增脚本")+"\n      ")]):"fixed"===r.paramType&&"boolean"===r.dataType?t("el-select",{attrs:{placeholder:"请选择字段值(必填)",size:o,clearable:""},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"row.value"}},[t("el-option",{attrs:{label:"true",value:!0}}),t("el-option",{attrs:{label:"false",value:!1}})],1):"fixed"===r.paramType&&"number"===r.dataType?t("el-input",{attrs:{size:o,placeholder:"请输入字段值(必填)",type:"number",clearable:""},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"row.value"}}):t("el-autocomplete",{staticStyle:{width:"100%","padding-right":"6px"},attrs:{placeholder:"请输入字段值(必填)","fetch-suggestions":function(t,n){return e.searchParamOptions(r,t,n)},clearable:""},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"row.value"}}),"quote"===r.paramType?t("quote-tooltip"):e._e(),"fn"===r.paramType?t("div",{staticClass:"fun-desc"},[e._v("\n        函数列表请参考： \n        "),t("el-link",{staticClass:"link",attrs:{type:"primary",href:"https://www.fizzgate.com/guide/aggregate/function.html",target:"_blank"}},[e._v("函数文档")])],1):e._e()],1):!r.$cellEdit&&"script"===r.paramType&&e.disabled?t("div",{staticClass:"script-view",on:{click:function(t){return e.openScript(r)}}},[e._v("\n      "+e._s(r.value||"无")+"\n    ")]):t("div",[e._v(" "+e._s(r.value))]),"script"===r.paramType?t("script-dialog",{attrs:{visible:e.scriptVisible,disabled:e.disabled,"business-type":e.businessType,callback:e.scriptCallback,id:e.scriptId,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:visible":function(t){e.scriptVisible=t},"update:id":function(t){e.scriptId=t}}}):e._e()]}},{key:"desc",fn:function(n){var r=n.row,o=n.size;return[r.$cellEdit?t("el-input",{attrs:{size:o,placeholder:"请输入说明",clearable:"",type:"textarea",resize:"none",autosize:{maxRows:3}},model:{value:r.desc,callback:function(t){e.$set(r,"desc",t)},expression:"row.desc"}}):e._e(),!r.$cellEdit&&r.desc?t("el-tooltip",{attrs:{"popper-class":"tooltip-desc",effect:"dark",placement:"bottom",content:r.desc}},[t("div",{staticClass:"desc"},[t("pre",[e._v(e._s(r.desc))])]),t("div",{attrs:{slot:"content"},slot:"content"},[t("pre",[e._v(e._s(r.desc))])])]):e._e()]}}],null,!1,143381475)}):e._e()},o=[],i=(n("8e6e"),n("6762"),n("2fdb"),n("7514"),n("456d"),n("ac6a"),n("7618")),a=(n("28a5"),n("c5f6"),n("4917"),n("3b2b"),n("d263"),n("bd86")),s=n("2fa9"),u=n("cc38"),l=n("5880"),c=n("16cd"),f=n("e683"),p=n("c54a");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y="raw",v={name:"params-table",props:{fixed:{type:[Object,Array],default:function(){return{}}},quote:{type:[Object,Array],default:function(){return{}}},disabled:{type:Boolean,default:!1},businessType:{type:String},rules:{type:Object},multipleValues:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0},showDescColumn:{type:Boolean,default:!1},fieldDesc:{type:Array,default:function(){return[]}}},data:function(){return{reload:!1,loading:!1,scriptVisible:!1,scriptId:"",scriptRow:{},scriptContent:"",fixedDataType:f["f"],quoteDataType:f["h"],paramType:f["g"],data:[],option:{addBtn:!1,editBtn:!1,cancelBtn:!1,refreshBtn:!1,columnBtn:!1,cellBtn:!0,addBtnText:"添加",addRowBtn:!this.disabled,menu:!this.disabled,menuWidth:130,column:[{label:"字段",prop:"key",slot:!0,cell:!0,rules:[{required:!0,message:"请输入字段",trigger:"blur"}]},{label:"类型",prop:"paramType",type:"select",slot:!0,cell:!0,rules:[{required:!0,message:"请选择类型",trigger:"blur"}]},{label:"数据类型",prop:"dataType",slot:!0,cell:!0},{label:"值",prop:"value",minWidth:200,cell:!0,slot:!0},{label:"说明",prop:"desc",cell:!0,slot:!0,showColumn:this.showDescColumn}]}}},components:{scriptDialog:s["default"],quoteTooltip:u["default"]},computed:h(h({},Object(l["mapGetters"])(["paramOptions"])),{},{dataObj:function(){return{fixed:this.fixed,quote:this.quote}}}),watch:{rules:{immediate:!0,deep:!0,handler:function(e){e&&this.initOption()}},dataObj:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},disabled:function(e,t){e!==t&&(this.option.addRowBtn=!e,this.option.menu=!e)},multipleValues:{immediate:!0,handler:function(){this.emitData()}}},methods:{clickNative:function(e){var t=this.findTagName(e.target,"BUTTON"),n=new RegExp(this.option.addBtnText);if(t&&n.test(t.innerText)){var r=document.querySelector(".el-drawer__body");this.scrollIntoView(r,this.$refs.crudRef.$el,0,50)}},findTagName:function(e,t){return e.tagName===t?e:!!e.parentElement&&this.findTagName(e.parentElement,t)},scrollIntoView:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e&&t)if(t){var o=[],i=t.offsetParent;while(i&&e!==i&&e.contains(i))o.push(i),i=i.offsetParent;var a=t.offsetTop+o.reduce((function(e,t){return e+t.offsetTop}),0),s=a+t.offsetHeight,u=e.scrollTop,l=u+e.clientHeight;a-n<u?e.scrollTop=a-n:s+r>l&&(e.scrollTop=s-e.clientHeight+r)}else e.scrollTop=0},searchParamOptions:function(e,t,n){if("quote"===e.paramType){var r=this.paramOptions.filter((function(e){return e.value.match(Object(c["a"])(t))}));n(r)}else n(null)},tableRowClassName:function(e){var t=e.row;return t.$cellEdit?"row-edit":""},initOption:function(){var e=this;this.option.column=this.option.column.map((function(t){if("key"===t.prop){var n=e.rules&&e.rules["key"]||[];t.rules=t.rules.concat(n)}if("value"===t.prop){var r=e.rules&&e.rules["value"]||[];t.rules=(t.rules||[]).concat(r)}return t}))},addUpdate:function(e,t,n,r){return"fixed"!==e.paramType||"json"!==e.dataType||Object(p["m"])(e.value)?"fixed"!==e.paramType||e.dataType?e.value||!1===e.value||0===e.value?"fn"===e.paramType&&"fn."!==e.value.substring(0,3)?(this.$message.error("第".concat(t+1,'行: 函数类型的字段值应该以 "fn." 开头')),r(),!1):("fixed"===e.paramType&&"number"===e.dataType&&(e.value=Number(e.value)),this.emitData(),r(),void n()):(this.$message.error("第".concat(t+1,"行: 字段值不能为空")),r(),!1):(this.$message.error("第".concat(t+1,"行: 固定值类型字段请选择数据类型")),r(),!1):(this.$message.error("第".concat(t+1,"行: json类型字段值格式不正确！")),r(),!1)},renderQuoteItem:function(e,t){if("string"===typeof t){var n=t.split(" "),r=this.quoteDataType.filter((function(e){return e.value===n[0]}));n=r.length>0?[r[0].value,t.substring(r[0].value.length+1)]:[t];var o=n[n.length-1]&&"fn."===n[n.length-1].substring(0,3);return{key:e,paramType:o?"fn":"quote",dataType:n.length>1?n[0]:y,value:n[n.length-1]}}if("object"===Object(i["a"])(t))return{key:e,paramType:"script",dataType:"",value:t}},initData:function(e){var t=this,n=e.fixed,r=e.quote;this.reload=!1;var o=[];Object(p["d"])(n,"object")?Object.keys(n).forEach((function(e){var t=Object(p["c"])(n[e])?"json":Object(i["a"])(n[e])||"",r=Object(p["c"])(n[e])?JSON.stringify(n[e]):n[e];o.push({key:e,paramType:"fixed",dataType:t,value:r})})):Object(p["d"])(n,"array")&&n.forEach((function(e){var t=Object(p["c"])(e.value)?"json":Object(i["a"])(e.value)||"",n=Object(p["c"])(e.value)?JSON.stringify(e.value):e.value;o.push({key:e.key,paramType:"fixed",dataType:t,value:n})})),Object(p["d"])(r,"object")?Object.keys(r).forEach((function(e){o.push(t.renderQuoteItem(e,r[e]))})):Object(p["d"])(r,"array")&&r.forEach((function(e){o.push(t.renderQuoteItem(e.key,e.value))})),this.data=o,this.reload=!0,this.initTableDesc()},initTableDesc:function(){var e=this;this.data.map((function(t,n){for(var r=0;r<e.fieldDesc.length;r++)e.fieldDesc[r].key===t.key&&e.fieldDesc[r].paramType===t.paramType&&e.$set(e.data[n],"desc",e.fieldDesc[r].desc);return t}))},handleData:function(){if(this.multipleValues){var e=[],t=[];return this.data.forEach((function(n){if("fixed"===n.paramType){var r="json"===n.dataType?JSON.parse(n.value):n.value;e.push({key:n.key,value:r})}else"quote"===n.paramType||"fn"===n.paramType?t.push({key:n.key,value:n.dataType&&n.dataType!==y?"".concat(n.dataType," ").concat(n.value):n.value}):t.push({key:n.key,value:n.value})})),{fixed:e,quote:t}}var n={},r={};return this.data.forEach((function(e){"fixed"===e.paramType?n[e.key]="json"===e.dataType?JSON.parse(e.value):e.value:"quote"===e.paramType||"fn"===e.paramType?r[e.key]=e.dataType&&e.dataType!==y?"".concat(e.dataType," ").concat(e.value):e.value:r[e.key]=e.value})),{fixed:n,quote:r}},getParamTypeName:function(e){var t=this.paramType.find((function(t){return t.value===e}))||{};return t.label||""},getScriptId:function(e){if(!e)return this.scriptId="","";var t="string"===typeof e?JSON.parse(e):e;return this.scriptId=t["aggregate_config_script_id"]||"",this.scriptId},dataTypeChange:function(e){"fixed"===e.paramType&&e.value?e.value=null:["quote","fn"].includes(e.paramType)&&!e.dataType&&(e.dataType=y)},paramTypeChange:function(e){["quote","fn"].includes(e.paramType)?e.dataType=y:e.dataType&&(e.dataType=""),e.value&&(e.value=null)},openScript:function(e){this.scriptRow=e,this.scriptId=this.getScriptId(e.value||""),this.scriptVisible=!0},scriptCallback:function(){this.scriptRow.value=this.scriptId?{aggregate_config_script_id:this.scriptId}:"",this.data[this.scriptRow.$index]=Object.assign({},this.scriptRow)},renderFieldData:function(){var e=[];return this.data.forEach((function(t){t.desc&&e.push({key:t.key,paramType:t.paramType,desc:t.desc})})),e},emitData:function(){var e=this.handleData(),t=e.fixed,n=e.quote;this.$emit("update:field-desc",this.renderFieldData()),this.$emit("update:fixed",t),this.$emit("update:quote",n)},rowDel:function(e,t){this.isDelScriptWithHttp||"script"!==e.paramType||this.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e.value.aggregate_config_script_id),this.data.splice(t,1),this.emitData()}}},g=v,b=(n("9806"),n("b791"),n("2877")),m=Object(b["a"])(g,r,o,!1,null,"490318e6",null);t["default"]=m.exports},8487:function(e,t,n){"use strict";n("eda0")},"85ff":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"node-request-head"},[e._v("节点ID："+e._s(e.model.id))]),t("div",{staticClass:"node-request-body"},[t("div",[e._v("\n    "+e._s(e.model.properties.serviceName?"服务名："+e.model.properties.serviceName:"")+"\n  ")]),t("div",[e._v("\n    "+e._s(e.model.properties.method?"方法："+e.model.properties.method:"")+"\n  ")])]),t("div",{staticClass:"node-request-footer"},[e.model.type?t("span",{staticClass:"node-request-logo"},[e._v("\n      "+e._s(e.model.type)+"\n    ")]):e._e(),t("span",{on:{click:e.onComponentClick}},[e._v("组件："+e._s(e.componentCount))])])])},o=[],i={name:"RequestVueNode",props:{model:{type:Object,default:function(){return{id:"",properties:{components:[]}}}},graphModel:{type:Object}},data:function(){return{}},methods:{onComponentClick:function(e){window.event?window.event.cancelBubble=!0:e.stopPropagation();var t=this.$props,n=t.graphModel,r=t.model,o=r.getData();return n.eventCenter.emit("node:components:click",{target:n,model:o}),!1}},computed:{componentCount:function(){return this.model.properties.components?this.model.properties.components.length:0}},mounted:function(){},watch:{}},a=i,s=n("2877"),u=Object(s["a"])(a,r,o,!1,null,"32bdd3a2",null);t["default"]=u.exports},8602:function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("basic-container",{staticClass:"aggregate-api"},[t("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList,"cell-class-name":"api-cell"},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"currentState",fn:function(n){var r=n.row;return[r.debugMode?t("el-tag",{staticStyle:{"margin-bottom":"6px"},attrs:{size:"small"}},[e._v("Debug")]):e._e(),t("api-state-tag",{attrs:{"is-modified":r.isModified,"current-state":r.currentState,"approval-state":r.approvalState}})]}},{key:"menu",fn:function(n){var r=n.row,o=n.type,i=n.size;return[e.permissionList.viewBtn?t("el-button",{attrs:{icon:"el-icon-view",size:i,type:o},on:{click:function(t){return e.goDetail(r,"view")}}},[e._v("查看\n      ")]):e._e(),e.permissionList.editBtn&&1!==r.approvalState&&2!==r.approvalState&&3!==r.approvalState?t("el-button",{attrs:{icon:"el-icon-edit",size:i,type:o},on:{click:function(t){return e.goDetail(r,"edit")}}},[e._v("编辑\n      ")]):e._e(),e.permissionList.delBtn?t("el-button",{attrs:{icon:"el-icon-delete",size:i,type:o},on:{click:function(t){return e.rowDel(r)}}},[e._v("删除\n      ")]):e._e(),t("el-button",{attrs:{icon:"el-icon-box",size:i,type:o},on:{click:function(t){return e.rowTest(r)}}},[e._v("测试\n      ")]),e.permissionList.offlineBtn&&3===r.approvalState?t("el-button",{attrs:{icon:"el-icon-bottom",size:i,type:o},on:{click:function(t){return e.offline(r)}}},[e._v("下线\n      ")]):e._e(),e.permissionList.publishBtn&&2===r.approvalState?t("el-button",{attrs:{icon:"el-icon-s-promotion",size:i,type:o},on:{click:function(t){return e.publish(r)}}},[e._v("发布\n      ")]):e._e(),0!==r.currentState?t("el-button",{attrs:{icon:"el-icon-s-operation",size:i,type:o},on:{click:function(t){return e.publishHistory(r)}}},[e._v("发布历史\n      ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[t("template",{slot:"menuLeft"},[e.permissionList.importBtn?t("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-upload2",plain:""},on:{click:e.handleImport}},[e._v("导 入\n      ")]):e._e(),e.permissionList.exportBtn?t("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-download",plain:""},on:{click:e.handleExport}},[e._v("导 出\n      ")]):e._e(),e.permissionList.applyBtn?t("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.handleApply}},[e._v("发布|下线申请\n      ")]):e._e(),e.permissionList.debugBtn?t("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(t){return e.handleDebug(1)}}},[e._v("打开调试模式\n      ")]):e._e(),e.permissionList.debugBtn?t("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(t){return e.handleDebug(0)}}},[e._v("关闭调试模式\n      ")]):e._e()],1)],2),t("el-dialog",{attrs:{title:"导入配置","append-to-body":"",visible:e.importDialog,"show-close":!1,width:"600px"},on:{"update:visible":function(t){e.importDialog=t}}},[t("div",[t("el-upload",{ref:"upload",attrs:{accept:"application/json",limit:1,"file-list":e.fileList,"on-change":e.handleChange,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"auto-upload":!1}},[t("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传json文件")])],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("div",{staticStyle:{padding:"12px 0"}},[t("el-checkbox",{model:{value:e.importData.force,callback:function(t){e.$set(e.importData,"force",t)},expression:"importData.force"}},[e._v("强制覆盖")])],1),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitUpload}},[e._v("确 定")]),t("el-button",{attrs:{size:"small"},on:{click:e.closeImportDialog}},[e._v("取 消")])],1)]),t("publish-dialog",{attrs:{visible:e.publishDialog.visible,name:e.publishDialog.name,id:e.publishDialog.id,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.publishDialog,"visible",t)}}}),t("apply-dialog",{attrs:{visible:e.applyDialog.visible,list:e.applyDialog.list,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.applyDialog,"visible",t)}}})],1)},o=[],i=(n("8e6e"),n("456d"),n("ac6a"),n("bd86")),a=n("708f"),s=n("f874"),u=n("5880"),l=n("047b"),c=n("247e"),f=n("5a57");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{dialogWidth:900,border:!0,index:!0,selection:!0,tip:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"所属服务",prop:"serviceName",search:!0},{label:"接口名",prop:"name",minWidth:120,search:!0},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120,search:!0},{label:"开发人员",prop:"developer"},{label:"状态",prop:"currentState",slot:!0,width:100,align:"center",search:!0,type:"select",dicData:s["a"]},{label:"版本号",prop:"version",width:80}]},data:[],publishDialog:{visible:!1,title:"接口",name:"",id:""},applyDialog:{visible:!1,list:[]},importDialog:!1,fileList:[],files:null,importData:{force:!1},importHeaders:{"Content-Type":"multipart/form-data"}}},computed:d(d({},Object(u["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.aggregate_api_add,!1),viewBtn:this.vaildData(this.permission.aggregate_api_view,!1),delBtn:this.vaildData(this.permission.aggregate_api_delete,!1),editBtn:this.vaildData(this.permission.aggregate_api_edit,!1),publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1),offlineBtn:this.vaildData(this.permission.aggregate_api_offline,!1),importBtn:this.vaildData(this.permission.aggregate_api_import,!1),exportBtn:this.vaildData(this.permission.aggregate_api_export,!1),applyBtn:this.vaildData(this.permission.aggregate_api_apply,!1),debugBtn:this.vaildData(this.permission.aggregate_api_debug,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},serviceName:function(){return this.$route.query.serviceName||""}}),components:{publishDialog:l["default"],applyDialog:c["default"],apiStateTag:f["default"]},beforeRouteUpdate:function(e,t,n){e.fullPath!==t.fullPath&&(this.option.column=this.option.column.map((function(e){return e.searchValue&&(e.searchValue=""),e})),this.query={},n(),this.onLoad(this.page,Object.assign({},e.query)))},watch:{serviceName:{immediate:!0,handler:function(e){e&&(this.query.serviceName=e,this.option.column[0].searchValue=e)}},data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{goDetail:function(e,t){if(this.form=e,"add"===t||this.form.id){var n="/aggregate/detail/".concat(t);this.$router.push({path:n,query:{originId:this.form.id}})}else this.$message.error("数据缺失，无法操作！")},handleApply:function(){this.applyDialog.visible=!0},offline:function(e){var t=this;this.$confirm("确定下线【".concat(e.name,"】此接口吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(a["i"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"下线成功"})}))},publish:function(e){e.id?(this.publishDialog.visible=!0,this.publishDialog.name=e.name,this.publishDialog.id=e.id):this.$message.error("数据缺失，无法发布！")},publishHistory:function(e){e.id?this.$router.push({path:"/aggregate/history",query:{originId:e.id}}):this.$message.error("数据缺失，无法查看发布历史！")},handleImport:function(){this.importDialog=!0},handleChange:function(e,t){this.files=t&&t[0]},handleRemove:function(e,t){this.files=t&&t[0]},handleExceed:function(){this.$message.warning("文件超出个数限制，每次仅允许导入一个文件!")},closeImportDialog:function(){this.importDialog=!1,this.fileList=[],this.files=null},beforeUpload:function(e){var t=e&&e.raw,n=t&&t.name||"",r=t&&t.type||"",o=r.indexOf("json")>-1||!1;return n?o||(this.$message.warning("上传模板只能是json格式!"),!1):(this.$message.warning("请选择要上传的文件！"),!1)},submitUpload:function(){var e=this,t=this.beforeUpload(this.files);if(!t)return!1;var n=this.files.raw,r=n.name,o=new FormData;o.append("file",n,r),o.append("force",this.importData.force),Object(a["h"])(o).then((function(){e.$message.success("导入成功"),e.importDialog=!1,e.onLoad(e.page)}))},handleExport:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据导出?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(a["d"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"导出成功"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},rowDel:function(e){var t=this;this.$confirm("确定删除【".concat(e.name,"】此接口吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(a["l"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},rowTest:function(e){var t=this.$route;this.$router.push({path:"/aggregate/test",query:{originId:e.id,redirect:encodeURIComponent(t.fullPath)}})},handleDebug:function(e){var t=this;0!==this.selectionList.length?this.$confirm(e?"确定打开调试模式?":"确定关闭调试模式?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e?Object(a["j"])(t.ids):Object(a["c"])(t.ids)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"模式调整成功"}),t.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(a["l"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"删除成功"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){if("add"===t||this.form.id){var n="/aggregate/detail/".concat(t);this.$router.push({path:n,query:{originId:this.form.id}})}else this.$message.error("数据缺失，无法操作！")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(a["g"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},y=h,v=(n("6962"),n("2877")),g=Object(v["a"])(y,r,o,!1,null,null,null);t["default"]=g.exports},"892a":function(e,t,n){"use strict";n.r(t);n("a481"),n("7f7f");var r,o,i=n("65d4"),a=n("9653"),s={name:"log-detail",mixins:[i["default"]],data:function(){return{disabled:!0,businessType:"log"}},methods:{getDetail:function(e){var t=this;if(!this.originId)return this.formData={},void(this.baseConfigs={});Object(a["a"])(this.originId).then((function(n){t.formData=n.data.data||{};var r=Object.assign({},t.formData),o=r.id,i=void 0===o?"":o,a=r.serviceId,s=void 0===a?"":a,u=r.name,l=void 0===u?"":u,c=r.method,f=void 0===c?"":c,p=r.path,d=void 0===p?"":p,h=r.developer,y=void 0===h?"":h,v=r.description,g=void 0===v?"":v,b=r.serviceName,m=void 0===b?"":b;d=d.replace("/proxy/".concat(m,"/"),""),t.baseConfigs={id:i,serviceId:s,name:l,method:f,path:d,developer:y,description:g,serviceName:m},e&&e(),t.showV3UpdateTip=!1}))}}},u=s,l=n("2877"),c=Object(l["a"])(u,r,o,!1,null,"2cffd211",null);t["default"]=c.exports},8952:function(e,t,n){},"8c58":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-form",{ref:"form",attrs:{model:e.form,size:"small"}},[e.disabled?e._e():t("el-button",{staticClass:"add-btn",attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addRow}},[e._v("添加")]),e.reload?t("el-table",{ref:"multipleTable",staticClass:"value-table",attrs:{data:e.form.list,size:"small"},on:{"selection-change":e.handleSelectionChange}},[e.disabled?e._e():t("el-table-column",{attrs:{type:"selection",width:"30",selectable:e.selectable}}),t("el-table-column",{attrs:{prop:"key",label:"字段"},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.row,o=n.$index;return[e.disabled?t("span",[e._v(e._s(r.key))]):t("el-form-item",{attrs:{prop:"list."+o+".key",rules:e.form.rules.key,"show-message":!1}},[e.isUpload?t("el-input",{model:{value:r.key,callback:function(t){e.$set(r,"key",t)},expression:"row.key"}},[t("el-select",{staticClass:"input-with-select",attrs:{slot:"append",placeholder:"请选择"},on:{change:function(e){r.value=""}},slot:"append",model:{value:r.type,callback:function(t){e.$set(r,"type",t)},expression:"row.type"}},[t("el-option",{attrs:{label:"Text",value:"Text"}}),t("el-option",{attrs:{label:"File",value:"File"}})],1)],1):t("el-input",{model:{value:r.key,callback:function(t){e.$set(r,"key",t)},expression:"row.key"}})],1)]}}],null,!1,806158917)}),t("el-table-column",{attrs:{prop:"value",label:"值"},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.row,o=n.$index;return[t("el-form-item",{attrs:{prop:"list."+o+".value",rules:r.required?e.form.rules.value:[],"show-message":!1}},[t("div",{staticClass:"value-row"},[e.isUpload&&"File"===r.type&&!e.disabled?t("div",[t("span",{staticClass:"upload"},[e._v("\n                Select Files\n                "),t("input",{staticClass:"upload-input",attrs:{type:"file",multiple:"multiplt"},on:{change:function(t){return e.getFile(t,o)}}})])]):e._e(),"File"===r.type||e.disabled?t("span",[e._v(e._s(r.value))]):t("el-input",{staticClass:"value-input",model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"row.value"}})],1)])]}}],null,!1,196387330)}),e.disabled?e._e():t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"50"},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.row,o=n.$index;return[t("el-button",{attrs:{size:"small",type:"text",disabled:r.required},on:{click:function(t){return e.handleDelete(o)}}},[e._v("删除")])]}}],null,!1,602089605)})],1):e._e()],1)},o=[],i=(n("8e6e"),n("7f7f"),n("bd86")),a=(n("20d6"),n("456d"),n("ac6a"),n("c54a"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={name:"valuesTable",props:{data:{type:[Object,Array],default:function(){return[]}},disabled:{type:Boolean,default:!1},isUpload:{type:Boolean,default:!1}},data:function(){return{reload:!1,multipleSelection:[],form:{list:[],rules:{key:[{required:!0,message:"请输入字段",trigger:"blur"}],value:[{required:!0,message:"请输入字段值或上传文件",trigger:"blur"}]}},isFirst:!0}},watch:{isUpload:{immediate:!0,handler:function(){var e=this.data.length>=this.form.list.length?this.data:this.form.list;this.initData(e)}}},methods:{addRow:function(){var e={key:"",value:"",type:"Text"};this.form.list.push(e),this.toggleSelection([e])},handleDelete:function(e){this.form.list.splice(e,1)},handleSelectionChange:function(e){this.multipleSelection=e},initData:function(e){var t=this;if(this.reload=!1,Object(a["d"])(e,"object")){var n=[];Object.keys(e).forEach((function(t){n.push({key:t,value:void 0===e[t]?"":e[t]})})),this.form.list=n}else{var r=[];e.forEach((function(e){t.isUpload&&!e.type&&(e.type="Text"),(t.isUpload||"File"!==e.type)&&(void 0===e.value&&(e.value=""),r.push(e))})),this.form.list=r}this.reload=!0,this.$nextTick((function(){t.toggleSelection(t.form.list),t.isFirst=!1}))},handleData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[];return this.form.list.forEach((function(r){var o=e.isUpload?{files:r.files,type:r.type}:{},i=e.multipleSelection.findIndex((function(e){return e===r}))>-1;(!t&&i||t)&&n.push(u({key:r.key,value:r.value,required:r.required},o))})),n},selectable:function(e){return!e.required},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e,!0)})):this.$refs.multipleTable.clearSelection()},getFile:function(e,t){for(var n=this,r=e.target.files,o=[],i=0;i<r.length;i++)o.push(r[i].name);var a=this.multipleSelection.findIndex((function(e){return e===n.form.list[t]})),s=u(u({},this.form.list[t]),{},{value:o.join(","),files:r});this.form.list.splice(t,1,s),a>-1&&this.toggleSelection([s])},emitData:function(){var e=this.handleData();this.$emit("update:data",e),this.$emit("updateData",e)},getCheckedData:function(){return this.handleData(!1)||[]},getAllData:function(){return this.handleData(!0)||[]},validate:function(){var e=this;return new Promise((function(t,n){e.$refs.form.validate((function(e){e?t():n("请完善表单！")}))}))}},mounted:function(){var e=this,t=[];Array.isArray(this.data)?t=this.data.length>=this.form.list.length?this.data:this.form.list:Object.keys(this.data).forEach((function(n){t.push({key:n,value:e.data[n]})})),this.initData(t)}},c=l,f=(n("3a729"),n("2877")),p=Object(f["a"])(c,r,o,!1,null,null,null);t["default"]=p.exports},"8cc3":function(e,t,n){},"8de7":function(e,t,n){"use strict";var r=n("75fc"),o=(n("7f7f"),n("6762"),n("ac6a"),n("1620")),i=n("25cb");t["a"]=function(){return{initNodeTips:function(){this.nodeTips=[{value:"input",id:"input"},{value:"input.request",id:"input.request"},{value:"input.request.headers",id:"input.request.params"},{value:"input.request.params",id:"input.request.params"},{value:"input.request.body",id:"input.request.body"}]},buildAllInputComplete:function(e){var t=this;this.initNodeTips();var n=["START","END"],r=new i["a"];return e=r.traveserNode(e),e.forEach((function(e){if(!n.includes(e.type)&&("CONTAINER"==e.type?t.addContainerNodeTip(e.id?e.id:e.name):t.addNodeTip(e.id?e.id:e.name),e.properties&&e.properties.components&&e.properties.components.length>0)){var r=e.properties.components.filter((function(e){return"circle"==e.type}));r.length>0&&t.addNodeCircleTip(e.id?e.id:e.name)}})),this.nodeTips},buildInputComplete:function(e,t,n){var r=this;if(this.initNodeTips(),n&&("CONTAINER"==t.type?this.addContainerNodeTip(t.id?t.id:t.name):this.addNodeTip(t.id?t.id:t.name)),t.properties&&t.properties.components&&t.properties.components.length>0){var i=t.properties.components.filter((function(e){return"circle"==e.type}));i.length>0&&this.addNodeCircleItemTip(t.id?t.id:t.name)}return o["b"].getNodesBeforeNodeId(t.id,e.nodes,e.edges,["START","END"]).forEach((function(e){if(e.id!==t.id&&("CONTAINER"==e.type?r.addContainerNodeTip(e.id?e.id:e.name):r.addNodeTip(e.id?e.id:e.name),e.properties&&e.properties.components&&e.properties.components.length>0)){var n=e.properties.components.filter((function(e){return"circle"==e.type}));n.length>0&&r.addNodeCircleTip(e.id?e.id:e.name)}})),this.nodeTips},addNodeCircleItemTip:function(e){var t=[{value:"node."+e+".item",id:"node."+e+".item"},{value:"node."+e+".item.name",id:"node."+e+".item.name"},{value:"node."+e+".index",id:"node."+e+".index"}];this.nodeTips=[].concat(Object(r["a"])(this.nodeTips),t)},addNodeCircleTip:function(e){var t=[{value:"node."+e+".circle[*]",id:"node."+e+".circle[*]"},{value:"node."+e+".circle[*].response",id:"node."+e+".circle[*].response"},{value:"node."+e+".circle[*].response.body",id:"node."+e+".circle[*].response.body"},{value:"node."+e+".circle[0]",id:"node."+e+".circle[0]"},{value:"node."+e+".circle[0].response",id:"node."+e+".circle[0].response"},{value:"node."+e+".circle[0].response.body",id:"node."+e+".circle[0].response.body"},{value:"node."+e+".circle[-1]",id:"node."+e+".circle[-1]"},{value:"node."+e+".circle[-1].response",id:"node."+e+".circle[-1].response"},{value:"node."+e+".circle[-1].response.body",id:"node."+e+".circle[-1].response.body"}];this.nodeTips=[].concat(Object(r["a"])(this.nodeTips),t)},addNodeTip:function(e){var t=[{value:"node."+e,id:"node."+e},{value:"node."+e+".request",id:"node."+e+".request"},{value:"node."+e+".request.headers",id:"node."+e+".request.headers"},{value:"node."+e+".response",id:"node."+e+".response"},{value:"node."+e+".response.body",id:"node."+e+".response.body"}];this.nodeTips=[].concat(Object(r["a"])(this.nodeTips),t)},addContainerNodeTip:function(e){var t=[{value:"node."+e,id:"node."+e},{value:"node."+e+".result",id:"node."+e+".result"}];this.nodeTips=[].concat(Object(r["a"])(this.nodeTips),t)}}}()},"8e83":function(e,t,n){"use strict";n("d5f9")},"921f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"xml-info",attrs:{title:"XML和JSON间的转换规则",center:"","append-to-body":"",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[t("ul",[t("li",[e._v("每个元素（节点）都会转换成一个JSON对象, 子元素转换为JSON对象的字段")]),t("li",[e._v("元素的属性名转换为JSON对象的一个字段，字段名会加上连字符前缀")]),t("li",[e._v("当元素有属性时元素的内容转换为JSON对象的#text字段")])]),t("el-table",{attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"xml",label:"XML"}}),t("el-table-column",{attrs:{prop:"json",label:"JSON"}})],1)],1)},o=[],i={name:"xml-info",data:function(){return{tableData:[{xml:'<?xml version="1.0" encoding="utf-8"?>\n<library>\n    <owner>John Doe</owner>\n    <book id="007">James Bond</book>\n    <book id="000">Book for the dummies</book>\n</library>',json:'转换为JSON:\n{\n  "library": {\n    "owner": "John Doe",\n    "book": [\n      {\n        "-id": "007",\n        "#text": "James Bond"\n      },\n      {\n        "-id": "000",\n        "#text": "Book for the dummies"\n      }\n    ]\n  }\n}'},{xml:'<?xml version="1.0" encoding="utf-8"?>\n<library>\n    <owner>John Doe</owner>\n    <date>2021-03-31</date>\n</library>',json:'转换为JSON:\n{\n  "library": {\n    "owner": "John Doe",\n    "date": "2021-03-31"\n  }\n}'},{xml:'<?xml version="1.0" encoding="utf-8"?>\n<library>\n    <book>James Bond</book>\n</library>',json:'默认转换为JSON:\n{\n  "library": { "book": "James Bond" }\n}\n\n可通过指明数组节点路径/library/book转换为JSON:\n{\n  "library": { "book": [“James Bond”] }\n}'}]}},props:{visible:{type:Boolean,default:!1}},methods:{handleClose:function(e){this.$emit("update:visible",!1),e&&e()}}},a=i,s=(n("e69d"),n("2877")),u=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=u.exports},9288:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"exec-break"},[t("h3",{staticClass:"header"},[t("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v(e._s(e.title)+"\n    "),t("span",{staticClass:"explain"},[e._v("\n      "+e._s(e.info)+"\n    ")]),t("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"el-icon-circle-plus-outline add-btn",on:{click:e.add}})]),t("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.conditions.length>0,expression:"conditions.length > 0"}],attrs:{"tab-position":"top",closable:!e.disabled,lazy:"",type:"border-card",size:"small"},on:{"tab-remove":e.remove},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.conditions,(function(n,r){return t("el-tab-pane",{key:n._uuid,attrs:{label:"".concat(e.title).concat(r+1),name:"".concat(e.title).concat(r+1)}},[t("compare-form",{ref:"compareForm",refInFor:!0,attrs:{data:n,disabled:e.disabled},on:{emitData:function(t){return e.conditions.splice(r,1,t)}}})],1)})),1),t("avue-empty",{directives:[{name:"show",rawName:"v-show",value:0===e.conditions.length,expression:"conditions.length === 0"}]})],1)},o=[],i=(n("5df3"),n("ac6a"),n("28a5"),n("c5f6"),n("e815")),a={name:"execBreak",components:{compareForm:i["default"]},props:{data:Object,disabled:Boolean,title:String,info:String},data:function(){return{activeTab:"",conditions:[],rules:{},uuid:1}},watch:{data:{deep:!0,immediate:!0,handler:function(e){var t=this;if(0===this.conditions.length&&e.map((function(e){return e._uuid=++t.uuid,e})),this.conditions=Object.assign([],e)||[],this.conditions.length>0){if(this.activeTab){var n=Number(this.activeTab.split(this.title)[1])-1;if(n<this.conditions.length)return}this.activeTab="".concat(this.title).concat(this.conditions.length)}}}},methods:{add:function(){this.conditions.push({_uuid:++this.uuid,type:"condition",desc:"",value1:{type:"",value:""},operator:"",value2:{type:"",value:""}}),this.activeTab="".concat(this.title).concat(this.conditions.length)},remove:function(e){var t=Number(e.split(this.title)[1])-1;this.conditions.splice(t,1),this.conditions.length>0&&this.activeTab&&t+1===Number(this.activeTab.split(this.title)[1])&&(this.activeTab="".concat(this.title).concat(this.conditions.length)),this.emitData()},validate:function(){var e=this;return new Promise((function(t,n){if(e.conditions&&e.conditions.length>0){var r=[];e.$refs.compareForm.forEach((function(e){r.push(e.validate())})),Promise.all(r).then((function(){e.emitData(),t()})).catch((function(){e.$message({showClose:!0,message:"请完善".concat(e.title,"！"),type:"warning"}),n()}))}else t()}))},emitData:function(){this.$emit("update:data",this.conditions),this.$emit("emitData",this.conditions)}}},s=a,u=(n("3e7c"),n("2877")),l=Object(u["a"])(s,r,o,!1,null,"b10afece",null);t["default"]=l.exports},"936b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("header",{staticClass:"api-header"},[e.serviceName?t("el-tag",[e._v("服务["+e._s(e.serviceName)+"]")]):e._e(),e._v(" \n  "),t("b",[e.apiName?t("span",[e._v("["+e._s(e.apiName)+"]")]):e._e(),e._v("\n    "+e._s(e.pageName)+"\n  ")])],1)},o=[],i=(n("7f7f"),{name:"index",props:{serviceName:{type:String,default:""},apiName:{type:String,default:""},pageName:{type:String,default:function(){return this.$route.name||""}}}}),a=i,s=n("2877"),u=Object(s["a"])(a,r,o,!1,null,"359ed195",null);t["default"]=u.exports},9427:function(e,t,n){var r=n("63b6");r(r.S,"Object",{create:n("a159")})},"942a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-tabs",{staticClass:"data-params"},[e.hasBody?t("el-tab-pane",{attrs:{label:e.bodyName}},[e.getParamsKeys(e.fixedBody,e.body)>0?t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{attrs:{value:e.getParamsKeys(e.fixedBody,e.body),max:10,type:"success"}},[e._v(" "+e._s(e.bodyName)+" ")])],1):e._e(),e._t("body"),t("params-table",{attrs:{"business-type":e.businessType,fixed:e.fixedBody,quote:e.body,rules:e.bodyRules,"multiple-values":e.multipleValues&&("multipart/form-data"===e.contentType||"application/x-www-form-urlencoded"===e.contentType),disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp,"show-desc-column":e.showDescColumn,"field-desc":e.fieldDescBody},on:{"update:fixed":function(t){e.fixedBody=t},"update:quote":function(t){e.body=t},"update:fieldDesc":function(t){e.fieldDescBody=t},"update:field-desc":function(t){e.fieldDescBody=t}}})],2):e._e(),e.hasHeader?t("el-tab-pane",{attrs:{label:e.headerName}},[e.getParamsKeys(e.fixedHeaders,e.headers)>0?t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{attrs:{value:e.getParamsKeys(e.fixedHeaders,e.headers),max:10,type:"success"}},[e._v(" "+e._s(e.headerName)+" ")])],1):e._e(),e._t("header"),t("params-table",{attrs:{"business-type":e.businessType,fixed:e.fixedHeaders,quote:e.headers,rules:e.headerRules,"multiple-values":e.multipleValues,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp,"show-desc-column":e.showDescColumn,"field-desc":e.fieldDescHeader},on:{"update:fixed":function(t){e.fixedHeaders=t},"update:quote":function(t){e.headers=t},"update:fieldDesc":function(t){e.fieldDescHeader=t},"update:field-desc":function(t){e.fieldDescHeader=t}}})],2):e._e(),e.hasQuery?t("el-tab-pane",{attrs:{label:e.queryName}},[e.getParamsKeys(e.fixedParams,e.params)>0?t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{attrs:{value:e.getParamsKeys(e.fixedParams,e.params),max:10,type:"success"}},[e._v(" "+e._s(e.queryName)+" ")])],1):e._e(),e._t("query"),t("params-table",{attrs:{"business-type":e.businessType,fixed:e.fixedParams,quote:e.params,rules:e.queryRules,"multiple-values":e.multipleValues,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp,"show-desc-column":e.showDescColumn,"field-desc":e.fieldDescQuery},on:{"update:fixed":function(t){e.fixedParams=t},"update:quote":function(t){e.params=t},"update:fieldDesc":function(t){e.fieldDescQuery=t},"update:field-desc":function(t){e.fieldDescQuery=t}}})],2):e._e(),e.hasScript?t("el-tab-pane",{attrs:{label:"脚本"}},[e.scriptId?t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{attrs:{"is-dot":"",type:"paimary"}},[e._v("脚本")])],1):e._e(),t("el-form",{ref:"scriptForm",attrs:{model:e.scriptForm,"label-width":"80px",size:"small"}},[t("el-form-item",{attrs:{label:"脚本配置"}},[e.scriptId?t("div",[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openScript()}}},[e._v("\n            "+e._s("{ aggregate_config_script_id: ".concat(e.scriptId," }"))+"\n          ")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteScript(e.scriptId)}}},[e._v("\n            删除\n          ")])],1):t("el-button",{attrs:{type:"text",disabled:e.disabled},on:{click:function(t){return e.openScript()}}},[e._v("\n          "+e._s(e.disabled?"无":"新增")+"\n        ")]),t("script-dialog",{attrs:{visible:e.scriptVisible,content:e.scriptContent,"business-type":e.businessType,disabled:e.disabled,id:e.scriptId,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:visible":function(t){e.scriptVisible=t},"update:content":function(t){e.scriptContent=t},"update:id":function(t){e.scriptId=t}}})],1)],1)],1):e._e()],1)},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),a=n("83b0"),s=n("2fa9"),u=n("5880");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"data-request",data:function(){return{activeTab:"header",fixedHeaders:{},headers:{},fixedBody:{},body:{},fixedParams:{},params:{},script:{},scriptVisible:!1,scriptId:"",scriptContent:"",others:{},fieldDescBody:[],fieldDescHeader:[],fieldDescQuery:[]}},props:{data:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},headerName:{type:String,default:"请求头"},bodyName:{type:String,default:"请求体"},queryName:{type:String,default:"Query参数"},headerRules:{type:Object},bodyRules:{type:Object},queryRules:{type:Object},hasHeader:{type:Boolean,default:!0},hasBody:{type:Boolean,default:!0},hasQuery:{type:Boolean,default:!0},hasScript:{type:Boolean,default:!0},businessType:{type:String},isDelWithHttp:{type:Boolean,default:!0},multipleValues:{type:Boolean,default:!1},contentType:{type:String,default:""},isDelScriptWithHttp:{type:Boolean,default:!0},showDescColumn:{type:Boolean,default:!1}},computed:{dataObj:function(){var e=Object.assign({},this.others);return this.hasHeader&&(e.fixedHeaders=this.fixedHeaders,e.headers=this.headers),this.hasBody&&(e.fixedBody=this.fixedBody,e.body=this.body),this.hasQuery&&(e.fixedParams=this.fixedParams,e.params=this.params),this.hasScript&&(e.script=this.scriptId?{aggregate_config_script_id:this.scriptId}:{}),this.showDescColumn&&(e.fieldDesc=this.fieldDesc),e},fieldDesc:function(){return{body:this.fieldDescBody,header:this.fieldDescHeader,query:this.fieldDescQuery}}},components:{paramsTable:a["default"],scriptDialog:s["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},script:{immediate:!0,deep:!0,handler:function(e){var t=e&&"string"===typeof e?JSON.parse(e):e;this.scriptId=t["aggregate_config_script_id"]||""}},dataObj:{deep:!0,handler:function(){this.emitData()}}},methods:c(c({},Object(u["mapActions"])(["removeScript"])),{},{getParamsKeys:function(e,t){var n=Object.keys(e||{})||[],r=Object.keys(t||{})||[],o=n.concat(r)||[];return o.length},emitData:function(){this.$emit("update:data",this.dataObj)},initData:function(e){var t=this;e=e||this.data||{};var n=e,r=n.fixedHeaders,o=n.headers,i=n.fixedBody,a=n.body,s=n.script,u=n.fixedParams,l=n.params,c=n.fieldDesc;this.fixedHeaders=r||{},this.headers=o||{},this.fixedBody=i||{},this.body=a||{},this.fixedParams=u||{},this.params=l||{},this.script=s||{},c&&(this.fieldDescBody=c.body,this.fieldDescHeader=c.header,this.fieldDescQuery=c.query),Object.keys(e).forEach((function(n){var r=["fixedHeaders","headers","fixedBody","body","script","fixedParams","params"].some((function(e){return e===n}));r||(t.others[n]=e[n])}))},openScript:function(){this.scriptVisible=!0},deleteScript:function(e){var t=this;this.$confirm("确定删除该脚本?",{type:"warning"}).then((function(){t.isDelScriptWithHttp?t.removeScript(e).then((function(){t.scriptId="",t.$message.success("删除成功")})):(t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),t.scriptId="",t.$message.success("删除成功"))}))}})},p=f,d=(n("8e83"),n("2877")),h=Object(d["a"])(p,r,o,!1,null,null,null);t["default"]=h.exports},9470:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"codeEditor",style:{height:e.height+"px"}},[t("code-viewer",{attrs:{ctype:e.type,contents:e.content,highlight:e.highlight,options:e.options,"read-only":e.disabled,onChange:e.onChange,dirty:e.dirty,ctrls:e.ctrls},on:{"update:contents":function(t){e.content=t}}})],1)},o=[],i=(n("c5f6"),n("fb4e")),a={name:"CodeEditor",components:{CodeViewer:i["default"]},props:{type:{type:String,default:"javascript"},content:{type:String,default:""},disabled:{type:Boolean,default:!1},height:{type:[Number,String],default:240},highlight:Object,options:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},dirty:{default:!1,type:[Boolean,Number]},ctrls:Boolean},watch:{content:function(e){this.$emit("update:content",e),this.$emit("change",e)}}},s=a,u=(n("11ad"),n("2877")),l=Object(u["a"])(s,r,o,!1,null,"6160ba68",null);t["default"]=l.exports},9653:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),o=n("b5c6"),i=n("da71");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(i["a"],"/blade-aggregate-op-log/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},l=function(e){return Object(o["a"])({url:"".concat(i["a"],"/blade-aggregate-op-log/detail/").concat(e),method:"get",params:{id:e}})}},"967e":function(e,t,n){"use strict";n("641b")},9786:function(e,t,n){"use strict";n("2ad2")},9806:function(e,t,n){"use strict";n("c04c")},"986f":function(e,t,n){"use strict";n("3913")},"9aa2":function(e,t,n){"use strict";n.r(t);n("386d");var r=function(){var e=this,t=e._self._c;return t("basic-container",{staticClass:"aggregate-operation-log"},[t("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"opTimeSearch",fn:function(n){var r=n.size;return[t("datetime-range",{attrs:{defaultValue:e.search.opTime,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",size:r,defaultTime:["00:00:00","00:00:00"]},on:{"update:defaultValue":function(t){return e.$set(e.search,"opTime",t)},"update:default-value":function(t){return e.$set(e.search,"opTime",t)},change:function(t){return e.search.opTime=t}}})]}},{key:"opType",fn:function(t){var n=t.row;t.size;return[e._v("\n      "+e._s(e.getOperateStateName(n.opType))+"\n    ")]}},{key:"menu",fn:function(n){var r=n.row,o=n.type,i=n.size;return[t("el-button",{attrs:{icon:"el-icon-view",size:i,type:o},on:{click:function(t){return e.rowView(r)}}},[e._v("查看\n      ")])]}}])})],1)},o=[],i=(n("7514"),n("8e7d")),a=n("9653"),s=[{label:"新增",value:0},{label:"修改",value:1},{label:"发布",value:2},{label:"下线",value:3},{label:"回滚",value:4},{label:"删除",value:5}],u={name:"operation-log",components:{datetimeRange:i["default"]},data:function(){return{search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{menuWidth:80,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"所属服务",prop:"serviceName",search:!0},{label:"接口名",prop:"name",search:!0},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120,search:!0},{label:"操作人",prop:"opBy"},{label:"类型",prop:"opType",slot:!0,width:80,search:!0,type:"select",dicData:s},{label:"操作时间",prop:"opTime",searchRange:!0,search:!0,searchslot:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"版本号",prop:"version",width:80}]},data:[]}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{getOperateStateName:function(e){var t=s.find((function(t){return parseInt(t.value)===e}));return t&&t.label||e||"-"},rowView:function(e){e.id?this.$router.push({path:"/aggregate/logDetail",query:{originId:e.id}}):this.$message.error("数据缺失，无法操作！")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.opTime&&e.opTime.length>0&&(e.opTimeStart=e.opTime[0]||"",e.opTimeEnd=e.opTime[1]||"",delete e.opTime),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(a["b"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},l=u,c=n("2877"),f=Object(c["a"])(l,r,o,!1,null,"40d054d6",null);t["default"]=f.exports},"9be0":function(e,t,n){"use strict";n("f796")},"9d74":function(e,t,n){},"9f0c":function(e,t,n){},a08a:function(e,t,n){"use strict";n("c54f")},a6ce:function(e,t,n){},a6fd:function(e,t,n){"use strict";n("bba1")},ac20:function(e,t,n){"use strict";n("8237d")},aded:function(e,t,n){},b0c7:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-tabs",{attrs:{"tab-position":"left"}},[t("el-tab-pane",{attrs:{label:"添加动作"}},e._l(e.nodeList,(function(n){return t("div",{key:n.type},[t("el-button",{staticClass:"add-node-btn",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.$_addNode(n)}}},[e._v(e._s(n.label))])],1)})),0),t("el-tab-pane",{attrs:{label:"添加组"}},[t("el-button",{staticClass:"add-node-btn",attrs:{type:"primary",size:"mini"},on:{click:e.$_addTempalte}},[e._v("模板")])],1)],1)},o=[],i={name:"AddPanel",props:{nodeData:Object,lf:Object||String},data:function(){return{nodeList:[{type:"user",label:"用户"},{type:"push",label:"推送"}]}},methods:{$_addNode:function(e){var t=this.$props,n=t.lf,r=t.nodeData,o=r.id,i=r.x,a=r.y,s=n.addNode({type:e.type,x:i+150,y:a+150}),u=s.id;n.addEdge({sourceNodeId:o,targetNodeId:u}),this.$emit("addNodeFinish")},$_addTempalte:function(){var e=this.$props,t=e.lf,n=e.nodeData,r=n.id,o=n.x,i=n.y,a=t.addNode({type:"download",x:o,y:i+150}),s=t.addNode({type:"user",x:o+150,y:i+150}),u=t.addNode({type:"push",x:o+150,y:i+300,properties:{}}),l=t.addNode({type:"end",x:o+300,y:i+150}),c=t.addNode({type:"end",x:o+300,y:i+300});t.addEdge({sourceNodeId:r,targetNodeId:a.id}),t.addEdge({sourceNodeId:a.id,targetNodeId:s.id}),t.addEdge({sourceNodeId:s.id,targetNodeId:l.id,endPoint:{x:o+280,y:i+150},text:{value:"Y",x:o+230,y:i+140}}),t.addEdge({sourceNodeId:s.id,targetNodeId:u.id,text:{value:"N",x:o+160,y:i+230}}),t.addEdge({sourceNodeId:u.id,targetNodeId:c.id,endPoint:{x:o+280,y:i+300}}),this.$emit("addNodeFinish")}}},a=i,s=(n("6374"),n("2877")),u=Object(s["a"])(a,r,o,!1,null,"a1c32f3e",null);t["default"]=u.exports},b432:function(e,t,n){},b5fd:function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("basic-container",[t("input",{ref:"urlInput",staticClass:"url-input"}),t("div",{staticClass:"filter-con"},[e.permissionList.configBtn?t("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-setting"},on:{click:e.handleSetting}},[e._v("服务类型配置\n    ")]):e._e()],1),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("div",{staticClass:"card-con"},[e._l(e.list,(function(n,r){return t("div",{key:r,staticClass:"card-item"},[t("div",{staticClass:"card-item-padding"},[t("div",{staticClass:"card-item-left",class:{open:n.status}},[t("i",{staticClass:"el-icon-connection"}),t("div",{staticClass:"card-item-left-con"},[t("router-link",{attrs:{to:{path:"/rpc/service-list?type=".concat(n.id)}}},[t("p",{staticClass:"title",attrs:{title:n.name}},[e._v(e._s(n.name))])]),t("p",{staticClass:"description",attrs:{title:n.description}},[e._v(e._s(n.description||"暂无描述"))])],1)]),t("div",{staticClass:"card-item-right"},[0===n.status?t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.apply(n)}}},[e._v("申    请")]):e._e(),1===n.status&&1===n.type&&n.docSetId?t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.showDoc(n)}}},[e._v("查看文档")]):e._e(),1!==n.status||1!==n.type||n.docSetId?e._e():t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.showUsage(n)}}},[e._v("使用说明")]),1===n.status&&2===n.type?t("el-button",{staticClass:"two-buttons",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.showView(n)}}},[e._v("浏  览")]):e._e(),1===n.status&&2===n.type?t("el-button",{staticClass:"two-buttons",attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.showGateway(n)}}},[e._v("设置网关地址")]):e._e()],1)])])})),0===e.list.length?t("avue-empty"):e._e()],2)]),e.codeVisible?t("pairCodeDialog",{attrs:{visible:e.codeVisible},on:{changeVisible:function(t){e.codeVisible=!1},doSearch:e.getList}}):e._e(),e.useageVisible?t("usageDialog",{attrs:{visible:e.useageVisible,services:e.services},on:{changeVisible:function(t){e.useageVisible=!1}}}):e._e(),e.gatewayVisible?t("setGatewayDialog",{attrs:{visible:e.gatewayVisible,dedicatedLineBizId:e.dedicatedLineBizId,webUrl:e.websiteUrl,entrancePath:e.entrancePath},on:{changeVisible:function(t){e.gatewayVisible=!1},doSearch:e.getList}}):e._e()],1)},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),a=n("5880"),s=n("5850"),u=n("c54a");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"match",components:{},computed:c(c({},Object(a["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.rpc_service_add,!1),editBtn:this.vaildData(this.permission.rpc_service_edit,!1),delBtn:this.vaildData(this.permission.rpc_service_delete,!1),configBtn:this.vaildData(this.permission.rpc_service_add,!1)}}}),data:function(){return{list:[],loading:!1,codeVisible:!1,useageVisible:!1,gatewayVisible:!1,dedicatedLineBizId:null,websiteUrl:"",entrancePath:"",services:[]}},methods:{handleSetting:function(){this.$router.push({path:"/rpc/config"})},apply:function(e){var t=this;this.$refs.urlInput.value=e.email,this.$refs.urlInput.select(),document.execCommand("copy"),this.$confirm("商务合作请联系 ".concat(e.email),"提示",{confirmButtonText:"复制邮箱",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"邮箱地址已复制到粘贴板了!"})}))},showDoc:function(e){this.$router.push({path:"/public-network/interface/preview",query:{pairId:e.pairId,id:e.docSetId,dedicatedLineBizId:e.dedicatedLineBizId,documentName:e.name,type:"match",pageType:""}})},showUsage:function(e){this.useageVisible=!0,this.services=e.services},showView:function(e){if(e.websiteUrl&&e.entrancePath){var t=e.websiteUrl+e.entrancePath;if(!Object(u["n"])(t))return void this.$message.warning("地址不正确，无法浏览！");window.open(t)}},showGateway:function(e){this.gatewayVisible=!0,this.dedicatedLineBizId=e.id,this.websiteUrl=e.websiteUrl,this.entrancePath=e.entrancePath},getList:function(){var e=this;this.loading=!0,Object(s["c"])().then((function(t){200===t.data.code&&(e.list=t.data.data),e.loading=!1}),(function(){e.loading=!1}))}},mounted:function(){this.getList()}},p=f,d=(n("9786"),n("a6fd"),n("2877")),h=Object(d["a"])(p,r,o,!1,null,"37380e57",null);t["default"]=h.exports},b661:function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("basic-container",[t("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(n){var r=n.type,o=n.size,i=n.row;return[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.delPermission(i.type),expression:"delPermission(row.type)"}],attrs:{icon:"el-icon-delete",size:o,type:r},on:{click:function(t){return e.rowDel(i)}}},[e._v("删除")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[t("template",{slot:"menuLeft"},[t("el-button",{attrs:{size:"small",icon:"el-icon-back"},on:{click:e.backClick}},[e._v("返回")])],1)],2),t("el-dialog",{attrs:{"append-to-body":"",width:"900px",top:"20px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[t("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.rules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"140px"}},[t("el-form-item",{attrs:{label:"RPC类型名称",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入RPC类型名称",clearable:"",disabled:e.editDisabled},model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}}),t("span",[e._v("RPC类型名称由英文字母、下划线或数字组成, 不能以数字开头，如：memberAuth,  member_auth_v1")])],1),t("el-form-item",{attrs:{label:"RPC类型描述",prop:"description"}},[t("el-input",{attrs:{placeholder:"请输入RPC类型描述",clearable:"",disabled:e.editDisabled},model:{value:e.dialogForm.description,callback:function(t){e.$set(e.dialogForm,"description",t)},expression:"dialogForm.description"}}),t("span",[e._v("如：会员登录校验")])],1),t("el-form-item",{attrs:{label:"表单定义",prop:"config"}},[t("data-editor",{attrs:{content:e.dialogForm.config,height:300,disabled:"view"===e.detailDialog.type||e.editDisabled},on:{"update:content":function(t){return e.$set(e.dialogForm,"config",t)}}}),t("span",[e._v("\n          路由级别的自定义属性，定义规范请参考：\n          "),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.showFormTips()}}},[e._v("表单规范说明")])],1)],1),t("el-form-item",{attrs:{label:"使用说明",prop:"instruction"}},[t("el-input",{attrs:{type:"textarea",clearable:"",disabled:e.editDisabled},model:{value:e.dialogForm.instruction,callback:function(t){e.$set(e.dialogForm,"instruction",t)},expression:"dialogForm.instruction"}})],1)],1),"view"!==e.detailDialog.type?t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("保 存\n      ")]),t("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e(),t("el-dialog",{attrs:{width:"600px",title:"RPC类型表单规范说明",visible:e.tipsDialog.visible,"append-to-body":""},on:{"update:visible":function(t){return e.$set(e.tipsDialog,"visible",t)}}},[t("code-highlight",{attrs:{height:"400",code:e.tipsDialog.content}})],1)],1)],1)},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("6762"),n("2fdb"),n("bd86")),a=n("5850"),s=n("dd62"),u=n("5880"),l=n("c54a"),c=n("4627"),f=n("d480"),p=n("6c1d");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={data:function(){return{pluginTypes:[{label:"内置RPC类型",value:1},{label:"自定义RPC类型",value:2}],form:{},dialogForm:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,viewBtn:!0,columnBtn:!1,menuPosition:"right",column:[{label:"ID",prop:"id",width:60},{label:"RPC类型名称",prop:"name",search:!0,searchLabelWidth:100,overHidden:!0},{label:"RPC类型描述",prop:"description",search:!0,searchLabelWidth:100,overHidden:!0},{label:"表单定义",prop:"config",overHidden:!0}]},data:[],rules:{engName:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[A-Za-z_][A-Za-z\d_]+$/,message:"格式有误",trigger:"blur"}],chnName:[{required:!0,message:"必填",trigger:"blur"}],order:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^\d+$/,message:"请输入自然数",trigger:"blur"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1},tipsDialog:{title:"js",visible:!1,content:"111"}}},computed:h(h({},Object(u["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.gateway_plugin_add,!1),editBtn:this.vaildData(this.permission.gateway_plugin_edit,!1),viewBtn:this.vaildData(this.permission.gateway_plugin_view,!1),delBtn:!1}},editDisabled:function(){return"edit"===this.detailDialog.type&&1==this.dialogForm.type}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},components:{dataEditor:c["default"],codeHighlight:f["default"],tooltipCustom:s["default"]},methods:{backClick:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/rpc/service"})},delPermission:function(e){return this.vaildData(this.permission.gateway_plugin_delete,!1)&&2===e},showFormTips:function(){this.tipsDialog.content=p["a"].pluginFormJS,this.tipsDialog.visible=!0},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var n=e.dialogForm,r=Object(l["k"])(n.config);if(n.config&&!r)return e.$message.error("表单定义配置JSON格式有误"),!1;if(n.config&&!(n.config instanceof Array))return e.$message.error("表单定义配置需为数组格式结构"),!1;var o=Object.assign({},n);n.config&&n.config.length?o.config=JSON.stringify(n.config):o.config="","edit"===e.detailDialog.type?e.rowUpdate(o):e.rowSave(o)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,Object(a["a"])(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,Object(a["f"])(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(a["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var n=this;switch(this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}this.dialogForm={type:2},["edit","view"].includes(t)&&Object(a["b"])(this.form.id).then((function(e){n.form=e.data.data,n.dialogForm=Object.assign({},e.data.data||{}),n.detailDialog.visible=!0})),this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(a["d"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},v=y,g=(n("6a2e"),n("2877")),b=Object(g["a"])(v,r,o,!1,null,null,null);t["default"]=b.exports},b791:function(e,t,n){"use strict";n("75ce")},b83f:function(e,t,n){},b9d6:function(e,t,n){"use strict";n("6f91")},ba11:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("basic-container",[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("api-header",{attrs:{"service-name":e.serviceName,"api-name":e.apiName,"page-name":"接口发布历史版本"}})],1),t("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"publishType",fn:function(n){var r=n.row;return[0==r.publishType?t("el-tag",{attrs:{type:"success"}},[e._v("普通发布")]):e._e(),1==r.publishType?t("el-tag",{attrs:{type:"warning"}},[e._v("回滚")]):e._e()]}},{key:"menu",fn:function(n){var r=n.row,o=n.type,i=n.size,a=n.index;return[t("el-button",{attrs:{size:i,type:o},on:{click:function(t){return e.rowView(r)}}},[e._v("查看")]),0!==a&&e.permissionList.rollbackBtn?t("el-button",{attrs:{size:i,type:o},on:{click:function(t){return e.rowBack(r)}}},[e._v("回滚")]):e._e(),t("br"),0===a?t("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("当前版本")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},o=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("bd86")),a=n("2b3f"),s=n("5880"),u=n("936b");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuWidth:100,column:[{label:"ID",prop:"id",width:50},{label:"所属服务",prop:"serviceName"},{label:"接口名",prop:"name"},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120},{label:"发布人",prop:"publisher",width:80},{label:"发布状态",prop:"publishType",slot:!0,width:92},{label:"发布日期",prop:"createTime"},{label:"备注",prop:"remark"},{label:"版本号",prop:"version",width:80}]},data:[]}},components:{apiHeader:u["default"]},computed:c(c({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{rollbackBtn:this.vaildData(this.permission.aggregate_history_rollback,!1)}},originId:function(){return this.$route.query.originId||""},serviceName:function(){var e=this.data[0]||{};return e.serviceName||""},apiName:function(){var e=this.data[0]||{};return e.name||""}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowView:function(e){this.$router.push({path:"/aggregate/historyDetail",query:{originId:e.id}})},rowBack:function(e){var t=this;this.$confirm("确定回滚至【ID-".concat(e.id,"】的发布记录吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(a["c"])({id:e.id,remark:""})})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"回滚成功"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(a["b"])(e.currentPage,e.pageSize,Object.assign(n,this.query,{originId:this.originId,descs:"create_time"})).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},p=f,d=n("2877"),h=Object(d["a"])(p,r,o,!1,null,null,null);t["default"]=h.exports},bba1:function(e,t,n){},bd6d:function(e,t,n){"use strict";n("027e")},bf90:function(e,t,n){var r=n("36c3"),o=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",(function(){return function(e,t){return o(r(e),t)}}))},c04c:function(e,t,n){},c1a0:function(e,t,n){"use strict";n("8952")},c1b2:function(e,t,n){"use strict";n("7347")},c22e:function(e,t,n){"use strict";n("b432")},c281:function(e,t,n){},c54f:function(e,t,n){},c641:function(e,t,n){},c6eb:function(e,t,n){"use strict";(function(e){var r=n("5ea3"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a&&r["a"].process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();t["a"]=u}).call(this,n("dd40")(e))},c809:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"el-drawer-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-drawer__wrapper",attrs:{tabindex:"-1"}},[t("div",{staticClass:"el-drawer__container",class:e.visible&&"el-drawer__open",attrs:{role:"document",tabindex:"-1"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick.apply(null,arguments)}}},[t("div",{ref:"drawer",staticClass:"el-drawer",class:[e.direction,e.customClass],style:e.isHorizontal?"width: ".concat(e.drawerSize):"height: ".concat(e.drawerSize),attrs:{"aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":e.title,role:"dialog",tabindex:"-1"}},[e.withHeader?t("header",{staticClass:"el-drawer__header",attrs:{id:"el-drawer__title"}},[e._t("title",(function(){return[t("span",{attrs:{role:"heading",title:e.title}},[e._v(e._s(e.title))])]})),e.showClose?t("button",{staticClass:"el-drawer__close-btn",attrs:{"aria-label":"close ".concat(e.title||"drawer"),type:"button"},on:{click:e.closeDrawer}},[t("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2):e._e(),e.rendered?t("section",{staticClass:"el-drawer__body"},[e._t("default")],2):e._e()])])])])},o=[],i=(n("c5f6"),n("8bbf")),a=n.n(i),s=function(e){for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t]||{};for(let t in n)if(n.hasOwnProperty(t)){let r=n[t];void 0!==r&&(e[t]=r)}}return e};const u=a.a.prototype.$isServer,l=/([\:\-\_]+(.))/g,c=/^moz([A-Z])/,f=u?0:Number(document.documentMode),p=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},d=function(e){return e.replace(l,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(c,"Moz$1")};(function(){!u&&document.addEventListener})(),function(){!u&&document.removeEventListener}();function h(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function y(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),o=0,i=r.length;o<i;o++){var a=r[o];a&&(e.classList?e.classList.add(a):h(e,a)||(n+=" "+a))}e.classList||(e.className=n)}}function v(e,t){if(e&&t){for(var n=t.split(" "),r=" "+e.className+" ",o=0,i=n.length;o<i;o++){var a=n[o];a&&(e.classList?e.classList.remove(a):h(e,a)&&(r=r.replace(" "+a+" "," ")))}e.classList||(e.className=p(r))}}const g=f<9?function(e,t){if(!u){if(!e||!t)return null;t=d(t),"float"===t&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(n){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(n){return e.style[t]}}}:function(e,t){if(!u){if(!e||!t)return null;t=d(t),"float"===t&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(r){return e.style[t]}}};let b,m=!1,_=!1;const O=function(){if(a.a.prototype.$isServer)return;let e=x.modalDom;return e?m=!0:(m=!1,e=document.createElement("div"),x.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){x.doOnModalClick&&x.doOnModalClick()}))),e},w={},x={modalFade:!0,getInstance:function(e){return w[e]},register:function(e,t){e&&t&&(w[e]=t)},deregister:function(e){e&&(w[e]=null,delete w[e])},nextZIndex:function(){return x.zIndex++},modalStack:[],doOnModalClick:function(){const e=x.modalStack[x.modalStack.length-1];if(!e)return;const t=x.getInstance(e.id);t&&t.closeOnClickModal&&t.close()},openModal:function(e,t,n,r,o){if(a.a.prototype.$isServer)return;if(!e||void 0===t)return;this.modalFade=o;const i=this.modalStack;for(let a=0,u=i.length;a<u;a++){const t=i[a];if(t.id===e)return}const s=O();if(y(s,"v-modal"),this.modalFade&&!m&&y(s,"v-modal-enter"),r){let e=r.trim().split(/\s+/);e.forEach(e=>y(s,e))}setTimeout(()=>{v(s,"v-modal-enter")},200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(s):document.body.appendChild(s),t&&(s.style.zIndex=t),s.tabIndex=0,s.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:r})},closeModal:function(e){const t=this.modalStack,n=O();if(t.length>0){const r=t[t.length-1];if(r.id===e){if(r.modalClass){let e=r.modalClass.trim().split(/\s+/);e.forEach(e=>v(n,e))}t.pop(),t.length>0&&(n.style.zIndex=t[t.length-1].zIndex)}else for(let n=t.length-1;n>=0;n--)if(t[n].id===e){t.splice(n,1);break}}0===t.length&&(this.modalFade&&y(n,"v-modal-leave"),setTimeout(()=>{0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",x.modalDom=void 0),v(n,"v-modal-leave")},200))}};Object.defineProperty(x,"zIndex",{configurable:!0,get(){return _||(b=b||(a.a.prototype.$ELEMENT||{}).zIndex||2e3,_=!0),b},set(e){b=e}});const j=function(){if(!a.a.prototype.$isServer&&x.modalStack.length>0){const e=x.modalStack[x.modalStack.length-1];if(!e)return;const t=x.getInstance(e.id);return t}};a.a.prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){const e=j();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}));var S=x;let E;var P=function(){if(a.a.prototype.$isServer)return 0;if(void 0!==E)return E;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",e.appendChild(n);const r=n.offsetWidth;return e.parentNode.removeChild(e),E=t-r,E};let k,T=1;var D={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount(){this._popupId="popup-"+T++,S.register(this._popupId,this)},beforeDestroy(){S.deregister(this._popupId),S.closeModal(this._popupId),this.restoreBodyStyle()},data(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible(e){if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,a.a.nextTick(()=>{this.open()}))}else this.close()}},methods:{open(e){this.rendered||(this.rendered=!0);const t=s({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);const n=Number(t.openDelay);n>0?this._openTimer=setTimeout(()=>{this._openTimer=null,this.doOpen(t)},n):this.doOpen(t)},doOpen(e){if(this.$isServer)return;if(this.willOpen&&!this.willOpen())return;if(this.opened)return;this._opening=!0;const t=this.$el,n=e.modal,r=e.zIndex;if(r&&(S.zIndex=r),n&&(this._closing&&(S.closeModal(this._popupId),this._closing=!1),S.openModal(this._popupId,S.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!h(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt(g(document.body,"paddingRight"),10)),k=P();let e=document.documentElement.clientHeight<document.body.scrollHeight,t=g(document.body,"overflowY");k>0&&(e||"scroll"===t)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+k+"px"),y(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=S.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()},doAfterOpen(){this._opening=!1},close(){if(this.willClose&&!this.willClose())return;null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);const e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout(()=>{this._closeTimer=null,this.doClose()},e):this.doClose()},doClose(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose(){S.closeModal(this._popupId),this._closing=!1},restoreBodyStyle(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,v(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}};function N(e,t,n){this.$children.forEach(r=>{var o=r.$options.componentName;o===e?r.$emit.apply(r,[t].concat(n)):N.apply(r,[e,t].concat([n]))})}var C={methods:{dispatch(e,t,n){var r=this.$parent||this.$root,o=r.$options.componentName;while(r&&(!o||o!==e))r=r.$parent,r&&(o=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast(e,t,n){N.call(this,e,t,n)}}},A={name:"ElDrawer",mixins:[D,C],props:{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},customClass:{type:String,default:""},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1},modal:{type:Boolean,default:!0},direction:{type:String,default:"rtl",validator:function(e){return-1!==["ltr","rtl","ttb","btt"].indexOf(e)}},modalAppendToBody:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},size:{type:[Number,String],default:"30%"},title:{type:String,default:""},visible:{type:Boolean},wrapperClosable:{type:Boolean,default:!0},withHeader:{type:Boolean,default:!0}},computed:{isHorizontal:function(){return"rtl"===this.direction||"ltr"===this.direction},drawerSize:function(){return"number"===typeof this.size?"".concat(this.size,"px"):this.size}},data:function(){return{closed:!1}},watch:{visible:function(e){e?(this.closed=!1,this.$emit("open"),this.appendToBody&&document.body.appendChild(this.$el)):(this.closed||(this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1)),this.$nextTick((function(){})))}},methods:{afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1),this.closed=!0)},handleWrapperClick:function(){this.wrapperClosable&&this.closeDrawer()},closeDrawer:function(){"function"===typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},handleClose:function(){this.closeDrawer()}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},M=A,I=n("2877"),R=Object(I["a"])(M,r,o,!1,null,null,null);t["default"]=R.exports},c983:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"add-btn-con"},[t("span",{staticClass:"label"},[e._v("添加组件")]),t("el-dropdown",{on:{command:e.commandHandle}},[t("el-button",{staticClass:"add-btn",attrs:{size:"small",type:"primary",plain:"",disabled:e.disabled}},[e._v("\n        选择组件"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{staticClass:"select-menu",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.optionsList,(function(n){return t("el-dropdown-item",{key:n.value,attrs:{command:n.value}},[e._v("\n          "+e._s(n.label)+"\n        ")])})),1)],1)],1),t("div",{staticClass:"table"},[t("el-table",{directives:[{name:"show",rawName:"v-show",value:e.components.length>0,expression:"components.length > 0"}],staticStyle:{width:"100%"},attrs:{data:e.components,border:"",size:"small"}},[t("el-table-column",{attrs:{prop:"date",label:"组件名","min-width":"70%"},scopedSlots:e._u([{key:"default",fn:function(n){return[e._v("\n        "+e._s(e._f("descFilter")(n.row))+"\n        "),t("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:e.tooltipInfo[n.row.type],placement:"bottom"}},[t("i",{staticClass:"el-icon-question"})])]}}])}),t("el-table-column",{attrs:{prop:"address",label:"操作","min-width":"30%"},scopedSlots:e._u([{key:"default",fn:function(n){return[e.moveVisible(n.row,n.$index,"up")?t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.move(n.$index,"up")}}},[t("i",{staticClass:"el-icon-top"}),e._v("上移\n        ")]):e._e(),e.moveVisible(n.row,n.$index,"down")?t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.move(n.$index,"down")}}},[t("i",{staticClass:"el-icon-bottom"}),e._v("下移\n        ")]):e._e(),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.goDetail(n.row,"detail",n.$index)}}},[t("i",{staticClass:"el-icon-view"}),e._v("查看\n        ")]),e.disabled?e._e():t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.goDetail(n.row,"edit",n.$index)}}},[t("i",{staticClass:"el-icon-edit"}),e._v("编辑\n        ")]),e.disabled?e._e():t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.deleteHandle(n.$index)}}},[t("i",{staticClass:"el-icon-delete"}),e._v(" 删除\n        ")])]}}])})],1)],1),e.conditionVisible?t("condition-dialog",{attrs:{visible:e.conditionVisible,dialogType:e.dialogType,data:e.dialogData,disabled:e.disabled},on:{changeDrawer:function(t){e.command="",e.dialogData=null},emitData:e.getConditionData}}):e._e(),e.circleVisible?t("circleDialog",{attrs:{visible:e.circleVisible,dialogType:e.dialogType,data:e.dialogData,disabled:e.disabled},on:{changeDrawer:function(t){e.command="",e.dialogData=null},emitData:e.getCircleData}}):e._e()],1)},o=[],i=(n("20d6"),n("44d0")),a=n("04b4"),s=n("1620"),u=[{value:"condition",label:"判断条件"},{value:"circle",label:"循环组件"}],l={name:"addComponent",props:{disabled:Boolean,data:Object},components:{conditionDialog:i["default"],circleDialog:a["default"]},data:function(){return{command:"",components:[],tooltipInfo:{condition:"当判断条件为true时执行该步骤",circle:"当数据源不为空时执行循环"},dialogData:null,dialogType:"",operaIndex:-1}},computed:{conditionVisible:function(){return this.command===u[0].value},circleVisible:function(){return this.command===u[1].value},optionsList:function(){var e=this.components.findIndex((function(e){return"circle"===e.type}));return e>-1?[u[0]]:u}},watch:{components:{immediate:!0,deep:!0,handler:function(){this.emitData()}},data:{immediate:!0,deep:!0,handler:function(e){this.components=e}}},filters:{descFilter:function(e){var t="condition"===e.type?"判断条件":"循环组件";return e.desc?"".concat(t,"  (").concat(e.desc,")"):t}},methods:{moveVisible:function(e,t,n){var r=this.components.filter((function(e){return e.type===u[0].value})).length||0;return"up"===n?0!==t&&e.type===u[0].value&&!this.disabled:t<r-1&&e.type===u[0].value&&!this.disabled},commandHandle:function(e){this.command=e,this.dialogType="add"},goDetail:function(e,t,n){this.command=e.type,this.dialogType=t,this.dialogData=e,this.operaIndex=n},getConditionData:function(e){Object(s["a"])(this.components,e,this.dialogType,this.operaIndex)},getCircleData:function(e){"add"===this.dialogType?this.components.push(e):this.components.splice(this.operaIndex,1,e)},move:function(e,t){var n=this.components[e];this.components.splice(e,1),"up"===t?this.components.splice(e-1,0,n):this.components.splice(e+1,0,n)},deleteHandle:function(e){var t=this;this.$confirm("确定删除该条件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.components.splice(e,1)}))},emitData:function(){this.$emit("update:data",this.components)}}},c=l,f=(n("e6b5"),n("ac20"),n("2877")),p=Object(f["a"])(c,r,o,!1,null,"73fbcd5c",null);t["default"]=p.exports},cc38:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},e._l(e.tips,(function(n,r){return t("span",{key:r},[0!==r?t("br"):e._e(),e._v("\n      "+e._s(n.title)),t("br"),e._v("\n      "+e._s(n.msg)),t("br")])})),0),t("i",{staticClass:"el-icon-question"})])},o=[],i={name:"quoteTooltip",data:function(){return{tips:[{title:"获取入参请求头aaa的值",msg:"input.request.headers.aaa"},{title:"获取入参请求体bbb字段的值",msg:"input.request.body.bbb"},{title:"获取入参URL Query参数fff字段的值",msg:"input.request.params.fff"},{title:"获取步骤1里request1的请求头ccc的值(V2)",msg:"step1.request1.request.headers.ccc"},{title:"获取节点node.{name}的请求头ccc的值(V3)",msg:"node.REQUEST_1.request.headers.ccc"},{title:"获取步骤1里request1的响应体ddd的值(V2)",msg:"step1.request1.response.body.ddd"},{title:"获取节点node.{name}的响应体ddd的值(V3)",msg:"node.REQUEST_1.response.body.ddd"},{title:"获取步骤1结果里eee的值(V2)",msg:"step1.result.eee"},{title:"获取容器节点node.{name}结果里eee的值(V3)",msg:"node.CONTAINER_1.result.eee"},{title:"获取步骤1里request1的响应码的值(V2)",msg:"step1.request1.response.httpStatus"},{title:"获取节点node.{name}的响应码的值(V3)",msg:"node.REQUEST_1.response.httpStatus"},{title:"获取公共资源account.name的值",msg:"g.account.name"},{title:"默认值：input.request.body.bbb|123",msg:"管道符|后面是默认值，当引用值为空时返回默认值"}]}}},a=i,s=(n("986f"),n("2877")),u=Object(s["a"])(a,r,o,!1,null,"343867ae",null);t["default"]=u.exports},d1b1:function(e,t,n){"use strict";n("aded")},d29b:function(e,t,n){},d5f9:function(e,t,n){},da80:function(e,t,n){},dc62:function(e,t,n){n("9427");var r=n("584a").Object;e.exports=function(e,t){return r.create(e,t)}},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},dff1:function(e,t,n){"use strict";(function(e){var r=n("26ee"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a?r["a"].Buffer:void 0,u=s?s.allocUnsafe:void 0;function l(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}t["a"]=l}).call(this,n("dd40")(e))},e244:function(e,t,n){"use strict";n("ed0e")},e282:function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"api-test-wrapper"},[t("el-container",{staticClass:"api-test-container"},[t("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.historyList.length>0,expression:"historyList.length > 0"}],attrs:{width:"240px"}},[t("div",{staticClass:"history-header"},[e._v("历史测试记录")]),t("el-menu",{staticClass:"history-list",attrs:{"default-active":e.menuActive},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.historyList,(function(n,r){return t("el-menu-item",{key:r,attrs:{index:r},on:{click:function(t){return e.addHistoryTab(n)}}},[t("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n            "+e._s(n.name)+"\n            "),t("transition",{attrs:{name:"fade"}},[t("el-button",{staticClass:"history-del-btn",attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.stopPropagation(),e.deleteHistory(n,r)}}})],1)],1)])})),1)],1),t("el-container",[t("el-header",[t("api-header",{attrs:{"service-name":e.serviceName,"api-name":e.apiName,"page-name":"接口测试"}}),t("div",[t("el-button",{attrs:{size:"small"},on:{click:e.goBack}},[e._v("返回")])],1)],1),t("el-main",[t("el-tabs",{attrs:{type:"card"},on:{edit:e.handleStepTabs},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.testList,(function(n,r){return t("el-tab-pane",{key:r,attrs:{name:r+1,closable:0!==r}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("el-badge",{staticClass:"item",attrs:{"is-dot":!n.id}},[e._v(e._s(n.name))])],1),t("test-item",{ref:"testItem",refInFor:!0,attrs:{data:n,domain:e.domain,refresh:e.addRefresh},on:{"update:data":function(e){n=e}}})],1)})),1)],1)],1)],1)],1)},o=[],i=(n("ac6a"),n("7ede")),a=n("708f"),s=n("936b"),u=n("efcc"),l={name:"test",data:function(){return{formData:{},currentTab:1,menuActive:"",tabIndex:1,testList:[{name:"New Test"}],historyList:[],domain:"",loading:!1}},computed:{originId:function(){return this.$route.query.originId||""},serviceName:function(){return this.formData.serviceName||""},apiName:function(){return this.formData.title||""},tabCount:function(){return this.testList&&this.testList.length||1}},created:function(){this.init()},components:{apiHeader:s["default"],testItem:u["default"]},beforeRouteUpdate:function(e,t,n){e.fullPath!==t.fullPath&&(n((function(e){e.originId||e.goBack()})),this.init())},methods:{init:function(){this.getList(),this.initData()},initData:function(){var e=this;if(this.currentTab=1,!this.originId)return this.formData={},void(this.testList=[{name:"New Test"}]);Object(a["f"])(this.originId).then((function(t){var n=t.data.data||{},r=n.id,o=n.method,i=n.path,a=n.name,s=n.serviceName,u=n.formalPathPrefix;e.formData={configId:r,method:o,path:i,title:a,serviceName:s,formalPathPrefix:u},e.testList[0]=Object.assign({name:e.formData.method+" "+e.formData.path,content:""},e.formData)}))},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.loading=!0,t.configId=this.originId,new Promise((function(n,r){Object(i["c"])(1,1e3,t).then((function(t){var r=t.data.data;e.domain=r.gatewayUrl,e.historyList=r.records,e.loading=!1,n(t)})).catch((function(e){r(e)}))}))},handleStepTabs:function(e,t){"add"===t&&(this.tabIndex=this.tabCount,this.currentTab=++this.tabIndex,this.testList.push({name:"New Test"})),"remove"===t&&(this.testList.splice(e-1,1),this.currentTab=e-1)},addHistoryTab:function(e){var t=this,n=!1;this.testList.forEach((function(r,o){r.id===e.id&&(n=!0,t.currentTab=o+1)})),n||Object(i["b"])(e.id).then((function(e){var n=e.data.data||{},r=n.configId,o=n.content,i=n.id,a=n.name;t.tabIndex=t.tabCount,t.currentTab=++t.tabIndex,t.testList.push(Object.assign({configId:r,content:o,id:i,name:a},t.formData))}))},addRefresh:function(){var e=this;this.handleStepTabs(this.currentTab,"remove"),this.initData(),this.getList().then((function(){if(e.historyList&&e.historyList.length>0){e.menuActive="0";var t=e.historyList&&e.historyList[0];e.addHistoryTab(t,e.currentTab)}}))},deleteHistory:function(e){var t=this;this.$confirm("确定删除该历史测试记录?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(i["d"])(e.id)})).then((function(){t.menuActive="0",t.getList(),t.testList.forEach((function(n,r){n.id===e.id&&t.handleStepTabs(r+1,"remove")})),t.$message({type:"success",message:"删除成功"})}))},goBack:function(){var e=decodeURIComponent(this.$route.query.redirect);this.$router.$avueRouter.closeTag(),this.$route.query.redirect&&e&&this.$router.push(e)},openCookies:function(){console.log("openCookies::::")}}},c=l,f=(n("6033"),n("2877")),p=Object(f["a"])(c,r,o,!1,null,null,null);t["default"]=p.exports},e683:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c}));var r=[{label:"固定值",value:"fixed"},{label:"引用值",value:"ref"}],o={fixed:[{label:"number",value:"number"},{label:"string",value:"string"},{label:"boolean",value:"boolean"}],ref:[{label:"int",value:"int"},{label:"long",value:"long"},{label:"float",value:"float"},{label:"double",value:"double"},{label:"string",value:"string"},{label:"boolean",value:"boolean"},{label:"array",value:"array"}]},i=[{label:"等于 =",value:"eq"},{label:"大于 >",value:"gt"},{label:"大于或等于 >=",value:"ge"},{label:"小于 <",value:"lt"},{label:"小于或等于 <=",value:"le"},{label:"不等于 !=",value:"ne"},{label:"包含",value:"contains"},{label:"不包含",value:"notContain"},{label:"包含任何一个",value:"containsAny"},{label:"is null",value:"isNull"},{label:"is not null",value:"isNotNull"},{label:"is blank",value:"isBlank"},{label:"is not blank",value:"isNotBlank"},{label:"is empty",value:"isEmpty"},{label:"is not empty",value:"isNotEmpty"}],a=[{label:"固定值",value:"fixed"},{label:"引用值",value:"quote"},{label:"脚本",value:"script"},{label:"函数",value:"fn"}],s=[{label:"raw",value:"raw"},{label:"int",value:"int"},{label:"long",value:"long"},{label:"float",value:"float"},{label:"double",value:"double"},{label:"string",value:"string"},{label:"boolean",value:"boolean"}],u=[{label:"number",value:"number"},{label:"string",value:"string"},{label:"boolean",value:"boolean"},{label:"json",value:"json"}],l=[{label:"固定值",value:"fixed"},{label:"引用值",value:"ref"},{label:"函数",value:"func"}],c=[{label:"100 - Continue",value:100},{label:"101 - Switching Protocols",value:101},{label:"102 - Processing",value:102},{label:"103 - Checkpoint",value:103},{label:"200 - OK",value:200},{label:"201 - Created",value:201},{label:"202 - Accepted",value:202},{label:"203 - Non-Authoritative Information",value:203},{label:"204 - No Content",value:204},{label:"205 - Reset Content",value:205},{label:"206 - Partial Content",value:206},{label:"207 - Multi-Status",value:207},{label:"208 - Already Reported",value:208},{label:"226 - IM Used",value:226},{label:"300 - Multiple Choices",value:300},{label:"301 - Moved Permanently",value:301},{label:"302 - Found",value:302},{label:"302 - Moved Temporarily",value:302},{label:"303 - See Other",value:303},{label:"304 - Not Modified",value:304},{label:"305 - Use Proxy",value:305},{label:"307 - Temporary Redirect",value:307},{label:"308 - Permanent Redirect",value:308},{label:"400 - Bad Request",value:400},{label:"401 - Unauthorized",value:401},{label:"402 - Payment Required",value:402},{label:"403 - Forbidden",value:403},{label:"404 - Not Found",value:404},{label:"405 - Method Not Allowed",value:405},{label:"406 - Not Acceptable",value:406},{label:"407 - Proxy Authentication Required",value:407},{label:"408 - Request Timeout",value:408},{label:"409 - Conflict",value:409},{label:"410 - Gone",value:410},{label:"411 - Length Required",value:411},{label:"412 - Precondition Failed",value:412},{label:"413 - Payload Too Large",value:413},{label:"413 - Request Entity Too Large",value:413},{label:"414 - URI Too Long",value:414},{label:"414 - Request-URI Too Long",value:414},{label:"415 - Unsupported Media Type",value:415},{label:"416 - Requested range not satisfiable",value:416},{label:"417 - Expectation Failed",value:417},{label:"418 - I'm a teapot",value:418},{label:"419 - Insufficient Space On Resource",value:419},{label:"420 - Method Failure",value:420},{label:"421 - Destination Locked",value:421},{label:"422 - Unprocessable Entity",value:422},{label:"423 - Locked",value:423},{label:"424 - Failed Dependency",value:424},{label:"425 - Too Early",value:425},{label:"426 - Upgrade Required",value:426},{label:"428 - Precondition Required",value:428},{label:"429 - Too Many Requests",value:429},{label:"431 - Request Header Fields Too Large",value:431},{label:"451 - Unavailable For Legal Reasons",value:451},{label:"500 - Internal Server Error",value:500},{label:"501 - Not Implemented",value:501},{label:"502 - Bad Gateway",value:502},{label:"503 - Service Unavailable",value:503},{label:"504 - Gateway Timeout",value:504},{label:"505 - HTTP Version not supported",value:505},{label:"506 - Variant Also Negotiates",value:506},{label:"507 - Insufficient Storage",value:507},{label:"508 - Loop Detected",value:508},{label:"509 - Bandwidth Limit Exceeded",value:509},{label:"510 - Not Extended",value:510},{label:"511 - Network Authentication Required",value:511}]},e69d:function(e,t,n){"use strict";n("12c8")},e6b5:function(e,t,n){"use strict";n("195e")},e75a:function(e,t,n){"use strict";n("9f0c")},e815:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"small",disabled:e.disabled}},[t("el-form-item",{attrs:{label:"条件描述:",prop:"desc"}},[t("el-input",{attrs:{type:"textarea",placeholder:"如：是否会员"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),t("div",{staticClass:"form-item-required"},[t("el-form-item",{attrs:{label:"值1:"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("el-form-item",{attrs:{label:"",prop:"value1.type"}},[t("el-select",{attrs:{placeholder:"固定值/引用值"},on:{change:function(t){return e.changeHandle("value1")}},model:{value:e.form.value1.type,callback:function(t){e.$set(e.form.value1,"type",t)},expression:"form.value1.type"}},e._l(e.valueType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("div",{staticClass:"col"},[t("el-form-item",{attrs:{label:"",prop:"fixed"===e.form.value1.type?"value1.fixedDataType":"value1.refDataType"}},["fixed"===e.form.value1.type?t("el-select",{attrs:{placeholder:"ref"===e.form.value1.type?"数据类型（非必填）":"fixed"===e.form.value1.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value1")}},model:{value:e.form.value1.fixedDataType,callback:function(t){e.$set(e.form.value1,"fixedDataType",t)},expression:"form.value1.fixedDataType"}},e._l(e.dataType1,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):t("el-select",{attrs:{placeholder:"ref"===e.form.value1.type?"数据类型（非必填）":"fixed"===e.form.value1.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value1")}},model:{value:e.form.value1.refDataType,callback:function(t){e.$set(e.form.value1,"refDataType",t)},expression:"form.value1.refDataType"}},e._l(e.dataType1,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("div",{staticClass:"col"},[t("el-form-item",{attrs:{label:"",prop:"value1.value"}},["boolean"===e.form.value1.fixedDataType&&"fixed"===e.form.value1.type?t("el-select",{attrs:{placeholder:"字段值",size:e.size,clearable:""},model:{value:e.form.value1.value,callback:function(t){e.$set(e.form.value1,"value",t)},expression:"form.value1.value"}},e._l(e.booleanOptions,(function(e){return t("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1):"number"===e.form.value1.fixedDataType&&"fixed"===e.form.value1.type?t("el-input",{attrs:{"controls-position":"right",clearable:"",placeholder:"字段值",type:"number"},model:{value:e.form.value1.value,callback:function(t){e.$set(e.form.value1,"value",t)},expression:"form.value1.value"}}):t("el-autocomplete",{staticStyle:{width:"100%"},attrs:{placeholder:"字段值","fetch-suggestions":function(t,n){return e.searchParamOptions("ref"===e.form.value1.type,t,n)},clearable:""},model:{value:e.form.value1.value,callback:function(t){e.$set(e.form.value1,"value",t)},expression:"form.value1.value"}})],1)],1),t("div",{staticClass:"tooltip"},["ref"===e.form.value1.type?t("quote-tooltip",{staticClass:"tooltip"}):e._e()],1)])])],1),t("el-form-item",{attrs:{label:"比较符:",prop:"operator"}},[t("el-select",{model:{value:e.form.operator,callback:function(t){e.$set(e.form,"operator",t)},expression:"form.operator"}},e._l(e.operatorSymbol,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.showValue2(e.form.operator)?t("div",{staticClass:"form-item-required"},[t("el-form-item",{attrs:{label:"值2:"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("el-form-item",{attrs:{label:"",prop:"value2.type"}},[t("el-select",{attrs:{placeholder:"固定值/引用值"},on:{change:function(t){return e.changeHandle("value2")}},model:{value:e.form.value2.type,callback:function(t){e.$set(e.form.value2,"type",t)},expression:"form.value2.type"}},e._l(e.valueType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("div",{staticClass:"col"},[t("el-form-item",{attrs:{label:"",prop:"fixed"===e.form.value2.type?"value2.fixedDataType":"value2.refDataType"}},["fixed"===e.form.value2.type?t("el-select",{attrs:{placeholder:"ref"===e.form.value2.type?"数据类型（非必填）":"fixed"===e.form.value2.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value2")}},model:{value:e.form.value2.fixedDataType,callback:function(t){e.$set(e.form.value2,"fixedDataType",t)},expression:"form.value2.fixedDataType"}},e._l(e.dataType2,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):t("el-select",{attrs:{placeholder:"ref"===e.form.value2.type?"数据类型（非必填）":"fixed"===e.form.value2.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value2")}},model:{value:e.form.value2.refDataType,callback:function(t){e.$set(e.form.value2,"refDataType",t)},expression:"form.value2.refDataType"}},e._l(e.dataType2,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("div",{staticClass:"col"},[t("el-form-item",{attrs:{label:"",prop:"value2.value"}},["boolean"===e.form.value2.fixedDataType&&"fixed"===e.form.value2.type?t("el-select",{attrs:{placeholder:"字段值",size:e.size,clearable:""},model:{value:e.form.value2.value,callback:function(t){e.$set(e.form.value2,"value",t)},expression:"form.value2.value"}},e._l(e.booleanOptions,(function(e){return t("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1):"number"===e.form.value2.fixedDataType&&"fixed"===e.form.value2.type?t("el-input",{attrs:{clearable:"",placeholder:"字段值",type:"number"},model:{value:e.form.value2.value,callback:function(t){e.$set(e.form.value2,"value",t)},expression:"form.value2.value"}}):t("el-autocomplete",{staticStyle:{width:"100%"},attrs:{placeholder:"字段值","fetch-suggestions":function(t,n){return e.searchParamOptions("ref"===e.form.value1.type,t,n)},clearable:""},model:{value:e.form.value2.value,callback:function(t){e.$set(e.form.value2,"value",t)},expression:"form.value2.value"}})],1)],1),t("div",{staticClass:"tooltip"},["ref"===e.form.value2.type?t("quote-tooltip"):e._e()],1)])])],1):e._e()],1)},o=[],i=(n("8e6e"),n("456d"),n("ac6a"),n("c5f6"),n("6762"),n("28a5"),n("4917"),n("bd86")),a=n("e683"),s=n("5880"),u=n("cc38"),l=n("307b"),c=n("16cd");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"compareForm",components:{quoteTooltip:u["default"]},props:{data:{type:Object,default:function(){return{}}},disabled:Boolean,rule:{type:Object,default:function(){}}},data:function(){return{booleanOptions:[{label:"true",value:!0},{label:"false",value:!1}],form:{type:"condition",desc:"",value1:{type:"",value:""},operator:"",value2:{type:"",value:""}},rules:{"value1.type":[{required:!0,message:"请选择【固定值/引用值】",trigger:"change"}],"value1.fixedDataType":[{validator:this.validateDataType,trigger:"change"}],"value1.refDataType":[{validator:this.validateDataType,trigger:"change"}],"value1.value":[{required:!0,message:"【值】不为空",trigger:"blur"},{required:!0,message:"【值】不为空",trigger:"change"}],operator:[{required:!0,message:"请选择【比较符】",trigger:"change"}],"value2.type":[{required:!0,message:"请选择【固定值/引用值】",trigger:"change"}],"value2.fixedDataType":[{validator:this.validateDataType,trigger:"change"}],"value2.refDataType":[{validator:this.validateDataType,trigger:"change"}],"value2.value":[{required:!0,message:"【值】不为空",trigger:"blur"},{required:!0,message:"【值】不为空",trigger:"change"}]},valueType:a["c"],operatorSymbol:a["b"]}},watch:{rule:{immediate:!0,deep:!0,handler:function(){this.rules=Object.assign(this.rules,this.rule)}}},computed:p(p({},Object(s["mapGetters"])(["paramOptions"])),{},{dataType1:function(){try{return this.form.value1.type?a["a"][this.form.value1.type]:[]}catch(e){return[]}},dataType2:function(){try{return this.form.value2.type?a["a"][this.form.value2.type]:[]}catch(e){return[]}}}),methods:{searchParamOptions:function(e,t,n){if(e){var r=this.paramOptions.filter((function(e){return e.value.match(Object(c["a"])(t))}));n(r)}else n([])},validateDataType:function(e,t,n){var r="value1"===e.field.split(".")[0]?this.form.value1.type:this.form.value2.type;"fixed"===r&&(t||n(new Error("【数据类型】不为空！"))),n()},showValue2:function(e){if(e){var t=["isNull","isNotNull","isBlank","isNotBlank","isEmpty","isNotEmpty"];return!t.includes(e)}return!0},handleData:function(){var e=Object(l["a"])(this.form),t=["isNull","isNotNull","isBlank","isNotBlank","isEmpty","isNotEmpty"];return"fixed"===e.value1.type&&"number"===e.value1.fixedDataType&&(e.value1.value=Number(e.value1.value)),Object.keys(e.value1).forEach((function(t){var n=e.value1[t];""===n&&delete e.value1[t]})),t.includes(e.operator)?delete e.value2:("fixed"===e.value2.type&&"number"===e.value2.fixedDataType&&(e.value2.value=Number(e.value2.value)),Object.keys(e.value2).forEach((function(t){var n=e.value2[t];""===n&&delete e.value2[t]}))),e},emitData:function(){var e=this.handleData();this.$emit("update:data",e),this.$emit("emitData",e)},validate:function(){var e=this;return new Promise((function(t,n){e.$refs.form.validate((function(r){r?(e.emitData(),t()):n()}))}))},changeHandle:function(e){this.form[e].fixedDataType&&(this.form[e].fixedDataType=""),this.form[e].refDataType&&(this.form[e].refDataType=""),this.form[e].value=""},dataTypeChange:function(e){"fixed"===this.form[e].type&&this.form[e].value&&(this.form[e].value=null)}},mounted:function(){"{}"!==JSON.stringify(this.data)&&(this.form=Object(l["a"])(this.data))}},h=d,y=(n("60b5"),n("2877")),v=Object(y["a"])(h,r,o,!1,null,"64093bf2",null);t["default"]=v.exports},e931:function(e,t,n){"use strict";n.r(t);n("a481"),n("7f7f");var r,o,i=n("65d4"),a=n("2b3f"),s={name:"history-detail",mixins:[i["default"]],data:function(){return{disabled:!0,businessType:"history"}},methods:{getDetail:function(e){var t=this;if(!this.originId)return this.formData={},void(this.baseConfigs={});Object(a["a"])(this.originId).then((function(n){t.formData=n.data.data||{};var r=Object.assign({},t.formData),o=r.id,i=void 0===o?"":o,a=r.serviceId,s=void 0===a?"":a,u=r.name,l=void 0===u?"":u,c=r.method,f=void 0===c?"":c,p=r.path,d=void 0===p?"":p,h=r.developer,y=void 0===h?"":h,v=r.description,g=void 0===v?"":v,b=r.serviceName,m=void 0===b?"":b;d=d.replace("/proxy/".concat(m,"/"),""),t.baseConfigs={id:i,serviceId:s,name:l,method:f,path:d,developer:y,description:g,serviceName:m},t.loading=!1,e&&e(),t.showV3UpdateTip=!1}))}}},u=s,l=n("2877"),c=Object(l["a"])(u,r,o,!1,null,"c24bcb5c",null);t["default"]=c.exports},ead6:function(e,t,n){var r=n("f772"),o=n("e4ae"),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n("d864")(Function.call,n("bf0b").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},ec8c9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"node-panel"},e._l(e.nodeList,(function(n){return t("div",{key:n.text,staticClass:"node-item",on:{mousedown:function(t){return e.$_dragNode(n)}}},[t("div",{staticClass:"node-item-icon",class:n.class,style:n.style},["user"===n.type||"time"===n.type?t("div",{staticClass:"shape"}):e._e()]),t("span",{staticClass:"node-label"},[e._v(e._s(n.text))])])})),0)},o=[],i={name:"NodePanel",props:{lf:Object,nodeList:Array},methods:{$_dragNode:function(e){e.callback?e.callback(this.$props.lf,e):this.$props.lf.dnd.startDrag({type:e.type})}}},a=i,s=(n("e75a"),n("2877")),u=Object(s["a"])(a,r,o,!1,null,null,null);t["default"]=u.exports},ed0e:function(e,t,n){},eda0:function(e,t,n){},efcc:function(e,t,n){"use strict";n.r(t);n("7f7f");var r=function(){var e=this,t=e._self._c;return t("el-form",{ref:"testForm",staticClass:"test-item-form",attrs:{size:"small",model:e.testForm,rules:e.rules,disabled:e.disabled}},[t("el-form-item",{attrs:{prop:"name"}},[t("el-input",{attrs:{placeholder:"自动生成测试用例的名称，格式 POST/GET URL,  用户可手动输入或修改"},model:{value:e.testForm.name,callback:function(t){e.$set(e.testForm,"name",t)},expression:"testForm.name"}},[t("template",{slot:"prepend"},[e._v("标题")])],2)],1),t("div",{staticClass:"proxy-type"},[t("el-radio",{attrs:{label:"proxytest"},model:{value:e.proxyType,callback:function(t){e.proxyType=t},expression:"proxyType"}},[e._v("测试接口")]),t("el-radio",{attrs:{label:"proxy"},model:{value:e.proxyType,callback:function(t){e.proxyType=t},expression:"proxyType"}},[e._v("正式接口")])],1),t("el-form-item",{staticClass:"test-request",attrs:{prop:"path"}},[t("el-input",{attrs:{placeholder:"请输入字段值（例：0 或 zh)"},model:{value:e.testForm.path,callback:function(t){e.$set(e.testForm,"path",t)},expression:"testForm.path"}},[t("el-select",{attrs:{slot:"prepend",placeholder:"方法",disabled:""},slot:"prepend",model:{value:e.testForm.method,callback:function(t){e.$set(e.testForm,"method",t)},expression:"testForm.method"}},e._l(e.apiMethod,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-button",{attrs:{size:"small",loading:e.sendLoading,type:"primary"},on:{click:function(t){return e.handleAction("send")}}},[e._v("发送")]),t("el-button",{attrs:{size:"small",loading:e.saveLoading,type:"primary",plain:""},on:{click:function(t){return e.handleAction("save")}}},[e._v("保存")])],1),t("el-form-item",[t("el-tabs",["GET"!==e.testForm.method?t("el-tab-pane",{attrs:{label:"请求体",lazy:!0}},[t("el-radio",{attrs:{label:"JSON"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),t("el-radio",{attrs:{label:"form-data"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),t("el-radio",{attrs:{label:"x-www-form-urlencoded"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),t("el-radio",{attrs:{label:"XML"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),"JSON"===e.bodyType?t("data-editor",{attrs:{content:e.body,height:300,disabled:e.disabled},on:{"update:content":function(t){e.body=t}}}):"form-data"===e.bodyType||"x-www-form-urlencoded"===e.bodyType?t("values-table",{ref:"formBody",attrs:{data:e.formBody,"is-upload":"form-data"===e.bodyType,disabled:e.disabled},on:{"update:data":function(t){e.formBody=t}}}):"XML"===e.bodyType?t("code-editor",{attrs:{type:"xml",content:e.xmlBody,height:300},on:{"update:content":function(t){e.xmlBody=t}}}):e._e()],1):e._e(),t("el-tab-pane",{attrs:{label:"请求头"}},[t("el-checkbox",{model:{value:e.returnContext,callback:function(t){e.returnContext=t},expression:"returnContext"}},[e._v("返回Context")]),t("values-table",{ref:"headers",attrs:{data:e.headers,disabled:e.disabled},on:{"update:data":function(t){e.headers=t}}})],1),t("el-tab-pane",{attrs:{label:"Query参数"}},[t("values-table",{ref:"query",attrs:{data:e.query,disabled:e.disabled},on:{"update:data":function(t){e.query=t}}})],1)],1)],1),t("div",{staticClass:"response-hr",class:"response-hr-"+e.responseState},[e._v("Response 响应结果")]),t("el-form-item",[t("el-tabs",[t("el-tab-pane",{attrs:{label:"响应体"}},[t("el-radio-group",{staticStyle:{cursor:"not-allowed","pointer-events":"none"},model:{value:e.responseBodyType,callback:function(t){e.responseBodyType=t},expression:"responseBodyType"}},[t("el-radio",{attrs:{label:"JSON"}}),t("el-radio",{attrs:{label:"XML"}}),t("el-radio",{attrs:{label:"ELSE"}},[e._v("其他类型")])],1),"JSON"===e.responseBodyType?[t("code-highlight",{attrs:{id:"json",language:"json",code:e.jsonResponseBody,height:300}})]:"XML"===e.responseBodyType?[t("code-highlight",{attrs:{id:"xml",language:"xml",code:e.xmlResponseBody,height:300}})]:[t("el-input",{attrs:{type:"textarea",autosize:{minRows:12,maxRows:20},readonly:""},model:{value:e.responseBody,callback:function(t){e.responseBody=t},expression:"responseBody"}})]],2),t("el-tab-pane",{attrs:{label:"响应头"}},[e.renderResHeaderCom?t("values-table",{attrs:{data:e.responseHeaders,disabled:""},on:{"update:data":function(t){e.responseHeaders=t}}}):e._e()],1)],1)],1)],1)},o=[],i=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("28a5"),n("a481"),n("ac6a"),n("bd86")),a=n("942a"),s=n("83b0"),u=n("8c58"),l=(n("6b54"),n("cebe")),c=n.n(l),f=n("323e"),p=n.n(f),d=(n("a5d8"),n("ff40")),h=c.a.create({timeout:2e4,withCredentials:!0});p.a.configure({showSpinner:!1}),h.interceptors.request.use((function(e){return p.a.start(),e}),(function(e){return Promise.reject(e)})),h.interceptors.response.use((function(e){p.a.done();var t=e.status;return 200!==t?Promise.reject(e):e}),(function(e){return"[object Error]"===Object.prototype.toString.call(e)&&Object(d["a"])({message:"请求出错了：".concat(e),type:"error"}),p.a.done(),Promise.reject(new Error(e))}));var y=h,v=n("5880"),g=n("7ede"),b=(n("4917"),n("3b2b"),n("386d"),n("c54a"));function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";for(var n in e)Object(b["a"])(e,n)&&""!==n&&(Object(b["b"])(e[n])&&(e[n]=e[n].join(",")),t+="".concat(n,"=").concat(e[n],"&"));return t.slice(0,-1)}var _=n("4627"),O=n("d480"),w=n("9470");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={name:"test-item",data:function(){return{editorHeight:400,testForm:{},rules:{name:[{required:!0,message:"请填写测试用例名称",trigger:"blur"}]},returnContext:!1,proxyType:"proxytest",bodyType:"JSON",headers:{},body:{},formBody:[],xmlBody:"",query:{},sendLoading:!1,saveLoading:!1,responseState:"",responseBody:null,responseHeaders:{},responseBodyType:"",renderResHeaderCom:!0}},computed:j(j({},Object(v["mapGetters"])(["apiMethod"])),{},{serviceName:function(){return this.data.serviceName||""},request:function(){var e=this.encodeValuesQuery(this.query)||"",t=this.headers||{},n={};if(t=this.handleHeaders(t),"form-data"===this.bodyType){Object(b["d"])(this.formBody,"object")&&this.$refs.formBody.emitData();var r=new FormData;this.formBody.forEach((function(e){if(e.type&&"File"===e.type&&e.files)for(var t=0;t<e.files.length;t++)r.append(e.key,e.files[t]);else e.key&&e.value&&r.append(e.key,e.value)})),n=r}else"x-www-form-urlencoded"===this.bodyType?(Object(b["d"])(this.formBody,"object")&&this.$refs.formBody.emitData(),n=this.encodeValuesQuery(this.formBody)):n="XML"===this.bodyType?this.xmlBody||"":this.body||{};return{headers:t,body:n,query:e}},content:function(){var e=this.getValueTableParams(!0),t=e.formBody,n=e.query,r=e.headers,o="XML"===this.bodyType?this.xmlBody:"JSON"===this.bodyType?this.body:t;return JSON.stringify({headers:this.formatContent(r),body:"form-data"===this.bodyType||"x-www-form-urlencoded"===this.bodyType?this.formatContent(o):o,query:this.formatContent(n),proxyType:this.proxyType,returnContext:this.returnContext,bodyType:this.bodyType})},jsonResponseBody:function(){if(this.responseBody){var e=this.responseBody;return Object(b["d"])(this.responseBody,"object")&&(e=Object.assign({},this.responseBody)),JSON.stringify(e,null,"  ")}return""},xmlResponseBody:function(){var e=this.responseBody||"";return e=e.replace(/></g,">\n<"),e}}),props:{data:{type:Array,default:function(){return[]}},domain:{type:String,default:""},refresh:{type:Function},disabled:{type:Boolean,default:!1}},components:{dataParams:a["default"],paramsTable:s["default"],valuesTable:u["default"],dataEditor:_["default"],codeHighlight:O["default"],codeEditor:w["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(){this.initData()}},proxyType:{handler:function(e){this.testForm.path=this.domain+this.changePath(this.data.path,e)}},domain:{handler:function(e){this.testForm.path=e+this.changePath(this.data.path,this.proxyType)}}},methods:{formatContent:function(e){if(Object(b["d"])(e,"array"))for(var t=0;t<e.length;t++)delete e[t].$index,""===e[t].key&&(e.splice(t,1),t--);else if(Object(b["d"])(e,"object"))for(var n in e)""===n&&delete e[n];return e},encodeValuesQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Object(b["d"])(e,"array")){var t=[];return e.forEach((function(e){e.key&&e.value&&t.push("".concat(e.key,"=").concat(e.value))})),t.join("&")}return m(e)},checkResponseBodyType:function(e){return e=e.split(";"),e=e.map((function(e){return e.toLowerCase()})),e.includes("application/xml")||e.includes("text/xml")?"XML":e.includes("application/json")?"JSON":"ELSE"},handleHeaders:function(e){var t={};return Object(b["d"])(e,"array")&&e.forEach((function(e){e.key&&(t[e.key]?t[e.key]=t[e.key]+","+e.value:t[e.key]=e.value)})),this.returnContext?t.returnContext=!0:t.returnContext&&delete t.returnContext,"GET"===this.testForm.method||t["Content-Type"]||("form-data"===this.bodyType?t["Content-Type"]="multipart/form-data":"x-www-form-urlencoded"===this.bodyType?t["Content-Type"]="application/x-www-form-urlencoded":"XML"===this.bodyType?t["Content-Type"]="application/xml":t["Content-Type"]="application/json"),t},handleAction:function(e){var t=this,n=this.getValueTableParams(!1),r=n.formBody,o=n.query,i=n.headers;this.formBody=r,this.query=o,this.headers=i,this.$nextTick((function(){var n=Object(b["k"])(t.body);if(!n)return t.$message.error("请求体JSON格式有误"),!1;"save"===e&&t.handleSave(),"send"===e&&t.validateUpload()&&t.handleSend()}))},getValueTableParams:function(e){var t=e?"getAllData":"getCheckedData",n=this.$refs.formBody&&this.$refs.formBody[t]()||[],r=this.$refs.query&&this.$refs.query[t]()||[],o=this.$refs.headers&&this.$refs.headers[t]()||[];return{formBody:n,query:r,headers:o}},validateUpload:function(){if("form-data"===this.bodyType){var e=[];if(this.formBody.forEach((function(t,n){t.type&&"File"===t.type&&t.files&&t.files.length!==t.value.split(",").length&&e.push(n+1)})),e.length>0)return this.$message({showClose:!0,message:"第".concat(e.join(","),"行 未上传文件！"),type:"warning"}),!1}return!0},handleSend:function(){var e=this;this.clearResponse(),this.sendLoading=!0;var t=this.testForm.method,n=this.testForm.path+(this.request.query?"?".concat(this.request.query):""),r=this.request.headers||{},o=this.request.body||{};y({url:n,method:t,headers:r,data:o}).then((function(t){e.responseState="success",e.responseBody=t.data,e.responseHeaders=t.headers,e.responseBodyType=e.checkResponseBodyType(t.headers["content-type"]),e.sendLoading=!1})).catch((function(t){console.error(t),e.responseState="error",e.responseBody=t.data,e.responseHeaders=t.headers,t.headers&&t.headers["content-type"]&&(e.responseBodyType=e.checkResponseBodyType(t.headers["content-type"])),e.sendLoading=!1})).then((function(){e.renderResHeaderCom=!1,e.$nextTick((function(){e.renderResHeaderCom=!0}))}))},changePath:function(e,t){return e?(e="proxytest"===t?e.replace("/proxy/".concat(this.serviceName,"/"),"/_proxytest/".concat(this.serviceName,"/")):e.replace("/proxy/".concat(this.serviceName,"/"),"".concat(this.data.formalPathPrefix,"/").concat(this.serviceName,"/")),e):e},handleSave:function(){var e=this;this.saveLoading=!0;var t=Object.assign({},this.testForm);t.content=this.content,Object(g["a"])(t).then((function(){e.$message.success("测试用例保存成功"),e.refresh()})).finally((function(){e.saveLoading=!1}))},initData:function(){var e=Object.assign({},this.data),t=e.content||"{}";try{t=JSON.parse(t)}catch(h){console.log("[error in test data]",h)}var n=t,r=n.headers,o=void 0===r?{}:r,i=n.body,a=void 0===i?{}:i,s=n.query,u=void 0===s?{}:s,l=n.proxyType,c=void 0===l?"proxytest":l,f=n.returnContext,p=n.bodyType;if(this.returnContext=f||o.returnContext||!1,delete o.returnContext,p)this.bodyType=p;else{var d=(o["Content-Type"]||"").split(";");d.includes("application/xml")?(this.bodyType="XML",d.splice(d.indexOf("application/xml"),1)):d.includes("multipart/form-data")?(this.bodyType="form-data",d.splice(d.indexOf("multipart/form-data"),1)):d.includes("application/x-www-form-urlencoded")?(this.bodyType="x-www-form-urlencoded",d.splice(d.indexOf("application/x-www-form-urlencoded"),1)):d.includes("application/json")&&(this.bodyType="JSON",d.splice(d.indexOf("application/json"),1)),o["Content-Type"]=d.join(";"),o["Content-Type"]||delete o["Content-Type"]}"XML"===this.bodyType?this.xmlBody=a:"form-data"===this.bodyType||"x-www-form-urlencoded"===this.bodyType?this.formBody=a:this.body=a,this.headers=o,this.query=u,this.proxyType=c,e.path=this.domain+this.changePath(e.path,this.proxyType),this.testForm=e},validate:function(){var e=this;return new Promise((function(t,n){e.$refs.testForm.validate((function(e){e?t():n()}))}))},clearResponse:function(){var e=this;this.responseState="",this.responseBody="",this.responseBodyType="",this.responseHeaders={},this.renderResHeaderCom=!1,this.$nextTick((function(){e.renderResHeaderCom=!0}))}}},E=S,P=(n("c1a0"),n("2877")),k=Object(P["a"])(E,r,o,!1,null,null,null);t["default"]=k.exports},f2bb:function(e,t,n){},f52f:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"logic-flow-view"},[e._l(e.plugins,(function(e,n){return t("div",{key:n,attrs:{id:"plugin_"+n}})})),t("h3",{staticClass:"logic-title"},[e._v("API聚合编辑器\n  \n\n  ")]),e.lf?t("Control",{staticClass:"logic-control",attrs:{lf:e.lf},on:{catData:e.$_catData}}):e._e(),e.disabled?e._e():t("NodePanel",{attrs:{lf:e.lf,nodeList:e.nodeList}}),t("div",{ref:"container",attrs:{id:"LF-view"}}),e.showAddPanel?t("AddPanel",{staticClass:"add-panel",style:e.addPanelStyle,attrs:{lf:e.lf,nodeData:e.addClickedNode},on:{addNodeFinish:e.hideAddPanel}}):e._e(),t("drawer",{attrs:{title:e.dialogTitle,visible:e.nodeDialogVisible,direction:"rtl",size:"81.5%","modal-append-to-body":!1,"before-close":e.closeDialog},on:{"update:visible":function(t){e.nodeDialogVisible=t}}},[t("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.dialogTitle))]),e.nodeDialogVisible?t(e.nodeComponentName,{tag:"component",attrs:{componentVisible:e.nodeDialogVisible,nodeData:e.clickedNode,lf:e.lf,data:e.data,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(t){e.data=t},setPropertiesFinish:e.closeDialog}}):e._e()],1),t("drawer",{attrs:{title:"设置属性",visible:e.extensionDialogVisible,direction:"rtl",size:"81.5%","modal-append-to-body":!1,"before-close":e.closeDialog},on:{"update:visible":function(t){e.extensionDialogVisible=t}}},[t("div",{attrs:{slot:"title"},slot:"title"},[e._v("设置属性")]),t("section",{attrs:{id:"extensionDialog"}})]),t("el-dialog",{attrs:{title:"数据",visible:e.dataVisible,"modal-append-to-body":!1,width:"50%"},on:{"update:visible":function(t){e.dataVisible=t}}},[t("DataDialog",{attrs:{graphData:e.graphData}})],1)],2)},o=[],i=(n("8e6e"),n("456d"),n("75fc")),a=(n("96cf"),n("3b8d")),s=n("bd86"),u=(n("7f7f"),n("ac6a"),n("8615"),n("5e90")),l=n.n(u),c=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){var e="xxxxxxx".replace(/[x]/g,(function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}));return e},e.prototype.next=function(){var e=this.generateId();while(this._ids.has(e))e=this.generateId();return this._ids.add(e),e},e}(),f=(null===globalThis||void 0===globalThis?void 0:globalThis._ids)||new c;function p(){return f.next()}var d=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(e){function t(t,n){var r=this;return t.id||(t.id="Event_"+p()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),r=e.call(this,t,n)||this,r}return d(t,e),t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedTargetRules=function(){var t=e.prototype.getConnectedTargetRules.call(this),n={message:"起始节点不能作为边的终点",validate:function(){return!1}};return t.push(n),t},t.extendKey="StartEventModel",t}(u["CircleNodeModel"]),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.extendKey="StartEventNode",t}(u["CircleNode"]),v={type:"bpmn:startEvent",view:y,model:h},g=v,b=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)},_=function(e){function t(t,n){var r=this;return t.id||(t.id="Event_"+p()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),r=e.call(this,t,n)||this,r}return b(t,e),t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedSourceRules=function(){var t=e.prototype.getConnectedSourceRules.call(this),n={message:"结束节点不能作为边的起点",validate:function(){return!1}};return t.push(n),t},t.extendKey="EndEventModel",t}(u["CircleNodeModel"]),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var t=this.props.model,n=t.getNodeStyle(),r=t.x,o=t.y,i=t.r,a=e.prototype.getShape.call(this);return Object(u["h"])("g",{},a,Object(u["h"])("circle",m(m({},n),{cx:r,cy:o,r:i-5})))},t.extendKey="EndEventView",t}(u["CircleNode"]),w={type:"bpmn:endEvent",view:O,model:_},x=w,j=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},S.apply(this,arguments)},E=function(e){function t(t,n){var r=this;return t.id||(t.id="Gateway_"+p()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),r=e.call(this,t,n)||this,r.points=[[25,0],[50,25],[25,50],[0,25]],r}return j(t,e),t.extendKey="ExclusiveGatewayModel",t}(u["PolygonNodeModel"]),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.points,a=e.getNodeStyle();return Object(u["h"])("g",{transform:"matrix(1 0 0 1 "+(t-r/2)+" "+(n-o/2)+")"},Object(u["h"])("polygon",S(S({},a),{x:t,y:n,points:i})),Object(u["h"])("path",S({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},a)))},t.extendKey="ExclusiveGatewayNode",t}(u["PolygonNode"]),k={type:"bpmn:exclusiveGateway",view:P,model:E},T=k,D=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},N.apply(this,arguments)},C=function(e){function t(t,n){var r=this;return t.id||(t.id="Activity_"+p()),r=e.call(this,t,n)||this,r}return D(t,e),t.extendKey="UserTaskModel",t}(u["RectNodeModel"]),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.getLabelShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return Object(u["h"])("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(u["h"])("path",{fill:i.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return Object(u["h"])("g",{},[Object(u["h"])("rect",N(N({},a),{x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o})),this.getLabelShape()])},t.extendKey="UserTaskNode",t}(u["RectNode"]),M={type:"bpmn:userTask",view:A,model:C},I=M,R=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},L.apply(this,arguments)},B=function(e){function t(t,n){var r=this;return t.id||(t.id="Activity_"+p()),r=e.call(this,t,n)||this,r}return R(t,e),t.extendKey="ServiceTaskModel",t}(u["RectNodeModel"]),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.getLabelShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle();return Object(u["h"])("svg",{x:t-r/2+5,y:n-o/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Object(u["h"])("path",{fill:i.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return Object(u["h"])("g",{},[Object(u["h"])("rect",L({x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o},a)),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t}(u["RectNode"]),z={type:"bpmn:serviceTask",view:F,model:B},q=z,$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(e){function t(t,n){var r=this;return t.id||(t.id="Flow_"+p()),r=e.call(this,t,n)||this,r}return $(t,e),t.extendKey="SequenceFlowModel",t}(u["PolylineEdgeModel"]),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.extendKey="SequenceFlowEdge",t}(u["PolylineEdge"]),W={type:"bpmn:sequenceFlow",view:U,model:H},V=W,G={width:40,height:40},X={width:40,height:40},Y={width:40,height:40},J={width:100,height:80},K={width:100,height:80},Z={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Q=(function(){function e(e){var t=e.lf;t.setTheme(Z),t.register(g),t.register(x),t.register(T),t.register(I),t.register(q),t.options.customBpmnEdge||(t.register(V),t.setDefaultEdgeType("bpmn:sequenceFlow"))}e.pluginName="bpmnElement"}(),function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){var e="xxxxxxx".replace(/[x]/g,(function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}));return e},e.prototype.next=function(){var e=this.generateId();while(this._ids.has(e))e=this.generateId();return this._ids.add(e),e},e}()),ee=(null===globalThis||void 0===globalThis?void 0:globalThis._ids)||new Q;function te(){return ee.next()}function ne(e){return Object.prototype.toString.call(e)}function re(e){return"  ".repeat(e)}function oe(e){var t=e;return"[object Object]"===ne(e)?(t={},Object.keys(e).forEach((function(n){var r=n;"-"===n.charAt(0)&&(r=n.substring(1)),t[r]=oe(e[n])}))):Array.isArray(e)&&(t=[],e.forEach((function(e,n){t[n]=oe(e)}))),t}function ie(e){var t=e;try{"string"!==typeof t&&(t=JSON.parse(e))}catch(n){t=JSON.stringify(oe(e)).replace(/"/g,"'")}return t}var ae="\t\n";function se(e,t,n){var r=re(n),o="";if("#text"===t)return ae+r+e;if("#cdata-section"===t)return ae+r+"<![CDATA["+e+"]]>";if("#comment"===t)return ae+r+"\x3c!--"+e+"--\x3e";if("-"===(""+t).charAt(0))return" "+t.substring(1)+'="'+ie(e)+'"';if(Array.isArray(e))e.forEach((function(e){o+=se(e,t,n+1)}));else if("[object Object]"===ne(e)){var i=Object.keys(e),a="",s="";o+=(0===n?"":ae+r)+"<"+t,i.forEach((function(t){"-"===t.charAt(0)?a+=se(e[t],t,n+1):s+=se(e[t],t,n+1)})),o+=a+(""!==s?">"+s+(ae+r)+"</"+t+">":" />")}else o+=ae+r+"<"+t+">"+e.toString()+"</"+t+">";return o}function ue(e){var t="";for(var n in e)t+=se(e[n],n,0);return t}var le=function(){};le.ObjTree=function(){return this},le.ObjTree.VERSION="0.23",le.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',le.ObjTree.prototype.attr_prefix="-",le.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e),t=n.documentElement);if(t)return this.parseDOM(t)},le.ObjTree.prototype.parseHTTP=function(e,t,n){var r,o={};for(var i in t)o[i]=t[i];if(o.method||("undefined"==typeof o.postBody&&"undefined"==typeof o.postbody&&"undefined"==typeof o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,s=n,u=o.onComplete;o.onComplete=function(e){var t;e&&e.responseXML&&e.responseXML.documentElement&&(t=a.parseDOM(e.responseXML.documentElement)),s(t,e),u&&u(e)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request){o.uri=e;var l=new HTTP.Request(o);l&&(r=l.transport)}else if("undefined"!=typeof Ajax&&Ajax.Request){l=new Ajax.Request(e,o);l&&(r=l.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},le.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),11!=e.nodeType){var r={};r[e.nodeName]=n,n=r}return n}},le.ObjTree.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType||8==e.nodeType){var t=e.nodeValue.match(/[^\x00-\x20]/);if(null==t)return;return e.nodeValue}var n=null,r={};if(e.attributes&&e.attributes.length){n={};for(var o=0;o<e.attributes.length;o++){var i=e.attributes[o].nodeName;if("string"==typeof i){var a=e.attributes[o].nodeValue;try{a=JSON.parse(e.attributes[o].nodeValue.replace(/'/g,'"'))}catch(l){a=e.attributes[o].nodeValue}a&&(i=this.attr_prefix+i,"undefined"==typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(e.childNodes&&e.childNodes.length){var s=!0;n&&(s=!1);for(o=0;o<e.childNodes.length&&s;o++){var u=e.childNodes[o].nodeType;3!=u&&4!=u&&8!=u&&(s=!1)}if(s){n||(n="");for(o=0;o<e.childNodes.length;o++)n+=e.childNodes[o].nodeValue}else{n||(n={});for(o=0;o<e.childNodes.length;o++){i=e.childNodes[o].nodeName;if("string"==typeof i){a=this.parseElement(e.childNodes[o]);a&&("undefined"==typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}else null===n&&(n={});return n}},le.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(1==n&&(e[t]=[]),e[t][e[t].length]=r):1==n?e[t]=r:2==n?e[t]=[e[t],r]:e[t][e[t].length]=r},le.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},le.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o.charAt(0)!=this.attr_prefix?"undefined"==typeof i||null==i?n[n.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),s=n.join("");return"undefined"==typeof e||null==e||(s=n.length>0?s.match(/\n/)?"<"+e+a+">\n"+s+"</"+e+">\n":"<"+e+a+">"+s+"</"+e+">\n":"<"+e+a+" />\n"),s},le.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r];"undefined"==typeof o||null==o?n[n.length]="<"+e+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(e,o):n[n.length]="object"==typeof o?this.hash_to_xml(e,o):this.scalar_to_xml(e,o)}return n.join("")},le.ObjTree.prototype.scalar_to_xml=function(e,t){return"#text"==e?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+">\n"},le.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ce,fe=function(e){return(new le.ObjTree).parseXML(e)},pe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),de=function(){return de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},de.apply(this,arguments)},he=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a};(function(e){e["START"]="bpmn:startEvent",e["END"]="bpmn:endEvent",e["GATEWAY"]="bpmn:exclusiveGateway",e["USER"]="bpmn:userTask",e["SYSTEM"]="bpmn:serviceTask",e["FLOW"]="bpmn:sequenceFlow"})(ce||(ce={}));var ye=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],ve=["properties","startPoint","endPoint","pointsList"];function ge(e){var t=e?ve.concat(e):ve;return function(e){function n(e){var r={};return"string"===typeof e?e:Array.isArray(e)?e.map((function(e){return n(e)})):(Object.entries(e).forEach((function(e){var o=he(e,2),i=o[0],a=o[1];"object"!==typeof a?0===i.indexOf("-")||["#text","#cdata-section","#comment"].includes(i)?r[i]=a:r["-"+i]=a:t.includes(i)?r["-"+i]=n(a):r[i]=n(a)})),r)}return n(e)}}function be(e){var t={};return Object.entries(e).forEach((function(e){var n=he(e,2),r=n[0],o=n[1];0===r.indexOf("-")?t[r.substring(1)]=oe(o):"string"===typeof o?t[r]=o:"[object Object]"===Object.prototype.toString.call(o)?t[r]=be(o):Array.isArray(o)?t[r]=o.map((function(e){return be(e)})):t[r]=o})),t}function me(e,t,n){var r=new Map;t.nodes.forEach((function(t){var o,i={"-id":t.id};if((null===(o=t.text)||void 0===o?void 0:o.value)&&(i["-name"]=t.text.value),t.properties){var a=ge(n)(t.properties);Object.assign(i,a)}r.set(t.id,i),e[t.type]?Array.isArray(e[t.type])?e[t.type].push(i):e[t.type]=[e[t.type],i]:e[t.type]=i}));var o=t.edges.map((function(e){var t,o,i=r.get(e.targetNodeId);i["bpmn:incoming"]?Array.isArray(i["bpmn:incoming"])?i["bpmn:incoming"].push(e.id):i["bpmn:incoming"]=[i["bpmn:incoming"],e.id]:i["bpmn:incoming"]=e.id;var a={"-id":e.id,"-sourceRef":e.sourceNodeId,"-targetRef":e.targetNodeId};if((null===(t=e.text)||void 0===t?void 0:t.value)&&(a["-name"]=null===(o=e.text)||void 0===o?void 0:o.value),e.properties){var s=ge(n)(e.properties);Object.assign(a,s)}return a}));t.edges.forEach((function(e){var t=r.get(e.sourceNodeId);t["bpmn:outgoing"]?Array.isArray(t["bpmn:outgoing"])?t["bpmn:outgoing"].push(e.id):t["bpmn:outgoing"]=[t["bpmn:outgoing"],e.id]:t["bpmn:outgoing"]=e.id})),e[ce.FLOW]=o}function _e(e,t){e["bpmndi:BPMNEdge"]=t.edges.map((function(e){var t,n=e.id,r=e.pointsList.map((function(e){var t=e.x,n=e.y;return{"-x":t,"-y":n}})),o={"-id":n+"_di","-bpmnElement":n,"di:waypoint":r};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(o["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),o})),e["bpmndi:BPMNShape"]=t.nodes.map((function(e){var t,n=e.id,r=100,o=80,i=e.x,a=e.y,s=Ee.shapeConfigMap.get(e.type);s&&(r=s.width,o=s.height),i-=r/2,a-=o/2;var u={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i,"-y":a,"-width":r,"-height":o}};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(u["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),u}))}function Oe(e){var t=[],n=[],r=e["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach((function(e){if(0===e.indexOf("bpmn:")){var i=o[e];if(e===ce.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=je(i,a)}else{var s=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(we(i,s,e))}}}))}return{nodes:t,edges:n}}function we(e,t,n){var r=[];if(Array.isArray(e))e.forEach((function(e){var o;o=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t;var i=xe(o,n,e);r.push(i)}));else{var o=void 0;o=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t;var i=xe(o,n,e);r.push(i)}return r}function xe(e,t,n){var r,o,i=Number(e["dc:Bounds"]["-x"]),a=Number(e["dc:Bounds"]["-y"]),s=n["-name"],u=Ee.shapeConfigMap.get(t);if(u&&(i+=u.width/2,a+=u.height/2),Object.entries(n).forEach((function(e){var t=he(e,2),n=t[0],o=t[1];-1===ye.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=be(r)),s&&(o={x:i,y:a,value:s},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var l=e["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(l["-x"])+Number(l["-width"])/2,o.y=Number(l["-y"])+Number(l["-height"])/2}var c={id:e["-bpmnElement"],type:t,x:i,y:a,properties:r};return o&&(c.text=o),c}function je(e,t){var n=[];if(Array.isArray(e))e.forEach((function(e){var r;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(Se(r,e))}));else{var r=void 0;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(Se(r,e))}return n}function Se(e,t){var n,r,o=t["-name"];if(o){var i=e["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(e){a<e.length&&(a=e.length)})),n={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(t).forEach((function(e){var t=he(e,2),n=t[0],o=t[1];-1===ye.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=be(r));var s={id:t["-id"],type:ce.FLOW,pointsList:e["di:waypoint"].map((function(e){return{x:Number(e["-x"]),y:Number(e["-y"])}})),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:r};return n&&(s.text=n),s}var Ee=function(){function e(e){var t=this,n=e.lf;this.adapterOut=function(e,n){var r=de({},t.processAttributes);me(r,e,n);var o={"-id":"BPMNPlane_1","-bpmnElement":r["-id"]};_e(o,e);var i=t.definitionAttributes;i["bpmn:process"]=r,i["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":o};var a={"bpmn:definitions":i};return a},this.adapterIn=function(e){if(e)return Oe(e)},n.adapterIn=function(e){return t.adapterIn(e)},n.adapterOut=function(e,n){return t.adapterOut(e,n)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+te()},this.definitionAttributes={"-id":"Definitions_"+te(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return e.prototype.setCustomShape=function(t,n){e.shapeConfigMap.set(t,n)},e.pluginName="bpmn-adapter",e.shapeConfigMap=new Map,e}();Ee.shapeConfigMap.set(ce.START,{width:G.width,height:G.height}),Ee.shapeConfigMap.set(ce.END,{width:X.width,height:X.height}),Ee.shapeConfigMap.set(ce.GATEWAY,{width:Y.width,height:Y.height}),Ee.shapeConfigMap.set(ce.SYSTEM,{width:J.width,height:J.height}),Ee.shapeConfigMap.set(ce.USER,{width:K.width,height:K.height});(function(e){function t(t){var n=e.call(this,t)||this;n.adapterXmlIn=function(e){var t=fe(e);return n.adapterIn(t)},n.adapterXmlOut=function(e,t){var r=n.adapterOut(e,t);return ue(r)};var r=t.lf;return r.adapterIn=n.adapterXmlIn,r.adapterOut=n.adapterXmlOut,n}pe(t,e),t.pluginName="bpmnXmlAdapter"})(Ee);function Pe(){var e={message:"分组外的节点不允许连接分组内的",validate:function(e,t,n,r){var o=!!e.properties.parent,i=!!t.properties.parent;return!(!o&&i)}};this.targetRules.push(e)}var ke=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){var e="xxxxxxx".replace(/[x]/g,(function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}));return e},e.prototype.next=function(){var e=this.generateId();while(this._ids.has(e))e=this.generateId();return this._ids.add(e),e},e}(),Te=(null===globalThis||void 0===globalThis?void 0:globalThis._ids)||new ke;function De(){return Te.next()}var Ne=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=function(){return Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ce.apply(this,arguments)},Ae=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Me=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ae(arguments[t]));return e};function Ie(e){var t=Ae(e.useDefinition(),1),n=t[0],r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var t,r=this.props.model,o=r.getNodeStyle(),i=r.x,a=r.y,s=r.r,l=r.width,c=r.height,f=r.properties,p=e.prototype.getShape.call(this),d=f.definitionType,h=((null===(t=n.endEvent)||void 0===t?void 0:t.get(d))||{}).icon,y=Array.isArray(h)?u["h"].apply(void 0,Me(["g",{transform:"matrix(1 0 0 1 "+(i-l/2)+" "+(a-c/2)+")"}],h)):Object(u["h"])("path",{transform:"matrix(1 0 0 1 "+(i-l/2)+" "+(a-c/2)+")",d:h,style:"fill: black; stroke-linecap: round; stroke-linejoin: round; stroke: white; stroke-width: 1px;"});return Object(u["h"])("g",{},p,Object(u["h"])("circle",Ce(Ce({},o),{strokeWidth:2,cx:i,cy:a,r:s-2})),y)},t}(u["CircleNode"]),o=function(e){function t(t,r){var o,i,a,s=this;t.id||(t.id="Event_"+De()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40});var u=((null===(o=n.endEvent)||void 0===o?void 0:o.get(null===(i=t.properties)||void 0===i?void 0:i.definitionType))||{}).properties,l=void 0===u?{}:u;return t.properties=Ce(Ce({},l),t.properties),(null===(a=t.properties)||void 0===a?void 0:a.definitionType)&&(t.properties.definitionId="Definition_"+De()),s=e.call(this,t,r)||this,Pe.call(s),s}return Ne(t,e),t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedSourceRules=function(){var t=this,n=e.prototype.getConnectedSourceRules.call(this),r={message:"结束节点不能作为边的起点",validate:function(e,n){return e!==t}};return n.push(r),n},t}(u["CircleNodeModel"]);return{type:"bpmn:endEvent",view:r,model:o}}var Re=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Le=function(){return Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Le.apply(this,arguments)},Be=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Fe=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Be(arguments[t]));return e};function ze(e){var t=Be(e.useDefinition(),1),n=t[0],r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Re(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var e,t=this.props.model,r=t.getNodeStyle(),o=t.x,i=t.y,a=t.r,s=t.width,l=t.height,c=t.properties,f=c.definitionType,p=((null===(e=n.intermediateCatchEvent)||void 0===e?void 0:e.get(f))||{}).icon,d=Array.isArray(p)?u["h"].apply(void 0,Fe(["g",{transform:"matrix(1 0 0 1 "+(o-s/2)+" "+(i-l/2)+")"}],p)):Object(u["h"])("path",{transform:"matrix(1 0 0 1 "+(o-s/2)+" "+(i-l/2)+")",d:p});return Object(u["h"])("g",{},Object(u["h"])("circle",Le(Le({},r),{cx:o,cy:i,r:a,strokeWidth:1.5})),Object(u["h"])("circle",Le(Le({},r),{cx:o,cy:i,r:a-3,strokeWidth:1.5})),d)},t}(u["CircleNode"]),o=function(e){function t(t,r){var o,i,a,s=this;t.id||(t.id="Event_"+De()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40});var u=((null===(o=n.intermediateCatchEvent)||void 0===o?void 0:o.get(null===(i=t.properties)||void 0===i?void 0:i.definitionType))||{}).properties,l=void 0===u?{}:u;return t.properties=Le(Le({},l),t.properties),(null===(a=t.properties)||void 0===a?void 0:a.definitionType)&&(t.properties.definitionId="Definition_"+De()),s=e.call(this,t,r)||this,Pe.call(s),s}return Re(t,e),t.prototype.setAttributes=function(){this.r=18},t}(u["CircleNodeModel"]);return{type:"bpmn:intermediateCatchEvent",view:r,model:o}}var qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$e=function(){return $e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$e.apply(this,arguments)},He=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Ue=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(He(arguments[t]));return e};function We(e){var t=He(e.useDefinition(),1),n=t[0],r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qe(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var e,t=this.props.model,r=t.getNodeStyle(),o=t.x,i=t.y,a=t.r,s=t.width,l=t.height,c=t.properties,f=c.definitionType,p=c.isInterrupting,d=((null===(e=n.startEvent)||void 0===e?void 0:e.get(f))||{}).icon,h=Array.isArray(d)?u["h"].apply(void 0,Ue(["g",{transform:"matrix(1 0 0 1 "+(o-s/2)+" "+(i-l/2)+")"}],d)):Object(u["h"])("path",{transform:"matrix(1 0 0 1 "+(o-s/2)+" "+(i-l/2)+")",d:d,style:"fill: white; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});return Object(u["h"])("g",{},Object(u["h"])("circle",$e($e({},r),{cx:o,cy:i,r:a,strokeDasharray:p?"5,5":"",strokeWidth:2})),h)},t}(u["CircleNode"]),o=function(e){function t(t,r){var o,i,a,s=this;t.id||(t.id="Event_"+De()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40});var u=((null===(o=n.startEvent)||void 0===o?void 0:o.get(null===(i=t.properties)||void 0===i?void 0:i.definitionType))||{}).properties,l=void 0===u?{}:u;return t.properties=$e($e({},l),t.properties),(null===(a=t.properties)||void 0===a?void 0:a.definitionType)&&(t.properties.definitionId="Definition_"+De()),s=e.call(this,t,r)||this,s}return qe(t,e),t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedTargetRules=function(){var t=this,n=e.prototype.getConnectedTargetRules.call(this),r={message:"起始节点不能作为边的终点",validate:function(e,n){return n!==t}};return n.push(r),n},t}(u["CircleNodeModel"]);return{type:"bpmn:startEvent",view:r,model:o}}var Ve=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ge=function(){return Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ge.apply(this,arguments)},Xe=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Ye=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xe(arguments[t]));return e};function Je(e){var t=Xe(e.useDefinition(),1),n=t[0],r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ve(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var e,t=this.props.model,r=t.getNodeStyle(),o=t.x,i=t.y,a=t.r,s=t.width,l=t.height,c=t.properties,f=c.definitionType,p=c.cancelActivity,d=((null===(e=n.boundaryEvent)||void 0===e?void 0:e.get(f))||{}).icon,h=Array.isArray(d)?u["h"].apply(void 0,Ye(["g",{transform:"matrix(1 0 0 1 "+(o-s/2)+" "+(i-l/2)+")"}],d)):Object(u["h"])("path",{transform:"matrix(1 0 0 1 "+(o-s/2)+" "+(i-l/2)+")",d:d});return Object(u["h"])("g",{},Object(u["h"])("circle",Ge(Ge({},r),{cx:o,cy:i,r:a,strokeDasharray:p?"":"5,5",strokeWidth:1.5})),Object(u["h"])("circle",Ge(Ge({},r),{cx:o,cy:i,r:a-3,strokeDasharray:p?"":"5,5",strokeWidth:1.5})),h)},t}(u["CircleNode"]),o=function(e){function t(t,r){var o,i,a,s=this;t.id||(t.id="Event_"+De()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40});var u=((null===(o=n.boundaryEvent)||void 0===o?void 0:o.get(null===(i=t.properties)||void 0===i?void 0:i.definitionType))||{}).properties,l=void 0===u?{}:u;return t.properties=Ge(Ge({attachedToRef:"",cancelActivity:!0},l),t.properties),(null===(a=t.properties)||void 0===a?void 0:a.definitionType)&&(t.properties.definitionId="Definition_"+De()),s=e.call(this,t,r)||this,Pe.call(s),s}return Ve(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.r=20,this.autoToFront=!1,this.zIndex=99999},t.prototype.setAttributes=function(){this.r=18},t}(u["CircleNodeModel"]);return{type:"bpmn:boundaryEvent",view:r,model:o}}var Ke=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=function(){return Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ze.apply(this,arguments)},Qe=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},et=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qe(arguments[t]));return e};function tt(e){var t=Qe(e.useDefinition(),1),n=t[0],r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ke(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var e,t=this.props.model,r=t.getNodeStyle(),o=t.x,i=t.y,a=t.r,s=t.width,l=t.height,c=t.properties,f=c.definitionType,p=((null===(e=n.intermediateThrowEvent)||void 0===e?void 0:e.get(f))||{}).icon,d=Array.isArray(p)?u["h"].apply(void 0,et(["g",{transform:"matrix(1 0 0 1 "+(o-s/2)+" "+(i-l/2)+")"}],p)):Object(u["h"])("path",{transform:"matrix(1 0 0 1 "+(o-s/2)+" "+(i-l/2)+")",d:p,style:"fill: black"});return Object(u["h"])("g",{},Object(u["h"])("circle",Ze(Ze({},r),{cx:o,cy:i,r:a,strokeWidth:1.5})),Object(u["h"])("circle",Ze(Ze({},r),{cx:o,cy:i,r:a-3,strokeWidth:1.5})),d)},t}(u["CircleNode"]),o=function(e){function t(t,r){var o,i,a,s=this;t.id||(t.id="Event_"+De()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40});var u=((null===(o=n.intermediateThrowEvent)||void 0===o?void 0:o.get(null===(i=t.properties)||void 0===i?void 0:i.definitionType))||{}).properties,l=void 0===u?{}:u;return t.properties=Ze(Ze({},l),t.properties),(null===(a=t.properties)||void 0===a?void 0:a.definitionType)&&(t.properties.definitionId="Definition_"+De()),s=e.call(this,t,r)||this,Pe.call(s),s}return Ke(t,e),t.prototype.setAttributes=function(){this.r=18},t}(u["CircleNodeModel"]);return{type:"bpmn:intermediateThrowEvent",view:r,model:o}}function nt(e){e.register(We(e)),e.register(Ie(e)),e.register(ze(e)),e.register(tt(e)),e.register(Je(e))}var rt=[Object(u["h"])("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Object(u["h"])("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Object(u["h"])("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"})],ot=(Object(u["h"])("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"}),"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"),it="m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z",at=Object(u["h"])("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"}),st="M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z",ut="M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z",lt="m44,60 m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",ct="m47,61 m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",ft="m 50,73 c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",pt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(){return dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dt.apply(this,arguments)};function ht(e,t,n){var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return pt(n,e),n.prototype.getShape=function(){var e=this.props.model,n=e.x,r=e.y,o=e.width,i=e.height,a=e.points,s=e.getNodeStyle();return Object(u["h"])("g",{transform:"matrix(1 0 0 1 "+(n-o/2)+" "+(r-i/2)+")"},Object(u["h"])("polygon",dt(dt({},s),{x:n,y:r,points:a})),"string"===typeof t?Object(u["h"])("path",dt(dt({d:t},s),{fill:"rgb(34, 36, 42)",strokeWidth:1})):t)},n}(u["PolygonNode"]),o=function(e){function t(t,r){var o=this;return t.id||(t.id="Gateway_"+De()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),t.properties=dt(dt({},n||{}),t.properties),o=e.call(this,t,r)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],Pe.call(o),o}return pt(t,e),t}(u["PolygonNodeModel"]);return{type:e,view:r,model:o}}function yt(e){var t=ht("bpmn:exclusiveGateway",ot),n=ht("bpmn:parallelGateway",it),r=ht("bpmn:inclusiveGateway",at);e.register(t),e.register(r),e.register(n)}var vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=function(){return gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gt.apply(this,arguments)},bt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},mt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bt(arguments[t]));return e},_t={parallel:lt,sequential:ct,loop:ft};function Ot(e,t,n){var r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return vt(n,e),n.prototype.getLabelShape=function(){var e=this.props.model,n=e.x,r=e.y,o=e.width,i=e.height,a=e.getNodeStyle(),s=Array.isArray(t)?u["h"].apply(void 0,mt(["g",{transform:"matrix(1 0 0 1 "+(n-o/2)+" "+(r-i/2)+")"}],t)):Object(u["h"])("path",{fill:a.stroke,d:t});return Object(u["h"])("svg",{x:n-o/2+5,y:r-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},s)},n.prototype.getShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.properties,s=e.getNodeStyle();return Object(u["h"])("g",{},[Object(u["h"])("rect",gt(gt({},s),{x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o,opacity:.95})),this.getLabelShape(),Object(u["h"])("g",{transform:"matrix(1 0 0 1 "+(t-r/2)+" "+(n-o/2)+")"},Object(u["h"])("path",{fill:"white",strokeLinecap:"round",strokeLinejoin:"round",stroke:"rgb(34, 36, 42)",strokeWidth:"2",d:_t[a.multiInstanceType]||""}))])},n}(u["RectNode"]),o=function(e){function t(t,r){var o,i=this;t.id||(t.id="Activity_"+De());var a=gt(gt({},n||{}),t.properties);return t.properties=a,i=e.call(this,t,r)||this,null===(o=null===a||void 0===a?void 0:a.boundaryEvents)||void 0===o||o.forEach((function(e){i.addBoundaryEvent(e)})),i.deleteProperty("boundaryEvents"),Pe.call(i),i}return vt(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.isTaskNode=!0,this.boundaryEvents=[]},t.prototype.getNodeStyle=function(){var t=e.prototype.getNodeStyle.call(this),n=this.properties.isBoundaryEventTouchingTask;return n&&(t.stroke="#00acff",t.strokeWidth=2),t},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this);return t.stroke="transparent",!t.hover&&(t.hover={}),t.hover.stroke="transparent",t},t.prototype.setTouching=function(e){this.setProperty("isBoundaryEventTouchingTask",e)},t.prototype.addBoundaryEvent=function(e){if(this.setTouching(!1),this.boundaryEvents.find((function(t){return t===e})))return!1;var t=this.graphModel.getNodeModelById(e);return null===t||void 0===t||t.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(e),!0},t.prototype.deleteBoundaryEvent=function(e){this.boundaryEvents=this.boundaryEvents.filter((function(t){return t!==e}))},t}(u["RectNodeModel"]);return{type:e,view:r,model:o}}var wt,xt,jt,St,Et,Pt,kt,Tt={},Dt=[],Nt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ct=Array.isArray;function At(e,t){for(var n in t)e[n]=t[n];return e}function Mt(e){var t=e.parentNode;t&&t.removeChild(e)}function It(e,t,n){var r,o,i,a={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?wt.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===a[i]&&(a[i]=e.defaultProps[i]);return Rt(e,a,r,o,null)}function Rt(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++jt:o,__i:-1,__u:0};return null==o&&null!=xt.vnode&&xt.vnode(i),i}function Lt(){return{current:null}}function Bt(e){return e.children}function Ft(e,t){this.props=e,this.context=t}function zt(e,t){if(null==t)return e.__?zt(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?zt(e):null}function qt(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return qt(e)}}function $t(e){(!e.__d&&(e.__d=!0)&&St.push(e)&&!Ht.__r++||Et!==xt.debounceRendering)&&((Et=xt.debounceRendering)||Pt)(Ht)}function Ht(){var e,t,n,r,o,i,a,s,u;for(St.sort(kt);e=St.shift();)e.__d&&(t=St.length,r=void 0,i=(o=(n=e).__v).__e,s=[],u=[],(a=n.__P)&&((r=At({},o)).__v=o.__v+1,xt.vnode&&xt.vnode(r),Zt(a,r,o,n.__n,void 0!==a.ownerSVGElement,32&o.__u?[i]:null,s,null==i?zt(o):i,!!(32&o.__u),u),r.__.__k[r.__i]=r,Qt(s,r,u),r.__e!=i&&qt(r)),St.length>t&&St.sort(kt));Ht.__r=0}function Ut(e,t,n,r,o,i,a,s,u,l,c){var f,p,d,h,y,v=r&&r.__k||Dt,g=t.length;for(n.__d=u,Wt(n,t,v),u=n.__d,f=0;f<g;f++)null!=(d=n.__k[f])&&"boolean"!=typeof d&&"function"!=typeof d&&(p=-1===d.__i?Tt:v[d.__i]||Tt,d.__i=f,Zt(e,d,p,o,i,a,s,u,l,c),h=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&tn(p.ref,null,d),c.push(d.ref,d.__c||h,d)),null==y&&null!=h&&(y=h),65536&d.__u||p.__k===d.__k?u=Vt(d,u,e):"function"==typeof d.type&&void 0!==d.__d?u=d.__d:h&&(u=h.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=y}function Wt(e,t,n){var r,o,i,a,s,u=t.length,l=n.length,c=l,f=0;for(e.__k=[],r=0;r<u;r++)null!=(o=e.__k[r]=null==(o=t[r])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?Rt(null,o,null,null,o):Ct(o)?Rt(Bt,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?Rt(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=e,o.__b=e.__b+1,s=Gt(o,n,a=r+f,c),o.__i=s,i=null,-1!==s&&(c--,(i=n[s])&&(i.__u|=131072)),null==i||null===i.__v?(-1==s&&f--,"function"!=typeof o.type&&(o.__u|=65536)):s!==a&&(s===a+1?f++:s>a?c>u-a?f+=s-a:f--:f=s<a&&s==a-1?s-a:0,s!==r+f&&(o.__u|=65536))):(i=n[r])&&null==i.key&&i.__e&&(i.__e==e.__d&&(e.__d=zt(i)),nn(i,i,!1),n[r]=null,c--);if(c)for(r=0;r<l;r++)null!=(i=n[r])&&0==(131072&i.__u)&&(i.__e==e.__d&&(e.__d=zt(i)),nn(i,i))}function Vt(e,t,n){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Vt(r[o],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Gt(e,t,n,r){var o=e.key,i=e.type,a=n-1,s=n+1,u=t[n];if(null===u||u&&o==u.key&&i===u.type)return n;if(r>(null!=u&&0==(131072&u.__u)?1:0))for(;a>=0||s<t.length;){if(a>=0){if((u=t[a])&&0==(131072&u.__u)&&o==u.key&&i===u.type)return a;a--}if(s<t.length){if((u=t[s])&&0==(131072&u.__u)&&o==u.key&&i===u.type)return s;s++}}return-1}function Xt(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||Nt.test(t)?n:n+"px"}function Yt(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Xt(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Xt(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?Kt:Jt,i)):e.removeEventListener(t,i?Kt:Jt,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function Jt(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(xt.event?xt.event(e):e)}function Kt(e){return this.l[e.type+!0](xt.event?xt.event(e):e)}function Zt(e,t,n,r,o,i,a,s,u,l){var c,f,p,d,h,y,v,g,b,m,_,O,w,x,j,S=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(u=!!(32&n.__u),i=[s=t.__e=n.__e]),(c=xt.__b)&&c(t);e:if("function"==typeof S)try{if(g=t.props,b=(c=S.contextType)&&r[c.__c],m=c?b?b.props.value:c.__:r,n.__c?v=(f=t.__c=n.__c).__=f.__E:("prototype"in S&&S.prototype.render?t.__c=f=new S(g,m):(t.__c=f=new Ft(g,m),f.constructor=S,f.render=rn),b&&b.sub(f),f.props=g,f.state||(f.state={}),f.context=m,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=S.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=At({},f.__s)),At(f.__s,S.getDerivedStateFromProps(g,f.__s))),d=f.props,h=f.state,f.__v=t,p)null==S.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==S.getDerivedStateFromProps&&g!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(g,m),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(g,f.__s,m)||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=g,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),_=0;_<f._sb.length;_++)f.__h.push(f._sb[_]);f._sb=[],f.__h.length&&a.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(g,f.__s,m),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(d,h,y)}))}if(f.context=m,f.props=g,f.__P=e,f.__e=!1,O=xt.__r,w=0,"prototype"in S&&S.prototype.render){for(f.state=f.__s,f.__d=!1,O&&O(t),c=f.render(f.props,f.state,f.context),x=0;x<f._sb.length;x++)f.__h.push(f._sb[x]);f._sb=[]}else do{f.__d=!1,O&&O(t),c=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++w<25);f.state=f.__s,null!=f.getChildContext&&(r=At(At({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(d,h)),Ut(e,Ct(j=null!=c&&c.type===Bt&&null==c.key?c.props.children:c)?j:[j],t,n,r,o,i,a,s,u,l),f.base=t.__e,t.__u&=-161,f.__h.length&&a.push(f),v&&(f.__E=f.__=null)}catch(e){t.__v=null,u||null!=i?(t.__e=s,t.__u|=u?160:32,i[i.indexOf(s)]=null):(t.__e=n.__e,t.__k=n.__k),xt.__e(e,t,n)}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=en(n.__e,t,n,r,o,i,a,u,l);(c=xt.diffed)&&c(t)}function Qt(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)tn(n[r],n[++r],n[++r]);xt.__c&&xt.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){xt.__e(e,t.__v)}}))}function en(e,t,n,r,o,i,a,s,u){var l,c,f,p,d,h,y,v=n.props,g=t.props,b=t.type;if("svg"===b&&(o=!0),null!=i)for(l=0;l<i.length;l++)if((d=i[l])&&"setAttribute"in d==!!b&&(b?d.localName===b:3===d.nodeType)){e=d,i[l]=null;break}if(null==e){if(null===b)return document.createTextNode(g);e=o?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,g.is&&g),i=null,s=!1}if(null===b)v===g||s&&e.data===g||(e.data=g);else{if(i=i&&wt.call(e.childNodes),v=n.props||Tt,!s&&null!=i)for(v={},l=0;l<e.attributes.length;l++)v[(d=e.attributes[l]).name]=d.value;for(l in v)d=v[l],"children"==l||("dangerouslySetInnerHTML"==l?f=d:"key"===l||l in g||Yt(e,l,null,d,o));for(l in g)d=g[l],"children"==l?p=d:"dangerouslySetInnerHTML"==l?c=d:"value"==l?h=d:"checked"==l?y=d:"key"===l||s&&"function"!=typeof d||v[l]===d||Yt(e,l,d,v[l],o);if(c)s||f&&(c.__html===f.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(f&&(e.innerHTML=""),Ut(e,Ct(p)?p:[p],t,n,r,o&&"foreignObject"!==b,i,a,i?i[0]:n.__k&&zt(n,0),s,u),null!=i)for(l=i.length;l--;)null!=i[l]&&Mt(i[l]);s||(l="value",void 0!==h&&(h!==e[l]||"progress"===b&&!h||"option"===b&&h!==v[l])&&Yt(e,l,h,v[l],!1),l="checked",void 0!==y&&y!==e[l]&&Yt(e,l,y,v[l],!1))}return e}function tn(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){xt.__e(e,n)}}function nn(e,t,n){var r,o;if(xt.unmount&&xt.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||tn(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){xt.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&nn(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||Mt(e.__e),e.__=e.__e=e.__d=void 0}function rn(e,t,n){return this.constructor(e,n)}wt=Dt.slice,xt={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(t){e=t}throw e}},jt=0,Ft.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=At({},this.state),"function"==typeof e&&(e=e(At({},n),this.props)),e&&At(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),$t(this))},Ft.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),$t(this))},Ft.prototype.render=Bt,St=[],Pt="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,kt=function(e,t){return e.__v.__b-t.__v.__b},Ht.__r=0;var on,an=function(){return an=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},an.apply(this,arguments)};function sn(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.className,s=t-r/2,l=n-o/2,c=an(an({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},e),{x:s,y:l});return Object(u["h"])("rect",an({},c))}sn.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},function(e){e["NODE"]="node",e["CIRCLE_NODE"]="circle-node",e["POLYGON_NODE"]="polygon-node",e["RECT_NODE"]="rect-node",e["HTML_NODE"]="html-node",e["TEXT_NODE"]="text-node",e["ELLIPSE_NODE"]="ellipse-node",e["DIAMOND_NODE"]="diamond-node",e["EDGE"]="edge",e["LINE_EDGE"]="line-edge",e["POLYLINE_EDGE"]="polyline-edge",e["BEZIER_EDGE"]="bezier-edge",e["GRAPH"]="graph"}(on||(on={}));var un=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ln=function(){return ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ln.apply(this,arguments)},cn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},fn=u["LogicFlowUtil"].StepDrag,pn=function(e){function t(t){var n=e.call(this)||this;return n.updatePosition=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.x,a=o.y;n.nodeModel.x=i+t/2,n.nodeModel.y=a+r/2,n.nodeModel.moveText(t/2,r/2)},n.getResize=function(e){var t=e.index,n=e.deltaX,r=e.deltaY,o=e.width,i=e.height,a=e.PCTResizeInfo,s=e.pct,u=void 0===s?1:s,l={width:o,height:i,deltaX:n,deltaY:r};if(a){var c=4,f=0,p=0;switch(t){case 0:p=(-1*n-r)/c;break;case 1:p=(n-r)/c;break;case 2:p=(n+r)/c;break;case 3:p=(-1*n+r)/c;break;default:break}0!==p&&(f=Math.round(p/a.ResizeBasis.basisHeight*1e5)/1e3),a.ResizePCT.widthPCT=Math.max(Math.min(a.ResizePCT.widthPCT+f,a.ScaleLimit.maxScaleLimit),a.ScaleLimit.minScaleLimit),a.ResizePCT.hightPCT=Math.max(Math.min(a.ResizePCT.hightPCT+f,a.ScaleLimit.maxScaleLimit),a.ScaleLimit.minScaleLimit);var d=Math.round(a.ResizePCT.widthPCT*a.ResizeBasis.basisWidth/100),h=Math.round(a.ResizePCT.hightPCT*a.ResizeBasis.basisHeight/100);switch(t){case 0:n=o-d,r=i-h;break;case 1:n=d-o,r=i-h;break;case 2:n=d-o,r=h-i;break;case 3:n=o-d,r=h-i;break;default:break}return l.width=d,l.height=h,l.deltaX=n/u,l.deltaY=r/u,l}switch(t){case 0:l.width=o-n*u,l.height=i-r*u;break;case 1:l.width=o+n*u,l.height=i-r*u;break;case 2:l.width=o+n*u,l.height=i+r*u;break;case 3:l.width=o-n*u,l.height=i+r*u;break;default:break}return l},n.updateEdgePointByAnchors=function(){var e=n.nodeModel,t=e.id,r=e.anchors,o=n.getNodeEdges(t);o.sourceEdges.forEach((function(e){var t=r.find((function(t){return t.id===e.sourceAnchorId}));e.updateStartPoint({x:t.x,y:t.y})})),o.targetEdges.forEach((function(e){var t=r.find((function(t){return t.id===e.targetAnchorId}));e.updateEndPoint({x:t.x,y:t.y})}))},n.updateRect=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.x,s=o.y,u=o.width,l=o.height,c=o.radius,f=o.PCTResizeInfo,p=n.index,d=n.getResize({index:p,deltaX:t,deltaY:r,width:u,height:l,PCTResizeInfo:f,pct:1}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y||d.width>g||d.height<v||d.height>b)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:d.deltaX,deltaY:d.deltaY}),n.nodeModel.width=d.width,n.nodeModel.height=d.height,n.nodeModel.setProperties({nodeSize:{width:d.width,height:d.height}});n.getNodeEdges(i);var m={x:a,y:s,width:u,height:l,radius:c},_={x:n.nodeModel.x,y:n.nodeModel.y,width:n.nodeModel.width,height:n.nodeModel.height,radius:c};n.updateEdgePointByAnchors(),n.eventEmit({beforeNode:m,afterNode:_})}},n.updateEllipse=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.rx,s=o.ry,u=o.x,l=o.y,c=o.PCTResizeInfo,f=n.index,p=a,d=s,h=n.getResize({index:f,deltaX:t,deltaY:r,width:p,height:d,PCTResizeInfo:c,pct:.5}),y=n.nodeModel,v=y.minWidth,g=y.minHeight,b=y.maxWidth,m=y.maxHeight;if(h.width<v/2||h.width>b/2||h.height<g/2||h.height>m/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:h.deltaX,deltaY:h.deltaY}),n.nodeModel.rx=h.width,n.nodeModel.ry=h.height,n.nodeModel.setProperties({nodeSize:{rx:h.width,ry:h.height}});n.getNodeEdges(i);var _={x:u,y:l},O={rx:h.width,ry:h.height,x:n.nodeModel.x,y:n.nodeModel.y};n.updateEdgePointByAnchors(),n.eventEmit({beforeNode:ln(ln({},_),{rx:a,ry:s}),afterNode:O})}},n.updateDiamond=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=(o.id,o.rx),a=o.ry,s=o.x,u=o.y,l=o.PCTResizeInfo,c=n.index,f=i,p=a,d=n.getResize({index:c,deltaX:t,deltaY:r,width:f,height:p,PCTResizeInfo:l,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y/2||d.width>g/2||d.height<v/2||d.height>b/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:d.deltaX,deltaY:d.deltaY}),n.nodeModel.rx=d.width,n.nodeModel.ry=d.height,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m={x:s,y:u,rx:i,ry:a},_={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y};n.updateEdgePointByAnchors(),n.eventEmit({beforeNode:m,afterNode:_})}},n.eventEmit=function(e){var t=e.beforeNode,r=e.afterNode,o=n.nodeModel,i=o.id,a=o.modelType,s=o.type,u=ln({id:i,modelType:a,type:s},t),l=ln({id:i,modelType:a,type:s},r);n.graphModel.eventCenter.emit("node:resize",{oldNodeSize:u,newNodeSize:l})},n.onDragging=function(e){var t,r=e.deltaX,o=e.deltaY,i=n.graphModel.transformModel,a=n.nodeModel.modelType;t=cn(i.fixDeltaXY(r,o),2),r=t[0],o=t[1],a===on.RECT_NODE||a===on.HTML_NODE?n.updateRect({deltaX:r,deltaY:o}):a===on.ELLIPSE_NODE?n.updateEllipse({deltaX:r,deltaY:o}):a===on.DIAMOND_NODE&&n.updateDiamond({deltaX:r,deltaY:o})},n.onDragEnd=function(){n.updateEdgePointByAnchors();var e=n.graphModel.gridSize,t=void 0===e?1:e,r=t*Math.round(n.nodeModel.x/t),o=t*Math.round(n.nodeModel.y/t);n.nodeModel.moveTo(r,o)},n.index=t.index,n.nodeModel=t.model,n.graphModel=t.graphModel,n.state={},n.dragHandler=new fn({onDragging:n.onDragging,onDragEnd:n.onDragEnd,step:1}),n}return un(t,e),t.prototype.getNodeEdges=function(e){for(var t=this.graphModel,n=t.edges,r=[],o=[],i=0;i<n.length;i++){var a=n[i];a.sourceNodeId===e?r.push(a):n[i].targetNodeId===e&&o.push(a)}return{sourceEdges:r,targetEdges:o}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.index,o=e.model,i=o.getControlPointStyle();return It("g",{className:"lf-resize-control-"+r},It(sn,ln({className:"lf-node-control"},{x:t,y:n},i,{onMouseDown:this.dragHandler.handleMouseDown})))},t}(Ft),dn=pn,hn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yn=function(){return yn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yn.apply(this,arguments)},vn=function(e){function t(){var t=e.call(this)||this;return t.state={},t}return hn(t,e),t.prototype.getResizeControl=function(){var e=this.props,t=e.model,n=e.graphModel,r=t.x,o=t.y,i=t.width,a=t.height,s={minX:r-i/2,minY:o-a/2,maxX:r+i/2,maxY:o+a/2},u=s.minX,l=s.minY,c=s.maxX,f=s.maxY,p=[{x:u,y:l},{x:c,y:l},{x:c,y:f},{x:u,y:f}];return p.map((function(e,r){return It(dn,yn({index:r},e,{model:t,graphModel:n}))}))},t.prototype.getGroupSolid=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getResizeOutlineStyle();return It(sn,yn({fill:"none"},i,{x:t,y:n,width:r,height:o}))},t.prototype.render=function(){return It("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},t}(Ft),gn=vn,bn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mn=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}return bn(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.resize=function(e,t){console.log(e,t)},t.prototype.enableProportionResize=function(e){if(void 0===e&&(e=!0),e){var t={widthPCT:100,hightPCT:100},n={basisWidth:this.width,basisHeight:this.height},r={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:t,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo},t}(u["RectNodeModel"]),_n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bn(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return Object(u["h"])(gn,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props,t=e.model.isSelected,n=e.graphModel.editConfigModel.isSilentMode;return Object(u["h"])("g",null,this.getResizeShape(),t&&!n?this.getControlGroup():"")},t}(u["RectNode"]),On={type:"rect",view:_n,model:mn},wn=On,xn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jn=(function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}xn(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(e){if(void 0===e&&(e=!0),e){var t={widthPCT:100,hightPCT:100},n={basisWidth:this.rx,basisHeight:this.ry},r={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:t,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo}}(u["EllipseNodeModel"]),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}xn(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return Object(u["h"])(gn,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props,t=e.model,n=e.graphModel.editConfigModel.isSilentMode;return Object(u["h"])("g",null,this.getResizeShape(),t.isSelected&&!n?this.getControlGroup():"")}}(u["EllipseNode"]),function(){return jn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},jn.apply(this,arguments)});function Sn(e){var t=e.fillOpacity,n=void 0===t?1:t,r=e.strokeWidth,o=void 0===r?1:r,i=e.strokeOpacity,a=void 0===i?1:i,s=e.fill,l=void 0===s?"transparent":s,c=e.stroke,f=void 0===c?"#000":c,p=e.points,d=e.className,h=void 0===d?"lf-basic-shape":d,y={fill:l,fillOpacity:n,strokeWidth:o,stroke:f,strokeOpacity:a,points:"",className:h};return y.points=p.map((function(e){return e.join(",")})).join(" "),Object(u["h"])("polygon",jn({},y))}var En=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pn=function(){return Pn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pn.apply(this,arguments)},kn=(function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}En(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(e){if(void 0===e&&(e=!0),e){var t={widthPCT:100,hightPCT:100},n={basisWidth:this.rx,basisHeight:this.ry},r={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:t,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo}}(u["DiamondNodeModel"]),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}En(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return Object(u["h"])(gn,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){var e=this.props.model,t=e.points,n=e.getNodeStyle();return Object(u["h"])("g",null,Object(u["h"])(Sn,Pn({},n,{points:t})))},t.prototype.getShape=function(){var e=this.props,t=e.model.isSelected,n=e.graphModel.editConfigModel.isSilentMode;return Object(u["h"])("g",null,this.getResizeShape(),t&&!n?this.getControlGroup():"")}}(u["DiamondNode"]),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Tn=(function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}kn(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this),n=this.graphModel.editConfigModel.isSilentMode;return n||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(e){if(void 0===e&&(e=!0),e){var t={widthPCT:100,hightPCT:100},n={basisWidth:this.width,basisHeight:this.height},r={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:t,ResizeBasis:n,ScaleLimit:r}}else delete this.PCTResizeInfo}}(u["HtmlNodeModel"]),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}kn(t,e),t.prototype.getControlGroup=function(){var e=this.props,t=e.model,n=e.graphModel;return Object(u["h"])(gn,{model:t,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var e=this.props,t=e.model.isSelected,n=e.graphModel.editConfigModel.isSilentMode;return Object(u["h"])("g",null,this.getResizeShape(),t&&!n?this.getControlGroup():"")}}(u["HtmlNode"]),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Dn=function(){return Dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Dn.apply(this,arguments)},Nn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Cn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Nn(arguments[t]));return e},An=500,Mn=300,In=-1e4,Rn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isGroup=!0,t.unfoldedWidth=An,t.unfoldedHight=Mn,t.childrenLastFoldStatus={},t}return Tn(t,e),t.prototype.initNodeData=function(t){var n=this;e.prototype.initNodeData.call(this,t);var r=[];Array.isArray(t.children)&&(r=t.children),this.children=new Set(r),this.width=An,this.height=Mn,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=In,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout((function(){n.isFolded&&n.foldGroup(n.isFolded)}))},t.prototype.getResizeOutlineStyle=function(){var t=e.prototype.getResizeOutlineStyle.call(this);return t.stroke="none",t},t.prototype.foldGroup=function(e){var t=this;if(e!==this.isFolded){this.setProperty("isFolded",e),this.isFolded=e,e?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var n=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach((function(r){var o=t.graphModel.getElement(r),i=o.isFolded;if(o.isGroup&&!o.isFolded&&o.foldGroup(e),o.isGroup&&!e){var a=t.childrenLastFoldStatus[r];void 0!==a&&a!==o.isFolded&&o.foldGroup(a)}t.childrenLastFoldStatus[r]=i,o.visible=!e,n=n.concat(o.incoming.edges.concat(o.outgoing.edges))})),this.foldEdge(e,n)}},t.prototype.getAnchorStyle=function(t){var n=e.prototype.getAnchorStyle.call(this,t);return n.stroke="transparent",n.fill="transparent",n.hover.fill="transparent",n.hover.stroke="transparent",n},t.prototype.foldEdge=function(e,t){var n=this;t.forEach((function(t,r){var o=t.id,i=t.sourceNodeId,a=t.targetNodeId,s=t.startPoint,u=t.endPoint,l=t.type,c=t.text,f=t.getProperties(),p={id:o+"__"+r,sourceNodeId:i,targetNodeId:a,startPoint:s,endPoint:u,type:l,properties:f,text:null===c||void 0===c?void 0:c.value};t.virtual&&n.graphModel.deleteEdgeById(t.id);var d=n.graphModel.group.getNodeGroup(a);d||(d=n.graphModel.getNodeModelById(a));var h=n.graphModel.group.getNodeGroup(i);h||(h=n.graphModel.getNodeModelById(i)),e&&!1!==t.visible&&(n.children.has(i)||n.id===i?(p.startPoint=void 0,p.sourceNodeId=n.id):(p.endPoint=void 0,p.targetNodeId=n.id),d.id===n.id&&h.id===n.id||n.createVirtualEdge(p),t.visible=!1),e||!1!==t.visible||(d&&d.isGroup&&d.isFolded?(p.targetNodeId=d.id,p.endPoint=void 0,n.createVirtualEdge(p)):h&&h.isGroup&&h.isFolded?(p.sourceNodeId=h.id,p.startPoint=void 0,n.createVirtualEdge(p)):t.visible=!0)}))},t.prototype.createVirtualEdge=function(e){e.pointsList=void 0;var t=this.graphModel.addEdge(e);t.virtual=!0,t.text.editable=!1,t.isFoldedEdge=!0},t.prototype.isInRange=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return t>=this.x-this.width/2&&r<=this.x+this.width/2&&n>=this.y-this.height/2&&o<=this.y+this.height/2},t.prototype.isAllowMoveTo=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return{x:t>=this.x-this.width/2&&r<=this.x+this.width/2,y:n>=this.y-this.height/2&&o<=this.y+this.height/2}},t.prototype.setAllowAppendChild=function(e){this.setProperty("groupAddable",e)},t.prototype.addChild=function(e){this.children.add(e),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},t.prototype.removeChild=function(e){this.children.delete(e),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},t.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},t.prototype.getData=function(){var t=this,n=e.prototype.getData.call(this);n.children=[],this.children.forEach((function(e){var r=t.graphModel.getNodeModelById(e);r&&!r.virtual&&n.children.push(e)}));var r=n.properties;return delete r.groupAddable,delete r.isFolded,n},t.prototype.getHistoryData=function(){var t=e.prototype.getData.call(this);t.children=Cn(this.children),t.isGroup=!0;var n=t.properties;return delete n.groupAddable,n.isFolded&&(t.x=t.x+this.unfoldedWidth/2-this.foldedWidth/2,t.y=t.y+this.unfoldedHight/2-this.foldedHeight/2),t},t.prototype.isAllowAppendIn=function(e){return!0},t.prototype.toBack=function(){this.zIndex--},t}(wn.model),Ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tn(t,e),t.prototype.getControlGroup=function(){var t=this.props.model,n=t.resizable,r=t.properties;return n&&!r.isFolded?e.prototype.getControlGroup.call(this):null},t.prototype.getAddableShape=function(){var e=this.props.model,t=e.width,n=e.height,r=e.x,o=e.y,i=e.radius,a=e.properties;if(!a.groupAddable)return null;var s=this.props.model.getNodeStyle().strokeWidth,l=this.props.model.getAddableOutlineStyle(),c=t+s+8,f=n+s+8;return Object(u["h"])("rect",Dn(Dn({},l),{width:c,height:f,x:r-c/2,y:o-f/2,rx:i,ry:i}))},t.prototype.getFoldIcon=function(){var e=this.props.model,t=e.x-e.width/2+5,n=e.y-e.height/2+5;if(!e.foldable)return null;var r=Object(u["h"])("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:e.properties.isFolded?"M "+(t+3)+","+(n+6)+" "+(t+11)+","+(n+6)+" M"+(t+7)+","+(n+2)+" "+(t+7)+","+(n+10):"M "+(t+3)+","+(n+6)+" "+(t+11)+","+(n+6)+" "});return Object(u["h"])("g",{},[Object(u["h"])("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:e.x-e.width/2+5,y:e.y-e.height/2+5,onClick:function(){e.foldGroup(!e.properties.isFolded)}}),r])},t.prototype.getResizeShape=function(){return Object(u["h"])("g",{},[this.getAddableShape(),e.prototype.getResizeShape.call(this),this.getFoldIcon()])},t}(wn.view),Bn={type:"group",view:Ln,model:Rn},Fn=function(){return Fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fn.apply(this,arguments)},zn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},qn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},$n=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qn(arguments[t]));return e},Hn=-1e3,Un=-1e4,Wn=function(){function e(e){var t=this,n=e.lf;this.topGroupZIndex=Un,this.nodeGroupMap=new Map,this.graphRendered=function(e){e&&e.nodes&&e.nodes.forEach((function(e){e.children&&e.children.forEach((function(n){t.nodeGroupMap.set(n,e.id)}))}))},this.appendNodeToGroup=function(e){var n=e.data,r=t.nodeGroupMap.get(n.id);if(r){var o=t.lf.getNodeModelById(r);o.removeChild(n.id),t.nodeGroupMap.delete(n.id),o.setAllowAppendChild(!1)}var i=t.lf.getNodeModelById(n.id),a=i.getBounds(),s=t.getGroup(a,n);if(i.isGroup&&(n.children.forEach((function(e){t.nodeGroupMap.set(e,n.id)})),t.nodeSelected({data:n,isSelected:!1,isMultiple:!1})),s){var u=s.isAllowAppendIn(n);u?(s.addChild(n.id),t.nodeGroupMap.set(n.id,s.id),s.setAllowAppendChild(!1)):t.lf.emit("group:not-allowed",{group:s.getData(),node:n})}},this.deleteGroupChild=function(e){var n=e.data;n.children&&n.children.forEach((function(e){t.nodeGroupMap.delete(e),t.lf.deleteNode(e)}));var r=t.nodeGroupMap.get(n.id);if(r){var o=t.lf.getNodeModelById(r);o.removeChild(n.id),t.nodeGroupMap.delete(n.id)}},this.setActiveGroup=function(e){var n=e.data,r=t.lf.getNodeModelById(n.id),o=r.getBounds(),i=t.getGroup(o,n);if(t.activeGroup&&t.activeGroup.setAllowAppendChild(!1),i&&(!r.isGroup||i.id!==n.id)){var a=i.isAllowAppendIn(n);a&&(t.activeGroup=i,t.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(e){var n=e.data,r=e.isMultiple,o=e.isSelected,i=t.lf.getNodeModelById(n.id);if(t.toFrontGroup(i),t.topGroupZIndex>Hn){t.topGroupZIndex=Un;for(var a=t.lf.graphModel.nodes.filter((function(e){return e.isGroup})).sort((function(e,t){return e.zIndex-t.zIndex})),s=0,u=0;u<a.length;u++){var l=a[u];l.zIndex!==s&&(t.topGroupZIndex++,s=l.zIndex),l.setZIndex(t.topGroupZIndex)}}if(r&&o)if(i.isGroup)i.children.forEach((function(e){var n=t.lf.graphModel.getElement(e);n.setSelected(!1)}));else{var c=t.nodeGroupMap.get(n.id);if(c){var f=t.lf.getNodeModelById(c);f.isSelected&&i.setSelected(!1)}}},this.toFrontGroup=function(e){e&&e.isGroup&&(t.topGroupZIndex++,e.setZIndex(t.topGroupZIndex),e.children&&e.children.forEach((function(e){var n=t.lf.getNodeModelById(e);t.toFrontGroup(n)})))},n.register(Bn),this.lf=n,n.graphModel.addNodeMoveRules((function(e,r,o){if(e.isGroup){var i=t.getNodeAllChild(e);return n.graphModel.moveNodes(i,r,o,!0),!0}var a=n.getNodeModelById(t.nodeGroupMap.get(e.id));if(a&&a.isRestrict){var s=e.getBounds(),u=s.x1,l=s.y1,c=s.x2,f=s.y2,p=a.isAllowMoveTo({x1:u+r,y1:l+o,x2:c+r,y2:f+o});return p}return!0})),n.graphModel.group=this,n.on("node:add,node:drop,node:dnd-add",this.appendNodeToGroup),n.on("node:delete",this.deleteGroupChild),n.on("node:dnd-drag,node:drag",this.setActiveGroup),n.on("node:click",this.nodeSelected),n.on("graph:rendered",this.graphRendered),n.addElements=function(e,r){for(var o=e.nodes,i=e.edges,a={},s={nodes:[],edges:[]},u=[],l=0;l<o.length;l++){var c=o[l],f=c.id,p=c.children,d=zn(c,["children"]),h=n.addNode(d);if(!h)return{nodes:[],edges:[]};f&&(a[f]=h.id),s.nodes.push(h);var y=t.createAllChildNodes(a,p,h,r).edgesArray;u.push.apply(u,$n(y))}return u.forEach((function(e){t.createEdgeModel(e,a,r)})),i.forEach((function(e){var n=t.createEdgeModel(e,a,0);s.edges.push(n)})),s}}return e.prototype.createAllChildNodes=function(e,t,n,r){var o=this,i=this.lf,a=[],s=[],l=[];null===t||void 0===t||t.forEach((function(t){var c=i.getNodeModelById(t),f=c.x,p=c.y,d=c.properties,h=c.type,y=c.text,v=c.rotate,g=c.children,b=(c.incoming,c.outgoing,u["EventType"].NODE_GROUP_COPY||"node:group-copy-add"),m=i.addNode({x:f+r,y:p+r,properties:d,type:h,text:Fn(Fn({},y),{x:y.x+r,y:y.y+r}),rotate:v},b);if(n.addChild(m.id),e[t]=m.id,l.push(m),c.incoming.edges.forEach((function(e){s.push(e)})),c.outgoing.edges.forEach((function(e){s.push(e)})),g instanceof Set){var _=o.createAllChildNodes(e,g,m,r),O=_.nodesArray,w=_.edgesArray;l.push.apply(l,$n(O)),a.push.apply(a,$n(w))}}));var c=s.filter((function(t){return e[t.sourceNodeId]&&e[t.targetNodeId]})),f=c.map((function(e){return e.getData()}));return{nodesArray:l,edgesArray:a.concat(f)}},e.prototype.createEdgeModel=function(e,t,n){var r=this.lf,o=e.sourceNodeId,i=e.targetNodeId;t[o]&&(o=t[o]),t[i]&&(i=t[i]);var a=e.type,s=e.startPoint,u=e.endPoint,l=e.pointsList,c=e.text,f=(zn(e,["type","startPoint","endPoint","pointsList","text"]),{x:s.x+n,y:s.y+n}),p={x:u.x+n,y:u.y+n},d=[];l&&l.length>0&&(d=l.map((function(e){return e.x+=n,e.y+=n,e})));var h=c;c&&"string"!==typeof c&&(h.x=c.x+n,h.y=c.y+n);var y=r.graphModel.addEdge({type:a,startPoint:f,endPoint:p,sourceNodeId:o,targetNodeId:i,pointsList:d,text:h});return y},e.prototype.getNodeAllChild=function(e){var t=this,n=[];return e.children&&e.children.forEach((function(e){n.push(e);var r=t.lf.getNodeModelById(e);r.isGroup&&(n=n.concat(t.getNodeAllChild(r)))})),n},e.prototype.getGroup=function(e,t){var n=this.lf.graphModel.nodes,r=n.filter((function(n){return n.isGroup&&n.isInRange(e)&&n.id!==t.id}));if(0!==r.length){if(1===r.length)return r[0];for(var o=r[r.length-1],i=r.length-2;i>=0;i--)r[i].zIndex>o.zIndex&&(o=r[i]);return o}},e.prototype.getNodeGroup=function(e){var t=this.nodeGroupMap.get(e);if(t)return this.lf.getNodeModelById(t)},e.pluginName="group",e}(),Vn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gn=function(){return Gn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Gn.apply(this,arguments)};function Xn(){var e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vn(t,e),t.prototype.getFoldIcon=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.properties,a=e.foldable,s=e.x-e.width/2+5,l=e.y-e.height/2+5;if(!a)return null;var c=Object(u["h"])("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:i.isFolded?"M "+(s+3)+","+(l+6)+" "+(s+11)+","+(l+6)+" M"+(s+7)+","+(l+2)+" "+(s+7)+","+(l+10):"M "+(s+3)+","+(l+6)+" "+(s+11)+","+(l+6)+" "});return Object(u["h"])("g",{},[Object(u["h"])("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:t-r/2+5,y:n-o/2+5,onClick:function(t){t.stopPropagation(),e.foldGroup(!i.isFolded)}}),c])},t.prototype.getResizeShape=function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.getNodeStyle(),a=Gn(Gn({},i),{x:t-r/2,y:n-o/2,width:r,height:o,stroke:"black",strokeWidth:2,strokeDasharray:"0 0"});return Object(u["h"])("g",{},[Object(u["h"])("rect",Gn({},a)),this.getFoldIcon()])},t}(Bn.view),t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vn(t,e),t.prototype.initNodeData=function(t){e.prototype.initNodeData.call(this,t),this.foldable=!0,this.resizable=!0,this.width=400,this.height=200,this.resetWidthHeight(),this.isTaskNode=!0,this.boundaryEvents=[]},t.prototype.resetWidthHeight=function(){var e,t,n=null===(e=this.properties.iniProp)||void 0===e?void 0:e.width,r=null===(t=this.properties.iniProp)||void 0===t?void 0:t.height;n&&(this.width=n),r&&(this.height=r)},t.prototype.getNodeStyle=function(){var t=e.prototype.getNodeStyle.call(this);t.stroke="#989891",t.strokeWidth=1,t.strokeDasharray="3 3",this.isSelected&&(t.stroke="rgb(124, 15, 255)");var n=this.properties.isBoundaryEventTouchingTask;return n&&(t.stroke="#00acff",t.strokeWidth=2),t},t.prototype.addChild=function(t){var n=this.graphModel.getElement(t);n.setProperties({parent:this.id}),e.prototype.addChild.call(this,t)},t.prototype.getAnchorStyle=function(){var t=e.prototype.getAnchorStyle.call(this,{});return t.stroke="#000",t.fill="#fff",t.hover.stroke="transparent",t},t.prototype.getOutlineStyle=function(){var t=e.prototype.getOutlineStyle.call(this);return t.stroke="transparent",!t.hover&&(t.hover={}),t.hover.stroke="transparent",t},t.prototype.setTouching=function(e){this.setProperty("isBoundaryEventTouchingTask",e)},t.prototype.addBoundaryEvent=function(e){if(this.setTouching(!1),this.boundaryEvents.find((function(t){return t===e})))return!1;var t=this.graphModel.getNodeModelById(e);return null===t||void 0===t||t.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(e),!0},t.prototype.deleteBoundaryEvent=function(e){this.boundaryEvents=this.boundaryEvents.filter((function(t){return t!==e}))},t}(Bn.model);return{type:"bpmn:subProcess",view:e,model:t}}var Yn=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Jn(e){function t(t){var n,o,i=t.data,a=i.type,s=i.id;if("bpmn:boundaryEvent"===a){var u=e.graphModel.nodes;try{for(var l=Yn(u),c=l.next();!c.done;c=l.next()){var f=c.value;if(f.isTaskNode){var p=null;if(null!==(p=r(f,i))){var d=e.graphModel.getNodeModelById(s),h=e.graphModel.getNodeModelById(p),y=d.properties.attachedToRef;return y&&y!==p&&e.graphModel.getNodeModelById(y).deleteBoundaryEvent(s),void h.addBoundaryEvent(s)}}}}catch(v){n={error:v}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}}}function n(t){var n,o,i=t.data,a=i.type;if("bpmn:boundaryEvent"===a){var s=e.graphModel.nodes;try{for(var u=Yn(s),l=u.next();!l.done;l=u.next()){var c=l.value;c.isTaskNode&&(r(c,i)?c.setTouching(!0):c.setTouching(!1))}}catch(f){n={error:f}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}}function r(e,t){var n=5,r=e.x,o=e.y,i=e.width,a=e.height,s=e.id,u={minX:r-i/2,maxX:r+i/2,minY:o-a/2,maxY:o+a/2},l=t.x,c=t.y,f={minX:u.minX-n,maxX:u.maxX+n,minY:u.minY-n,maxY:u.maxY+n},p={minX:u.minX+n,maxX:u.maxX-n,minY:u.minY+n,maxY:u.maxX-n};return l>f.minX&&l<f.maxX&&c>f.minY&&c<f.maxY&&!(l>p.minX&&l<p.maxX&&c>p.minY&&c<p.maxY)?s:null}e.on("node:drag,node:dnd-drag",n),e.on("node:drop,node:dnd-add",t),e.graphModel.addNodeMoveRules((function(t,n,r){if(t.isTaskNode){var o=t.boundaryEvents;return e.graphModel.moveNodes(o,n,r,!0),!0}return!0}))}function Kn(e){var t=Ot("bpmn:serviceTask",st),n=Ot("bpmn:userTask",ut);e.register(t),e.register(n),e.register(Xn()),Jn(e)}var Zn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qn=function(){return Qn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qn.apply(this,arguments)};function er(e){var t=function(t){function n(n,r){var o=this;n.id||(n.id="Flow_"+De());var i=Qn(Qn(Qn({},e||{}),n.properties),{isDefaultFlow:!1});return n.properties=i,o=t.call(this,n,r)||this,o}return Zn(n,t),n.extendKey="SequenceFlowModel",n}(u["PolylineEdgeModel"]),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zn(t,e),t.prototype.getStartArrow=function(){var e=this.props.model,t=e.properties.isDefaultFlow;return t?Object(u["h"])("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Object(u["h"])("path",{d:""})},t.extendKey="SequenceFlowEdge",t}(u["PolylineEdge"]);return{type:"bpmn:sequenceFlow",view:n,model:t}}var tr=er();function nr(e){e.register(tr)}var rr=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},or=[{nodes:["startEvent","intermediateCatchEvent","boundaryEvent"],definition:[{type:"bpmn:timerEventDefinition",icon:rt,properties:{definitionType:"bpmn:timerEventDefinition",timerValue:"",timerType:""}}]}];function ir(e){function t(t){function n(t,n){return t.forEach((function(t){(null===e||void 0===e?void 0:e[t])||(e[t]=new Map);var r=null===e||void 0===e?void 0:e[t];n.forEach((function(e){r.set(e.type,e)}))})),e}t.forEach((function(e){n(e.nodes,e.definition)}))}return function(){return[e,t]}}(function(){function e(e){var t=e.lf;t.definition={},t.useDefinition=ir(t.definition);var n=rr(t.useDefinition(),2),r=(n[0],n[1]);r(or),nt(t),yt(t),nr(t),Kn(t),t.setDefaultEdgeType("bpmn:sequenceFlow")}e.pluginName="BpmnElementsPlugin"})();function ar(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;var i=Array(o);while(++r<o)i[r]=e[r+t];return i}var sr=ar;function ur(e,t){return e===t||e!==e&&t!==t}var lr=ur,cr=n("26ee"),fr=cr["a"].Symbol,pr=fr,dr=Object.prototype,hr=dr.hasOwnProperty,yr=dr.toString,vr=pr?pr.toStringTag:void 0;function gr(e){var t=hr.call(e,vr),n=e[vr];try{e[vr]=void 0;var r=!0}catch(i){}var o=yr.call(e);return r&&(t?e[vr]=n:delete e[vr]),o}var br=gr,mr=Object.prototype,_r=mr.toString;function Or(e){return _r.call(e)}var wr=Or,xr="[object Null]",jr="[object Undefined]",Sr=pr?pr.toStringTag:void 0;function Er(e){return null==e?void 0===e?jr:xr:Sr&&Sr in Object(e)?br(e):wr(e)}var Pr=Er;function kr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Tr=kr,Dr="[object AsyncFunction]",Nr="[object Function]",Cr="[object GeneratorFunction]",Ar="[object Proxy]";function Mr(e){if(!Tr(e))return!1;var t=Pr(e);return t==Nr||t==Cr||t==Dr||t==Ar}var Ir=Mr,Rr=9007199254740991;function Lr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Rr}var Br=Lr;function Fr(e){return null!=e&&Br(e.length)&&!Ir(e)}var zr=Fr,qr=9007199254740991,$r=/^(?:0|[1-9]\d*)$/;function Hr(e,t){var n=typeof e;return t=null==t?qr:t,!!t&&("number"==n||"symbol"!=n&&$r.test(e))&&e>-1&&e%1==0&&e<t}var Ur=Hr;function Wr(e,t,n){if(!Tr(n))return!1;var r=typeof t;return!!("number"==r?zr(n)&&Ur(t,n.length):"string"==r&&t in n)&&lr(n[t],e)}var Vr=Wr,Gr=/\s/;function Xr(e){var t=e.length;while(t--&&Gr.test(e.charAt(t)));return t}var Yr=Xr,Jr=/^\s+/;function Kr(e){return e?e.slice(0,Yr(e)+1).replace(Jr,""):e}var Zr=Kr;function Qr(e){return null!=e&&"object"==typeof e}var eo=Qr,to="[object Symbol]";function no(e){return"symbol"==typeof e||eo(e)&&Pr(e)==to}var ro=no,oo=NaN,io=/^[-+]0x[0-9a-f]+$/i,ao=/^0b[01]+$/i,so=/^0o[0-7]+$/i,uo=parseInt;function lo(e){if("number"==typeof e)return e;if(ro(e))return oo;if(Tr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Tr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zr(e);var n=ao.test(e);return n||so.test(e)?uo(e.slice(2),n?2:8):io.test(e)?oo:+e}var co=lo,fo=1/0,po=17976931348623157e292;function ho(e){if(!e)return 0===e?e:0;if(e=co(e),e===fo||e===-fo){var t=e<0?-1:1;return t*po}return e===e?e:0}var yo=ho;function vo(e){var t=yo(e),n=t%1;return t===t?n?t-n:t:0}var go=vo,bo=Math.ceil,mo=Math.max;function _o(e,t,n){t=(n?Vr(e,t,n):void 0===t)?1:mo(go(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];var o=0,i=0,a=Array(bo(r/t));while(o<r)a[i++]=sr(e,o,o+=t);return a}var Oo=_o;function wo(e){var t=-1,n=null==e?0:e.length,r=0,o=[];while(++t<n){var i=e[t];i&&(o[r++]=i)}return o}var xo=wo;function jo(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}var So=jo,Eo="[object Arguments]";function Po(e){return eo(e)&&Pr(e)==Eo}var ko=Po,To=Object.prototype,Do=To.hasOwnProperty,No=To.propertyIsEnumerable,Co=ko(function(){return arguments}())?ko:function(e){return eo(e)&&Do.call(e,"callee")&&!No.call(e,"callee")},Ao=Co,Mo=Array.isArray,Io=Mo,Ro=pr?pr.isConcatSpreadable:void 0;function Lo(e){return Io(e)||Ao(e)||!!(Ro&&e&&e[Ro])}var Bo=Lo;function Fo(e,t,n,r,o){var i=-1,a=e.length;n||(n=Bo),o||(o=[]);while(++i<a){var s=e[i];t>0&&n(s)?t>1?Fo(s,t-1,n,r,o):So(o,s):r||(o[o.length]=s)}return o}var zo=Fo;function qo(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var $o=qo;function Ho(){var e=arguments.length;if(!e)return[];var t=Array(e-1),n=arguments[0],r=e;while(r--)t[r-1]=arguments[r];return So(Io(n)?$o(n):[n],zo(t,1))}var Uo=Ho,Wo=cr["a"]["__core-js_shared__"],Vo=Wo,Go=function(){var e=/[^.]+$/.exec(Vo&&Vo.keys&&Vo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Xo(e){return!!Go&&Go in e}var Yo=Xo,Jo=Function.prototype,Ko=Jo.toString;function Zo(e){if(null!=e){try{return Ko.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Qo=Zo,ei=/[\\^$.*+?()[\]{}|]/g,ti=/^\[object .+?Constructor\]$/,ni=Function.prototype,ri=Object.prototype,oi=ni.toString,ii=ri.hasOwnProperty,ai=RegExp("^"+oi.call(ii).replace(ei,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function si(e){if(!Tr(e)||Yo(e))return!1;var t=Ir(e)?ai:ti;return t.test(Qo(e))}var ui=si;function li(e,t){return null==e?void 0:e[t]}var ci=li;function fi(e,t){var n=ci(e,t);return ui(n)?n:void 0}var pi=fi,di=pi(Object,"create"),hi=di;function yi(){this.__data__=hi?hi(null):{},this.size=0}var vi=yi;function gi(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bi=gi,mi="__lodash_hash_undefined__",_i=Object.prototype,Oi=_i.hasOwnProperty;function wi(e){var t=this.__data__;if(hi){var n=t[e];return n===mi?void 0:n}return Oi.call(t,e)?t[e]:void 0}var xi=wi,ji=Object.prototype,Si=ji.hasOwnProperty;function Ei(e){var t=this.__data__;return hi?void 0!==t[e]:Si.call(t,e)}var Pi=Ei,ki="__lodash_hash_undefined__";function Ti(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hi&&void 0===t?ki:t,this}var Di=Ti;function Ni(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Ni.prototype.clear=vi,Ni.prototype["delete"]=bi,Ni.prototype.get=xi,Ni.prototype.has=Pi,Ni.prototype.set=Di;var Ci=Ni;function Ai(){this.__data__=[],this.size=0}var Mi=Ai;function Ii(e,t){var n=e.length;while(n--)if(lr(e[n][0],t))return n;return-1}var Ri=Ii,Li=Array.prototype,Bi=Li.splice;function Fi(e){var t=this.__data__,n=Ri(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Bi.call(t,n,1),--this.size,!0}var zi=Fi;function qi(e){var t=this.__data__,n=Ri(t,e);return n<0?void 0:t[n][1]}var $i=qi;function Hi(e){return Ri(this.__data__,e)>-1}var Ui=Hi;function Wi(e,t){var n=this.__data__,r=Ri(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Vi=Wi;function Gi(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Gi.prototype.clear=Mi,Gi.prototype["delete"]=zi,Gi.prototype.get=$i,Gi.prototype.has=Ui,Gi.prototype.set=Vi;var Xi=Gi,Yi=pi(cr["a"],"Map"),Ji=Yi;function Ki(){this.size=0,this.__data__={hash:new Ci,map:new(Ji||Xi),string:new Ci}}var Zi=Ki;function Qi(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var ea=Qi;function ta(e,t){var n=e.__data__;return ea(t)?n["string"==typeof t?"string":"hash"]:n.map}var na=ta;function ra(e){var t=na(this,e)["delete"](e);return this.size-=t?1:0,t}var oa=ra;function ia(e){return na(this,e).get(e)}var aa=ia;function sa(e){return na(this,e).has(e)}var ua=sa;function la(e,t){var n=na(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var ca=la;function fa(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}fa.prototype.clear=Zi,fa.prototype["delete"]=oa,fa.prototype.get=aa,fa.prototype.has=ua,fa.prototype.set=ca;var pa=fa,da="__lodash_hash_undefined__";function ha(e){return this.__data__.set(e,da),this}var ya=ha;function va(e){return this.__data__.has(e)}var ga=va;function ba(e){var t=-1,n=null==e?0:e.length;this.__data__=new pa;while(++t<n)this.add(e[t])}ba.prototype.add=ba.prototype.push=ya,ba.prototype.has=ga;var ma=ba;function _a(e,t,n,r){var o=e.length,i=n+(r?1:-1);while(r?i--:++i<o)if(t(e[i],i,e))return i;return-1}var Oa=_a;function wa(e){return e!==e}var xa=wa;function ja(e,t,n){var r=n-1,o=e.length;while(++r<o)if(e[r]===t)return r;return-1}var Sa=ja;function Ea(e,t,n){return t===t?Sa(e,t,n):Oa(e,xa,n)}var Pa=Ea;function ka(e,t){var n=null==e?0:e.length;return!!n&&Pa(e,t,0)>-1}var Ta=ka;function Da(e,t,n){var r=-1,o=null==e?0:e.length;while(++r<o)if(n(t,e[r]))return!0;return!1}var Na=Da;function Ca(e,t){var n=-1,r=null==e?0:e.length,o=Array(r);while(++n<r)o[n]=t(e[n],n,e);return o}var Aa=Ca;function Ma(e){return function(t){return e(t)}}var Ia=Ma;function Ra(e,t){return e.has(t)}var La=Ra,Ba=200;function Fa(e,t,n,r){var o=-1,i=Ta,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Aa(t,Ia(n))),r?(i=Na,a=!1):t.length>=Ba&&(i=La,a=!1,t=new ma(t));e:while(++o<s){var c=e[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){var p=l;while(p--)if(t[p]===f)continue e;u.push(c)}else i(t,f,r)||u.push(c)}return u}var za=Fa;function qa(e){return e}var $a=qa;function Ha(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Ua=Ha,Wa=Math.max;function Va(e,t,n){return t=Wa(void 0===t?e.length-1:t,0),function(){var r=arguments,o=-1,i=Wa(r.length-t,0),a=Array(i);while(++o<i)a[o]=r[t+o];o=-1;var s=Array(t+1);while(++o<t)s[o]=r[o];return s[t]=n(a),Ua(e,this,s)}}var Ga=Va;function Xa(e){return function(){return e}}var Ya=Xa,Ja=function(){try{var e=pi(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Ka=Ja,Za=Ka?function(e,t){return Ka(e,"toString",{configurable:!0,enumerable:!1,value:Ya(t),writable:!0})}:$a,Qa=Za,es=800,ts=16,ns=Date.now;function rs(e){var t=0,n=0;return function(){var r=ns(),o=ts-(r-n);if(n=r,o>0){if(++t>=es)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var os=rs,is=os(Qa),as=is;function ss(e,t){return as(Ga(e,t,$a),e+"")}var us=ss;function ls(e){return eo(e)&&zr(e)}var cs=ls,fs=us((function(e,t){return cs(e)?za(e,zo(t,1,cs,!0)):[]})),ps=fs;function ds(){this.__data__=new Xi,this.size=0}var hs=ds;function ys(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var vs=ys;function gs(e){return this.__data__.get(e)}var bs=gs;function ms(e){return this.__data__.has(e)}var _s=ms,Os=200;function ws(e,t){var n=this.__data__;if(n instanceof Xi){var r=n.__data__;if(!Ji||r.length<Os-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new pa(r)}return n.set(e,t),this.size=n.size,this}var xs=ws;function js(e){var t=this.__data__=new Xi(e);this.size=t.size}js.prototype.clear=hs,js.prototype["delete"]=vs,js.prototype.get=bs,js.prototype.has=_s,js.prototype.set=xs;var Ss=js;function Es(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var Ps=Es,ks=1,Ts=2;function Ds(e,t,n,r,o,i){var a=n&ks,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=i.get(e),c=i.get(t);if(l&&c)return l==t&&c==e;var f=-1,p=!0,d=n&Ts?new ma:void 0;i.set(e,t),i.set(t,e);while(++f<s){var h=e[f],y=t[f];if(r)var v=a?r(y,h,f,t,e,i):r(h,y,f,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!Ps(t,(function(e,t){if(!La(d,t)&&(h===e||o(h,e,n,r,i)))return d.push(t)}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i["delete"](e),i["delete"](t),p}var Ns=Ds,Cs=cr["a"].Uint8Array,As=Cs;function Ms(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var Is=Ms;function Rs(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ls=Rs,Bs=1,Fs=2,zs="[object Boolean]",qs="[object Date]",$s="[object Error]",Hs="[object Map]",Us="[object Number]",Ws="[object RegExp]",Vs="[object Set]",Gs="[object String]",Xs="[object Symbol]",Ys="[object ArrayBuffer]",Js="[object DataView]",Ks=pr?pr.prototype:void 0,Zs=Ks?Ks.valueOf:void 0;function Qs(e,t,n,r,o,i,a){switch(n){case Js:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ys:return!(e.byteLength!=t.byteLength||!i(new As(e),new As(t)));case zs:case qs:case Us:return lr(+e,+t);case $s:return e.name==t.name&&e.message==t.message;case Ws:case Gs:return e==t+"";case Hs:var s=Is;case Vs:var u=r&Bs;if(s||(s=Ls),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=Fs,a.set(e,t);var c=Ns(s(e),s(t),r,o,i,a);return a["delete"](e),c;case Xs:if(Zs)return Zs.call(e)==Zs.call(t)}return!1}var eu=Qs;function tu(e,t,n){var r=t(e);return Io(e)?r:So(r,n(e))}var nu=tu;function ru(e,t){var n=-1,r=null==e?0:e.length,o=0,i=[];while(++n<r){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}var ou=ru;function iu(){return[]}var au=iu,su=Object.prototype,uu=su.propertyIsEnumerable,lu=Object.getOwnPropertySymbols,cu=lu?function(e){return null==e?[]:(e=Object(e),ou(lu(e),(function(t){return uu.call(e,t)})))}:au,fu=cu;function pu(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var du=pu,hu=n("58e0"),yu="[object Arguments]",vu="[object Array]",gu="[object Boolean]",bu="[object Date]",mu="[object Error]",_u="[object Function]",Ou="[object Map]",wu="[object Number]",xu="[object Object]",ju="[object RegExp]",Su="[object Set]",Eu="[object String]",Pu="[object WeakMap]",ku="[object ArrayBuffer]",Tu="[object DataView]",Du="[object Float32Array]",Nu="[object Float64Array]",Cu="[object Int8Array]",Au="[object Int16Array]",Mu="[object Int32Array]",Iu="[object Uint8Array]",Ru="[object Uint8ClampedArray]",Lu="[object Uint16Array]",Bu="[object Uint32Array]",Fu={};function zu(e){return eo(e)&&Br(e.length)&&!!Fu[Pr(e)]}Fu[Du]=Fu[Nu]=Fu[Cu]=Fu[Au]=Fu[Mu]=Fu[Iu]=Fu[Ru]=Fu[Lu]=Fu[Bu]=!0,Fu[yu]=Fu[vu]=Fu[ku]=Fu[gu]=Fu[Tu]=Fu[bu]=Fu[mu]=Fu[_u]=Fu[Ou]=Fu[wu]=Fu[xu]=Fu[ju]=Fu[Su]=Fu[Eu]=Fu[Pu]=!1;var qu=zu,$u=n("c6eb"),Hu=$u["a"]&&$u["a"].isTypedArray,Uu=Hu?Ia(Hu):qu,Wu=Uu,Vu=Object.prototype,Gu=Vu.hasOwnProperty;function Xu(e,t){var n=Io(e),r=!n&&Ao(e),o=!n&&!r&&Object(hu["a"])(e),i=!n&&!r&&!o&&Wu(e),a=n||r||o||i,s=a?du(e.length,String):[],u=s.length;for(var l in e)!t&&!Gu.call(e,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ur(l,u))||s.push(l);return s}var Yu=Xu,Ju=Object.prototype;function Ku(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Ju;return e===n}var Zu=Ku;function Qu(e,t){return function(n){return e(t(n))}}var el=Qu,tl=el(Object.keys,Object),nl=tl,rl=Object.prototype,ol=rl.hasOwnProperty;function il(e){if(!Zu(e))return nl(e);var t=[];for(var n in Object(e))ol.call(e,n)&&"constructor"!=n&&t.push(n);return t}var al=il;function sl(e){return zr(e)?Yu(e):al(e)}var ul=sl;function ll(e){return nu(e,ul,fu)}var cl=ll,fl=1,pl=Object.prototype,dl=pl.hasOwnProperty;function hl(e,t,n,r,o,i){var a=n&fl,s=cl(e),u=s.length,l=cl(t),c=l.length;if(u!=c&&!a)return!1;var f=u;while(f--){var p=s[f];if(!(a?p in t:dl.call(t,p)))return!1}var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var y=!0;i.set(e,t),i.set(t,e);var v=a;while(++f<u){p=s[f];var g=e[p],b=t[p];if(r)var m=a?r(b,g,p,t,e,i):r(g,b,p,e,t,i);if(!(void 0===m?g===b||o(g,b,n,r,i):m)){y=!1;break}v||(v="constructor"==p)}if(y&&!v){var _=e.constructor,O=t.constructor;_==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof O&&O instanceof O||(y=!1)}return i["delete"](e),i["delete"](t),y}var yl=hl,vl=pi(cr["a"],"DataView"),gl=vl,bl=pi(cr["a"],"Promise"),ml=bl,_l=pi(cr["a"],"Set"),Ol=_l,wl=pi(cr["a"],"WeakMap"),xl=wl,jl="[object Map]",Sl="[object Object]",El="[object Promise]",Pl="[object Set]",kl="[object WeakMap]",Tl="[object DataView]",Dl=Qo(gl),Nl=Qo(Ji),Cl=Qo(ml),Al=Qo(Ol),Ml=Qo(xl),Il=Pr;(gl&&Il(new gl(new ArrayBuffer(1)))!=Tl||Ji&&Il(new Ji)!=jl||ml&&Il(ml.resolve())!=El||Ol&&Il(new Ol)!=Pl||xl&&Il(new xl)!=kl)&&(Il=function(e){var t=Pr(e),n=t==Sl?e.constructor:void 0,r=n?Qo(n):"";if(r)switch(r){case Dl:return Tl;case Nl:return jl;case Cl:return El;case Al:return Pl;case Ml:return kl}return t});var Rl=Il,Ll=1,Bl="[object Arguments]",Fl="[object Array]",zl="[object Object]",ql=Object.prototype,$l=ql.hasOwnProperty;function Hl(e,t,n,r,o,i){var a=Io(e),s=Io(t),u=a?Fl:Rl(e),l=s?Fl:Rl(t);u=u==Bl?zl:u,l=l==Bl?zl:l;var c=u==zl,f=l==zl,p=u==l;if(p&&Object(hu["a"])(e)){if(!Object(hu["a"])(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new Ss),a||Wu(e)?Ns(e,t,n,r,o,i):eu(e,t,u,n,r,o,i);if(!(n&Ll)){var d=c&&$l.call(e,"__wrapped__"),h=f&&$l.call(t,"__wrapped__");if(d||h){var y=d?e.value():e,v=h?t.value():t;return i||(i=new Ss),o(y,v,n,r,i)}}return!!p&&(i||(i=new Ss),yl(e,t,n,r,o,i))}var Ul=Hl;function Wl(e,t,n,r,o){return e===t||(null==e||null==t||!eo(e)&&!eo(t)?e!==e&&t!==t:Ul(e,t,n,r,Wl,o))}var Vl=Wl,Gl=1,Xl=2;function Yl(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;e=Object(e);while(o--){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}while(++o<i){s=n[o];var u=s[0],l=e[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in e))return!1}else{var f=new Ss;if(r)var p=r(l,c,u,e,t,f);if(!(void 0===p?Vl(c,l,Gl|Xl,r,f):p))return!1}}return!0}var Jl=Yl;function Kl(e){return e===e&&!Tr(e)}var Zl=Kl;function Ql(e){var t=ul(e),n=t.length;while(n--){var r=t[n],o=e[r];t[n]=[r,o,Zl(o)]}return t}var ec=Ql;function tc(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var nc=tc;function rc(e){var t=ec(e);return 1==t.length&&t[0][2]?nc(t[0][0],t[0][1]):function(n){return n===e||Jl(n,e,t)}}var oc=rc,ic=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ac=/^\w*$/;function sc(e,t){if(Io(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ro(e))||(ac.test(e)||!ic.test(e)||null!=t&&e in Object(t))}var uc=sc,lc="Expected a function";function cc(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(lc);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(cc.Cache||pa),n}cc.Cache=pa;var fc=cc,pc=500;function dc(e){var t=fc(e,(function(e){return n.size===pc&&n.clear(),e})),n=t.cache;return t}var hc=dc,yc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vc=/\\(\\)?/g,gc=hc((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(yc,(function(e,n,r,o){t.push(r?o.replace(vc,"$1"):n||e)})),t})),bc=gc,mc=1/0,_c=pr?pr.prototype:void 0,Oc=_c?_c.toString:void 0;function wc(e){if("string"==typeof e)return e;if(Io(e))return Aa(e,wc)+"";if(ro(e))return Oc?Oc.call(e):"";var t=e+"";return"0"==t&&1/e==-mc?"-0":t}var xc=wc;function jc(e){return null==e?"":xc(e)}var Sc=jc;function Ec(e,t){return Io(e)?e:uc(e,t)?[e]:bc(Sc(e))}var Pc=Ec,kc=1/0;function Tc(e){if("string"==typeof e||ro(e))return e;var t=e+"";return"0"==t&&1/e==-kc?"-0":t}var Dc=Tc;function Nc(e,t){t=Pc(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[Dc(t[n++])];return n&&n==r?e:void 0}var Cc=Nc;function Ac(e,t,n){var r=null==e?void 0:Cc(e,t);return void 0===r?n:r}var Mc=Ac;function Ic(e,t){return null!=e&&t in Object(e)}var Rc=Ic;function Lc(e,t,n){t=Pc(t,e);var r=-1,o=t.length,i=!1;while(++r<o){var a=Dc(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=null==e?0:e.length,!!o&&Br(o)&&Ur(a,o)&&(Io(e)||Ao(e)))}var Bc=Lc;function Fc(e,t){return null!=e&&Bc(e,t,Rc)}var zc=Fc,qc=1,$c=2;function Hc(e,t){return uc(e)&&Zl(t)?nc(Dc(e),t):function(n){var r=Mc(n,e);return void 0===r&&r===t?zc(n,e):Vl(t,r,qc|$c)}}var Uc=Hc;function Wc(e){return function(t){return null==t?void 0:t[e]}}var Vc=Wc;function Gc(e){return function(t){return Cc(t,e)}}var Xc=Gc;function Yc(e){return uc(e)?Vc(Dc(e)):Xc(e)}var Jc=Yc;function Kc(e){return"function"==typeof e?e:null==e?$a:"object"==typeof e?Io(e)?Uc(e[0],e[1]):oc(e):Jc(e)}var Zc=Kc;function Qc(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var ef=Qc,tf=us((function(e,t){var n=ef(t);return cs(n)&&(n=void 0),cs(e)?za(e,zo(t,1,cs,!0),Zc(n,2)):[]})),nf=tf,rf=us((function(e,t){var n=ef(t);return cs(n)&&(n=void 0),cs(e)?za(e,zo(t,1,cs,!0),void 0,n):[]})),of=rf;function af(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:go(t),sr(e,t<0?0:t,r)):[]}var sf=af;function uf(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:go(t),t=r-t,sr(e,0,t<0?0:t)):[]}var lf=uf;function cf(e,t,n,r){var o=e.length,i=r?o:-1;while((r?i--:++i<o)&&t(e[i],i,e));return n?sr(e,r?0:i,r?i+1:o):sr(e,r?i+1:0,r?o:i)}var ff=cf;function pf(e,t){return e&&e.length?ff(e,Zc(t,3),!0,!0):[]}var df=pf;function hf(e,t){return e&&e.length?ff(e,Zc(t,3),!0):[]}var yf=hf;function vf(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}var gf=vf,bf=4294967295;function mf(e){return e?gf(go(e),0,bf):0}var _f=mf;function Of(e,t,n,r){var o=e.length;n=go(n),n<0&&(n=-n>o?0:o+n),r=void 0===r||r>o?o:go(r),r<0&&(r+=o),r=n>r?0:_f(r);while(n<r)e[n++]=t;return e}var wf=Of;function xf(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Vr(e,t,n)&&(n=0,r=o),wf(e,t,n,r)):[]}var jf=xf,Sf=Math.max;function Ef(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:go(n);return o<0&&(o=Sf(r+o,0)),Oa(e,Zc(t,3),o)}var Pf=Ef,kf=Math.max,Tf=Math.min;function Df(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=go(n),o=n<0?kf(r+o,0):Tf(o,r-1)),Oa(e,Zc(t,3),o,!0)}var Nf=Df;function Cf(e){return e&&e.length?e[0]:void 0}var Af=Cf;function Mf(e){var t=null==e?0:e.length;return t?zo(e,1):[]}var If=Mf,Rf=1/0;function Lf(e){var t=null==e?0:e.length;return t?zo(e,Rf):[]}var Bf=Lf;function Ff(e,t){var n=null==e?0:e.length;return n?(t=void 0===t?1:go(t),zo(e,t)):[]}var zf=Ff;function qf(e){var t=-1,n=null==e?0:e.length,r={};while(++t<n){var o=e[t];r[o[0]]=o[1]}return r}var $f=qf,Hf=Math.max;function Uf(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:go(n);return o<0&&(o=Hf(r+o,0)),Pa(e,t,o)}var Wf=Uf;function Vf(e){var t=null==e?0:e.length;return t?sr(e,0,-1):[]}var Gf=Vf,Xf=Math.min;function Yf(e,t,n){var r=n?Na:Ta,o=e[0].length,i=e.length,a=i,s=Array(i),u=1/0,l=[];while(a--){var c=e[a];a&&t&&(c=Aa(c,Ia(t))),u=Xf(c.length,u),s[a]=!n&&(t||o>=120&&c.length>=120)?new ma(a&&c):void 0}c=e[0];var f=-1,p=s[0];e:while(++f<o&&l.length<u){var d=c[f],h=t?t(d):d;if(d=n||0!==d?d:0,!(p?La(p,h):r(l,h,n))){a=i;while(--a){var y=s[a];if(!(y?La(y,h):r(e[a],h,n)))continue e}p&&p.push(h),l.push(d)}}return l}var Jf=Yf;function Kf(e){return cs(e)?e:[]}var Zf=Kf,Qf=us((function(e){var t=Aa(e,Zf);return t.length&&t[0]===e[0]?Jf(t):[]})),ep=Qf,tp=us((function(e){var t=ef(e),n=Aa(e,Zf);return t===ef(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?Jf(n,Zc(t,2)):[]})),np=tp,rp=us((function(e){var t=ef(e),n=Aa(e,Zf);return t="function"==typeof t?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?Jf(n,void 0,t):[]})),op=rp,ip=Array.prototype,ap=ip.join;function sp(e,t){return null==e?"":ap.call(e,t)}var up=sp;function lp(e,t,n){var r=n+1;while(r--)if(e[r]===t)return r;return r}var cp=lp,fp=Math.max,pp=Math.min;function dp(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return void 0!==n&&(o=go(n),o=o<0?fp(r+o,0):pp(o,r-1)),t===t?cp(e,t,o):Oa(e,xa,o,!0)}var hp=dp;function yp(e,t){var n=e.length;if(n)return t+=t<0?n:0,Ur(t,n)?e[t]:void 0}var vp=yp;function gp(e,t){return e&&e.length?vp(e,go(t)):void 0}var bp=gp;function mp(e,t,n,r){var o=n-1,i=e.length;while(++o<i)if(r(e[o],t))return o;return-1}var _p=mp,Op=Array.prototype,wp=Op.splice;function xp(e,t,n,r){var o=r?_p:Pa,i=-1,a=t.length,s=e;e===t&&(t=$o(t)),n&&(s=Aa(e,Ia(n)));while(++i<a){var u=0,l=t[i],c=n?n(l):l;while((u=o(s,c,u,r))>-1)s!==e&&wp.call(s,u,1),wp.call(e,u,1)}return e}var jp=xp;function Sp(e,t){return e&&e.length&&t&&t.length?jp(e,t):e}var Ep=Sp,Pp=us(Ep),kp=Pp;function Tp(e,t,n){return e&&e.length&&t&&t.length?jp(e,t,Zc(n,2)):e}var Dp=Tp;function Np(e,t,n){return e&&e.length&&t&&t.length?jp(e,t,void 0,n):e}var Cp=Np;function Ap(e,t){var n=-1,r=t.length,o=Array(r),i=null==e;while(++n<r)o[n]=i?void 0:Mc(e,t[n]);return o}var Mp=Ap;function Ip(e,t){return t.length<2?e:Cc(e,sr(t,0,-1))}var Rp=Ip;function Lp(e,t){return t=Pc(t,e),e=Rp(e,t),null==e||delete e[Dc(ef(t))]}var Bp=Lp,Fp=Array.prototype,zp=Fp.splice;function qp(e,t){var n=e?t.length:0,r=n-1;while(n--){var o=t[n];if(n==r||o!==i){var i=o;Ur(o)?zp.call(e,o,1):Bp(e,o)}}return e}var $p=qp;function Hp(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e===e,i=ro(e),a=void 0!==t,s=null===t,u=t===t,l=ro(t);if(!s&&!l&&!i&&e>t||i&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!o)return 1;if(!r&&!i&&!l&&e<t||l&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!u)return-1}return 0}var Up=Hp;function Wp(e){return as(Ga(e,void 0,If),e+"")}var Vp=Wp,Gp=Vp((function(e,t){var n=null==e?0:e.length,r=Mp(e,t);return $p(e,Aa(t,(function(e){return Ur(e,n)?+e:e})).sort(Up)),r})),Xp=Gp;function Yp(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;t=Zc(t,3);while(++r<i){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return $p(e,o),n}var Jp=Yp,Kp=Array.prototype,Zp=Kp.reverse;function Qp(e){return null==e?e:Zp.call(e)}var ed=Qp;function td(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Vr(e,t,n)?(t=0,n=r):(t=null==t?0:go(t),n=void 0===n?r:go(n)),sr(e,t,n)):[]}var nd=td,rd=4294967295,od=rd-1,id=Math.floor,ad=Math.min;function sd(e,t,n,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;t=n(t);var a=t!==t,s=null===t,u=ro(t),l=void 0===t;while(o<i){var c=id((o+i)/2),f=n(e[c]),p=void 0!==f,d=null===f,h=f===f,y=ro(f);if(a)var v=r||h;else v=l?h&&(r||p):s?h&&p&&(r||!d):u?h&&p&&!d&&(r||!y):!d&&!y&&(r?f<=t:f<t);v?o=c+1:i=c}return ad(i,od)}var ud=sd,ld=4294967295,cd=ld>>>1;function fd(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=cd){while(r<o){var i=r+o>>>1,a=e[i];null!==a&&!ro(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return ud(e,t,$a,n)}var pd=fd;function dd(e,t){return pd(e,t)}var hd=dd;function yd(e,t,n){return ud(e,t,Zc(n,2))}var vd=yd;function gd(e,t){var n=null==e?0:e.length;if(n){var r=pd(e,t);if(r<n&&lr(e[r],t))return r}return-1}var bd=gd;function md(e,t){return pd(e,t,!0)}var _d=md;function Od(e,t,n){return ud(e,t,Zc(n,2),!0)}var wd=Od;function xd(e,t){var n=null==e?0:e.length;if(n){var r=pd(e,t,!0)-1;if(lr(e[r],t))return r}return-1}var jd=xd;function Sd(e,t){var n=-1,r=e.length,o=0,i=[];while(++n<r){var a=e[n],s=t?t(a):a;if(!n||!lr(s,u)){var u=s;i[o++]=0===a?0:a}}return i}var Ed=Sd;function Pd(e){return e&&e.length?Ed(e):[]}var kd=Pd;function Td(e,t){return e&&e.length?Ed(e,Zc(t,2)):[]}var Dd=Td;function Nd(e){var t=null==e?0:e.length;return t?sr(e,1,t):[]}var Cd=Nd;function Ad(e,t,n){return e&&e.length?(t=n||void 0===t?1:go(t),sr(e,0,t<0?0:t)):[]}var Md=Ad;function Id(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:go(t),t=r-t,sr(e,t<0?0:t,r)):[]}var Rd=Id;function Ld(e,t){return e&&e.length?ff(e,Zc(t,3),!1,!0):[]}var Bd=Ld;function Fd(e,t){return e&&e.length?ff(e,Zc(t,3)):[]}var zd=Fd;function qd(){}var $d=qd,Hd=1/0,Ud=Ol&&1/Ls(new Ol([,-0]))[1]==Hd?function(e){return new Ol(e)}:$d,Wd=Ud,Vd=200;function Gd(e,t,n){var r=-1,o=Ta,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=Na;else if(i>=Vd){var l=t?null:Wd(e);if(l)return Ls(l);a=!1,o=La,u=new ma}else u=t?[]:s;e:while(++r<i){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f===f){var p=u.length;while(p--)if(u[p]===f)continue e;t&&u.push(f),s.push(c)}else o(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}var Xd=Gd,Yd=us((function(e){return Xd(zo(e,1,cs,!0))})),Jd=Yd,Kd=us((function(e){var t=ef(e);return cs(t)&&(t=void 0),Xd(zo(e,1,cs,!0),Zc(t,2))})),Zd=Kd,Qd=us((function(e){var t=ef(e);return t="function"==typeof t?t:void 0,Xd(zo(e,1,cs,!0),void 0,t)})),eh=Qd;function th(e){return e&&e.length?Xd(e):[]}var nh=th;function rh(e,t){return e&&e.length?Xd(e,Zc(t,2)):[]}var oh=rh;function ih(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xd(e,void 0,t):[]}var ah=ih,sh=Math.max;function uh(e){if(!e||!e.length)return[];var t=0;return e=ou(e,(function(e){if(cs(e))return t=sh(e.length,t),!0})),du(t,(function(t){return Aa(e,Vc(t))}))}var lh=uh;function ch(e,t){if(!e||!e.length)return[];var n=lh(e);return null==t?n:Aa(n,(function(e){return Ua(t,void 0,e)}))}var fh=ch,ph=us((function(e,t){return cs(e)?za(e,t):[]})),dh=ph;function hh(e,t,n){var r=e.length;if(r<2)return r?Xd(e[0]):[];var o=-1,i=Array(r);while(++o<r){var a=e[o],s=-1;while(++s<r)s!=o&&(i[o]=za(i[o]||a,e[s],t,n))}return Xd(zo(i,1),t,n)}var yh=hh,vh=us((function(e){return yh(ou(e,cs))})),gh=vh,bh=us((function(e){var t=ef(e);return cs(t)&&(t=void 0),yh(ou(e,cs),Zc(t,2))})),mh=bh,_h=us((function(e){var t=ef(e);return t="function"==typeof t?t:void 0,yh(ou(e,cs),void 0,t)})),Oh=_h,wh=us(lh),xh=wh;function jh(e,t,n){"__proto__"==t&&Ka?Ka(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Sh=jh,Eh=Object.prototype,Ph=Eh.hasOwnProperty;function kh(e,t,n){var r=e[t];Ph.call(e,t)&&lr(r,n)&&(void 0!==n||t in e)||Sh(e,t,n)}var Th=kh;function Dh(e,t,n){var r=-1,o=e.length,i=t.length,a={};while(++r<o){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}var Nh=Dh;function Ch(e,t){return Nh(e||[],t||[],Th)}var Ah=Ch;function Mh(e,t,n,r){if(!Tr(e))return e;t=Pc(t,e);var o=-1,i=t.length,a=i-1,s=e;while(null!=s&&++o<i){var u=Dc(t[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var c=s[u];l=r?r(c,u,s):void 0,void 0===l&&(l=Tr(c)?c:Ur(t[o+1])?[]:{})}Th(s,u,l),s=s[u]}return e}var Ih=Mh;function Rh(e,t){return Nh(e||[],t||[],Ih)}var Lh=Rh,Bh=us((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,fh(e,n)})),Fh=Bh,zh={chunk:Oo,compact:xo,concat:Uo,difference:ps,differenceBy:nf,differenceWith:of,drop:sf,dropRight:lf,dropRightWhile:df,dropWhile:yf,fill:jf,findIndex:Pf,findLastIndex:Nf,first:Af,flatten:If,flattenDeep:Bf,flattenDepth:zf,fromPairs:$f,head:Af,indexOf:Wf,initial:Gf,intersection:ep,intersectionBy:np,intersectionWith:op,join:up,last:ef,lastIndexOf:hp,nth:bp,pull:kp,pullAll:Ep,pullAllBy:Dp,pullAllWith:Cp,pullAt:Xp,remove:Jp,reverse:ed,slice:nd,sortedIndex:hd,sortedIndexBy:vd,sortedIndexOf:bd,sortedLastIndex:_d,sortedLastIndexBy:wd,sortedLastIndexOf:jd,sortedUniq:kd,sortedUniqBy:Dd,tail:Cd,take:Md,takeRight:Rd,takeRightWhile:Bd,takeWhile:zd,union:Jd,unionBy:Zd,unionWith:eh,uniq:nh,uniqBy:oh,uniqWith:ah,unzip:lh,unzipWith:fh,without:dh,xor:gh,xorBy:mh,xorWith:Oh,zip:xh,zipObject:Ah,zipObjectDeep:Lh,zipWith:Fh};function qh(e,t,n,r){var o=-1,i=null==e?0:e.length;while(++o<i){var a=e[o];t(r,a,n(a),e)}return r}var $h=qh;function Hh(e){return function(t,n,r){var o=-1,i=Object(t),a=r(t),s=a.length;while(s--){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}var Uh=Hh,Wh=Uh(),Vh=Wh;function Gh(e,t){return e&&Vh(e,t,ul)}var Xh=Gh;function Yh(e,t){return function(n,r){if(null==n)return n;if(!zr(n))return e(n,r);var o=n.length,i=t?o:-1,a=Object(n);while(t?i--:++i<o)if(!1===r(a[i],i,a))break;return n}}var Jh=Yh,Kh=Jh(Xh),Zh=Kh;function Qh(e,t,n,r){return Zh(e,(function(e,o,i){t(r,e,n(e),i)})),r}var ey=Qh;function ty(e,t){return function(n,r){var o=Io(n)?$h:ey,i=t?t():{};return o(n,e,Zc(r,2),i)}}var ny=ty,ry=Object.prototype,oy=ry.hasOwnProperty,iy=ny((function(e,t,n){oy.call(e,n)?++e[n]:Sh(e,n,1)})),ay=iy;function sy(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}var uy=sy;function ly(e){return"function"==typeof e?e:$a}var cy=ly;function fy(e,t){var n=Io(e)?uy:Zh;return n(e,cy(t))}var py=fy;function dy(e,t){var n=null==e?0:e.length;while(n--)if(!1===t(e[n],n,e))break;return e}var hy=dy,yy=Uh(!0),vy=yy;function gy(e,t){return e&&vy(e,t,ul)}var by=gy,my=Jh(by,!0),_y=my;function Oy(e,t){var n=Io(e)?hy:_y;return n(e,cy(t))}var wy=Oy;function xy(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!t(e[n],n,e))return!1;return!0}var jy=xy;function Sy(e,t){var n=!0;return Zh(e,(function(e,r,o){return n=!!t(e,r,o),n})),n}var Ey=Sy;function Py(e,t,n){var r=Io(e)?jy:Ey;return n&&Vr(e,t,n)&&(t=void 0),r(e,Zc(t,3))}var ky=Py;function Ty(e,t){var n=[];return Zh(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}var Dy=Ty;function Ny(e,t){var n=Io(e)?ou:Dy;return n(e,Zc(t,3))}var Cy=Ny;function Ay(e){return function(t,n,r){var o=Object(t);if(!zr(t)){var i=Zc(n,3);t=ul(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}}var My=Ay,Iy=My(Pf),Ry=Iy,Ly=My(Nf),By=Ly;function Fy(e,t){var n=-1,r=zr(e)?Array(e.length):[];return Zh(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}var zy=Fy;function qy(e,t){var n=Io(e)?Aa:zy;return n(e,Zc(t,3))}var $y=qy;function Hy(e,t){return zo($y(e,t),1)}var Uy=Hy,Wy=1/0;function Vy(e,t){return zo($y(e,t),Wy)}var Gy=Vy;function Xy(e,t,n){return n=void 0===n?1:go(n),zo($y(e,t),n)}var Yy=Xy,Jy=Object.prototype,Ky=Jy.hasOwnProperty,Zy=ny((function(e,t,n){Ky.call(e,n)?e[n].push(t):Sh(e,n,[t])})),Qy=Zy,ev="[object String]";function tv(e){return"string"==typeof e||!Io(e)&&eo(e)&&Pr(e)==ev}var nv=tv;function rv(e,t){return Aa(t,(function(t){return e[t]}))}var ov=rv;function iv(e){return null==e?[]:ov(e,ul(e))}var av=iv,sv=Math.max;function uv(e,t,n,r){e=zr(e)?e:av(e),n=n&&!r?go(n):0;var o=e.length;return n<0&&(n=sv(o+n,0)),nv(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Pa(e,t,n)>-1}var lv=uv;function cv(e,t,n){t=Pc(t,e),e=Rp(e,t);var r=null==e?e:e[Dc(ef(t))];return null==r?void 0:Ua(r,e,n)}var fv=cv,pv=us((function(e,t,n){var r=-1,o="function"==typeof t,i=zr(e)?Array(e.length):[];return Zh(e,(function(e){i[++r]=o?Ua(t,e,n):fv(e,t,n)})),i})),dv=pv,hv=ny((function(e,t,n){Sh(e,n,t)})),yv=hv;function vv(e,t){var n=e.length;e.sort(t);while(n--)e[n]=e[n].value;return e}var gv=vv;function bv(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;while(++r<a){var u=Up(o[r],i[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return e.index-t.index}var mv=bv;function _v(e,t,n){t=t.length?Aa(t,(function(e){return Io(e)?function(t){return Cc(t,1===e.length?e[0]:e)}:e})):[$a];var r=-1;t=Aa(t,Ia(Zc));var o=zy(e,(function(e,n,o){var i=Aa(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return gv(o,(function(e,t){return mv(e,t,n)}))}var Ov=_v;function wv(e,t,n,r){return null==e?[]:(Io(t)||(t=null==t?[]:[t]),n=r?void 0:n,Io(n)||(n=null==n?[]:[n]),Ov(e,t,n))}var xv=wv,jv=ny((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Sv=jv;function Ev(e,t,n,r){var o=-1,i=null==e?0:e.length;r&&i&&(n=e[++o]);while(++o<i)n=t(n,e[o],o,e);return n}var Pv=Ev;function kv(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}var Tv=kv;function Dv(e,t,n){var r=Io(e)?Pv:Tv,o=arguments.length<3;return r(e,Zc(t,4),n,o,Zh)}var Nv=Dv;function Cv(e,t,n,r){var o=null==e?0:e.length;r&&o&&(n=e[--o]);while(o--)n=t(n,e[o],o,e);return n}var Av=Cv;function Mv(e,t,n){var r=Io(e)?Av:Tv,o=arguments.length<3;return r(e,Zc(t,4),n,o,_y)}var Iv=Mv,Rv="Expected a function";function Lv(e){if("function"!=typeof e)throw new TypeError(Rv);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Bv=Lv;function Fv(e,t){var n=Io(e)?ou:Dy;return n(e,Bv(Zc(t,3)))}var zv=Fv,qv=Math.floor,$v=Math.random;function Hv(e,t){return e+qv($v()*(t-e+1))}var Uv=Hv;function Wv(e){var t=e.length;return t?e[Uv(0,t-1)]:void 0}var Vv=Wv;function Gv(e){return Vv(av(e))}var Xv=Gv;function Yv(e){var t=Io(e)?Vv:Xv;return t(e)}var Jv=Yv;function Kv(e,t){var n=-1,r=e.length,o=r-1;t=void 0===t?r:t;while(++n<t){var i=Uv(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}var Zv=Kv;function Qv(e,t){return Zv($o(e),gf(t,0,e.length))}var eg=Qv;function tg(e,t){var n=av(e);return Zv(n,gf(t,0,n.length))}var ng=tg;function rg(e,t,n){t=(n?Vr(e,t,n):void 0===t)?1:go(t);var r=Io(e)?eg:ng;return r(e,t)}var og=rg;function ig(e){return Zv($o(e))}var ag=ig;function sg(e){return Zv(av(e))}var ug=sg;function lg(e){var t=Io(e)?ag:ug;return t(e)}var cg=lg,fg=Vc("length"),pg=fg,dg="\\ud800-\\udfff",hg="\\u0300-\\u036f",yg="\\ufe20-\\ufe2f",vg="\\u20d0-\\u20ff",gg=hg+yg+vg,bg="\\ufe0e\\ufe0f",mg="\\u200d",_g=RegExp("["+mg+dg+gg+bg+"]");function Og(e){return _g.test(e)}var wg=Og,xg="\\ud800-\\udfff",jg="\\u0300-\\u036f",Sg="\\ufe20-\\ufe2f",Eg="\\u20d0-\\u20ff",Pg=jg+Sg+Eg,kg="\\ufe0e\\ufe0f",Tg="["+xg+"]",Dg="["+Pg+"]",Ng="\\ud83c[\\udffb-\\udfff]",Cg="(?:"+Dg+"|"+Ng+")",Ag="[^"+xg+"]",Mg="(?:\\ud83c[\\udde6-\\uddff]){2}",Ig="[\\ud800-\\udbff][\\udc00-\\udfff]",Rg="\\u200d",Lg=Cg+"?",Bg="["+kg+"]?",Fg="(?:"+Rg+"(?:"+[Ag,Mg,Ig].join("|")+")"+Bg+Lg+")*",zg=Bg+Lg+Fg,qg="(?:"+[Ag+Dg+"?",Dg,Mg,Ig,Tg].join("|")+")",$g=RegExp(Ng+"(?="+Ng+")|"+qg+zg,"g");function Hg(e){var t=$g.lastIndex=0;while($g.test(e))++t;return t}var Ug=Hg;function Wg(e){return wg(e)?Ug(e):pg(e)}var Vg=Wg,Gg="[object Map]",Xg="[object Set]";function Yg(e){if(null==e)return 0;if(zr(e))return nv(e)?Vg(e):e.length;var t=Rl(e);return t==Gg||t==Xg?e.size:al(e).length}var Jg=Yg;function Kg(e,t){var n;return Zh(e,(function(e,r,o){return n=t(e,r,o),!n})),!!n}var Zg=Kg;function Qg(e,t,n){var r=Io(e)?Ps:Zg;return n&&Vr(e,t,n)&&(t=void 0),r(e,Zc(t,3))}var eb=Qg,tb=us((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Vr(e,t[0],t[1])?t=[]:n>2&&Vr(t[0],t[1],t[2])&&(t=[t[0]]),Ov(e,zo(t,1),[])})),nb=tb,rb={countBy:ay,each:py,eachRight:wy,every:ky,filter:Cy,find:Ry,findLast:By,flatMap:Uy,flatMapDeep:Gy,flatMapDepth:Yy,forEach:py,forEachRight:wy,groupBy:Qy,includes:lv,invokeMap:dv,keyBy:yv,map:$y,orderBy:xv,partition:Sv,reduce:Nv,reduceRight:Iv,reject:zv,sample:Jv,sampleSize:og,shuffle:cg,size:Jg,some:eb,sortBy:nb},ob=function(){return cr["a"].Date.now()},ib=ob,ab={now:ib},sb="Expected a function";function ub(e,t){if("function"!=typeof t)throw new TypeError(sb);return e=go(e),function(){if(--e<1)return t.apply(this,arguments)}}var lb=ub,cb=xl&&new xl,fb=cb,pb=fb?function(e,t){return fb.set(e,t),e}:$a,db=pb,hb=Object.create,yb=function(){function e(){}return function(t){if(!Tr(t))return{};if(hb)return hb(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),vb=yb;function gb(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=vb(e.prototype),r=e.apply(n,t);return Tr(r)?r:n}}var bb=gb,mb=1;function _b(e,t,n){var r=t&mb,o=bb(e);function i(){var t=this&&this!==cr["a"]&&this instanceof i?o:e;return t.apply(r?n:this,arguments)}return i}var Ob=_b,wb=Math.max;function xb(e,t,n,r){var o=-1,i=e.length,a=n.length,s=-1,u=t.length,l=wb(i-a,0),c=Array(u+l),f=!r;while(++s<u)c[s]=t[s];while(++o<a)(f||o<i)&&(c[n[o]]=e[o]);while(l--)c[s++]=e[o++];return c}var jb=xb,Sb=Math.max;function Eb(e,t,n,r){var o=-1,i=e.length,a=-1,s=n.length,u=-1,l=t.length,c=Sb(i-s,0),f=Array(c+l),p=!r;while(++o<c)f[o]=e[o];var d=o;while(++u<l)f[d+u]=t[u];while(++a<s)(p||o<i)&&(f[d+n[a]]=e[o++]);return f}var Pb=Eb;function kb(e,t){var n=e.length,r=0;while(n--)e[n]===t&&++r;return r}var Tb=kb;function Db(){}var Nb=Db,Cb=4294967295;function Ab(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Cb,this.__views__=[]}Ab.prototype=vb(Nb.prototype),Ab.prototype.constructor=Ab;var Mb=Ab,Ib=fb?function(e){return fb.get(e)}:$d,Rb=Ib,Lb={},Bb=Lb,Fb=Object.prototype,zb=Fb.hasOwnProperty;function qb(e){var t=e.name+"",n=Bb[t],r=zb.call(Bb,t)?n.length:0;while(r--){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}var $b=qb;function Hb(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Hb.prototype=vb(Nb.prototype),Hb.prototype.constructor=Hb;var Ub=Hb;function Wb(e){if(e instanceof Mb)return e.clone();var t=new Ub(e.__wrapped__,e.__chain__);return t.__actions__=$o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vb=Wb,Gb=Object.prototype,Xb=Gb.hasOwnProperty;function Yb(e){if(eo(e)&&!Io(e)&&!(e instanceof Mb)){if(e instanceof Ub)return e;if(Xb.call(e,"__wrapped__"))return Vb(e)}return new Ub(e)}Yb.prototype=Nb.prototype,Yb.prototype.constructor=Yb;var Jb=Yb;function Kb(e){var t=$b(e),n=Jb[t];if("function"!=typeof n||!(t in Mb.prototype))return!1;if(e===n)return!0;var r=Rb(n);return!!r&&e===r[0]}var Zb=Kb,Qb=os(db),em=Qb,tm=/\{\n\/\* \[wrapped with (.+)\] \*/,nm=/,? & /;function rm(e){var t=e.match(tm);return t?t[1].split(nm):[]}var om=rm,im=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function am(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(im,"{\n/* [wrapped with "+t+"] */\n")}var sm=am,um=1,lm=2,cm=8,fm=16,pm=32,dm=64,hm=128,ym=256,vm=512,gm=[["ary",hm],["bind",um],["bindKey",lm],["curry",cm],["curryRight",fm],["flip",vm],["partial",pm],["partialRight",dm],["rearg",ym]];function bm(e,t){return uy(gm,(function(n){var r="_."+n[0];t&n[1]&&!Ta(e,r)&&e.push(r)})),e.sort()}var mm=bm;function _m(e,t,n){var r=t+"";return as(e,sm(r,mm(om(r),n)))}var Om=_m,wm=1,xm=2,jm=4,Sm=8,Em=32,Pm=64;function km(e,t,n,r,o,i,a,s,u,l){var c=t&Sm,f=c?a:void 0,p=c?void 0:a,d=c?i:void 0,h=c?void 0:i;t|=c?Em:Pm,t&=~(c?Pm:Em),t&jm||(t&=~(wm|xm));var y=[e,t,o,d,f,h,p,s,u,l],v=n.apply(void 0,y);return Zb(e)&&em(v,y),v.placeholder=r,Om(v,e,t)}var Tm=km;function Dm(e){var t=e;return t.placeholder}var Nm=Dm,Cm=Math.min;function Am(e,t){var n=e.length,r=Cm(t.length,n),o=$o(e);while(r--){var i=t[r];e[r]=Ur(i,n)?o[i]:void 0}return e}var Mm=Am,Im="__lodash_placeholder__";function Rm(e,t){var n=-1,r=e.length,o=0,i=[];while(++n<r){var a=e[n];a!==t&&a!==Im||(e[n]=Im,i[o++]=n)}return i}var Lm=Rm,Bm=1,Fm=2,zm=8,qm=16,$m=128,Hm=512;function Um(e,t,n,r,o,i,a,s,u,l){var c=t&$m,f=t&Bm,p=t&Fm,d=t&(zm|qm),h=t&Hm,y=p?void 0:bb(e);function v(){var g=arguments.length,b=Array(g),m=g;while(m--)b[m]=arguments[m];if(d)var _=Nm(v),O=Tb(b,_);if(r&&(b=jb(b,r,o,d)),i&&(b=Pb(b,i,a,d)),g-=O,d&&g<l){var w=Lm(b,_);return Tm(e,t,Um,v.placeholder,n,b,w,s,u,l-g)}var x=f?n:this,j=p?x[e]:e;return g=b.length,s?b=Mm(b,s):h&&g>1&&b.reverse(),c&&u<g&&(b.length=u),this&&this!==cr["a"]&&this instanceof v&&(j=y||bb(j)),j.apply(x,b)}return v}var Wm=Um;function Vm(e,t,n){var r=bb(e);function o(){var i=arguments.length,a=Array(i),s=i,u=Nm(o);while(s--)a[s]=arguments[s];var l=i<3&&a[0]!==u&&a[i-1]!==u?[]:Lm(a,u);if(i-=l.length,i<n)return Tm(e,t,Wm,o.placeholder,void 0,a,l,void 0,void 0,n-i);var c=this&&this!==cr["a"]&&this instanceof o?r:e;return Ua(c,this,a)}return o}var Gm=Vm,Xm=1;function Ym(e,t,n,r){var o=t&Xm,i=bb(e);function a(){var t=-1,s=arguments.length,u=-1,l=r.length,c=Array(l+s),f=this&&this!==cr["a"]&&this instanceof a?i:e;while(++u<l)c[u]=r[u];while(s--)c[u++]=arguments[++t];return Ua(f,o?n:this,c)}return a}var Jm=Ym,Km="__lodash_placeholder__",Zm=1,Qm=2,e_=4,t_=8,n_=128,r_=256,o_=Math.min;function i_(e,t){var n=e[1],r=t[1],o=n|r,i=o<(Zm|Qm|n_),a=r==n_&&n==t_||r==n_&&n==r_&&e[7].length<=t[8]||r==(n_|r_)&&t[7].length<=t[8]&&n==t_;if(!i&&!a)return e;r&Zm&&(e[2]=t[2],o|=n&Zm?0:e_);var s=t[3];if(s){var u=e[3];e[3]=u?jb(u,s,t[4]):s,e[4]=u?Lm(e[3],Km):t[4]}return s=t[5],s&&(u=e[5],e[5]=u?Pb(u,s,t[6]):s,e[6]=u?Lm(e[5],Km):t[6]),s=t[7],s&&(e[7]=s),r&n_&&(e[8]=null==e[8]?t[8]:o_(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}var a_=i_,s_="Expected a function",u_=1,l_=2,c_=8,f_=16,p_=32,d_=64,h_=Math.max;function y_(e,t,n,r,o,i,a,s){var u=t&l_;if(!u&&"function"!=typeof e)throw new TypeError(s_);var l=r?r.length:0;if(l||(t&=~(p_|d_),r=o=void 0),a=void 0===a?a:h_(go(a),0),s=void 0===s?s:go(s),l-=o?o.length:0,t&d_){var c=r,f=o;r=o=void 0}var p=u?void 0:Rb(e),d=[e,t,n,r,o,c,f,i,a,s];if(p&&a_(d,p),e=d[0],t=d[1],n=d[2],r=d[3],o=d[4],s=d[9]=void 0===d[9]?u?0:e.length:h_(d[9]-l,0),!s&&t&(c_|f_)&&(t&=~(c_|f_)),t&&t!=u_)h=t==c_||t==f_?Gm(e,t,s):t!=p_&&t!=(u_|p_)||o.length?Wm.apply(void 0,d):Jm(e,t,n,r);else var h=Ob(e,t,n);var y=p?db:em;return Om(y(h,d),e,t)}var v_=y_,g_=128;function b_(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,v_(e,g_,void 0,void 0,void 0,void 0,t)}var m_=b_,__="Expected a function";function O_(e,t){var n;if("function"!=typeof t)throw new TypeError(__);return e=go(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var w_=O_,x_=1,j_=32,S_=us((function(e,t,n){var r=x_;if(n.length){var o=Lm(n,Nm(S_));r|=j_}return v_(e,r,t,n,o)}));S_.placeholder={};var E_=S_,P_=1,k_=2,T_=32,D_=us((function(e,t,n){var r=P_|k_;if(n.length){var o=Lm(n,Nm(D_));r|=T_}return v_(t,r,e,n,o)}));D_.placeholder={};var N_=D_,C_=8;function A_(e,t,n){t=n?void 0:t;var r=v_(e,C_,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=A_.placeholder,r}A_.placeholder={};var M_=A_,I_=16;function R_(e,t,n){t=n?void 0:t;var r=v_(e,I_,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=R_.placeholder,r}R_.placeholder={};var L_=R_,B_="Expected a function",F_=Math.max,z_=Math.min;function q_(e,t,n){var r,o,i,a,s,u,l=0,c=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(B_);function d(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n),a}function h(e){return l=e,s=setTimeout(g,t),c?d(e):a}function y(e){var n=e-u,r=e-l,o=t-n;return f?z_(o,i-r):o}function v(e){var n=e-u,r=e-l;return void 0===u||n>=t||n<0||f&&r>=i}function g(){var e=ib();if(v(e))return b(e);s=setTimeout(g,y(e))}function b(e){return s=void 0,p&&r?d(e):(r=o=void 0,a)}function m(){void 0!==s&&clearTimeout(s),l=0,r=u=o=s=void 0}function _(){return void 0===s?a:b(ib())}function O(){var e=ib(),n=v(e);if(r=arguments,o=this,u=e,n){if(void 0===s)return h(u);if(f)return clearTimeout(s),s=setTimeout(g,t),d(u)}return void 0===s&&(s=setTimeout(g,t)),a}return t=co(t)||0,Tr(n)&&(c=!!n.leading,f="maxWait"in n,i=f?F_(co(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),O.cancel=m,O.flush=_,O}var $_=q_,H_="Expected a function";function U_(e,t,n){if("function"!=typeof e)throw new TypeError(H_);return setTimeout((function(){e.apply(void 0,n)}),t)}var W_=U_,V_=us((function(e,t){return W_(e,1,t)})),G_=V_,X_=us((function(e,t,n){return W_(e,co(t)||0,n)})),Y_=X_,J_=512;function K_(e){return v_(e,J_)}var Z_=K_;function Q_(e){return w_(2,e)}var eO=Q_,tO=us,nO=tO,rO=Math.min,oO=nO((function(e,t){t=1==t.length&&Io(t[0])?Aa(t[0],Ia(Zc)):Aa(zo(t,1),Ia(Zc));var n=t.length;return us((function(r){var o=-1,i=rO(r.length,n);while(++o<i)r[o]=t[o].call(this,r[o]);return Ua(e,this,r)}))})),iO=oO,aO=32,sO=us((function(e,t){var n=Lm(t,Nm(sO));return v_(e,aO,void 0,t,n)}));sO.placeholder={};var uO=sO,lO=64,cO=us((function(e,t){var n=Lm(t,Nm(cO));return v_(e,lO,void 0,t,n)}));cO.placeholder={};var fO=cO,pO=256,dO=Vp((function(e,t){return v_(e,pO,void 0,void 0,void 0,t)})),hO=dO,yO="Expected a function";function vO(e,t){if("function"!=typeof e)throw new TypeError(yO);return t=void 0===t?t:go(t),us(e,t)}var gO=vO;function bO(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:sr(e,t,n)}var mO=bO,_O="Expected a function",OO=Math.max;function wO(e,t){if("function"!=typeof e)throw new TypeError(_O);return t=null==t?0:OO(go(t),0),us((function(n){var r=n[t],o=mO(n,0,t);return r&&So(o,r),Ua(e,this,o)}))}var xO=wO,jO="Expected a function";function SO(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(jO);return Tr(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),$_(e,t,{leading:r,maxWait:t,trailing:o})}var EO=SO;function PO(e){return m_(e,1)}var kO=PO;function TO(e,t){return uO(cy(t),e)}var DO=TO,NO={after:lb,ary:m_,before:w_,bind:E_,bindKey:N_,curry:M_,curryRight:L_,debounce:$_,defer:G_,delay:Y_,flip:Z_,memoize:fc,negate:Bv,once:eO,overArgs:iO,partial:uO,partialRight:fO,rearg:hO,rest:gO,spread:xO,throttle:EO,unary:kO,wrap:DO};function CO(){if(!arguments.length)return[];var e=arguments[0];return Io(e)?e:[e]}var AO=CO;function MO(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;while(++i<a){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),o?Sh(n,s,u):Th(n,s,u)}return n}var IO=MO;function RO(e,t){return e&&IO(t,ul(t),e)}var LO=RO;function BO(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var FO=BO,zO=Object.prototype,qO=zO.hasOwnProperty;function $O(e){if(!Tr(e))return FO(e);var t=Zu(e),n=[];for(var r in e)("constructor"!=r||!t&&qO.call(e,r))&&n.push(r);return n}var HO=$O;function UO(e){return zr(e)?Yu(e,!0):HO(e)}var WO=UO;function VO(e,t){return e&&IO(t,WO(t),e)}var GO=VO,XO=n("dff1");function YO(e,t){return IO(e,fu(e),t)}var JO=YO,KO=el(Object.getPrototypeOf,Object),ZO=KO,QO=Object.getOwnPropertySymbols,ew=QO?function(e){var t=[];while(e)So(t,fu(e)),e=ZO(e);return t}:au,tw=ew;function nw(e,t){return IO(e,tw(e),t)}var rw=nw;function ow(e){return nu(e,WO,tw)}var iw=ow,aw=Object.prototype,sw=aw.hasOwnProperty;function uw(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&sw.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var lw=uw;function cw(e){var t=new e.constructor(e.byteLength);return new As(t).set(new As(e)),t}var fw=cw;function pw(e,t){var n=t?fw(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var dw=pw,hw=/\w*$/;function yw(e){var t=new e.constructor(e.source,hw.exec(e));return t.lastIndex=e.lastIndex,t}var vw=yw,gw=pr?pr.prototype:void 0,bw=gw?gw.valueOf:void 0;function mw(e){return bw?Object(bw.call(e)):{}}var _w=mw;function Ow(e,t){var n=t?fw(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var ww=Ow,xw="[object Boolean]",jw="[object Date]",Sw="[object Map]",Ew="[object Number]",Pw="[object RegExp]",kw="[object Set]",Tw="[object String]",Dw="[object Symbol]",Nw="[object ArrayBuffer]",Cw="[object DataView]",Aw="[object Float32Array]",Mw="[object Float64Array]",Iw="[object Int8Array]",Rw="[object Int16Array]",Lw="[object Int32Array]",Bw="[object Uint8Array]",Fw="[object Uint8ClampedArray]",zw="[object Uint16Array]",qw="[object Uint32Array]";function $w(e,t,n){var r=e.constructor;switch(t){case Nw:return fw(e);case xw:case jw:return new r(+e);case Cw:return dw(e,n);case Aw:case Mw:case Iw:case Rw:case Lw:case Bw:case Fw:case zw:case qw:return ww(e,n);case Sw:return new r;case Ew:case Tw:return new r(e);case Pw:return vw(e);case kw:return new r;case Dw:return _w(e)}}var Hw=$w;function Uw(e){return"function"!=typeof e.constructor||Zu(e)?{}:vb(ZO(e))}var Ww=Uw,Vw="[object Map]";function Gw(e){return eo(e)&&Rl(e)==Vw}var Xw=Gw,Yw=$u["a"]&&$u["a"].isMap,Jw=Yw?Ia(Yw):Xw,Kw=Jw,Zw="[object Set]";function Qw(e){return eo(e)&&Rl(e)==Zw}var ex=Qw,tx=$u["a"]&&$u["a"].isSet,nx=tx?Ia(tx):ex,rx=nx,ox=1,ix=2,ax=4,sx="[object Arguments]",ux="[object Array]",lx="[object Boolean]",cx="[object Date]",fx="[object Error]",px="[object Function]",dx="[object GeneratorFunction]",hx="[object Map]",yx="[object Number]",vx="[object Object]",gx="[object RegExp]",bx="[object Set]",mx="[object String]",_x="[object Symbol]",Ox="[object WeakMap]",wx="[object ArrayBuffer]",xx="[object DataView]",jx="[object Float32Array]",Sx="[object Float64Array]",Ex="[object Int8Array]",Px="[object Int16Array]",kx="[object Int32Array]",Tx="[object Uint8Array]",Dx="[object Uint8ClampedArray]",Nx="[object Uint16Array]",Cx="[object Uint32Array]",Ax={};function Mx(e,t,n,r,o,i){var a,s=t&ox,u=t&ix,l=t&ax;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!Tr(e))return e;var c=Io(e);if(c){if(a=lw(e),!s)return $o(e,a)}else{var f=Rl(e),p=f==px||f==dx;if(Object(hu["a"])(e))return Object(XO["a"])(e,s);if(f==vx||f==sx||p&&!o){if(a=u||p?{}:Ww(e),!s)return u?rw(e,GO(a,e)):JO(e,LO(a,e))}else{if(!Ax[f])return o?e:{};a=Hw(e,f,s)}}i||(i=new Ss);var d=i.get(e);if(d)return d;i.set(e,a),rx(e)?e.forEach((function(r){a.add(Mx(r,t,n,r,e,i))})):Kw(e)&&e.forEach((function(r,o){a.set(o,Mx(r,t,n,o,e,i))}));var h=l?u?iw:cl:u?WO:ul,y=c?void 0:h(e);return uy(y||e,(function(r,o){y&&(o=r,r=e[o]),Th(a,o,Mx(r,t,n,o,e,i))})),a}Ax[sx]=Ax[ux]=Ax[wx]=Ax[xx]=Ax[lx]=Ax[cx]=Ax[jx]=Ax[Sx]=Ax[Ex]=Ax[Px]=Ax[kx]=Ax[hx]=Ax[yx]=Ax[vx]=Ax[gx]=Ax[bx]=Ax[mx]=Ax[_x]=Ax[Tx]=Ax[Dx]=Ax[Nx]=Ax[Cx]=!0,Ax[fx]=Ax[px]=Ax[Ox]=!1;var Ix=Mx,Rx=4;function Lx(e){return Ix(e,Rx)}var Bx=Lx,Fx=1,zx=4;function qx(e){return Ix(e,Fx|zx)}var $x=qx,Hx=1,Ux=4;function Wx(e,t){return t="function"==typeof t?t:void 0,Ix(e,Hx|Ux,t)}var Vx=Wx,Gx=4;function Xx(e,t){return t="function"==typeof t?t:void 0,Ix(e,Gx,t)}var Yx=Xx;function Jx(e,t,n){var r=n.length;if(null==e)return!r;e=Object(e);while(r--){var o=n[r],i=t[o],a=e[o];if(void 0===a&&!(o in e)||!i(a))return!1}return!0}var Kx=Jx;function Zx(e,t){return null==t||Kx(e,t,ul(t))}var Qx=Zx;function ej(e,t){return e>t}var tj=ej;function nj(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=co(t),n=co(n)),e(t,n)}}var rj=nj,oj=rj(tj),ij=oj,aj=rj((function(e,t){return e>=t})),sj=aj,uj="[object ArrayBuffer]";function lj(e){return eo(e)&&Pr(e)==uj}var cj=lj,fj=$u["a"]&&$u["a"].isArrayBuffer,pj=fj?Ia(fj):cj,dj=pj,hj="[object Boolean]";function yj(e){return!0===e||!1===e||eo(e)&&Pr(e)==hj}var vj=yj,gj="[object Date]";function bj(e){return eo(e)&&Pr(e)==gj}var mj=bj,_j=$u["a"]&&$u["a"].isDate,Oj=_j?Ia(_j):mj,wj=Oj,xj="[object Object]",jj=Function.prototype,Sj=Object.prototype,Ej=jj.toString,Pj=Sj.hasOwnProperty,kj=Ej.call(Object);function Tj(e){if(!eo(e)||Pr(e)!=xj)return!1;var t=ZO(e);if(null===t)return!0;var n=Pj.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ej.call(n)==kj}var Dj=Tj;function Nj(e){return eo(e)&&1===e.nodeType&&!Dj(e)}var Cj=Nj,Aj="[object Map]",Mj="[object Set]",Ij=Object.prototype,Rj=Ij.hasOwnProperty;function Lj(e){if(null==e)return!0;if(zr(e)&&(Io(e)||"string"==typeof e||"function"==typeof e.splice||Object(hu["a"])(e)||Wu(e)||Ao(e)))return!e.length;var t=Rl(e);if(t==Aj||t==Mj)return!e.size;if(Zu(e))return!al(e).length;for(var n in e)if(Rj.call(e,n))return!1;return!0}var Bj=Lj;function Fj(e,t){return Vl(e,t)}var zj=Fj;function qj(e,t,n){n="function"==typeof n?n:void 0;var r=n?n(e,t):void 0;return void 0===r?Vl(e,t,void 0,n):!!r}var $j=qj,Hj="[object DOMException]",Uj="[object Error]";function Wj(e){if(!eo(e))return!1;var t=Pr(e);return t==Uj||t==Hj||"string"==typeof e.message&&"string"==typeof e.name&&!Dj(e)}var Vj=Wj,Gj=cr["a"].isFinite;function Xj(e){return"number"==typeof e&&Gj(e)}var Yj=Xj;function Jj(e){return"number"==typeof e&&e==go(e)}var Kj=Jj;function Zj(e,t){return e===t||Jl(e,t,ec(t))}var Qj=Zj;function eS(e,t,n){return n="function"==typeof n?n:void 0,Jl(e,t,ec(t),n)}var tS=eS,nS="[object Number]";function rS(e){return"number"==typeof e||eo(e)&&Pr(e)==nS}var oS=rS;function iS(e){return oS(e)&&e!=+e}var aS=iS,sS=n("2f74"),uS=Vo?Ir:sS["a"],lS=uS,cS="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function fS(e){if(lS(e))throw new Error(cS);return ui(e)}var pS=fS;function dS(e){return null==e}var hS=dS;function yS(e){return null===e}var vS=yS,gS="[object RegExp]";function bS(e){return eo(e)&&Pr(e)==gS}var mS=bS,_S=$u["a"]&&$u["a"].isRegExp,OS=_S?Ia(_S):mS,wS=OS,xS=9007199254740991;function jS(e){return Kj(e)&&e>=-xS&&e<=xS}var SS=jS;function ES(e){return void 0===e}var PS=ES,kS="[object WeakMap]";function TS(e){return eo(e)&&Rl(e)==kS}var DS=TS,NS="[object WeakSet]";function CS(e){return eo(e)&&Pr(e)==NS}var AS=CS;function MS(e,t){return e<t}var IS=MS,RS=rj(IS),LS=RS,BS=rj((function(e,t){return e<=t})),FS=BS;function zS(e){var t,n=[];while(!(t=e.next()).done)n.push(t.value);return n}var qS=zS;function $S(e){return e.split("")}var HS=$S,US="\\ud800-\\udfff",WS="\\u0300-\\u036f",VS="\\ufe20-\\ufe2f",GS="\\u20d0-\\u20ff",XS=WS+VS+GS,YS="\\ufe0e\\ufe0f",JS="["+US+"]",KS="["+XS+"]",ZS="\\ud83c[\\udffb-\\udfff]",QS="(?:"+KS+"|"+ZS+")",eE="[^"+US+"]",tE="(?:\\ud83c[\\udde6-\\uddff]){2}",nE="[\\ud800-\\udbff][\\udc00-\\udfff]",rE="\\u200d",oE=QS+"?",iE="["+YS+"]?",aE="(?:"+rE+"(?:"+[eE,tE,nE].join("|")+")"+iE+oE+")*",sE=iE+oE+aE,uE="(?:"+[eE+KS+"?",KS,tE,nE,JS].join("|")+")",lE=RegExp(ZS+"(?="+ZS+")|"+uE+sE,"g");function cE(e){return e.match(lE)||[]}var fE=cE;function pE(e){return wg(e)?fE(e):HS(e)}var dE=pE,hE="[object Map]",yE="[object Set]",vE=pr?pr.iterator:void 0;function gE(e){if(!e)return[];if(zr(e))return nv(e)?dE(e):$o(e);if(vE&&e[vE])return qS(e[vE]());var t=Rl(e),n=t==hE?Is:t==yE?Ls:av;return n(e)}var bE=gE;function mE(e){return IO(e,WO(e))}var _E=mE,OE=9007199254740991;function wE(e){return e?gf(go(e),-OE,OE):0===e?e:0}var xE=wE,jE={castArray:AO,clone:Bx,cloneDeep:$x,cloneDeepWith:Vx,cloneWith:Yx,conformsTo:Qx,eq:lr,gt:ij,gte:sj,isArguments:Ao,isArray:Io,isArrayBuffer:dj,isArrayLike:zr,isArrayLikeObject:cs,isBoolean:vj,isBuffer:hu["a"],isDate:wj,isElement:Cj,isEmpty:Bj,isEqual:zj,isEqualWith:$j,isError:Vj,isFinite:Yj,isFunction:Ir,isInteger:Kj,isLength:Br,isMap:Kw,isMatch:Qj,isMatchWith:tS,isNaN:aS,isNative:pS,isNil:hS,isNull:vS,isNumber:oS,isObject:Tr,isObjectLike:eo,isPlainObject:Dj,isRegExp:wS,isSafeInteger:SS,isSet:rx,isString:nv,isSymbol:ro,isTypedArray:Wu,isUndefined:PS,isWeakMap:DS,isWeakSet:AS,lt:LS,lte:FS,toArray:bE,toFinite:yo,toInteger:go,toLength:_f,toNumber:co,toPlainObject:_E,toSafeInteger:xE,toString:Sc},SE=NaN;function EE(e){return"number"==typeof e?e:ro(e)?SE:+e}var PE=EE;function kE(e,t){return function(n,r){var o;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=xc(n),r=xc(r)):(n=PE(n),r=PE(r)),o=e(n,r)}return o}}var TE=kE,DE=TE((function(e,t){return e+t}),0),NE=DE,CE=cr["a"].isFinite,AE=Math.min;function ME(e){var t=Math[e];return function(e,n){if(e=co(e),n=null==n?0:AE(go(n),292),n&&CE(e)){var r=(Sc(e)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+n));return r=(Sc(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}var IE=ME,RE=IE("ceil"),LE=RE,BE=TE((function(e,t){return e/t}),1),FE=BE,zE=IE("floor"),qE=zE;function $E(e,t,n){var r=-1,o=e.length;while(++r<o){var i=e[r],a=t(i);if(null!=a&&(void 0===s?a===a&&!ro(a):n(a,s)))var s=a,u=i}return u}var HE=$E;function UE(e){return e&&e.length?HE(e,$a,tj):void 0}var WE=UE;function VE(e,t){return e&&e.length?HE(e,Zc(t,2),tj):void 0}var GE=VE;function XE(e,t){var n,r=-1,o=e.length;while(++r<o){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}var YE=XE,JE=NaN;function KE(e,t){var n=null==e?0:e.length;return n?YE(e,t)/n:JE}var ZE=KE;function QE(e){return ZE(e,$a)}var eP=QE;function tP(e,t){return ZE(e,Zc(t,2))}var nP=tP;function rP(e){return e&&e.length?HE(e,$a,IS):void 0}var oP=rP;function iP(e,t){return e&&e.length?HE(e,Zc(t,2),IS):void 0}var aP=iP,sP=TE((function(e,t){return e*t}),1),uP=sP,lP=IE("round"),cP=lP,fP=TE((function(e,t){return e-t}),0),pP=fP;function dP(e){return e&&e.length?YE(e,$a):0}var hP=dP;function yP(e,t){return e&&e.length?YE(e,Zc(t,2)):0}var vP=yP,gP={add:NE,ceil:LE,divide:FE,floor:qE,max:WE,maxBy:GE,mean:eP,meanBy:nP,min:oP,minBy:aP,multiply:uP,round:cP,subtract:pP,sum:hP,sumBy:vP};function bP(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=co(n),n=n===n?n:0),void 0!==t&&(t=co(t),t=t===t?t:0),gf(co(e),t,n)}var mP=bP,_P=Math.max,OP=Math.min;function wP(e,t,n){return e>=OP(t,n)&&e<_P(t,n)}var xP=wP;function jP(e,t,n){return t=yo(t),void 0===n?(n=t,t=0):n=yo(n),e=co(e),xP(e,t,n)}var SP=jP,EP=parseFloat,PP=Math.min,kP=Math.random;function TP(e,t,n){if(n&&"boolean"!=typeof n&&Vr(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=yo(e),void 0===t?(t=e,e=0):t=yo(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=kP();return PP(e+o*(t-e+EP("1e-"+((o+"").length-1))),t)}return Uv(e,t)}var DP=TP,NP={clamp:mP,inRange:SP,random:DP};function CP(e){return us((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Vr(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);while(++r<o){var s=n[r];s&&e(t,s,r,i)}return t}))}var AP=CP,MP=Object.prototype,IP=MP.hasOwnProperty,RP=AP((function(e,t){if(Zu(t)||zr(t))IO(t,ul(t),e);else for(var n in t)IP.call(t,n)&&Th(e,n,t[n])})),LP=RP,BP=AP((function(e,t){IO(t,WO(t),e)})),FP=BP,zP=AP((function(e,t,n,r){IO(t,WO(t),e,r)})),qP=zP,$P=AP((function(e,t,n,r){IO(t,ul(t),e,r)})),HP=$P,UP=Vp(Mp),WP=UP;function VP(e,t){var n=vb(e);return null==t?n:LO(n,t)}var GP=VP,XP=Object.prototype,YP=XP.hasOwnProperty,JP=us((function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;o&&Vr(t[0],t[1],o)&&(r=1);while(++n<r){var i=t[n],a=WO(i),s=-1,u=a.length;while(++s<u){var l=a[s],c=e[l];(void 0===c||lr(c,XP[l])&&!YP.call(e,l))&&(e[l]=i[l])}}return e})),KP=JP;function ZP(e,t,n){(void 0!==n&&!lr(e[t],n)||void 0===n&&!(t in e))&&Sh(e,t,n)}var QP=ZP;function ek(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var tk=ek;function nk(e,t,n,r,o,i,a){var s=tk(e,n),u=tk(t,n),l=a.get(u);if(l)QP(e,n,l);else{var c=i?i(s,u,n+"",e,t,a):void 0,f=void 0===c;if(f){var p=Io(u),d=!p&&Object(hu["a"])(u),h=!p&&!d&&Wu(u);c=u,p||d||h?Io(s)?c=s:cs(s)?c=$o(s):d?(f=!1,c=Object(XO["a"])(u,!0)):h?(f=!1,c=ww(u,!0)):c=[]:Dj(u)||Ao(u)?(c=s,Ao(s)?c=_E(s):Tr(s)&&!Ir(s)||(c=Ww(u))):f=!1}f&&(a.set(u,c),o(c,u,r,i,a),a["delete"](u)),QP(e,n,c)}}var rk=nk;function ok(e,t,n,r,o){e!==t&&Vh(t,(function(i,a){if(o||(o=new Ss),Tr(i))rk(e,t,a,n,ok,r,o);else{var s=r?r(tk(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),QP(e,a,s)}}),WO)}var ik=ok;function ak(e,t,n,r,o,i){return Tr(e)&&Tr(t)&&(i.set(t,e),ik(e,t,void 0,ak,i),i["delete"](t)),e}var sk=ak,uk=AP((function(e,t,n,r){ik(e,t,n,r)})),lk=uk,ck=us((function(e){return e.push(void 0,sk),Ua(lk,void 0,e)})),fk=ck;function pk(e,t){return Aa(t,(function(t){return[t,e[t]]}))}var dk=pk;function hk(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}var yk=hk,vk="[object Map]",gk="[object Set]";function bk(e){return function(t){var n=Rl(t);return n==vk?Is(t):n==gk?yk(t):dk(t,e(t))}}var mk=bk,_k=mk(ul),Ok=_k,wk=mk(WO),xk=wk;function jk(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}var Sk=jk;function Ek(e,t){return Sk(e,Zc(t,3),Xh)}var Pk=Ek;function kk(e,t){return Sk(e,Zc(t,3),by)}var Tk=kk;function Dk(e,t){return null==e?e:Vh(e,cy(t),WO)}var Nk=Dk;function Ck(e,t){return null==e?e:vy(e,cy(t),WO)}var Ak=Ck;function Mk(e,t){return e&&Xh(e,cy(t))}var Ik=Mk;function Rk(e,t){return e&&by(e,cy(t))}var Lk=Rk;function Bk(e,t){return ou(t,(function(t){return Ir(e[t])}))}var Fk=Bk;function zk(e){return null==e?[]:Fk(e,ul(e))}var qk=zk;function $k(e){return null==e?[]:Fk(e,WO(e))}var Hk=$k,Uk=Object.prototype,Wk=Uk.hasOwnProperty;function Vk(e,t){return null!=e&&Wk.call(e,t)}var Gk=Vk;function Xk(e,t){return null!=e&&Bc(e,t,Gk)}var Yk=Xk;function Jk(e,t,n,r){return Xh(e,(function(e,o,i){t(r,n(e),o,i)})),r}var Kk=Jk;function Zk(e,t){return function(n,r){return Kk(n,e,t(r),{})}}var Qk=Zk,eT=Object.prototype,tT=eT.toString,nT=Qk((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=tT.call(t)),e[t]=n}),Ya($a)),rT=nT,oT=Object.prototype,iT=oT.hasOwnProperty,aT=oT.toString,sT=Qk((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=aT.call(t)),iT.call(e,t)?e[t].push(n):e[t]=[n]}),Zc),uT=sT,lT=us(fv),cT=lT;function fT(e,t){var n={};return t=Zc(t,3),Xh(e,(function(e,r,o){Sh(n,t(e,r,o),e)})),n}var pT=fT;function dT(e,t){var n={};return t=Zc(t,3),Xh(e,(function(e,r,o){Sh(n,r,t(e,r,o))})),n}var hT=dT,yT=AP((function(e,t,n){ik(e,t,n)})),vT=yT;function gT(e){return Dj(e)?void 0:e}var bT=gT,mT=1,_T=2,OT=4,wT=Vp((function(e,t){var n={};if(null==e)return n;var r=!1;t=Aa(t,(function(t){return t=Pc(t,e),r||(r=t.length>1),t})),IO(e,iw(e),n),r&&(n=Ix(n,mT|_T|OT,bT));var o=t.length;while(o--)Bp(n,t[o]);return n})),xT=wT;function jT(e,t,n){var r=-1,o=t.length,i={};while(++r<o){var a=t[r],s=Cc(e,a);n(s,a)&&Ih(i,Pc(a,e),s)}return i}var ST=jT;function ET(e,t){if(null==e)return{};var n=Aa(iw(e),(function(e){return[e]}));return t=Zc(t),ST(e,n,(function(e,n){return t(e,n[0])}))}var PT=ET;function kT(e,t){return PT(e,Bv(Zc(t)))}var TT=kT;function DT(e,t){return ST(e,t,(function(t,n){return zc(e,n)}))}var NT=DT,CT=Vp((function(e,t){return null==e?{}:NT(e,t)})),AT=CT;function MT(e,t,n){t=Pc(t,e);var r=-1,o=t.length;o||(o=1,e=void 0);while(++r<o){var i=null==e?void 0:e[Dc(t[r])];void 0===i&&(r=o,i=n),e=Ir(i)?i.call(e):i}return e}var IT=MT;function RT(e,t,n){return null==e?e:Ih(e,t,n)}var LT=RT;function BT(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Ih(e,t,n,r)}var FT=BT;function zT(e,t,n){var r=Io(e),o=r||Object(hu["a"])(e)||Wu(e);if(t=Zc(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Tr(e)&&Ir(i)?vb(ZO(e)):{}}return(o?uy:Xh)(e,(function(e,r,o){return t(n,e,r,o)})),n}var qT=zT;function $T(e,t){return null==e||Bp(e,t)}var HT=$T;function UT(e,t,n,r){return Ih(e,t,n(Cc(e,t)),r)}var WT=UT;function VT(e,t,n){return null==e?e:WT(e,t,cy(n))}var GT=VT;function XT(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:WT(e,t,cy(n),r)}var YT=XT;function JT(e){return null==e?[]:ov(e,WO(e))}var KT=JT,ZT={assign:LP,assignIn:FP,assignInWith:qP,assignWith:HP,at:WP,create:GP,defaults:KP,defaultsDeep:fk,entries:Ok,entriesIn:xk,extend:FP,extendWith:qP,findKey:Pk,findLastKey:Tk,forIn:Nk,forInRight:Ak,forOwn:Ik,forOwnRight:Lk,functions:qk,functionsIn:Hk,get:Mc,has:Yk,hasIn:zc,invert:rT,invertBy:uT,invoke:cT,keys:ul,keysIn:WO,mapKeys:pT,mapValues:hT,merge:vT,mergeWith:lk,omit:xT,omitBy:TT,pick:AT,pickBy:PT,result:IT,set:LT,setWith:FT,toPairs:Ok,toPairsIn:xk,transform:qT,unset:HT,update:GT,updateWith:YT,values:av,valuesIn:KT};function QT(e,t){return t(e)}var eD=QT,tD=Vp((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Mp(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Mb&&Ur(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:eD,args:[o],thisArg:void 0}),new Ub(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(o)})),nD=tD;function rD(e){var t=Jb(e);return t.__chain__=!0,t}var oD=rD;function iD(){return new Ub(this.value(),this.__chain__)}var aD=iD;function sD(){void 0===this.__values__&&(this.__values__=bE(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}}var uD=sD;function lD(e){var t,n=this;while(n instanceof Nb){var r=Vb(n);r.__index__=0,r.__values__=void 0,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}var cD=lD;function fD(){var e=this.__wrapped__;if(e instanceof Mb){var t=e;return this.__actions__.length&&(t=new Mb(this)),t=t.reverse(),t.__actions__.push({func:eD,args:[ed],thisArg:void 0}),new Ub(t,this.__chain__)}return this.thru(ed)}var pD=fD;function dD(e,t){return t(e),e}var hD=dD;function yD(){return this}var vD=yD;function gD(e,t){var n=e;return n instanceof Mb&&(n=n.value()),Pv(t,(function(e,t){return t.func.apply(t.thisArg,So([e],t.args))}),n)}var bD=gD;function mD(){return bD(this.__wrapped__,this.__actions__)}var _D=mD;function OD(){return oD(this)}var wD=OD,xD={at:nD,chain:oD,commit:aD,lodash:Jb,next:uD,plant:cD,reverse:pD,tap:hD,thru:eD,toIterator:vD,toJSON:_D,value:_D,valueOf:_D,wrapperChain:wD};function jD(e){return function(t){t=Sc(t);var n=wg(t)?dE(t):void 0,r=n?n[0]:t.charAt(0),o=n?mO(n,1).join(""):t.slice(1);return r[e]()+o}}var SD=jD,ED=SD("toUpperCase"),PD=ED;function kD(e){return PD(Sc(e).toLowerCase())}var TD=kD;function DD(e){return function(t){return null==e?void 0:e[t]}}var ND=DD,CD={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},AD=ND(CD),MD=AD,ID=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,RD="\\u0300-\\u036f",LD="\\ufe20-\\ufe2f",BD="\\u20d0-\\u20ff",FD=RD+LD+BD,zD="["+FD+"]",qD=RegExp(zD,"g");function $D(e){return e=Sc(e),e&&e.replace(ID,MD).replace(qD,"")}var HD=$D,UD=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function WD(e){return e.match(UD)||[]}var VD=WD,GD=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function XD(e){return GD.test(e)}var YD=XD,JD="\\ud800-\\udfff",KD="\\u0300-\\u036f",ZD="\\ufe20-\\ufe2f",QD="\\u20d0-\\u20ff",eN=KD+ZD+QD,tN="\\u2700-\\u27bf",nN="a-z\\xdf-\\xf6\\xf8-\\xff",rN="\\xac\\xb1\\xd7\\xf7",oN="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",iN="\\u2000-\\u206f",aN=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sN="A-Z\\xc0-\\xd6\\xd8-\\xde",uN="\\ufe0e\\ufe0f",lN=rN+oN+iN+aN,cN="['’]",fN="["+lN+"]",pN="["+eN+"]",dN="\\d+",hN="["+tN+"]",yN="["+nN+"]",vN="[^"+JD+lN+dN+tN+nN+sN+"]",gN="\\ud83c[\\udffb-\\udfff]",bN="(?:"+pN+"|"+gN+")",mN="[^"+JD+"]",_N="(?:\\ud83c[\\udde6-\\uddff]){2}",ON="[\\ud800-\\udbff][\\udc00-\\udfff]",wN="["+sN+"]",xN="\\u200d",jN="(?:"+yN+"|"+vN+")",SN="(?:"+wN+"|"+vN+")",EN="(?:"+cN+"(?:d|ll|m|re|s|t|ve))?",PN="(?:"+cN+"(?:D|LL|M|RE|S|T|VE))?",kN=bN+"?",TN="["+uN+"]?",DN="(?:"+xN+"(?:"+[mN,_N,ON].join("|")+")"+TN+kN+")*",NN="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",CN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",AN=TN+kN+DN,MN="(?:"+[hN,_N,ON].join("|")+")"+AN,IN=RegExp([wN+"?"+yN+"+"+EN+"(?="+[fN,wN,"$"].join("|")+")",SN+"+"+PN+"(?="+[fN,wN+jN,"$"].join("|")+")",wN+"?"+jN+"+"+EN,wN+"+"+PN,CN,NN,dN,MN].join("|"),"g");function RN(e){return e.match(IN)||[]}var LN=RN;function BN(e,t,n){return e=Sc(e),t=n?void 0:t,void 0===t?YD(e)?LN(e):VD(e):e.match(t)||[]}var FN=BN,zN="['’]",qN=RegExp(zN,"g");function $N(e){return function(t){return Pv(FN(HD(t).replace(qN,"")),e,"")}}var HN=$N,UN=HN((function(e,t,n){return t=t.toLowerCase(),e+(n?TD(t):t)})),WN=UN;function VN(e,t,n){e=Sc(e),t=xc(t);var r=e.length;n=void 0===n?r:gf(go(n),0,r);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}var GN=VN,XN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YN=ND(XN),JN=YN,KN=/[&<>"']/g,ZN=RegExp(KN.source);function QN(e){return e=Sc(e),e&&ZN.test(e)?e.replace(KN,JN):e}var eC=QN,tC=/[\\^$.*+?()[\]{}|]/g,nC=RegExp(tC.source);function rC(e){return e=Sc(e),e&&nC.test(e)?e.replace(tC,"\\$&"):e}var oC=rC,iC=HN((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),aC=iC,sC=HN((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),uC=sC,lC=SD("toLowerCase"),cC=lC,fC=9007199254740991,pC=Math.floor;function dC(e,t){var n="";if(!e||t<1||t>fC)return n;do{t%2&&(n+=e),t=pC(t/2),t&&(e+=e)}while(t);return n}var hC=dC,yC=Math.ceil;function vC(e,t){t=void 0===t?" ":xc(t);var n=t.length;if(n<2)return n?hC(t,e):t;var r=hC(t,yC(e/Vg(t)));return wg(t)?mO(dE(r),0,e).join(""):r.slice(0,e)}var gC=vC,bC=Math.ceil,mC=Math.floor;function _C(e,t,n){e=Sc(e),t=go(t);var r=t?Vg(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return gC(mC(o),n)+e+gC(bC(o),n)}var OC=_C;function wC(e,t,n){e=Sc(e),t=go(t);var r=t?Vg(e):0;return t&&r<t?e+gC(t-r,n):e}var xC=wC;function jC(e,t,n){e=Sc(e),t=go(t);var r=t?Vg(e):0;return t&&r<t?gC(t-r,n)+e:e}var SC=jC,EC=/^\s+/,PC=cr["a"].parseInt;function kC(e,t,n){return n||null==t?t=0:t&&(t=+t),PC(Sc(e).replace(EC,""),t||0)}var TC=kC;function DC(e,t,n){return t=(n?Vr(e,t,n):void 0===t)?1:go(t),hC(Sc(e),t)}var NC=DC;function CC(){var e=arguments,t=Sc(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var AC=CC,MC=HN((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),IC=MC,RC=4294967295;function LC(e,t,n){return n&&"number"!=typeof n&&Vr(e,t,n)&&(t=n=void 0),n=void 0===n?RC:n>>>0,n?(e=Sc(e),e&&("string"==typeof t||null!=t&&!wS(t))&&(t=xc(t),!t&&wg(e))?mO(dE(e),0,n):e.split(t,n)):[]}var BC=LC,FC=HN((function(e,t,n){return e+(n?" ":"")+PD(t)})),zC=FC;function qC(e,t,n){return e=Sc(e),n=null==n?0:gf(go(n),0,e.length),t=xc(t),e.slice(n,n+t.length)==t}var $C=qC,HC=us((function(e,t){try{return Ua(e,void 0,t)}catch(n){return Vj(n)?n:new Error(n)}})),UC=HC,WC=Object.prototype,VC=WC.hasOwnProperty;function GC(e,t,n,r){return void 0===e||lr(e,WC[n])&&!VC.call(r,n)?t:e}var XC=GC,YC={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function JC(e){return"\\"+YC[e]}var KC=JC,ZC=/<%=([\s\S]+?)%>/g,QC=ZC,eA=/<%-([\s\S]+?)%>/g,tA=eA,nA=/<%([\s\S]+?)%>/g,rA=nA,oA={escape:tA,evaluate:rA,interpolate:QC,variable:"",imports:{_:{escape:eC}}},iA=oA,aA="Invalid `variable` option passed into `_.template`",sA=/\b__p \+= '';/g,uA=/\b(__p \+=) '' \+/g,lA=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cA=/[()=,{}\[\]\/\s]/,fA=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pA=/($^)/,dA=/['\n\r\u2028\u2029\\]/g,hA=Object.prototype,yA=hA.hasOwnProperty;function vA(e,t,n){var r=iA.imports._.templateSettings||iA;n&&Vr(e,t,n)&&(t=void 0),e=Sc(e),t=qP({},t,r,XC);var o,i,a=qP({},t.imports,r.imports,XC),s=ul(a),u=ov(a,s),l=0,c=t.interpolate||pA,f="__p += '",p=RegExp((t.escape||pA).source+"|"+c.source+"|"+(c===QC?fA:pA).source+"|"+(t.evaluate||pA).source+"|$","g"),d=yA.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(p,(function(t,n,r,a,s,u){return r||(r=a),f+=e.slice(l,u).replace(dA,KC),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(i=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),f+="';\n";var h=yA.call(t,"variable")&&t.variable;if(h){if(cA.test(h))throw new Error(aA)}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(sA,""):f).replace(uA,"$1").replace(lA,"$1;"),f="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=UC((function(){return Function(s,d+"return "+f).apply(void 0,u)}));if(y.source=f,Vj(y))throw y;return y}var gA=vA;function bA(e){return Sc(e).toLowerCase()}var mA=bA;function _A(e){return Sc(e).toUpperCase()}var OA=_A;function wA(e,t){var n=e.length;while(n--&&Pa(t,e[n],0)>-1);return n}var xA=wA;function jA(e,t){var n=-1,r=e.length;while(++n<r&&Pa(t,e[n],0)>-1);return n}var SA=jA;function EA(e,t,n){if(e=Sc(e),e&&(n||void 0===t))return Zr(e);if(!e||!(t=xc(t)))return e;var r=dE(e),o=dE(t),i=SA(r,o),a=xA(r,o)+1;return mO(r,i,a).join("")}var PA=EA;function kA(e,t,n){if(e=Sc(e),e&&(n||void 0===t))return e.slice(0,Yr(e)+1);if(!e||!(t=xc(t)))return e;var r=dE(e),o=xA(r,dE(t))+1;return mO(r,0,o).join("")}var TA=kA,DA=/^\s+/;function NA(e,t,n){if(e=Sc(e),e&&(n||void 0===t))return e.replace(DA,"");if(!e||!(t=xc(t)))return e;var r=dE(e),o=SA(r,dE(t));return mO(r,o).join("")}var CA=NA,AA=30,MA="...",IA=/\w*$/;function RA(e,t){var n=AA,r=MA;if(Tr(t)){var o="separator"in t?t.separator:o;n="length"in t?go(t.length):n,r="omission"in t?xc(t.omission):r}e=Sc(e);var i=e.length;if(wg(e)){var a=dE(e);i=a.length}if(n>=i)return e;var s=n-Vg(r);if(s<1)return r;var u=a?mO(a,0,s).join(""):e.slice(0,s);if(void 0===o)return u+r;if(a&&(s+=u.length-s),wS(o)){if(e.slice(s).search(o)){var l,c=u;o.global||(o=RegExp(o.source,Sc(IA.exec(o))+"g")),o.lastIndex=0;while(l=o.exec(c))var f=l.index;u=u.slice(0,void 0===f?s:f)}}else if(e.indexOf(xc(o),s)!=s){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+r}var LA=RA,BA={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},FA=ND(BA),zA=FA,qA=/&(?:amp|lt|gt|quot|#39);/g,$A=RegExp(qA.source);function HA(e){return e=Sc(e),e&&$A.test(e)?e.replace(qA,zA):e}var UA=HA,WA=HN((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),VA=WA,GA={camelCase:WN,capitalize:TD,deburr:HD,endsWith:GN,escape:eC,escapeRegExp:oC,kebabCase:aC,lowerCase:uC,lowerFirst:cC,pad:OC,padEnd:xC,padStart:SC,parseInt:TC,repeat:NC,replace:AC,snakeCase:IC,split:BC,startCase:zC,startsWith:$C,template:gA,templateSettings:iA,toLower:mA,toUpper:OA,trim:PA,trimEnd:TA,trimStart:CA,truncate:LA,unescape:UA,upperCase:VA,upperFirst:PD,words:FN},XA=Vp((function(e,t){return uy(t,(function(t){t=Dc(t),Sh(e,t,E_(e[t],e))})),e})),YA=XA,JA="Expected a function";function KA(e){var t=null==e?0:e.length,n=Zc;return e=t?Aa(e,(function(e){if("function"!=typeof e[1])throw new TypeError(JA);return[n(e[0]),e[1]]})):[],us((function(n){var r=-1;while(++r<t){var o=e[r];if(Ua(o[0],this,n))return Ua(o[1],this,n)}}))}var ZA=KA;function QA(e){var t=ul(e);return function(n){return Kx(n,e,t)}}var eM=QA,tM=1;function nM(e){return eM(Ix(e,tM))}var rM=nM;function oM(e,t){return null==e||e!==e?t:e}var iM=oM,aM="Expected a function",sM=8,uM=32,lM=128,cM=256;function fM(e){return Vp((function(t){var n=t.length,r=n,o=Ub.prototype.thru;e&&t.reverse();while(r--){var i=t[r];if("function"!=typeof i)throw new TypeError(aM);if(o&&!a&&"wrapper"==$b(i))var a=new Ub([],!0)}r=a?r:n;while(++r<n){i=t[r];var s=$b(i),u="wrapper"==s?Rb(i):void 0;a=u&&Zb(u[0])&&u[1]==(lM|sM|uM|cM)&&!u[4].length&&1==u[9]?a[$b(u[0])].apply(a,u[3]):1==i.length&&Zb(i)?a[s]():a.thru(i)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Io(r))return a.plant(r).value();var o=0,i=n?t[o].apply(this,e):r;while(++o<n)i=t[o].call(this,i);return i}}))}var pM=fM,dM=pM(),hM=dM,yM=pM(!0),vM=yM,gM=1;function bM(e){return Zc("function"==typeof e?e:Ix(e,gM))}var mM=bM,_M=1;function OM(e){return oc(Ix(e,_M))}var wM=OM,xM=1;function jM(e,t){return Uc(e,Ix(t,xM))}var SM=jM,EM=us((function(e,t){return function(n){return fv(n,e,t)}})),PM=EM,kM=us((function(e,t){return function(n){return fv(e,n,t)}})),TM=kM;function DM(e,t,n){var r=ul(t),o=Fk(t,r),i=!(Tr(n)&&"chain"in n)||!!n.chain,a=Ir(e);return uy(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=$o(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,So([this.value()],arguments))})})),e}var NM=DM;function CM(e){return e=go(e),us((function(t){return vp(t,e)}))}var AM=CM;function MM(e){return Vp((function(t){return t=Aa(t,Ia(Zc)),us((function(n){var r=this;return e(t,(function(e){return Ua(e,r,n)}))}))}))}var IM=MM,RM=IM(Aa),LM=RM,BM=IM(jy),FM=BM,zM=IM(Ps),qM=zM;function $M(e){return function(t){return null==e?void 0:Cc(e,t)}}var HM=$M,UM=Math.ceil,WM=Math.max;function VM(e,t,n,r){var o=-1,i=WM(UM((t-e)/(n||1)),0),a=Array(i);while(i--)a[r?i:++o]=e,e+=n;return a}var GM=VM;function XM(e){return function(t,n,r){return r&&"number"!=typeof r&&Vr(t,n,r)&&(n=r=void 0),t=yo(t),void 0===n?(n=t,t=0):n=yo(n),r=void 0===r?t<n?1:-1:yo(r),GM(t,n,r,e)}}var YM=XM,JM=YM(),KM=JM,ZM=YM(!0),QM=ZM;function eI(){return{}}var tI=eI;function nI(){return""}var rI=nI;function oI(){return!0}var iI=oI,aI=9007199254740991,sI=4294967295,uI=Math.min;function lI(e,t){if(e=go(e),e<1||e>aI)return[];var n=sI,r=uI(e,sI);t=cy(t),e-=sI;var o=du(r,t);while(++n<e)t(n);return o}var cI=lI;function fI(e){return Io(e)?Aa(e,Dc):ro(e)?[e]:$o(bc(Sc(e)))}var pI=fI,dI=0;function hI(e){var t=++dI;return Sc(e)+t}var yI=hI,vI={attempt:UC,bindAll:YA,cond:ZA,conforms:rM,constant:Ya,defaultTo:iM,flow:hM,flowRight:vM,identity:$a,iteratee:mM,matches:wM,matchesProperty:SM,method:PM,methodOf:TM,mixin:NM,noop:$d,nthArg:AM,over:LM,overEvery:FM,overSome:qM,property:Jc,propertyOf:HM,range:KM,rangeRight:QM,stubArray:au,stubFalse:sS["a"],stubObject:tI,stubString:rI,stubTrue:iI,times:cI,toPath:pI,uniqueId:yI};function gI(){var e=new Mb(this.__wrapped__);return e.__actions__=$o(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=$o(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=$o(this.__views__),e}var bI=gI;function mI(){if(this.__filtered__){var e=new Mb(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}var _I=mI,OI=Math.max,wI=Math.min;function xI(e,t,n){var r=-1,o=n.length;while(++r<o){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=wI(t,e+a);break;case"takeRight":e=OI(e,t-a);break}}return{start:e,end:t}}var jI=xI,SI=1,EI=2,PI=Math.min;function kI(){var e=this.__wrapped__.value(),t=this.__dir__,n=Io(e),r=t<0,o=n?e.length:0,i=jI(0,o,this.__views__),a=i.start,s=i.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,p=0,d=PI(u,this.__takeCount__);if(!n||!r&&o==u&&d==u)return bD(e,this.__actions__);var h=[];e:while(u--&&p<d){l+=t;var y=-1,v=e[l];while(++y<f){var g=c[y],b=g.iteratee,m=g.type,_=b(v);if(m==EI)v=_;else if(!_){if(m==SI)continue e;break e}}h[p++]=v}return h}var TI=kI,DI="4.17.21",NI=2,CI=1,AI=3,MI=4294967295,II=Array.prototype,RI=Object.prototype,LI=RI.hasOwnProperty,BI=pr?pr.iterator:void 0,FI=Math.max,zI=Math.min,qI=function(e){return function(t,n,r){if(null==r){var o=Tr(n),i=o&&ul(n),a=i&&i.length&&Fk(n,i);(a?a.length:o)||(r=n,n=t,t=this)}return e(t,n,r)}}(NM);
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Jb.after=NO.after,Jb.ary=NO.ary,Jb.assign=ZT.assign,Jb.assignIn=ZT.assignIn,Jb.assignInWith=ZT.assignInWith,Jb.assignWith=ZT.assignWith,Jb.at=ZT.at,Jb.before=NO.before,Jb.bind=NO.bind,Jb.bindAll=vI.bindAll,Jb.bindKey=NO.bindKey,Jb.castArray=jE.castArray,Jb.chain=xD.chain,Jb.chunk=zh.chunk,Jb.compact=zh.compact,Jb.concat=zh.concat,Jb.cond=vI.cond,Jb.conforms=vI.conforms,Jb.constant=vI.constant,Jb.countBy=rb.countBy,Jb.create=ZT.create,Jb.curry=NO.curry,Jb.curryRight=NO.curryRight,Jb.debounce=NO.debounce,Jb.defaults=ZT.defaults,Jb.defaultsDeep=ZT.defaultsDeep,Jb.defer=NO.defer,Jb.delay=NO.delay,Jb.difference=zh.difference,Jb.differenceBy=zh.differenceBy,Jb.differenceWith=zh.differenceWith,Jb.drop=zh.drop,Jb.dropRight=zh.dropRight,Jb.dropRightWhile=zh.dropRightWhile,Jb.dropWhile=zh.dropWhile,Jb.fill=zh.fill,Jb.filter=rb.filter,Jb.flatMap=rb.flatMap,Jb.flatMapDeep=rb.flatMapDeep,Jb.flatMapDepth=rb.flatMapDepth,Jb.flatten=zh.flatten,Jb.flattenDeep=zh.flattenDeep,Jb.flattenDepth=zh.flattenDepth,Jb.flip=NO.flip,Jb.flow=vI.flow,Jb.flowRight=vI.flowRight,Jb.fromPairs=zh.fromPairs,Jb.functions=ZT.functions,Jb.functionsIn=ZT.functionsIn,Jb.groupBy=rb.groupBy,Jb.initial=zh.initial,Jb.intersection=zh.intersection,Jb.intersectionBy=zh.intersectionBy,Jb.intersectionWith=zh.intersectionWith,Jb.invert=ZT.invert,Jb.invertBy=ZT.invertBy,Jb.invokeMap=rb.invokeMap,Jb.iteratee=vI.iteratee,Jb.keyBy=rb.keyBy,Jb.keys=ul,Jb.keysIn=ZT.keysIn,Jb.map=rb.map,Jb.mapKeys=ZT.mapKeys,Jb.mapValues=ZT.mapValues,Jb.matches=vI.matches,Jb.matchesProperty=vI.matchesProperty,Jb.memoize=NO.memoize,Jb.merge=ZT.merge,Jb.mergeWith=ZT.mergeWith,Jb.method=vI.method,Jb.methodOf=vI.methodOf,Jb.mixin=qI,Jb.negate=Bv,Jb.nthArg=vI.nthArg,Jb.omit=ZT.omit,Jb.omitBy=ZT.omitBy,Jb.once=NO.once,Jb.orderBy=rb.orderBy,Jb.over=vI.over,Jb.overArgs=NO.overArgs,Jb.overEvery=vI.overEvery,Jb.overSome=vI.overSome,Jb.partial=NO.partial,Jb.partialRight=NO.partialRight,Jb.partition=rb.partition,Jb.pick=ZT.pick,Jb.pickBy=ZT.pickBy,Jb.property=vI.property,Jb.propertyOf=vI.propertyOf,Jb.pull=zh.pull,Jb.pullAll=zh.pullAll,Jb.pullAllBy=zh.pullAllBy,Jb.pullAllWith=zh.pullAllWith,Jb.pullAt=zh.pullAt,Jb.range=vI.range,Jb.rangeRight=vI.rangeRight,Jb.rearg=NO.rearg,Jb.reject=rb.reject,Jb.remove=zh.remove,Jb.rest=NO.rest,Jb.reverse=zh.reverse,Jb.sampleSize=rb.sampleSize,Jb.set=ZT.set,Jb.setWith=ZT.setWith,Jb.shuffle=rb.shuffle,Jb.slice=zh.slice,Jb.sortBy=rb.sortBy,Jb.sortedUniq=zh.sortedUniq,Jb.sortedUniqBy=zh.sortedUniqBy,Jb.split=GA.split,Jb.spread=NO.spread,Jb.tail=zh.tail,Jb.take=zh.take,Jb.takeRight=zh.takeRight,Jb.takeRightWhile=zh.takeRightWhile,Jb.takeWhile=zh.takeWhile,Jb.tap=xD.tap,Jb.throttle=NO.throttle,Jb.thru=eD,Jb.toArray=jE.toArray,Jb.toPairs=ZT.toPairs,Jb.toPairsIn=ZT.toPairsIn,Jb.toPath=vI.toPath,Jb.toPlainObject=jE.toPlainObject,Jb.transform=ZT.transform,Jb.unary=NO.unary,Jb.union=zh.union,Jb.unionBy=zh.unionBy,Jb.unionWith=zh.unionWith,Jb.uniq=zh.uniq,Jb.uniqBy=zh.uniqBy,Jb.uniqWith=zh.uniqWith,Jb.unset=ZT.unset,Jb.unzip=zh.unzip,Jb.unzipWith=zh.unzipWith,Jb.update=ZT.update,Jb.updateWith=ZT.updateWith,Jb.values=ZT.values,Jb.valuesIn=ZT.valuesIn,Jb.without=zh.without,Jb.words=GA.words,Jb.wrap=NO.wrap,Jb.xor=zh.xor,Jb.xorBy=zh.xorBy,Jb.xorWith=zh.xorWith,Jb.zip=zh.zip,Jb.zipObject=zh.zipObject,Jb.zipObjectDeep=zh.zipObjectDeep,Jb.zipWith=zh.zipWith,Jb.entries=ZT.toPairs,Jb.entriesIn=ZT.toPairsIn,Jb.extend=ZT.assignIn,Jb.extendWith=ZT.assignInWith,qI(Jb,Jb),Jb.add=gP.add,Jb.attempt=vI.attempt,Jb.camelCase=GA.camelCase,Jb.capitalize=GA.capitalize,Jb.ceil=gP.ceil,Jb.clamp=NP.clamp,Jb.clone=jE.clone,Jb.cloneDeep=jE.cloneDeep,Jb.cloneDeepWith=jE.cloneDeepWith,Jb.cloneWith=jE.cloneWith,Jb.conformsTo=jE.conformsTo,Jb.deburr=GA.deburr,Jb.defaultTo=vI.defaultTo,Jb.divide=gP.divide,Jb.endsWith=GA.endsWith,Jb.eq=jE.eq,Jb.escape=GA.escape,Jb.escapeRegExp=GA.escapeRegExp,Jb.every=rb.every,Jb.find=rb.find,Jb.findIndex=zh.findIndex,Jb.findKey=ZT.findKey,Jb.findLast=rb.findLast,Jb.findLastIndex=zh.findLastIndex,Jb.findLastKey=ZT.findLastKey,Jb.floor=gP.floor,Jb.forEach=rb.forEach,Jb.forEachRight=rb.forEachRight,Jb.forIn=ZT.forIn,Jb.forInRight=ZT.forInRight,Jb.forOwn=ZT.forOwn,Jb.forOwnRight=ZT.forOwnRight,Jb.get=ZT.get,Jb.gt=jE.gt,Jb.gte=jE.gte,Jb.has=ZT.has,Jb.hasIn=ZT.hasIn,Jb.head=zh.head,Jb.identity=$a,Jb.includes=rb.includes,Jb.indexOf=zh.indexOf,Jb.inRange=NP.inRange,Jb.invoke=ZT.invoke,Jb.isArguments=jE.isArguments,Jb.isArray=Io,Jb.isArrayBuffer=jE.isArrayBuffer,Jb.isArrayLike=jE.isArrayLike,Jb.isArrayLikeObject=jE.isArrayLikeObject,Jb.isBoolean=jE.isBoolean,Jb.isBuffer=jE.isBuffer,Jb.isDate=jE.isDate,Jb.isElement=jE.isElement,Jb.isEmpty=jE.isEmpty,Jb.isEqual=jE.isEqual,Jb.isEqualWith=jE.isEqualWith,Jb.isError=jE.isError,Jb.isFinite=jE.isFinite,Jb.isFunction=jE.isFunction,Jb.isInteger=jE.isInteger,Jb.isLength=jE.isLength,Jb.isMap=jE.isMap,Jb.isMatch=jE.isMatch,Jb.isMatchWith=jE.isMatchWith,Jb.isNaN=jE.isNaN,Jb.isNative=jE.isNative,Jb.isNil=jE.isNil,Jb.isNull=jE.isNull,Jb.isNumber=jE.isNumber,Jb.isObject=Tr,Jb.isObjectLike=jE.isObjectLike,Jb.isPlainObject=jE.isPlainObject,Jb.isRegExp=jE.isRegExp,Jb.isSafeInteger=jE.isSafeInteger,Jb.isSet=jE.isSet,Jb.isString=jE.isString,Jb.isSymbol=jE.isSymbol,Jb.isTypedArray=jE.isTypedArray,Jb.isUndefined=jE.isUndefined,Jb.isWeakMap=jE.isWeakMap,Jb.isWeakSet=jE.isWeakSet,Jb.join=zh.join,Jb.kebabCase=GA.kebabCase,Jb.last=ef,Jb.lastIndexOf=zh.lastIndexOf,Jb.lowerCase=GA.lowerCase,Jb.lowerFirst=GA.lowerFirst,Jb.lt=jE.lt,Jb.lte=jE.lte,Jb.max=gP.max,Jb.maxBy=gP.maxBy,Jb.mean=gP.mean,Jb.meanBy=gP.meanBy,Jb.min=gP.min,Jb.minBy=gP.minBy,Jb.stubArray=vI.stubArray,Jb.stubFalse=vI.stubFalse,Jb.stubObject=vI.stubObject,Jb.stubString=vI.stubString,Jb.stubTrue=vI.stubTrue,Jb.multiply=gP.multiply,Jb.nth=zh.nth,Jb.noop=vI.noop,Jb.now=ab.now,Jb.pad=GA.pad,Jb.padEnd=GA.padEnd,Jb.padStart=GA.padStart,Jb.parseInt=GA.parseInt,Jb.random=NP.random,Jb.reduce=rb.reduce,Jb.reduceRight=rb.reduceRight,Jb.repeat=GA.repeat,Jb.replace=GA.replace,Jb.result=ZT.result,Jb.round=gP.round,Jb.sample=rb.sample,Jb.size=rb.size,Jb.snakeCase=GA.snakeCase,Jb.some=rb.some,Jb.sortedIndex=zh.sortedIndex,Jb.sortedIndexBy=zh.sortedIndexBy,Jb.sortedIndexOf=zh.sortedIndexOf,Jb.sortedLastIndex=zh.sortedLastIndex,Jb.sortedLastIndexBy=zh.sortedLastIndexBy,Jb.sortedLastIndexOf=zh.sortedLastIndexOf,Jb.startCase=GA.startCase,Jb.startsWith=GA.startsWith,Jb.subtract=gP.subtract,Jb.sum=gP.sum,Jb.sumBy=gP.sumBy,Jb.template=GA.template,Jb.times=vI.times,Jb.toFinite=jE.toFinite,Jb.toInteger=go,Jb.toLength=jE.toLength,Jb.toLower=GA.toLower,Jb.toNumber=jE.toNumber,Jb.toSafeInteger=jE.toSafeInteger,Jb.toString=jE.toString,Jb.toUpper=GA.toUpper,Jb.trim=GA.trim,Jb.trimEnd=GA.trimEnd,Jb.trimStart=GA.trimStart,Jb.truncate=GA.truncate,Jb.unescape=GA.unescape,Jb.uniqueId=vI.uniqueId,Jb.upperCase=GA.upperCase,Jb.upperFirst=GA.upperFirst,Jb.each=rb.forEach,Jb.eachRight=rb.forEachRight,Jb.first=zh.head,qI(Jb,function(){var e={};return Xh(Jb,(function(t,n){LI.call(Jb.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Jb.VERSION=DI,(Jb.templateSettings=GA.templateSettings).imports._=Jb,uy(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Jb[e].placeholder=Jb})),uy(["drop","take"],(function(e,t){Mb.prototype[e]=function(n){n=void 0===n?1:FI(go(n),0);var r=this.__filtered__&&!t?new Mb(this):this.clone();return r.__filtered__?r.__takeCount__=zI(n,r.__takeCount__):r.__views__.push({size:zI(n,MI),type:e+(r.__dir__<0?"Right":"")}),r},Mb.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),uy(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==CI||n==AI;Mb.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Zc(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),uy(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Mb.prototype[e]=function(){return this[n](1).value()[0]}})),uy(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Mb.prototype[e]=function(){return this.__filtered__?new Mb(this):this[n](1)}})),Mb.prototype.compact=function(){return this.filter($a)},Mb.prototype.find=function(e){return this.filter(e).head()},Mb.prototype.findLast=function(e){return this.reverse().find(e)},Mb.prototype.invokeMap=us((function(e,t){return"function"==typeof e?new Mb(this):this.map((function(n){return fv(n,e,t)}))})),Mb.prototype.reject=function(e){return this.filter(Bv(Zc(e)))},Mb.prototype.slice=function(e,t){e=go(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Mb(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(t=go(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Mb.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Mb.prototype.toArray=function(){return this.take(MI)},Xh(Mb.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Jb[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(Jb.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Mb,u=a[0],l=s||Io(t),c=function(e){var t=o.apply(Jb,So([e],a));return r&&f?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=i&&!f,h=s&&!p;if(!i&&l){t=h?t:new Mb(this);var y=e.apply(t,a);return y.__actions__.push({func:eD,args:[c],thisArg:void 0}),new Ub(y,f)}return d&&h?e.apply(this,a):(y=this.thru(c),d?r?y.value()[0]:y.value():y)})})),uy(["pop","push","shift","sort","splice","unshift"],(function(e){var t=II[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Jb.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Io(o)?o:[],e)}return this[n]((function(n){return t.apply(Io(n)?n:[],e)}))}})),Xh(Mb.prototype,(function(e,t){var n=Jb[t];if(n){var r=n.name+"";LI.call(Bb,r)||(Bb[r]=[]),Bb[r].push({name:t,func:n})}})),Bb[Wm(void 0,NI).name]=[{name:"wrapper",func:void 0}],Mb.prototype.clone=bI,Mb.prototype.reverse=_I,Mb.prototype.value=TI,Jb.prototype.at=xD.at,Jb.prototype.chain=xD.wrapperChain,Jb.prototype.commit=xD.commit,Jb.prototype.next=xD.next,Jb.prototype.plant=xD.plant,Jb.prototype.reverse=xD.reverse,Jb.prototype.toJSON=Jb.prototype.valueOf=Jb.prototype.value=xD.value,Jb.prototype.first=Jb.prototype.head,BI&&(Jb.prototype[BI]=xD.toIterator);var $I=Jb,HI={width:40,height:40},UI={width:40,height:40},WI={width:100,height:80},VI={width:100,height:80},GI={width:100,height:80},XI={width:100,height:80},YI={width:100,height:80},JI={width:100,height:80},KI={width:100,height:80},ZI={width:100,height:80},QI=function(){};QI.ObjTree=function(){return this},QI.ObjTree.VERSION="0.23",QI.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',QI.ObjTree.prototype.attr_prefix="-",QI.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e),t=n.documentElement);if(t){var o=this.parseDOM(t);return o}},QI.ObjTree.prototype.parseHTTP=function(e,t,n){var r,o={};for(var i in t)o[i]=t[i];if(o.method||("undefined"===typeof o.postBody&&"undefined"===typeof o.postbody&&"undefined"===typeof o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,s=n,u=o.onComplete;o.onComplete=function(e){var t;e&&e.responseXML&&e.responseXML.documentElement&&(t=a.parseDOM(e.responseXML.documentElement)),s(t,e),u&&u(e)}}else o.asynchronous=!1;if("undefined"!==typeof HTTP&&HTTP.Request){o.uri=e;var l=new HTTP.Request(o);l&&(r=l.transport)}else if("undefined"!==typeof Ajax&&Ajax.Request){l=new Ajax.Request(e,o);l&&(r=l.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},QI.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),11!==e.nodeType){var r={};r[e.nodeName]=n,n=r}return n}},QI.ObjTree.prototype.parseElement=function(e){if(7!==e.nodeType){if(3===e.nodeType||4===e.nodeType||8===e.nodeType){var t=e.nodeValue.match(/[^\x00-\x20]/);if(null==t)return;return e.nodeValue}var n=null,r={};if(e.attributes&&e.attributes.length){n={};for(var o=0;o<e.attributes.length;o++){var i=e.attributes[o].nodeName;if("string"===typeof i){var a=e.attributes[o].nodeValue;try{a=JSON.parse(e.attributes[o].nodeValue.replace(/'/g,'"'))}catch(l){a=e.attributes[o].nodeValue}null!==a&&void 0!==a&&(i=this.attr_prefix+i,"undefined"===typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(e.childNodes&&e.childNodes.length){var s=!0;n&&(s=!1);for(o=0;o<e.childNodes.length&&s;o++){var u=e.childNodes[o].nodeType;3!==u&&4!==u&&8!==u&&(s=!1)}if(s){n||(n="");for(o=0;o<e.childNodes.length;o++)n+=e.childNodes[o].nodeValue}else{n||(n={});for(o=0;o<e.childNodes.length;o++){i=e.childNodes[o].nodeName;if("string"===typeof i){a=this.parseElement(e.childNodes[o]);a&&("undefined"===typeof r[i]&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}else null===n&&(n={});return n}},QI.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(1===n&&(e[t]=[]),e[t][e[t].length]=r):1===n?e[t]=r:2===n?e[t]=[e[t],r]:e[t][e[t].length]=r},QI.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},QI.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var o in t)if(null===t||void 0===t?void 0:t.hasOwnProperty(o)){var i=t[o];o.charAt(0)!==this.attr_prefix?"undefined"===typeof i||null==i?n[n.length]="<"+o+" />":"object"===typeof i&&i.constructor===Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"===typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),s=n.join("");return"undefined"===typeof e||null==e||(s=n.length>0?s.match(/\n/)?"<"+e+a+">\n"+s+"</"+e+">\n":"<"+e+a+">"+s+"</"+e+">\n":"<"+e+a+" />\n"),s},QI.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r];"undefined"===typeof o||null==o?n[n.length]="<"+e+" />":"object"===typeof o&&o.constructor===Array?n[n.length]=this.array_to_xml(e,o):n[n.length]="object"===typeof o?this.hash_to_xml(e,o):this.scalar_to_xml(e,o)}return n.join("")},QI.ObjTree.prototype.scalar_to_xml=function(e,t){return"#text"===e?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+">\n"},QI.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var eR=function(e){return(new QI.ObjTree).parseXML(e)};function tR(e){return Object.prototype.toString.call(e)}function nR(e){return"  ".repeat(e)}function rR(e){return"[object Object]"===tR(e)?Object.keys(e).reduce((function(t,n){var r=n;return"-"===n.charAt(0)&&(r=n.substring(1)),t[r]=rR(e[n]),t}),{}):Array.isArray(e)?e.map((function(e){return rR(e)})):e}function oR(e){var t=e;try{"string"!==typeof t&&(t=JSON.parse(e))}catch(n){t=JSON.stringify(rR(e)).replace(/"/g,"'")}return t}var iR="\t\n";function aR(e,t,n){var r=nR(n),o="",i=iR+r;if("-json"===t)return"";if("#text"===t)return i+e;if("#cdata-section"===t)return i+"<![CDATA["+e+"]]>";if("#comment"===t)return i+"\x3c!--"+e+"--\x3e";if("-"===(""+t).charAt(0))return" "+t.substring(1)+'="'+oR(e)+'"';if(Array.isArray(e))o+=e.map((function(e){return aR(e,t,n+1)})).join("");else if("[object Object]"===tR(e)){var a=Object.keys(e),s="",u=e["-json"]?iR+nR(n+1)+e["-json"]:"";o+=(0===n?"":i)+"<"+t,a.forEach((function(t){"-"===t.charAt(0)?s+=aR(e[t],t,n+1):u+=aR(e[t],t,n+1)})),o+=s+(""!==u?">"+u+i+"</"+t+">":" />")}else o+=i+"<"+t+">"+e.toString()+"</"+t+">";return o}function sR(e){var t="";for(var n in e)t+=aR(e[n],n,0);return t}var uR,lR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cR=function(){return cR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cR.apply(this,arguments)},fR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},pR=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dR=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},hR=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dR(arguments[t]));return e};(function(e){e["START"]="bpmn:startEvent",e["END"]="bpmn:endEvent",e["INTERMEDIATE_CATCH"]="bpmn:intermediateCatchEvent",e["INTERMEDIATE_THROW"]="bpmn:intermediateThrowEvent",e["BOUNDARY"]="bpmn:boundaryEvent",e["PARALLEL_GATEWAY"]="bpmn:parallelGateway",e["INCLUSIVE_GATEWAY"]="bpmn:inclusiveGateway",e["EXCLUSIVE_GATEWAY"]="bpmn:exclusiveGateway",e["USER"]="bpmn:userTask",e["SYSTEM"]="bpmn:serviceTask",e["FLOW"]="bpmn:sequenceFlow",e["SUBPROCESS"]="bpmn:subProcess"})(uR||(uR={}));var yR=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],vR=["properties","startPoint","endPoint","pointsList"],gR={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},bR=function(e,t){var n=Object.keys(t||{});return n.forEach((function(n){if(e[n]){var r=t[n],o=r.in,i=r.out;o&&(e[n].in=o),i&&(e[n].out=i)}else e[n]=t[n]})),e},mR={"bpmn:startEvent":{out:function(e){var t,n,r=e.properties;return(null===(n=null===(t=mR[r.definitionType])||void 0===t?void 0:t.out)||void 0===n?void 0:n.call(t,e))||{}}},"bpmn:intermediateCatchEvent":{out:function(e){var t,n,r=e.properties;return(null===(n=null===(t=mR[r.definitionType])||void 0===t?void 0:t.out)||void 0===n?void 0:n.call(t,e))||{}}},"bpmn:intermediateThrowEvent":{out:function(e){var t,n,r=e.properties;return(null===(n=null===(t=mR[r.definitionType])||void 0===t?void 0:t.out)||void 0===n?void 0:n.call(t,e))||{}}},"bpmn:boundaryEvent":{out:function(e){var t,n,r=e.properties;return(null===(n=null===(t=mR[r.definitionType])||void 0===t?void 0:t.out)||void 0===n?void 0:n.call(t,e))||{}}},"bpmn:sequenceFlow":{out:function(e){var t=e.properties,n=t.expressionType,r=t.condition;return r?"cdata"===n?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+r+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+r+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(e){var t=e.properties,n=t.timerType,r=t.timerValue,o=t.definitionId,i=function(){return"<bpmn:"+n+' xsi:type="bpmn:tFormalExpression">'+r+"</bpmn:"+n+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(n&&r?">"+i()+"</bpmn:timerEventDefinition>":"/>")}},in:function(e,t){var n,r,o,i,a=e,s=t["-id"],u="",l="";try{for(var c=pR(Object.keys(t)),f=c.next();!f.done;f=c.next()){var p=f.value;p.includes("bpmn:")&&(o=dR(p.split(":"),2),u=o[1],l=null===(i=t[p])||void 0===i?void 0:i["#text"])}}catch(d){n={error:d}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{"-definitionId":s,"-definitionType":a,"-timerType":u,"-timerValue":l}}},"bpmn:conditionExpression":{in:function(e,t){var n,r="",o="";return t["#cdata-section"]?(o="cdata",r=(null===(n=/^\$\{(.*)\}$/g.exec(t["#cdata-section"]))||void 0===n?void 0:n[1])||""):t["#text"]&&(o="normal",r=t["#text"]),{"-condition":r,"-expressionType":o}}}};function _R(e){var t=null!==e&&void 0!==e?e:{},n=t.retainedAttrsFields,r=t.excludeFields,o=t.transformer,i=new Set(hR(vR,n||[])),a={in:new Set(hR(gR.in,(null===r||void 0===r?void 0:r.in)||[])),out:new Set(hR(gR.out,(null===r||void 0===r?void 0:r.out)||[]))};return mR=bR(mR,o),function(e){var t=e.nodes,n=e.edges;function r(e,o){var s,u,l;if(1!==(null===e||void 0===e?void 0:e.flag)){var c;if((c=mR[e.type])&&c.out){var f=c.out(e),p=Object.keys(f);p.length>0&&p.forEach((function(t){e[t]=f[t]}))}(null===e||void 0===e?void 0:e.children)&&(e.children=e.children.map((function(e){var r=t.find((function(t){return t.id===e}))||n.find((function(t){return t.id===e}));return r||{}})));var d={};if("string"===typeof e)return e;if(Array.isArray(e))return e.map((function(e){return r(e,"")})).filter((function(e){return void 0!=e}));try{for(var h=pR(Object.entries(e)),y=h.next();!y.done;y=h.next()){var v=dR(y.value,2),g=v[0],b=v[1];if(1===(null===(l=b)||void 0===l?void 0:l["flag"]))return;var m=[o,g].filter((function(e){return e})).join(".");a.out.has(m)||("object"!==typeof b?0===g.indexOf("-")||["#text","#cdata-section","#comment"].includes(g)?d[g]=b:d["-"+g]=b:i.has(m)?d["-"+g]=r(b,m):d[g]=r(b,m))}}catch(_){s={error:_}}finally{try{y&&!y.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}return d}}return r(e,"")}}function OR(e){var t,n,r={};try{for(var o=pR(Object.entries(e)),i=o.next();!i.done;i=o.next()){var a=dR(i.value,2),s=a[0],u=a[1];0===s.indexOf("-")?r[s.substring(1)]=rR(u):"string"===typeof u?r[s]=u:"[object Object]"===Object.prototype.toString.call(u)?r[s]=OR(u):Array.isArray(u)?r[s]=u.map((function(e){return OR(e)})):r[s]=u}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function wR(e,t,n){var r,o=new Map,i=_R(n)(t);i.nodes.forEach((function(t){var n=t["-id"],r=t["-type"],i=t.text,a=t.children,s=fR(t,["-id","-type","text","children"]),u={"-id":n};(null===i||void 0===i?void 0:i["-value"])&&(u["-name"]=i["-value"]),s["-json"]&&(u["-json"]=s["-json"]),s["-properties"]&&Object.assign(u,s["-properties"]),a&&(u.children=a),e[r]||(e[r]=[]),e[r].push(u),o.set(n,u)}));var a=i.edges.map((function(e){var t=e["-id"],n=(e["-type"],e["-sourceNodeId"]),r=e["-targetNodeId"],i=e.text,a=fR(e,["-id","-type","-sourceNodeId","-targetNodeId","text"]),s=o.get(r);s["bpmn:incoming"]||(s["bpmn:incoming"]=[]),s["bpmn:incoming"].push(t);var u={"-id":t,"-sourceRef":n,"-targetRef":r};return(null===i||void 0===i?void 0:i["-value"])&&(u["-name"]=i["-value"]),a["-json"]&&(u["-json"]=a["-json"]),a["-properties"]&&Object.assign(u,a["-properties"]),u}));return t.edges.forEach((function(e){var t=e.sourceNodeId,n=e.id,r=o.get(t);r["bpmn:outgoing"]||(r["bpmn:outgoing"]=[]),r["bpmn:outgoing"].push(n)})),null===(r=e["bpmn:subProcess"])||void 0===r||r.forEach((function(t){var n={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},r=[];t.children.forEach((function(r){var i,a=o.get(r["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach((function(e){a[e]&&a[e].forEach((function(t){n[e].add(t)}))}));var s=null===(i=e[r["-type"]])||void 0===i?void 0:i.findIndex((function(e){return e["-id"]===r["-id"]}));s>=0&&e[r["-type"]].splice(s,1),o.delete(r["-id"]),t[r["-type"]]||(t[r["-type"]]=[]),t[r["-type"]].push(a)}));var i=n["bpmn:incoming"],s=n["bpmn:outgoing"];s.forEach((function(e){i.has(e)&&r.push(e)}));for(var u,l=function(e){var n=a.findIndex((function(t){return t["-id"]===r[e]}));n>=0?(t["bpmn:sequenceFlow"]||(t["bpmn:sequenceFlow"]=[]),t["bpmn:sequenceFlow"].push(a[n]),a.splice(n,1)):e++,u=e},c=0;c<r.length;)l(c),c=u;delete t.children})),e[uR.FLOW]=a,e}function xR(e,t){e["bpmndi:BPMNEdge"]=t.edges.map((function(e){var t,n=e.id,r=e.pointsList.map((function(e){var t=e.x,n=e.y;return{"-x":t,"-y":n}})),o={"-id":n+"_di","-bpmnElement":n,"di:waypoint":r};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(o["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),o})),e["bpmndi:BPMNShape"]=t.nodes.map((function(e){var t,n=e.id,r=100,o=80,i=e.x,a=e.y,s=DR.shapeConfigMap.get(e.type);s&&(r=s.width,o=s.height),i-=r/2,a-=o/2;var u={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i,"-y":a,"-width":r,"-height":o}};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(u["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),u}))}var jR=["bpmn:incoming","bpmn:outgoing"];function SR(e,t){var n=[],r=[],o=new Map,i=null!==t&&void 0!==t?t:{},a=i.transformer,s=i.excludeFields,u={in:new Set(hR(gR.in,(null===s||void 0===s?void 0:s.in)||[])),out:new Set(hR(gR.out,(null===s||void 0===s?void 0:s.out)||[]))};mR=bR(mR,a);var l=e["bpmn:definitions"];if(l){var c=l["bpmn:process"];(function(e,t){t.forEach((function(t){try{Object.keys(e).forEach((function(e){try{t(e)}catch(n){console.error(n)}}))}catch(n){console.error(n)}}))})(c,[function(e){function t(e){e["-children"]||(e["-children"]=[]),Object.keys(e).forEach((function(t){var n;0!==t.indexOf("bpmn:")||jR.includes(t)||(c[t]||(c[t]=[]),!Array.isArray(c[t])&&(c[t]=[c[t]]),Array.isArray(e[t])?(n=c[t]).push.apply(n,hR(e[t])):c[t].push(e[t]),Array.isArray(e[t])?e[t].forEach((function(n){!t.includes("Flow")&&e["-children"].push(n["-id"])})):!t.includes("Flow")&&e["-children"].push(e[t]["-id"]),delete e[t])}))}if("bpmn:subProcess"===e){var n=c[e];Array.isArray(n)?n.forEach((function(n){"bpmn:subProcess"===e&&t(n)})):t(n)}},function(e){var t=function(e){Object.keys(e).forEach((function(t){var r,o;if(t.includes("bpmn:")){var i={};mR[t]&&mR[t].in?(i=null===(o=(r=mR[t]).in)||void 0===o?void 0:o.call(r,t,$I.cloneDeep(e[t])),delete e[t]):n(e[t]);var a=void 0;(a=Reflect.ownKeys(i)).length>0&&a.forEach((function(t){Reflect.set(e,t,i[t])}))}}))};function n(e){o.set(e["-id"],e),Array.isArray(e)?e.forEach((function(e){n(e)})):"object"===typeof e&&t(e)}n(c[e])},function(e){if(0===e.indexOf("bpmn:")){var t=c[e];if("bpmn:sequenceFlow"===e){var i=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=kR(t,i)}else{var a=l["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if("bpmn:boundaryEvent"===e){var s=c[e],u=function(e){var t=e["-attachedToRef"],n=o.get(t);n["-boundaryEvents"]||(n["-boundaryEvents"]=[]),n["-boundaryEvents"].push(e["-id"])};Array.isArray(s)?s.forEach((function(e){u(e)})):u(s)}n=n.concat(ER(t,a,e))}}}])}var f=function(e,t,n){Object.keys(e).forEach((function(r){var o=n?n+"."+r:r;t.has(o)?delete e[r]:"object"===typeof e[r]&&f(e[r],t,o)}))};return n.forEach((function(e){var n,r;if(null===(n=null===t||void 0===t?void 0:t.mapping)||void 0===n?void 0:n.in){var o=null===(r=null===t||void 0===t?void 0:t.mapping)||void 0===r?void 0:r.in,i=e.type;o[i]&&(e.type=o[i])}f(e,u.in,"")})),r.forEach((function(e){var n,r;if(null===(n=null===t||void 0===t?void 0:t.mapping)||void 0===n?void 0:n.in){var o=null===(r=null===t||void 0===t?void 0:t.mapping)||void 0===r?void 0:r.in,i=e.type;o[i]&&(e.type=o[i])}f(e,u.in,"")})),{nodes:n,edges:r}}function ER(e,t,n){var r=[];if(Array.isArray(e))e.forEach((function(e){var o;o=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t;var i=PR(o,n,e);r.push(i)}));else{var o=void 0;o=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t;var i=PR(o,n,e);r.push(i)}return r}function PR(e,t,n){var r=Number(e["dc:Bounds"]["-x"]),o=Number(e["dc:Bounds"]["-y"]),i=n["-children"],a=n["-name"],s=DR.shapeConfigMap.get(t);s&&(r+=s.width/2,o+=s.height/2);var u,l={};if(Object.entries(n).forEach((function(e){var t=dR(e,2),n=t[0],r=t[1];yR.includes(n)||(l[n]=r)})),l=OR(l),a&&(u={x:r,y:o,value:a},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var c=e["bpmndi:BPMNLabel"]["dc:Bounds"];u.x=Number(c["-x"])+Number(c["-width"])/2,u.y=Number(c["-y"])+Number(c["-height"])/2}var f={id:e["-bpmnElement"],type:t,x:r,y:o,properties:l};return i&&(f.children=i),u&&(f.text=u),f}function kR(e,t){var n=[];if(Array.isArray(e))e.forEach((function(e){var r;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(TR(r,e))}));else{var r=void 0;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(TR(r,e))}return n}function TR(e,t){var n,r=t["-name"];if(r){var o=e["bpmndi:BPMNLabel"]["dc:Bounds"],i=0;r.split("\n").forEach((function(e){i<e.length&&(i=e.length)})),n={value:r,x:Number(o["-x"])+10*i/2,y:Number(o["-y"])+7}}var a={};Object.entries(t).forEach((function(e){var t=dR(e,2),n=t[0],r=t[1];yR.includes(n)||(a[n]=r)})),a=OR(a);var s=e["di:waypoint"].map((function(e){return{x:Number(e["-x"]),y:Number(e["-y"])}})),u={id:t["-id"],type:uR.FLOW,pointsList:s,sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:a};return n&&(u.text=n),u}var DR=function(){function e(e){var t=this,n=e.lf;this.adapterOut=function(e,n){var r,o,i=cR({},t.processAttributes);wR(i,e,n);var a={"-id":"BPMNPlane_1","-bpmnElement":i["-id"]};xR(a,e);var s=t.definitionAttributes;s["bpmn:process"]=i,s["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":a};var u={"bpmn:definitions":s};if(null===(r=null===n||void 0===n?void 0:n.mapping)||void 0===r?void 0:r.out){var l=null===(o=null===n||void 0===n?void 0:n.mapping)||void 0===o?void 0:o.out,c=function(e){Array.isArray(e)&&e.forEach((function(e){return c(e)})),"object"===typeof e&&Object.keys(e).forEach((function(t){var n;(n=l[t])?(e[n]=$I.cloneDeep(e[t]),delete e[t],c(e[n])):c(e[t])}))};c(u)}return u},this.adapterIn=function(e,t){if(e)return SR(e,t)},n.adapterIn=this.adapterIn,n.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return e.prototype.setCustomShape=function(t,n){e.shapeConfigMap.set(t,n)},e.pluginName="bpmn-adapter",e.shapeConfigMap=new Map,e}();DR.shapeConfigMap.set(uR.START,{width:HI.width,height:HI.height}),DR.shapeConfigMap.set(uR.END,{width:UI.width,height:UI.height}),DR.shapeConfigMap.set(uR.INTERMEDIATE_CATCH,{width:VI.width,height:VI.height}),DR.shapeConfigMap.set(uR.INTERMEDIATE_THROW,{width:VI.width,height:VI.height}),DR.shapeConfigMap.set(uR.BOUNDARY,{width:WI.width,height:WI.height}),DR.shapeConfigMap.set(uR.PARALLEL_GATEWAY,{width:GI.width,height:GI.height}),DR.shapeConfigMap.set(uR.INCLUSIVE_GATEWAY,{width:XI.width,height:XI.height}),DR.shapeConfigMap.set(uR.EXCLUSIVE_GATEWAY,{width:YI.width,height:YI.height}),DR.shapeConfigMap.set(uR.SYSTEM,{width:JI.width,height:JI.height}),DR.shapeConfigMap.set(uR.USER,{width:KI.width,height:KI.height}),DR.shapeConfigMap.set(uR.SUBPROCESS,{width:ZI.width,height:ZI.height});(function(e){function t(t){var n=e.call(this,t)||this;n.adapterXmlIn=function(e){var t=eR(e);return n.adapterIn(t,n.props)},n.adapterXmlOut=function(e){var t=n.adapterOut(e,n.props);return sR(t)};var r=t.lf,o=t.props;return r.adapterIn=n.adapterXmlIn,r.adapterOut=n.adapterXmlOut,n.props=o,n}lR(t,e),t.pluginName="BPMNAdapter"})(DR);var NR=function(){function e(e){var t=this,n=e.lf;this.lf=n,this.customCssRules="",this.useGlobalRules=!0,n.getSnapshot=function(e,n){t.getSnapshot(e,n)},n.getSnapshotBlob=function(e){return t.getSnapshotBlob(e)},n.getSnapshotBase64=function(e){return t.getSnapshotBase64(e)}}return e.prototype.getSvgRootElement=function(e){var t=e.container.querySelector(".lf-canvas-overlay");return t},e.prototype.triggerDownload=function(e){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",this.fileName),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.dispatchEvent(t)},e.prototype.removeAnchor=function(e){for(var t=e.childNodes,n=e.childNodes&&e.childNodes.length,r=0;r<n;r++){var o=t[r],i=o.classList&&Array.from(o.classList)||[];i.indexOf("lf-anchor")>-1&&(e.removeChild(e.childNodes[r]),n--,r--)}},e.prototype.removeRotateControl=function(e){for(var t=e.childNodes,n=e.childNodes&&e.childNodes.length,r=0;r<n;r++){var o=t[r],i=o.classList&&Array.from(o.classList)||[];i.indexOf("lf-rotate-control")>-1&&(e.removeChild(e.childNodes[r]),n--,r--)}},e.prototype.getSnapshot=function(e,t){var n=this;this.fileName=e||"logic-flow."+Date.now()+".png";var r=this.getSvgRootElement(this.lf);this.getCanvasData(r,t).then((function(e){var t=e.toDataURL("image/png").replace("image/png","image/octet-stream");n.triggerDownload(t)}))},e.prototype.getSnapshotBase64=function(e){var t=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){t.getCanvasData(n,e).then((function(e){var t=e.toDataURL("image/png");r({data:t,width:e.width,height:e.height})}))}))},e.prototype.getSnapshotBlob=function(e){var t=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){t.getCanvasData(n,e).then((function(e){e.toBlob((function(t){r({data:t,width:e.width,height:e.height})}),"image/png")}))}))},e.prototype.getClassRules=function(){var e="";if(this.useGlobalRules)for(var t=document.styleSheets,n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.cssRules.length;o++)e+=r.cssRules[o].cssText;return this.customCssRules&&(e+=this.customCssRules),e},e.prototype.getCanvasData=function(e,t){var n=this,r=e.cloneNode(!0),o=r.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var s=o.childNodes[a],u=s.classList&&Array.from(s.classList);if(u&&u.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var l=o.childNodes[a];l&&l.childNodes.forEach((function(e){var t=e;n.removeAnchor(t.firstChild),n.removeRotateControl(t.firstChild)}))}}var c=window.devicePixelRatio||1;c<1&&(c=1);var f=document.createElement("canvas"),p=this.lf.graphModel.rootEl.querySelector(".lf-base"),d=p.getBoundingClientRect(),h=document.querySelector(".lf-canvas-overlay").getBoundingClientRect(),y=d.x-h.x,v=d.y-h.y,g=this.lf.graphModel,b=g.transformModel,m=b.SCALE_X,_=b.SCALE_Y,O=b.TRANSLATE_X,w=b.TRANSLATE_Y;r.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-y+O)*(1/m)+10)+", "+((-v+w)*(1/_)+10)+")";var x=Math.ceil(d.width/m),j=Math.ceil(d.height/_);f.style.width=x+"px",f.style.height=j+"px",f.width=x*c+80,f.height=j*c+80;var S=f.getContext("2d");S.clearRect(0,0,f.width,f.height),S.scale(c,c),t?(S.fillStyle=t,S.fillRect(0,0,x*c+80,j*c+80)):S.clearRect(0,0,x,j);var E=new Image,P=document.createElement("style");P.innerHTML=this.getClassRules();var k=document.createElement("foreignObject");return k.appendChild(P),r.appendChild(k),new Promise((function(e){E.onload=function(){var t=navigator.userAgent.indexOf("Firefox")>-1;try{t?createImageBitmap(E,{resizeWidth:f.width,resizeHeight:f.height}).then((function(t){S.drawImage(t,0,0),e(f)})):(S.drawImage(E,0,0),e(f))}catch(n){S.drawImage(E,0,0),e(f)}};var t="data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(r),n=t.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");E.src=n}))},e.pluginName="snapshot",e}(),CR=function(){return CR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},CR.apply(this,arguments)},AR=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},MR={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},IR={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function RR(e){switch(e){case"bpmn:sequenceFlow":return MR.SEQUENCE_FLOW;case"bpmn:startEvent":return MR.START_EVENT;case"bpmn:endEvent":return MR.END_EVENT;case"bpmn:userTask":return MR.USER_TASK;case"bpmn:exclusiveGateway":return MR.EXCLUSIVE_GATEWAY;default:return e}}function LR(e){var t=e.id,n=(e.type,e.x),r=e.y,o=e.text,i=void 0===o?"":o,a=e.properties;return{incoming:[],outgoing:[],dockers:[],type:RR(e.type),properties:CR(CR({},a),{name:i&&i.value||"",x:n,y:r,text:i}),key:t}}function BR(e){var t=e.id,n=e.type,r=e.sourceNodeId,o=e.targetNodeId,i=e.startPoint,a=e.endPoint,s=e.pointsList,u=e.text,l=void 0===u?"":u,c=e.properties;return{incoming:[r],outgoing:[o],type:RR(n),dockers:[],properties:CR(CR({},c),{name:l&&l.value||"",text:l,startPoint:JSON.stringify(i),endPoint:JSON.stringify(a),pointsList:JSON.stringify(s)}),key:t}}function FR(e){var t=new Map,n={flowElementList:[]};return e.nodes.forEach((function(e){var r=LR(e);n.flowElementList.push(r),t.set(e.id,r)})),e.edges.forEach((function(e){var r=BR(e),o=t.get(e.sourceNodeId);o.outgoing.push(r.key);var i=t.get(e.targetNodeId);i.incoming.push(r.key),n.flowElementList.push(r)})),n}function zR(e){var t=e.incoming,n=e.outgoing,r=e.properties,o=e.key,i=e.type,a=r.text,s=r.name,u=r.startPoint,l=r.endPoint,c=r.pointsList,f={id:o,type:IR[i],sourceNodeId:t[0],targetNodeId:n[0],text:a||s,properties:{}};u&&(f.startPoint=JSON.parse(u)),l&&(f.endPoint=JSON.parse(l)),c&&(f.pointsList=JSON.parse(c));var p=["startPoint","endPoint","pointsList","text"];return Object.keys(e.properties).forEach((function(t){-1===p.indexOf(t)&&(f.properties[t]=e.properties[t])})),f}function qR(e){var t=e.properties,n=e.key,r=e.type,o=e.bounds,i=t.x,a=t.y,s=t.text;if(void 0===i){var u=AR(o,2),l=u[0],c=l.x,f=l.y,p=u[1],d=p.x,h=p.y;i=(c+d)/2,a=(f+h)/2}var y={id:n,type:IR[r],x:i,y:a,text:s,properties:{}},v=["x","y","text"];return Object.keys(e.properties).forEach((function(t){-1===v.indexOf(t)&&(y.properties[t]=e.properties[t])})),y}function $R(e){var t={nodes:[],edges:[]},n=e.flowElementList;return n&&n.length>0&&n.forEach((function(e){if(e.type===MR.SEQUENCE_FLOW){var n=zR(e);t.edges.push(n)}else{var r=qR(e);t.nodes.push(r)}})),t}var HR;(function(){function e(e){var t=e.lf;t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut}e.prototype.adapterOut=function(e){if(e)return FR(e)},e.prototype.adapterIn=function(e){if(e)return $R(e)},e.pluginName="turboAdapter"})();(function(e){e["HORIZONTAL"]="horizontal",e["VERTICAL"]="vertical"})(HR||(HR={}));var UR=function(e,t,n,r){void 0===r&&(r=0);var o=XR(e,t,n);return o<=r};function WR(e){return e*e}function VR(e,t){return WR(e.x-t.x)+WR(e.y-t.y)}var GR=function(e,t,n){var r=VR(t,n);if(0===r)return VR(e,t);var o=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return o=Math.max(0,Math.min(1,o)),VR(e,{x:t.x+o*(n.x-t.x),y:t.y+o*(n.y-t.y)})},XR=function(e,t,n){return Math.sqrt(GR(e,t,n))},YR=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i={minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n};return i},JR=function(e,t){var n;return e.x===t.x?n=HR.VERTICAL:e.y===t.y&&(n=HR.HORIZONTAL),n},KR=function(e,t,n){var r=YR(e),o=JR(t,n),i=Math.max(t.x,n.x),a=Math.min(t.x,n.x),s=Math.max(t.y,n.y),u=Math.min(t.y,n.y),l=e.x,c=e.y,f=e.width,p=e.height;if(o===HR.HORIZONTAL){if(i>=r.maxX&&a<=r.minX)return{startCrossPoint:{x:t.x>n.x?l+f/2:l-f/2,y:t.y},endCrossPoint:{x:t.x>n.x?l-f/2:l+f/2,y:t.y}}}else if(o===HR.VERTICAL&&s>=r.maxY&&u<=r.minY)return{startCrossPoint:{x:t.x,y:t.y>n.y?c+p/2:c-p/2},endCrossPoint:{x:t.x,y:t.y>n.y?c-p/2:c+p/2}}},ZR=function(e,t,n){void 0===n&&(n=0);for(var r=e.x,o=e.y,i=t.pointsList,a=0;a<i.length-1;a++)if(UR({x:r,y:o},i[a],i[a+1],n)){var s=KR(e,i[a],i[a+1]);if(s)return{crossIndex:a+1,crossPoints:s}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},QR=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},eL=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(QR(arguments[t]));return e},tL=(function(){function e(e){var t=e.lf;this._lf=t,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}e.prototype.eventHandler=function(){var e=this;this.dndAdd&&this._lf.on("node:dnd-add",(function(t){var n=t.data;e.insetNode(n)})),this.dropAdd&&this._lf.on("node:drop",(function(t){for(var n=t.data,r=e._lf.graphModel.edges,o=n.id,i=!0,a=0;a<r.length;a++)if(r[a].sourceNodeId===o||r[a].targetNodeId===o){i=!1;break}i&&e.insetNode(n)}))},e.prototype.checkRuleBeforeInsetNode=function(e,t,n,r,o){var i=this._lf.getNodeModelById(e),a=this._lf.getNodeModelById(t),s=i.getAnchorInfo(n),l=a.getAnchorInfo(r),c=i.isAllowConnectedAsSource(o,s,l),f=a.isAllowConnectedAsTarget(o,s,l),p=Object(u["formateAnchorConnectValidateData"])(c),d=p.isAllPass,h=p.msg,y=Object(u["formateAnchorConnectValidateData"])(f),v=y.isAllPass,g=y.msg;return{isPass:d&&v,sourceMsg:h,targetMsg:g}},e.prototype.insetNode=function(e){var t=this,n=this._lf.graphModel.edges,r=this._lf.getNodeModelById(e.id),o=r.getDefaultAnchor(),i=!o||0===o.length;if(i)this._lf.graphModel.eventCenter.emit(u["EventType"].CONNECTION_NOT_ALLOWED,{data:e,msg:"自定义类型节点不显示锚点，也不允许其他节点连接到此节点"});else for(var a=0;a<n.length;a++){var s=ZR(r,n[a],this.deviation),l=s.crossIndex,c=s.crossPoints;if(l>=0){var f=n[a],p=f.sourceNodeId,d=f.targetNodeId,h=f.id,y=f.type,v=f.pointsList,g=f.sourceAnchorId,b=f.targetAnchorId,m=$x(v[0]),_=$x(c.startCrossPoint);this._lf.deleteEdge(h);var O=this.checkRuleBeforeInsetNode(p,d,g,b,e);if(this._lf.addEdge({type:y,sourceNodeId:p,targetNodeId:e.id,startPoint:m,endPoint:_,pointsList:eL(v.slice(0,l),[c.startCrossPoint])}),this._lf.addEdge({type:y,sourceNodeId:e.id,targetNodeId:d,startPoint:$x(c.endCrossPoint),endPoint:$x(v[v.length-1]),pointsList:eL([c.endCrossPoint],v.slice(l))}),O.isPass)break;this._lf.graphModel.eventCenter.emit(u["EventType"].CONNECTION_NOT_ALLOWED,{data:e,msg:O.targetMsg||O.sourceMsg}),setTimeout((function(){t._lf.undo()}),200);break}}},e.pluginName="insertNodeInPolyline"}(),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),nL=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tL(arguments[t]));return e},rL=(function(){function e(e){var t=this,n=e.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){t.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){t.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){t.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){t.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){t.lf.redo()}}],this.lf=n}e.prototype.render=function(e,t){this.destroy();var n=this.getControlTool();this.toolEl=n,t.appendChild(n),this.domContainer=t},e.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},e.prototype.addItem=function(e){this.controlItems.push(e)},e.prototype.removeItem=function(e){var t=this.controlItems.findIndex((function(t){return t.key===e}));return-1==t?null:this.controlItems.splice(t,1)[0]},e.prototype.getControlTool=function(){var e=this,t="lf-control-item",n="lf-control-item disabled",r=document.createElement("div"),o=[];return r.className="lf-control",this.controlItems.forEach((function(r){var i=document.createElement("div"),a=document.createElement("i"),s=document.createElement("span");switch(i.className=n,r.onClick&&(i.onclick=r.onClick.bind(null,e.lf)),r.onMouseEnter&&(i.onmouseenter=r.onMouseEnter.bind(null,e.lf)),r.onMouseLeave&&(i.onmouseleave=r.onMouseLeave.bind(null,e.lf)),a.className=r.iconClass,s.className="lf-control-text",s.title=r.title,s.innerText=r.text,i.append(a,s),r.text){case"上一步":e.lf.on("history:change",(function(e){var r=e.data.undoAble;i.className=r?t:n}));break;case"下一步":e.lf.on("history:change",(function(e){var r=e.data.redoAble;i.className=r?t:n}));break;default:i.className=t;break}o.push(i)})),r.append.apply(r,nL(o)),r},e.pluginName="control"}(),function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),oL=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rL(arguments[t]));return e},iL="lf:defaultNodeMenu",aL="lf:defaultEdgeMenu",sL="lf:defaultGraphMenu",uL="lf:defaultSelectionMenu",lL=function(){function e(e){var t=this,n=e.lf;this.lf=n;var r=n.options.isSilentMode;r||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(e){t.setMenuConfig(e)},this.lf.addMenuConfig=function(e){t.addMenuConfig(e)},this.lf.setMenuByType=function(e){t.setMenuByType(e)})}return e.prototype.init=function(){var e=this,t=[{text:"删除",callback:function(t){e.lf.deleteNode(t.id)}},{text:"编辑文本",callback:function(t){e.lf.graphModel.editText(t.id)}},{text:"复制",callback:function(t){e.lf.cloneNode(t.id)}}];this.menuTypeMap.set(iL,t);var n=[{text:"删除",callback:function(t){e.lf.deleteEdge(t.id)}},{text:"编辑文本",callback:function(t){e.lf.graphModel.editText(t.id)}}];this.menuTypeMap.set(aL,n),this.menuTypeMap.set(sL,[]);var r=[{text:"删除",callback:function(t){e.lf.clearSelectElements(),t.edges.forEach((function(t){return e.lf.deleteEdge(t.id)})),t.nodes.forEach((function(t){return e.lf.deleteNode(t.id)}))}}];this.menuTypeMap.set(uL,r)},e.prototype.render=function(e,t){var n=this;e.options.isSilentMode||(this.__container=t,this.__currentData=null,this.__menuDOM.className="lf-menu",t.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(e){e.stopPropagation();var t=e.target;while(-1===Array.from(t.classList).indexOf("lf-menu-item")&&-1===Array.from(t.classList).indexOf("lf-menu"))t=t.parentElement;Array.from(t.classList).indexOf("lf-menu-item")>-1?(t.onclickCallback(n.__currentData),n.__menuDOM.style.display="none",n.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")}),!0),this.lf.on("node:contextmenu",(function(e){var t=e.data,r=e.position,o=e.e,i=r.domOverlayPosition,a=i.x,s=i.y,u=t.id,l=n.lf.graphModel.getNodeModelById(u),c=[],f=n.menuTypeMap.get(l.type);c=l&&l.menu&&Array.isArray(l.menu)?l.menu:f||n.menuTypeMap.get(iL),n.__currentData=t,n.showMenu(a,s,c,{width:l.width,height:l.height,clientX:o.clientX,clientY:o.clientY})})),this.lf.on("edge:contextmenu",(function(e){var t=e.data,r=e.position,o=e.e,i=r.domOverlayPosition,a=i.x,s=i.y,u=t.id,l=n.lf.graphModel.getEdgeModelById(u),c=[],f=n.menuTypeMap.get(l.type);c=l&&l.menu&&Array.isArray(l.menu)?l.menu:f||n.menuTypeMap.get(aL),n.__currentData=t,n.showMenu(a,s,c,{width:l.width,height:l.height,clientX:o.clientX,clientY:o.clientY})})),this.lf.on("blank:contextmenu",(function(e){var t=e.position,r=n.menuTypeMap.get(sL),o=t.domOverlayPosition,i=o.x,a=o.y;n.showMenu(i,a,r)})),this.lf.on("selection:contextmenu",(function(e){var t=e.data,r=e.position,o=n.menuTypeMap.get(uL),i=r.domOverlayPosition,a=i.x,s=i.y;n.__currentData=t,n.showMenu(a,s,o)})),this.lf.on("node:mousedown",(function(){n.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){n.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){n.__menuDOM.style.display="none"})))},e.prototype.destroy=function(){var e;null===(e=null===this||void 0===this?void 0:this.__container)||void 0===e||e.removeChild(this.__menuDOM),this.__menuDOM=null},e.prototype.showMenu=function(e,t,n,r){if(n&&n.length){var o=this.__menuDOM;if(o.innerHTML="",o.append.apply(o,oL(this.__getMenuDom(n))),o.children.length){if(o.style.display="block",!r)return o.style.top=t+"px",void(o.style.left=e+"px");var i=r.width,a=r.height,s=r.clientX,u=r.clientY,l=this.lf.graphModel,c=o.offsetWidth,f=!0,p=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=p-s,h=l.rootEl.getBoundingClientRect(),y=h.left+h.width;y<p&&(d=y-s),d<c&&(f=!1),o.style.left=f?e+"px":e-i+"px";var v=o.offsetHeight,g=!0,b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,m=b-u,_=h.top+h.height;_<b&&(m=_-u),m<v&&(g=!1),o.style.top=g?t+"px":t-a+"px"}}},e.prototype.setMenuByType=function(e){e.type&&e.menu&&this.menuTypeMap.set(e.type,e.menu)},e.prototype.__getMenuDom=function(e){var t=[];return e&&e.length>0&&e.forEach((function(e){var n=document.createElement("li");if(e.className?n.className="lf-menu-item "+e.className:n.className="lf-menu-item",!0===e.icon){var r=document.createElement("span");r.className="lf-menu-item-icon",n.appendChild(r)}var o=document.createElement("span");o.className="lf-menu-item-text",e.text&&(o.innerText=e.text),n.appendChild(o),n.onclickCallback=e.callback,t.push(n)})),t},e.prototype.setMenuConfig=function(e){e&&(void 0!==e.nodeMenu&&this.menuTypeMap.set(iL,e.nodeMenu?e.nodeMenu:[]),void 0!==e.edgeMenu&&this.menuTypeMap.set(aL,e.edgeMenu?e.edgeMenu:[]),void 0!==e.graphMenu&&this.menuTypeMap.set(sL,e.graphMenu?e.graphMenu:[]))},e.prototype.addMenuConfig=function(e){if(e){if(Array.isArray(e.nodeMenu)){var t=this.menuTypeMap.get(iL);this.menuTypeMap.set(iL,t.concat(e.nodeMenu))}if(Array.isArray(e.edgeMenu)){t=this.menuTypeMap.get(aL);this.menuTypeMap.set(aL,t.concat(e.edgeMenu))}if(Array.isArray(e.graphMenu)){t=this.menuTypeMap.get(sL);this.menuTypeMap.set(sL,t.concat(e.graphMenu))}}},e.prototype.changeMenuItem=function(e,t){if("add"===e)this.addMenuConfig(t);else{if("reset"!==e)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(t)}},e.pluginName="menu",e}(),cL=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},fL="menu-common",pL=200,dL=100,hL=(function(){function e(e){var t=this,n=e.lf;this.menuTypeMap=new Map,this.listenDelete=function(){t.hideContextMenu()},this.lf=n,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(fL,[]),this.lf.setContextMenuByType=function(e,n){t.setContextMenuByType(e,n)},this.lf.setContextMenuItems=function(e){t.setContextMenuItems(e)},this.lf.showContextMenu=function(e){t.showContextMenu(e)},this.lf.hideContextMenu=function(){t.hideContextMenu()}}e.prototype.render=function(e,t){var n=this;this.container=t,e.on("node:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("edge:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("blank:click",(function(){n.hideContextMenu()}))},e.prototype.setContextMenuByType=function(e,t){this.menuTypeMap.set(e,t)},e.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},e.prototype.showContextMenu=function(e){e&&e.id?(this._activeData=e,this.createContextMenu()):console.warn("请检查传入的参数")},e.prototype.setContextMenuItems=function(e){this.menuTypeMap.set(fL,e)},e.prototype.getContextMenuPosition=function(){var e=this._activeData,t=this.lf.graphModel.getElement(e.id);if(t){var n,r;if("edge"===t.BaseType){n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;var o=t.getData();n=Math.max(o.startPoint.x,n),r=Math.min(o.startPoint.y,r),n=Math.max(o.endPoint.x,n),r=Math.min(o.endPoint.y,r),o.pointsList&&o.pointsList.forEach((function(e){n=Math.max(e.x,n),r=Math.min(e.y,r)}))}return"node"===t.BaseType&&(n=e.x+t.width/2,r=e.y-t.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([n,r])}console.warn("找不到元素"+e.id)},e.prototype.createContextMenu=function(){var e=this,t=this.lf.options.isSilentMode;if(!t){var n=this.menuTypeMap.get(this._activeData.type)||[];n=n.concat(this.menuTypeMap.get(fL));var r=document.createDocumentFragment();n.forEach((function(t){var n=document.createElement("div");n.className="lf-context-item";var o=document.createElement("img");o.src=t.icon,o.className="lf-context-img",t.className&&(n.className=n.className+" "+t.className),o.addEventListener("click",(function(){e.hideContextMenu(),t.callback?t.callback(e._activeData):e.addNode({sourceId:e._activeData.id,x:e._activeData.x,y:e._activeData.y,properties:t.properties,type:t.type})})),n.appendChild(o),r.appendChild(n)})),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(r),this.showMenu()}},e.prototype.addNode=function(e,t){var n=void 0!==t;void 0===t&&(t=e.y);var r=this.lf.getNodeModelById(e.sourceId),o=e.x-r.width+pL,i=t-e.y/2-20,a=e.x+r.width+pL,s=t+e.y/2+20,u=this.lf.getAreaElement([o,i],[a,s]);if(u.length)return t+=dL,void this.addNode(e,t);var l,c,f=this.lf.addNode({type:e.type,x:e.x+200,y:t,properties:e.properties});n&&(l={x:e.x,y:e.y+r.height/2},c={x:f.x-f.width/2,y:f.y}),this.lf.addEdge({sourceNodeId:e.sourceId,targetNodeId:f.id,startPoint:l,endPoint:c})},e.prototype.showMenu=function(){var e=cL(this.getContextMenuPosition(),2),t=e[0],n=e[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=n+"px",this.__menuDOM.style.left=t+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},e.pluginName="contextMenu"}(),function(){function e(e){var t=this,n=e.lf;this.lf=n,this.lf.setPatternItems=function(e){t.setPatternItems(e)}}e.prototype.render=function(e,t){var n=this;this.destroy(),this.shapeList&&0!==this.shapeList.length?(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(e){n.panelEl.appendChild(n.createDndItem(e))})),t.appendChild(this.panelEl),this.domContainer=t):this.domContainer=t},e.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},e.prototype.setPatternItems=function(e){this.shapeList=e,this.domContainer&&this.render(this.lf,this.domContainer)},e.prototype.createDndItem=function(e){var t=this,n=document.createElement("div");n.className=e.className?"lf-dnd-item "+e.className:"lf-dnd-item";var r=document.createElement("div");if(r.className="lf-dnd-shape",e.icon&&(r.style.backgroundImage="url("+e.icon+")"),n.appendChild(r),e.label){var o=document.createElement("div");o.innerText=e.label,o.className="lf-dnd-text",n.appendChild(o)}return n.onmousedown=function(){e.type&&t.lf.dnd.startDrag({type:e.type,properties:e.properties,text:e.text}),e.callback&&e.callback(t.lf,t.domContainer)},n.ondblclick=function(n){t.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:n,data:e})},n.onclick=function(n){t.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:n,data:e})},n.oncontextmenu=function(n){t.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:n,data:e})},n},e.pluginName="dndPanel"}(),function(){function e(e){var t=this,n=e.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(e){var n=t.lf.getPointByClient(e.clientX,e.clientY).domOverlayPosition,r=n.x,o=n.y;t.endPoint={x:r,y:o};var i=t.startPoint,a=i.x,s=i.y,u=t.wrapper.style,l=a,c=s,f=r-a,p=o-s;r<a&&(l=r,f=a-r),o<s&&(c=o,p=s-o),u.left=l+"px",u.top=c+"px",u.width=f+"px",u.height=p+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",t.__draw),document.removeEventListener("mouseup",t.__drawOff),t.wrapper.oncontextmenu=null,t.__domContainer.removeChild(t.wrapper);var e=t.startPoint,n=e.x,r=e.y,o=t.endPoint,i=o.x,a=o.y;if(!(Math.abs(i-n)<10&&Math.abs(a-r)<10)){var s=[Math.min(n,i),Math.min(r,a)],u=[Math.max(n,i),Math.max(r,a)],l=t.lf.graphModel.getAreaElement(s,u,t.isWholeEdge,t.isWholeNode,!0),c=t.lf.graphModel.group;l.forEach((function(e){c&&c.getNodeGroup(e.id)||t.lf.selectElementById(e.id,!0)})),t.lf.emit("selection:selected",l)}},this.lf=n;var r=n.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=r,n.openSelectionSelect=function(){t.openSelectionSelect()},n.closeSelectionSelect=function(){t.closeSelectionSelect()}}return e.prototype.render=function(e,t){var n=this;this.__domContainer=t,e.on("blank:mousedown",(function(r){var o=r.e,i=e.getEditConfig();if(i.stopMoveGraph&&!n.__disabled){var a=2===o.button;if(!a){var s=e.getPointByClient(o.clientX,o.clientY).domOverlayPosition,u=s.x,l=s.y;n.startPoint={x:u,y:l},n.endPoint={x:u,y:l};var c=document.createElement("div");c.className="lf-selection-select",c.oncontextmenu=function(e){e.preventDefault()},c.style.top=n.startPoint.y+"px",c.style.left=n.startPoint.x+"px",t.appendChild(c),n.wrapper=c,document.addEventListener("mousemove",n.__draw),document.addEventListener("mouseup",n.__drawOff)}}}))},e.prototype.setSelectionSense=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.isWholeEdge=e,this.isWholeNode=t},e.prototype.openSelectionSelect=function(){var e=this.lf.getEditConfig().stopMoveGraph;e||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},e.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},e.prototype.open=function(){this.__disabled=!1},e.prototype.close=function(){this.__disabled=!0},e.pluginName="selectionSelect",e}()),yL=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vL=function(){function e(e){var t=this,n=e.lf,r=e.LogicFlow,o=e.options;this.lf=null,this.container=null,this.miniMapWrap=null,this.miniMapContainer=null,this.lfMap=null,this.viewport=null,this.width=150,this.height=220,this.leftPosition=void 0,this.topPosition=void 0,this.rightPosition=void 0,this.bottomPosition=void 0,this.miniMapWidth=450,this.miniMapHeight=660,this.viewPortTop=0,this.viewPortLeft=0,this.startPosition=null,this.viewPortScale=1,this.viewPortWidth=150,this.viewPortHeight=75,this.resetDataX=0,this.resetDataY=0,this.LogicFlow=null,this.isShow=!1,this.isShowHeader=!0,this.isShowCloseIcon=!0,this.dragging=!1,this.disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(e,n){t.setView(),t.isShow||t.createMiniMap(e,n),t.isShow=!0},this.hide=function(){t.isShow&&t.removeMiniMap(),t.isShow=!1},this.reset=function(){t.lf.resetTranslate(),t.lf.resetZoom(),t.hide(),t.show()},this.startDrag=function(e){document.addEventListener("mousemove",t.drag),document.addEventListener("mouseup",t.drop),t.startPosition={x:e.x,y:e.y}},this.moveViewport=function(e,n){var r=t.viewport.style;t.viewPortTop=e,t.viewPortLeft=n,r.top=t.viewPortTop+"px",r.left=t.viewPortLeft+"px"},this.drag=function(e){t.dragging=!0;var n=t.viewPortTop+e.y-t.startPosition.y,r=t.viewPortLeft+e.x-t.startPosition.x;t.moveViewport(n,r),t.startPosition={x:e.x,y:e.y};var o=(t.viewPortLeft+t.viewPortWidth/2)/t.viewPortScale,i=(t.viewPortTop+t.viewPortHeight/2)/t.viewPortScale;t.lf.focusOn({coordinate:{x:o+t.resetDataX,y:i+t.resetDataY}})},this.drop=function(){document.removeEventListener("mousemove",t.drag),document.removeEventListener("mouseup",t.drop);var e=t.viewPortTop,n=t.viewPortLeft;t.viewPortLeft>t.width&&(n=t.width-t.viewPortWidth),t.viewPortTop>t.height&&(e=t.height-t.viewPortHeight),t.viewPortLeft<-t.width&&(n=0),t.viewPortTop<-t.height&&(e=0),t.moveViewport(e,n)},this.mapClick=function(e){if(t.dragging)t.dragging=!1;else{var n=e.layerX,r=e.layerY,o=n,i=r,a=t.lf.getGraphRawData(),s=t.getBounds(a),u=s.left,l=s.top,c=u+o/t.viewPortScale,f=l+i/t.viewPortScale;t.lf.focusOn({coordinate:{x:c,y:f}})}},this.lf=n,o&&o.MiniMap&&this.setOption(o),this.miniMapWidth=n.graphModel.width,this.miniMapHeight=n.graphModel.width*this.height/this.width,this.LogicFlow=r,this.initMiniMap()}return e.prototype.render=function(e,t){var n=this;this.container=t,this.lf.on("history:change",(function(){n.isShow&&n.setView()})),this.lf.on("graph:transform",EO((function(){n.isShow&&!n.dragging&&n.setView()}),300))},e.prototype.init=function(e){this.disabledPlugins=this.disabledPlugins.concat(e.disabledPlugins||[])},e.prototype.setOption=function(e){var t=e.MiniMap,n=t.width,r=void 0===n?150:n,o=t.height,i=void 0===o?220:o,a=t.isShowHeader,s=void 0===a||a,u=t.isShowCloseIcon,l=void 0===u||u,c=t.leftPosition,f=void 0===c?0:c,p=t.topPosition,d=void 0===p?0:p,h=t.rightPosition,y=t.bottomPosition;this.width=r,this.height=i,this.isShowHeader=s,this.isShowCloseIcon=l,this.viewPortWidth=r,this.leftPosition=f,this.topPosition=d,this.rightPosition=h,this.bottomPosition=y},e.prototype.initMiniMap=function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width=this.width+4+"px",e.style.height=this.height+"px",this.lfMap=new this.LogicFlow({container:e,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.disabledPlugins}),this.lfMap.adapterIn=function(e){return e},this.lfMap.adapterOut=function(e){return e},this.miniMapWrap=e,this.createViewPort(),e.addEventListener("click",this.mapClick)},e.prototype.createMiniMap=function(t,n){var r=document.createElement("div");r.appendChild(this.miniMapWrap),"undefined"!==typeof t||"undefined"!==typeof n?(r.style.left=(t||0)+"px",r.style.top=(n||0)+"px"):("undefined"!==typeof this.rightPosition?r.style.right=this.rightPosition+"px":"undefined"!==typeof this.leftPosition&&(r.style.left=this.leftPosition+"px"),"undefined"!==typeof this.bottomPosition?r.style.bottom=this.bottomPosition+"px":"undefined"!==typeof this.topPosition&&(r.style.top=this.topPosition+"px")),r.style.position="absolute",r.className="lf-mini-map",this.isShowCloseIcon||r.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||r.classList.add("lf-mini-map-no-header"),this.container.appendChild(r),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=e.headerTitle,r.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",this.hide),r.appendChild(i),this.miniMapContainer=r},e.prototype.removeMiniMap=function(){this.container.removeChild(this.miniMapContainer)},e.prototype.getBounds=function(e){var t=0,n=this.miniMapWidth,r=0,o=this.miniMapHeight,i=e.nodes;return i&&i.length>0&&i.forEach((function(e){var i=e.x,a=e.y,s=e.width,u=void 0===s?200:s,l=e.height,c=void 0===l?200:l,f=i-u/2,p=i+u/2,d=a-c/2,h=a+c/2;t=f<t?f:t,n=p>n?p:n,r=d<r?d:r,o=h>o?h:o})),{left:t,top:r,bottom:o,right:n}},e.prototype.resetData=function(e){var t=e.nodes,n=e.edges,r=0,o=0;return t&&t.length>0&&(t.forEach((function(e){var t=e.x,n=e.y,i=e.width,a=void 0===i?200:i,s=e.height,u=void 0===s?200:s,l=t-a/2,c=n-u/2;r=l<r?l:r,o=c<o?c:o})),(r<0||o<0)&&(this.resetDataX=r,this.resetDataY=o,t.forEach((function(e){e.x=e.x-r,e.y=e.y-o,e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-o)})),n.forEach((function(e){e.startPoint&&(e.startPoint.x=e.startPoint.x-r,e.startPoint.y=e.startPoint.y-o),e.endPoint&&(e.endPoint.x=e.endPoint.x-r,e.endPoint.y=e.endPoint.y-o),e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-o),e.pointsList&&e.pointsList.forEach((function(e){e.x=e.x-r,e.y=e.y-o}))})))),e},e.prototype.setView=function(){var e,t,n=this.lf.getGraphRawData(),r=this.resetData(n),o=this.lf.viewMap,i=this.lf.graphModel.modelMap,a=this.lfMap.viewMap;try{for(var s=yL(o.keys()),u=s.next();!u.done;u=s.next()){var l=u.value;a.has(l)||(this.lfMap.setView(l,o.get(l)),this.lfMap.graphModel.modelMap.set(l,i.get(l)))}}catch(m){e={error:m}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}this.lfMap.render(r);var c=this.getBounds(r),f=c.left,p=c.top,d=c.right,h=c.bottom,y=this.width/(d-f),v=this.height/(h-p),g=this.miniMapWrap.firstChild.style,b=Math.min(y,v);g.pointerEvents="none",g.transform="matrix("+b+", 0, 0, "+b+", 0, 0)",g.transformOrigin="left top",g.height=h-Math.min(p,0)+"px",g.width=d-Math.min(f,0)+"px",this.viewPortScale=b,this.setViewPort(b,{left:f,top:p,right:d,bottom:h})},e.prototype.setViewPort=function(e,t){var n=t.left,r=t.right,o=(t.top,t.bottom,this.viewport.style);o.width=this.viewPortWidth+"px",o.height=this.viewPortWidth/(this.lf.graphModel.width/this.lf.graphModel.height)+"px";var i=this.lf.getTransform(),a=i.TRANSLATE_X,s=i.TRANSLATE_Y,u=i.SCALE_X,l=i.SCALE_Y,c=r-n,f=this.width/(c/this.lf.graphModel.width),p=this.width*(f/this.width),d=this.lf.graphModel.width/this.lf.graphModel.height,h=p/d,y=this.lf.getGraphRawData(),v=this.getBounds(y),g=v.left,b=v.top,m=g,_=b;m+=a/u,_+=s/l,this.viewPortTop=_>0?0:-_*e,this.viewPortLeft=m>0?0:-m*e,this.viewPortWidth=p,this.viewPortHeight=h,o.top=this.viewPortTop+"px",o.left=this.viewPortLeft+"px",o.width=p/u+"px",o.height=h/l+"px"},e.prototype.createViewPort=function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",this.startDrag),this.viewport=e},e.pluginName="miniMap",e.width=150,e.height=220,e.viewPortWidth=150,e.viewPortHeight=75,e.isShowHeader=!0,e.isShowCloseIcon=!0,e.leftPosition=0,e.topPosition=0,e.rightPosition=null,e.bottomPosition=null,e.headerTitle="导航",e}(),gL=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bL=function(){return bL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},bL.apply(this,arguments)},mL=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},_L={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function OL(e){var t=e,n=1;while(n<t.length-1){var r=mL(t[n-1],2),o=r[0],i=r[1],a=mL(t[n],2),s=a[0],u=a[1],l=mL(t[n+1],2),c=l[0],f=l[1];o===s&&s===c||i===u&&u===f?t.splice(n,1):n++}return t}function wL(e,t,n,r){var o=[e[0],e[1]],i=[e[0],e[1]];switch(n){case"tl":return"tr"===t?(o[1]+=r,i[0]+=r):"lb"===t&&(o[0]+=r,i[1]+=r),[o,i];case"tr":return"tl"===t?(o[1]+=r,i[0]-=r):"rb"===t&&(o[0]-=r,i[1]+=r),[o,i];case"bl":return"br"===t?(o[1]-=r,i[0]+=r):"lt"===t&&(o[0]+=r,i[1]-=r),[o,i];case"br":return"bl"===t?(o[1]-=r,i[0]-=r):"rt"===t&&(o[0]-=r,i[1]-=r),[o,i];default:return[]}}function xL(e,t,n,r){var o,i="",a="";e[0]===t[0]?i=e[1]>t[1]?"t":"b":e[1]===t[1]&&(i=e[0]>t[0]?"l":"r"),t[0]===n[0]?a=t[1]>n[1]?"t":"b":t[1]===n[1]&&(a=t[0]>n[0]?"l":"r");var s=Math.min(Math.hypot(t[0]-e[0],t[1]-e[1])/2,Math.hypot(n[0]-t[0],n[1]-t[1])/2,r)||.2*r,u=""+i+a,l=_L[u]||"-",c="L "+e[0]+" "+e[1];if("-"===l)c+="L "+t[0]+" "+t[1]+" L "+n[0]+" "+n[1];else{var f=mL(wL(t,u,l,s),2),p=f[0],d=f[1];p&&d&&(c+="L "+p[0]+" "+p[1]+" Q "+t[0]+" "+t[1]+" "+d[0]+" "+d[1],o=mL(d,2),t[0]=o[0],t[1]=o[1])}return c}function jL(e,t){var n=0,r="";if(2===e.length)r+="M"+e[n][0]+" "+e[n++][1]+" L "+e[n][0]+" "+e[n][1];else{for(r+="M"+e[n][0]+" "+e[n++][1];n+1<e.length;){var o=e[n-1],i=e[n],a=e[1+n++];r+=xL(o,i,a,t)}r+="L "+e[n][0]+" "+e[n][1]}return r}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}gL(t,e),t.prototype.getEdge=function(){var e=this.props.model,t=e.points,n=e.isAnimation,r=e.arrowConfig,o=e.radius,i=void 0===o?5:o,a=e.getEdgeStyle(),s=e.getEdgeAnimationStyle(),l=OL(t.split(" ").map((function(e){return e.split(",").map((function(e){return+e}))}))),c=jL(l,i),f=bL(bL(bL({style:n?s:{}},a),r),{fill:"none"});return Object(u["h"])("path",bL({d:c},f))}})(u["PolylineEdge"]),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}gL(t,e)}(u["PolylineEdgeModel"]);var SL=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},EL=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(SL(arguments[t]));return e},PL=(function(){function e(e){var t=this,n=e.lf;this.lf=n,this.pathes=[],n.getPathes=function(){if(!t.startNodeType)throw new Error("需要预先指定开始节点类型");return t.getPathes()},n.setRawPathes=function(e){t.setPathes(e)},n.getRawPathes=function(){return t.pathes},n.setStartNodeType=function(e){t.startNodeType=e}}e.prototype.setPathes=function(e){this.pathes=e.map((function(e){var t=e.routeId,n=e.name,r=e.elements,o=e.type;return{routeId:t,name:n,elements:r,type:o,similarElement:null,weight:0}}))},e.prototype.getPathes=function(){var e=this,t=this.lf.getGraphRawData(),n=new Map,r=[];t.nodes.forEach((function(t){n.set(t.id,{id:t.id,data:t,nextNodes:[]}),t.type===e.startNodeType&&r.push(t.id)})),t.edges.forEach((function(e){var t=n.get(e.sourceNodeId);t.nextNodes.push(e.targetNodeId)}));var o=[];return r.forEach((function(t){o=o.concat(e.findPathElements(n.get(t),n,[]))})),this.getNewPathes(o)},e.prototype.findPathElements=function(e,t,n){void 0===n&&(n=[]);var r=EL(n);if(r.push(e.id),0===e.nextNodes.length)return[r];for(var o=[],i=0;i<e.nextNodes.length;i++){var a=t.get(e.nextNodes[i]),s=void 0,u=r.indexOf(a.id);s=-1!==u?[EL(r.slice(u),[a.id])]:this.findPathElements(a,t,EL(r)),o=o.concat(s)}return o},e.prototype.getNewPathes=function(e){var t=this,n=[],r=new Set;e.forEach((function(e){var o=t.getNewId("path"),i=t.getNewId("路径"),a=t.isLoopPath(e),s=e.join(",");r.has(s)||(r.add(s),n.push({routeId:o,name:i,elements:e,type:a,weight:0,similarElement:""}))}));var o=JSON.parse(JSON.stringify(this.pathes));return n.forEach((function(e){for(var n=0;n<o.length;n++){var r=o[n],i=t.similar2Path(EL(e.elements),EL(r.elements));i>e.weight&&r.weight<=i&&(e.weight=i,e.similarElement=r,i===r.weight&&r.similarElement?(r.similarElement.similarElement=null,r.similarElement.weight=0,r.similarElement=null,r.weight=0):(r.similarElement=e,r.weight=i))}})),n.forEach((function(e){e.similarElement&&e.similarElement.similarElement===e&&(e.routeId=e.similarElement.routeId,e.name=e.similarElement.name),delete e.similarElement,delete e.weight})),this.setPathes(n),n},e.prototype.similar2Path=function(e,t){var n=0,r=e.length+t.length;e.sort(),t.sort();var o=e.shift(),i=t.shift();while(void 0!==o&&void 0!==i)o===i?(n++,o=e.shift(),i=t.shift()):o<i?o=e.shift():o>i&&(i=t.shift());return n/r*200},e.prototype.getNewId=function(e){return e+"_"+p()},e.prototype.isLoopPath=function(e){var t=e.length;return e.indexOf(e[t-1])!==t-1?1:0},e.pluginName="flowPath"}(),function(){return PL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},PL.apply(this,arguments)}),kL={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},TL=(function(){function e(e){var t=this,n=e.lf;this.lf=n,this.trunk=[],n.layout=function(e){var n=t.lf.getGraphRawData();t.lf.setStartNodeType(e);var r=t.lf.getPathes();return t.levelHeight=[],t.newNodeMap=new Map,t.layout(n,r)}}e.prototype.layout=function(e,t){var n=this,r=[];t.forEach((function(e){var t=e.elements;t.length>r.length?r=t:t.length===r.length&&JSON.stringify(t)===JSON.stringify(n.trunk)&&(r=n.trunk)})),this.trunk=r;for(var o=this.formatData(e),i={nodes:[],edges:[]},a=r.length-1;a>=0;a--)this.setNodePosition(r[a],o,i,a,1);this.lf.graphModel.graphDataToModel(i)},e.prototype.setNodePosition=function(e,t,n,r,o){var i=this,a=t[e],s=a.text,u=a.type,l=a.next,c=a.properties,f=160*r+40,p=120*o,d={id:e,x:f,text:s,y:p,type:u,properties:c};return s&&"object"===typeof s&&(d.text=PL(PL({},s),{x:f+s.x,y:p+s.y})),this.newNodeMap.set(d.id,{x:d.x,y:d.y,type:u}),n.nodes.push(d),a.isFixed=!0,this.addLevelHeight(r,1),l&&l.length>0&&l.forEach((function(o){var a=t[o.nodeId];if(!a.isFixed){var s=i.getLevelHeight(r+1);i.addLevelHeight(r,1),i.setNodePosition(o.nodeId,t,n,r+1,s+1)}n.edges.push(PL({id:o.edgeId,type:o.edgeType,sourceNodeId:e,targetNodeId:o.nodeId,properties:o.properties,text:o.text},i.getEdgeDataPoints(e,o.nodeId)))})),d},e.prototype.getEdgeDataPoints=function(e,t){var n=this.newNodeMap.get(e),r=this.newNodeMap.get(t),o=this.getShape(e),i=o.width,a=o.height,s=this.getShape(t),u=s.width,l=s.height,c=this.getRelativePosition(n,r),f={x:n.x,y:n.y},p={x:r.x,y:r.y};switch(c){case kL.LEFT:f.x=n.x+i/2,p.x=r.x-u/2;break;case kL.LEFT_TOP:f.y=n.y+a/2,p.x=r.x-u/2;break;case kL.LEFT_BOTTOM:f.x=n.x+i/2,p.y=r.y+l/2;break;default:break}return{startPoint:f,endPoint:p}},e.prototype.getRelativePosition=function(e,t){var n,r=e.y,o=t.y;return n=r<o?-1:r===o?0:1,n},e.prototype.getShape=function(e){var t=this.lf.getNodeModelById(e);return{height:t.height,width:t.width}},e.prototype.formatData=function(e){var t=e.nodes.reduce((function(e,t){var n=t.type,r=t.properties,o=t.text,i=t.x,a=t.y;return o&&"object"===typeof o&&(o.x=o.x-i,o.y=o.y-a),e[t.id]={type:n,properties:r,text:o,prev:[],next:[]},e}),{});return e.edges.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId,o=e.id,i=e.properties,a=e.text,s=a;"object"===typeof a&&(s=a.value),t[n].next.push({edgeId:o,nodeId:r,edgeType:e.type,properties:i,text:s}),t[r].prev.push({edgeId:o,nodeId:n,properties:i,text:s})})),t},e.prototype.addLevelHeight=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);var r=this.levelHeight[e];r||(r={positiveHeight:0,negativeHeight:0},this.levelHeight[e]=r),n?r.negativeHeight-=t:r.positiveHeight+=t},e.prototype.getLevelHeight=function(e,t){void 0===t&&(t=!1);var n=this.levelHeight[e];return n?t?n.negativeHeight:n.positiveHeight:0},e.pluginName="AutoLayout"}(),function(){return TL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},TL.apply(this,arguments)}),DL=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},NL=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(DL(arguments[t]));return e},CL=function(e,t){var n=t.getModelById(e);return AL("node"===n.BaseType?n:n.targetNode,t)},AL=function(e,t){var n=[],r=[],o=function(e,r,i){void 0===i&&(i=null),i&&r.unshift.apply(r,NL(t.getEdgeModels({sourceNodeId:e.id,targetNodeId:i.id}).map((function(e){return e.id})))),r.includes(e.id)?n.push(r):(r.unshift(e.id),e.incoming.nodes.length?e.incoming.nodes.forEach((function(t){o(t,r.slice(),e)})):n.push(r))},i=function(e,n,o){void 0===o&&(o=null),o&&n.push.apply(n,NL(t.getEdgeModels({sourceNodeId:o.id,targetNodeId:e.id}).map((function(e){return e.id})))),n.includes(e.id)?r.push(n):(n.push(e.id),e.outgoing.nodes.length?e.outgoing.nodes.forEach((function(t){i(t,n.slice(),e)})):r.push(n))};return o(e,[]),i(e,[]),NL(new Set(NL(n.flat(),r.flat())))},ML=(function(){function e(e){var t=e.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=t}e.prototype.setMode=function(e){this.mode=e},e.prototype.setManual=function(e){this.manual=e},e.prototype.highlightSingle=function(e){var t=this.lf.getModelById(e);"node"===t.BaseType?t.updateStyles(this.tempStyles[e]):"edge"===t.BaseType&&(t.updateStyles(this.tempStyles[e]),t.sourceNode.updateStyles(this.tempStyles[t.sourceNode.id]),t.targetNode.updateStyles(this.tempStyles[t.targetNode.id]))},e.prototype.highlightPath=function(e){var t=this,n=CL(e,this.lf);n.forEach((function(e){t.lf.getModelById(e).updateStyles(t.tempStyles[e])}))},e.prototype.highlight=function(e,t){var n=this;if(void 0===t&&(t=this.mode),!this.manual){Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach((function(e){var t="node"===e.BaseType?e.getNodeStyle():e.getEdgeStyle();n.tempStyles[e.id]=TL({},t),e.setStyles({opacity:.1})}));var r={single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)};r[t](e)}},e.prototype.restoreHighlight=function(){var e=this;Object.keys(this.tempStyles).length&&(Object.values(this.lf.graphModel.modelsMap).forEach((function(t){var n,r=null!==(n=e.tempStyles[t.id])&&void 0!==n?n:{};t.updateStyles(TL({},r))})),this.tempStyles={})},e.prototype.render=function(e,t){var n=this;this.lf.on("node:mouseenter",(function(e){var t=e.data;return n.highlight(t.id)})),this.lf.on("edge:mouseenter",(function(e){var t=e.data;return n.highlight(t.id)})),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},e.prototype.destroy=function(){},e.pluginName="highlight"}(),n("7692"),n("417c"),n("ec8c9")),IL=n("b0c7"),RL=n("7fa2"),LL=n("1045"),BL=n("85ff"),FL=n("4766"),zL=[{text:"开始",type:"START",class:"node-start"},{text:"容器",type:"CONTAINER",class:"node-group"},{text:"请求节点",type:"REQUEST",class:"node-request"},{text:"SOAP节点",type:"SOAP",class:"node-soap"},{text:"条件组件",type:"node:component:condition",class:"node-component-condition"},{text:"循环组件",type:"node:component:loop",class:"node-component-loop"},{type:"END",text:"结束",class:"node-end"}],qL=n("25cb"),$L=n("c809"),HL=n("8de7"),UL=n("5880"),WL=n("34ac9"),VL=n("627c"),GL=(n("2397"),n("4910")),XL=n.n(GL),YL=n("fde4"),JL=n.n(YL),KL=n("25b0"),ZL=n.n(KL),QL=n("fa99"),eB=n.n(QL);function tB(e){return tB=ZL.a?eB.a.bind():function(e){return e.__proto__||eB()(e)},tB(e)}function nB(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=tB(e),null===e)break;return e}function rB(){return rB="undefined"!==typeof Reflect&&XL.a?XL.a.bind():function(e,t,n){var r=nB(e,t);if(r){var o=JL()(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},rB.apply(this,arguments)}n("6c7b");var oB=n("d225"),iB=n("b0b4"),aB=n("dc62"),sB=n.n(aB),uB=n("454f"),lB=n.n(uB);function cB(e,t){return cB=ZL.a?ZL.a.bind():function(e,t){return e.__proto__=t,e},cB(e,t)}function fB(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=sB()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),lB()(e,"prototype",{writable:!1}),t&&cB(e,t)}var pB=n("7618");function dB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hB(e,t){if(t&&("object"===Object(pB["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dB(e)}var yB=n("f688"),vB=(n("55dd"),n("8bbf")),gB=n.n(vB);function bB(e){var t=mB();return function(){var n,r=tB(e);if(t){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function mB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _B=function(e){fB(n,e);var t=bB(n);function n(e){return Object(oB["a"])(this,n),t.call(this,e)}return Object(iB["a"])(n)}(dn);function OB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OB(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xB(e){var t=jB();return function(){var n,r=tB(e);if(t){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function jB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var SB=function(e){fB(n,e);var t=xB(n);function n(e){var r;return Object(oB["a"])(this,n),r=t.call(this,e),r.refs=[],[1,2,3,4].forEach((function(e){r.refs.push(Lt())})),r}return Object(iB["a"])(n,[{key:"cancelDrag",value:function(){this.refs.forEach((function(e){e.current.dragHandler.cancelDrag()}))}},{key:"getResizeControl",value:function(){var e=this,t=this.props,n=t.model,r=t.graphModel,o=n.x,i=n.y,a=n.width,s=n.height,l={minX:o-a/2,minY:i-s/2,maxX:o+a/2,maxY:i+s/2},c=l.minX,f=l.minY,p=l.maxX,d=l.maxY,h=[{x:c,y:f},{x:p,y:f},{x:p,y:d},{x:c,y:d}];return h.map((function(t,o){return Object(u["h"])(_B,wB(wB({ref:e.refs[o],index:o},t),{},{model:n,graphModel:r}))}))}}]),n}(gn);function EB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EB(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kB(e){var t=TB();return function(){var n,r=tB(e);if(t){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function TB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var DB=function(e){return function(e){fB(n,e);var t=kB(n);function n(e){var r;Object(oB["a"])(this,n),r=t.call(this,e),r.isMounted=!1;var o=r.getVueComponent();r.app=new gB.a(PB(PB({},o),{},{propsData:PB({},e)})),r.node=null,r.controlGroup=Lt();var i=e.model,a=e.graphModel,s=a.eventCenter,u=dB(r);return s.on("node:resize",(function(e){var t=e.oldNodeSize,n=e.newNodeSize,r=t.id;if(i.id==r){var o=i.getParent();if(!o)return;var a=o.x-o.width/2,s=o.x+o.width/2,l=o.y-o.height/2,c=o.y+o.height/2,f=i.x-i.width/2,p=i.x+i.width/2,d=i.y-i.height/2,h=i.y+i.height/2;(a>f||s<p||l>d||c<h)&&(n.width>t.width||n.height>t.height)&&u.controlGroup.current.cancelDrag()}})),r}return Object(iB["a"])(n,[{key:"getControlGroup",value:function(){var e=this.props,t=e.model,n=e.graphModel;return Object(u["h"])(SB,{ref:this.controlGroup,model:t,graphModel:n})}},{key:"getVueComponent",value:function(){return{template:"<div>hello</div>"}}},{key:"setHtml",value:function(e){this.isMounted?this.app.propsData=PB(PB({},this.app.props),this.props):(this.isMounted=!0,this.node=document.createElement("div"),e.appendChild(this.node),this.app.$mount(this.node))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentWillUnmount",value:function(){this.app.$delete(this.node)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"rootEl",get:function(){return this.ref}},{key:"setRef",value:function(e){this.ref=e}},{key:"getHtmlShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.height,o=e.width,i=e.getNodeStyle();return this.currentProperties=JSON.stringify(e.properties),Object(u["h"])("foreignObject",PB(PB({},i),{},{x:t-o/2,y:n-r/2,width:o,height:r,ref:this.setRef.bind(this)}))}},{key:"getText",value:function(){return null}}]),n}(e)},NB=function(e){return function(e){fB(n,e);var t=kB(n);function n(){return Object(oB["a"])(this,n),t.apply(this,arguments)}return Object(iB["a"])(n,[{key:"getParent",value:function(){var e=this;if(this.graphModel.nodesMap){var t=Object.values(this.graphModel.nodesMap).filter((function(t){return!(!t.model.children||!t.model.children.has(e.id))}));return t&&t.length>0?t[0].model:null}return null}},{key:"init",value:function(e,t){var n=this,r=t.eventCenter,o=[],i=this;r.on("node:resize",(function(r){var o=r.oldNodeSize,i=r.newNodeSize,a=o.id;if(e.id==a){var s=[],u=[],l=[],c=[];e.children&&e.children.length>0&&(e.children.map((function(e){var n=t.getNodeModelById(e);s.push(n.x-n.width/2),u.push(n.y-n.height/2),l.push(n.x+n.width/2),c.push(n.y+n.height/2)})),s.length>0&&(s=s.sort((function(e,t){return e-t})),u=u.sort((function(e,t){return e-t})),l=l.sort((function(e,t){return t-e})),c=c.sort((function(e,t){return t-e})),(s[0]<i.x-i.width/2||l[0]>i.x+i.width/2)&&(n.minWidth=n.width-1),(u[0]<i.y-i.height/2||c[0]>i.y+i.height/2)&&(n.minHeight=n.height-1)));var f=t.getNodeEdges(e.id);f.map((function(n){var r=t.getNodeModelById(n.targetNodeId),o=t.getNodeModelById(n.sourceNodeId);n.targetNodeId==e.id&&(Math.abs(r.x-o.x)>Math.abs(r.y-o.y)?n.endPoint={x:r.x-r.width/2,y:r.y}:r.y>o.y?n.endPoint={x:r.x,y:r.y-r.height/2}:n.endPoint={x:r.x,y:r.y+r.height/2}),n.sourceNodeId==e.id&&(Math.abs(r.x-o.x)>Math.abs(r.y-o.y)?n.startPoint={x:o.x+o.width/2,y:o.y}:r.y>o.y?n.startPoint={x:o.x,y:o.y+o.height/2}:n.startPoint={x:o.x,y:o.y-o.height/2})}))}})),r.on("node:dragstart",(function(e){var n=e.data,r=(e.e,i.id);n.id==r&&(o=t.nodes.filter((function(e){return"CONTAINER"===e.type&&e.children.has(n.id)})))})),r.on("node:drop",(function(e){var n=e.data,r=(e.e,i.id);if(n.id==r){var a=t.getNodeModelById(n.id),s=a.getParent();if(s){var u=t.getNodeEdges(a.id),l=u.filter((function(e){return!(s.children.has(e.targetNodeId)&&s.children.has(e.sourceNodeId))}));l.length>0&&(l.forEach((function(e){t.deleteEdgeById(e.id)})),gB.a.prototype.$message.success("节点边已移除"))}if(o.length>0){var c=o[0],f=c.x-c.width/2,p=c.x+c.width/2,d=c.y-c.height/2,h=c.y+c.height/2,y=a.x-a.width/2,v=a.x+a.width/2,g=a.y-a.height/2,b=a.y+a.height/2,m=0,_=0;y<f&&(m+=f-y),v>p&&(m-=v-p),g<d&&(_+=d-g),b>h&&(_-=b-h),0==Math.abs(m)&&0==Math.abs(_)||(Math.abs(m)<a.width&&Math.abs(_)<a.height?(t.moveNodes([n.id],m,_),c.addChild(n.id)):gB.a.prototype.$confirm("确定从分组中移出该节点吗",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteEdgeBySource(n.id),t.deleteEdgeByTarget(n.id),gB.a.prototype.$message.success("节点已移出")})).catch((function(){t.moveNodes([n.id],m,_),c.addChild(n.id)}))),o=[]}}}))}}]),n}(e)};function CB(e){var t=AB();return function(){var n,r=tB(e);if(t){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function AB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function MB(e){e.register("START",(function(e){var t=e.CircleNode,n=e.CircleNodeModel,r=e.h,o=function(e){fB(n,e);var t=CB(n);function n(){return Object(oB["a"])(this,n),t.apply(this,arguments)}return Object(iB["a"])(n,[{key:"getLabelShape",value:function(){var e=this.props.model,t=e.x,n=e.y;return r("text",{fill:"#000000",fontSize:12,x:t-12,y:n+4,width:50,height:25},"Start")}},{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,o=e.r,i=e.getNodeStyle(),a=i.fill,s=i.stroke,u=i.strokeWidth;return r("g",{},[r("circle",{cx:t,cy:n,r:o,fill:a,stroke:s,strokeWidth:u}),this.getLabelShape()])}}]),n}(t),i=function(e){fB(n,e);var t=CB(n);function n(e,r){var o;return Object(oB["a"])(this,n),e.virtual||e.id?e.id||(e.id="START"):e.id="START_".concat(Object(yB["a"])(r.nodes,"START")),o=t.call(this,e,r),o.init(e,r),o}return Object(iB["a"])(n,[{key:"initNodeData",value:function(e){e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+35,dragable:!1,editable:!0},rB(tB(n.prototype),"initNodeData",this).call(this,e),this.r=20}},{key:"getNodeStyle",value:function(){var e=rB(tB(n.prototype),"getNodeStyle",this).call(this);return e}},{key:"getAnchorStyle",value:function(){var e=rB(tB(n.prototype),"getAnchorStyle",this).call(this);return e.hover.r=8,e.hover.fill="rgb(24, 125, 255)",e.hover.stroke="rgb(24, 125, 255)",e}},{key:"getOutlineStyle",value:function(){var e=rB(tB(n.prototype),"getOutlineStyle",this).call(this);return e.stroke="#88f",e}},{key:"getConnectedTargetRules",value:function(){var e=rB(tB(n.prototype),"getConnectedTargetRules",this).call(this),t={message:"起始节点不能作为连线的终点",validate:function(){return!1}};return e.push(t),e}}]),n}(NB(n));return{view:o,model:i}}))}var IB=n("7852");function RB(e){var t=LB();return function(){var n,r=tB(e);if(t){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function LB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function BB(e){e.register("CONTAINER",(function(){var t=function(t){fB(r,t);var n=RB(r);function r(e,t){var o;Object(oB["a"])(this,r),e.virtual||e.id?e.id||(e.id="CONTAINER"):e.id="CONTAINER_".concat(Object(yB["a"])(t.nodes,"CONTAINER")),o=n.call(this,e,t);t.eventCenter;return o.init(e,t),o}return Object(iB["a"])(r,[{key:"changeId",value:function(t){var n=this.id;t&&t!=n&&e.changeNodeId(n,t)}},{key:"initNodeData",value:function(e){rB(tB(r.prototype),"initNodeData",this).call(this,e),this.isRestrict=!1,this.resizable=!0,this.foldable=!0,this.width=400,this.height=200,this.foldedWidth=50,this.foldedHeight=50}},{key:"getNodeStyle",value:function(){var e=rB(tB(r.prototype),"getNodeStyle",this).call(this);return e.stroke="#AEAFAE",e.strokeDasharray="3 3",e.strokeWidth=1,e}}]),r}(NB(Bn.model)),n=function(e){fB(n,e);var t=RB(n);function n(e){return Object(oB["a"])(this,n),t.call(this,e)}return Object(iB["a"])(n,[{key:"getVueComponent",value:function(){return IB["default"]}},{key:"getFoldIcon",value:function(){var e=this.props.model,t=e.x-e.width/2+8,n=e.y-e.height/2+10;if(!e.foldable)return null;var r=Object(u["h"])("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:e.properties.isFolded?"M ".concat(t+3,",").concat(n+6," ").concat(t+11,",").concat(n+6," M").concat(t+7,",").concat(n+2," ").concat(t+7,",").concat(n+10):"M ".concat(t+3,",").concat(n+6," ").concat(t+11,",").concat(n+6," ")});return Object(u["h"])("g",{},[Object(u["h"])("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:e.x-e.width/2+8,y:e.y-e.height/2+10,onClick:function(){e.foldGroup(!e.properties.isFolded)}}),r])}},{key:"getResizeShape",value:function(){return Object(u["h"])("g",{},[rB(tB(n.prototype),"getAddableShape",this).call(this),wn.view.prototype.getResizeShape.call(this),this.getHtmlShape(),this.getFoldIcon()])}}]),n}(DB(Bn.view));return{view:n,model:t}}))}function FB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FB(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qB(e){var t=$B();return function(){var n,r=tB(e);if(t){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function $B(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function HB(e,t,n,r){e.register(n,(function(o){o.RectNode,o.RectNodeModel;var i=o.h,a=function(t){fB(i,t);var o=qB(i);function i(e,t){var r;return Object(oB["a"])(this,i),e.virtual||e.id?e.id||(e.id="".concat(n)):e.id="".concat(n,"_").concat(Object(yB["a"])(t.nodes,n)),r=o.call(this,e,t),r.init(e,t),r}return Object(iB["a"])(i,[{key:"changeId",value:function(t){var n=this.id;if(t&&t!=n){var r=this.getParent();r&&r.removeChild(n),e.changeNodeId(n,t),r&&r.addChild(t)}}},{key:"initNodeData",value:function(e){rB(tB(i.prototype),"initNodeData",this).call(this,e),this.width=r.width,this.height=r.height}}]),i}(NB(wn.model)),s=function(e){fB(r,e);var n=qB(r);function r(e){return Object(oB["a"])(this,r),n.call(this,e)}return Object(iB["a"])(r,[{key:"getLabelShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,a=e.getNodeStyle();return i("svg",{x:t-r/2+2,y:n-o/2+0,width:12,height:12,viewBox:"0 0 1274 1024"},i("path",{fill:a.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))}},{key:"getVueComponent",value:function(){return t}},{key:"getResizeShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,a=e.radius,s=e.getNodeStyle();return i("g",{},[i("rect",zB({x:t-r/2,y:n-o/2,rx:a,ry:a,width:r,height:o},s)),wn.view.prototype.getResizeShape.call(this),this.getHtmlShape(),this.getLabelShape()])}}]),r}(DB(wn.view));return{view:s,model:a}}))}function UB(e){var t=WB();return function(){var n,r=tB(e);if(t){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function WB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function VB(e){e.register("END",(function(e){var t=e.CircleNode,n=e.CircleNodeModel,r=e.h,o=function(e){fB(n,e);var t=UB(n);function n(){return Object(oB["a"])(this,n),t.apply(this,arguments)}return Object(iB["a"])(n,[{key:"getIconShape",value:function(){var e=this.props.model,t=e.x,n=e.y,o=e.width,i=e.height,a="#404040";return r("svg",{x:t-o/2,y:n-i/2,width:40,height:40,viewBox:"0 0 1024 1024"},r("path",{fill:a,d:"M212.992 526.336 212.992 526.336 212.992 526.336 215.04 526.336 212.992 526.336Z"}),r("path",{fill:a,d:"M724.992 296.96 724.992 296.96 296.96 296.96 296.96 724.992 724.992 724.992 724.992 296.96Z"}))}},{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,o=e.r,i=e.getNodeStyle(),a=i.fill,s=i.stroke,u=i.strokeWidth;return r("g",{},[r("circle",{cx:t,cy:n,r:o,fill:a,stroke:s,strokeWidth:u}),this.getIconShape()])}}]),n}(t),i=function(e){fB(n,e);var t=UB(n);function n(e,r){var o;return Object(oB["a"])(this,n),e.virtual||e.id?e.id||(e.id="END"):e.id="END_".concat(Object(yB["a"])(r.nodes,"END")),o=t.call(this,e,r),o.init(e,r),o}return Object(iB["a"])(n,[{key:"initNodeData",value:function(e){e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+35},rB(tB(n.prototype),"initNodeData",this).call(this,e),this.r=20}},{key:"getAnchorStyle",value:function(){var e=rB(tB(n.prototype),"getAnchorStyle",this).call(this);return e.hover.r=8,e.hover.fill="rgb(24, 125, 255)",e.hover.stroke="rgb(24, 125, 255)",e}},{key:"getOutlineStyle",value:function(){var e=rB(tB(n.prototype),"getOutlineStyle",this).call(this);return e.stroke="#88f",e}},{key:"getConnectedSourceRules",value:function(){var e=rB(tB(n.prototype),"getConnectedSourceRules",this).call(this),t={message:"终止节点不能作为连线的起点",validate:function(){return!1}};return e.push(t),e}}]),n}(NB(n));return{view:o,model:i}}))}function GB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GB(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YB(e){var t=JB();return function(){var n,r=tB(e);if(t){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function JB(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var KB=function(e){fB(n,e);var t=YB(n);function n(e,r){var o;Object(oB["a"])(this,n),o=t.call(this,e,r),o.width=80,o.height=30;var i=r.eventCenter;return i.once("node:dnd-add",(function(t){var n=t.data;if(n.id==e.id){var i=n.x,a=n.y,s=o.getElementByPoint({x:i,y:a}),u=s.filter((function(e){return"CONTAINER"===e.type||"REQUEST"===e.type}));if(r&&r.getNodeModelById(n.id)){if(u.length>0){var l=u.pop(),c=l.getData(),f=c.properties.components;if(f&&f.length>=o.getComponentNumbLimit())return gB.a.prototype.$message.success("该组件超过限制数量："+o.getComponentNumbLimit()),void r.deleteNode(n.id);var p=r.getNodeModelById(l.id).getData();l.graphModel.eventCenter.emit("node:component:add",{target:l,model:p,type:n.type})}else gB.a.prototype.$message.success("请移动到容器或者节点中");r.deleteNode(n.id)}}})),o}return Object(iB["a"])(n,[{key:"getComponentNumbLimit",value:function(){return 1e6}},{key:"getElementByPoint",value:function(e){var t=e.x,n=e.y,r=[],o=[];this.graphModel.sortElements.forEach((function(e){return o.push(e)}));for(var i=0;i<o.length;i++){var a=o[i];t>=a.x-a.width/2&&t<=a.x+a.width/2&&n>=a.y-a.height/2&&n<=a.y+a.height/2&&r.push(a)}return r}},{key:"initNodeData",value:function(e){e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+35,dragable:!1,editable:!0},rB(tB(n.prototype),"initNodeData",this).call(this,e),this.r=20}},{key:"getNodeStyle",value:function(){var e=rB(tB(n.prototype),"getNodeStyle",this).call(this);return e}},{key:"getAnchorStyle",value:function(){var e=rB(tB(n.prototype),"getAnchorStyle",this).call(this);return e.hover.r=8,e.hover.fill="rgb(24, 125, 255)",e.hover.stroke="rgb(24, 125, 255)",e}},{key:"getOutlineStyle",value:function(){var e=rB(tB(n.prototype),"getOutlineStyle",this).call(this);return e.stroke="#88f",e}}]),n}(u["RectNodeModel"]),ZB=function(e){fB(n,e);var t=YB(n);function n(){return Object(oB["a"])(this,n),t.apply(this,arguments)}return Object(iB["a"])(n,[{key:"getText",value:function(){return"组件"}},{key:"getLabelShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=(e.width,e.height,e.radius,50),o=10;return Object(u["h"])("text",{fill:"#000000",fontSize:12,x:t-r/2,y:n+o/2,width:r,height:o},this.getText())}},{key:"getShape",value:function(){var e=this.props.model,t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.getNodeStyle();return Object(u["h"])("g",{},[Object(u["h"])("rect",XB({x:t-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o},a)),this.getLabelShape()])}}]),n}(u["RectNode"]);function QB(e){var t=eF();return function(){var n,r=tB(e);if(t){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function eF(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tF(e){e.register("node:component:condition",(function(e){e.h;var t=function(e){fB(n,e);var t=QB(n);function n(e,r){return Object(oB["a"])(this,n),e.virtual||e.id?e.id||(e.id="COMPONENT_CONDITION"):e.id="COMPONENT_CONDITION_".concat(Object(yB["a"])(Object(yB["a"])(r.nodes,"node:component:condition"))),t.call(this,e,r)}return Object(iB["a"])(n)}(KB),n=function(e){fB(n,e);var t=QB(n);function n(){return Object(oB["a"])(this,n),t.apply(this,arguments)}return Object(iB["a"])(n,[{key:"getText",value:function(){return"条件组件"}}]),n}(ZB);return{view:n,model:t}}))}function nF(e){var t=rF();return function(){var n,r=tB(e);if(t){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function rF(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function oF(e){e.register("node:component:loop",(function(e){e.h;var t=function(e){fB(n,e);var t=nF(n);function n(e,r){return Object(oB["a"])(this,n),e.virtual||e.id?e.id||(e.id="COMPONENT_LOOP"):e.id="COMPONENT_LOOP_".concat(Object(yB["a"])(r.nodes,"node:component:loop")),t.call(this,e,r)}return Object(iB["a"])(n,[{key:"getComponentNumbLimit",value:function(){return 1}}]),n}(KB),n=function(e){fB(n,e);var t=nF(n);function n(){return Object(oB["a"])(this,n),t.apply(this,arguments)}return Object(iB["a"])(n,[{key:"getText",value:function(){return"循环组件"}}]),n}(ZB);return{view:n,model:t}}))}var iF=n("0870");function aF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aF(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uF(e,t){var n=iF["default"].data();return iF["default"].data=function(){return sF(sF({},n),{},{domOperator:t,lf:e})},iF["default"]}function lF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lF(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fF={REQUEST:{name:"RequestNodeDialog",title:"设置请求节点属性",nodeClass:function(){return n.e("chunk-073ca0e2").then(n.bind(null,"cfff"))}},SOAP:{name:"SOAPNodeDialog",title:"设置SOAP节点属性",nodeClass:function(){return n.e("chunk-6d36721c").then(n.bind(null,"ac60"))}},CONTAINER:{name:"GroupNodeDialog",title:"设置容器节点属性",nodeClass:function(){return n.e("chunk-443152c6").then(n.bind(null,"aeb7"))}},COMPONENTS:{name:"ComponentsNodeDialog",title:"设置组件属性",nodeClass:function(){return n.e("chunk-40b81909").then(n.bind(null,"336b"))}},LOOPCOMPONENT:{name:"LoopNodeDialog",title:"设置循环组件属性",nodeClass:function(){return n.e("chunk-a9c806a0").then(n.bind(null,"8b73"))}},CONDITIONCOMPONENT:{name:"ConditionNodeDialog",title:"设置条件组件属性",nodeClass:function(){return n.e("chunk-3ec92b32").then(n.bind(null,"0fbd"))}}},pF={};Object.values(fF).map((function(e){var t=e.name,n=e.nodeClass;return pF[t]=n}));var dF={name:"LF",components:cF({drawer:$L["default"],NodePanel:ML["default"],AddPanel:IL["default"],Control:RL["default"],DataDialog:FL["default"]},pF),props:{data:{type:Array,default:function(){return{}}},disabled:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0}},data:function(){return{plugins:[],microApps:[],dialogTitle:"设置属性",DialogTypes:fF,lf:null,showAddPanel:!1,addPanelStyle:{top:0,left:0},nodeData:null,addClickedNode:null,clickedNode:null,nodeDialogVisible:!1,extensionDialogVisible:!1,graphData:null,dataVisible:!1,nodeComponentName:"LoopNodeDialog",config:{background:{backgroundColor:"#f7f9ff"},grid:{size:10,visible:!1},keyboard:{enabled:!0},edgeTextDraggable:!0,hoverOutline:!1,nodeTextEdit:!1,edgeTextEdit:!1},moveData:{},nodeList:[]}},watch:{data:{immediate:!0,deep:!0,handler:function(){this.$_render()}}},computed:{},mounted:function(){this.$_initLf()},unmouted:function(){Object.values(this.microApps).forEach((function(e){e.unmount()}))},methods:cF(cF({},Object(UL["mapActions"])(["setParamOptions"])),{},{validateErrors:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.lf.getGraphData(),e.abrupt("return",this.lf.turboTransform.getErrors());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),isNode:function(e){return"REQUEST"==e||"SOAP"==e||"CONTAINER"==e},isExtensionNode:function(e){var t=Constant.node.plugins[e];return void 0!=t},updateInputHelp:function(e,t){var n=this.$data.lf.getGraphData(),r=null;r=e?HL["a"].buildInputComplete(n,e,t):HL["a"].buildAllInputComplete(n.nodes),this.setParamOptions(r)},$_initLf:function(){var e=new l.a(cF(cF({},this.config),{},{isSilentMode:this.disabled,plugins:[lL,vL,hL,Wn,NR,qL["b"]],container:this.$refs.container}));this.lf=e,e.setDefaultEdgeType("bezier"),e.setTheme({circle:{stroke:"#000000",strokeWidth:1,outlineColor:"#88f"},rect:{outlineColor:"#88f",strokeWidth:1},polygon:{strokeWidth:1},polyline:{stroke:"#000000",hoverStroke:"#000000",selectedStroke:"#000000",outlineColor:"#88f",strokeWidth:1},nodeText:{color:"#000000"},edgeText:{color:"#000000",background:{fill:"#f7f9ff"}}}),this.disabled||e.extension.menu.setMenuConfig({nodeMenu:[{text:"删除",callback:function(t){e.deleteNode(t.id)}},{text:"复制",callback:function(t){e.cloneNode(t.id)}}],edgeMenu:[{text:"删除",callback:function(t){e.deleteEdge(t.id)}}]}),this.$_registerNode(),this.$_render(),this.$_LfEvent()},$_registerNode:function(){var e=this;MB(this.lf),BB(this.lf),HB(this.lf,LL["default"],"REQUEST",{width:140,height:100}),HB(this.lf,BL["default"],"SOAP",{width:140,height:100});var t=Constant.node.plugins;this.loadDynamicNodes(t),Object(VL["d"])().then((function(t){200===t.data.code&&e.loadDynamicNodes(t.data.data)})),tF(this.lf),oF(this.lf),VB(this.lf)},loadDynamicNodes:function(e){var t=this;this.plugins=cF(cF({},this.plugins),e);var n=this.lf,r=this,o=[],a=function(){var a=e[s],u=a.name,l=a.nodeSize,c=a.panelItem;r.microApps[s]=Object(WL["b"])(cF(cF({},a),{},{container:"#plugin_"+s,props:{renderHandler:function(e){var a=uF(t.lf,e);HB(n,a,u,{width:l.width,height:l.height}),o.push(c),r.nodeList=[].concat(Object(i["a"])(zL),o)}}}))};for(var s in e)a()},$_render:function(){this.lf&&this.lf.render(this.data)},$_getData:function(){this.lf.getGraphData()},openDialog:function(e,t){var n=this.DialogTypes[e],r=n.title,o=n.name;this.$data.dialogTitle=r,this.$data.clickedNode=t,this.$data.nodeComponentName=o,this.$data.nodeDialogVisible=!0},$_LfEvent:function(){var e=this,t=this;this.lf.on("node:dbclick",(function(n){console.log(n);var r=n.data;n.e;e.isNode(r.type)?e.openDialog(r.type,r):e.isExtensionNode(r.type)&&(e.$data.clickedNode=r,e.extensionDialogVisible=!0,e.$nextTick((function(){var e=t.lf.getView(r.type),n=e.prototype.getVueComponent().data().domOperator,o=t.lf.getModelById(r.id);n.render("/node",{lf:t.lf,model:o,graphModel:t.lf.graphModel,closeDialog:function(){t.extensionDialogVisible=!1}},document.querySelector("#extensionDialog"))}))),e.updateInputHelp(r)})),this.lf.on("element:click",(function(){e.hideAddPanel()})),this.lf.on("edge:add",(function(t){var n=t.data,r=n.id,o=n.sourceNodeId,i=n.targetNodeId,a=e.lf.getGraphRawData(),s=a||{},u=s.nodes,l=void 0===u?[]:u;l.forEach((function(t){var n=t||{},a=(n.type,n.children),s=void 0===a?[]:a,u=s.indexOf(o)>-1&&-1===s.indexOf(i),l=s.indexOf(i)>-1&&-1===s.indexOf(o);(u||l)&&e.lf.deleteEdge(r)}));var c=function t(n,r,o){var i=e.lf.getNodeModelById(r),a=i.outgoing,s=void 0===a?{}:a,u=s.nodes,l=void 0===u?[]:u;l.forEach((function(e){e.id!==n?t(n,e.id,o):o()}))};c(o,i,(function(){e.lf.deleteEdge(r)}))})),this.lf.on("node:add",(function(e){e.data})),this.lf.on("node:mousemove",(function(t){var n=t.data;e.moveData=n})),this.lf.on("blank:click",(function(){e.hideAddPanel()})),this.lf.on("connection:not-allowed",(function(t){e.$message({type:"error",message:t.msg})})),this.lf.on("node:mousemove",(function(){})),this.lf.on("node:components:click",(function(t){t.target;var n=t.model;e.openDialog("COMPONENTS",n),e.updateInputHelp(n)})),this.lf.on("node:component:add",(function(t){t.target;var n=t.model,r=t.type,o=null;switch(r){case"node:component:condition":o="CONDITIONCOMPONENT";break;case"node:component:loop":o="LOOPCOMPONENT";break}o&&e.openDialog(o,n),e.updateInputHelp(n,"node:component:loop"==r)})),this.lf.on("history:change",(function(){e.$emit("update:data",e.$data.lf.getGraphData())}))},clickPlus:function(e,t){e.stopPropagation();var n=e.clientX,r=e.clientY;console.log(n,r),this.$data.addPanelStyle.top=r-40+"px",this.$data.addPanelStyle.left=n+"px",this.$data.showAddPanel=!0,this.$data.addClickedNode=t},mouseDownPlus:function(e,t){e.stopPropagation()},hideAddPanel:function(){this.$data.showAddPanel=!1,this.$data.addPanelStyle.top=0,this.$data.addPanelStyle.left=0,this.$data.addClickedNode=null},closeDialog:function(){this.$data.nodeDialogVisible=!1,this.$data.extensionDialogVisible=!1,this.updateInputHelp()},getGraphData:function(){return this.$data.lf.getGraphData()},$_catData:function(){this.$data.graphData=this.$data.lf.getGraphData(),this.$data.dataVisible=!0},goto:function(){this.$router.push("/TurboAdpter")}})},hF=dF,yF=(n("2478d"),n("a08a"),n("2877")),vF=Object(yF["a"])(hF,r,o,!1,null,"c38e15ec",null);t["default"]=vF.exports},f688:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("55dd"),n("a481");var r=100;function o(e,t){if(e.length>0){var n=e.filter((function(e){var n=e.id.replace(/[^\d.]/g,"");return e.type=="".concat(t)&&""!==n}));if(n.length>0){var o=n.sort((function(e,t){var n=parseInt(e.id.replace(/[^\d.]/g,"")),r=parseInt(t.id.replace(/[^\d.]/g,""));return r-n})),i=parseInt(o[0].id.replace(/[^\d.]/g,""))+1;return i}}return r++}},f6d3:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"api-detail-response"},[t("el-form",{ref:"form",attrs:{size:"small",model:e.response,rules:e.rules}},[t("el-form-item",{staticClass:"http-status",attrs:{label:"HTTP状态码",prop:"httpStatus"}},[t("el-form-item",{staticClass:"http-status-col",attrs:{prop:"httpStatus.type"}},[t("el-select",{attrs:{placeholder:"固定值/引用值/函数",clearable:"",disabled:e.disabled},on:{change:function(t){return e.dataTypeChange(e.response.httpStatus.type)}},model:{value:e.response.httpStatus.type,callback:function(t){e.$set(e.response.httpStatus,"type",t)},expression:"response.httpStatus.type"}},e._l(e.httpStatus_type,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"fixed"===e.response.httpStatus.type?t("el-form-item",{staticClass:"http-status-col http-status-value",attrs:{prop:"httpStatus.value","show-message":!1}},[t("el-select",{attrs:{clearable:"",disabled:e.disabled},model:{value:e.response.httpStatus.value,callback:function(t){e.$set(e.response.httpStatus,"value",t)},expression:"response.httpStatus.value"}},e._l(e.httpStatus,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),"ref"===e.response.httpStatus.type?t("el-form-item",{staticClass:"http-status-col http-status-value",attrs:{prop:"httpStatus.value","show-message":!1}},[t("el-input",{attrs:{placeholder:"请输入字段值(必填)",disabled:e.disabled},model:{value:e.response.httpStatus.value,callback:function(t){e.$set(e.response.httpStatus,"value",t)},expression:"response.httpStatus.value"}}),t("quote-tooltip",{staticClass:"quote-tooltip"})],1):e._e(),"func"===e.response.httpStatus.type?t("el-form-item",{staticClass:"http-status-col http-status-value",attrs:{prop:"httpStatus.value","show-message":!1}},[t("el-input",{attrs:{placeholder:"请输入字段值(必填)",disabled:e.disabled},model:{value:e.response.httpStatus.value,callback:function(t){e.$set(e.response.httpStatus,"value",t)},expression:"response.httpStatus.value"}}),t("div",{staticClass:"fun-desc"},[e._v("函数列表请参考： \n                "),t("el-link",{staticClass:"link",attrs:{type:"primary",href:"https://www.fizzgate.com/guide/aggregate/function.html",target:"_blank"}},[e._v("函数文档")])],1)],1):e._e()],1),t("data-params",e._b({attrs:{"header-name":"响应头","body-name":"响应体","has-query":!1,data:e.response,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled,"show-desc-column":!0},on:{"update:data":function(t){e.response=t}}},"data-params",e.$attrs,!1),[t("template",{slot:"body"},[t("el-form-item",{attrs:{label:"内容类型",prop:"contentType"}},[t("el-radio-group",{model:{value:e.response.contentType,callback:function(t){e.$set(e.response,"contentType",t)},expression:"response.contentType"}},[t("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),t("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"application/xml"===e.response.contentType,expression:"response.contentType === 'application/xml'"}],staticClass:"key-tips"},[e._v("\n                按JSON配置，网关会把JSON转换为XML，请参考\n                "),t("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("XML和JSON间的转换规则")])],1)],1)],1)],2)],1),t("xml-info",{attrs:{visible:e.xmlInoVisible},on:{"update:visible":function(t){e.xmlInoVisible=t}}})],1)},o=[],i=(n("96cf"),n("3b8d")),a=n("942a"),s=n("921f"),u=n("e683"),l=n("cc38"),c={name:"api-detail-response",data:function(){return{response:{httpStatus:{value:200,type:"fixed",fixedDataType:"number"},fieldDesc:{body:[],header:[],query:[]}},xmlInoVisible:!1,httpStatus_type:u["e"],httpStatus:u["d"],rules:{"httpStatus.type":[{required:!0,message:"必填"}],"httpStatus.value":[{required:!0,message:"必填",trigger:"blur"}]}}},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}},isDelScriptWithHttp:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},computed:{dataObj:function(){return{response:this.response}}},components:{dataParams:a["default"],xmlInfo:s["default"],quoteTooltip:l["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},dataObj:{deep:!0,handler:function(){this.emitData()}}},methods:{emitData:function(){this.$emit("update:data",this.dataObj)},initData:function(e){e=e||this.data,this.response=e&&e.response||{},this.response.httpStatus||(this.response.httpStatus={value:200,type:"fixed",fixedDataType:"number"}),this.response.contentType||(this.response.contentType="application/json"),this.response.fieldDesc||(this.response.fieldDesc={body:[],header:[],query:[]})},dataTypeChange:function(e){var t=this;delete this.response.httpStatus.fixedDataType,delete this.response.httpStatus.refDataType,"fixed"===e?(this.response.httpStatus.value=200,this.response.httpStatus.fixedDataType="number"):"ref"===e?(this.response.httpStatus.value="",this.response.httpStatus.refDataType="int"):this.$set(this.response.httpStatus,"value",""),this.$nextTick((function(){t.$refs.form.clearValidate()}))},validate:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.emitData(),t=!0,n="",e.next=5,this.$refs.form.validate((function(e){e||(t=!1,n="请完善配置输出！")}));case 5:return t&&"func"===this.response.httpStatus.type&&"fn."!==this.response.httpStatus.value.substring(0,3)&&(t=!1,n='HTTP状态码: 函数类型的字段值应该以 "fn." 开头!'),e.abrupt("return",{validate:t,message:n});case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},f=c,p=(n("72d7"),n("2877")),d=Object(p["a"])(f,r,o,!1,null,"034c918e",null);t["default"]=d.exports},f796:function(e,t,n){},fa99:function(e,t,n){n("0293"),e.exports=n("584a").Object.getPrototypeOf},fd89:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[e.showAddComponent?t("div",{staticClass:"add-component"},[t("add-component",{attrs:{data:e.requestForm.components,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm,"components",t)}}})],1):e._e(),t("el-form",{ref:"requestForm",staticClass:"request-item-form",attrs:{size:"small",model:e.requestForm,rules:e.rules,disabled:e.disabled,"label-width":"110px"}},[e._t("name"),t("el-form-item",{attrs:{label:"接口类型",prop:"type",required:""}},[t("el-radio-group",{on:{change:e.handleTypeChange},model:{value:e.requestForm.type,callback:function(t){e.$set(e.requestForm,"type",t)},expression:"requestForm.type"}},[t("el-radio",{attrs:{label:"REQUEST"}},[e._v("RESTful")]),t("el-radio",{attrs:{label:"DUBBO"}},[e._v("Dubbo")]),t("el-radio",{attrs:{label:"GRPC"}},[e._v("gRPC")])],1)],1),"DUBBO"===e.requestForm.type||"GRPC"===e.requestForm.type?[t("el-form-item",{key:"serviceName",attrs:{label:"服务名",prop:"serviceName"}},[t("el-input",{staticStyle:{width:"50%","margin-right":"10px"},attrs:{placeholder:"请选择接口",disabled:""},model:{value:e.requestForm.serviceName,callback:function(t){e.$set(e.requestForm,"serviceName",t)},expression:"requestForm.serviceName"}}),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showRpcSelector=!0}}},[e._v("选择接口")]),t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.showRpcAdd=!0}}},[e._v("新增接口")])],1),t("el-form-item",{key:"method",attrs:{label:"方法名",prop:"method"}},[t("el-input",{attrs:{disabled:""},model:{value:e.requestForm.method,callback:function(t){e.$set(e.requestForm,"method",t)},expression:"requestForm.method"}})],1),"DUBBO"===e.requestForm.type?[t("el-form-item",{attrs:{label:"版本",prop:"version"}},[t("el-input",{attrs:{disabled:""},model:{value:e.requestForm.version,callback:function(t){e.$set(e.requestForm,"version",t)},expression:"requestForm.version"}}),t("span",{staticClass:"key-tips"},[e._v("Dubbo服务的版本号")])],1),t("el-form-item",{attrs:{label:"分组",prop:"group"}},[t("el-input",{attrs:{disabled:""},model:{value:e.requestForm.group,callback:function(t){e.$set(e.requestForm,"group",t)},expression:"requestForm.group"}}),t("span",{staticClass:"key-tips"},[e._v("Dubbo服务的分组")])],1),t("el-form-item",{attrs:{label:"参数类型",prop:"paramTypes"}},[t("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.requestForm.paramTypes,callback:function(t){e.$set(e.requestForm,"paramTypes",t)},expression:"requestForm.paramTypes"}})],1)]:e._e()]:[t("el-form-item",{key:"method",attrs:{label:"请求方法",prop:"method"}},[t("el-select",{attrs:{placeholder:"请选择请求方法",clearable:""},model:{value:e.requestForm.method,callback:function(t){e.$set(e.requestForm,"method",t)},expression:"requestForm.method"}},e._l(e.apiMethod,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.showNewURL||e.newUrlTrigger?[t("el-form-item",{key:"protocol",attrs:{label:"协议",prop:"protocol"}},[t("el-select",{attrs:{placeholder:"请选择协议",clearable:""},model:{value:e.requestForm.protocol,callback:function(t){e.$set(e.requestForm,"protocol",t)},expression:"requestForm.protocol"}},[t("el-option",{attrs:{label:"HTTP",value:"http"}}),t("el-option",{attrs:{label:"HTTPS",value:"https"}})],1)],1),t("el-form-item",{key:"serviceType",attrs:{label:"服务类型",prop:"serviceType"}},[t("el-radio-group",{on:{change:e.serviceTypeChange},model:{value:e.requestForm.serviceType,callback:function(t){e.$set(e.requestForm,"serviceType",t)},expression:"requestForm.serviceType"}},[t("el-radio",{attrs:{label:1}},[e._v("服务发现")]),t("el-radio",{attrs:{label:2}},[e._v("HTTP服务\n              "),t("el-tooltip",{attrs:{placement:"top"}},[t("span",{attrs:{slot:"content"},slot:"content"},[e._v("RPC管理->服务声明里维护的HTTP服务实例")]),t("i",{staticClass:"el-icon-question"})])],1)],1)],1),1===e.requestForm.serviceType?[t("el-form-item",{attrs:{label:"注册中心：",prop:"registryName"}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择 注册中心",clearable:""},on:{change:e.changeRegister},model:{value:e.requestForm.registryName,callback:function(t){e.$set(e.requestForm,"registryName",t)},expression:"requestForm.registryName"}},e._l(e.registerList,(function(e,n){return t("el-option",{key:n,attrs:{label:e.value,value:e.value}})})),1)],1),t("el-form-item",{key:"serviceName",attrs:{label:"服务名：",prop:"serviceName"}},[t("el-select",{staticClass:"service-name-select",attrs:{placeholder:"请选择服务名",filterable:"",clearable:""},model:{value:e.requestForm.serviceName,callback:function(t){e.$set(e.requestForm,"serviceName",t)},expression:"requestForm.serviceName"}},e._l(e.serviceList,(function(e,n){return t("el-option",{key:n,attrs:{label:e.value,value:e.value}})})),1)],1)]:2===e.requestForm.serviceType?[t("el-form-item",{key:"serviceName",attrs:{label:"服务名：",prop:"serviceName"}},[t("el-select",{staticClass:"service-name-select",attrs:{placeholder:"请选择服务名",filterable:"",clearable:""},model:{value:e.requestForm.serviceName,callback:function(t){e.$set(e.requestForm,"serviceName",t)},expression:"requestForm.serviceName"}},e._l(e.httpServiceOptions,(function(n,r){return t("el-option",{key:r,attrs:{label:e.renderServiceName(n),value:n.service}})})),1),!e.disabled&&e.permissionList.serviceAddBtn?t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",plain:""},on:{click:function(t){e.showHttpServiceAdd=!0}}},[e._v("新增HTTP服务\n            ")]):e._e()],1)]:e._e(),t("el-form-item",{key:"path",attrs:{label:"API路径",prop:"path"}},[t("el-input",{attrs:{clearable:""},model:{value:e.requestForm.path,callback:function(t){e.$set(e.requestForm,"path",t)},expression:"requestForm.path"}}),t("span",{staticClass:"key-tips"},[e._v("输入接口路径，如：/api/getMebInfo； 路径支持引用参数，如：/user/{step1.request1.response.body.id}/info 或 /user/{step1.request1.response.body.id|123}，管道符|后为默认值")])],1)]:e._e(),e.showNewURL?e._e():t("fieldset",{staticStyle:{"margin-bottom":"10px"}},[t("legend",[e._v("接口URL(旧) -\n          "+e._s(e.newUrlTrigger?"请使用以上新的字段配置接口URL":"请使用新的字段配置接口URL")+"\n          "),e.newUrlTrigger?e._e():t("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){e.newUrlTrigger=!0}}},[e._v("使用URL新字段\n          ")])],1),t("el-form-item",{attrs:{label:"默认URL",prop:"url"}},[t("el-input",{attrs:{placeholder:"请输入默认URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.url,callback:function(t){e.$set(e.requestForm,"url",t)},expression:"requestForm.url"}},[t("el-tooltip",{attrs:{slot:"append",placement:"top"},slot:"append"},[t("span",{attrs:{slot:"content"},slot:"content"},[e._v("\n                URL格式(支持http和https协议)："),t("br"),e._v("\n                服务发现：http://service-name/path_to_api, 如：http://member-service/api/member/info"),t("br"),e._v("\n                直接调用：http://IP[:port]/path_to_api, 如：http://10.2.3.101:8080/api/member/info"),t("br"),e._v("\n                域名调用：http://FQDN[:port]/path_to_api, 如：http://member.abc.com/api/member/info"),t("br")]),t("el-button",{attrs:{icon:"el-icon-question"}})],1)],1)],1),t("el-form-item",{attrs:{label:"开发环境URL",prop:"devUrl"}},[t("el-input",{attrs:{placeholder:"请输入开发环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.devUrl,callback:function(t){e.$set(e.requestForm,"devUrl",t)},expression:"requestForm.devUrl"}})],1),t("el-form-item",{attrs:{label:"测试环境URL",prop:"testUrl"}},[t("el-input",{attrs:{placeholder:"请输入测试环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.testUrl,callback:function(t){e.$set(e.requestForm,"testUrl",t)},expression:"requestForm.testUrl"}})],1),t("el-form-item",{attrs:{label:"预生产环境URL",prop:"preUrl"}},[t("el-input",{attrs:{placeholder:"请输入预生产环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.preUrl,callback:function(t){e.$set(e.requestForm,"preUrl",t)},expression:"requestForm.preUrl"}})],1),t("el-form-item",{attrs:{label:"生产环境URL",prop:"prodUrl"}},[t("el-input",{attrs:{placeholder:"请输入生产环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.prodUrl,callback:function(t){e.$set(e.requestForm,"prodUrl",t)},expression:"requestForm.prodUrl"}})],1)],1)],t("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"超时时间",prop:"timeout"}},[t("el-input-number",{attrs:{"controls-position":"right",min:0,placeholder:"例：10000"},model:{value:e.requestForm.timeout,callback:function(t){e.$set(e.requestForm,"timeout",t)},expression:"requestForm.timeout"}}),t("span",{staticClass:"unit"},[e._v("毫秒")])],1),t("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"失败重试",prop:"numRetries"}},[t("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.requestForm.numRetries,callback:function(t){e.$set(e.requestForm,"numRetries",t)},expression:"requestForm.numRetries"}}),t("span",{staticClass:"unit"},[e._v("次")])],1),t("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"重试间隔",prop:"retryInterval"}},[t("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.requestForm.retryInterval,callback:function(t){e.$set(e.requestForm,"retryInterval",t)},expression:"requestForm.retryInterval"}}),t("span",{staticClass:"unit"},[e._v("毫秒")])],1),t("el-form-item",{attrs:{label:"Fallback",prop:"fallback"}},[t("el-select",{attrs:{clearable:""},model:{value:e.requestForm.fallback.mode,callback:function(t){e.$set(e.requestForm.fallback,"mode",t)},expression:"requestForm.fallback.mode"}},[t("el-option",{attrs:{label:"stop",value:"stop"}}),t("el-option",{attrs:{label:"continue",value:"continue"}})],1)],1),e.requestForm.fallback&&"continue"===e.requestForm.fallback.mode?t("el-form-item",{attrs:{label:"Fallback响应Json",prop:"fallback.defaultResult"}},[t("el-input",{attrs:{type:"textarea",placeholder:"当Fallback=continue时填写"},model:{value:e.requestForm.fallback.defaultResult,callback:function(t){e.$set(e.requestForm.fallback,"defaultResult",t)},expression:"requestForm.fallback.defaultResult"}})],1):e._e(),t("el-form-item",{attrs:{label:"请求预处理",prop:"condition"}},[t("el-checkbox",{on:{change:e.conditionChange},model:{value:e.requestForm.conditionFlag,callback:function(t){e.$set(e.requestForm,"conditionFlag",t)},expression:"requestForm.conditionFlag"}},[e._v("设置预处理（预处理脚本返回true时才执行请求）\n      ")]),e.requestForm.conditionFlag?t("el-form-item",{attrs:{label:"脚本配置"}},[e.scriptId?t("div",[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openScript()}}},[e._v("\n            "+e._s("{ aggregate_config_script_id: ".concat(e.scriptId," }"))+"\n          ")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteScript(e.scriptId)}}},[e._v("\n            删除\n          ")])],1):t("el-button",{attrs:{type:"text",disabled:e.disabled},on:{click:function(t){return e.openScript()}}},[e._v("\n          "+e._s(e.disabled?"无":"新增")+"\n        ")]),t("script-dialog",{attrs:{visible:e.scriptVisible,callback:e.scriptCallback,"business-type":e.businessType,disabled:e.disabled,id:e.scriptId,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:visible":function(t){e.scriptVisible=t},"update:id":function(t){e.scriptId=t}}})],1):e._e()],1),"DUBBO"===e.requestForm.type?[t("el-form-item",{attrs:{label:"配置入参"}},[t("data-params",{key:"bubboRequest",staticClass:"highlight-border",attrs:{"header-name":"隐式参数","body-name":"方法参数","body-rules":e.dubboRules,"business-type":e.businessType,"has-query":!1,data:e.requestForm.dataMapping.request,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"request",t)}}},[t("template",{slot:"body"},[t("span",{staticClass:"key-tips"},[e._v("\n              Dubbo方法参数的字段名格式为pN，如: 第一个参数为p1, 第二个参数为p2; 如果参数是一个对象且要指定对象里某一个属性的值可输入pN.[attrName], 如：p1.userId\n            ")])])],2)],1),t("el-form-item",{attrs:{label:"配置响应"}},[t("data-params",{key:"bubboResponse",staticClass:"highlight-border",attrs:{"body-name":"响应","business-type":e.businessType,"has-query":!1,"has-header":!1,data:e.requestForm.dataMapping.response,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"response",t)}}})],1)]:"GRPC"===e.requestForm.type?[t("el-form-item",{attrs:{label:"配置入参"}},[t("data-params",{key:"grpcRequest",staticClass:"highlight-border",attrs:{"header-name":"元数据","body-name":"参数","business-type":e.businessType,"has-query":!1,data:e.requestForm.dataMapping.request,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"request",t)}}})],1),t("el-form-item",{attrs:{label:"配置响应"}},[t("data-params",{key:"grpcResponse",staticClass:"highlight-border",attrs:{"body-name":"响应","business-type":e.businessType,"has-header":!1,"has-query":!1,data:e.requestForm.dataMapping.response,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"response",t)}}})],1)]:[t("el-form-item",{attrs:{label:"配置入参"}},[t("data-params",{key:"restRequest",staticClass:"highlight-border",attrs:{"business-type":e.businessType,"has-body":"GET"!==e.requestForm.method,data:e.requestForm.dataMapping.request,"multiple-values":!0,"content-type":e.requestForm.dataMapping.request.contentType,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"request",t)}}},[t("template",{slot:"body"},[t("el-form-item",{attrs:{label:"内容类型",prop:"contentType"}},[t("el-radio-group",{model:{value:e.requestForm.dataMapping.request.contentType,callback:function(t){e.$set(e.requestForm.dataMapping.request,"contentType",t)},expression:"requestForm.dataMapping.request.contentType"}},[t("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),t("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")]),t("el-radio",{attrs:{label:"multipart/form-data"}},[e._v("form-data")]),t("el-radio",{attrs:{label:"application/x-www-form-urlencoded"}},[e._v("x-www-form-urlencoded")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"application/xml"===e.requestForm.dataMapping.request.contentType,expression:"requestForm.dataMapping.request.contentType === 'application/xml'"}],staticClass:"key-tips"},[e._v("\n                入参按JSON配置，网关会把JSON转换为XML，请参考\n                "),t("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("XML和JSON间的转换规则")])],1)],1)],1)],2)],1),t("el-form-item",{attrs:{label:"配置响应"}},[t("data-params",{key:"restResponse",staticClass:"highlight-border",attrs:{"header-name":"响应头","body-name":"响应体","business-type":e.businessType,"has-query":!1,data:e.requestForm.dataMapping.response,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"response",t)}}},[t("template",{slot:"body"},[t("el-form-item",{attrs:{label:"内容类型",prop:"contentType"}},[t("el-radio-group",{model:{value:e.requestForm.dataMapping.response.contentType,callback:function(t){e.$set(e.requestForm.dataMapping.response,"contentType",t)},expression:"requestForm.dataMapping.response.contentType"}},[t("el-radio",{attrs:{label:"auto"}},[e._v("Auto")]),t("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),t("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")]),t("el-radio",{attrs:{label:"text/plain"}},[e._v("Text")])],1),t("div",{staticClass:"key-tips"},[e._v("\n                Content-Type类型，默认根据响应头自动识别，如果响应头的Content-Type和响应内容类型不匹配时可手动选择内容类型。\n                当内容类型为XML时网关接收后会把它转换为JSON, 响应体按转换后的JSON格式配置即可\n              ")])],1),"application/xml"===e.requestForm.dataMapping.response.contentType?t("el-form-item",{attrs:{label:"数组节点路径",prop:"xmlArrPaths"}},[t("el-input",{attrs:{clearable:""},model:{value:e.requestForm.dataMapping.response.xmlArrPaths,callback:function(t){e.$set(e.requestForm.dataMapping.response,"xmlArrPaths",t)},expression:"requestForm.dataMapping.response.xmlArrPaths"}}),t("span",{staticClass:"key-tips"},[e._v("\n                输入XML响应体里数组节点的路径, 多个路径用逗号分隔，如：/root/data/user 用于指明user标签可能有多个要转换成一个JSON数组，\n                而不是转换成一个JSON对象。此字段仅在响应体为XML时有效。\n                "),t("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("XML和JSON间的转换规则")])],1)],1):e._e()],1)],2)],1)]],2),t("rpc-api-selector",{ref:"rpcApiSelector",attrs:{visible:e.showRpcSelector,type:e.requestForm.type},on:{"update:visible":function(t){e.showRpcSelector=t},confirm:e.getRpcApi}}),t("rpc-api-detail",{attrs:{type:"add",title:"新增RPC接口",visible:e.showRpcAdd,callback:e.addRpcCallback},on:{"update:visible":function(t){e.showRpcAdd=t}}}),t("service-dynamic-detail",{attrs:{type:"add",title:"新增HTTP服务","service-type":3,visible:e.showHttpServiceAdd,callback:e.getHttpServiceOptions},on:{"update:visible":function(t){e.showHttpServiceAdd=t}}}),t("xml-info",{attrs:{visible:e.xmlInoVisible},on:{"update:visible":function(t){e.xmlInoVisible=t}}})],1)},o=[],i=(n("8e6e"),n("456d"),n("ac6a"),n("c5f6"),n("bd86")),a=n("2fa9"),s=n("942a"),u=n("921f"),l=n("5880"),c=n("16cd"),f=n("c54a"),p=n("7b22"),d=n("3bfd"),h=n("1763"),y=n("74a0"),v=n("9fa8"),g=n("c983"),b=n("0a6a");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={name:"step-request-item",data:function(){return{requestForm:{components:[]},rules:{type:[{required:!0,message:"必填",trigger:"change"}],method:[{required:!0,message:"必填",trigger:"change"}],serviceName:[{required:!0,message:"必填",trigger:"change"}],protocol:[{required:!0,message:"必填",trigger:"change"}],serviceType:[{required:!0,message:"必填",trigger:"change"}],path:[{required:!0,message:"必填",trigger:"blur"}],"fallback.defaultResult":[{validator:function(e,t,n){t&&!Object(f["k"])(t)?n(new Error("请输入正确格式的JSON")):n()},trigger:"blur"}],registryName:[{required:!0,message:"必填",trigger:"change"}]},scriptVisible:!1,scriptId:"",dubboRules:{key:[{pattern:/^p(\d)+(\.(([A-Za-z\d])+))?$/,message:"dubbo类型的接口参数格式为: pN",trigger:"blur"}]},showRpcSelector:!1,showRpcAdd:!1,newUrlTrigger:!1,showHttpServiceAdd:!1,httpServiceOptions:[],xmlInoVisible:!1,registerList:[],serviceList:[]}},computed:_(_({},Object(l["mapGetters"])(["apiMethod","permission"])),{},{permissionList:function(){return{serviceAddBtn:this.vaildData(this.permission.rpc_service_add,!1)}},showNewURL:function(){return!(!this.requestForm.protocol&&(this.requestForm.url||this.requestForm.devUrl||this.requestForm.testUrl||this.requestForm.preUrl||this.requestForm.prodUrl))}}),props:{showAddComponent:{type:Boolean,default:!0},data:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},businessType:{type:String},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{scriptDialog:a["default"],dataParams:s["default"],rpcApiSelector:h["default"],rpcApiDetail:y["default"],serviceDynamicDetail:v["default"],xmlInfo:u["default"],addComponent:g["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(){this.initData()}},"data.registryName":{deep:!0,immediate:!0,handler:function(){this.getDiscoveryServiceOptions(this.data.registryName)}}},created:function(){this.getHttpServiceOptions(),this.getRegisterNameList()},methods:_(_({},Object(l["mapActions"])(["removeScript"])),{},{renderServiceName:function(e){return e.description?"".concat(e.service,"  (").concat(e.description,")"):e.service},serviceTypeChange:function(e){this.requestForm.serviceName&&this.$set(this.requestForm,"serviceName",""),2==e&&this.$set(this.requestForm,"registryName","")},getHttpServiceOptions:function(){var e=this;Object(p["b"])({type:3}).then((function(t){e.httpServiceOptions=t.data.data.records||[]}))},initData:function(){var e=this.data||{};this.scriptId&&(e.conditionFlag=!0),e.dataMapping||(e.dataMapping={request:{},response:{}}),"REQUEST"===e.type&&(e.dataMapping.request&&!e.dataMapping.request.contentType&&this.$set(e.dataMapping.request,"contentType","application/json"),e.dataMapping.response&&!e.dataMapping.response.contentType&&this.$set(e.dataMapping.response,"contentType","auto")),e.condition||(e.condition={}),e.components||(e.components=[]);var t="string"===typeof e.condition?JSON.parse(e.condition):e.condition;this.scriptId=t&&t["aggregate_config_script_id"]||"",this.requestForm=e,e.fallback||this.$set(this.requestForm,"fallback",{})},handleData:function(){return""===this.requestForm.timeout?delete this.requestForm.timeout:this.requestForm.timeout&&(this.requestForm.timeout=Number(this.requestForm.timeout)),this.requestForm.fallback&&""===this.requestForm.fallback.mode&&delete this.requestForm.fallback.mode,2==this.requestForm.serviceType&&delete this.requestForm.registryName,Object(c["c"])(this.requestForm)},emitData:function(){this.$emit("update:data",this.handleData())},validate:function(){var e=this;return this.emitData(),new Promise((function(t,n){e.$refs.requestForm.validate((function(e){e?t():n()}))}))},openScript:function(){this.scriptVisible=!0},conditionChange:function(e){e||(this.requestForm.condition={})},scriptCallback:function(){this.requestForm.condition=this.scriptId?{aggregate_config_script_id:this.scriptId}:{}},deleteScript:function(e){var t=this;this.$confirm("确定删除该脚本?",{type:"warning"}).then((function(){if(!t.isDelScriptWithHttp)return t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),void t.delCallback();t.removeScript(e).then((function(){t.delCallback()}))}))},delCallback:function(){this.scriptId="",this.requestForm.condition={},this.$message.success("删除成功")},handleTypeChange:function(){this.requestForm.method&&this.$set(this.requestForm,"method",""),this.requestForm.serviceName&&this.$set(this.requestForm,"serviceName",""),this.requestForm.version&&this.$set(this.requestForm,"version",""),this.requestForm.group&&this.$set(this.requestForm,"group",""),this.requestForm.paramTypes&&this.$set(this.requestForm,"paramTypes","")},getRpcApi:function(e){var t=e[0]||{};this.$set(this.requestForm,"serviceName",t.service||""),this.$set(this.requestForm,"method",t.method||""),this.$set(this.requestForm,"version",t.version||""),this.$set(this.requestForm,"group",t.group||""),this.$set(this.requestForm,"paramTypes",t.paramTypes||"")},addRpcCallback:function(){this.$refs.rpcApiSelector.onLoad()},getRegisterNameList:function(){var e=this;Object(b["d"])().then((function(t){if(200===t.data.code){var n=t.data.data;n.forEach((function(t){e.registerList.push({label:t,value:t})}))}}))},changeRegister:function(e){this.$set(this.requestForm,"serviceName",""),this.getDiscoveryServiceOptions(e)},getDiscoveryServiceOptions:function(e){var t=this;e?Object(d["d"])({registryName:e}).then((function(e){var n=e.data.data||[];t.serviceList=[],n.forEach((function(e){t.serviceList.push({label:e,value:e})}))})):this.serviceList=[]}})},w=O,x=(n("73d1"),n("9be0"),n("2877")),j=Object(x["a"])(w,r,o,!1,null,"71fe854a",null);t["default"]=j.exports},fde4:function(e,t,n){n("bf90");var r=n("584a").Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}}}]);