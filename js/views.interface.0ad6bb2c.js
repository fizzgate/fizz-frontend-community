/*!
 * Fizz-Admin v2.6.6
 * (c) 2020-2022 Joker-Lee
 * AGPL v3 Licensed.
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views.interface"],{"042a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"document-inter-main"},[a("div",{staticClass:"left-con tree-document"},[a("el-tree",{ref:"tree",staticClass:"tree",attrs:{data:e.treeData,props:e.defaultProps,"highlight-current":"","node-key":"key","default-expanded-keys":e.defaultExpandedKeys,"current-node-key":e.currentNodeKey},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node;t.data;return a("span",{staticClass:"span-ellipsis"},[a("span",{attrs:{title:n.label}},[e._v(e._s(n.label))])])}}])})],1),a("div",{staticClass:"right-con"},[a("interInfo",{attrs:{docJson:e.docJson,curJson:e.curJson,disabled:e.disabled,otherInfo:e.otherInfo,showOtherInfo:!0},on:{changeOtherInfo:e.changeOtherInfo}})],1)])])},i=[],r=(a("8e6e"),a("456d"),a("ade3")),o=(a("6762"),a("2fdb"),a("3835")),s=(a("ffc1"),a("8615"),a("ac6a"),a("5df3"),a("f400"),a("7f7f"),a("20d6"),a("862dd")),c=a("307b");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={isShow:1,isAuth:1,isSupportDebug:1,remark:""},p={name:"interface-info",components:{interInfo:s["default"]},props:{docJson:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},otherInfo:{type:Object,default:function(){return{}}}},data:function(){return{currentNodeKey:"",defaultExpandedKeys:[],defaultProps:{children:"children",label:"name"},treeData:[],curJson:{},formMap:{}}},computed:{tags:function(){return this.docJson.tags||{}},paths:function(){return this.docJson.paths||{}}},methods:{handleNodeClick:function(e){var t=-1;if(e.tags&&e.tags.length>0){var a=e.tags[0];t=this.tags.findIndex((function(e){return e.name===a}))}-1!==t?(this.curJson=e,this.currentNodeKey=e.key):this.$refs.tree.setCurrentKey(this.currentNodeKey)},emitData:function(){this.$emit("changeOtherInfo",this.formMap)},changeOtherInfo:function(e){this.formMap=e},renderTreeData:function(){var e=this,t=new Map,a=Object(c["a"])(this.tags);this.treeData=a||[],Object.values(a).forEach((function(a,n){e.treeData[n].key=a.name,Object.entries(e.paths).forEach((function(i){var r=Object(o["a"])(i,2),s=r[0],c=r[1];Object.entries(c).forEach((function(i){var r=Object(o["a"])(i,2),c=r[0],l=r[1];t.has("".concat(a.name,"_").concat(l.summary))||(t.set("".concat(a.name,"_").concat(l.summary)),l.tags.includes(a.name)&&(e.treeData[n].children||(e.treeData[n].children=[]),e.treeData[n].children.push(u(u({},l),{},{name:l.summary,path:s,method:c,key:"".concat(a.name,"_").concat(l.summary)}))))}))}))})),this.treeData.length>0&&(this.treeData[0].children.length>0?(this.defaultExpandedKeys=[this.treeData[0].children[0].key],this.currentNodeKey=this.treeData[0].children[0].key,this.curJson=this.treeData[0].children[0]):(this.defaultExpandedKeys=[this.treeData[0].key],this.currentNodeKey=this.treeData[0].key,this.curJson=this.treeData[0]),this.$nextTick((function(){e.$refs.tree.setCurrentKey(e.currentNodeKey)})))},renderTree:function(){var e=this;this.$nextTick((function(){e.curJson={},e.treeData=[],e.renderTreeData()}))}},mounted:function(){this.$emit("getDefaultOhterInfo",d)}},f=p,h=(a("dd78"),a("b978"),a("2877")),m=Object(h["a"])(f,n,i,!1,null,"4a75416d",null);t["default"]=m.exports},"04a6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"auth-detail"},[a("el-card",{staticClass:"main"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.name?a("el-tag",[e._v(e._s(e.form.name))]):e._e(),e._v(" \r\n          "),a("b",[e._v(e._s(e.title))])],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("基础信息")]),a("el-form",{ref:"form",attrs:{disabled:e.disabled,model:e.form,rules:e.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入 名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("文档列表")]),e.showApi?a("api",{ref:"api",attrs:{data:e.openDocs,disabled:e.disabled},on:{"update:data":function(t){e.openDocs=t}}}):e._e(),e.disabled?e._e():a("footer",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check",loading:e.loading},on:{click:e.submitHandle}},[e._v(" 确 定 ")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.cancel}},[e._v(" 取 消 ")])],1)],1)],1)},i=[];a("6762"),a("2fdb");function r(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}function o(e,t){if(null==e)return{};var a,n,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}a("96cf");var s=a("1da1"),c=(a("ac6a"),a("5df3"),a("2620")),l=a("f38d"),u=["openDocs"],d={components:{api:l["default"]},data:function(){return{form:{},rules:{name:[{required:!0,message:"必填",trigger:"blur"}]},loading:!1,disabled:!1,activeTab:"api",openDocs:[],showApi:!1}},computed:{title:function(){var e="";switch(this.type){case"add":e="新增文档集";break;case"edit":e="修改文档集";break;case"view":e="文档集详情";break}return e},type:function(){return this.$route.query.type},id:function(){return this.$route.query.id}},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(a(),this.init())},methods:{submitHandle:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a=[e.$refs.api.validate()];Promise.all(a).then((function(){e.saveHandle()})).catch((function(t){e.$message.warning(t)}))}}))},handleParam:function(){this.$refs.api.emitData();var e={openDocs:this.openDocs};return Object.assign(this.form,e)},saveHandle:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="add"===this.type?c["a"]:c["e"],a=this.handleParam(),e.next=5,t(a).then((function(e){200===e.data.code?(n.$message({type:"success",message:"保存成功！"}),"add"===n.type?n.cancel():n.getDetail()):n.$message({type:"error",message:e.data.msg||"保存失败！"})}),(function(){n.loading=!1}));case 5:this.loading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDetail:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.showApi=!1,e.prev=1,e.next=4,Object(c["b"])(this.id).then((function(e){if(200===e.data.code){var a=e.data.data,n=a.openDocs,i=o(a,u);t.form=i,t.openDocs=n}else t.$message({type:"error",message:e.data.msg||"获取详情 失败！"})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0);case 9:this.showApi=!0;case 10:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/interface/collection"})},init:function(){["edit","view"].includes(this.type)?this.getDetail():this.showApi=!0,"view"===this.type&&(this.disabled=!0)}},mounted:function(){this.init()}},p=d,f=(a("e784"),a("2877")),h=Object(f["a"])(p,n,i,!1,null,"53b1e608",null);t["default"]=h.exports},"0501":function(e,t,a){"use strict";a("fd18")},"09a8":function(e,t,a){},"0a0b":function(e,t,a){"use strict";a("2c36")},"0ef3":function(e,t,a){},"110c":function(e,t,a){},1330:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择前端服务名","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"700px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"select-service-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",size:"small",border:"","max-height":"500"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"前端服务名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.label))]}}])})],1)],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submitHandle}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("1da1")),o=a("2909"),s=a("ade3"),c=a("5880");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={label:"ALL",value:"ALL"},p={name:"select-service",props:{visible:{type:Boolean,default:!1}},computed:u(u({},Object(c["mapGetters"])(["frontendServiceOptions"])),{},{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDialog")}}}),data:function(){return{multipleSelection:[],tableData:[],loading:!0}},watch:{frontendServiceOptions:{deep:!0,handler:function(){this.tableData=[d].concat(Object(o["a"])(this.frontendServiceOptions))}}},methods:u(u({},Object(c["mapActions"])(["getFrontendServiceOptions"])),{},{handleSelectionChange:function(e){this.multipleSelection=e},submitHandle:function(){if(0!==this.multipleSelection.length){var e=this.multipleSelection.some((function(e){return"ALL"===e.value}));this.$emit("emitData",e?[d]:this.multipleSelection),this.dialogVisible=!1}else this.$message.warning("请选择数据!")}}),mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.getFrontendServiceOptions();case 3:this.loading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},f=p,h=(a("59ee"),a("2877")),m=Object(h["a"])(f,n,i,!1,null,"550b817c",null);t["default"]=m.exports},1371:function(e,t,a){},"163d9":function(e,t,a){"use strict";a("1371")},1659:function(e,t,a){"use strict";a("1e3e")},1679:function(e,t,a){},"179e":function(e,t,a){},"18df":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),e.visible?a("addressDetail",{attrs:{type:e.type,id:e.form.id,visible:e.visible},on:{doSearch:e.searchReset,changeDrawer:function(t){e.visible=!1}}}):e._e()],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("7f9e"),c=a("16cd"),l=a("a2ea");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"address",components:{addressDetail:s["default"]},data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:800,border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,column:[{label:"环境",prop:"env",search:!0,overHidden:!0},{label:"请求地址",prop:"reqUrl",search:!1,overHidden:!0}]},data:[],type:"",visible:!1}},computed:d(d({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.interface_address_add,!1),editBtn:this.vaildData(this.permission.interface_address_edit,!1),viewBtn:this.vaildData(this.permission.interface_address_view,!1),delBtn:this.vaildData(this.permission.interface_address_remove,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{handleSubmitData:function(e){return e=Object(c["b"])(e),e},rowDel:function(e){var t=this;this.$confirm("你确定要删除此环境信息吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["d"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.type=t,this.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(l["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},f=p,h=a("2877"),m=Object(h["a"])(f,n,i,!1,null,"2c295efa",null);t["default"]=m.exports},"19d7":function(e,t,a){},"1a9b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择用户","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"700px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",size:"small",border:"","max-height":"400"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"用户名",prop:"name"}})],1)],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submitHandle}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("1da1")),o=a("ade3"),s=a("5880"),c=a("4c02");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"select-users",props:{visible:{type:Boolean,default:!1}},computed:u(u({},Object(s["mapGetters"])(["userInfo"])),{},{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDialog")}},isAdmin:function(){return this.userInfo.is_admin||!1}}),data:function(){return{multipleSelection:[],tableData:[],loading:!1}},methods:{handleSelectionChange:function(e){this.multipleSelection=e},submitHandle:function(){0!==this.multipleSelection.length?(this.$emit("emitData",this.multipleSelection),this.dialogVisible=!1):this.$message.warning("请选择数据!")},getUseList:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isAdmin){e.next=3;break}return this.tableData.push({id:this.userInfo.user_id,name:this.userInfo.nick_name||this.userInfo.user_name}),e.abrupt("return");case 3:return this.loading=!0,e.next=6,Object(c["d"])().then((function(e){200==e.data.code&&(t.tableData=e.data.data)}));case 6:this.loading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.getUseList()}},p=d,f=(a("8f7a"),a("2877")),h=Object(f["a"])(p,n,i,!1,null,"34822b38",null);t["default"]=h.exports},"1e18":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r}));var n=[{label:"接口专线",value:1},{label:"网站专线",value:2}],i=[{label:"是",value:1},{label:"否",value:0}],r=[{label:"未配对",value:1},{label:"已配对",value:2},{label:"需重新配对",value:3}]},"1e3e":function(e,t,a){},"1eab":function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/auth-info/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},l=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/auth-info/save"),method:"post",data:e})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/auth-info/update"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/auth-info/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/auth-info/detail/").concat(e),method:"get"})}},2620:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/open-doc-set/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},l=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc-set/detail/").concat(e),method:"get"})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc-set/save"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc-set/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc-set/update"),method:"post",data:e})}},"27ec":function(e,t,a){"use strict";a("1679")},"2c36":function(e,t,a){},"2db3":function(e,t,a){},"2de0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.name?a("el-tag",[e._v(e._s(e.form.name))]):e._e(),e._v(" \n      "),a("b",[e._v(e._s(e.title))])],1),a("el-form",{ref:"form",attrs:{disabled:e.disabled,model:e.form,rules:e.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"主题",prop:"subject"}},[a("el-input",{attrs:{placeholder:"请输入 主题"},model:{value:e.form.subject,callback:function(t){e.$set(e.form,"subject",t)},expression:"form.subject"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 描述"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),a("el-form-item",{attrs:{label:"前端服务名",prop:"services"}},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addService}},[e._v("添加服务")]),a("el-table",{staticStyle:{width:"500px"},attrs:{data:e.serviceList,border:"",size:"small","max-height":"300"}},[a("el-table-column",{attrs:{prop:"value",label:"服务名"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index;return[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.delService(n)}}},[e._v("删除")])]}}])})],1)],1),a("el-form-item",{attrs:{label:"订阅告警",prop:"type"}},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeList,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value,name:"type"}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"用户",prop:"userIds"}},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addUser}},[e._v("添加用户")]),a("div",{staticClass:"key-tips"},[e._v("告警邮件发送到个人资料里填写的邮箱")]),a("el-table",{staticStyle:{width:"500px"},attrs:{data:e.userList,border:"",size:"small","max-height":"300"}},[a("el-table-column",{attrs:{prop:"name",label:"用户名"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index,i=t.row;return[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete",disabled:e.disabled||i.id!==e.userInfo.user_id&&!e.isAdmin},on:{click:function(t){return e.delUser(n)}}},[e._v("删除")])]}}])})],1)],1)],1),e.disabled?e._e():a("footer",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check",loading:e.loading},on:{click:e.submitHandle}},[e._v("\n        确 定\n      ")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.cancel}},[e._v("\n        取 消\n      ")])],1),e.serviceVisible?a("selectSreviceDialog",{attrs:{visible:e.serviceVisible},on:{changeDialog:function(t){e.serviceVisible=!1},emitData:e.selectService}}):e._e(),e.usersVisible?a("selectUsersDialog",{attrs:{visible:e.usersVisible},on:{changeDialog:function(t){e.usersVisible=!1},emitData:e.selectUsrs}}):e._e()],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("3835")),o=(a("ffc1"),a("ac6a"),a("ade3")),s=a("5880"),c=a("1330"),l=a("1a9b"),u=a("4c02");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={components:{selectSreviceDialog:c["default"],selectUsersDialog:l["default"]},data:function(){return{loading:!1,form:{type:[],services:[],userIds:[]},rules:{subject:[{required:!0,message:"请输入 主题",trigger:"blur"}],services:[{required:!0,message:"请选择 前端服务名",trigger:"change"}],type:[{required:!0,message:"请选择 订阅告警",trigger:"change"}]},typeList:[{label:"接口错误",value:"1"},{label:"接口超时",value:"2"},{label:"限流",value:"3"},{label:"熔断",value:"4"}],checkAll:!1,isIndeterminate:!0,serviceList:[],userList:[],serviceVisible:!1,usersVisible:!1}},computed:p(p({},Object(s["mapGetters"])(["userInfo"])),{},{title:function(){var e="";switch(this.type){case"add":e="新增告警订阅";break;case"edit":e="修改告警订阅";break;case"view":e="告警订阅详情";break}return e},type:function(){return this.$route.query.type},id:function(){return this.$route.query.id},isAdmin:function(){return this.userInfo.is_admin||!1}}),methods:{submitHandle:function(){var e=this;this.form.services=[],this.form.userIds=[],this.serviceList.forEach((function(t){e.form.services.push(t.value)})),this.userList.forEach((function(t){e.form.userIds.push(t.id)})),this.$refs.form.validate((function(t){if(t){var a="add"===e.type?u["a"]:u["f"];e.loading=!0,a(e.handleData()).then((function(t){200==t.data.code&&(e.$message.success("操作成功！"),e.cancel()),e.loading=!1})).catch((function(){e.loading=!1}))}else e.$message.warning("请完善表单信息！")}))},handleData:function(){var e=[];return e=this.form.type.length===this.typeList.length?["0"]:this.form.type,{id:this.form.id,desc:this.form.desc,services:this.form.services,subject:this.form.subject,types:e,userIds:this.form.userIds}},cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/alarm/subscription"})},handleCheckAllChange:function(e){var t=[];this.typeList.forEach((function(e){t.push(e.value)})),this.form.type=e?t:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.typeList.length,this.isIndeterminate=t>0&&t<this.typeList.length},addUser:function(){this.usersVisible=!0},addService:function(){this.serviceVisible=!0},delService:function(e){var t=this;this.$confirm("确定删除该服务名?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.serviceList.splice(e,1)}))},delUser:function(e){var t=this;this.$confirm("确定删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.userList.splice(e,1)}))},selectService:function(e){var t=this,a={};this.serviceList.forEach((function(e){a[e.value]=!0})),e.forEach((function(e){a[e.value]||t.serviceList.push(e)}))},selectUsrs:function(e){var t=this,a={};this.userList.forEach((function(e){a[e.id]=!0})),e.forEach((function(e){a[e.id]||t.userList.push(e)}))},getDetail:function(){var e=this;Object(u["b"])(this.id).then((function(t){200==t.data.code&&(e.form=Object.assign({},e.form,t.data.data),Object.entries(e.form.userId2NameMap).forEach((function(t){var a=Object(r["a"])(t,2),n=a[0],i=a[1];e.userList.push({id:n,name:i})})),e.form.services.forEach((function(t){e.serviceList.push({label:t,value:t})})),e.typeList.forEach((function(t){(e.form.types.indexOf("0")>-1||e.form.types.indexOf(t.value)>-1)&&e.form.type.push(t.value)})),e.checkAll=e.form.type.length===e.typeList.length,e.isIndeterminate=e.form.type.length>0&&e.form.type.length<e.typeList.length)}))}},mounted:function(){"view"===this.type&&(this.disabled=!0),"add"!==this.type&&this.getDetail()}},h=f,m=(a("6c8c"),a("2877")),b=Object(m["a"])(h,n,i,!1,null,"72c8e8a7",null);t["default"]=b.exports},"2f32":function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return f})),a.d(t,"e",(function(){return h}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},l=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/save"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/update"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/detail/").concat(e),method:"get"})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/pair-code/detail/").concat(e),method:"get"})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/pair-code/regenerate"),method:"post",data:e})}},3657:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto","show-message":!1}},[a("el-table",{staticClass:"request-table",attrs:{data:e.form.data,size:e.size,border:"","default-expand-all":""}},[a("el-table-column",{attrs:{prop:"name",label:"参数名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"data."+t.$index+".name",rules:e.form.rules.name}},[a("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"参数名"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"required",label:"必填",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"data."+t.$index+".required",rules:e.form.rules.required}},[a("el-checkbox",{attrs:{size:e.size,disabled:e.disabled},model:{value:t.row.required,callback:function(a){e.$set(t.row,"required",a)},expression:"scope.row.required"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"description",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"data."+t.$index+".description",rules:e.form.rules.description}},[a("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"描述"},model:{value:t.row.description,callback:function(a){e.$set(t.row,"description",a)},expression:"scope.row.description"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"example",label:"示例值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"data."+t.$index+".example",rules:e.form.rules.example}},[a("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"示例值"},model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}})],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:"插入新的参数",placement:"top-start"}},[a("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("插入\n          ")])],1),a("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(a){return e.handleDelete(t.$index)}}},[e._v("删除\n        ")])]}}])}),a("template",{slot:"empty"},[a("div",{staticStyle:{padding:"20px"}},[a("avue-empty"),a("el-button",{attrs:{type:"primary",size:e.size,disabled:e.disabled},on:{click:function(t){return e.initTableData()}}},[e._v("新增数据")])],1)])],2)],1)},i=[],r={name:"request-table",props:{disabled:{type:Boolean,default:!1},size:{type:String,default:"mini"},data:{type:Array,default:function(){return[]}}},watch:{data:{deep:!0,handler:function(){this.form.data=this.data}}},data:function(){return{activeTab:"header",form:{data:[],rules:{name:[{required:!0,trigger:"blur"}]}}}},methods:{handleAdd:function(){this.form.data.splice(0,0,{name:"",required:!0,description:"",example:""})},handleDelete:function(e){this.form.data.splice(e,1)},initTableData:function(){this.form.data.push({name:"",required:!0,description:"",example:""})},validate:function(){var e=this;return new Promise((function(t,a){e.$refs.form.validate((function(n){n?(e.emitData(),t()):(e.$message({showClose:!0,message:"请完善信息！",type:"warning"}),a("请完善信息"))}))}))},emitData:function(){this.$emit("emitData",this.form.data),this.$emit("update:data",this.form.data)}}},o=r,s=(a("aab0"),a("2877")),c=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=c.exports},3835:function(e,t,a){"use strict";function n(e){if(Array.isArray(e))return e}function i(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,i,r=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(n=a.next()).done);o=!0)if(r.push(n.value),t&&r.length===t)break}catch(c){s=!0,i=c}finally{try{o||null==a["return"]||a["return"]()}finally{if(s)throw i}}return r}}a.d(t,"a",(function(){return s}));var r=a("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return n(e)||i(e,t)||Object(r["a"])(e,t)||o()}},"38e0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"preview"},[a("el-card",{staticClass:"preview-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.documentName?a("el-tag",[e._v(e._s(e.documentName))]):e._e(),e._v(" \r\n        "),a("b",[e._v(e._s(e.title))])],1),a("div",{attrs:{id:"micro"}})])],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("34ac9"),s=a("1ca4"),c=a("27ae"),l=a("0a5a"),u=a("e223");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={name:"preview",data:function(){return{app:null}},computed:{id:function(){return this.$route.query.id},documentName:function(){return this.$route.query.documentName},type:function(){return this.$route.query.type},pageType:function(){return this.$route.query.pageType},title:function(){return"interface"===this.pageType?"接口文档预览":"document"===this.pageType?"文档集预览":""},pairId:function(){return this.$route.query.pairId},dedicatedLineBizId:function(){return this.$route.query.dedicatedLineBizId}},watch:{$route:{deep:!0,handler:function(){this.app&&(this.app.unmount(),this.actions.offGlobalStateChange(),this.loadApp())}}},methods:{loadApp:function(){var e=this;if(this.id&&Constant.document&&Constant.document.plugins&&Constant.document.plugins.openDocument){var t={pairId:this.pairId,documentId:this.id,dedicatedLineBizId:this.dedicatedLineBizId,type:this.type,headers:{Authorization:"Basic ".concat(c["Base64"].encode("".concat(s["a"].clientId,":").concat(s["a"].clientSecret))),"Blade-Auth":"bearer "+Object(l["a"])()}};this.app=Object(o["b"])(p(p({},Constant.document.plugins.openDocument),{},{container:"#micro",props:t}));var a=this.actions=Object(u["b"])(t),n=a.onGlobalStateChange;this.actions.setGlobalState(t),n((function(t){e.actions.setGlobalState(t)}))}}},mounted:function(){this.loadApp()},beforeDestroy:function(){this.app.unmount(),this.actions.offGlobalStateChange()}},h=f,m=(a("cadc"),a("2877")),b=Object(m["a"])(h,n,i,!1,null,null,null);t["default"]=b.exports},"3ec6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"添加文档",direction:"rtl","modal-append-to-body":!1,"append-to-body":!0,size:"900px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"selection-change":e.selectionChange},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.confirm()}}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=a("16cd"),o=a("52f7"),s={props:{visible:{type:Boolean,default:!1},app:{type:String,default:""}},data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{selection:!0,border:!0,index:!0,dialogClickModal:!1,menu:!1,menuPosition:"right",labelWidth:100,menuWidth:360,addBtn:!1,tip:!1,column:[{label:"服务名称",prop:"name",search:!0,searchSpan:12},{label:"描述",prop:"description",search:!0,searchSpan:12},{label:"版本",prop:"version",search:!1}]},data:[],selectionList:[]}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}}},methods:{selectionChange:function(e){this.selectionList=e},andleSubmitData:function(e){return e=Object(r["b"])(e),e},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["e"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},confirm:function(){0!==this.selectionList.length?(this.$emit("emitData",this.selectionList),this.dialogVisible=!1):this.$message.warning("请选择数据！")}}},c=s,l=(a("7e02"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"6b20132e",null);t["default"]=u.exports},4301:function(e,t,a){},"45ff":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"collection"},[a("input",{ref:"urlInput",staticClass:"url-input"}),a("el-alert",{staticClass:"link-con",attrs:{type:"warning"}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"label"},[e._v("快速集成开放文档：")]),a("el-link",{attrs:{type:"primary",href:"http://fizzgate.com/guide/manager/manager_open_document_use.html",target:"_blank"}},[e._v("\n        http://fizzgate.com/guide/manager/manager_open_document_use.html\n      ")])],1)]),a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[e.permissionList.previewBtn?a("el-button",{attrs:{icon:"el-icon-view",size:"small",type:"text"},on:{click:function(t){return e.handlePreview(n)}}},[e._v("预览")]):e._e(),a("el-button",{attrs:{icon:"el-icon-copy-document",size:"small",type:"text"},on:{click:function(t){return e.copyUrl(n.url)}}},[e._v("复制地址")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("96cf"),a("1da1")),o=(a("6762"),a("2fdb"),a("ade3")),s=a("2620"),c=a("52f7"),l=a("5880");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"collection",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,editBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,menuWidth:320,column:[{label:"名称",prop:"name",search:!0,width:150},{label:"描述",prop:"description",search:!0},{label:"地址",prop:"url",labelWidth:300}]},data:[],defaultOpenUrl:""}},computed:d(d({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.interface_collection_add,!1),editBtn:this.vaildData(this.permission.interface_collection_edit,!1),delBtn:this.vaildData(this.permission.interface_collection_remove,!1),viewBtn:this.vaildData(this.permission.interface_collection_view,!1),previewBtn:this.vaildData(this.permission.interface_collection_preview,!1)}}}),methods:{handleSubmitData:function(e){return e},rowDel:function(e){var t=this;this.$confirm("你确定要删除此文档集吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["d"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){["add","edit","view"].includes(t)&&this.$router.push({path:"/interface/collection/".concat(t),query:{id:this.form.id,type:t}})},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=i.length>1&&void 0!==i[1]?i[1]:{},this.loading=!0,this.defaultOpenUrl){e.next=5;break}return e.next=5,this.getOpenDocDefaultUrl();case 5:Object(s["c"])(t.currentPage,t.pageSize,Object.assign(a,this.query)).then((function(e){var t=e.data.data;n.page.total=t.total,n.loading=!1,n.data=t.records.map((function(e){return e.url="".concat(n.defaultOpenUrl,"?id=").concat(e.id),e}))}));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getOpenDocDefaultUrl:function(){var e=this;return Object(c["f"])().then((function(t){200===t.data.code?e.defaultOpenUrl=t.data.data:e.$message({type:"error",message:t.data.msg||"获取开放文档默认地址 失败！"})}))},copyUrl:function(e){this.$refs.urlInput.value=e,this.$refs.urlInput.select(),document.execCommand("copy"),this.$message({message:"地址已复制到粘贴板！",type:"success"})},handlePreview:function(e){this.$router.push({path:"/interface/document/preview",query:{id:e.id,documentName:e.name,pageType:"document"}})}}},f=p,h=(a("e954"),a("2877")),m=Object(h["a"])(f,n,i,!1,null,"2f37faaa",null);t["default"]=m.exports},"4bae":function(e,t,a){},"4c02":function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"d",(function(){return f}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},l=function(e){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/detail/").concat(e),method:"get"})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/remove"),method:"post",params:{ids:e}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/save"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/update"),method:"post",data:e})},f=function(){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/simple-user-list"),method:"get"})}},"4c3b":function(e,t,a){"use strict";a("ce64")},"4c67":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"history"},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("b",[e._v("文档历史版本")])]),a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[e.permissionList.previewBtn?a("el-button",{attrs:{icon:"el-icon-view",size:"small",type:"text"},on:{click:function(t){return e.handlePreview(n)}}},[e._v("预览")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("ade3")),o=a("5880"),s=a("b5c6"),c=a("da71");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e,t,a){return Object(s["a"])({url:"".concat(c["a"],"/open-doc/open-doc-history/list"),method:"get",params:u(u({},a),{},{current:e,size:t})})},p=function(e){return Object(s["a"])({url:"".concat(c["a"],"/open-doc/open-doc-history/remove"),method:"post",params:{ids:e}})};function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={name:"document-history",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:800,border:!0,index:!0,dialogClickModal:!1,viewBtn:!1,editBtn:!1,addBtn:!1,columnBtn:!1,menuPosition:"right",labelWidth:100,column:[{label:"名称",prop:"name",search:!0},{label:"描述",prop:"description",search:!0},{label:"版本",prop:"version",search:!1}]},data:[]}},computed:h(h({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{delBtn:this.vaildData(this.permission.interface_document_history_remove,!1),previewBtn:this.vaildData(this.permission.interface_document_history_preview,!1)}},id:function(){return this.$route.query.id}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowDel:function(e){var t=this;this.$confirm("你确定要删除此历史版本吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,d(e.currentPage,e.pageSize,Object.assign(a,this.query,{openDocId:this.id})).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},handlePreview:function(e){this.$router.push({path:"/interface/document/preview",query:{id:e.id,documentName:e.name,type:"history"}})}}},b=m,g=a("2877"),v=Object(g["a"])(b,n,i,!1,null,"0fb01072",null);t["default"]=v.exports},"50eb":function(e,t,a){},"52f7":function(e,t,a){"use strict";a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return f})),a.d(t,"c",(function(){return h})),a.d(t,"f",(function(){return m}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},l=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/save"),method:"post",data:e,timeout:4e4})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/update"),method:"post",data:e,timeout:4e4})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/detail/").concat(e),method:"get"})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/get-api-docs-by-service"),method:"get",params:e})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/get-api-docs-by-api"),method:"get",params:e})},m=function(){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/open-doc-default-url"),method:"get"})}},"55d7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"document-detail"},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[e.baseForm.name?a("el-tag",[e._v(e._s(e.baseForm.name))]):e._e(),e._v(" \n        "),a("b",[e._v(e._s(e.title))])],1),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.tabClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{staticClass:"base-con",attrs:{label:"基本信息",name:"base"}},[a("document-base",{ref:"base",attrs:{disabled:e.disabled,data:e.baseForm},on:{"update:data":function(t){e.baseForm=t},goInter:e.goInter}})],1),a("el-tab-pane",{attrs:{label:"接口信息",name:"interface",disabled:e.interTabDisabled}},[a("document-inter",{ref:"interface",attrs:{disabled:e.disabled,docJson:e.docJson,otherInfo:e.otherInfo},on:{"update:otherInfo":function(t){e.otherInfo=t},"update:other-info":function(t){e.otherInfo=t},changeOtherInfo:e.changeOtherInfo,getDefaultOhterInfo:function(t){return e.defaultOtherInfo=t}}})],1)],1),e.disabled?e._e():a("footer",[a("el-button",{attrs:{icon:"el-icon-circle-check",type:"primary",size:"small",loading:e.loading},on:{click:e.submit}},[e._v("保 存")]),a("el-button",{attrs:{icon:"el-icon-circle-close",size:"small"},on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],r=(a("8e6e"),a("6762"),a("2fdb"),a("96cf"),a("1da1")),o=(a("456d"),a("ade3")),s=(a("8615"),a("3835")),c=(a("ffc1"),a("ac6a"),a("7f7f"),a("52f7")),l=a("042a"),u=a("a9ec"),d=a("307b");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={components:{documentBase:u["default"],documentInter:l["default"]},data:function(){return{baseForm:{},loading:!1,docJson:{},openDocApis:[],otherInfo:{},defaultOtherInfo:{isShow:0,isAuth:0,isSupportDebug:0,remark:""},activeTab:"base",interTabDisabled:!0}},computed:{id:function(){return this.$route.query.id},disabled:function(){return"view"===this.$route.params.actionType},pageType:function(){return this.$route.params.actionType},title:function(){return"add"===this.pageType?"新增接口文档":"view"===this.pageType?"接口文档详情":"edit"===this.pageType?"编辑接口文档":void 0}},watch:{activeTab:function(){"interface"===this.activeTab&&this.$refs.interface.renderTree()}},methods:{tabClick:function(e){this.activeTab=e.name},goInter:function(e){this.docJson=Object(d["a"])(e),this.activeTab="interface",this.interTabDisabled=!1},renderOpenDocApis:function(){var e=[],t=this;return this.docJson&&this.docJson.paths&&Object.entries(this.docJson.paths).forEach((function(a){var n=Object(s["a"])(a,2),i=n[0],r=n[1];Object.values(r).forEach((function(a){var n=t.otherInfo[i]?t.otherInfo[i]:t.defaultOtherInfo;n.id&&delete n.id,e.push(f(f({content:JSON.stringify({curJson:f(f({},r),{},{path:i})}),module:a.tags.join(","),name:a.summary},n),{},{method:Object.entries(r)[0][0]||"",path:i}))}))})),e},renderOtherInfo:function(e){var t=this;e.forEach((function(e){if(e.content){var a=JSON.parse(e.content)||{},n=a.curJson.path;n&&(t.otherInfo[n]={},Object.keys(t.defaultOtherInfo).forEach((function(a){t.otherInfo[n][a]=e[a]})),t.otherInfo[n].id=e.id)}}))},changeOtherInfo:function(e){this.otherInfo=e},getDetail:function(){var e=this;Object(c["b"])(this.id).then((function(t){200===t.data.code?(e.baseForm=t.data.data,e.openDocApis=e.baseForm.openDocApis,e.docJson=JSON.parse(e.baseForm.content||{}),delete e.baseForm.openDocApis,e.interTabDisabled=!1,e.openDocApis&&e.renderOtherInfo(e.openDocApis||[])):e.$message({type:"error",message:t.data.msg||"获取详情 失败！"})}))},handleContent:function(){var e=this.docJson.definitions||{},t={swagger:this.docJson.swagger,info:{version:this.docJson.info.version},host:this.docJson.host,tags:this.docJson.tags,paths:this.docJson.paths,securityDefinitions:this.docJson.securityDefinitions,definitions:e};return t},handleSave:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="add"===this.pageType?c["a"]:c["h"],a=f(f({},this.baseForm),{},{content:JSON.stringify(this.handleContent()),openDocApis:this.renderOpenDocApis()||this.openDocApis}),this.loading=!0,e.next=5,t(a).then((function(e){200===e.data.code?(n.$message({type:"success",message:e.data.msg||"保存成功！"}),n.cancel()):n.$message({type:"error",message:e.data.msg||"保存失败！"})}),(function(){n.loading=!1}));case 5:this.loading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/interface/document"})},submit:function(){var e=this;this.$refs.interface.emitData(),this.$refs.base.validate().then((function(){if("add"===e.pageType&&(e.openDocApis=e.renderOpenDocApis()),e.openDocApis&&e.openDocApis.length>0)e.handleSave();else{var t="";switch(parseInt(e.baseForm.sourceType)){case 1:t="请点击 '获取' 按钮获取服务数据！";break;case 2:t="请点击 '获取' 按钮获取服务数据！";break;case 3:t="请点击 '加载' 按钮获取服务数据！";break}e.$message({type:"warning",message:t})}}))}},mounted:function(){["edit","view"].includes(this.pageType)&&this.getDetail()}},m=h,b=(a("a746"),a("d2bf"),a("2877")),g=Object(b["a"])(m,n,i,!1,null,"7ba92ec6",null);t["default"]=g.exports},"588e":function(e,t,a){"use strict";a("62d6")},"588ee":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[e.permissionList.previewBtn?a("el-button",{attrs:{icon:"el-icon-view",size:"small",type:"text"},on:{click:function(t){return e.handlePreview(n)}}},[e._v("预览")]):e._e(),e.permissionList.historyBtn?a("el-button",{attrs:{icon:"el-icon-bank-card",size:"small",type:"text"},on:{click:function(t){return e.handleHistory(n.id)}}},[e._v("历史版本")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("6762"),a("2fdb"),a("ade3")),o=a("5880"),s=a("16cd"),c=a("52f7");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"document",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,editBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,menuWidth:360,column:[{label:"服务名称",prop:"name",search:!0},{label:"描述",prop:"description",search:!0},{label:"版本",prop:"version",search:!1}]},data:[]}},computed:u(u({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.interface_document_add,!1),editBtn:this.vaildData(this.permission.interface_document_edit,!1),delBtn:this.vaildData(this.permission.interface_document_remove,!1),viewBtn:this.vaildData(this.permission.interface_document_view,!1),previewBtn:this.vaildData(this.permission.interface_document_preview,!1),historyBtn:this.vaildData(this.permission.interface_document_history,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{handleSubmitData:function(e){return e=Object(s["b"])(e),e},rowDel:function(e){var t=this;this.$confirm("你确定要删除此接口文档吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(c["g"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){["add","edit","view"].includes(t)&&this.$router.push({path:"/interface/document/".concat(t),query:{id:this.form.id}}),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(c["e"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},handleHistory:function(e){this.$router.push({path:"/interface/document/history",query:{id:e}})},handlePreview:function(e){this.$router.push({path:"/interface/interface/preview",query:{id:e.id,documentName:e.name,type:"real",pageType:"interface"}})}}},p=d,f=a("2877"),h=Object(f["a"])(p,n,i,!1,null,"4326bcce",null);t["default"]=h.exports},"59ee":function(e,t,a){"use strict";a("50eb")},"62d6":function(e,t,a){},"655d":function(e,t,a){"use strict";a("775d")},"684b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paginationSelect"},[a("el-select",{attrs:{disabled:e.disabled,filterable:"",multiple:e.multiple,placeholder:e.placeholder,"filter-method":e.filterMethod,loading:e.loading,clearable:e.clearable},on:{clear:e.selectClear,change:e.updateValue,focus:e.focusMethod},model:{value:e.copyValue,callback:function(t){e.copyValue=t},expression:"copyValue"}},[e._l(e.dataList,(function(t){return a("el-option",{key:t[e.valueKey],attrs:{label:t[e.labelKey],value:t[e.valueKey]}})})),e.showPagination?a("div",{staticClass:"pagination-con"},[a("el-pagination",{attrs:{"current-page":e.pageInfo.pageNo,"page-size":e.pageInfo.pageSize,layout:" prev, pager, next,total",total:e.pageInfo.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()],2)],1)},i=[],r={name:"paginationSelect",props:{value:{type:String,default:""},dataList:{type:Array,default:function(){return[]}},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},pageInfo:{type:Object,default:function(){return{pageNo:1,pageSize:10}}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},elSelectClass:Boolean,placeholder:{type:String,default:"请选择"},showPagination:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0}},watch:{value:{handler:function(e){this.copyValue=e},deep:!0}},data:function(){return{copyValue:this.value}},methods:{updateValue:function(){this.$emit("selectChange",this.copyValue),this.$emit("update:value",this.copyValue)},filterMethod:function(e){this.$emit("selectPageChange",1,this.pageInfo.pageSize,e)},focusMethod:function(){(!this.dataList||this.dataList&&0==this.dataList.length)&&this.filterMethod()},selectClear:function(){this.$emit("selectPageChange",1,this.pageInfo.pageSize,"")},handleCurrentChange:function(e){this.$emit("selectPageChange",e,this.pageInfo.pageSize)}}},o=r,s=(a("6ff4"),a("0a0b"),a("2877")),c=Object(s["a"])(o,n,i,!1,null,"4549380d",null);t["default"]=c.exports},"6c8c":function(e,t,a){"use strict";a("d9b3")},"6ff4":function(e,t,a){"use strict";a("c096")},"731d":function(e,t,a){},7485:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"b",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line-biz/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},l=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line-biz/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line-biz/save"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line-biz/update"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line-biz/detail/").concat(e),method:"get"})}},"76ed":function(e,t,a){"use strict";a("19d7")},"775d":function(e,t,a){},"7ab8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"business-detail"},[a("el-card",{staticClass:"main"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.name?a("el-tag",[e._v(e._s(e.form.name))]):e._e(),e._v(" \n      "),a("b",[e._v(e._s(e.title))])],1),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled,"label-width":"110px",size:"small"}},[a("el-form-item",{attrs:{label:"专线业务",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入 专线业务"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("div",{staticClass:"key-tips"},[e._v("专线业务名称")])],1),a("el-form-item",{attrs:{label:"业务描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 业务描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"业务类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择 业务类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.dedicatedLineType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"是否公开",prop:"isPublic"}},[a("el-radio-group",{model:{value:e.form.isPublic,callback:function(t){e.$set(e.form,"isPublic",t)},expression:"form.isPublic"}},e._l(e.isPublic,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1),a("div",{staticClass:"key-tips"},[e._v("公开的业务会出现在推荐列表里")])],1),a("el-form-item",{attrs:{label:"联系邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入 联系邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),a("div",{staticClass:"key-tips"},[e._v("邮箱用于接收商务合作邮件")])],1),1===e.form.type?[a("el-form-item",{attrs:{label:"绑定文档集",prop:"bind"}},[a("el-radio-group",{model:{value:e.form.bind,callback:function(t){e.$set(e.form,"bind",t)},expression:"form.bind"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),1===e.form.bind?a("el-form-item",{staticClass:"form-item-required",attrs:{label:"文档集"}},[a("paginationSelect",{attrs:{dataList:e.docSetList,loading:e.docSetLoading,labelKey:e.docSetLabelKey,valueKey:e.docSetValueKey,disabled:e.disabled,value:e.form.openDocSetId,clearable:!0,showPagination:!1},on:{selectChange:e.docSetSelectChange}}),a("el-table",{staticClass:"table",attrs:{data:e.docList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"openDocName",label:"文档名称"}}),a("el-table-column",{attrs:{prop:"service",label:"路由"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n                "+e._s(a.service||"")+"\n              ")]}}],null,!1,1367134722)}),a("el-table-column",{attrs:{prop:"",label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index;return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.showRoute(n,"doc")}}},[e._v("选择路由")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.addRouteLine}},[e._v("新增专线路由")])]}}],null,!1,1796623092)})],1)],1):e._e()]:e._e(),0===e.form.bind||2===e.form.type?a("el-form-item",{staticClass:"form-item-required line",attrs:{label:"专线路由"}},[e.disabled?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.showRoute(-1,"route")}}},[e._v("选择路由")]),e.disabled?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addRouteLine}},[e._v("新增专线路由")]),a("div",{staticClass:"key-tips"},[e._v("\n          路由要求：前端API路径统一为/**, 后端API路径统一为/{$1},\n          且不启用AppID\n        ")]),a("el-table",{staticClass:"table",attrs:{data:e.websiteRoute,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"service",label:"路由"}}),a("el-table-column",{attrs:{prop:"",label:"操作",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index;return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.delRoute(n)}}},[e._v("删除")])]}}],null,!1,2293877295)})],1)],1):e._e(),2===e.form.type?a("el-form-item",{attrs:{label:"网站入口路径",prop:"entrancePath"}},[a("el-input",{attrs:{placeholder:"请输入 网站入口路径"},model:{value:e.form.entrancePath,callback:function(t){e.$set(e.form,"entrancePath",t)},expression:"form.entrancePath"}}),a("div",{staticClass:"key-tips"},[e._v("请填写入口URL的路径部分")])],1):e._e(),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],2),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check",loading:e.loading},on:{click:e.submitHandle}},[e._v("保 存")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.cancel}},[e._v(" 取 消 ")])],1)],1),e.routeVisible?a("routeDidalog",{attrs:{visible:e.routeVisible,multiple:"route"===e.route.type},on:{changeDrawer:function(t){e.routeVisible=!1},emitData:e.routeChange}}):e._e()],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("96cf"),a("1da1")),o=a("ade3"),s=(a("20d6"),a("ac6a"),a("c54a")),c=a("bf76"),l=a("9a2a"),u=a("684b"),d=a("7485"),p=a("1e18"),f=a("2620");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=function(e,t,a){t&&!Object(s["h"])(t)?a(new Error("邮箱 格式不正确！")):a()},g={name:"businessDetail",components:{appidDialog:c["default"],routeDidalog:l["default"],paginationSelect:u["default"]},data:function(){return{dedicatedLineType:p["a"],isPublic:p["b"],form:{isPublic:1,bind:1,openDocSetId:""},rules:{name:[{required:!0,message:"请输入 专线业务",trigger:"blur"}],description:[{required:!0,message:"请输入 业务描述",trigger:"blur"}],type:[{required:!0,message:"请选择 业务类型",trigger:"change"}],isPublic:[{required:!0,message:"请输入 是否公开",trigger:"change"}],email:[{required:!0,message:"请输入 联系邮箱",trigger:"blur"},{validator:b,trigger:"blur"}],bind:[{required:!0,message:"请选择 是否绑定文档集",trigger:"change"}],entrancePath:[{required:!0,message:"请输入 网站入口路径",trigger:"blur"}]},websiteRoute:[],docSetList:[],docSetLoading:!1,docSetLabelKey:"name",docSetValueKey:"id",docList:[],routeVisible:!1,route:{type:"",index:-1}}},computed:{title:function(){var e="";switch(this.type){case"add":e="新增专线业务";break;case"edit":e="修改专线业务";break;case"view":e="专线业务详情";break}return e},type:function(){return this.$route.params.actionType},id:function(){return this.$route.query.id}},methods:{delRoute:function(e){this.websiteRoute.splice(e,1)},showRoute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;this.routeVisible=!0,this.route={type:t,index:e}},routeChange:function(e){var t=this;if("route"===this.route.type){var a=[];e.forEach((function(e){var n=t.websiteRoute.findIndex((function(t){return t.id===e.id}));-1===n&&a.push(m(m({},e),{},{apiAuthId:e.id}))})),this.websiteRoute=this.websiteRoute.concat(a)}else this.docList.splice(this.route.index,1,m(m({},this.docList[this.route.index]),{},{service:e.service,apiAuthId:e.id}))},addRouteLine:function(){this.$router.push({path:"/proxy/detail/add",query:{isDedicatedLine:!0}})},getParams:function(){var e=this,t=[],a=1===this.form.bind&&1===this.form.type?this.docList:this.websiteRoute;return a.forEach((function(a){t.push({apiAuthId:a.apiAuthId,openDocSetRelationId:1===e.form.bind?a.openDocSetRelationId||a.id:void 0,service:a.service})})),1===this.form.type&&1===this.form.bind||delete this.form.openDocSetId,m(m({},this.form),{},{apis:t})},validateAgain:function(){var e=!0;return 1===this.form.type&&1===this.form.bind?(this.docList.forEach((function(t){t.apiAuthId||(e=!1)})),e||this.$message.warning("文档路由的服务名不能为空！"),0===this.docList.length&&(e=!1,this.$message.warning("请选择文档！"))):(1===this.form.type&&0===this.form.bind||2===this.form.type)&&0===this.websiteRoute.length&&(e=!1,this.$message.warning("专线路由列表不能为空！")),e},cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/public-network/business"})},submitHandle:function(){var e=this;this.$refs.form.validate((function(t){t&&e.validateAgain()&&e.saveHandle()}))},saveHandle:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="add"===this.type?d["a"]:d["e"],a=this.getParams(),e.next=5,t(a).then((function(e){200===e.data.code?(n.$message({type:"success",message:e.data.msg||"保存成功！"}),"add"===n.type?n.cancel():n.init()):n.$message({type:"error",message:e.data.msg||"保存失败！"}),n.loading=!1}),(function(){n.loading=!1}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDetail:function(){var e=this;Object(d["b"])(this.id).then((function(t){if(200===t.data.code){var a=t.data.data;e.form=t.data.data,e.$set(e.form,"bind",e.form.openDocSetId&&1===e.form.type?1:0),1===e.form.bind&&1===e.form.type?e.getApiList(e.form.openDocSetId).then((function(){a.apis.forEach((function(t){var a=e.docList.findIndex((function(e){return e.openDocSetRelationId===t.id}));-1===a?e.docList.push(t):e.docList.splice(a,1,t)}))})):a.apis.forEach((function(t){e.websiteRoute.push(m(m({},t),{},{id:t.apiAuthId}))}))}}))},getDocSetList:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.docSetLoading=!0,Object(f["c"])(10,-1,{name:t||""}).then((function(e){var t=e.data.data;a.docSetLoading=!1,a.docSetList=t.records.map((function(e){return e.url="".concat(a.defaultOpenUrl,"?id=").concat(e.id),e}))}),(function(){a.docSetLoading=!1}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),docSetSelectChange:function(e){this.form.openDocSetId=e,this.getApiList(e)},getApiList:function(e){var t=this;return Object(f["b"])(e).then((function(e){200===e.data.code&&(t.docList=e.data.data.openDocs||[])}))},init:function(){this.docList=[],this.websiteRoute=[],["edit","view"].includes(this.type)&&this.getDetail(),"view"===this.type&&(this.disabled=!0)}},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(a(),this.init())},mounted:function(){this.init(),this.getDocSetList()}},v=g,y=(a("f0bf"),a("baa8"),a("2877")),O=Object(y["a"])(v,n,i,!1,null,"c772ecd0",null);t["default"]=O.exports},"7e02":function(e,t,a){"use strict";a("825b")},"7f9e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,"modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"700px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{disabled:e.disabled,model:e.form,rules:e.rules,size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"环境",prop:"env"}},[a("el-input",{attrs:{placeholder:"请输入 环境"},model:{value:e.form.env,callback:function(t){e.$set(e.form,"env",t)},expression:"form.env"}})],1),a("el-form-item",{attrs:{label:"请求地址",prop:"reqUrl"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 请求地址"},model:{value:e.form.reqUrl,callback:function(t){e.$set(e.form,"reqUrl",t)},expression:"form.reqUrl"}})],1)],1)],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submitHandle}},[e._v(" 确 定 ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("6762"),a("2fdb"),a("96cf"),a("1da1")),o=(a("c5f6"),a("a2ea")),s=a("c54a"),c=function(e,t,a){""===t?a(new Error("必填")):Object(s["e"])(t)?a():a(new Error("URL格式不正确!"))},l={name:"address-detail",props:{visible:{type:Boolean,default:!1},type:{type:String,default:""},id:{type:Number}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}},title:function(){var e="";switch(this.type){case"add":e="新增环境信息";break;case"edit":e="修改环境信息";break;case"view":e="环境信息详情";break}return e}},data:function(){return{loading:!1,disabled:!1,form:{},rules:{env:[{required:!0,message:"必填",trigger:"blur"}],reqUrl:[{validator:c,required:!0,trigger:"blur"}]}}},methods:{getDetail:function(){var e=this;Object(o["b"])(this.id).then((function(t){e.form=t.data.data}))},submitHandle:function(){var e=this;this.$refs.form.validate((function(t){t&&e.saveHandle()}))},saveHandle:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="add"===this.type?o["a"]:o["e"],e.next=4,t(this.form).then((function(e){200===e.data.code?(a.$message({type:"success",message:e.data.msg||"保存成功！"}),a.dialogVisible=!1,a.$emit("doSearch")):a.$message({type:"error",message:e.data.msg||"保存失败！"})}),(function(){a.loading=!1}));case 4:this.loading=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){["edit","view"].includes(this.type)&&this.getDetail(),"view"===this.type&&(this.disabled=!0)}},u=l,d=(a("588e"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"5f0597f2",null);t["default"]=p.exports},"825b":function(e,t,a){},"847a":function(e,t,a){"use strict";a("b9d9")},"862dd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-empty",{directives:[{name:"show",rawName:"v-show",value:e.isEmpty,expression:"isEmpty"}],staticClass:"avue-empty",attrs:{"image-size":200}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEmpty,expression:"!isEmpty"}],staticClass:"inter-info"},[a("h2",[e._v(e._s(e.curJson.name))]),e.showOtherInfo?a("div",{staticClass:"other"},[a("el-form",{ref:"ruleForm",attrs:{size:"small",model:e.form,rules:e.rules,"label-width":"60px",disabled:e.disabled}},[a("el-form-item",{attrs:{label:"展示",prop:"isShow"}},[a("el-radio-group",{model:{value:e.form.isShow,callback:function(t){e.$set(e.form,"isShow",t)},expression:"form.isShow"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"认证",prop:"isAuth"}},[a("el-radio-group",{model:{value:e.form.isAuth,callback:function(t){e.$set(e.form,"isAuth",t)},expression:"form.isAuth"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"调试",prop:"isSupportDebug"}},[a("el-radio-group",{model:{value:e.form.isSupportDebug,callback:function(t){e.$set(e.form,"isSupportDebug",t)},expression:"form.isSupportDebug"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1):e._e(),a("div",{staticClass:"container"},[a("h3",{staticClass:"container-title"},[e._v("请求信息")]),a("div",{staticClass:"descriptions-wrapper"},[a("div",{staticClass:"descriptions-con"},[a("el-row",{staticClass:"descriptions-row",attrs:{gutter:24}},[a("el-col",{staticClass:"descriptions",attrs:{md:24,lg:12}},[a("span",{staticClass:"label"},[e._v("接口名")]),a("span",{staticClass:"value"},[e._v(e._s(e.curJson.name))])]),a("el-col",{staticClass:"descriptions",attrs:{md:24,lg:12}},[a("span",{staticClass:"label"},[e._v("版本号")]),a("span",{staticClass:"value"},[e._v(e._s(e.info.version))])])],1)],1),a("div",{staticClass:"descriptions-con"},[a("el-row",{staticClass:"descriptions-row",attrs:{gutter:24}},[a("el-col",{staticClass:"descriptions",attrs:{md:24,lg:12}},[a("span",{staticClass:"label"},[e._v("方法")]),a("span",{staticClass:"value"},[e._v(e._s(e.curJson.method))])]),a("el-col",{staticClass:"descriptions",attrs:{md:24,lg:12}},[a("span",{staticClass:"label"},[e._v("请求地址")]),a("span",{staticClass:"value"},[e._v(e._s(e.service?e.service+e.curJson.path:e.curJson.path))])])],1)],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.curJson.description,expression:"curJson.description"}],staticClass:"desc"},[a("h3",{staticClass:"container-title"},[e._v("接口描述")]),a("p",{staticClass:"desc-text"},[e._v(e._s(e.curJson.description))])]),a("div",{staticClass:"container"},[a("h3",{staticClass:"container-title"},[e._v("请求参数")]),a("el-table",{staticStyle:{width:"100%"},attrs:{"default-expand-all":"",data:e.requestTableData(),"row-key":"nodeKey",border:"","tree-props":{children:"children",hasChildren:"hasChildren"},size:"small"}},[a("el-table-column",{attrs:{prop:"name",label:"参数名称"}}),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),a("el-table-column",{attrs:{prop:"in",label:"请求类型"}}),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),a("el-table-column",{attrs:{prop:"required",label:"是否必填",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.required?"是":"否")+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"example",label:"示例值"}})],1)],1),a("div",{staticClass:"container"},[a("h3",{staticClass:"container-title"},[e._v("响应状态")]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",size:"small","default-expand-all":"",data:e.responseStatus}},[a("el-table-column",{attrs:{prop:"status",label:"状态",width:"70px"}}),a("el-table-column",{attrs:{prop:"description",label:"说明"}}),a("el-table-column",{attrs:{prop:"schema",label:"schema"}})],1)],1),a("div",{staticClass:"container"},[a("h3",{staticClass:"container-title"},[e._v("响应参数")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.responseParams,"row-key":"nodeKey",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"},size:"small"}},[a("el-table-column",{attrs:{prop:"name",label:"参数名"}}),a("el-table-column",{attrs:{prop:"description",label:"参数说明"}}),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),a("el-table-column",{attrs:{prop:"schema",label:"schema"}})],1)],1),a("div",{staticClass:"container"},[a("h3",{staticClass:"container-title"},[e._v("响应示例")]),e.responseDemo?a("data-editor",{attrs:{content:e.responseDemo,height:300,disabled:""}}):a("el-empty",{staticStyle:{"text-align":"center"},attrs:{"image-size":150}})],1)])],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("28a5"),a("7f7f"),a("ade3")),o=a("3835"),s=(a("ffc1"),a("ac6a"),a("2909")),c=a("307b"),l=a("4627"),u=a("c54a"),d=a("0e0b");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={isShow:1,isAuth:1,isSupportDebug:1,remark:""},m={name:"inter-info",components:{dataEditor:l["default"]},props:{curJson:{type:Object,default:function(){return{}}},docJson:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},otherInfo:{type:Object,defualt:function(){return{}}},showOtherInfo:{type:Boolean,default:!1},authInfo:{type:Object,default:function(){return{}}},securityDefinitions:{type:Object,default:function(){return{}}},service:{type:String,default:""}},data:function(){return{currentNodeKey:"",defaultExpandedKeys:[],defaultProps:{children:"children",label:"name"},form:Object(c["a"])(h),rules:{isShow:[{required:!0,message:"必填",trigger:"change"}],isAuth:[{required:!0,message:"必填",trigger:"change"}],isSupportDebug:[{required:!0,message:"必填",trigger:"change"}]},reqParameters:[],authRequest:[],responseObject:"",nodeKey:0,formMap:{}}},computed:{isEmpty:function(){return Object(u["o"])(this.curJson)},requestData:function(){var e=[].concat(Object(s["a"])(this.securityRequests),Object(s["a"])(this.authRequest),Object(s["a"])(this.businessRequests));return this.$emit("emitRequest",e||[]),e},securityRequests:function(){var e=[];return Object.entries(this.securityDefinitions).forEach((function(t){var a=Object(o["a"])(t,2),n=a[0],i=a[1];e.push(f(f({name:n},i),{},{nodeKey:Object(d["e"])(),hide:!0}))})),e},businessRequests:function(){return this.curJson&&this.curJson.parameters?this.formatParamtersToRequest(this.curJson.parameters):[]},responseStatus:function(){var e=this,t=[];return this.curJson&&this.curJson.responses&&Object.entries(this.curJson.responses).forEach((function(a){var n=Object(o["a"])(a,2),i=n[0],r=n[1];t.push({status:i,description:r.description||"",schema:r.schema&&r.schema.originalRef?r.schema.originalRef:""}),"200"===i&&(e.responseObject=e.getOriginalRef(r))})),t},responseParams:function(){var e=[];if(this.docJson.definitions&&this.docJson.definitions[this.responseObject]){var t=this.docJson.definitions[this.responseObject];e=this.renderResponseParams(t)}return e},responseDemo:function(){var e="";return this.responseParams.length>0&&(e=this.renderResponseDemo(this.responseParams)),e},paths:function(){return this.docJson.paths||{}},info:function(){return this.docJson.info||{}}},watch:{form:{deep:!0,handler:function(){this.curJson.path&&this.showOtherInfo&&(this.formMap[this.curJson.path]=Object(c["a"])(this.form),this.emitData())}},otherInfo:{deep:!0,immediate:!0,handler:function(){this.showOtherInfo&&(this.formMap=this.otherInfo,this.emitData())}},curJson:{deep:!0,immediate:!0,handler:function(){this.formMap[this.curJson.path]?this.form=Object(c["a"])(this.formMap[this.curJson.path]):this.form=Object(c["a"])(h)}},authInfo:{deep:!0,immediate:!0,handler:function(){if(this.authInfo&&this.authInfo.content){var e=JSON.parse(this.authInfo.content||[]),t=e.query,a=void 0===t?[]:t,n=e.header,i=void 0===n?[]:n,r=[];a.forEach((function(e){r.push({name:e.name,type:"string",required:!0,description:e.description,in:"query",example:e["x-example"]||e.example,nodeKey:Object(d["e"])()})})),i.forEach((function(e){r.push({name:e.name,type:"string",required:!0,description:e.description,in:"header",example:e["x-example"]||e.example,nodeKey:Object(d["e"])()})})),this.authRequest=r}}}},methods:{getOriginalRef:function(e){var t="",a=e.$ref||e.schema&&(e.schema.$ref||e.schema.items&&e.schema.items.$ref)||e.items&&e.items.$ref;if(a){var n=a.split("/");t=n[n.length-1]}return t},formatParamtersToRequest:function(e){var t=this,a=[];return e&&e.forEach((function(e){var n={name:e.name,type:e.type,required:e.required,description:e.description,example:e["x-example"]||e.example,in:e.in,nodeKey:Object(d["e"])()},i=t.getOriginalRef(e);if(i&&t.docJson.definitions[i]){var r=t.renderParamsChildren(e,i,e.in);r&&r.length>0&&(n.children=r)}a.push(n)})),a},renderParamsChildren:function(e,t,a){var n=this,i=[],r=this.docJson.definitions[t],s=r.properties,c=void 0===s?{}:s,l=r.required,u=void 0===l?[]:l;return Object.entries(c).forEach((function(t){var r=Object(o["a"])(t,2),s=r[0],c=r[1],l=u.includes(s),p={name:s,type:c.type,required:l,description:c.description,example:c["x-example"]||c.example,in:e.in||a,nodeKey:Object(d["e"])()},f=n.getOriginalRef(c);f&&n.docJson.definitions[f]&&(p.children=[],p.children=n.renderParamsChildren(c,f,e.in||a)),i.push(p)})),i},requestTableData:function(){return this.requestData.filter((function(e){return!e.hide}))||[]},renderResponseParams:function(e){var t=this,a=[],n=e.type,i=e.properties;return"object"===n&&Object.entries(i).forEach((function(e){var n=Object(o["a"])(e,2),i=n[0],r=n[1],s=t.getOriginalRef(r),c={type:r.type||r.originalRef,description:r.description,name:i,example:r["x-example"]||r.example||"",schema:s,nodeKey:++t.nodeKey};s&&t.docJson.definitions&&t.docJson.definitions[s]&&(c.children=[],c.children=t.renderResponseParams(t.docJson.definitions[s])),a.push(c)})),a},renderDefaultValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["integer","float","long","short","byte","character","number"].includes(e)?t.example||0:"string"===e?t.example||"":"boolean"===e?t.example||!0:"array"===e?t.example||[]:{}},renderResponseDemo:function(e){var t=this,a={};return e.forEach((function(e){a[e.name]=t.renderDefaultValue(e.type,e),e.children&&e.children.length>0&&(Array.isArray(a[e.name])?a[e.name]=[t.renderResponseDemo(e.children)]:a[e.name]=t.renderResponseDemo(e.children))})),a},emitData:function(){this.$emit("changeOtherInfo",this.formMap)}},mounted:function(){this.showOtherInfo&&this.$emit("getDefaultOhterInfo",h)}},b=m,g=(a("655d"),a("4c3b"),a("2877")),v=Object(g["a"])(b,n,i,!1,null,"60af9a24",null);t["default"]=v.exports},"8a56":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("16cd"),c=a("1eab");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"authentication",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,column:[{label:"名称",prop:"name",search:!0,overHidden:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"描述",prop:"description",search:!0,overHidden:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]}]},data:[{}]}},computed:u(u({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.interface_authentication_add,!1),editBtn:this.vaildData(this.permission.interface_authentication_edit,!1),viewBtn:this.vaildData(this.permission.interface_authentication_view,!1),delBtn:this.vaildData(this.permission.interface_authentication_remove,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{handleSubmitData:function(e){return e=Object(s["b"])(e),e},rowDel:function(e){var t=this;this.$confirm("你确定要删除此认证信息吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(c["d"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.$router.push({path:"/interface/authentication/".concat(t),query:{id:this.form.id}})},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(c["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},p=d,f=a("2877"),h=Object(f["a"])(p,n,i,!1,null,"20acdd30",null);t["default"]=h.exports},"8f7a":function(e,t,a){"use strict";a("bc7f")},"8f8b":function(e,t,a){},"9a2a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"添加路由",direction:"rtl","modal-append-to-body":!1,"append-to-body":!0,size:"900px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.search,"label-width":"90px",size:"small",inline:""}},[a("el-form-item",{attrs:{label:"网关分组"}},[a("el-select",{attrs:{placeholder:"网关分组",filterable:"",clearable:""},model:{value:e.search.gatewayGroup,callback:function(t){e.$set(e.search,"gatewayGroup",t)},expression:"search.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"前端服务名"}},[a("el-input",{attrs:{placeholder:"前端服务名"},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}})],1),a("el-form-item",{attrs:{label:"前端API路径"}},[a("el-input",{attrs:{placeholder:"前端API路径"},model:{value:e.search.path,callback:function(t){e.$set(e.search,"path",t)},expression:"search.path"}})],1),a("el-form-item",{attrs:{label:"请求方法"}},[a("el-select",{attrs:{placeholder:"请求方法",multiple:"",clearable:"","collapse-tags":""},model:{value:e.search.method,callback:function(t){e.$set(e.search,"method",t)},expression:"search.method"}},e._l(e.apiMethod,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"访问"}},[a("el-select",{attrs:{placeholder:"访问",clearable:""},model:{value:e.search.access,callback:function(t){e.$set(e.search,"access",t)},expression:"search.access"}},e._l(e.accessType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"search-btns"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.doSearch}},[e._v("搜 索")]),a("el-button",{attrs:{icon:"el-icon-delete",size:"small"},on:{click:e.clearSearch}},[e._v("清 空")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",size:"small",border:"",data:e.data},on:{"selection-change":e.handleSelectionChange,"current-change":e.selectRow}},[e.multiple?a("el-table-column",{attrs:{type:"selection",width:"55"}}):a("el-table-column",{attrs:{label:"",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row},model:{value:e.currentRow,callback:function(t){e.currentRow=t},expression:"currentRow"}},[a("i")])]}}])}),a("el-table-column",{attrs:{type:"index",width:"50",label:"#"}}),a("el-table-column",{attrs:{property:"gatewayGroup",label:"网关分组",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n         "+e._s(e.renderGatewayGroup(a.gatewayGroup))+"\n        ")]}}])}),a("el-table-column",{attrs:{property:"proxyMode",label:"路由类型",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n         "+e._s(e._f("proxyModeFilter")(a.proxyMode))+"\n        ")]}}])}),a("el-table-column",{attrs:{property:"isDedicatedLine",label:"是否专线路由",width:"94"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n         "+e._s(1===a.isDedicatedLine?"是":"否")+"\n        ")]}}])}),a("el-table-column",{attrs:{property:"service",label:"前端服务名"}}),a("el-table-column",{attrs:{property:"path",label:"前端API路径"}}),a("el-table-column",{attrs:{property:"method",label:"请求方法",width:"80"}}),a("el-table-column",{attrs:{property:"access",label:"访问",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:"a"===n.access?"success":"danger",size:"small"}},[e._v(e._s(e._f("accessFilter")(n.access)))])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,20,30,40,50,100],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleDrawerConfirm()}}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("386d"),a("ade3")),o=a("5880"),s=a("27fc"),c=a("3bfd"),l=a("c54a");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={props:{visible:{type:Boolean,default:!1},app:{type:String,default:""},multiple:{type:Boolean,default:!1}},data:function(){return{search:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},data:[],accessType:s["a"],currentRow:null,multipleSelection:[]}},computed:d(d({},Object(o["mapGetters"])(["apiMethod","groupOptions"])),{},{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}}}),filters:{proxyModeFilter:function(e){var t=s["e"].filter((function(t){return t.value===e}));return t.length>0?t[0].label:""},accessFilter:function(e){var t=s["a"].filter((function(t){return t.value===e}));return t.length>0?t[0].label:""}},methods:d(d({},Object(o["mapActions"])(["getGroupOptions","getPluginOptions"])),{},{onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,a.method&&Object(l["b"])(a.method)&&(a.method_in=a.method.join(",")||"",delete a.method),Object(c["k"])(e.currentPage,e.pageSize,Object.assign(a,this.query,{noAppCondition:this.app,isDedicatedLine:1})).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.page.currentPage>a.pages&&(t.page.currentPage=a.pages),t.loading=!1}))},renderGatewayGroup:function(e){var t="";if(this.groupOptions&&this.groupOptions.length>0){var a=this.groupOptions.filter((function(t){return t.value===e}));t=a.length>0?a[0].label+"("+a[0].value+")":""}return t},selectRow:function(e){this.multiple||(this.currentRow=e)},handleSelectionChange:function(e){this.multiple&&(this.multipleSelection=e)},handleSizeChange:function(e){this.page.pageSize=e,this.page.currentPage=1,this.onLoad(this.page,this.search)},handleCurrentChange:function(e){this.page.currentPage=e,this.onLoad(this.page,this.search)},handleDrawerConfirm:function(){!this.multiple&&!this.currentRow||this.multiple&&0===this.multipleSelection.length?this.$message.warning("请选择数据！"):(this.$emit("emitData",this.multiple?this.multipleSelection:this.currentRow),this.dialogVisible=!1)},doSearch:function(){this.page.currentPage=1,this.page.pageSize=20,this.onLoad(this.page,this.search)},clearSearch:function(){this.search={},this.page.currentPage=1,this.page.pageSize=20,this.onLoad(this.page,this.search)}}),mounted:function(){this.onLoad(this.page)},created:function(){this.getPluginOptions(),this.getGroupOptions()}},f=p,h=(a("163d9"),a("76ed"),a("2877")),m=Object(h["a"])(f,n,i,!1,null,"71e8f00b",null);t["default"]=m.exports},"9b73":function(e,t,a){},"9cf3":function(e,t,a){},a2ea:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/env-info/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},l=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/env-info/save"),method:"post",data:e})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/env-info/update"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/env-info/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/env-info/detail/").concat(e),method:"get"})}},a746:function(e,t,a){"use strict";a("9cf3")},a9ec:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{disabled:e.disabled,model:e.form,rules:e.rules,size:"small","label-width":"150px"}},[a("el-form-item",{attrs:{label:"服务名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入 服务名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("div",{staticClass:"key-tips"},[e._v("服务名称用于文档集展示时文档列表显示，如： 会员接口文档")])],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"版本",prop:"version"}},[a("el-input",{attrs:{placeholder:"请输入 版本"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}}),a("div",{staticClass:"key-tips"},[e._v("当版本变更后旧版本会生成历史记录，建议格式为 vX.Y.Z , 如： v1.0.0")])],1),a("el-form-item",{attrs:{label:"认证信息",prop:"authInfoId"}},[a("pagination-select",{attrs:{value:e.form.authInfoId,dataList:e.authInfo.data,pageInfo:e.authInfo.pageInfo,labelKey:e.authInfo.labelKey,valueKey:e.authInfo.valueKey,showPagination:!1,placeholder:"请选择 认证信息"},on:{"update:value":function(t){return e.$set(e.form,"authInfoId",t)},selectPageChange:e.authPageChange}})],1),a("el-form-item",{staticClass:"env-row",attrs:{label:"环境信息",prop:"envInfoIds"}},[a("div",{staticClass:"env-select"},[a("pagination-select",{attrs:{value:e.form.envInfoIds,dataList:e.envInfo.data,pageInfo:e.envInfo.pageInfo,labelKey:e.envInfo.labelKey,valueKey:e.envInfo.valueKey,showPagination:!1,placeholder:"请选择 环境信息",multiple:""},on:{"update:value":function(t){return e.$set(e.form,"envInfoIds",t)},selectPageChange:e.envPageChange}})],1),a("el-button",{staticClass:"add-env-btn",attrs:{type:"primary",size:"small"},on:{click:e.addEnv}},[e._v("新增环境")])],1),a("el-form-item",{attrs:{label:"文档来源",prop:"sourceType"}},[a("el-radio-group",{attrs:{placeholder:"请选择 文档来源"},on:{change:e.changeSource},model:{value:e.form.sourceType,callback:function(t){e.$set(e.form,"sourceType",t)},expression:"form.sourceType"}},[a("el-radio",{attrs:{label:1}},[e._v("服务")]),a("el-radio",{attrs:{label:2}},[e._v("API")]),a("el-radio",{attrs:{label:3}},[e._v("LOCAL")])],1)],1),1===e.form.sourceType?a("div",{staticClass:"form-item-required service"},[a("el-form-item",{attrs:{label:"服务"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("el-form-item",{attrs:{label:"",prop:"registryName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择 注册中心",clearable:""},on:{change:e.changeRegister},model:{value:e.form.registryName,callback:function(t){e.$set(e.form,"registryName",t)},expression:"form.registryName"}},e._l(e.registerList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1)],1),a("div",{staticClass:"col"},[a("el-form-item",{attrs:{label:"",prop:"service"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择 服务名"},model:{value:e.form.service,callback:function(t){e.$set(e.form,"service",t)},expression:"form.service"}},e._l(e.serviceList,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),a("div",{staticClass:"col json-col"},[a("el-form-item",{attrs:{label:"",prop:"serviceApiDocPath"}},[a("el-input",{attrs:{placeholder:"服务文档请求路径"},model:{value:e.form.serviceApiDocPath,callback:function(t){e.$set(e.form,"serviceApiDocPath",t)},expression:"form.serviceApiDocPath"}}),a("div",{staticClass:"key-tips"},[e._v("后端 swagger 请求地址，如：/fizz-manager/v2/api-docs?group=授权模块")])],1)],1),a("span",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getDocByService}},[e._v("获 取")])],1)])])],1):e._e(),2===e.form.sourceType?a("div",{staticClass:"form-item-required api"},[a("el-form-item",{attrs:{label:"OpenAPI接口地址"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col api-col"},[a("el-form-item",{attrs:{label:"",prop:"apiDocUrl"}},[a("el-input",{attrs:{placeholder:"请输入 OpenAPI接口地址"},model:{value:e.form.apiDocUrl,callback:function(t){e.$set(e.form,"apiDocUrl",t)},expression:"form.apiDocUrl"}}),a("div",{staticClass:"key-tips"},[e._v("后端 swagger 的完整请求地址，如： http://172.0.0.1:6666/fizz-manager/v2/api-docs?group=授权模块")])],1)],1),a("span",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getDocByApi}},[e._v("获 取")])],1)])])],1):e._e(),3===e.form.sourceType?a("div",{staticClass:"form-item-required local"},[a("el-form-item",{attrs:{label:"OpenAPI-V2(JSON)"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col api-col"},[a("el-form-item",{attrs:{label:"",prop:"apiDocJson"}},[a("el-input",{attrs:{rows:4,type:"textarea"},model:{value:e.form.apiDocJson,callback:function(t){e.$set(e.form,"apiDocJson",t)},expression:"form.apiDocJson"}}),a("div",{staticClass:"key-tips"},[e._v(" swagger json 数据可复制到文本框进行解析 ")])],1)],1),a("span",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.loadInter}},[e._v("加 载")])],1)])])],1):e._e()],1),e.visible?a("addressDetail",{attrs:{type:"add",visible:e.visible},on:{doSearch:e.searchEnv,changeDrawer:function(t){e.visible=!1}}}):e._e()],1)},i=[],r=(a("ac6a"),a("684b")),o=a("7f9e"),s=a("3bfd"),c=a("a2ea"),l=a("1eab"),u=a("52f7"),d=a("307b"),p=a("c54a"),f=a("0a6a"),h={name:"document-base",components:{paginationSelect:r["default"],addressDetail:o["default"]},props:{disabled:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},data:function(){return{form:{envInfoIds:[],sourceType:1},rules:{name:[{required:!0,message:"必填",trigger:"blur"}],version:[{required:!0,message:"必填",trigger:"blur"}],envInfoIds:[{required:!0,message:"必填",trigger:"change"}],sourceType:[{required:!0,message:"必填",trigger:"change"}],registryName:[{required:!0,message:"必填",trigger:"change"}],service:[{required:!0,message:"必填",trigger:"change"}],serviceApiDocPath:[{required:!0,message:"必填",trigger:"change"}],apiDocUrl:[{required:!0,message:"必填"}],apiDocJson:[{required:!0,message:"必填"}]},envInfo:{data:[],pageInfo:{pageNo:1,pageSize:-1,total:0},labelKey:"env",valueKey:"id"},authInfo:{data:[],pageInfo:{pageNo:1,pageSize:-1,total:0},labelKey:"name",valueKey:"id"},serviceList:[],documentName:"",docJson:{},registerList:[],visible:!1}},watch:{data:{deep:!0,handler:function(){this.form=Object(d["a"])(this.data)}},"form.registryName":{deep:!0,immediate:!0,handler:function(){this.fetchDiscoveryServiceOptions(this.form.registryName)}}},methods:{getAddressList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(c["c"])(this.envInfo.pageInfo.pageNo,this.envInfo.pageInfo.pageSize,{env:t}).then((function(t){if(200===t.data.code){var a=t.data.data;e.envInfo.data=a.records,e.envInfo.pageInfo.total=a.total}else e.$message({type:"error",message:t.data.msg||"获取环境列表失败！！"})}))},getAuthList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(l["c"])(this.authInfo.pageInfo.pageNo,this.authInfo.pageInfo.pageSize,{name:t}).then((function(t){if(200===t.data.code){var a=t.data.data;e.authInfo.data=a.records,e.authInfo.pageInfo.total=a.total}else e.$message({type:"error",message:t.data.msg||"获取认证信息列表失败！！"})}))},fetchDiscoveryServiceOptions:function(e){var t=this;e?Object(s["d"])({registryName:e}).then((function(e){200===e.data.code?t.serviceList=e.data.data:t.$message({type:"error",message:e.data.msg||"获取服务列表失败！"})})):this.serviceList=[]},envPageChange:function(e,t,a){this.envInfo.pageInfo.pageNo=e,this.envInfo.pageInfo.pageSize=t,this.getAddressList(a)},authPageChange:function(e,t,a){this.authInfo.pageInfo.pageNo=e,this.authInfo.pageInfo.pageSize=t,this.getAuthList(a)},searchEnv:function(){this.envInfo.pageInfo.pageNo=1,this.getAddressList()},getDocByService:function(){var e=this;this.form.registryName&&this.form.service&&this.form.serviceApiDocPath?Object(u["d"])({service:this.form.service,serviceApiDocPath:this.form.serviceApiDocPath}).then((function(t){200===t.data.code?(e.docJson=JSON.parse(t.data.data.jsonStr),e.loadInter()):e.$message({type:"error",message:t.data.msg||"获取指定服务的api-docs响应 失败！"})})):this.$message({type:"warning",message:"请完善服务信息！"})},getDocByApi:function(){var e=this;this.form.apiDocUrl?Object(u["c"])({apiDocUrl:this.form.apiDocUrl}).then((function(t){200===t.data.code?(e.docJson=JSON.parse(t.data.data.jsonStr),e.loadInter()):e.$message({type:"error",message:t.data.msg||"获取指定API的api-docs响应 失败！"})})):this.$message({type:"warning",message:"请完善OpenAPI接口地址！"})},changeSource:function(){this.docJson={}},loadInter:function(){try{if(3===this.form.sourceType){var e="";if(this.form.apiDocJson||(e="OpenAPI-V2(JSON) 不能为空！"),Object(p["k"])(this.form.apiDocJson)||(e="OpenAPI-V2(JSON) 数据格式有问题！"),e)return void this.$message({showClose:!0,message:e,type:"warning"});this.docJson=JSON.parse(this.form.apiDocJson)}this.$emit("goInter",this.docJson)}catch(t){console.log(t)}},addEnv:function(){this.visible=!0},validate:function(){var e=this;return new Promise((function(t,a){e.$refs.form.validate((function(n){n?(e.emitData(),t()):a("请完善基本信息！")}))}))},getRegisterNameList:function(){var e=this;Object(f["d"])().then((function(t){if(200===t.data.code){var a=t.data.data;a.forEach((function(t){e.registerList.push({label:t,value:t})}))}}))},changeRegister:function(e){this.$set(this.form,"service",""),this.fetchDiscoveryServiceOptions(e)},emitData:function(){this.$emit("update:data",this.form)}},mounted:function(){this.getAddressList(),this.getAuthList(),this.getRegisterNameList()}},m=h,b=(a("27ec"),a("f130"),a("2877")),g=Object(b["a"])(m,n,i,!1,null,"313f4f38",null);t["default"]=g.exports},a9fd:function(e,t,a){"use strict";a("9b73")},aab0:function(e,t,a){"use strict";a("4301")},b8ff:function(e,t,a){"use strict";a("8f8b")},b978:function(e,t,a){"use strict";a("4bae")},b9d9:function(e,t,a){},baa8:function(e,t,a){"use strict";a("bf69")},bc7f:function(e,t,a){},bf69:function(e,t,a){},bf76:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"添加appid",direction:"rtl","modal-append-to-body":!1,"append-to-body":!0,size:"900px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"tags",fn:function(t){var a=t.row;return[e._v("\n        "+e._s(a.tags.join(","))+"\n      ")]}},{key:"useWhiteList",fn:function(t){var a=t.row;return[e._v("\n        "+e._s(a.useWhiteList?"是":"否")+"\n      ")]}},{key:"useAuth",fn:function(t){var a=t.row;return[e._v("\n        "+e._s(a.useAuth?"是":"否")+"\n      ")]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"tagsSearch"},[a("el-input",{attrs:{placeholder:"标签",clearable:""},model:{value:e.query.tagCondition,callback:function(t){e.$set(e.query,"tagCondition",t)},expression:"query.tagCondition"}})],1)],2)],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.confirm()}}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=a("24a7"),o=[{label:"MD5签名",value:1},{label:"密钥认证",value:3},{label:"自定义认证插件",value:2}],s={props:{visible:{type:Boolean,default:!1},app:{type:String,default:""}},data:function(){return{selections:[],form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{selection:!0,menu:!1,dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,addBtn:!1,columnBtn:!1,menuPosition:"right",menuWidth:"280px",tip:!1,column:[{label:"appID",prop:"app",search:!0,overHidden:!0,searchSpan:12},{label:"应用名",prop:"appName",search:!0,overHidden:!0,searchSpan:12},{label:"标签",prop:"tags",search:!0,overHidden:!0,searchslot:!0,slot:!0,searchSpan:12},{label:"是否启用认证",prop:"useAuth",type:"switch",slot:!0},{label:"认证方式",prop:"authType",search:!0,type:"select",dicData:o,searchSpan:12},{label:"密钥",prop:"secretkey",overHidden:!0,hide:!0},{label:"是否启用IP白名单",prop:"useWhiteList",type:"switch",slot:!0},{label:"IP白名单",prop:"authIps",placeholder:"多个IP用逗号,分隔",overHidden:!0},{label:"自定义配置",prop:"customConfig",overHidden:!0}]},data:[],search:{}}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{searchReset:function(){this.query={},this.onLoad(this.page)},selectionChange:function(e){this.selections=e},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(r["f"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},confirm:function(){this.$emit("emitData",this.selections),this.dialogVisible=!1}}},c=s,l=(a("847a"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"1a764cbc",null);t["default"]=u.exports},c096:function(e,t,a){},c2f4:function(e,t,a){"use strict";a("fb24")},c363:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"auth-detail"},[a("el-card",{staticClass:"main"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.name?a("el-tag",[e._v(e._s(e.form.name))]):e._e(),e._v(" \n       "),a("b",[e._v(e._s(e.title))])],1),a("el-form",{ref:"form",attrs:{size:"small","label-width":"60px",model:e.form,rules:e.rules,disabled:e.disabled}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"请求头",name:"header"}},[e.headerData.length>0?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{value:e.headerData.length,max:10,type:"success"}},[e._v("请求头")])],1):e._e(),a("request-table",{ref:"headerRef",attrs:{disabled:e.disabled,data:e.headerData},on:{"update:data":function(t){e.headerData=t}}})],1),a("el-tab-pane",{attrs:{label:"Query参数",name:"params"}},[e.queryData.length>0?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{value:e.queryData.length,max:10,type:"success"}},[e._v("Query参数")])],1):e._e(),a("request-table",{ref:"queryRef",attrs:{disabled:e.disabled,data:e.queryData},on:{"update:data":function(t){e.queryData=t}}})],1)],1)],1),e.disabled?e._e():a("footer",[a("el-button",{attrs:{icon:"el-icon-circle-check",type:"primary",size:"small"},on:{click:e.submit}},[e._v("保 存")]),a("el-button",{attrs:{icon:"el-icon-circle-close",size:"small"},on:{click:e.cancel}},[e._v("取 消")])],1)],1)},i=[],r=(a("8e6e"),a("6762"),a("2fdb"),a("7f7f"),a("ade3")),o=(a("96cf"),a("1da1")),s=(a("5df3"),a("ac6a"),a("456d"),a("3657")),c=a("1eab");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"authDetail",components:{requestTable:s["default"]},computed:{disabled:function(){return"view"===this.$route.params.actionType},pageType:function(){return this.$route.params.actionType},id:function(){return this.$route.query.id},title:function(){var e="认证信息详情";switch(this.pageType){case"add":e="新增认证信息";break;case"edit":e="编辑认证信息";break;case"view":e="认证信息详情";break}return e}},data:function(){return{form:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]},loading:!1,activeTab:"header",headerData:[],queryData:[]}},methods:{getParamsKeys:function(e){var t=Object.keys(e.properties||{})||[];return t.length},cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/interface/authentication"})},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a=["headerRef","queryRef"],n=[];a.forEach((function(t){n.push(e.$refs[t].validate())})),Promise.all(n).then((function(){e.saveData()}))}}))},saveData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="add"===this.pageType?c["a"]:c["e"],e.next=4,t(this.handleData()).then((function(){a.$message({type:"success",message:"保存成功！"}),a.cancel()}),(function(e){console.log(e),a.loading=!1}));case 4:this.loading=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleData:function(){return u(u({},this.form),{},{content:JSON.stringify({header:this.headerData,query:this.queryData})})},getDetail:function(){var e=this;Object(c["b"])(this.id).then((function(t){if(t.data&&200===t.data.code){var a=t.data.data,n=a.name,i=a.description,r=a.content,o=a.id;e.form={name:n,description:i,id:o};try{var s=JSON.parse(r||{}),c=s.header,l=s.query;e.headerData=c||[],e.queryData=l||[]}catch(u){console.error(u)}}else e.$message({type:"error",message:t.data.msg||"查看详情有误！"})}))}},mounted:function(){["view","edit"].includes(this.pageType)&&this.getDetail()}},p=d,f=(a("b8ff"),a("1659"),a("2877")),h=Object(f["a"])(p,n,i,!1,null,"009f7aa4",null);t["default"]=h.exports},cadc:function(e,t,a){"use strict";a("f84e")},ce64:function(e,t,a){},d2bf:function(e,t,a){"use strict";a("09a8")},d9b3:function(e,t,a){},dd62:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{"popper-class":"tooltip-dark",placement:"top",title:e.title,width:"830"}},[a("div",{staticClass:"content"},[a("code-highlight",{attrs:{code:e.content,height:600}})],1),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("("+e._s(e.title)+")")])])},i=[],r=a("d480"),o={name:"tooltip-custom",props:{title:{type:String,default:"示例"}},data:function(){return{content:'package we.plugin;\n\nimport java.util.Map;\nimport javax.annotation.Resource;\nimport org.springframework.web.server.ServerWebExchange;\nimport reactor.core.publisher.Mono;\nimport we.plugin.auth.App;\nimport we.plugin.auth.AppService;\nimport we.util.ReactorUtils;\nimport we.util.WebUtils;\n\npublic class MyPluginFilter implements FizzPluginFilter {\n\n     @Resource\n     AppService appService;\n\n     @SuppressWarnings({ "unchecked", "rawtypes", "unused" })\n     @Override\n     public Mono<Void> filter(ServerWebExchange exchange, Map<String, Object> config) {\n          String customConfig = (String) config.get(PluginConfig.CUSTOM_CONFIG); // 获取插件级别的自定义配置信息\n          String appid = WebUtils.getAppId(exchange); // 获取客户端请求携带的appid\n          App app = appService.getApp(appid); // 获取在网关对应的 app\n          String appCustomConfig = app != null ? app.config : null; // 从 app 中取得自定义配置\n\n          doSomething(); // 执行一些逻辑\n          exchange.getAttributes().put("11", "22"); // 往后续插件或逻辑传递参数\n          Mono next = FizzPluginFilterChain.next(exchange); // 执行下一个插件或后续逻辑\n          return next.defaultIfEmpty(ReactorUtils.NULL).flatMap(nil -> {\n               doAfterNext(); // 当 next 完成时执行一些逻辑\n               return Mono.empty();\n          });\n     }\n\n     public void doSomething() {\n\n     }\n\n     public void doAfterNext() {\n       \n     }\n}'}},components:{codeHighlight:r["default"]}},s=o,c=(a("c2f4"),a("2877")),l=Object(c["a"])(s,n,i,!1,null,null,null);t["default"]=l.exports},dd78:function(e,t,a){"use strict";a("ea63")},dedb:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"添加专线业务",direction:"rtl","modal-append-to-body":!1,"append-to-body":!1,size:"900px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"selection-change":e.selectionChange},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("\n      取 消\n    ")])],1)])},i=[],r=a("7485"),o=a("1e18"),s={props:{visible:{type:Boolean,default:!1}},data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{selection:!0,border:!0,index:!0,dialogClickModal:!1,addBtn:!1,menuPosition:"right",labelWidth:100,menu:!1,searchSpan:12,column:[{label:"专线业务",prop:"name",search:!0},{label:"专线类型",prop:"type",search:!0,dicData:o["a"],type:"select"},{label:"是否公开",prop:"isPublic",dicData:o["b"]},{label:"文档集",prop:"docSetName"},{label:"联系邮箱",prop:"email"}]},data:[],selectionData:[]}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}}},methods:{searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(r["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},selectionChange:function(e){this.selectionData=e},submit:function(){0!==this.selectionData.length?(this.$emit("emitData",this.selectionData),this.dialogVisible=!1):this.$message.warning("请选择数据！")}}},c=s,l=(a("faa8"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"ef4921c6",null);t["default"]=u.exports},e077:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"dedicated-line-detail"},[a("el-card",{staticClass:"main"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.name?a("el-tag",[e._v(e._s(e.form.name))]):e._e(),e._v(" \n            "),a("b",[e._v(e._s(e.title))])],1),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"106px",disabled:e.disabled}},[a("el-form-item",{attrs:{label:"专线名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入 专线名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("div",{staticClass:"key-tips"},[e._v("一般一个对接方用一条专线，可用公司名作为专线名称，如：XXXX公司")])],1),a("el-form-item",{attrs:{label:"颁发机构",prop:"org"}},[a("el-input",{attrs:{placeholder:"请输入 颁发机构"},model:{value:e.form.org,callback:function(t){e.$set(e.form,"org",t)},expression:"form.org"}}),a("div",{staticClass:"key-tips"},[e._v("颁发机构可自定义，如：XXXX公司，该机构名称展示在配对方的配对页面")])],1),a("el-form-item",{attrs:{label:"网关地址",prop:"gatewayUrl"}},[a("div",{staticClass:"url-form"},[a("el-input",{attrs:{placeholder:"请输入 网关地址"},model:{value:e.form.gatewayUrl,callback:function(t){e.$set(e.form,"gatewayUrl",t)},expression:"form.gatewayUrl"}}),a("span",{staticClass:"url"},[e._v("/_fizz-dedicated-line/pair")])],1),a("div",{staticClass:"key-tips"},[e._v("输入网关的公网地址，如：https://网关域名[:端口]/proxy（如果网关前缀/proxy已修改, 则改为相应的前缀）")])]),a("el-form-item",{staticClass:"form-item-required",attrs:{label:"专线业务"}},[e.disabled?e._e():a("el-button",{staticClass:"line-add-btn",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addLine}},[e._v("添 加")]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.form.dedicatedLineBizs,size:"mini"}},[a("el-table-column",{attrs:{prop:"dedicatedLineBizName",label:"业务名称"}}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.delBusRow(n)}}},[e._v("删除")])]}}])})],1)],1),a("el-form-item",{attrs:{label:"最多配对次数",prop:"maxCount"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:e.form.maxCount,callback:function(t){e.$set(e.form,"maxCount",t)},expression:"form.maxCount"}}),a("span",{staticClass:"unit"},[e._v("次")])],1),a("el-form-item",{attrs:{label:"自定义配置",prop:"customConfig"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 自定义配置",rows:5},model:{value:e.form.customConfig,callback:function(t){e.$set(e.form,"customConfig",t)},expression:"form.customConfig"}}),a("div",{staticClass:"key-tips"},[e._v("\n                    自定义配置供自定义插件使用，所有插件均可获取到此配置信息\n                     "),a("tooltip-custom",{staticClass:"link",attrs:{title:"插件实例"}})],1)],1)],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check",loading:e.loading},on:{click:e.submitHandle}},[e._v("保 存")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.cancel}},[e._v(" 取 消 ")])],1)],1),e.businessVisible?a("addBusinessDialog",{attrs:{visible:e.businessVisible},on:{changeDrawer:function(t){e.businessVisible=!1},emitData:e.changeBusiness}}):e._e()],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("7f7f"),a("20d6"),a("ade3")),o=(a("ac6a"),a("96cf"),a("1da1")),s=a("2f32"),c=a("dd62"),l=a("dedb"),u=a("16cd");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={name:"matchDetail",components:{tooltipCustom:c["default"],addBusinessDialog:l["default"]},data:function(){return{disabled:!1,loading:!1,form:{maxCount:1,dedicatedLineBizs:[]},rules:{name:[{required:!0,message:"请输入 专线名称",trigger:"blur"}],org:[{required:!0,message:"请输入 颁发机构",trigger:"blur"}],gatewayUrl:[{required:!0,message:"请输入 网关地址",trigger:"blur"}],dedicatedLineBizs:[{required:!0,message:"必填"}],maxCount:[{required:!0,message:"请输入 最多配对次数",trigger:"blur"}]},businessVisible:!1}},computed:{title:function(){var e="";switch(this.type){case"add":e="新增配对码";break;case"edit":e="修改配对码";break;case"view":e="配对码详情";break}return e},type:function(){return this.$route.params.actionType},id:function(){return this.$route.query.id}},methods:{getDetail:function(){var e=this;Object(s["b"])(this.id).then((function(t){200===t.data.code&&(e.form=t.data.data)}))},submitHandle:function(){var e=this;this.$refs.form.validate((function(t){if(t){if(0===e.form.dedicatedLineBizs.length)return void e.$message.warning("专线业务列表不能为空！");e.saveHandle()}}))},saveHandle:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="add"===this.type?s["a"]:s["g"],a=[],this.form.dedicatedLineBizs.forEach((function(e){a.push({dedicatedLineBizId:e.dedicatedLineBizId,dedicatedLineBizName:e.dedicatedLineBizName})})),this.form.customConfig=Object(u["a"])(this.form.customConfig)||"",e.next=7,t(p(p({},this.form),{},{dedicatedLineBizs:a})).then((function(e){200===e.data.code?(n.$message({type:"success",message:e.data.msg||"保存成功！"}),"add"===n.type?n.cancel():n.init()):n.$message({type:"error",message:e.data.msg||"保存失败！"}),n.loading=!1}),(function(){n.loading=!1}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/public-network/dedicated-line"})},delBusRow:function(e){this.form.dedicatedLineBizs.splice(e,1)},addLine:function(){this.businessVisible=!0},changeBusiness:function(e){var t=this;e.forEach((function(e){var a=t.form.dedicatedLineBizs.findIndex((function(t){return t.dedicatedLineBizId===e.id}));-1===a&&t.form.dedicatedLineBizs.push({dedicatedLineBizName:e.name,dedicatedLineBizId:e.id})}))},init:function(){["edit","view"].includes(this.type)?this.getDetail():this.showApi=!0,"view"===this.type&&(this.disabled=!0)}},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(a(),this.init())},mounted:function(){this.init()}},h=f,m=(a("a9fd"),a("0501"),a("2877")),b=Object(m["a"])(h,n,i,!1,null,"4abc804e",null);t["default"]=b.exports},e732:function(e,t,a){},e784:function(e,t,a){"use strict";a("f08d")},e954:function(e,t,a){"use strict";a("e732")},ea63:function(e,t,a){},effc:function(e,t,a){"use strict";a("110c")},f08d:function(e,t,a){},f0bf:function(e,t,a){"use strict";a("2db3")},f130:function(e,t,a){"use strict";a("0ef3")},f38d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"match-api"},[e.disabled?e._e():a("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.documentVisible=!0}}},[e._v("添加")]),a("el-form",{ref:"form",attrs:{disabled:e.disabled,size:"small","label-width":"60px"}},[0===e.documentList.length?a("avue-empty"):a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.fistLoading,expression:"fistLoading"}],ref:"tabs",staticClass:"api-tab",attrs:{"tab-position":"left",closable:!e.disabled},on:{"tab-remove":e.removeTab},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.documentList,(function(t){return a("el-tab-pane",{key:t.id,ref:"tabPane",refInFor:!0,attrs:{label:t.name,name:t.id,disabled:e.fistLoading||e.apiLoading}},[a("span",{staticClass:"tab-pane-title",attrs:{slot:"label",title:t.name},slot:"label"},[e._v(e._s(t.name))]),a("div",{staticClass:"tab-con"},[a("div",{staticClass:"interface-table"},[a("div",{staticClass:"key-tips"},[e._v("请勾选文档集包含的接口")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.apiLoading,expression:"apiLoading"}],ref:"multipleTable",refInFor:!0,staticStyle:{width:"100%"},attrs:{border:"",data:e.openDocApis,"tooltip-effect":"dark",size:"small","row-key":function(e){return e.path+"_"+e.method}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"接口名称",prop:"name"}}),a("el-table-column",{attrs:{label:"API路径",prop:"path"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.path)+" ")]}}],null,!0)}),a("el-table-column",{attrs:{label:"请求方法",prop:"method"}})],1)],1)])])})),1)],1),e.documentVisible?a("documentDialog",{attrs:{visible:e.documentVisible},on:{changeDrawer:function(t){e.documentVisible=!1},emitData:e.changeDocumentList}}):e._e()],1)},i=[],r=(a("456d"),a("ffc1"),a("20d6"),a("8615"),a("5df3"),a("7f7f"),a("ac6a"),a("c5f6"),a("3ec6")),o=a("52f7"),s=a("c54a"),c={name:"api",components:{documentDialog:r["default"]},props:{disabled:{type:Boolean,defaut:!1},data:{type:Array,default:function(){return[]}},isPair:{type:Number,default:1}},data:function(){return{multipleSelection:[],openDocApis:[],documentList:[],activeTab:"",openDocs:{},documentVisible:!1,apiLoading:!1,allDocs:{},fistLoading:!1,isUpdateData:!0}},watch:{activeTab:function(e){if(this.allDocs[e]&&this.openDocs[e]){var t=this.allDocs[e];this.openDocApis=t,this.syncData(e);var a=this.openDocs[e].openDocApis;this.setColumnSelect(a)}else e&&this.getDocumentDetail()},data:{deep:!0,immediate:!0,handler:function(e){var t=this;if(this.documentList=[],e.forEach((function(e){t.documentList.push({id:e.openDocId,name:e.openDocName}),t.openDocs[e.openDocId]={openDocApis:e.openDocApis,openDocId:e.openDocId,apiAuthId:e.apiAuthId,service:e.service,id:e.id||void 0}})),this.documentList.length>0&&this.isUpdateData&&this.documentList[0].name){var a=[];this.documentList.forEach((function(e){a.push(t.getDocumentDetail(e.id))})),this.fistLoading=!0,Promise.all(a).then((function(){t.fistLoading=!1,t.activeTab=t.documentList[0].id})).catch((function(){t.fistLoading=!1,t.activeTab=t.documentList[0].id})),this.isUpdateData=!1}}}},methods:{handleSelectionChange:function(e){this.multipleSelection=e,this.openDocs[this.activeTab].openDocApis=e},handleData:function(){var e=this,t=[];return Object.values(this.openDocs).forEach((function(a){if(a.openDocId){var n=[];a.openDocApis.forEach((function(e){n.push({method:e.method,path:e.path})})),t.push({apiAuthId:e.isPair?a.apiAuthId:void 0,id:a.id||void 0,openDocApis:n,openDocId:a.openDocId})}})),t},changeDocumentList:function(e){var t=this;e.forEach((function(e){var a=t.documentList.findIndex((function(t){return e.id===t.id}));-1===a&&t.documentList.push(e)}));var a=[];this.documentList.forEach((function(e){t.allDocs[e.id]&&!t.openDocs[e.id]?t.openDocs[e.id]={openDocApis:t.allDocs[e.id].filter((function(e){return e.isShow})),openDocId:e.id}:t.openDocs[e.id]||a.push(t.getDocumentDetail(e.id))})),a.length>0&&(this.fistLoading=!0,Promise.all(a).then((function(){t.fistLoading=!1})).catch((function(){t.fistLoading=!1}))),""===this.activeTab&&this.documentList.length>0&&(this.activeTab=this.documentList[0].id)},getDocumentDetail:function(e){var t=this;return e||(this.apiLoading=!0,this.openDocApis=[]),Object(o["b"])(e||this.activeTab).then((function(a){if(200!==a.data.code)return t.$message.error(a.data.msg||"获取数据失败！"),void(t.apiLoading=!1);var n=a.data.data,i=JSON.parse(n.content||"{}");n.openDocApis=t.renderPathAndMethod(i,n.openDocApis),t.allDocs[e||t.activeTab]=n.openDocApis,e||(t.openDocApis=n.openDocApis);var r=[];t.openDocs[e||t.activeTab]?(t.syncData(e||t.activeTab),e||(r=t.openDocs[t.activeTab].openDocApis,t.setColumnSelect(r))):(n.openDocApis.forEach((function(e){e.isShow&&r.push(e)})),t.openDocs[e||t.activeTab]={openDocApis:r,openDocId:n.id}),t.apiLoading=!1}),(function(){t.apiLoading=!1}))},syncData:function(e){var t=this,a=[];return this.openDocs[e].openDocApis.forEach((function(n){var i=t.allDocs[e].findIndex((function(e){return"".concat(e.path,"_").concat(e.method)==="".concat(n.path,"_").concat(n.method)}));i>-1&&a.push(t.allDocs[e][i])})),this.openDocs[e].openDocApis=a},renderPathAndMethod:function(e,t){var a=[];return!Object(s["o"])(e)&&e.paths&&Object.entries(e.paths).forEach((function(e){Object.entries(e[1]).forEach((function(n){var i=t.findIndex((function(t){var a=JSON.parse(t.content).curJson,i=Object.keys(a).filter((function(e){return"path"!==e}))[0];return"".concat(i,"_").concat(a.path)==="".concat(n[0],"_").concat(e[0])}));i>-1&&a.push(Object.assign(t[i],{path:e[0],method:n[0],name:n[1].summary}))}))})),a},setColumnSelect:function(e,t){var a=this;this.$nextTick((function(){var n=a.documentList.findIndex((function(e){return e.id===a.activeTab}))||0;t?a.$refs.multipleTable[n]&&a.$refs.multipleTable[n].toggleAllSelection():a.openDocApis.forEach((function(t){var i=e.findIndex((function(e){return e.path+"_"+e.method===t.path+"_"+t.method}));a.$refs.multipleTable[n]&&a.$refs.multipleTable[n].toggleRowSelection(t,i>-1)}))}))},emitData:function(){this.$emit("update:data",this.handleData()),this.isUpdateData=!0},validate:function(){var e=this,t=[];return this.documentList.forEach((function(a){e.openDocs[a.id]&&0===e.openDocs[a.id].openDocApis.length&&t.push(a.name)})),new Promise((function(a,n){t.length>0?n("【".concat(t.join("、"),"】文档的接口列表不能为空！")):0===e.documentList.length?n("请选择文档！"):a()}))},removeTab:function(e){var t=this.documentList.findIndex((function(t){return t.id===e})),a=this.documentList[t].id;delete this.openDocs[a],this.documentList.splice(t,1),this.documentList.length>0&&this.activeTab===a&&(this.activeTab=this.documentList[0].id),0===this.documentList.length&&(this.activeTab="")}}},l=c,u=(a("effc"),a("ffc2"),a("2877")),d=Object(u["a"])(l,n,i,!1,null,"27125560",null);t["default"]=d.exports},f84e:function(e,t,a){},faa8:function(e,t,a){"use strict";a("179e")},fb24:function(e,t,a){},fd18:function(e,t,a){},ffc2:function(e,t,a){"use strict";a("731d")}}]);