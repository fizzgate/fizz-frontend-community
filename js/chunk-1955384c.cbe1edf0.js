/*!
 * Fizz-Admin v2.2.3
 * (c) 2020-2021 Joker-Lee
 * AGPL v3 Licensed.
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1955384c","views.callback~views.proxy","page","views.aggregate","views.aggregateRecord","views.gateway","views.info","views.proxy","views.wel","chunk-2d0e4caf"],{"004f":function(e,t,n){var a=n("6d8b"),i=n("72b6"),r=n("2306"),o=n("a15a"),s=o.createSymbol,l=n("f934"),c=n("cbb0"),u=i.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,o=i.getFont(),s=i.getTextColor(),c=this._getItemAlign(),u=t.itemSize,d=this._getViewData(),p=d.endsText,h=a.retrieve(t.get("showLabel",!0),!p);function f(i){var l=i.piece,d=new r.Group;d.onclick=a.bind(this._onItemClick,this,l),this._enableHoverLink(d,i.indexInModelPieceList);var p=t.getRepresentValue(l);if(this._createItemSymbol(d,p,[0,0,u[0],u[1]]),h){var f=this.visualMapModel.getValueState(p);d.add(new r.Text({style:{x:"right"===c?-n:u[0]+n,y:u[1]/2,text:l.text,textVerticalAlign:"middle",textAlign:c,textFont:o,textFill:s,opacity:"outOfRange"===f?.5:1}}))}e.add(d)}p&&this._renderEndsText(e,p[0],u,h,c),a.each(d.viewPieceList,f,this),p&&this._renderEndsText(e,p[1],u,h,c),l.box(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function n(e){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:e,batch:c.makeHighDownBatch(n.findTargetDataIndices(t),n)})}e.on("mouseover",a.bind(n,this,"highlight")).on("mouseout",a.bind(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return c.getItemAlign(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(e,t,n,a,i){if(t){var o=new r.Group,s=this.visualMapModel.textStyleModel;o.add(new r.Text({style:{x:a?"right"===i?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:a?i:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(o)}},_getViewData:function(){var e=this.visualMapModel,t=a.map(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),n=e.get("text"),i=e.get("orient"),r=e.get("inverse");return("horizontal"===i?r:!r)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(s(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,n=t.option,i=a.clone(n.selected),r=t.getSelectedMapKey(e);"single"===n.selectedMode?(i[r]=!0,a.each(i,(function(e,t){i[t]=t===r}))):i[r]=!i[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}}),d=u;e.exports=d},"007d":function(e,t,n){var a=n("3eba");n("cb8f"),n("a96b"),n("42f6"),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))},"0156":function(e,t,n){var a=n("6d8b");function i(e,t,n){n=n||{};var i=e.coordinateSystem,r=t.axis,o={},s=r.getAxesOnZeroOf()[0],l=r.position,c=s?"onZero":l,u=r.dim,d=i.getRect(),p=[d.x,d.x+d.width,d.y,d.y+d.height],h={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,g="x"===u?[p[2]-f,p[3]+f]:[p[0]-f,p[1]+f];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));g[h.onZero]=Math.max(Math.min(m,g[1]),g[0])}o.position=["y"===u?g[h[c]]:p[0],"x"===u?g[h[c]]:p[3]],o.rotation=Math.PI/2*("x"===u?0:1);var v={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=v[l],o.labelOffset=s?g[h[l]]-g[h.onZero]:0,t.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),a.retrieve(n.labelInside,t.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var b=t.get("axisLabel.rotate");return o.labelRotate="top"===c?-b:b,o.z2=1,o}t.layout=i},"01ed":function(e,t,n){var a=n("3eba"),i=n("6d8b"),r=n("2306");n("5aa9"),n("af24"),a.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new r.Rect({shape:e.coordinateSystem.getRect(),style:i.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),a.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))},"0352":function(e,t,n){var a=n("6cb7"),i=n("b12f"),r=n("0f99"),o=r.detectSourceFormat,s=n("93d0"),l=s.SERIES_LAYOUT_BY_COLUMN;a.extend({type:"dataset",defaultOption:{seriesLayoutBy:l,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){o(this)}}),i.extend({type:"dataset"})},"03dd":function(e,t,n){var a=n("eac5"),i=n("57a5"),r=Object.prototype,o=r.hasOwnProperty;function s(e){if(!a(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}e.exports=s},"0452":function(e,t,n){},"0479":function(e,t,n){"use strict";n("60dc")},"04b4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-drawer",{attrs:{title:e.title,visible:e.drawerVisible,direction:"rtl","modal-append-to-body":!1,wrapperClosable:!1,size:"880px"},on:{"update:visible":function(t){e.drawerVisible=t}}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"small",disabled:e.disabled||"detail"===e.dialogType}},[n("el-form-item",{attrs:{label:"组件描述:",prop:"desc"}},[n("el-input",{attrs:{type:"textarea",placeholder:"如：循环调用10次"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),n("div",{staticClass:"form-item-required"},[n("el-form-item",{attrs:{label:"循环数据源:"}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"",prop:"dataSourceType"}},[n("el-select",{attrs:{placeholder:"固定值/引用值"},model:{value:e.form.dataSourceType,callback:function(t){e.$set(e.form,"dataSourceType",t)},expression:"form.dataSourceType"}},e._l(e.valueType,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("el-col",{attrs:{span:15}},[n("el-form-item",{attrs:{label:"",prop:"dataSource"}},["fixed"===e.form.dataSourceType?n("el-input",{attrs:{"controls-position":"right",clearable:"",placeholder:"值",min:1,oninput:"value=value.replace(/[^0-9]/g,'')",type:"number"},model:{value:e.form.dataSource,callback:function(t){e.$set(e.form,"dataSource",e._n(t))},expression:"form.dataSource"}}):n("el-input",{attrs:{placeholder:"值"},model:{value:e.form.dataSource,callback:function(t){e.$set(e.form,"dataSource",t)},expression:"form.dataSource"}})],1)],1),"ref"===e.form.dataSourceType?n("quote-tooltip",{staticClass:"tooltip"}):e._e()],1)],1),n("el-collapse",{staticClass:"info-con",attrs:{accordion:""},model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[n("el-collapse-item",{attrs:{title:"",name:"desc"}},[n("template",{slot:"title"},[n("div",{staticClass:"title"},[e._l(e.info.title,(function(t,a){return n("p",{key:a},[e._v(e._s(t))])})),n("span",{staticClass:"switch-text"},[e._v(e._s("desc"===e.activeCollapse?"收起":"展开"))])],2)]),e._l(e.info.body,(function(t,a){return n("div",{key:a,staticClass:"row"},e._l(t,(function(t,a){return n("p",{key:a},[e._v(e._s(t))])})),0)}))],2)],1)],1),n("div",{staticClass:"con"},[n("exec-break",{ref:"circleConditions",attrs:{data:e.execConditions,disabled:e.disabled||"detail"===e.dialogType,title:"循环条件",info:"条件为true时执行当次循环, 为false时跳过当次循环"},on:{"update:data":function(t){e.execConditions=t}}})],1),n("div",{staticClass:"con"},[n("exec-break",{ref:"breakConditions",attrs:{data:e.breakConditions,disabled:e.disabled||"detail"===e.dialogType,title:"退出条件",info:"条件为true时跳出循环, 退出条件在每次循环之后执行"},on:{"update:data":function(t){e.breakConditions=t}}})],1),n("footer",{staticClass:"drawer-footer"},[e.disabled||"detail"===e.dialogType?e._e():n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("\n      确 定\n    ")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.drawerVisible=!1}}},[e._v(" \n      "+e._s(e.disabled||"detail"===e.dialogType?"关 闭":" 取 消")+"\n    ")])],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("5df3"),n("ade3")),o=(n("ac6a"),n("c5f6"),n("e683")),s=n("cc38"),l=n("9288");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"circle-dialog",components:{quoteTooltip:s["default"],execBreak:l["default"]},props:{visible:{type:Boolean,default:!1},disabled:Boolean,data:Object,dialogType:{type:String,default:"add",validator:function(e){return-1!==["add","detail","edit"].indexOf(e)}}},data:function(){return{activeCollapse:"",form:{type:"circle",desc:"",dataSourceType:"",dataSource:""},rules:{desc:[{required:!0,message:"请输入组件描述",trigger:"blur"}],dataSourceType:[{required:!0,message:"请选择【循环数据源】",trigger:"change"}],dataSource:[{required:!0,message:"请输入【值】",trigger:"blur"}]},valueType:o["c"],info:{title:[" 数据源是一个数组或数字(循环次数)，固定值只支持数字。","如：固定值10，引用值step1.request1.response.body.data，当数据源不为空时才执行循环；"],body:[["在请求的循环内可通stepN.requestM.item引用当次循环对象，如：","step2.request1.item.name可获取到循环对象name字段的值，数据源是数字时，item是以1开始的数字，step2.request1.index可得到当次循环对象的下标，下标从0开始","在步骤的循环内可通stepN.item引用当次循环对象，如：","step2.item.name可获取到循环对象name字段的值，数据源是数字时，item是以1开始的数字，step2.index可得到当次循环对象的下标；"],["循环调用的结果为一个数组，可通过引用值获取，如：","循环请求：","step2.request1.circle[0].response.body可得到第一次循环请求的结果，","step2.request1.circle[-1].response.body可得到前一次循环请求的结果,","step2.request1.circle[*].response.body可得到所有循环请求的响应结果;","循环步骤:","step2.circle[0].request1.response.body可得到第一次循环步骤的结果，","step2.circle[-1].request1.response.body可得到前一次循环步骤的结果,","step2.circle[*].request1.response.body可得到所有循环步骤的响应结果"]]},execConditions:[],breakConditions:[]}},computed:{drawerVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}},title:function(){var e="";switch(this.dialogType){case"add":e="新增 流程控制组件【循环组件 circle】";break;case"edit":e="编辑 流程控制组件【循环组件 circle】";break;case"detail":e="流程控制组件【循环组件 circle】 详情";break}return e}},methods:{emitData:function(){this.$emit("emitData",this.handleData())},handleData:function(){"fixed"===this.form.dataSourceType&&(this.form.dataSource=Number(this.form.dataSource));var e=[],t=[];return this.execConditions.forEach((function(t){delete t._uuid,e.push(t)})),this.breakConditions.forEach((function(e){delete e._uuid,t.push(e)})),u(u({},this.form),{},{execConditions:e,breakConditions:t})},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message({showClose:!0,message:"请完善信息！",type:"warning"}),!1;var n=[t.$refs.circleConditions.validate(),t.$refs.breakConditions.validate()];Promise.all(n).then((function(){t.emitData(),t.drawerVisible=!1})).catch((function(e){console.log(e)}))}))}},mounted:function(){this.data&&(this.form=Object.assign({},this.data),this.execConditions=Object.assign([],this.data.execConditions),this.breakConditions=Object.assign([],this.data.breakConditions))}},p=d,h=(n("1c84"),n("81d7"),n("2877")),f=Object(h["a"])(p,a,i,!1,null,"83d19486",null);t["default"]=f.exports},"04f6":function(e,t){var n=32,a=7;function i(e){var t=0;while(e>=n)t|=1&e,e>>=1;return e+t}function r(e,t,n,a){var i=t+1;if(i===n)return 1;if(a(e[i++],e[t])<0){while(i<n&&a(e[i],e[i-1])<0)i++;o(e,t,i)}else while(i<n&&a(e[i],e[i-1])>=0)i++;return i-t}function o(e,t,n){n--;while(t<n){var a=e[t];e[t++]=e[n],e[n--]=a}}function s(e,t,n,a,i){for(a===t&&a++;a<n;a++){var r,o=e[a],s=t,l=a;while(s<l)r=s+l>>>1,i(o,e[r])<0?l=r:s=r+1;var c=a-s;switch(c){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:while(c>0)e[s+c]=e[s+c-1],c--}e[s]=o}}function l(e,t,n,a,i,r){var o=0,s=0,l=1;if(r(e,t[n+i])>0){s=a-i;while(l<s&&r(e,t[n+i+l])>0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{s=i+1;while(l<s&&r(e,t[n+i-l])<=0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s);var c=o;o=i-l,l=i-c}o++;while(o<l){var u=o+(l-o>>>1);r(e,t[n+u])>0?o=u+1:l=u}return l}function c(e,t,n,a,i,r){var o=0,s=0,l=1;if(r(e,t[n+i])<0){s=i+1;while(l<s&&r(e,t[n+i-l])<0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s);var c=o;o=i-l,l=i-c}else{s=a-i;while(l<s&&r(e,t[n+i+l])>=0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}o++;while(o<l){var u=o+(l-o>>>1);r(e,t[n+u])<0?l=u:o=u+1}return l}function u(e,t){var n,i,r=a,o=0,s=0;o=e.length;var u=[];function d(e,t){n[s]=e,i[s]=t,s+=1}function p(){while(s>1){var e=s-2;if(e>=1&&i[e-1]<=i[e]+i[e+1]||e>=2&&i[e-2]<=i[e]+i[e-1])i[e-1]<i[e+1]&&e--;else if(i[e]>i[e+1])break;f(e)}}function h(){while(s>1){var e=s-2;e>0&&i[e-1]<i[e+1]&&e--,f(e)}}function f(a){var r=n[a],o=i[a],u=n[a+1],d=i[a+1];i[a]=o+d,a===s-3&&(n[a+1]=n[a+2],i[a+1]=i[a+2]),s--;var p=c(e[u],e,r,o,0,t);r+=p,o-=p,0!==o&&(d=l(e[r+o-1],e,u,d,d-1,t),0!==d&&(o<=d?g(r,o,u,d):m(r,o,u,d)))}function g(n,i,o,s){var d=0;for(d=0;d<i;d++)u[d]=e[n+d];var p=0,h=o,f=n;if(e[f++]=e[h++],0!==--s)if(1!==i){var g,m,v,b=r;while(1){g=0,m=0,v=!1;do{if(t(e[h],u[p])<0){if(e[f++]=e[h++],m++,g=0,0===--s){v=!0;break}}else if(e[f++]=u[p++],g++,m=0,1===--i){v=!0;break}}while((g|m)<b);if(v)break;do{if(g=c(e[h],u,p,i,0,t),0!==g){for(d=0;d<g;d++)e[f+d]=u[p+d];if(f+=g,p+=g,i-=g,i<=1){v=!0;break}}if(e[f++]=e[h++],0===--s){v=!0;break}if(m=l(u[p],e,h,s,0,t),0!==m){for(d=0;d<m;d++)e[f+d]=e[h+d];if(f+=m,h+=m,s-=m,0===s){v=!0;break}}if(e[f++]=u[p++],1===--i){v=!0;break}b--}while(g>=a||m>=a);if(v)break;b<0&&(b=0),b+=2}if(r=b,r<1&&(r=1),1===i){for(d=0;d<s;d++)e[f+d]=e[h+d];e[f+s]=u[p]}else{if(0===i)throw new Error;for(d=0;d<i;d++)e[f+d]=u[p+d]}}else{for(d=0;d<s;d++)e[f+d]=e[h+d];e[f+s]=u[p]}else for(d=0;d<i;d++)e[f+d]=u[p+d]}function m(n,i,o,s){var d=0;for(d=0;d<s;d++)u[d]=e[o+d];var p=n+i-1,h=s-1,f=o+s-1,g=0,m=0;if(e[f--]=e[p--],0!==--i)if(1!==s){var v=r;while(1){var b=0,y=0,x=!1;do{if(t(u[h],e[p])<0){if(e[f--]=e[p--],b++,y=0,0===--i){x=!0;break}}else if(e[f--]=u[h--],y++,b=0,1===--s){x=!0;break}}while((b|y)<v);if(x)break;do{if(b=i-c(u[h],e,n,i,i-1,t),0!==b){for(f-=b,p-=b,i-=b,m=f+1,g=p+1,d=b-1;d>=0;d--)e[m+d]=e[g+d];if(0===i){x=!0;break}}if(e[f--]=u[h--],1===--s){x=!0;break}if(y=s-l(e[p],u,0,s,s-1,t),0!==y){for(f-=y,h-=y,s-=y,m=f+1,g=h+1,d=0;d<y;d++)e[m+d]=u[g+d];if(s<=1){x=!0;break}}if(e[f--]=e[p--],0===--i){x=!0;break}v--}while(b>=a||y>=a);if(x)break;v<0&&(v=0),v+=2}if(r=v,r<1&&(r=1),1===s){for(f-=i,p-=i,m=f+1,g=p+1,d=i-1;d>=0;d--)e[m+d]=e[g+d];e[f]=u[h]}else{if(0===s)throw new Error;for(g=f-(s-1),d=0;d<s;d++)e[g+d]=u[d]}}else{for(f-=i,p-=i,m=f+1,g=p+1,d=i-1;d>=0;d--)e[m+d]=e[g+d];e[f]=u[h]}else for(g=f-(s-1),d=0;d<s;d++)e[g+d]=u[d]}n=[],i=[],this.mergeRuns=p,this.forceMergeRuns=h,this.pushRun=d}function d(e,t,a,o){a||(a=0),o||(o=e.length);var l=o-a;if(!(l<2)){var c=0;if(l<n)return c=r(e,a,o,t),void s(e,a,o,a+c,t);var d=new u(e,t),p=i(l);do{if(c=r(e,a,o,t),c<p){var h=l;h>p&&(h=p),s(e,a,a+h,a+c,t),c=h}d.pushRun(a,c),d.mergeRuns(),l-=c,a+=c}while(0!==l);d.forceMergeRuns()}}e.exports=d},"0621":function(e,t,n){var a=n("9e69"),i=n("d370"),r=n("6747"),o=a?a.isConcatSpreadable:void 0;function s(e){return r(e)||i(e)||!!(o&&e&&e[o])}e.exports=s},"0644":function(e,t,n){var a=n("3818"),i=1,r=4;function o(e){return a(e,i|r)}e.exports=o},"0655":function(e,t,n){var a=n("8728"),i=1e-8;function r(e,t){return Math.abs(e-t)<i}function o(e,t,n){var i=0,o=e[0];if(!o)return!1;for(var s=1;s<e.length;s++){var l=e[s];i+=a(o[0],o[1],l[0],l[1],t,n),o=l}var c=e[0];return r(o[0],c[0])&&r(o[1],c[1])||(i+=a(o[0],o[1],c[0],c[1],t,n)),0!==i}t.contain=o},"069e":function(e,t,n){"use strict";n("18ba")},"06ad":function(e,t,n){var a=n("4436"),i=n("41ef"),r=n("6d8b"),o=r.isArrayLike,s=Array.prototype.slice;function l(e,t){return e[t]}function c(e,t,n){e[t]=n}function u(e,t,n){return(t-e)*n+e}function d(e,t,n){return n>.5?t:e}function p(e,t,n,a,i){var r=e.length;if(1===i)for(var o=0;o<r;o++)a[o]=u(e[o],t[o],n);else{var s=r&&e[0].length;for(o=0;o<r;o++)for(var l=0;l<s;l++)a[o][l]=u(e[o][l],t[o][l],n)}}function h(e,t,n){var a=e.length,i=t.length;if(a!==i){var r=a>i;if(r)e.length=i;else for(var o=a;o<i;o++)e.push(1===n?t[o]:s.call(t[o]))}var l=e[0]&&e[0].length;for(o=0;o<e.length;o++)if(1===n)isNaN(e[o])&&(e[o]=t[o]);else for(var c=0;c<l;c++)isNaN(e[o][c])&&(e[o][c]=t[o][c])}function f(e,t,n){if(e===t)return!0;var a=e.length;if(a!==t.length)return!1;if(1===n){for(var i=0;i<a;i++)if(e[i]!==t[i])return!1}else{var r=e[0].length;for(i=0;i<a;i++)for(var o=0;o<r;o++)if(e[i][o]!==t[i][o])return!1}return!0}function g(e,t,n,a,i,r,o,s,l){var c=e.length;if(1===l)for(var u=0;u<c;u++)s[u]=m(e[u],t[u],n[u],a[u],i,r,o);else{var d=e[0].length;for(u=0;u<c;u++)for(var p=0;p<d;p++)s[u][p]=m(e[u][p],t[u][p],n[u][p],a[u][p],i,r,o)}}function m(e,t,n,a,i,r,o){var s=.5*(n-e),l=.5*(a-t);return(2*(t-n)+s+l)*o+(-3*(t-n)-2*s-l)*r+s*i+t}function v(e){if(o(e)){var t=e.length;if(o(e[0])){for(var n=[],a=0;a<t;a++)n.push(s.call(e[a]));return n}return s.call(e)}return e}function b(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function y(e){var t=e[e.length-1].value;return o(t&&t[0])?2:1}function x(e,t,n,r,s,l){var c=e._getter,v=e._setter,x="spline"===t,w=r.length;if(w){var _,O=r[0].value,D=o(O),C=!1,S=!1,k=D?y(r):0;r.sort((function(e,t){return e.time-t.time})),_=r[w-1].time;for(var T=[],P=[],j=r[0].value,I=!0,L=0;L<w;L++){T.push(r[L].time/_);var M=r[L].value;if(D&&f(M,j,k)||!D&&M===j||(I=!1),j=M,"string"===typeof M){var A=i.parse(M);A?(M=A,C=!0):S=!0}P.push(M)}if(l||!I){var E=P[w-1];for(L=0;L<w-1;L++)D?h(P[L],E,k):!isNaN(P[L])||isNaN(E)||S||C||(P[L]=E);D&&h(c(e._target,s),E,k);var z,R,F,B,$,q,N=0,H=0;if(C)var V=[0,0,0,0];var U=function(e,t){var n;if(t<0)n=0;else if(t<H){for(z=Math.min(N+1,w-1),n=z;n>=0;n--)if(T[n]<=t)break;n=Math.min(n,w-2)}else{for(n=N;n<w;n++)if(T[n]>t)break;n=Math.min(n-1,w-2)}N=n,H=t;var a=T[n+1]-T[n];if(0!==a)if(R=(t-T[n])/a,x)if(B=P[n],F=P[0===n?n:n-1],$=P[n>w-2?w-1:n+1],q=P[n>w-3?w-1:n+2],D)g(F,B,$,q,R,R*R,R*R*R,c(e,s),k);else{if(C)i=g(F,B,$,q,R,R*R,R*R*R,V,1),i=b(V);else{if(S)return d(B,$,R);i=m(F,B,$,q,R,R*R,R*R*R)}v(e,s,i)}else if(D)p(P[n],P[n+1],R,c(e,s),k);else{var i;if(C)p(P[n],P[n+1],R,V,1),i=b(V);else{if(S)return d(P[n],P[n+1],R);i=u(P[n],P[n+1],R)}v(e,s,i)}},G=new a({target:e._target,life:_,loop:e._loop,delay:e._delay,onframe:U,ondestroy:n});return t&&"spline"!==t&&(G.easing=t),G}}}var w=function(e,t,n,a){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||l,this._setter=a||c,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};w.prototype={when:function(e,t){var n=this._tracks;for(var a in t)if(t.hasOwnProperty(a)){if(!n[a]){n[a]=[];var i=this._getter(this._target,a);if(null==i)continue;0!==e&&n[a].push({time:0,value:v(i)})}n[a].push({time:e,value:t[a]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){var n,a=this,i=0,r=function(){i--,i||a._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=x(this,e,r,this._tracks[o],o,t);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(e,t){l(e,t);for(var n=0;n<a._onframeList.length;n++)a._onframeList[n](e,t)}}return i||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,a=0;a<t.length;a++){var i=t[a];e&&i.onframe(this._target,1),n&&n.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var _=w;e.exports=_},"06ea":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=n("eaea"),o=n("5f14"),s=n("60e3"),l=n("3842"),c=l.reformIntervals,u=r.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){u.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();d[this._mode].call(this),this._resetSelected(e,t);var a=this.option.categories;this.resetVisual((function(e,t){"categories"===n?(e.mappingMethod="category",e.categories=i.clone(a)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=i.map(this._pieceList,(function(e){e=i.clone(e);return"inRange"!==t&&(e.visual=null),e})))}))},completeVisualOption:function(){var e=this.option,t={},n=o.listVisualTypes(),a=this.isCategory();function l(e,t,n){return e&&e[t]&&(i.isObject(e[t])?e[t].hasOwnProperty(n):e[t]===n)}i.each(e.pieces,(function(e){i.each(n,(function(n){e.hasOwnProperty(n)&&(t[n]=1)}))})),i.each(t,(function(t,n){var r=0;i.each(this.stateList,(function(t){r|=l(e,t,n)||l(e.target,t,n)}),this),!r&&i.each(this.stateList,(function(t){(e[t]||(e[t]={}))[n]=s.get(n,"inRange"===t?"active":"inactive",a)}))}),this),r.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,a=this._pieceList,r=(t?n:e).selected||{};if(n.selected=r,i.each(a,(function(e,t){var n=this.getSelectedMapKey(e);r.hasOwnProperty(n)||(r[n]=!0)}),this),"single"===n.selectedMode){var o=!1;i.each(a,(function(e,t){var n=this.getSelectedMapKey(e);r[n]&&(o?r[n]=!1:o=!0)}),this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=i.clone(e)},getValueState:function(e){var t=o.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(n){var a=[],i=n.getData();i.each(this.getDataDimension(i),(function(t,n){var i=o.findPieceIndex(t,this._pieceList);i===e&&a.push(n)}),this),t.push({seriesId:n.id,dataIndex:a})}),this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],n=[],a=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),o=r[r.length-1].interval[1],o!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var s=-1/0;return i.each(r,(function(e){var t=e.interval;t&&(t[0]>s&&l([s,t[0]],"outOfRange"),l(t.slice()),s=t[1])}),this),{stops:t,outerColors:n}}function l(i,r){var o=a.getRepresentValue({interval:i});r||(r=a.getValueState(o));var s=e(o,r);i[0]===-1/0?n[0]=s:i[1]===1/0?n[1]=s:t.push({value:i[0],color:s},{value:i[1],color:s})}}}),d={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),a=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;var o=(a[1]-a[0])/r;while(+o.toFixed(n)!==o&&n<5)n++;e.precision=n,o=+o.toFixed(n),e.minOpen&&t.push({interval:[-1/0,a[0]],close:[0,0]});for(var s=0,l=a[0];s<r;l+=o,s++){var u=s===r-1?a[1]:l+o;t.push({interval:[l,u],close:[1,1]})}e.maxOpen&&t.push({interval:[a[1],1/0],close:[0,0]}),c(t),i.each(t,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(){var e=this.option;i.each(e.categories,(function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})}),this),p(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;i.each(e.pieces,(function(e,n){i.isObject(e)||(e={value:e});var a={text:"",index:n};if(null!=e.label&&(a.text=e.label),e.hasOwnProperty("value")){var r=a.value=e.value;a.interval=[r,r],a.close=[1,1]}else{for(var s=a.interval=[],l=a.close=[0,0],c=[1,0,1],u=[-1/0,1/0],d=[],p=0;p<2;p++){for(var h=[["gte","gt","min"],["lte","lt","max"]][p],f=0;f<3&&null==s[p];f++)s[p]=e[h[f]],l[p]=c[f],d[p]=2===f;null==s[p]&&(s[p]=u[p])}d[0]&&s[1]===1/0&&(l[0]=0),d[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(a.value=s[0])}a.visual=o.retrieveVisuals(e),t.push(a)}),this),p(e,t),c(t),i.each(t,(function(e){var t=e.close,n=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)}),this)}};function p(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var h=u;e.exports=h},"07c7":function(e,t){function n(){return!1}e.exports=n},"07d3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"json-schema-table"},[n("el-table",{ref:"jsonTable",staticClass:"json-table",attrs:{"row-key":"id",size:e.size,data:e.tableData,"cell-class-name":e.setCellClass,border:"","default-expand-all":""}},[n("el-table-column",{attrs:{prop:"name",label:"参数名"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{staticClass:"scope-box",attrs:{size:e.size,disabled:e.disabled,placeholder:"参数名"},model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"scope.row.name"}})]}}])}),e.propType?e._e():[n("el-table-column",{attrs:{label:"类型",width:"121"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.root?n("el-select",{attrs:{size:e.size,disabled:e.disabled,placeholder:"类型",filterable:""},model:{value:t.row.type,callback:function(n){e.$set(t.row,"type",n)},expression:"scope.row.type"}},e._l(e.rootTypeOptions,(function(t){return e.rootNode&&e.rootNode===t.value?n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}}):e._e()})),1):e.propTypeOptions?n("el-select",{attrs:{size:e.size,disabled:e.disabled,placeholder:"类型",filterable:""},on:{change:function(n){return e.handleSelect(t.row)}},model:{value:t.row.type,callback:function(n){e.$set(t.row,"type",n)},expression:"scope.row.type"}},e._l(e.propTypeOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):n("el-select",{attrs:{size:e.size,disabled:e.disabled,placeholder:"类型",filterable:""},on:{change:function(n){return e.handleSelect(t.row)}},model:{value:t.row.type,callback:function(n){e.$set(t.row,"type",n)},expression:"scope.row.type"}},e._l(e.typeOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}],null,!1,1565571909)})],n("el-table-column",{attrs:{label:"必填",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{disabled:e.disabled||t.row.root},model:{value:t.row.required,callback:function(n){e.$set(t.row,"required",n)},expression:"scope.row.required"}})]}}])}),n("el-table-column",{attrs:{prop:"title",label:"中文标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"中文标题"},model:{value:t.row.title,callback:function(n){e.$set(t.row,"title",n)},expression:"scope.row.title"}})]}}])}),n("el-table-column",{attrs:{prop:"titleEn",label:"英文标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"英文标题"},model:{value:t.row.titleEn,callback:function(n){e.$set(t.row,"titleEn",n)},expression:"scope.row.titleEn"}})]}}])}),n("el-table-column",{attrs:{label:"说明"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"说明"},model:{value:t.row.description,callback:function(n){e.$set(t.row,"description",n)},expression:"scope.row.description"}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:e.hasAddChildren?"220px":"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasAddChildren?[n("el-tooltip",{attrs:{content:"为Object或Array添加子层级的参数",placement:"top-start"}},[n("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(n){return e.handleAddChildren(t.row)}}},[e._v("添加子字段\n            ")])],1)]:e._e(),n("el-tooltip",{attrs:{content:"为参数补充更详细的信息",placement:"top-start"}},[n("el-button",{attrs:{size:e.size,type:"text"},on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("更多设置\n          ")])],1),t.row.root?e._e():[n("el-tooltip",{attrs:{content:"插入新的参数",placement:"top-start"}},[n("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(n){return e.handleAdd(t.row)}}},[e._v("插入\n            ")])],1)],n("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])}),n("template",{slot:"empty"},[n("div",{staticStyle:{padding:"20px"}},[n("avue-empty"),n("el-button",{attrs:{type:"primary",size:e.size,disabled:e.disabled},on:{click:function(t){return e.initTableData()}}},[e._v("新增数据")])],1)])],2),n("el-dialog",{staticClass:"json-schema-dialog",attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[n("el-table",{attrs:{data:e.detailData,size:"mini",border:""}},[n("el-table-column",{attrs:{prop:"name",label:"参数名"}}),n("el-table-column",{attrs:{prop:"type",label:"类型",width:"121"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.type instanceof Array?n("span",[e._v("\n            "+e._s(t.row.type.join(" / "))+"\n          ")]):n("span",[e._v("\n            "+e._s(t.row.type)+"\n          ")])]}}])}),n("el-table-column",{attrs:{prop:"required",label:"必填",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.required?"是":"否")+"\n        ")]}}])}),n("el-table-column",{attrs:{prop:"title",label:"中文标题"}}),n("el-table-column",{attrs:{prop:"titleEn",label:"英文标题"}}),n("el-table-column",{attrs:{prop:"description",label:"说明"}})],1),n("el-form",{ref:"detailForm",attrs:{model:e.detailForm,rules:e.rules,size:"small",disabled:e.disabled,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"默认值",prop:"default"}},[n("el-input",{attrs:{placeholder:"默认值",clearable:""},model:{value:e.detailForm.default,callback:function(t){e.$set(e.detailForm,"default",t)},expression:"detailForm.default"}})],1),"string"===e.detailForm.type?[n("el-form-item",{attrs:{label:"长度限制",prop:"length"}},[n("el-input-number",{attrs:{placeholder:"最小长度","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.minLength,callback:function(t){e.$set(e.detailForm,"minLength",t)},expression:"detailForm.minLength"}}),n("span",[e._v(" ~ ")]),n("el-input-number",{attrs:{placeholder:"最大长度","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.maxLength,callback:function(t){e.$set(e.detailForm,"maxLength",t)},expression:"detailForm.maxLength"}})],1),n("el-form-item",{attrs:{label:"格式限制",prop:"format"}},[n("el-select",{attrs:{placeholder:"格式限制",filterable:"",clearable:""},model:{value:e.detailForm.format,callback:function(t){e.$set(e.detailForm,"format",t)},expression:"detailForm.format"}},e._l(e.formatOptions,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),n("el-form-item",{attrs:{label:"正则限制",prop:"pattern"}},[n("el-input",{attrs:{placeholder:"正则限制",clearable:""},model:{value:e.detailForm.pattern,callback:function(t){e.$set(e.detailForm,"pattern",t)},expression:"detailForm.pattern"}})],1)]:e._e(),"number"===e.detailForm.type||"integer"===e.detailForm.type?[n("el-form-item",{attrs:{label:"数值范围",prop:"length"}},[n("el-input-number",{attrs:{placeholder:"最小值","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.minimum,callback:function(t){e.$set(e.detailForm,"minimum",t)},expression:"detailForm.minimum"}}),n("span",[e._v(" ~ ")]),n("el-input-number",{attrs:{placeholder:"最大值","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.maximum,callback:function(t){e.$set(e.detailForm,"maximum",t)},expression:"detailForm.maximum"}})],1)]:e._e(),n("el-form-item",{attrs:{label:"参数值可能性",prop:"enum"}},[e._l(e.detailForm.enum,(function(t){return n("el-tag",{key:t,attrs:{"disable-transitions":!1,closable:""},on:{close:function(n){return e.handleClose(t)}}},[e._v("\n          "+e._s(t)+"\n        ")])})),e.tagInputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}},model:{value:e.tagInputValue,callback:function(t){e.tagInputValue=t},expression:"tagInputValue"}}):n("el-button",{attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 新枚举值")])],2),"array"!==e.detailForm.type||e.detailForm.children&&e.detailForm.children.length?e._e():[n("el-form-item",{attrs:{label:"子字段类型",prop:"subtype"}},[n("el-select",{attrs:{placeholder:"子字段类型",filterable:"",clearable:""},model:{value:e.detailForm.items.type,callback:function(t){e.$set(e.detailForm.items,"type",t)},expression:"detailForm.items.type"}},e._l(e.typeOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]],2),e.disabled?e._e():n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitDetail}},[e._v("提 交\n      ")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1)],1)],1)},i=[],r=(n("20d6"),n("4f7f"),n("5df3"),n("1c4c"),n("7f7f"),n("456d"),n("ac6a"),n("c54a")),o=n("307b"),s=function e(t,n){var a=t.children;if(a&&a.length){for(var i,r=0;r<a.length;r++){if(a[r].id===n)return i=t,i;if(a[r].children&&a[r].children.length&&(i=e(a[r],n),i))return i}return i}},l={name:"json-schema-table",data:function(){return{tableData:[],typeOptions:[{value:"string",label:"string"},{value:"array",label:"array"},{value:"object",label:"object"},{value:"integer",label:"integer"},{value:"number",label:"number"},{value:"boolean",label:"boolean"}],rootTypeOptions:[{value:"object",label:"object"},{value:"array",label:"array"}],formatOptions:["date-time","time","date","email","ipv4","ipv6","uri"],id:1,detailDialog:{visible:!1,title:"详情",loading:!1},detailData:[],detailForm:{},tagInputVisible:!1,tagInputValue:""}},props:{disabled:{type:Boolean},size:{type:String,default:"mini"},rootType:{type:String},rootNode:{type:String},propType:{type:[String,Array]},propTypeOptions:{type:Array},data:{type:Object},subfields:{type:Boolean,default:!0}},computed:{hasAddChildren:function(){return this.subfields&&!this.propType}},watch:{data:{deep:!0,handler:function(){this.jsonToTableHandler()}}},created:function(){this.jsonToTableHandler()},methods:{initTableData:function(){this.tableData=[{id:this.id++,name:"",root:!!this.rootNode,type:this.propType||this.rootNode||"string",required:!0,description:""}]},emitData:function(){var e=this.tableToJsonHandler();this.$emit("change",e),this.$emit("update:data",e)},jsonDataFilter:function(e){var t=this,n=[],a=e.items&&e.items.properties||e.properties,i=e.childRequired||e.items&&e.items.required||e.required;return a&&Object.keys(a).forEach((function(e){var o=Object.assign({name:e,id:t.id++},a[e]);if(Object(r["b"])(o.required)&&(o.childRequired=o.required),Object(r["b"])(o.type)){var s=o.type.indexOf("null");s>-1&&o.type.splice(s,1),1===o.type.length&&(o.type=o.type[0])}o.required=!(!Object(r["b"])(i)||!i.some((function(t){return t===e}))),(o.properties||o.items&&o.items.properties)&&(o.children=t.jsonDataFilter(o),delete o.items,delete o.properties,delete o.childRequired),n.push(o)})),n},jsonToTableHandler:function(){var e=Object(o["a"])(Object.assign({},this.data));this.isEmptyObj(e)?this.initTableData():(this.tableData=this.jsonDataFilter(e),this.rootNode&&this.tableData[0]&&(this.tableData[0].root=!0))},tableDataFilter:function(e){for(var t={},n=[],a=[],i=0;i<e.length;i++){var o=e[i];if(o.name){if(t.hasOwnProperty(o.name)&&a.push(o.name),t[o.name]=Object.assign({},o),o.children&&o.children.length>0){var s=this.tableDataFilter(o.children);t[o.name].properties=s.properties||s,t[o.name].required=s.required||[]}if("array"===t[o.name].type&&(this.isEmptyObj(t[o.name].properties)||(t[o.name].items={type:"object",properties:t[o.name].properties,required:t[o.name].required}),delete t[o.name].properties,delete t[o.name].required),o.required)n.push(o.name);else if(Object(r["b"])(t[o.name].type)){var l=["null"];l=l.concat(t[o.name].type),t[o.name].type=Array.from(new Set(l))}else{var c=["null"];c.push(t[o.name].type),t[o.name].type=c}delete t[o.name].id,delete t[o.name].name,delete t[o.name].root,delete t[o.name].children,Object(r["b"])(t[o.name].required)||delete t[o.name].required}}return a&&a.length&&this.$message.warning("请注意参数[".concat(a.join(","),"]重复，后值覆盖前值")),{properties:t,required:n}},tableToJsonHandler:function(){var e=Object.assign({},this.tableDataFilter(this.tableData)),t=!e.required.length;return"array"===this.rootType?e={type:t?["array","null"]:["array"],items:Object.assign({type:"object"},e)}:"object"===this.rootType?e.type=t?["object","null"]:["object"]:e.type=t?["object","array","null"]:["object","array"],e},handleAdd:function(e){var t={id:this.id++,name:"",type:this.propType||"string",description:"",required:!0},n=s({id:0,children:this.tableData},e.id),a=n.children.findIndex((function(t){return t.id===e.id}));n.children.splice(a,0,t)},handleAddChildren:function(e){var t={id:this.id++,name:"",type:"string",description:"",required:!0};e.children||this.$set(e,"children",[]),"object"!==e.type&&"array"!==e.type&&this.$set(e,"type","object"),e.children.push(t)},handleDelete:function(e){var t=s({id:0,children:this.tableData},e.id),n=t.children.findIndex((function(t){return t.id===e.id}));t.children.splice(n,1)},handleSelect:function(e){!this.rootTypeOptions.some((function(t){return t.value===e.type}))&&e.children&&this.$set(e,"children",[])},handleEdit:function(e){this.detailData=[],this.detailData.push(e),this.detailForm=Object.assign({enum:[],items:{}},e),this.detailDialog.visible=!0},submitDetail:function(){var e=this;this.detailForm.enum.length||delete this.detailForm.enum,this.detailForm.items.type||delete this.detailForm.items.type;var t=s({id:0,children:this.tableData},this.detailForm.id),n=t.children.findIndex((function(t){return t.id===e.detailForm.id}));t.children[n]=Object.assign(t.children[n],this.detailForm),this.detailDialog.visible=!1},handleClose:function(e){this.detailForm.enum.splice(this.detailForm.enum.indexOf(e),1)},showInput:function(){var e=this;this.tagInputVisible=!0,this.$nextTick((function(){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){this.tagInputValue&&this.detailForm.enum.push(this.tagInputValue),this.tagInputVisible=!1,this.tagInputValue=""},isEmptyObj:function(e){var t=Object.assign({},e);return"{}"===JSON.stringify(t)},setCellClass:function(e){var t=e.columnIndex;if(0===t)return"flex-cell"}}},c=l,u=(n("a50b"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,null,null);t["default"]=d.exports},"07d7":function(e,t,n){var a=n("6d8b"),i=n("41ef"),r=n("607d"),o=n("65ed"),s=n("22d1"),l=n("eda2"),c=a.each,u=l.toCamelCase,d=["","-webkit-","-moz-","-o-"],p="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function h(e){var t="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+e+"s "+t+",top "+e+"s "+t;return a.map(d,(function(e){return e+"transition:"+n})).join(";")}function f(e){var t=[],n=e.get("fontSize"),a=e.getTextColor();a&&t.push("color:"+a),t.push("font:"+e.getFont());var i=e.get("lineHeight");null==i&&(i=Math.round(3*n/2)),n&&t.push("line-height:"+i+"px");var r=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+r),c(["decoration","align"],(function(n){var a=e.get(n);a&&t.push("text-"+n+":"+a)})),t.join(";")}function g(e){var t=[],n=e.get("transitionDuration"),a=e.get("backgroundColor"),r=e.getModel("textStyle"),o=e.get("padding");return n&&t.push(h(n)),a&&(s.canvasSupported?t.push("background-Color:"+a):(t.push("background-Color:#"+i.toHex(a)),t.push("filter:alpha(opacity=70)"))),c(["width","color","radius"],(function(n){var a="border-"+n,i=u(a),r=e.get(i);null!=r&&t.push(a+":"+r+("color"===n?"":"px"))})),t.push(f(r)),null!=o&&t.push("padding:"+l.normalizeCssArray(o).join("px ")+"px"),t.join(";")+";"}function m(e,t,n,a,i){var r=t&&t.painter;if(n){var s=r&&r.getViewportRoot();s&&o.transformLocalCoord(e,s,document.body,a,i)}else{e[0]=a,e[1]=i;var l=r&&r.getViewportRootOffset();l&&(e[0]+=l.offsetLeft,e[1]+=l.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function v(e,t,n){if(s.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var i=this._zr=t.getZr(),o=this._appendToBody=n&&n.appendToBody;this._styleCoord=[0,0,0,0],m(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),o?document.body.appendChild(a):e.appendChild(a),this._container=e,this._show=!1,this._hideTimeout;var l=this;a.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},a.onmousemove=function(e){if(e=e||window.event,!l._enterable){var t=i.handler,n=i.painter.getViewportRoot();r.normalizeEvent(n,e,!0),t.dispatch("mousemove",e)}},a.onmouseleave=function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}}v.prototype={constructor:v,_enterable:!0,update:function(e){var t=this._container,n=t.currentStyle||document.defaultView.getComputedStyle(t),a=t.style;"absolute"!==a.position&&"absolute"!==n.position&&(a.position="relative");var i=e.get("alwaysShowContent");i&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],n=e*this._zr.getWidth(),a=t*this._zr.getHeight();this.moveTo(n,a)},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,n=this._styleCoord;t.style.cssText=p+g(e)+";left:"+n[0]+"px;top:"+n[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n=this._styleCoord;m(n,this._zr,this._appendToBody,e,t);var a=this.el.style;a.left=n[0]+"px",a.top=n[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(a.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(e+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),t+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:t}}};var b=v;e.exports=b},"087d":function(e,t){function n(e,t){var n=-1,a=t.length,i=e.length;while(++n<a)e[i+n]=t[n];return e}e.exports=n},"095a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("avue-tabs",{attrs:{option:e.option},on:{change:e.handleChange,submit:e.handleSubmit},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},i=[],r=(n("7f7f"),n("c54a")),o=function(e,t,n){t?Object(r["f"])(t)?n():n(new Error("密码必须包含大小写字母、数字")):n(new Error("请输入密码"))},s={column:[{label:"个人信息",prop:"info",option:{submitText:"修改",column:[{label:"姓名",span:12,row:!0,prop:"realName",disabled:!0,rules:[{required:!0,message:"姓名不能为空",trigger:"blur"}]},{label:"昵称",span:12,row:!0,prop:"name",rules:[{required:!0,message:"昵称不能为空",trigger:"blur"}]},{label:"手机号",span:12,row:!0,prop:"phone"},{label:"邮箱",prop:"email",span:12,row:!0,rules:[{validator:function(e,t,n){t&&!Object(r["g"])(t)?n(new Error("请填写正确的邮箱")):n()},trigger:"blur"}]}]}},{label:"修改密码",prop:"password",option:{submitText:"修改",column:[{label:"原密码",span:12,row:!0,type:"password",prop:"oldPassword",rules:[{required:!0,message:"原密码不能为空",trigger:"blur"}]},{label:"新密码",span:12,row:!0,type:"password",prop:"newPassword",rules:[{required:!0,message:"新密码不能为空",trigger:"blur"},{validator:o,trigger:"blur"},{min:6,message:"密码长度至少6个字符",trigger:"blur"}]},{label:"确认密码",span:12,row:!0,type:"password",prop:"newPassword1",rules:[{required:!0,message:"确认密码不能为空",trigger:"blur"}]}]}}]},l=n("c0c7"),c={data:function(){return{type:"info",option:s,form:{}}},created:function(){this.handleWitch()},methods:{handleSubmit:function(){var e=this;if("info"===this.type)Object(l["h"])(this.form).then((function(t){t.data.success?e.$message({type:"success",message:"修改信息成功!"}):e.$message({type:"error",message:t.data.msg})}));else{if(this.form.newPassword!==this.form.newPassword1)return void this.$message({type:"error",message:"两次输入密码不一致!"});Object(l["i"])(this.form.oldPassword,this.form.newPassword,this.form.newPassword1).then((function(t){t.data.success?e.$message({type:"success",message:"修改密码成功!"}):e.$message({type:"error",message:t.data.msg})}))}},handleWitch:function(){var e=this;"info"===this.type&&Object(l["c"])().then((function(t){var n=t.data.data;e.form={id:n.id,avatar:n.avatar,name:n.name,realName:n.realName,phone:n.phone,email:n.email}}))},handleChange:function(e){this.type=e.prop,this.handleWitch()}}},u=c,d=n("2877"),p=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=p.exports},"0983":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen,"before-close":e.beforeClose},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"isSealed",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(0===a.isSealed?"否":"是"))])]}},{key:"menu",fn:function(t){return[n("el-button",{attrs:{type:"text",icon:"el-icon-check",size:"small"},on:{click:function(n){return n.stopPropagation(),e.handleAdd(t.row,t.index)}}},[e._v("新增子项\n      ")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.dict_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("7754"),s=n("5880");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={data:function(){return{form:{},selectionList:[],query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:300,dialogWidth:880,column:[{label:"字典编号",prop:"code",search:!0,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"上级字典",prop:"parentId",type:"tree",dicData:[],hide:!0,props:{label:"title"},rules:[{required:!1,message:"请选择上级字典",trigger:"click"}]},{label:"字典键值",prop:"dictKey",type:"number",rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"select",dicData:[{label:"否",value:0},{label:"是",value:1}],slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",search:!0,hide:!0}]},data:[]}},computed:c(c({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),viewBtn:this.vaildData(this.permission.dict_view,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),mounted:function(){var e=this;Object(o["d"])().then((function(t){var n=e.findObject(e.optionChild.column,"parentId");n.dicData=t.data.data}))},methods:{handleAdd:function(e){this.$refs.crud.value.code=e.code,this.$refs.crud.value.parentId=e.id,this.$refs.crud.option.column.filter((function(t){"code"===t.prop&&(t.value=e.code,t.addDisabled=!0),"parentId"===t.prop&&(t.value=e.id,t.addDisabled=!0)})),this.$refs.crud.rowAdd()},rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["i"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["c"])(this.form.id).then((function(e){n.form=e.data.data})),e()},beforeClose:function(e){this.$refs.crud.value.code="",this.$refs.crud.value.parentId="",this.$refs.crud.value.addDisabled=!1,this.$refs.crud.option.column.filter((function(e){"code"===e.prop&&(e.value="",e.addDisabled=!1),"parentId"===e.prop&&(e.value="",e.addDisabled=!1)})),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["f"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))}}},d=u,p=n("2877"),h=Object(p["a"])(d,a,i,!1,null,null,null);t["default"]=h.exports},"09e0f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,page:e.page,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.param_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(n("8e6e"),n("456d"),n("ac6a"),n("ade3")),o=n("b5c6"),s=n("da71");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/param/list"),method:"get",params:c(c({},n),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/param/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/param/submit"),method:"post",data:e})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/param/submit"),method:"post",data:e})},f=n("5880");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={data:function(){return{form:{},selectionList:[],query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,selection:!0,viewBtn:!0,dialogClickModal:!1,column:[{label:"参数名称",prop:"paramName",search:!0,span:24,rules:[{required:!0,message:"请输入参数名称",trigger:"blur"}]},{label:"参数键名",prop:"paramKey",search:!0,span:24,rules:[{required:!0,message:"请输入参数键名",trigger:"blur"}]},{label:"参数键值",prop:"paramValue",type:"textarea",span:24,minRows:6,rules:[{required:!0,message:"请输入参数键值",trigger:"blur"}]}]},data:[]}},computed:m(m({},Object(f["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.param_add,!1),viewBtn:this.vaildData(this.permission.param_view,!1),delBtn:this.vaildData(this.permission.param_delete,!1),editBtn:this.vaildData(this.permission.param_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;p(e).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;h(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},b=v,y=n("2877"),x=Object(y["a"])(b,a,i,!1,null,null,null);t["default"]=x.exports},"0a91":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("api-header",{attrs:{"service-name":e.serviceName,"group-name":e.groupName,"page-name":e.pageName}})],1),n("h3",[n("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("基础信息")]),n("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,size:"small",disabled:e.disabled,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"网关分组：",prop:"gatewayGroup"}},[n("el-select",{attrs:{placeholder:"请选择网关分组",filterable:"",clearable:""},model:{value:e.formData.gatewayGroup,callback:function(t){e.$set(e.formData,"gatewayGroup",t)},expression:"formData.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"回调方式：",prop:"callbackType"}},[n("el-radio-group",{model:{value:e.formData.callbackType,callback:function(t){e.$set(e.formData,"callbackType",t)},expression:"formData.callbackType"}},e._l(e.callbackMode,(function(t,a){return n("el-radio",{key:a,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),n("el-form-item",{attrs:{label:"访问：",prop:"access"}},[n("el-radio-group",{model:{value:e.formData.access,callback:function(t){e.$set(e.formData,"access",t)},expression:"formData.access"}},e._l(e.accessType,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),"a"===e.formData.callbackType?[e._l(e.formData.callbackRespHeaders,(function(t,a){return n("div",{key:a,staticClass:"multiple-config"},[n("el-form-item",{attrs:{label:"响应头"+(a+1)+"：",prop:"callbackRespHeaders."+a+".key",rules:{required:!0,message:"字段名不能为空",trigger:"blur"}}},[n("el-input",{attrs:{placeholder:"字段名（例：content-type",clearable:""},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"item.key"}})],1),n("el-form-item",{attrs:{"label-width":"10px",prop:"callbackRespHeaders."+a+".value",rules:{required:!0,message:"字段值不能为空",trigger:"blur"}}},[n("el-input",{attrs:{placeholder:"字段值（例：application/json",clearable:""},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}})],1),n("div",[a?e._e():n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addHeaders()}}}),a?n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteRow(a,e.formData.callbackRespHeaders)}}}):e._e()],1)],1)})),n("el-form-item",{attrs:{label:"响应体：",prop:"callbackRespBody"}},[n("el-input",{staticClass:"lg-input",attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"例：{ ''name'': ''wei'' }",clearable:""},model:{value:e.formData.callbackRespBody,callback:function(t){e.$set(e.formData,"callbackRespBody",t)},expression:"formData.callbackRespBody"}})],1)]:e._e(),n("el-form-item",{attrs:{label:"请求方法：",prop:"method"}},[n("el-select",{attrs:{placeholder:"请选择请求方法",clearable:""},model:{value:e.formData.method,callback:function(t){e.$set(e.formData,"method",t)},expression:"formData.method"}},e._l(e.apiMethod,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"前端服务名：",prop:"service"}},[n("el-input",{attrs:{placeholder:"请输入服务名",clearable:""},model:{value:e.formData.service,callback:function(t){e.$set(e.formData,"service",t)},expression:"formData.service"}})],1),n("el-form-item",{attrs:{label:"前端路径：",prop:"path"}},[n("el-input",{staticClass:"lg-input",attrs:{placeholder:"请输入前端路径",clearable:""},model:{value:e.formData.path,callback:function(t){e.$set(e.formData,"path",t)},expression:"formData.path"}}),n("div",{staticClass:"key-tips"},[e._v("调用方访问路径，不支持模糊匹配，如：/member/getMebInfo")])],1),n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addBackendConfig()}}},[e._v("新增后端订阅者")]),e._l(e.formData.callbackReceivers,(function(t,a){return n("div",{key:a,staticClass:"multiple-config"},[n("el-form-item",{attrs:{label:"【后端订阅者"+(a+1)+"】类型：","label-width":"180px",required:""}},[n("el-radio-group",{on:{change:function(e){t.service=""}},model:{value:t.type,callback:function(n){e.$set(t,"type",n)},expression:"item.type"}},[n("el-radio",{attrs:{label:1}},[e._v("服务编排")]),n("el-radio",{attrs:{label:2}},[e._v("服务发现")])],1)],1),n("el-form-item",{attrs:{label:"服务名：","label-width":"80px",prop:"callbackReceivers."+a+".service",rules:{required:!0,message:"服务名不能为空",trigger:"change"}}},[1===t.type?[n("el-select",{attrs:{filterable:"",placeholder:"请选择服务名",clearable:""},model:{value:t.service,callback:function(n){e.$set(t,"service",n)},expression:"item.service"}},e._l(e.aggregateServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]:2===t.type?[n("el-select",{attrs:{filterable:"",placeholder:"请选择服务名",clearable:""},model:{value:t.service,callback:function(n){e.$set(t,"service",n)},expression:"item.service"}},e._l(e.discoveryServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]:e._e()],2),n("el-form-item",{attrs:{label:"路径：","label-width":"80px",prop:"callbackReceivers."+a+".path",rules:[{required:!0,message:"路径不能为空",trigger:"blur"},{pattern:/^(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,message:"请填写正确的路径",trigger:"blur"}]}},[n("el-input",{staticClass:"backend-path",attrs:{placeholder:"转发目标路径，不支持模糊匹配",clearable:""},model:{value:t.path,callback:function(n){e.$set(t,"path",n)},expression:"item.path"}})],1),n("div",[n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteRow(a,e.formData.callbackReceivers)}}})],1)],1)})),n("el-form-item",{attrs:{label:"调用方(appID)：",prop:"appEnabled"}},[n("el-checkbox",{model:{value:e.formData.appEnabled,callback:function(t){e.$set(e.formData,"appEnabled",t)},expression:"formData.appEnabled"}},[e._v("启用")]),n("div",{staticClass:"key-tips"},[e._v("\n          限制调用方访问，请求URL需在请求头中加应用授权\n          "),n("tooltip-appid",{staticClass:"link",attrs:{title:"示例"}}),e._v("，不启用不限制\n        ")],1)],1),e.formData.appEnabled?n("div",{staticStyle:{margin:"0 0 18px 120px"}},[n("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){e.appidDrawer=!0}}},[e._v("添加")]),n("el-table",{attrs:{data:e.appidData,border:"",stripe:"",size:"mini","max-height":"240"}},[n("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleAppidCheckAll},model:{value:e.appidCheckAll,callback:function(t){e.appidCheckAll=t},expression:"appidCheckAll"}})]}},{key:"default",fn:function(t){return[n("el-checkbox",{on:{change:e.handleAppidCheck},model:{value:t.row.enabled,callback:function(n){e.$set(t.row,"enabled",n)},expression:"scope.row.enabled"}})]}}],null,!1,469018870)}),n("el-table-column",{attrs:{label:"appID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.appName)+" ("+e._s(t.row.app)+")\n            ")]}}],null,!1,3248570262)}),n("el-table-column",{attrs:{align:"center",label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.$index,e.appidData)}}},[e._v("\n                删除\n              ")])]}}],null,!1,1536003634)})],1)],1):e._e()],2),n("h3",[n("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("插件配置")]),n("div",{staticStyle:{"padding-bottom":"10px"}},[n("el-button",{attrs:{size:"small",type:"primary",disabled:e.disabled||"f"===e.formData.access,plain:""},on:{click:function(t){e.pluginDrawer=!0}}},[e._v("添加插件\n      ")])],1),n("plugin-config",{ref:"pluginConfig",attrs:{config:e.apiPlugins,disabled:e.disabled||"f"===e.formData.access},on:{change:e.getApiPluginConfig}}),e.disabled?e._e():n("footer",[n("el-button",{attrs:{size:"small",icon:"el-icon-circle-check",loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")]),n("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.handleClose}},[e._v("取消")])],1)],1),n("el-drawer",{ref:"pluginDrawer",attrs:{"append-to-body":"",title:"添加插件",size:"50%",visible:e.pluginDrawer},on:{"update:visible":function(t){e.pluginDrawer=t}}},[n("div",[n("div",{staticStyle:{"padding-bottom":"50px"}},[n("plugin-list",{attrs:{config:e.pluginOptions},on:{change:e.getSelectionPlugins}})],1),n("footer",{staticClass:"drawer-footer"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handlePluginDrawer}},[e._v("添 加")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.pluginDrawer=!1}}},[e._v("取 消")])],1)])]),n("el-drawer",{ref:"appidDrawer",attrs:{"append-to-body":"",title:"添加调用方(appID)",size:"50%",visible:e.appidDrawer},on:{"update:visible":function(t){e.appidDrawer=t}}},[n("div",[n("div",{staticStyle:{"padding-bottom":"50px"}},[n("add-appid",{attrs:{selection:e.selectionAppid},on:{"update:selection":function(t){e.selectionAppid=t}}})],1),n("footer",{staticClass:"drawer-footer"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleAppidDrawer()}}},[e._v("确 定")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.appidDrawer=!1}}},[e._v("取 消")])],1)])])],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("4f7f"),n("5df3"),n("1c4c"),n("7514"),n("7f7f"),n("28a5"),n("ade3")),o=n("5880"),s=n("27fc"),l=n("b30b"),c=n("9b51"),u=n("7555"),d=n("60cc"),p=n("c8b6"),h=n("17e0");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={name:"detail",data:function(){return{loading:!1,formData:{},accessType:s["a"],callbackMode:s["c"],rules:{gatewayGroup:[{required:!0,message:"必填",trigger:"change"}],callbackType:[{required:!0,message:"必填",trigger:"change"}],access:[{required:!0,message:"必填",trigger:"change"}],service:[{required:!0,message:"必填",trigger:"blur"}],path:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,message:"请参照例子填写正确的路径",trigger:"blur"}],callbackRespBody:[{required:!0,message:"必填",trigger:"blur"}]},apiPlugins:[],pluginDrawer:!1,appidDrawer:!1,selectionPlugins:[],selectionAppid:[],appidData:[],appidCheckAll:!1,isIndeterminate:!1,apiMethod:[{label:"AUTO",value:""},{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"PATCH",value:"PATCH"},{label:"HEAD",value:"HEAD"},{label:"OPTIONS",value:"OPTIONS"},{label:"TRACE",value:"TRACE"}]}},computed:g(g({},Object(o["mapGetters"])(["permission","aggregateServiceOptions","discoveryServiceOptions","groupOptions","pluginOptions"])),{},{permissionList:function(){return{publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1)}},originId:function(){return this.$route.query.originId||""},actionType:function(){var e=this.$route.path.split("/");return e[e.length-1]||"add"},disabled:function(){return"view"===this.actionType||!1},pageName:function(){return"add"===this.actionType?"新增回调配置":this.$route.name},groupName:function(){var e=this,t=this.groupOptions.find((function(t){return t.value===e.formData.gatewayGroup}));return t&&t.label||""},serviceName:function(){return this.formData.service||""}}),components:{apiHeader:c["default"],pluginList:u["default"],pluginConfig:d["default"],addAppid:p["default"],tooltipAppid:h["default"]},watch:{appidData:{deep:!0,handler:function(){this.handleAppidCheck()}}},created:function(){this.getGroupOptions(),this.getAggregateServiceOptions(),this.getDiscoveryServiceOptions(),this.getPluginOptions(),this.init()},beforeRouteUpdate:function(e,t,n){e.fullPath!==t.fullPath&&(n(),this.init())},methods:g(g({},Object(o["mapActions"])(["getAggregateServiceOptions","getDiscoveryServiceOptions","getGroupOptions","getPluginOptions"])),{},{deleteRow:function(e,t){t.splice(e,1)},addHeaders:function(){this.formData.callbackRespHeaders.push({key:"",value:""})},addBackendConfig:function(){this.formData.callbackReceivers.push({type:1,service:"",path:""})},addPlugin:function(e){var t={},n=this.apiPlugins.concat(e);n=Array.from(new Set(n)),n=n.reduce((function(e,n){var a=n.id||n.plugin;return t[a]||(t[a]=!0,e.push(n)),e}),[]),this.apiPlugins=n},getApiPluginConfig:function(e){this.apiPlugins=e},getSelectionPlugins:function(e){this.selectionPlugins=e},handlePluginDrawer:function(){this.addPlugin(this.selectionPlugins),this.pluginDrawer=!1},initApiPlugins:function(){var e=this;this.apiPlugins=[],this.formData.apiPlugins&&this.formData.apiPlugins.length&&this.formData.apiPlugins.forEach((function(t){var n=e.pluginOptions.find((function(e){return e.id===t.plugin}));n&&e.apiPlugins.push(Object.assign({},n,t))}))},addAppid:function(e){var t={},n=this.appidData.concat(e);n=Array.from(new Set(n)),n=n.reduce((function(e,n){var a=n.app;return t[a]||(t[a]=!0,e.push(n)),e}),[]),this.appidData=n.map((function(e){return{app:e.app,appName:e.appName,enabled:!1!==e.enabled}}))},handleAppidDrawer:function(){this.addAppid(this.selectionAppid),this.appidDrawer=!1},handleAppidCheck:function(){var e=this.appidData.filter((function(e){return!0===e.enabled})),t=e.length;this.appidCheckAll=t===this.appidData.length,this.isIndeterminate=t>0&&t<this.appidData.length},handleAppidCheckAll:function(e){this.appidData=this.appidData.map((function(t){return t.enabled=e,t})),this.isIndeterminate=!1},isRepeatReceivers:function(){var e=this.formData.callbackReceivers||[],t={};for(var n in e){if(t[e[n].path]&&t[e[n].type]&&t[e[n].service])return!0;t[e[n].path]=!0,t[e[n].type]=!0,t[e[n].service]=!0}return!1},handleSubmitData:function(){var e=Object.assign({},this.formData);return e.proxyMode=4,e.apiPlugins=this.apiPlugins,e.apps=this.appidData,"s"===e.callbackType&&(delete e.callbackRespHeaders,delete e.callbackRespBody),e},handleSubmit:function(){var e=this;this.$refs.formData.validate((function(t){if(t){var n=e.isRepeatReceivers();if(n)return e.$message.error("后端服务不可重复"),!1;e.$refs.pluginConfig.validate((function(t,n){if(t){var a=e.handleSubmitData();"add"===e.actionType?e.add(a):e.update(a)}else e.$message.error("string"===typeof n&&n||"请完善插件配置")}))}else e.$message.error("请完善基础信息")}))},handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/callback/config"})},getDetail:function(){var e=this;this.originId?["edit","view"].includes(this.actionType)&&Object(l["b"])(this.originId).then((function(t){e.formData=t.data.data||{},e.formData.callbackRespHeaders&&e.formData.callbackRespHeaders.length||(e.formData.callbackRespHeaders=[{key:"",value:""}]),e.initApiPlugins(),e.appidData=e.formData.apps||[]})):this.formData={callbackType:"s",access:"a",service:"",appEnabled:!1,method:"",callbackReceivers:[{type:1,service:"",path:""}],callbackRespHeaders:[{key:"",value:""}]}},add:function(e){var t=this;return this.loading=!0,Object(l["a"])(e).then((function(){t.$message.success("保存成功"),setTimeout((function(){t.handleClose()}),300)})).finally((function(){t.loading=!1}))},update:function(e){var t=this;return this.loading=!0,Object(l["e"])(e).then((function(){t.$message.success("修改成功"),t.init()})).finally((function(){t.loading=!1}))},init:function(){"add"===this.actionType&&(this.formData={},this.apiPlugins=[],this.appidData=[]),this.getDetail()}})},v=m,b=(n("622a"),n("2877")),y=Object(b["a"])(v,a,i,!1,null,"0ab0ae8b",null);t["default"]=y.exports},"0b07":function(e,t,n){var a=n("34ac"),i=n("3698");function r(e,t){var n=i(e,t);return a(n)?n:void 0}e.exports=r},"0b44":function(e,t,n){var a=n("607d"),i=function(){this._track=[]};function r(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function o(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}i.prototype={constructor:i,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var i=e.touches;if(i){for(var r={points:[],touches:[],target:t,event:e},o=0,s=i.length;o<s;o++){var l=i[o],c=a.clientToLocal(n,l,{});r.points.push([c.zrX,c.zrY]),r.touches.push(l)}this._track.push(r)}},_recognize:function(e){for(var t in s)if(s.hasOwnProperty(t)){var n=s[t](this._track,e);if(n)return n}}};var s={pinch:function(e,t){var n=e.length;if(n){var a=(e[n-1]||{}).points,i=(e[n-2]||{}).points||a;if(i&&i.length>1&&a&&a.length>1){var s=r(a)/r(i);!isFinite(s)&&(s=1),t.pinchScale=s;var l=o(a);return t.pinchX=l[0],t.pinchY=l[1],{type:"pinch",target:e[0].target,event:t}}}}},l=i;e.exports=l},"0c59":function(e,t,n){},"0cde":function(e,t,n){var a=n("1687"),i=n("401b"),r=a.identity,o=5e-5;function s(e){return e>o||e<-o}var l=function(e){e=e||{},e.position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},c=l.prototype;c.transform=null,c.needLocalTransform=function(){return s(this.rotation)||s(this.position[0])||s(this.position[1])||s(this.scale[0]-1)||s(this.scale[1]-1)};var u=[];c.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),i=this.transform;if(n||t){i=i||a.create(),n?this.getLocalTransform(i):r(i),t&&(n?a.mul(i,e.transform,i):a.copy(i,e.transform)),this.transform=i;var o=this.globalScaleRatio;if(null!=o&&1!==o){this.getGlobalScale(u);var s=u[0]<0?-1:1,l=u[1]<0?-1:1,c=((u[0]-s)*o+s)/u[0]||0,d=((u[1]-l)*o+l)/u[1]||0;i[0]*=c,i[1]*=c,i[2]*=d,i[3]*=d}this.invTransform=this.invTransform||a.create(),a.invert(this.invTransform,i)}else i&&r(i)},c.getLocalTransform=function(e){return l.getLocalTransform(this,e)},c.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},c.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var d=[],p=a.create();c.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],a=this.position,i=this.scale;s(t-1)&&(t=Math.sqrt(t)),s(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(t=-t),e[3]<0&&(n=-n),a[0]=e[4],a[1]=e[5],i[0]=t,i[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/t)}},c.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(a.mul(d,e.invTransform,t),t=d);var n=this.origin;n&&(n[0]||n[1])&&(p[4]=n[0],p[5]=n[1],a.mul(d,t,p),d[4]-=n[0],d[5]-=n[1],t=d),this.setLocalTransform(t)}},c.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},c.transformCoordToLocal=function(e,t){var n=[e,t],a=this.invTransform;return a&&i.applyTransform(n,n,a),n},c.transformCoordToGlobal=function(e,t){var n=[e,t],a=this.transform;return a&&i.applyTransform(n,n,a),n},l.getLocalTransform=function(e,t){t=t||[],r(t);var n=e.origin,i=e.scale||[1,1],o=e.rotation||0,s=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),a.scale(t,t,i),o&&a.rotate(t,t,o),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=s[0],t[5]+=s[1],t};var h=l;e.exports=h},"0d24":function(e,t,n){(function(e){var a=n("2b3e"),i=n("07c7"),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r,l=s?a.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||i;e.exports=u}).call(this,n("62e4")(e))},"0da8":function(e,t,n){var a=n("19eb"),i=n("9850"),r=n("6d8b"),o=n("5e76");function s(e){a.call(this,e)}s.prototype={constructor:s,type:"image",brush:function(e,t){var n=this.style,a=n.image;n.bind(e,this,t);var i=this._image=o.createOrUpdateImage(a,this._image,this,this.onload);if(i&&o.isImageReady(i)){var r=n.x||0,s=n.y||0,l=n.width,c=n.height,u=i.width/i.height;if(null==l&&null!=c?l=c*u:null==c&&null!=l?c=l/u:null==l&&null==c&&(l=i.width,c=i.height),this.setTransform(e),n.sWidth&&n.sHeight){var d=n.sx||0,p=n.sy||0;e.drawImage(i,d,p,n.sWidth,n.sHeight,r,s,l,c)}else if(n.sx&&n.sy){d=n.sx,p=n.sy;var h=l-d,f=c-p;e.drawImage(i,d,p,h,f,r,s,l,c)}else e.drawImage(i,r,s,l,c);null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new i(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},r.inherits(s,a);var l=s;e.exports=l},"0dda":function(e,t,n){},"0f0f":function(e,t,n){var a=n("8eeb"),i=n("9934");function r(e,t){return e&&a(t,i(t),e)}e.exports=r},"0f98":function(e,t,n){},"0f99":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("e0d3")),r=i.makeInner,o=i.getDataItemValue,s=n("6d8b"),l=s.createHashMap,c=s.each,u=s.map,d=s.isArray,p=s.isString,h=s.isObject,f=s.isTypedArray,g=s.isArrayLike,m=s.extend,v=(s.assert,n("ec6f")),b=n("93d0"),y=b.SOURCE_FORMAT_ORIGINAL,x=b.SOURCE_FORMAT_ARRAY_ROWS,w=b.SOURCE_FORMAT_OBJECT_ROWS,_=b.SOURCE_FORMAT_KEYED_COLUMNS,O=b.SOURCE_FORMAT_UNKNOWN,D=b.SOURCE_FORMAT_TYPED_ARRAY,C=b.SERIES_LAYOUT_BY_ROW,S={Must:1,Might:2,Not:3},k=r();function T(e){var t=e.option.source,n=O;if(f(t))n=D;else if(d(t)){0===t.length&&(n=x);for(var a=0,i=t.length;a<i;a++){var r=t[a];if(null!=r){if(d(r)){n=x;break}if(h(r)){n=w;break}}}}else if(h(t)){for(var o in t)if(t.hasOwnProperty(o)&&g(t[o])){n=_;break}}else if(null!=t)throw new Error("Invalid data");k(e).sourceFormat=n}function P(e){return k(e).source}function j(e){k(e).datasetMap=l()}function I(e){var t=e.option,n=t.data,a=f(n)?D:y,i=!1,r=t.seriesLayoutBy,o=t.sourceHeader,s=t.dimensions,l=F(e);if(l){var c=l.option;n=c.source,a=k(l).sourceFormat,i=!0,r=r||c.seriesLayoutBy,null==o&&(o=c.sourceHeader),s=s||c.dimensions}var u=L(n,a,r,o,s);k(e).source=new v({data:n,fromDataset:i,seriesLayoutBy:r,sourceFormat:a,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectCount:u.dimensionsDetectCount,encodeDefine:t.encode})}function L(e,t,n,a,i){if(!e)return{dimensionsDefine:M(i)};var r,s;if(t===x)"auto"===a||null==a?A((function(e){null!=e&&"-"!==e&&(p(e)?null==s&&(s=1):s=0)}),n,e,10):s=a?1:0,i||1!==s||(i=[],A((function(e,t){i[t]=null!=e?e:""}),n,e)),r=i?i.length:n===C?e.length:e[0]?e[0].length:null;else if(t===w)i||(i=E(e));else if(t===_)i||(i=[],c(e,(function(e,t){i.push(t)})));else if(t===y){var l=o(e[0]);r=d(l)&&l.length||1}return{startIndex:s,dimensionsDefine:M(i),dimensionsDetectCount:r}}function M(e){if(e){var t=l();return u(e,(function(e,n){if(e=m({},h(e)?e:{name:e}),null==e.name)return e;e.name+="",null==e.displayName&&(e.displayName=e.name);var a=t.get(e.name);return a?e.name+="-"+a.count++:t.set(e.name,{count:1}),e}))}}function A(e,t,n,a){if(null==a&&(a=1/0),t===C)for(var i=0;i<n.length&&i<a;i++)e(n[i]?n[i][0]:null,i);else{var r=n[0]||[];for(i=0;i<r.length&&i<a;i++)e(r[i],i)}}function E(e){var t,n=0;while(n<e.length&&!(t=e[n++]));if(t){var a=[];return c(t,(function(e,t){a.push(t)})),a}}function z(e,t,n){var a={},i=F(t);if(!i||!e)return a;var r,o,s=[],l=[],u=t.ecModel,d=k(u).datasetMap,p=i.uid+"_"+n.seriesLayoutBy;e=e.slice(),c(e,(function(t,n){!h(t)&&(e[n]={name:t}),"ordinal"===t.type&&null==r&&(r=n,o=m(e[n])),a[t.name]=[]}));var f=d.get(p)||d.set(p,{categoryWayDim:o,valueWayDim:0});function g(e,t,n){for(var a=0;a<n;a++)e.push(t+a)}function m(e){var t=e.dimsDef;return t?t.length:1}return c(e,(function(e,t){var n=e.name,i=m(e);if(null==r){var o=f.valueWayDim;g(a[n],o,i),g(l,o,i),f.valueWayDim+=i}else if(r===t)g(a[n],0,i),g(s,0,i);else{o=f.categoryWayDim;g(a[n],o,i),g(l,o,i),f.categoryWayDim+=i}})),s.length&&(a.itemName=s),l.length&&(a.seriesName=l),a}function R(e,t,n){var a={},i=F(e);if(!i)return a;var r,o=t.sourceFormat,s=t.dimensionsDefine;o!==w&&o!==_||c(s,(function(e,t){"name"===(h(e)?e.name:e)&&(r=t)}));var l=function(){for(var e={},a={},i=[],l=0,c=Math.min(5,n);l<c;l++){var u=$(t.data,o,t.seriesLayoutBy,s,t.startIndex,l);i.push(u);var d=u===S.Not;if(d&&null==e.v&&l!==r&&(e.v=l),(null==e.n||e.n===e.v||!d&&i[e.n]===S.Not)&&(e.n=l),p(e)&&i[e.n]!==S.Not)return e;d||(u===S.Might&&null==a.v&&l!==r&&(a.v=l),null!=a.n&&a.n!==a.v||(a.n=l))}function p(e){return null!=e.v&&null!=e.n}return p(e)?e:p(a)?a:null}();if(l){a.value=l.v;var u=null!=r?r:l.n;a.itemName=[u],a.seriesName=[u]}return a}function F(e){var t=e.option,n=t.data;if(!n)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function B(e,t){return $(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function $(e,t,n,a,i,r){var s,l,c,u=5;if(f(e))return S.Not;if(a){var g=a[r];h(g)?(l=g.name,c=g.type):p(g)&&(l=g)}if(null!=c)return"ordinal"===c?S.Must:S.Not;if(t===x)if(n===C){for(var m=e[r],v=0;v<(m||[]).length&&v<u;v++)if(null!=(s=k(m[i+v])))return s}else for(v=0;v<e.length&&v<u;v++){var b=e[i+v];if(b&&null!=(s=k(b[r])))return s}else if(t===w){if(!l)return S.Not;for(v=0;v<e.length&&v<u;v++){var O=e[v];if(O&&null!=(s=k(O[l])))return s}}else if(t===_){if(!l)return S.Not;m=e[l];if(!m||f(m))return S.Not;for(v=0;v<m.length&&v<u;v++)if(null!=(s=k(m[v])))return s}else if(t===y)for(v=0;v<e.length&&v<u;v++){O=e[v];var D=o(O);if(!d(D))return S.Not;if(null!=(s=k(D[r])))return s}function k(e){var t=p(e);return null!=e&&isFinite(e)&&""!==e?t?S.Might:S.Not:t&&"-"!==e?S.Must:void 0}return S.Not}t.BE_ORDINAL=S,t.detectSourceFormat=T,t.getSource=P,t.resetSourceDefaulter=j,t.prepareSource=I,t.makeSeriesEncodeForAxisCoordSys=z,t.makeSeriesEncodeForNameBased=R,t.guessOrdinal=B},"100c":function(e,t,n){},"100e":function(e,t,n){var a=n("cd9d"),i=n("2286"),r=n("c1c9");function o(e,t){return r(i(e,t,a),e+"")}e.exports=o},1041:function(e,t,n){var a=n("8eeb"),i=n("a029");function r(e,t){return a(e,i(e),t)}e.exports=r},"10b6":function(e,t,n){},"11d7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"api-detail-request"},[n("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e.hasHeader?n("el-tab-pane",{attrs:{label:"请求头",name:"header"}},[e.getParamsKeys(e.headersDef)>0?n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{attrs:{value:e.getParamsKeys(e.headersDef),max:10,type:"success"}},[e._v("请求头")])],1):e._e(),n("json-schema-table",{ref:"headersDef",attrs:{data:e.headersDef,disabled:e.disabled,"prop-type":["array","string"],"root-type":"object"},on:{"update:data":function(t){e.headersDef=t}}})],1):e._e(),e.hasBody?n("el-tab-pane",{attrs:{label:"请求体",name:"body"}},[e.isForm&&e.getParamsKeys(e.formBodyDef)>0?n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{attrs:{value:e.getParamsKeys(e.formBodyDef),max:10,type:"success"}},[e._v("请求体")])],1):e.isJSON&&e.checkBodyParams(e.bodyDef)||e.isXML&&e.checkBodyParams(e.xmlBodyDef)?n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{attrs:{"is-dot":""}},[e._v("请求体")])],1):e._e(),n("el-form",{attrs:{size:"mini"}},[n("el-form-item",{attrs:{label:""}},[n("el-radio-group",{model:{value:e.contentType,callback:function(t){e.contentType=t},expression:"contentType"}},[n("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),n("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")]),n("el-radio",{attrs:{label:"multipart/form-data"}},[e._v("form-data")]),n("el-radio",{attrs:{label:"application/x-www-form-urlencoded"}},[e._v("x-www-form-urlencoded")])],1)],1),e.isJSON?[n("el-form-item",{attrs:{label:"JSON根类型",prop:"bodyRootType"}},[n("el-select",{model:{value:e.bodyRootType,callback:function(t){e.bodyRootType=t},expression:"bodyRootType"}},[n("el-option",{attrs:{value:"object",label:"Object"}}),n("el-option",{attrs:{value:"array",label:"Array"}})],1)],1)]:e._e(),e.isXML?[n("el-form-item",{attrs:{label:"数组节点路径",prop:"xmlArrPaths"}},[n("el-input",{attrs:{clearable:""},model:{value:e.xmlArrPaths,callback:function(t){e.xmlArrPaths=t},expression:"xmlArrPaths"}}),n("span",{staticClass:"key-tips"},[e._v("输入XML响应体里数组节点的路径, 多个路径用逗号分隔，如：/root/data/user 用于指明user标签可能有多个要转换成一个JSON数组，而不是转换成一个JSON对象 。此字段仅在响应体为XML时有效。")])],1),n("div",{staticClass:"key-tips"},[e._v("\n            网关接收到XML后会把它转换为JSON，入参按转换后的JSON配置，"),n("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("请参考XML和JSON间的转换规则")]),e._v("。\n          ")],1)]:e._e()],2),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isJSON,expression:"isJSON"}]},[n("json-schema-table",{ref:"bodyDef",attrs:{data:e.bodyDef,disabled:e.disabled,"root-type":e.bodyRootType},on:{"update:data":function(t){e.bodyDef=t}}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isXML,expression:"isXML"}]},[n("json-schema-table",{ref:"xmlBodyDef",attrs:{data:e.xmlBodyDef,disabled:e.disabled,"prop-type-options":e.xmlTypeOptions,"root-node":"object"},on:{"update:data":function(t){e.xmlBodyDef=t}}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isForm,expression:"isForm"}]},[n("json-schema-table",{ref:"formBodyDef",attrs:{data:e.formBodyDef,disabled:e.disabled,"prop-type":["array","string"],"root-type":"object"},on:{"update:data":function(t){e.formBodyDef=t}}})],1)],1):e._e(),e.hasQuery?n("el-tab-pane",{attrs:{label:"Query参数",name:"params"}},[e.getParamsKeys(e.paramsDef)>0?n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{attrs:{value:e.getParamsKeys(e.paramsDef),max:10,type:"success"}},[e._v("Query参数")])],1):e._e(),n("json-schema-table",{ref:"paramsDef",attrs:{data:e.paramsDef,disabled:e.disabled,"prop-type":["array","string"],"root-type":"object"},on:{"update:data":function(t){e.paramsDef=t}}})],1):e._e(),e.hasScript?n("el-tab-pane",{attrs:{label:"脚本校验",name:"script"}},[e.scriptId?n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{attrs:{"is-dot":""}},[e._v("脚本校验")])],1):e._e(),n("el-form",{attrs:{"label-width":"80px",size:"small"}},[n("el-form-item",{attrs:{label:"脚本配置"}},[e.scriptId?n("div",[e.scriptId?n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openScript()}}},[e._v("\n              "+e._s("{ aggregate_config_script_id: "+e.scriptId+" }")+"\n            ")]):e._e(),n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteScript(e.scriptId)}}},[e._v("\n              删除\n            ")])],1):n("el-button",{attrs:{type:"text",disabled:e.disabled},on:{click:function(t){return e.openScript()}}},[e._v("\n            "+e._s(e.disabled?"无":"新增")+"\n          ")]),n("script-dialog",{attrs:{default:"validate",visible:e.scriptVisible,content:e.scriptContent,"business-type":e.businessType,disabled:e.disabled,id:e.scriptId,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:visible":function(t){e.scriptVisible=t},"update:content":function(t){e.scriptContent=t},"update:id":function(t){e.scriptId=t}}})],1)],1)],1):e._e(),n("el-tab-pane",{attrs:{label:"语言配置",name:"lang"}},[e.langForm.key||e.langForm.zh||e.langForm.en?n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{attrs:{"is-dot":""}},[e._v("语言配置")])],1):e._e(),n("el-form",{ref:"langForm",attrs:{model:e.langForm,rules:e.langRules,size:"small",disabled:e.disabled,"label-width":"60px"}},[n("el-form-item",{attrs:{label:"字段",prop:"key"}},[n("el-input",{attrs:{placeholder:"请输入入参字段（例：input.request.body.languageCode"},model:{value:e.langForm.key,callback:function(t){e.$set(e.langForm,"key",t)},expression:"langForm.key"}},[n("el-popover",{attrs:{slot:"append",trigger:"hover",content:"通过该入参字段设置提示语言"},slot:"append"},[n("el-button",{attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1),n("el-form-item",{attrs:{label:"中文",prop:"zh"}},[n("el-input",{attrs:{type:"number"===e.langForm.zhType?"number":"text",placeholder:"请输入字段值（例：0 或 zh"},model:{value:e.langForm.zh,callback:function(t){e.$set(e.langForm,"zh",t)},expression:"langForm.zh"}},[n("el-select",{staticStyle:{width:"150px"},attrs:{slot:"prepend",placeholder:"请选择数据类型"},on:{change:function(t){return e.changeParamsType("zh")}},slot:"prepend",model:{value:e.langForm.zhType,callback:function(t){e.$set(e.langForm,"zhType",t)},expression:"langForm.zhType"}},e._l(e.langParamsType,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("el-popover",{attrs:{slot:"append",trigger:"hover",content:"语言与入参字段值映射关系"},slot:"append"},[n("el-button",{attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1),n("el-form-item",{attrs:{label:"英文",prop:"en"}},[n("el-input",{attrs:{type:"number"===e.langForm.enType?"number":"text",placeholder:"请输入字段值（例：1 或 en"},model:{value:e.langForm.en,callback:function(t){e.$set(e.langForm,"en",t)},expression:"langForm.en"}},[n("el-select",{staticStyle:{width:"150px"},attrs:{slot:"prepend",placeholder:"请选择数据类型"},on:{change:function(t){return e.changeParamsType("en")}},slot:"prepend",model:{value:e.langForm.enType,callback:function(t){e.$set(e.langForm,"enType",t)},expression:"langForm.enType"}},e._l(e.langParamsType,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("el-popover",{attrs:{slot:"append",trigger:"hover",content:"语言与入参字段值映射关系"},slot:"append"},[n("el-button",{attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1)],1)],1)],1),n("xml-info",{attrs:{visible:e.xmlInoVisible},on:{"update:visible":function(t){e.xmlInoVisible=t}}})],1)},i=[],r=(n("8e6e"),n("53ca")),o=(n("6762"),n("2fdb"),n("c5f6"),n("ac6a"),n("456d"),n("ade3")),s=n("4627"),l=n("2fa9"),c=n("07d3"),u=n("921f"),d=n("5880");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"api-detail-request",data:function(){return{activeTab:"header",editorHeight:400,headersDef:{},bodyDef:{},xmlBodyDef:{},formBodyDef:{},paramsDef:{},scriptValidate:{},scriptVisible:!1,scriptId:"",scriptContent:"",langForm:{},langParamsType:[{label:"number",value:"number"},{label:"string",value:"string"}],bodyRootType:"object",contentType:"application/json",xmlArrPaths:"",xmlInoVisible:!1,xmlTypeOptions:[{value:"string",label:"string"},{value:"array",label:"array"},{value:"object",label:"object"}]}},props:{data:{type:Object,default:function(){return{}}},lang:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},hasHeader:{type:Boolean,default:!0},hasBody:{type:Boolean,default:!0},hasQuery:{type:Boolean,default:!0},hasScript:{type:Boolean,default:!0},businessType:{type:String},isDelScriptWithHttp:{type:Boolean,default:!0}},computed:h(h({},Object(d["mapGetters"])(["apiScriptType"])),{},{isJSON:function(){return"application/json"===this.contentType},isXML:function(){return"application/xml"===this.contentType},isForm:function(){return"multipart/form-data"===this.contentType||"application/x-www-form-urlencoded"===this.contentType},dataObj:function(){var e={};return this.hasHeader&&(e.headersDef=this.headersDef||{}),this.hasBody&&(this.isXML?e.bodyDef=this.xmlBodyDef||{}:this.isForm?e.bodyDef=this.formBodyDef||{}:e.bodyDef=this.bodyDef||{}),this.hasQuery&&(e.paramsDef=this.paramsDef||{}),this.hasScript&&(e.scriptValidate=this.scriptId?{aggregate_config_script_id:this.scriptId}:{}),e.contentType=this.contentType,e.xmlArrPaths=this.xmlArrPaths,e}}),components:{dataEditor:s["default"],scriptDialog:l["default"],jsonSchemaTable:c["default"],xmlInfo:u["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},lang:{immediate:!0,deep:!0,handler:function(e){this.initLangData(e)}},scriptValidate:{immediate:!0,deep:!0,handler:function(e){var t=e&&"string"===typeof e?JSON.parse(e):e;this.scriptId=t["aggregate_config_script_id"]||""}},dataObj:{deep:!0,handler:function(){this.emitData()}}},methods:h(h({},Object(d["mapActions"])(["removeScript"])),{},{getParamsKeys:function(e){var t=Object.keys(e.properties||{})||[];return t.length},checkBodyParams:function(e){var t=Object.keys(e.items&&e.items.properties||e.properties||e||{})||[];return!!t.length},getJson:function(){this.$refs.headersDef&&this.$refs.headersDef.emitData(),this.$refs.paramsDef&&this.$refs.paramsDef.emitData(),this.$refs.bodyDef&&this.$refs.bodyDef.emitData(),this.$refs.xmlBodyDef&&this.$refs.xmlBodyDef.emitData(),this.$refs.formBodyDef&&this.$refs.formBodyDef.emitData(),this.emitData()},emitData:function(){this.$emit("update:data",this.dataObj)},emitLangData:function(){var e={langParam:this.langForm.key,langMapping:{zh:"number"===this.langForm.zhType?Number(this.langForm.zh):this.langForm.zh,en:"number"===this.langForm.enType?Number(this.langForm.en):this.langForm.en}};this.$emit("update:lang",e)},initData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||this.data,this.contentType=e.contentType||"application/json",this.xmlArrPaths=e.xmlArrPaths||"",this.headersDef=e.headersDef||{},this.paramsDef=e.paramsDef||{},this.scriptValidate=e.scriptValidate||{},this.isXML?this.xmlBodyDef=e.bodyDef||{}:this.isForm?this.formBodyDef=e.bodyDef||{}:(this.bodyDef=e.bodyDef||{},this.bodyRootType=e.bodyDef&&e.bodyDef.items?"array":"object")},initLangData:function(){var e=Object.assign({langParam:"",langMapping:{zh:null,en:null}},this.lang||{}),t={key:e.langParam||"",zh:e.langMapping.zh,en:e.langMapping.en};t.zhType=["number","string"].includes(Object(r["a"])(t.zh))?Object(r["a"])(t.zh):"string",t.enType=["number","string"].includes(Object(r["a"])(t.en))?Object(r["a"])(t.en):"string",this.langForm=t},validateForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"langForm";this.emitLangData();var t=!0;return this.$refs[e].validate((function(e){t=e})),t},changeParamsType:function(e){if(!e)return!1;this.langForm[e]=""},openScript:function(){this.scriptVisible=!0},deleteScript:function(e){var t=this;this.$confirm("确定删除该脚本?",{type:"warning"}).then((function(){t.isDelScriptWithHttp?t.removeScript(e).then((function(){t.scriptId="",t.$message.success("删除成功")})):(t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),t.scriptId="",t.$message.success("删除成功"))}))}})},g=f,m=(n("bdf2"),n("f231"),n("2877")),v=Object(m["a"])(g,a,i,!1,null,"c0820256",null);t["default"]=v.exports},"124f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"social-container"},[n("div",{staticClass:"box",on:{click:function(t){return e.handleClick("wechat")}}},[n("span",{staticClass:"container",style:{backgroundColor:"#6ba2d6"}},[n("i",{staticClass:"iconfont icon-weixin",attrs:{"icon-class":"wechat"}})]),n("p",{staticClass:"title"},[e._v(e._s(e.$t("login.wechat")))])]),n("div",{staticClass:"box",on:{click:function(t){return e.handleClick("tencent")}}},[n("span",{staticClass:"container",style:{backgroundColor:"#8dc349"}},[n("i",{staticClass:"iconfont icon-qq",attrs:{"icon-class":"qq"}})]),n("p",{staticClass:"title"},[e._v(e._s(e.$t("login.qq")))])])])},i=[],r=n("0e0b"),o={name:"thirdLogin",methods:{handleClick:function(e){var t,n,a,i;a=encodeURIComponent(window.location.origin+"/#/authredirect"),"wechat"===e?(t="xxxx",i="https://open.weixin.qq.com/connect/qrconnect?appid="+t+"&redirect_uri="+a+"&state=WX&response_type=code&scope=snsapi_login#wechat_redirect"):"tencent"===e&&(n="xxxx",i="https://graph.qq.com/oauth2.0/authorize?response_type=code&state=QQ&client_id="+n+"&redirect_uri="+a),Object(r["h"])(i,e,540,540)}}},s=o,l=(n("f7b7"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"4099c3a0",null);t["default"]=c.exports},1290:function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},1304:function(e,t,n){var a=n("cd9d");function i(e){return"function"==typeof e?e:a}e.exports=i},"133d":function(e,t,n){var a=n("6d8b"),i=n("e0d3");function r(e,t){var n,r=[],o=e.seriesIndex;if(null==o||!(n=t.getSeriesByIndex(o)))return{point:[]};var s=n.getData(),l=i.queryDataIndex(s,e);if(null==l||l<0||a.isArray(l))return{point:[]};var c=s.getItemGraphicEl(l),u=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(l)||[];else if(u&&u.dataToPoint)r=u.dataToPoint(s.getValues(a.map(u.dimensions,(function(e){return s.mapDimension(e)})),l,!0))||[];else if(c){var d=c.getBoundingRect().clone();d.applyTransform(c.transform),r=[d.x+d.width/2,d.y+d.height/2]}return{point:r,el:c}}e.exports=r},"134f":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/listApproval"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/approve"),method:"post",data:e})}},1368:function(e,t,n){var a=n("da03"),i=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function r(e){return!!i&&i in e}e.exports=r},1418:function(e,t,n){var a=n("6d8b"),i=n("a15a"),r=i.createSymbol,o=n("2306"),s=n("3842"),l=s.parsePercent,c=n("c775f"),u=c.getDefaultLabel;function d(e,t,n){o.Group.call(this),this.updateData(e,t,n)}var p=d.prototype,h=d.getSymbolSize=function(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};function f(e){return[e[0]/2,e[1]/2]}function g(e,t){this.parent.drift(e,t)}p._createSymbol=function(e,t,n,a,i){this.removeAll();var o=t.getItemVisual(n,"color"),s=r(e,-1,-1,2,2,o,i);s.attr({z2:100,culling:!0,scale:f(a)}),s.drift=g,this._symbolType=e,this.add(s)},p.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},p.getSymbolPath=function(){return this.childAt(0)},p.getScale=function(){return this.childAt(0).scale},p.highlight=function(){this.childAt(0).trigger("emphasis")},p.downplay=function(){this.childAt(0).trigger("normal")},p.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},p.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},p.updateData=function(e,t,n){this.silent=!1;var a=e.getItemVisual(t,"symbol")||"circle",i=e.hostModel,r=h(e,t),s=a!==this._symbolType;if(s){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(a,e,t,r,l)}else{var c=this.childAt(0);c.silent=!1,o.updateProps(c,{scale:f(r)},i,t)}if(this._updateCommon(e,t,r,n),s){c=this.childAt(0);var u=n&&n.fadeIn,d={scale:c.scale.slice()};u&&(d.style={opacity:c.style.opacity}),c.scale=[0,0],u&&(c.style.opacity=0),o.initProps(c,d,i,t)}this._seriesModel=i};var m=["itemStyle"],v=["emphasis","itemStyle"],b=["label"],y=["emphasis","label"];function x(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var n=this.__symbolOriginalScale,a=n[1]/n[0],i={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*a)]};this.animateTo(i,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}p._updateCommon=function(e,t,n,i){var r=this.childAt(0),s=e.hostModel,c=e.getItemVisual(t,"color");"image"!==r.type?r.useStyle({strokeNoScale:!0}):r.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var d=i&&i.itemStyle,p=i&&i.hoverItemStyle,h=i&&i.symbolOffset,g=i&&i.labelModel,w=i&&i.hoverLabelModel,_=i&&i.hoverAnimation,O=i&&i.cursorStyle;if(!i||e.hasItemOption){var D=i&&i.itemModel?i.itemModel:e.getItemModel(t);d=D.getModel(m).getItemStyle(["color"]),p=D.getModel(v).getItemStyle(),h=D.getShallow("symbolOffset"),g=D.getModel(b),w=D.getModel(y),_=D.getShallow("hoverAnimation"),O=D.getShallow("cursor")}else p=a.extend({},p);var C=r.style,S=e.getItemVisual(t,"symbolRotate");r.attr("rotation",(S||0)*Math.PI/180||0),h&&r.attr("position",[l(h[0],n[0]),l(h[1],n[1])]),O&&r.attr("cursor",O),r.setColor(c,i&&i.symbolInnerColor),r.setStyle(d);var k=e.getItemVisual(t,"opacity");null!=k&&(C.opacity=k);var T=e.getItemVisual(t,"liftZ"),P=r.__z2Origin;null!=T?null==P&&(r.__z2Origin=r.z2,r.z2+=T):null!=P&&(r.z2=P,r.__z2Origin=null);var j=i&&i.useNameLabel;function I(t,n){return j?e.getName(t):u(e,t)}o.setLabelStyle(C,p,g,w,{labelFetcher:s,labelDataIndex:t,defaultText:I,isRectText:!0,autoColor:c}),r.__symbolOriginalScale=f(n),r.hoverStyle=p,r.highDownOnUpdate=_&&s.isAnimationEnabled()?x:null,o.setHoverStyle(r)},p.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,(!t||!t.keepLabel)&&(n.style.text=null),o.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},a.inherits(d,o.Group);var w=d;e.exports=w},"14a7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,page:e.page,permission:e.permissionList,"before-open":e.beforeOpen},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"accountNumber",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.accountNumber>0?a.accountNumber:"不限制"))])]}},{key:"expireTime",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.expireTime?a.expireTime:"不限制"))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.tenant_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e(),e.userInfo.role_name.includes("administrator")?n("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-setting"},on:{click:e.handleSetting}},[e._v("授权配置\n      ")]):e._e()],1)],2),n("el-dialog",{attrs:{title:"租户授权配置","append-to-body":"",visible:e.box,width:"450px"},on:{"update:visible":function(t){e.box=t}}},[n("avue-form",{attrs:{option:e.settingOption},on:{submit:e.handleSubmit},model:{value:e.settingForm,callback:function(t){e.settingForm=t},expression:"settingForm"}})],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("ccbe"),s=n("5880"),l=n("da71");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={data:function(){return{form:{},selectionList:[],query:{},loading:!0,box:!1,page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,selection:!0,viewBtn:!0,dialogWidth:900,dialogClickModal:!1,column:[{label:"租户ID",prop:"tenantId",width:100,search:!0,addDisplay:!1,editDisplay:!1,span:24,rules:[{required:!0,message:"请输入租户ID",trigger:"blur"}]},{label:"租户名称",prop:"tenantName",search:!0,width:180,span:24,rules:[{required:!0,message:"请输入参数名称",trigger:"blur"}]},{label:"联系人",prop:"linkman",width:100,search:!0,rules:[{required:!0,message:"请输入联系人",trigger:"blur"}]},{label:"联系电话",prop:"contactNumber",width:150},{label:"联系地址",prop:"address",span:24,minRows:2,type:"textarea",hide:!0},{label:"账号额度",prop:"accountNumber",width:90,slot:!0,addDisplay:!1,editDisplay:!1},{label:"过期时间",prop:"expireTime",width:180,slot:!0,addDisplay:!1,editDisplay:!1},{label:"绑定域名",prop:"domain",span:24},{label:"系统背景",prop:"backgroundUrl",type:"upload",listType:"picture-img",action:"".concat(l["a"],"/blade-resource/oss/endpoint/put-file"),propsHttp:{res:"data",url:"link"},hide:!0,span:24}]},data:[],settingForm:{},settingOption:{column:[{label:"账号额度",prop:"accountNumber",type:"number",span:24},{label:"过期时间",prop:"expireTime",type:"date",format:"yyyy-MM-dd hh:mm:ss",valueFormat:"yyyy-MM-dd hh:mm:ss",span:24}]}}},computed:u(u({},Object(s["mapGetters"])(["userInfo","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.tenant_add,!1),viewBtn:this.vaildData(this.permission.tenant_view,!1),delBtn:this.vaildData(this.permission.tenant_delete,!1),editBtn:this.vaildData(this.permission.tenant_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["g"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},beforeOpen:function(e,t){var n=this;["view"].includes(t)&&Object(o["b"])(this.form.id).then((function(e){var t=e.data.data;t.accountNumber>0||(t.accountNumber="不限制"),t.expireTime||(t.expireTime="不限制"),n.form=t})),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},handleSetting:function(){var e=this;0!==this.selectionList.length?(1===this.selectionList.length?Object(o["b"])(this.selectionList[0].id).then((function(t){var n=t.data.data;e.settingForm.accountNumber=n.accountNumber,e.settingForm.expireTime=n.expireTime})):(this.settingForm.accountNumber=-1,this.settingForm.expireTime=""),this.box=!0):this.$message.warning("请选择至少一条数据")},handleSubmit:function(e,t,n){var a=this;Object(o["f"])(this.ids,e).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"配置成功!"}),t(),a.box=!1}),(function(e){window.console.log(e),n()}))},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["c"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},p=d,h=n("2877"),f=Object(h["a"])(p,a,i,!1,null,null,null);t["default"]=f.exports},1548:function(e,t,n){var a=n("6d8b"),i=n("3301"),r=n("697e"),o=n("2023"),s=n("4319"),l=n("f934");l.getLayoutRect;t.getLayoutRect=l.getLayoutRect;var c=n("ee1a"),u=c.enableDataStack,d=c.isDimensionStacked,p=c.getStackedDimension,h=n("862d");t.completeDimensions=h;var f=n("b1d4");t.createDimensions=f;var g=n("a15a");function m(e){return i(e.getSource(),e)}t.createSymbol=g.createSymbol;var v={isDimensionStacked:d,enableDataStack:u,getStackedDimension:p};function b(e,t){var n=t;s.isInstance(t)||(n=new s(t),a.mixin(n,o));var i=r.createScaleByModel(n);return i.setExtent(e[0],e[1]),r.niceScaleExtent(i,n),i}function y(e){a.mixin(e,o)}t.createList=m,t.dataStack=v,t.createScale=b,t.mixinAxisModelCommonMethods=y},"156f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,page:e.page,permission:e.permissionList,"before-open":e.beforeOpen},on:{"update:page":function(t){e.page=t},"row-update":e.rowUpdate,"row-save":e.rowSave,"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"category",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.categoryName))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.post_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("74b1"),s=n("5880"),l=n("1ca4"),c=n("da71");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,viewBtn:!0,selection:!0,dialogClickModal:!1,column:[{label:"所属租户",prop:"tenantId",type:"tree",dicUrl:"".concat(c["a"],"/blade-system/tenant/select"),addDisplay:!1,editDisplay:!1,viewDisplay:l["a"].tenantMode,span:24,props:{label:"tenantName",value:"tenantId"},hide:!l["a"].tenantMode,rules:[{required:!0,message:"请输入所属租户",trigger:"click"}]},{label:"岗位类型",prop:"category",type:"select",dicUrl:"".concat(c["a"],"/blade-system/dict/dictionary?code=post_category"),props:{label:"dictValue",value:"dictKey"},dataType:"number",slot:!0,search:!0,rules:[{required:!0,message:"请选择岗位类型",trigger:"blur"}]},{label:"岗位编号",prop:"postCode",search:!0,rules:[{required:!0,message:"请输入岗位编号",trigger:"blur"}]},{label:"岗位名称",prop:"postName",search:!0,rules:[{required:!0,message:"请输入岗位名称",trigger:"blur"}]},{label:"岗位排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入岗位排序",trigger:"blur"}]},{label:"岗位描述",prop:"remark",type:"textarea",span:24,minRows:6,hide:!0}]},data:[]}},computed:d(d({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.post_add,!1),viewBtn:this.vaildData(this.permission.post_view,!1),delBtn:this.vaildData(this.permission.post_delete,!1),editBtn:this.vaildData(this.permission.post_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["f"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["b"])(this.form.id).then((function(e){n.form=e.data.data})),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["c"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},h=p,f=n("2877"),g=Object(f["a"])(h,a,i,!1,null,null,null);t["default"]=g.exports},"15c5":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lock-container"},[n("div",{staticClass:"lock-form animated bounceInDown"},[n("div",{staticClass:"animated",class:{shake:e.passwdError,bounceOut:e.pass}},[n("h3",{staticClass:"title"},[e._v(e._s(e.userInfo.username))]),n("el-input",{staticClass:"input-with-select animated",attrs:{placeholder:"请输入登录密码",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}},[n("el-button",{attrs:{slot:"append",icon:"icon-bofangqi-suoping"},on:{click:e.handleLogin},slot:"append"}),n("el-button",{attrs:{slot:"append",icon:"icon-tuichu"},on:{click:e.handleLogout},slot:"append"})],1)],1)])])},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("5880");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={name:"lock",data:function(){return{passwd:"",passwdError:!1,pass:!1}},created:function(){},mounted:function(){},computed:l(l({},Object(o["mapState"])({userInfo:function(e){return e.user.userInfo}})),Object(o["mapGetters"])(["tag","lockPasswd"])),props:[],methods:{handleLogout:function(){var e=this;this.$confirm("是否退出系统, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$store.dispatch("LogOut").then((function(){e.$router.push({path:"/login"})}))}))},handleLogin:function(){var e=this;if(this.passwd!==this.lockPasswd)return this.passwd="",this.$message({message:"解锁密码错误,请重新输入",type:"error"}),this.passwdError=!0,void setTimeout((function(){e.passwdError=!1}),1e3);this.pass=!0,setTimeout((function(){e.$store.commit("CLEAR_LOCK"),e.$router.push({path:e.$router.$avueRouter.getPath({src:e.tag.value})})}),1e3)}},components:{}},u=c,d=(n("70dc"),n("2877")),p=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=p.exports},1600:function(e,t,n){},"163d":function(e,t,n){"use strict";n("5cf2")},1687:function(e,t){var n="undefined"===typeof Float32Array?Array:Float32Array;function a(){var e=new n(6);return i(e),e}function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(e,t,n){var a=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],r=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=a,e[1]=i,e[2]=r,e[3]=o,e[4]=s,e[5]=l,e}function s(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function l(e,t,n){var a=t[0],i=t[2],r=t[4],o=t[1],s=t[3],l=t[5],c=Math.sin(n),u=Math.cos(n);return e[0]=a*u+o*c,e[1]=-a*c+o*u,e[2]=i*u+s*c,e[3]=-i*c+u*s,e[4]=u*r+c*l,e[5]=u*l-c*r,e}function c(e,t,n){var a=n[0],i=n[1];return e[0]=t[0]*a,e[1]=t[1]*i,e[2]=t[2]*a,e[3]=t[3]*i,e[4]=t[4]*a,e[5]=t[5]*i,e}function u(e,t){var n=t[0],a=t[2],i=t[4],r=t[1],o=t[3],s=t[5],l=n*o-r*a;return l?(l=1/l,e[0]=o*l,e[1]=-r*l,e[2]=-a*l,e[3]=n*l,e[4]=(a*s-o*i)*l,e[5]=(r*i-n*s)*l,e):null}function d(e){var t=a();return r(t,e),t}t.create=a,t.identity=i,t.copy=r,t.mul=o,t.translate=s,t.rotate=l,t.scale=c,t.invert=u,t.clone=d},1754:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"access",fn:function(t){var a=t.row;return["a"==a.access?n("el-tag",{attrs:{type:"success"}},[e._v("允许")]):e._e(),"f"==a.access?n("el-tag",{attrs:{type:"danger"}},[e._v("禁止")]):e._e()]}},{key:"gatewayGroupSearch",fn:function(t){return[n("el-select",{attrs:{placeholder:"网关分组",filterable:"",clearable:""},model:{value:e.search.gatewayGroup,callback:function(t){e.$set(e.search,"gatewayGroup",t)},expression:"search.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}},{key:"appSearch",fn:function(t){return[n("el-select",{attrs:{placeholder:"请选择调用方",filterable:"",clearable:""},model:{value:e.search.app,callback:function(t){e.$set(e.search,"app",t)},expression:"search.app"}},e._l(e.appOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}},{key:"pluginNamesSearch",fn:function(t){return[n("el-select",{attrs:{placeholder:"插件",multiple:"",filterable:"",clearable:"","collapse-tags":""},model:{value:e.search.plugin,callback:function(t){e.$set(e.search,"plugin",t)},expression:"search.plugin"}},e._l(e.pluginOptions,(function(e){return n("el-option",{key:e.id,attrs:{label:e.chnName,value:e.id}})})),1)]}},{key:"methodSearch",fn:function(t){return[n("el-select",{attrs:{placeholder:"请求方法",multiple:"",clearable:"","collapse-tags":""},model:{value:e.search.method,callback:function(t){e.$set(e.search,"method",t)},expression:"search.method"}},e._l(e.apiMethod,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("5880"),s=n("c54a"),l=n("27fc"),c=n("3bfd");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,viewBtn:!0,columnBtn:!1,menuPosition:"right",column:[{label:"网关分组",prop:"gatewayGroup",width:130,search:!0,searchslot:!0,overHidden:!0,type:"select",dicData:[]},{label:"路由类型",prop:"proxyMode",dicData:l["e"],width:80},{label:"前端服务名",prop:"service",search:!0,searchLabelWidth:90,overHidden:!0},{label:"前端API路径",prop:"path",search:!0,searchLabelWidth:100,overHidden:!0},{label:"请求方法",prop:"method",width:80,search:!0,type:"select",searchslot:!0},{label:"插件",prop:"pluginNames",search:!0,searchslot:!0,overHidden:!0,type:"select"},{label:"访问",prop:"access",width:70,slot:!0,search:!0,type:"select",dicData:l["a"]}]},data:[],search:{}}},computed:d(d({},Object(o["mapGetters"])(["permission","apiMethod","groupOptions","pluginOptions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.proxy_api_add,!1),editBtn:this.vaildData(this.permission.proxy_api_edit,!1),viewBtn:this.vaildData(this.permission.proxy_api_view,!1),delBtn:this.vaildData(this.permission.proxy_api_delete,!1)}}}),created:function(){this.getPluginOptions(),this.getGroupOptions()},watch:{groupOptions:function(e){var t=this.findObject(this.option.column,"gatewayGroup");t.dicData=e||[]}},methods:d(d({},Object(o["mapActions"])(["getGroupOptions","getPluginOptions"])),{},{beforeOpen:function(e,t){if("add"===t||this.form.id){var n="/proxy/detail/".concat(t);this.$router.push({path:n,query:{originId:this.form.id}})}else this.$message.error("数据缺失，无法操作！")},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(c["f"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.method&&Object(s["b"])(e.method)&&(e.method_in=e.method.join(",")||"",delete e.method),e.plugin&&Object(s["b"])(e.plugin)&&(e.pluginId_in=e.plugin.join(",")||"",delete e.plugin),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(c["e"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}})},h=p,f=n("2877"),g=Object(f["a"])(h,a,i,!1,null,null,null);t["default"]=g.exports},1763:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-drawer",{ref:"apiDrawer",attrs:{"append-to-body":"","before-close":e.handleClose,title:"添加"+e.typeName+"接口",size:"50%",visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[n("div",[n("div",{staticStyle:{"padding-bottom":"50px"}},[n("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad}})],1),n("footer",{staticClass:"drawer-footer"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleConfirm()}}},[e._v("确 定")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取 消")])],1)])])},i=[],r=(n("ac6a"),n("adc3")),o={data:function(){return{loading:!0,query:{},page:{pageSize:10,currentPage:1,total:0},option:{size:"mini",border:!0,selection:!0,tip:!1,columnBtn:!1,addBtn:!1,menu:!1,searchMenuSpan:12,column:[{label:"服务类型",prop:"type",type:"radio",dicData:[{label:"Dubbo",value:1},{label:"gRPC",value:2}],searchSpan:12,search:!1,hide:!0},{label:"服务名",prop:"service",search:!0,searchSpan:12},{label:"方法名",prop:"method",search:!0,searchSpan:12},{label:"接口名称",prop:"name",search:!0,searchSpan:12},{label:"版本",prop:"version",search:!0,searchSpan:12},{label:"分组",prop:"group",search:!0,searchSpan:12},{label:"参数类型",prop:"paramTypes",overHidden:!0,searchSpan:12},{label:"备注",prop:"note",overHidden:!0}]},data:[],selectionList:[]}},props:{visible:{type:Boolean,default:!1},type:{type:String,default:"DUBBO"},selection:{type:[Object,Array]}},computed:{ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},typeCode:function(){return("DUBBO"===this.type?1:"GRPC"===this.type&&2)||""},typeName:function(){return("DUBBO"===this.type?" Dubbo ":"GRPC"===this.type&&" gRPC ")||" RPC "}},watch:{typeCode:function(e,t){e!==t&&(this.onLoad(this.page),this.initOption())},visible:function(e){e||this.selectionClear()}},mounted:function(){this.initOption()},methods:{initOption:function(){var e=this;this.option.column=this.option.column.map((function(t){return"version"!==t.prop&&"group"!==t.prop&&"paramTypes"!==t.prop||(t.hide=2===e.typeCode),"type"===t.prop&&(t.hide=!!e.typeCode,t.search=!e.typeCode),t}))},handleClose:function(e){this.$emit("update:visible",!1),e&&e()},handleConfirm:function(){1===this.selectionList.length?(this.$emit("confirm",this.selectionList),this.handleClose()):this.$message.warning("只能选择一条数据")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,e=e||this.page,n.type=n.type||this.typeCode,Object(r["d"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},s=o,l=(n("c5f7"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"c6467058",null);t["default"]=c.exports},"17bb":function(e,t,n){},"17d6":function(e,t,n){var a=n("6d8b"),i=n("22d1"),r=n("e0d3"),o=r.makeInner,s=o(),l=a.each;function c(e,t,n){if(!i.node){var a=t.getZr();s(a).records||(s(a).records={}),u(a,t);var r=s(a).records[e]||(s(a).records[e]={});r.handler=n}}function u(e,t){function n(n,a){e.on(n,(function(n){var i=f(t);l(s(e).records,(function(e){e&&a(e,n,i.dispatchAction)})),d(i.pendings,t)}))}s(e).initialized||(s(e).initialized=!0,n("click",a.curry(h,"click")),n("mousemove",a.curry(h,"mousemove")),n("globalout",p))}function d(e,t){var n,a=e.showTip.length,i=e.hideTip.length;a?n=e.showTip[a-1]:i&&(n=e.hideTip[i-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}function p(e,t,n){e.handler("leave",null,n)}function h(e,t,n,a){t.handler(e,n,a)}function f(e){var t={showTip:[],hideTip:[]},n=function(a){var i=t[a.type];i?i.push(a):(a.dispatchAction=n,e.dispatchAction(a))};return{dispatchAction:n,pendings:t}}function g(e,t){if(!i.node){var n=t.getZr(),a=(s(n).records||{})[e];a&&(s(n).records[e]=null)}}t.register=c,t.unregister=g},"17e0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{"popper-class":"tooltip-dark",placement:"top",title:e.title}},[n("div",{staticClass:"content"},[e._v("\n    fizz-appid: 10001 "),n("br"),e._v("\n    fizz-sign: e4502ba3a71448bbbcecef22b305d2ba "),n("br"),e.ts?n("span",[e._v("fizz-ts: 1605255335977 ")]):e._e(),n("br")]),n("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("("+e._s(e.title)+")")])])},i=[],r={name:"tooltip-appid",props:{title:{type:String,default:"示例"},ts:{type:Boolean,default:!0}}},o=r,s=(n("7bd3"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},1807:function(e,t,n){"use strict";n("a5f3")},1884:function(e,t,n){"use strict";n("1600")},"18ba":function(e,t,n){},"18c0":function(e,t,n){var a=n("6d8b"),i=n("e0d8"),r=n("8e43"),o=i.prototype,s=i.extend({type:"ordinal",init:function(e,t){e&&!a.isArray(e)||(e=new r({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"===typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),o.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return o.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(o.scale.call(this,e))},getTicks:function(){var e=[],t=this._extent,n=t[0];while(n<=t[1])e.push(n),n++;return e},getLabel:function(e){if(!this.isBlank())return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:a.noop,niceExtent:a.noop});s.create=function(){return new s};var l=s;e.exports=l},"192e":function(e,t,n){},1941:function(e,t,n){},"19eb":function(e,t,n){var a=n("6d8b"),i=n("2b61"),r=n("d5b7"),o=n("9e2e");function s(e){for(var t in e=e||{},r.call(this,e),e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new i(e.style,this),this._rect=null,this.__clipPaths=null}s.prototype={constructor:s,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return a.contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?r.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new i(e,this),this.dirty(!1),this},calculateTextPosition:null},a.inherits(s,r),a.mixin(s,o);var l=s;e.exports=l},"1a1f":function(e,t,n){"use strict";n.r(t);var a,i,r=n("0f43"),o={name:"apply",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},data:[],detailDialog:{visible:!1,data:[],id:""}}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowView:function(e){var t=this;this.detailDialog.id=e.id,Object(r["d"])(this.detailDialog.id).then((function(e){t.detailDialog.data=e.data.data,t.detailDialog.visible=!0}))},searchReset:function(){this.option.column=this.option.column.map((function(e){return delete e.searchValue,e})),this.query={},this.onLoad(this.page)},searchChange:function(e,t){if(e.createTime&&e.createTime.length>0&&(e.createTimeStart=e.createTime[0],e.createTimeEnd=e.createTime[1],delete e.createTime),new Date(e.createTimeStart)>new Date(e.createTimeEnd))return this.$message.error("请选择结束时间晚于开始时间"),!1;this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)}}},s=o,l=n("2877"),c=Object(l["a"])(s,a,i,!1,null,"7d40383e",null);t["default"]=c.exports},"1a2d":function(e,t,n){var a=n("42a2"),i=n("1310"),r="[object Map]";function o(e){return i(e)&&a(e)==r}e.exports=o},"1bac":function(e,t,n){var a=n("7d1f"),i=n("a029"),r=n("9934");function o(e){return a(e,r,i)}e.exports=o},"1c28":function(e,t,n){"use strict";n("d4b0")},"1c4b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permissionList.importBtn?n("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-upload2",plain:""},on:{click:e.handleImport}},[e._v("导 入\n      ")]):e._e(),e.permissionList.exportBtn?n("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-download",plain:""},on:{click:e.handleExport}},[e._v("导 出\n      ")]):e._e()],1)],2),n("el-dialog",{attrs:{title:"导入配置","append-to-body":"",visible:e.importDialog,"show-close":!1,width:"600px"},on:{"update:visible":function(t){e.importDialog=t}}},[n("div",[n("el-upload",{ref:"upload",attrs:{accept:".xlsx",limit:1,"file-list":e.fileList,"on-change":e.handleChange,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"auto-upload":!1}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("导入的文件需要符合固定格式，具体可参考导出文件（限xlsx文件）")])],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("div",{staticStyle:{padding:"12px 0"}},[n("el-checkbox",{model:{value:e.importData.force,callback:function(t){e.$set(e.importData,"force",t)},expression:"importData.force"}},[e._v("强制覆盖")])],1),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitUpload}},[e._v("确 定")]),n("el-button",{attrs:{size:"small"},on:{click:e.closeImportDialog}},[e._v("取 消")])],1)]),n("api-detail",{attrs:{visible:e.detailDialog.visible,type:e.detailDialog.type,id:e.detailDialog.id,callback:e.onLoad},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}})],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("7f7f"),n("ac6a"),n("ade3")),o=n("adc3"),s=n("5880"),l=n("74a0");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{dialogWidth:900,labelWidth:100,border:!0,index:!0,selection:!0,tip:!1,columnBtn:!1,menuPosition:"right",viewBtn:!0,column:[{label:"服务类型",prop:"type",search:!0,type:"radio",dicData:[{label:"Dubbo",value:1},{label:"gRPC",value:2}]},{label:"服务名",prop:"service",search:!0},{label:"方法名",prop:"method",search:!0},{label:"接口名称",prop:"name",search:!0},{label:"版本",prop:"version",search:!0},{label:"分组",prop:"group",search:!0},{label:"参数类型",prop:"paramTypes",overHidden:!0},{label:"备注",prop:"note",overHidden:!0}]},data:[],detailDialog:{visible:!1,type:"",id:null},importDialog:!1,fileList:[],files:null,importData:{force:!1},importHeaders:{"Content-Type":"multipart/form-data"}}},computed:u(u({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.rpc_api_add,!1),editBtn:this.vaildData(this.permission.rpc_api_edit,!1),viewBtn:this.vaildData(this.permission.rpc_api_view,!1),delBtn:this.vaildData(this.permission.rpc_api_delete,!1),importBtn:this.vaildData(this.permission.rpc_api_import,!1),exportBtn:this.vaildData(this.permission.rpc_api_export,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},service:function(){return this.$route.query.service||""}}),components:{apiDetail:l["default"]},beforeRouteUpdate:function(e,t,n){e.fullPath!==t.fullPath&&(this.option.column=this.option.column.map((function(e){return e.searchValue&&(e.searchValue=""),e})),this.query={},n(),this.onLoad(this.page,Object.assign({},e.query)))},watch:{service:{immediate:!0,handler:function(e){e&&(this.query.service=e,this.option.column[1].searchValue=e)}},data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{handleImport:function(){this.importDialog=!0},handleChange:function(e,t){this.files=t&&t[0]},handleRemove:function(e,t){this.files=t&&t[0]},handleExceed:function(){this.$message.warning("文件超出个数限制，每次仅允许导入一个文件!")},closeImportDialog:function(){this.importDialog=!1,this.fileList=[],this.files=null},beforeUpload:function(e){var t=e&&e.raw,n=t&&t.name||"",a=t&&t.type||"";return!(!n||!a)||(this.$message.warning("请选择要上传的文件！"),!1)},submitUpload:function(){var e=this,t=this.beforeUpload(this.files);if(!t)return!1;var n=this.files.raw,a=n.name,i=new FormData;i.append("file",n,a),i.append("force",this.importData.force),Object(o["e"])(i).then((function(){e.$message.success("导入成功"),e.importDialog=!1,e.onLoad(e.page)}))},handleExport:function(){var e=this,t=this.ids?"确定将选择数据导出?":"没有选择数据，默认导出模板";this.$confirm(t,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"导出成功"}),e.$refs.crud.toggleSelection()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.detailDialog.type=t,["edit","view"].includes(t)?this.detailDialog.id=this.form.id:this.detailDialog.id="",this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,e=e||this.page,Object(o["d"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},p=d,h=(n("acef"),n("2877")),f=Object(h["a"])(p,a,i,!1,null,null,null);t["default"]=f.exports},"1c84":function(e,t,n){"use strict";n("970c")},"1cbe":function(e,t,n){"use strict";n("4c0d")},"1cec":function(e,t,n){var a=n("0b07"),i=n("2b3e"),r=a(i,"Promise");e.exports=r},"1da2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,"before-close":e.beforeClose,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"name",fn:function(t){var a=t.row;return[e.permissionList.apiAuthority?n("span",{staticClass:"text-link",on:{click:function(t){return e.goApiList(a)}}},[e._v(e._s(a.name))]):n("span",[e._v(e._s(a.name))])]}},{key:"menu",fn:function(t){var a=t.row,i=t.type,r=t.size;return[e.permissionList.authorityBtn?n("el-button",{attrs:{icon:"el-icon-setting",size:r,type:i},on:{click:function(t){return e.handleAuthority(a)}}},[e._v("权限")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permissionList.delBtn?n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2),n("el-dialog",{attrs:{title:"["+e.authorityName+"]用户权限配置","append-to-body":"","custom-class":"authority-dialog",visible:e.authorityDialog,width:"400px"},on:{"update:visible":function(t){e.authorityDialog=t}}},[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleUserCheckAll},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),n("el-checkbox-group",{on:{change:e.handleCheckedUser},model:{value:e.checkedUser,callback:function(t){e.checkedUser=t},expression:"checkedUser"}},e._l(e.userList,(function(t,a){return n("el-checkbox",{key:a,attrs:{label:t.userId}},[e._v(e._s(t.userName))])})),1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.authorityDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.authoritySubmit}},[e._v("确 定")])],1)],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("7f7f"),n("ac6a"),n("ade3")),o=n("a378"),s=n("5880");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={data:function(){return{form:{},query:{},loading:!0,treeProps:{label:"userName",value:"userId"},checkAll:!1,isIndeterminate:!0,authorityId:"",authorityName:"",authorityDialog:!1,userList:[],checkedUser:[],page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{dialogWidth:900,labelWidth:100,border:!0,tip:!1,index:!0,selection:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",column:[{label:"服务 ID",prop:"name",search:!0,slot:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"服务名",prop:"title",search:!0,searchLabelWidth:88,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"团队",prop:"team",search:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"负责人",prop:"personInCharge",search:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"描述",prop:"description",span:24,overHidden:!0,minRows:6,type:"textarea"}]},data:[],historyRoute:null}},computed:c(c({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.aggregate_service_add,!1),delBtn:this.vaildData(this.permission.aggregate_service_delete,!1),editBtn:this.vaildData(this.permission.aggregate_service_edit,!1),authorityBtn:this.vaildData(this.permission.aggregate_service_authority,!1),apiAuthority:this.vaildData(this.permission.aggregate_api,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),beforeRouteEnter:function(e,t,n){n((function(n){e.query&&e.query.add&&(n.historyRoute=t,n.$refs.crud.rowAdd())}))},methods:{goApiList:function(e){e.name&&this.$router.push({path:"/aggregate/api",query:{serviceName:e.name}})},handleAuthority:function(e){var t=this;this.authorityId=e.id,this.authorityName=e.name,this.checkedUser=[],Object(o["e"])(this.authorityId).then((function(e){t.userList=e.data.data,t.userList.forEach((function(e){1===e.hasPrivilege&&t.checkedUser.push(e.userId)})),t.handleCheckedUser(t.checkedUser),t.authorityDialog=!0}))},handleUserCheckAll:function(e){if(e){var t=[];this.userList.forEach((function(e){t.push(e.userId)})),this.checkedUser=t}else this.checkedUser=[];this.isIndeterminate=!1},handleCheckedUser:function(e){var t=e.length;this.checkAll=t===this.userList.length,this.isIndeterminate=t>0&&t<this.userList.length},authoritySubmit:function(){var e=this,t={serviceId:this.authorityId,userIds:this.checkedUser};Object(o["f"])(t).then((function(){e.authorityDialog=!1,e.$message({type:"success",message:"操作成功!"})}))},rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){t(),a.$message({type:"success",message:"保存成功"}),a.$route.query&&a.$route.query.add?(a.$router.$avueRouter.closeTag(),a.$router.push("/aggregate/service")):a.onLoad(a.page)}),(function(e){n(),window.console.log(e)}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["h"])(e).then((function(){n(),i.onLoad(i.page),i.$message({type:"success",message:"修改成功"})}),(function(e){a(),window.console.log(e)}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"删除成功"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["c"])(this.form.id).then((function(e){n.form=e.data.data})),e()},beforeClose:function(e,t){e(),"add"===t&&this.$route.query&&this.$route.query.add&&(this.$router.$avueRouter.closeTag(),this.$router.push(this.historyRoute.fullPath))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["d"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},d=u,p=(n("9607"),n("2877")),h=Object(p["a"])(d,a,i,!1,null,null,null);t["default"]=h.exports},"1e65":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"type",fn:function(t){var n=t.row;return[e._v("\n      "+e._s((0===n.type?"发布":1===n.type&&"下线")||n.type)+"\n    ")]}},{key:"status",fn:function(t){var a=t.row;return[1===a.status?n("span",{staticClass:"color-danger"},[e._v("审核不通过")]):2===a.status?n("span",{staticClass:"color-success"},[e._v("审核通过")]):n("span",[e._v(e._s(0===a.status?"待审核":3===a.status&&"撤回"))])]}},{key:"menu",fn:function(t){var a=t.row,i=t.type,r=t.size;t.index;return[n("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowView(a)}}},[e._v("查看")]),e.permissionList.auditBtn&&0===a.status?n("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowAudit(a)}}},[e._v("审核")]):e._e()]}}])}),n("audit-detail",{attrs:{visible:e.detailDialog.visible,audit:!0,id:e.detailDialog.id,data:e.detailDialog.data,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}}),n("el-dialog",{attrs:{title:"["+e.auditDialog.title+"]-审核","append-to-body":"",visible:e.auditDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.auditDialog,"visible",t)}}},[n("el-form",{attrs:{size:"small","label-width":"100px"}},[n("el-form-item",{attrs:{label:"审核结果：",required:""}},[n("el-radio-group",{model:{value:e.auditDialog.type,callback:function(t){e.$set(e.auditDialog,"type",t)},expression:"auditDialog.type"}},e._l(e.auditState,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),n("el-form-item",{attrs:{label:"审核备注："}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"审核备注（选填）"},model:{value:e.auditDialog.remark,callback:function(t){e.$set(e.auditDialog,"remark",t)},expression:"auditDialog.remark"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small",loading:e.auditDialog.loading},on:{click:e.auditConfirm}},[e._v("确 定\n      ")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.auditDialog.visible=!1}}},[e._v("取 消")])],1)],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("134f"),s=n("cec1"),l=n("5880"),c=n("1a1f"),u=n("218b");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={data:function(){return{query:{status:0},option:{dialogWidth:900,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuWidth:100,menuPosition:"right",column:[{label:"申请时间",prop:"createTime",searchRange:!0,search:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"标题",prop:"title",search:!0,minWidth:180},{label:"操作类型",prop:"type",slot:!0,width:80},{label:"申请人",prop:"createBy"},{label:"审核状态",prop:"status",slot:!0,width:100,search:!0,type:"select",searchValue:0,dicData:s["a"]}]},auditDialog:{visible:!1,loading:!1,title:"",id:"",remark:""}}},mixins:[c["default"]],components:{auditDetail:u["default"]},computed:p(p({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{auditBtn:this.vaildData(this.permission.aggregate_apply_audit,!1),viewBtn:this.vaildData(this.permission.aggregateRecord_audit_view,!1)}},auditState:function(){return s["b"]}}),methods:{rowView:function(e){this.detailDialog.id=e.id;var t="/aggregateRecord/auditDetail";this.$router.push({path:t,query:{originId:e.id}})},rowAudit:function(e){this.auditDialog.id=e.id,this.auditDialog.title=e.title,this.auditDialog.visible=!0},auditConfirm:function(){var e=this;if(!this.auditDialog.type)return this.$message.error("请选择审核结果"),!1;var t={};return t.id=this.auditDialog.id,t.approvalResult=this.auditDialog.type,t.approvalRemark=this.auditDialog.remark,this.auditDialog.loading=!0,Object(o["a"])(t).then((function(){e.$message.success("审核成功"),e.onLoad(e.page),e.auditDialog.visible=!1,e.auditDialog.loading=!1})).catch((function(){e.auditDialog.loading=!1}))},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},f=h,g=n("2877"),m=Object(g["a"])(f,a,i,!1,null,null,null);t["default"]=m.exports},"1ee0":function(e,t,n){},"1efc":function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},"1fab":function(e,t){var n=Array.prototype.slice,a=function(e){this._$handlers={},this._$eventProcessor=e};function i(e,t){var n=e._$eventProcessor;return null!=t&&n&&n.normalizeQuery&&(t=n.normalizeQuery(t)),t}function r(e,t,n,a,r,o){var s=e._$handlers;if("function"===typeof n&&(r=a,a=n,n=null),!a||!t)return e;n=i(e,n),s[t]||(s[t]=[]);for(var l=0;l<s[t].length;l++)if(s[t][l].h===a)return e;var c={h:a,one:o,query:n,ctx:r||e,callAtLast:a.zrEventfulCallAtLast},u=s[t].length-1,d=s[t][u];return d&&d.callAtLast?s[t].splice(u,0,c):s[t].push(c),e}a.prototype={constructor:a,one:function(e,t,n,a){return r(this,e,t,n,a,!0)},on:function(e,t,n,a){return r(this,e,t,n,a,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var a=[],i=0,r=n[e].length;i<r;i++)n[e][i].h!==t&&a.push(n[e][i]);n[e]=a}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){var t=this._$handlers[e],a=this._$eventProcessor;if(t){var i=arguments,r=i.length;r>3&&(i=n.call(i,1));for(var o=t.length,s=0;s<o;){var l=t[s];if(a&&a.filter&&null!=l.query&&!a.filter(e,l.query))s++;else{switch(r){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,i[1]);break;case 3:l.h.call(l.ctx,i[1],i[2]);break;default:l.h.apply(l.ctx,i);break}l.one?(t.splice(s,1),o--):s++}}}return a&&a.afterTrigger&&a.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],a=this._$eventProcessor;if(t){var i=arguments,r=i.length;r>4&&(i=n.call(i,1,i.length-1));for(var o=i[i.length-1],s=t.length,l=0;l<s;){var c=t[l];if(a&&a.filter&&null!=c.query&&!a.filter(e,c.query))l++;else{switch(r){case 1:c.h.call(o);break;case 2:c.h.call(o,i[1]);break;case 3:c.h.call(o,i[1],i[2]);break;default:c.h.apply(o,i);break}c.one?(t.splice(l,1),s--):l++}}}return a&&a.afterTrigger&&a.afterTrigger(e),this}};var o=a;e.exports=o},"1fc8":function(e,t,n){var a=n("4245");function i(e,t){var n=a(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}e.exports=i},2004:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("请打开浏览器控制台，然后点击下面的按钮")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.handleNewError}},[e._v("触发一个错误\n  ")])],1)},r=[],o={methods:{handleNewError:function(){window.console.log(a)}}},s=o,l=n("2877"),c=Object(l["a"])(s,i,r,!1,null,null,null);t["default"]=c.exports},2023:function(e,t,n){var a=n("6d8b"),i={getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!==typeof n&&!a.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!==typeof n&&!a.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:a.noop,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};e.exports=i},2039:function(e,t,n){var a=n("6d8b"),i={};function r(){this._coordinateSystems=[]}r.prototype={constructor:r,create:function(e,t){var n=[];a.each(i,(function(a,i){var r=a.create(e,t);n=n.concat(r||[])})),this._coordinateSystems=n},update:function(e,t){a.each(this._coordinateSystems,(function(n){n.update&&n.update(e,t)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},r.register=function(e,t){i[e]=t},r.get=function(e){return i[e]};var o=r;e.exports=o},2087:function(e,t,n){},"20c8":function(e,t,n){var a=n("4a3f"),i=n("401b"),r=n("e263"),o=n("9850"),s=n("2cf4"),l=s.devicePixelRatio,c={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},u=[],d=[],p=[],h=[],f=Math.min,g=Math.max,m=Math.cos,v=Math.sin,b=Math.sqrt,y=Math.abs,x="undefined"!==typeof Float32Array,w=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};w.prototype={constructor:w,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,n){n=n||0,this._ux=y(n/l/e)||0,this._uy=y(n/l/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(c.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=y(e-this._xi)>this._ux||y(t-this._yi)>this._uy||this._len<5;return this.addData(c.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,a,i,r){return this.addData(c.C,e,t,n,a,i,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,a,i,r):this._ctx.bezierCurveTo(e,t,n,a,i,r)),this._xi=i,this._yi=r,this},quadraticCurveTo:function(e,t,n,a){return this.addData(c.Q,e,t,n,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,a):this._ctx.quadraticCurveTo(e,t,n,a)),this._xi=n,this._yi=a,this},arc:function(e,t,n,a,i,r){return this.addData(c.A,e,t,n,n,a,i-a,0,r?0:1),this._ctx&&this._ctx.arc(e,t,n,a,i,r),this._xi=m(i)*n+e,this._yi=v(i)*n+t,this},arcTo:function(e,t,n,a,i){return this._ctx&&this._ctx.arcTo(e,t,n,a,i),this},rect:function(e,t,n,a){return this._ctx&&this._ctx.rect(e,t,n,a),this.addData(c.R,e,t,n,a),this},closePath:function(){this.addData(c.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length===t||!x||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,a=this._len,i=0;i<t;i++)n+=e[i].len();x&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+n));for(i=0;i<t;i++)for(var r=e[i].data,o=0;o<r.length;o++)this.data[a++]=r[o];this._len=a},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,a,i=this._dashSum,r=this._dashOffset,o=this._lineDash,s=this._ctx,l=this._xi,c=this._yi,u=e-l,d=t-c,p=b(u*u+d*d),h=l,m=c,v=o.length;u/=p,d/=p,r<0&&(r=i+r),r%=i,h-=r*u,m-=r*d;while(u>0&&h<=e||u<0&&h>=e||0===u&&(d>0&&m<=t||d<0&&m>=t))a=this._dashIdx,n=o[a],h+=u*n,m+=d*n,this._dashIdx=(a+1)%v,u>0&&h<l||u<0&&h>l||d>0&&m<c||d<0&&m>c||s[a%2?"moveTo":"lineTo"](u>=0?f(h,e):g(h,e),d>=0?f(m,t):g(m,t));u=h-e,d=m-t,this._dashOffset=-b(u*u+d*d)},_dashedBezierTo:function(e,t,n,i,r,o){var s,l,c,u,d,p=this._dashSum,h=this._dashOffset,f=this._lineDash,g=this._ctx,m=this._xi,v=this._yi,y=a.cubicAt,x=0,w=this._dashIdx,_=f.length,O=0;for(h<0&&(h=p+h),h%=p,s=0;s<1;s+=.1)l=y(m,e,n,r,s+.1)-y(m,e,n,r,s),c=y(v,t,i,o,s+.1)-y(v,t,i,o,s),x+=b(l*l+c*c);for(;w<_;w++)if(O+=f[w],O>h)break;s=(O-h)/x;while(s<=1)u=y(m,e,n,r,s),d=y(v,t,i,o,s),w%2?g.moveTo(u,d):g.lineTo(u,d),s+=f[w]/x,w=(w+1)%_;w%2!==0&&g.lineTo(r,o),l=r-u,c=o-d,this._dashOffset=-b(l*l+c*c)},_dashedQuadraticTo:function(e,t,n,a){var i=n,r=a;n=(n+2*e)/3,a=(a+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,a,i,r)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,x&&(this.data=new Float32Array(e)))},getBoundingRect:function(){u[0]=u[1]=p[0]=p[1]=Number.MAX_VALUE,d[0]=d[1]=h[0]=h[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,n=0,a=0,s=0,l=0;l<e.length;){var f=e[l++];switch(1===l&&(t=e[l],n=e[l+1],a=t,s=n),f){case c.M:a=e[l++],s=e[l++],t=a,n=s,p[0]=a,p[1]=s,h[0]=a,h[1]=s;break;case c.L:r.fromLine(t,n,e[l],e[l+1],p,h),t=e[l++],n=e[l++];break;case c.C:r.fromCubic(t,n,e[l++],e[l++],e[l++],e[l++],e[l],e[l+1],p,h),t=e[l++],n=e[l++];break;case c.Q:r.fromQuadratic(t,n,e[l++],e[l++],e[l],e[l+1],p,h),t=e[l++],n=e[l++];break;case c.A:var g=e[l++],b=e[l++],y=e[l++],x=e[l++],w=e[l++],_=e[l++]+w;l+=1;var O=1-e[l++];1===l&&(a=m(w)*y+g,s=v(w)*x+b),r.fromArc(g,b,y,x,w,_,O,p,h),t=m(_)*y+g,n=v(_)*x+b;break;case c.R:a=t=e[l++],s=n=e[l++];var D=e[l++],C=e[l++];r.fromLine(a,s,a+D,s+C,p,h);break;case c.Z:t=a,n=s;break}i.min(u,u,p),i.max(d,d,h)}return 0===l&&(u[0]=u[1]=d[0]=d[1]=0),new o(u[0],u[1],d[0]-u[0],d[1]-u[1])},rebuildPath:function(e){for(var t,n,a,i,r,o,s=this.data,l=this._ux,u=this._uy,d=this._len,p=0;p<d;){var h=s[p++];switch(1===p&&(a=s[p],i=s[p+1],t=a,n=i),h){case c.M:t=a=s[p++],n=i=s[p++],e.moveTo(a,i);break;case c.L:r=s[p++],o=s[p++],(y(r-a)>l||y(o-i)>u||p===d-1)&&(e.lineTo(r,o),a=r,i=o);break;case c.C:e.bezierCurveTo(s[p++],s[p++],s[p++],s[p++],s[p++],s[p++]),a=s[p-2],i=s[p-1];break;case c.Q:e.quadraticCurveTo(s[p++],s[p++],s[p++],s[p++]),a=s[p-2],i=s[p-1];break;case c.A:var f=s[p++],g=s[p++],b=s[p++],x=s[p++],w=s[p++],_=s[p++],O=s[p++],D=s[p++],C=b>x?b:x,S=b>x?1:b/x,k=b>x?x/b:1,T=Math.abs(b-x)>.001,P=w+_;T?(e.translate(f,g),e.rotate(O),e.scale(S,k),e.arc(0,0,C,w,P,1-D),e.scale(1/S,1/k),e.rotate(-O),e.translate(-f,-g)):e.arc(f,g,C,w,P,1-D),1===p&&(t=m(w)*b+f,n=v(w)*x+g),a=m(P)*b+f,i=v(P)*x+g;break;case c.R:t=a=s[p],n=i=s[p+1],e.rect(s[p++],s[p++],s[p++],s[p++]);break;case c.Z:e.closePath(),a=t,i=n}}}},w.CMD=c;var _=w;e.exports=_},2101:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),n("el-dialog",{attrs:{"append-to-body":"",width:"900px",top:"20px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[n("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.rules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"140px"}},[n("el-form-item",{attrs:{label:"插件名称",prop:"engName"}},[n("el-input",{attrs:{placeholder:"请输入插件名称",clearable:""},model:{value:e.dialogForm.engName,callback:function(t){e.$set(e.dialogForm,"engName",t)},expression:"dialogForm.engName"}}),n("span",[e._v("插件名称由英文字母、下划线或数字组成, 不能以数字开头，如：memberAuth,  member_auth_v1")])],1),n("el-form-item",{attrs:{label:"插件描述",prop:"chnName"}},[n("el-input",{attrs:{placeholder:"请输入插件描述",clearable:""},model:{value:e.dialogForm.chnName,callback:function(t){e.$set(e.dialogForm,"chnName",t)},expression:"dialogForm.chnName"}}),n("span",[e._v("如：会员登录校验")])],1),n("el-form-item",{attrs:{label:"默认执行顺序",prop:"order"}},[n("el-input",{attrs:{placeholder:"请输入默认执行顺序",clearable:""},model:{value:e.dialogForm.order,callback:function(t){e.$set(e.dialogForm,"order",t)},expression:"dialogForm.order"}})],1),n("el-form-item",{attrs:{label:"表单定义",prop:"config"}},[n("data-editor",{attrs:{content:e.dialogForm.config,height:300},on:{"update:content":function(t){return e.$set(e.dialogForm,"config",t)}}}),n("span",[e._v("\n          路由级别的自定义属性，定义规范请参考：\n          "),n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.showFormTips()}}},[e._v("表单规范说明")])],1)],1),n("el-form-item",{attrs:{label:"自定义配置",prop:"fixedConfig"}},[n("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.dialogForm.fixedConfig,callback:function(t){e.$set(e.dialogForm,"fixedConfig",t)},expression:"dialogForm.fixedConfig"}}),n("span",{staticClass:"key-tips"},[e._v("插件级别的自定义配置信息 "),n("tooltip-custom",{staticClass:"link",attrs:{title:"插件实例"}})],1)],1)],1),"view"!==e.detailDialog.type?n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("保 存\n      ")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e(),n("el-dialog",{attrs:{width:"600px",title:"插件表单规范说明",visible:e.tipsDialog.visible,"append-to-body":""},on:{"update:visible":function(t){return e.$set(e.tipsDialog,"visible",t)}}},[n("code-highlight",{attrs:{height:"400",code:e.tipsDialog.content}})],1)],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("6762"),n("2fdb"),n("ade3")),o=n("4df3"),s=n("dd62"),l=n("5880"),c=n("16cd"),u=n("c54a"),d=n("4627"),p=n("d480"),h={pluginFormJS:'/*\r\n* plugin_config_design\r\n* 动态插件参考结构\r\n* */\r\n\r\nconst pluginConfig = [\r\n  {\r\n    /* 必有字段 */\r\n    "field": "inputVal",\r\n    "label": "输入框",\r\n    "component": "input", // input, select, radio, checkbox, textarea\r\n    "dataType": "string", // number(long, double), string, boolean, array\r\n    /* 可选字段 */\r\n    "desc": "字段的说明文字",\r\n    "placeholder": "placeholder文字",\r\n    "default": "Aa123", // 初始默认值\r\n    "options": [ // for select, radio, checkbox\r\n      {\r\n        "label": "选项1",\r\n        "value": 1  // number(long, double), string, boolean,\r\n      },\r\n      {\r\n        "label": "选项2",\r\n        "value": 2\r\n      }\r\n    ],\r\n    "rules": [ // min|max / range / length / regex pattern\r\n      { "required": true, "message": "输入框不能为空", "trigger": "change" }, // required 必填\r\n      // { "min": 3, "ma x": 5, "message": "长度在 3 到 5 个字符", "trigger": "change" }, // range 长度范围（for dataType："string"）\r\n      // { "len": 8, "message": "长度需 8 个字符", "trigger": "change" }, // length 长度限制（for dataType："string"）\r\n      // { "type": "number", "message": "请输入数字类型"}, // for dataType："number" 校验数值\r\n      // { "type": "integer", "message": "请输入整数数值", "trigger": "change" }, // for dataType："long" 校验整数\r\n      // { "type": "float", "message": "请输入浮点数数值", "trigger": "change" }, // for dataType："double" 校验浮点数\r\n      { "pattern": "^[A-Za-z\\\\d]+$", "message": "只能是字母或数字", "trigger": "change" } // regex pattern正则\r\n    ]\r\n  },\r\n  {\r\n    "field": "selectVal",\r\n    "label": "选择器",\r\n    "component": "select",\r\n    "dataType": "number",\r\n    "options": [\r\n      {\r\n        "label": "选项1",\r\n        "value": 1\r\n      },\r\n      {\r\n        "label": "选项2",\r\n        "value": 2\r\n      },\r\n      {\r\n        "label": "选项3",\r\n        "value": 3\r\n      }\r\n    ],\r\n    "desc": "选择器的说明文字",\r\n    "placeholder": "请选择",\r\n    "rules": [\r\n      { "required": true, "message": "选择器不能为空", "trigger": "change" }\r\n    ]\r\n  },\r\n  {\r\n    "field": "radioVal",\r\n    "label": "单选框",\r\n    "component": "radio",\r\n    "dataType": "boolean",\r\n    "default": true,\r\n    "options": [\r\n      {\r\n        "label": "是",\r\n        "value": true\r\n      },\r\n      {\r\n        "label": "否",\r\n        "value": false\r\n      }\r\n    ],\r\n    "desc": "单选框的说明文字",\r\n    "rules": [\r\n      { "required": true, "message": "请选择单选框", "trigger": "change" }\r\n    ]\r\n  },\r\n  {\r\n    "field": "checkboxVal",\r\n    "label": "多选框",\r\n    "component": "checkbox",\r\n    "dataType": "array",\r\n    "options": [\r\n      {\r\n        "label": "选项1",\r\n        "value": 11\r\n      },\r\n      {\r\n        "label": "选项2",\r\n        "value": 22\r\n      },\r\n      {\r\n        "label": "选项3",\r\n        "value": 33\r\n      }\r\n    ],\r\n    "desc": "多选框的说明文字",\r\n    "rules": [\r\n      { "required": true, "message": "请选择多选框", "trigger": "change" }\r\n    ]\r\n  },\r\n  {\r\n    "field": "textVal",\r\n    "label": "文本框",\r\n    "component": "textarea",\r\n    "dataType": "string",\r\n    "desc": "文本框的说明文字",\r\n    "placeholder": "textarea文字",\r\n    "default": "一般放很长的文字",\r\n    "rules": [\r\n      {\r\n        "required": true,\r\n        "message": "文本框不能为空",\r\n        "trigger": "change"\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n// TODO 注意！！\r\n// [pluginConfig]数组注释仅为示例说明，实际数组JSON不可包含注释\r\n// 组件 "checkbox" 的dataType = "array"\r\n// 组件 "radio/select" 的实际值类型等于options内的value值类型\r\n\r\n\r\n'};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={data:function(){return{form:{},dialogForm:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,viewBtn:!0,columnBtn:!1,menuPosition:"right",column:[{label:"ID",prop:"id",width:60},{label:"插件名称",prop:"engName",search:!0,overHidden:!0},{label:"插件描述",prop:"chnName",search:!0,overHidden:!0},{label:"默认执行顺序",prop:"order",hide:!0},{label:"表单定义",prop:"config",overHidden:!0},{label:"自定义配置",prop:"fixedConfig",overHidden:!0}]},data:[],rules:{engName:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[A-Za-z_][A-Za-z\d_]+$/,message:"格式有误",trigger:"blur"}],chnName:[{required:!0,message:"必填",trigger:"blur"}],order:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^\d+$/,message:"请输入自然数",trigger:"blur"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1},tipsDialog:{title:"js",visible:!1,content:"111"}}},computed:g(g({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.gateway_plugin_add,!1),editBtn:this.vaildData(this.permission.gateway_plugin_edit,!1),viewBtn:this.vaildData(this.permission.gateway_plugin_view,!1),delBtn:this.vaildData(this.permission.gateway_plugin_delete,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},components:{dataEditor:d["default"],codeHighlight:p["default"],tooltipCustom:s["default"]},methods:{showFormTips:function(){this.tipsDialog.content=h.pluginFormJS,this.tipsDialog.visible=!0},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var n=Object(c["b"])(e.dialogForm),a=Object(u["i"])(n.config);if(n.config&&!a)return e.$message.error("表单定义配置JSON格式有误"),!1;if(n.config&&!(n.config instanceof Array))return e.$message.error("表单定义配置需为数组格式结构"),!1;var i=Object.assign({},n);n.config&&n.config.length?i.config=JSON.stringify(n.config):i.config="","edit"===e.detailDialog.type?e.rowUpdate(i):e.rowSave(i)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,Object(o["a"])(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,Object(o["f"])(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var n=this;switch(this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}this.dialogForm={},["edit","view"].includes(t)&&Object(o["c"])(this.form.id).then((function(e){n.form=e.data.data,n.dialogForm=Object.assign({},e.data.data||{}),n.detailDialog.visible=!0})),this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["d"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},v=m,b=(n("76d3"),n("2877")),y=Object(b["a"])(v,a,i,!1,null,null,null);t["default"]=y.exports},"215f":function(e,t,n){},"216a":function(e,t,n){var a=n("6d8b"),i=n("3842"),r=n("eda2"),o=n("944e"),s=n("89e3"),l=s.prototype,c=Math.ceil,u=Math.floor,d=1e3,p=60*d,h=60*p,f=24*h,g=function(e,t,n,a){while(n<a){var i=n+a>>>1;e[i][1]<t?n=i+1:a=i}return n},m=s.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return r.formatTime(t[0],n,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=f,t[1]+=f),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-f}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;e.fixMin||(t[0]=i.round(u(t[0]/a)*a)),e.fixMax||(t[1]=i.round(c(t[1]/a)*a))},niceTicks:function(e,t,n){e=e||10;var a=this._extent,r=a[1]-a[0],s=r/e;null!=t&&s<t&&(s=t),null!=n&&s>n&&(s=n);var l=v.length,d=g(v,s,0,l),p=v[Math.min(d,l-1)],h=p[1];if("year"===p[0]){var f=r/h,m=i.nice(f/e,!0);h*=m}var b=this.getSetting("useUTC")?0:60*new Date(+a[0]||+a[1]).getTimezoneOffset()*1e3,y=[Math.round(c((a[0]-b)/h)*h+b),Math.round(u((a[1]-b)/h)*h+b)];o.fixExtent(y,a),this._stepLvl=p,this._interval=h,this._niceExtent=y},parse:function(e){return+i.parseDate(e)}});a.each(["contain","normalize"],(function(e){m.prototype[e]=function(t){return l[e].call(this,this.parse(t))}}));var v=[["hh:mm:ss",d],["hh:mm:ss",5*d],["hh:mm:ss",10*d],["hh:mm:ss",15*d],["hh:mm:ss",30*d],["hh:mm\nMM-dd",p],["hh:mm\nMM-dd",5*p],["hh:mm\nMM-dd",10*p],["hh:mm\nMM-dd",15*p],["hh:mm\nMM-dd",30*p],["hh:mm\nMM-dd",h],["hh:mm\nMM-dd",2*h],["hh:mm\nMM-dd",6*h],["hh:mm\nMM-dd",12*h],["MM-dd\nyyyy",f],["MM-dd\nyyyy",2*f],["MM-dd\nyyyy",3*f],["MM-dd\nyyyy",4*f],["MM-dd\nyyyy",5*f],["MM-dd\nyyyy",6*f],["week",7*f],["MM-dd\nyyyy",10*f],["week",14*f],["week",21*f],["month",31*f],["week",42*f],["month",62*f],["week",70*f],["quarter",95*f],["month",31*f*4],["month",31*f*5],["half-year",380*f/2],["month",31*f*8],["month",31*f*10],["year",380*f]];m.create=function(e){return new m({useUTC:e.ecModel.get("useUTC")})};var b=m;e.exports=b},"217b8":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("3301")),r=n("4f85"),o=r.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return i(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});e.exports=o},"218b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"audit-detail",attrs:{title:e.title,"append-to-body":"",top:"5vh",width:"60%",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[n("div",{staticClass:"apply-table-wrap"},[n("div",{staticClass:"b-tip"},[e._v("操作以下接口：")]),n("el-table",{attrs:{data:e.tableData,border:"",stripe:"",size:"mini","max-height":"200"}},[n("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),n("el-table-column",{attrs:{prop:"name",label:"接口名"}})],1)],1),n("el-form",{ref:"auditForm",staticClass:"data-form",attrs:{model:e.auditForm,rules:e.rules,disabled:!e.permissionList.auditBtn,size:"mini","label-width":"100px"}},[n("el-form-item",{attrs:{label:"标题："}},[e._v("\n      "+e._s(e.auditForm.title)+"\n    ")]),n("el-form-item",{attrs:{label:"申请类型："}},[e._v("\n      "+e._s((0===e.auditForm.type?"发布":1===e.auditForm.type&&"下线")||e.auditForm.type||"-")+"\n    ")]),n("el-form-item",{attrs:{label:"申请原因："}},[e._v("\n      "+e._s(e.auditForm.reason)+"\n    ")]),n("el-form-item",{attrs:{label:"申请人："}},[e._v("\n      "+e._s(e.auditForm.applyBy||e.auditForm.createBy)+"\n    ")]),n("el-form-item",{attrs:{label:"申请时间："}},[e._v("\n      "+e._s(e.auditForm.createTime)+"\n    ")]),e.auditPermission?[n("el-form-item",{attrs:{label:"审核结果：",prop:"approvalResult",required:""}},[n("el-radio-group",{model:{value:e.auditForm.approvalResult,callback:function(t){e.$set(e.auditForm,"approvalResult",t)},expression:"auditForm.approvalResult"}},e._l(e.auditState,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),n("el-form-item",{attrs:{label:"审核备注：",prop:"approvalRemark"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"审核备注（选填）"},model:{value:e.auditForm.approvalRemark,callback:function(t){e.$set(e.auditForm,"approvalRemark",t)},expression:"auditForm.approvalRemark"}})],1)]:[n("el-form-item",{attrs:{label:"审核人："}},[e._v("\n        "+e._s(e.auditForm.approvalBy)+"\n      ")]),n("el-form-item",{attrs:{label:"审核结果："}},[2===e.auditForm.approvalResult?n("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("审核通过")]):1===e.auditForm.approvalResult?n("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("审核不通过")]):n("span",[e._v(e._s(e.auditForm.approvalResult))])],1),n("el-form-item",{attrs:{label:"审核备注："}},[e._v("\n        "+e._s(e.auditForm.approvalRemark)+"\n      ")]),n("el-form-item",{attrs:{label:"审核时间："}},[e._v("\n        "+e._s(e.auditForm.approvalTime)+"\n      ")])]],2),e.auditPermission?n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.permissionList.auditBtn?n("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.confirm}},[e._v("审核\n    ")]):e._e(),n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取消")])],1):e._e()],1)},i=[],r=(n("8e6e"),n("456d"),n("ac6a"),n("ade3")),o=(n("c5f6"),n("5880")),s=n("134f"),l=n("cec1");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"apply-detail",data:function(){return{loading:!1,tableData:[],auditForm:{type:"",remark:""}}},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"发布|下线审核"},audit:{type:Boolean,default:!1},id:{type:[String,Number],required:!0},data:{type:Object,required:!0},callback:{type:Function}},computed:u(u({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{auditBtn:this.vaildData(this.permission.aggregate_apply_audit,!1)}},auditState:function(){return l["b"]},auditPermission:function(){return this.permissionList.auditBtn&&this.audit&&0===this.auditForm.status||!1}}),components:{},watch:{data:{immediate:!0,handler:function(){this.init()}}},methods:{confirm:function(){var e=this;if(!this.auditForm.approvalResult)return this.$message.error("请选择审核结果"),!1;var t={};return t.id=this.auditForm.id,t.approvalResult=this.auditForm.approvalResult,t.approvalRemark=this.auditForm.approvalRemark,this.loading=!0,Object(s["a"])(t).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("审核成功"),e.$emit("update:visible",!1),e.loading=!1})).catch((function(){e.loading=!1}))},init:function(){this.auditForm=this.data;var e=[];(this.data.configs||[]).forEach((function(t){e.push(Object.assign({id:t.configId,name:t.configName},t))})),this.tableData=e},handleClose:function(e){this.$emit("update:visible",!1),e&&e()}}},p=d,h=(n("7fc3"),n("5d17"),n("2877")),f=Object(h["a"])(p,a,i,!1,null,"2092a22f",null);t["default"]=f.exports},2190:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"api-detail-response"},[n("data-params",e._b({attrs:{"header-name":"响应头","body-name":"响应体","has-query":!1,data:e.response,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(t){e.response=t}}},"data-params",e.$attrs,!1))],1)},i=[],r=n("942a"),o={name:"api-detail-validate",data:function(){return{response:{}}},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{dataParams:r["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},response:{deep:!0,handler:function(){this.emitData()}}},methods:{emitData:function(){this.$emit("update:data",this.response)},initData:function(e){this.response=e||this.data||{}}}},s=o,l=n("2877"),c=Object(l["a"])(s,a,i,!1,null,"d220a3e4",null);t["default"]=c.exports},2286:function(e,t,n){var a=n("85e3"),i=Math.max;function r(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){var r=arguments,o=-1,s=i(r.length-t,0),l=Array(s);while(++o<s)l[o]=r[t+o];o=-1;var c=Array(t+1);while(++o<t)c[o]=r[o];return c[t]=n(l),a(e,this,c)}}e.exports=r},"22d1":function(e,t){var n={};n="object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"===typeof document&&"undefined"!==typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"===typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:i(navigator.userAgent);var a=n;function i(e){var t={},n={},a=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),r=e.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(e);return a&&(n.firefox=!0,n.version=a[1]),i&&(n.ie=!0,n.version=i[1]),r&&(n.edge=!0,n.version=r[1]),o&&(n.weChat=!0),{browser:n,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!==typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11),domSupported:"undefined"!==typeof document}}e.exports=a},2306:function(e,t,n){var a=n("6d8b"),i=n("342d"),r=n("41ef"),o=n("1687"),s=n("401b"),l=n("cbe5"),c=n("0cde"),u=n("0da8");t.Image=u;var d=n("e1fc");t.Group=d;var p=n("76a5");t.Text=p;var h=n("d9fc");t.Circle=h;var f=n("4aa2");t.Sector=f;var g=n("4573");t.Ring=g;var m=n("87b1");t.Polygon=m;var v=n("d498");t.Polyline=v;var b=n("c7a2");t.Rect=b;var y=n("cb11");t.Line=y;var x=n("ac0f");t.BezierCurve=x;var w=n("8d32");t.Arc=w;var _=n("d4c6");t.CompoundPath=_;var O=n("48a9");t.LinearGradient=O;var D=n("dded");t.RadialGradient=D;var C=n("9850");t.BoundingRect=C;var S=n("392f");t.IncrementalDisplayable=S;var k=n("9cf9"),T=Math.max,P=Math.min,j={},I=1,L={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},M="emphasis",A="normal",E=1,z={},R={};function F(e){return l.extend(e)}function B(e,t){return i.extendFromString(e,t)}function $(e,t){R[e]=t}function q(e){if(R.hasOwnProperty(e))return R[e]}function N(e,t,n,a){var r=i.createFromString(e,t);return n&&("center"===a&&(n=V(n,r.getBoundingRect())),G(r,n)),r}function H(e,t,n){var a=new u({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===n){var i={width:e.width,height:e.height};a.setStyle(V(t,i))}}});return a}function V(e,t){var n,a=t.width/t.height,i=e.height*a;i<=e.width?n=e.height:(i=e.width,n=i/a);var r=e.x+e.width/2,o=e.y+e.height/2;return{x:r-i/2,y:o-n/2,width:i,height:n}}var U=i.mergePath;function G(e,t){if(e.applyTransform){var n=e.getBoundingRect(),a=n.calculateTransform(t);e.applyTransform(a)}}function W(e){return k.subPixelOptimizeLine(e.shape,e.shape,e.style),e}function J(e){return k.subPixelOptimizeRect(e.shape,e.shape,e.style),e}var Y=k.subPixelOptimize;function X(e){return null!=e&&"none"!==e}var Q=a.createHashMap(),K=0;function Z(e){if("string"!==typeof e)return e;var t=Q.get(e);return t||(t=r.lift(e,-.1),K<1e4&&(Q.set(e,t),K++)),t}function ee(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(t){var n=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var a=e.style;for(var i in t)null!=t[i]&&(n[i]=a[i]);n.fill=a.fill,n.stroke=a.stroke}else e.__cachedNormalStl=e.__cachedNormalZ2=null}}function te(e){var t=e.__hoverStl;if(t&&!e.__highlighted){var n=e.__zr,a=e.useHoverLayer&&n&&"canvas"===n.painter.type;if(e.__highlighted=a?"layer":"plain",!(e.isGroup||!n&&e.useHoverLayer)){var i=e,r=e.style;a&&(i=n.addHover(e),r=i.style),De(r),a||ee(i),r.extendFrom(t),ne(r,t,"fill"),ne(r,t,"stroke"),Oe(r),a||(e.dirty(!1),e.z2+=I)}}}function ne(e,t,n){!X(t[n])&&X(e[n])&&(e[n]=Z(e[n]))}function ae(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if("layer"===t)e.__zr&&e.__zr.removeHover(e);else{var n=e.style,a=e.__cachedNormalStl;a&&(De(n),e.setStyle(a),Oe(n));var i=e.__cachedNormalZ2;null!=i&&e.z2-i===I&&(e.z2=i)}}function ie(e,t,n){var a,i=A,r=A;e.__highlighted&&(i=M,a=!0),t(e,n),e.__highlighted&&(r=M,a=!0),e.isGroup&&e.traverse((function(e){!e.isGroup&&t(e,n)})),a&&e.__highDownOnUpdate&&e.__highDownOnUpdate(i,r)}function re(e,t){t=e.__hoverStl=!1!==t&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,ae(e),te(e))}function oe(e){!ue(this,e)&&!this.__highByOuter&&ie(this,te)}function se(e){!ue(this,e)&&!this.__highByOuter&&ie(this,ae)}function le(e){this.__highByOuter|=1<<(e||0),ie(this,te)}function ce(e){!(this.__highByOuter&=~(1<<(e||0)))&&ie(this,ae)}function ue(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function de(e,t){pe(e,!0),ie(e,re,t)}function pe(e,t){var n=!1===t;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!n||e.__highDownDispatcher){var a=n?"off":"on";e[a]("mouseover",oe)[a]("mouseout",se),e[a]("emphasis",le)[a]("normal",ce),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!n}}function he(e){return!(!e||!e.__highDownDispatcher)}function fe(e){var t=z[e];return null==t&&E<=32&&(t=z[e]=E++),t}function ge(e,t,n,i,r,o,s){r=r||j;var l,c=r.labelFetcher,u=r.labelDataIndex,d=r.labelDimIndex,p=r.labelProp,h=n.getShallow("show"),f=i.getShallow("show");(h||f)&&(c&&(l=c.getFormattedLabel(u,"normal",null,d,p)),null==l&&(l=a.isFunction(r.defaultText)?r.defaultText(u,r):r.defaultText));var g=h?l:null,m=f?a.retrieve2(c?c.getFormattedLabel(u,"emphasis",null,d,p):null,l):null;null==g&&null==m||(ve(e,n,o,r),ve(t,i,s,r,!0)),e.text=g,t.text=m}function me(e,t,n){var i=e.style;t&&(De(i),e.setStyle(t),Oe(i)),i=e.__hoverStl,n&&i&&(De(i),a.extend(i,n),Oe(i))}function ve(e,t,n,i,r){return ye(e,t,i,r),n&&a.extend(e,n),e}function be(e,t,n){var a,i={isRectText:!0};!1===n?a=!0:i.autoColor=n,ye(e,t,i,a)}function ye(e,t,n,i){if(n=n||j,n.isRectText){var r;n.getTextPosition?r=n.getTextPosition(t,i):(r=t.getShallow("position")||(i?null:"inside"),"outside"===r&&(r="top")),e.textPosition=r,e.textOffset=t.getShallow("offset");var o=t.getShallow("rotate");null!=o&&(o*=Math.PI/180),e.textRotation=o,e.textDistance=a.retrieve2(t.getShallow("distance"),i?null:5)}var s,l=t.ecModel,c=l&&l.option.textStyle,u=xe(t);if(u)for(var d in s={},u)if(u.hasOwnProperty(d)){var p=t.getModel(["rich",d]);we(s[d]={},p,c,n,i)}return e.rich=s,we(e,t,c,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function xe(e){var t;while(e&&e!==e.ecModel){var n=(e.option||j).rich;if(n)for(var a in t=t||{},n)n.hasOwnProperty(a)&&(t[a]=1);e=e.parentModel}return t}function we(e,t,n,i,r,o){n=!r&&n||j,e.textFill=_e(t.getShallow("color"),i)||n.color,e.textStroke=_e(t.getShallow("textBorderColor"),i)||n.textBorderColor,e.textStrokeWidth=a.retrieve2(t.getShallow("textBorderWidth"),n.textBorderWidth),r||(o&&(e.insideRollbackOpt=i,Oe(e)),null==e.textFill&&(e.textFill=i.autoColor)),e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),o&&i.disableBox||(e.textBackgroundColor=_e(t.getShallow("backgroundColor"),i),e.textPadding=t.getShallow("padding"),e.textBorderColor=_e(t.getShallow("borderColor"),i),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function _e(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function Oe(e){var t,n=e.textPosition,a=e.insideRollbackOpt;if(a&&null==e.textFill){var i=a.autoColor,r=a.isRectText,o=a.useInsideStyle,s=!1!==o&&(!0===o||r&&n&&"string"===typeof n&&n.indexOf("inside")>=0),l=!s&&null!=i;(s||l)&&(t={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),s&&(e.textFill="#fff",null==e.textStroke&&(e.textStroke=i,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),l&&(e.textFill=i)}e.insideRollback=t}function De(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function Ce(e,t){var n=t&&t.getModel("textStyle");return a.trim([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function Se(e,t,n,a,i,r){"function"===typeof i&&(r=i,i=null);var o=a&&a.isAnimationEnabled();if(o){var s=e?"Update":"",l=a.getShallow("animationDuration"+s),c=a.getShallow("animationEasing"+s),u=a.getShallow("animationDelay"+s);"function"===typeof u&&(u=u(i,a.getAnimationDelayParams?a.getAnimationDelayParams(t,i):null)),"function"===typeof l&&(l=l(i)),l>0?t.animateTo(n,l,u||0,c,r,!!r):(t.stopAnimation(),t.attr(n),r&&r())}else t.stopAnimation(),t.attr(n),r&&r()}function ke(e,t,n,a,i){Se(!0,e,t,n,a,i)}function Te(e,t,n,a,i){Se(!1,e,t,n,a,i)}function Pe(e,t){var n=o.identity([]);while(e&&e!==t)o.mul(n,e.getLocalTransform(),n),e=e.parent;return n}function je(e,t,n){return t&&!a.isArrayLike(t)&&(t=c.getLocalTransform(t)),n&&(t=o.invert([],t)),s.applyTransform([],e,t)}function Ie(e,t,n){var a=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),i=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),r=["left"===e?-a:"right"===e?a:0,"top"===e?-i:"bottom"===e?i:0];return r=je(r,t,n),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function Le(e,t,n,i){if(e&&t){var r=o(e);t.traverse((function(e){if(!e.isGroup&&e.anid){var t=r[e.anid];if(t){var a=l(e);e.attr(l(t)),ke(e,a,n,e.dataIndex)}}}))}function o(e){var t={};return e.traverse((function(e){!e.isGroup&&e.anid&&(t[e.anid]=e)})),t}function l(e){var t={position:s.clone(e.position),rotation:e.rotation};return e.shape&&(t.shape=a.extend({},e.shape)),t}}function Me(e,t){return a.map(e,(function(e){var n=e[0];n=T(n,t.x),n=P(n,t.x+t.width);var a=e[1];return a=T(a,t.y),a=P(a,t.y+t.height),[n,a]}))}function Ae(e,t){var n=T(e.x,t.x),a=P(e.x+e.width,t.x+t.width),i=T(e.y,t.y),r=P(e.y+e.height,t.y+t.height);if(a>=n&&r>=i)return{x:n,y:i,width:a-n,height:r-i}}function Ee(e,t,n){t=a.extend({rectHover:!0},t);var i=t.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),a.defaults(i,n),new u(t)):N(e.replace("path://",""),t,n,"center")}function ze(e,t,n,a,i){for(var r=0,o=i[i.length-1];r<i.length;r++){var s=i[r];if(Re(e,t,n,a,s[0],s[1],o[0],o[1]))return!0;o=s}}function Re(e,t,n,a,i,r,o,s){var l=n-e,c=a-t,u=o-i,d=s-r,p=Fe(u,d,l,c);if(Be(p))return!1;var h=e-i,f=t-r,g=Fe(h,f,l,c)/p;if(g<0||g>1)return!1;var m=Fe(h,f,u,d)/p;return!(m<0||m>1)}function Fe(e,t,n,a){return e*a-n*t}function Be(e){return e<=1e-6&&e>=-1e-6}$("circle",h),$("sector",f),$("ring",g),$("polygon",m),$("polyline",v),$("rect",b),$("line",y),$("bezierCurve",x),$("arc",w),t.Z2_EMPHASIS_LIFT=I,t.CACHED_LABEL_STYLE_PROPERTIES=L,t.extendShape=F,t.extendPath=B,t.registerShape=$,t.getShapeClass=q,t.makePath=N,t.makeImage=H,t.mergePath=U,t.resizePath=G,t.subPixelOptimizeLine=W,t.subPixelOptimizeRect=J,t.subPixelOptimize=Y,t.setElementHoverStyle=re,t.setHoverStyle=de,t.setAsHighDownDispatcher=pe,t.isHighDownDispatcher=he,t.getHighlightDigit=fe,t.setLabelStyle=ge,t.modifyLabelStyle=me,t.setTextStyle=ve,t.setText=be,t.getFont=Ce,t.updateProps=ke,t.initProps=Te,t.getTransform=Pe,t.applyTransform=je,t.transformDirection=Ie,t.groupTransition=Le,t.clipPointsByRect=Me,t.clipRectByRect=Ae,t.createIcon=Ee,t.linePolygonIntersect=ze,t.lineLineIntersect=Re},2411:function(e,t,n){var a=n("f909"),i=n("2ec1"),r=i((function(e,t,n,i){a(e,t,n,i)}));e.exports=r},2420:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"api-detail-base"},[n("el-form",{ref:"baseForm",attrs:{model:e.baseForm,rules:e.rules,size:"small",disabled:e.disabled,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"所属服务",prop:"serviceId"}},[n("el-select",{attrs:{placeholder:"请选择所属服务",filterable:""},on:{change:e.getServiceName},model:{value:e.baseForm.serviceId,callback:function(t){e.$set(e.baseForm,"serviceId",t)},expression:"baseForm.serviceId"}},e._l(e.aggregateServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.id}})})),1),!e.disabled&&e.permissionList.serviceAddBtn?n("span",{staticClass:"add-service",on:{click:function(t){return e.goAddService()}}},[e._v("新增服务")]):e._e()],1),n("el-form-item",{attrs:{label:"接口名",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入接口名"},model:{value:e.baseForm.name,callback:function(t){e.$set(e.baseForm,"name",t)},expression:"baseForm.name"}})],1),n("el-form-item",{attrs:{label:"方法",prop:"method"}},[n("el-select",{attrs:{placeholder:"请选择方法"},model:{value:e.baseForm.method,callback:function(t){e.$set(e.baseForm,"method",t)},expression:"baseForm.method"}},e._l(e.apiMethod,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"路径",prop:"path"}},[n("el-input",{attrs:{placeholder:"请输入接口路径（例：/member/getMebInfo"},model:{value:e.baseForm.path,callback:function(t){e.$set(e.baseForm,"path",t)},expression:"baseForm.path"}}),n("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("（例：/member/getMebInfo）")])],1),n("el-form-item",{attrs:{label:"开发人员",prop:"developer"}},[n("el-input",{attrs:{placeholder:"请输入开发人员"},model:{value:e.baseForm.developer,callback:function(t){e.$set(e.baseForm,"developer",t)},expression:"baseForm.developer"}})],1),n("el-form-item",{attrs:{label:"描述",prop:"description"}},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入接口描述"},model:{value:e.baseForm.description,callback:function(t){e.$set(e.baseForm,"description",t)},expression:"baseForm.description"}})],1)],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("ade3")),o=n("5880"),s=n("16cd");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"api-detail-base",data:function(){return{baseForm:{},rules:{serviceId:[{required:!0,message:"请选择所属服务",trigger:"change"}],name:[{required:!0,message:"请输入接口名",trigger:"blur"}],title:[{required:!0,message:"请输入接口中文名",trigger:"blur"}],method:[{required:!0,message:"请选择方法",trigger:"change"}],path:[{required:!0,message:"请输入路径",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"}]}}},props:{data:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},computed:c(c({},Object(o["mapGetters"])(["apiMethod","aggregateServiceOptions","permission"])),{},{permissionList:function(){return{serviceAddBtn:this.vaildData(this.permission.aggregate_service_add,!1)}}}),watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}}},created:function(){this.getAggregateServiceOptions()},methods:c(c({},Object(o["mapActions"])(["getAggregateServiceOptions"])),{},{goAddService:function(){this.$router.push({path:"/aggregate/service",query:{add:1}})},emitData:function(){this.$emit("update:data",Object(s["b"])(this.baseForm))},validateForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"baseForm";this.emitData();var t=!0;return this.$refs[e].validate((function(e){t=e})),t},getServiceName:function(e){e&&(this.baseForm.serviceName=this.aggregateServiceOptions.find((function(t){return t.id===e})).value||"")},initData:function(e){this.baseForm=e||this.data||{id:"",serviceId:"",name:"",title:"",method:"",path:"",developer:"",description:"",serviceName:""}}})},d=u,p=(n("3956"),n("2877")),h=Object(p["a"])(d,a,i,!1,null,"7f062d9e",null);t["default"]=h.exports},"242e":function(e,t,n){var a=n("72af"),i=n("ec69");function r(e,t){return e&&a(e,t,i)}e.exports=r},2457:function(e,t,n){"use strict";t["a"]=[{label:"通用图标",list:["iconfont iconicon_roundadd","iconfont iconicon_compile","iconfont iconicon_glass","iconfont iconicon_roundclose","iconfont iconicon_roundreduce","iconfont iconicon_delete","iconfont iconicon_shakehands","iconfont iconicon_task_done","iconfont iconicon_voipphone","iconfont iconicon_safety","iconfont iconicon_work","iconfont iconicon_study","iconfont iconicon_task","iconfont iconicon_subordinate","iconfont iconicon_star","iconfont iconicon_setting","iconfont iconicon_sms","iconfont iconicon_share","iconfont iconicon_secret","iconfont iconicon_scan_namecard","iconfont iconicon_principal","iconfont iconicon_group","iconfont iconicon_send","iconfont iconicon_scan","iconfont iconicon_search","iconfont iconicon_refresh","iconfont iconicon_savememo","iconfont iconicon_QRcode","iconfont iconicon_im_keyboard","iconfont iconicon_redpacket","iconfont iconicon_photo","iconfont iconicon_qq","iconfont iconicon_wechat","iconfont iconicon_phone","iconfont iconicon_namecard","iconfont iconicon_notice","iconfont iconicon_next_arrow","iconfont iconicon_left","iconfont iconicon_more","iconfont iconicon_details","iconfont iconicon_message","iconfont iconicon_mobilephone","iconfont iconicon_im_voice","iconfont iconicon_GPS","iconfont iconicon_ding","iconfont iconicon_exchange","iconfont iconicon_cspace","iconfont iconicon_doc","iconfont iconicon_dispose","iconfont iconicon_discovery","iconfont iconicon_community_line","iconfont iconicon_cloud_history","iconfont iconicon_coinpurse_line","iconfont iconicon_airplay","iconfont iconicon_at","iconfont iconicon_addressbook","iconfont iconicon_boss","iconfont iconicon_addperson","iconfont iconicon_affiliations_li","iconfont iconicon_addmessage","iconfont iconicon_addresslist","iconfont iconicon_add","iconfont icongithub","iconfont icongitee2"]},{label:"系统图标",list:["iconfont icon-zhongyingwen","iconfont icon-caidan","iconfont icon-rizhi1","iconfont icon-zhuti","iconfont icon-suoping","iconfont icon-bug","iconfont icon-qq1","iconfont icon-weixin1","iconfont icon-shouji","iconfont icon-mima","iconfont icon-yonghu","iconfont icon-yanzhengma","iconfont icon-canshu","iconfont icon-dongtai","iconfont icon-iconset0265","iconfont icon-shujuzhanshi2","iconfont icon-tuichuquanping","iconfont icon-rizhi","iconfont icon-cuowutishitubiao","iconfont icon-debug","iconfont icon-iconset0216","iconfont icon-quanxian","iconfont icon-quanxian","iconfont icon-shuaxin","iconfont icon-bofangqi-suoping","iconfont icon-quanping","iconfont icon-navicon","iconfont icon-biaodan","iconfont icon-liuliangyunpingtaitubiao08","iconfont icon-caidanguanli","iconfont icon-cuowu","iconfont icon-wxbgongju","iconfont icon-tuichu","iconfont icon-daohanglanmoshi02","iconfont icon-changyonglogo27","iconfont icon-biaoge","iconfont icon-baidu1","iconfont icon-tubiao","iconfont icon-souhu","iconfont icon-msnui-360","iconfont icon-iframe","iconfont icon-huanyingye"]}]},2474:function(e,t,n){var a=n("2b3e"),i=a.Uint8Array;e.exports=i},2478:function(e,t,n){var a=n("4245");function i(e){return a(this,e).get(e)}e.exports=i},"247e2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.reload?n("avue-crud",{staticClass:"values-table",attrs:{option:e.option,data:e.formData,"table-loading":e.loading},on:{"row-del":e.rowDel,"row-update":e.addUpdate},scopedSlots:e._u([{key:"key",fn:function(t){return[e.isUpload&&t.row.$cellEdit?n("el-input",{model:{value:t.row.key,callback:function(n){e.$set(t.row,"key",n)},expression:"scope.row.key"}},[n("el-select",{staticClass:"input-with-select",attrs:{slot:"append",placeholder:"请选择"},on:{change:function(e){t.row.value=""}},slot:"append",model:{value:t.row.type,callback:function(n){e.$set(t.row,"type",n)},expression:"scope.row.type"}},[n("el-option",{attrs:{label:"Text",value:"Text"}}),n("el-option",{attrs:{label:"File",value:"File"}})],1)],1):!e.isUpload&&t.row.$cellEdit?n("el-input",{model:{value:t.row.key,callback:function(n){e.$set(t.row,"key",n)},expression:"scope.row.key"}}):n("span",[e._v(e._s(t.row.key))])]}},{key:"value",fn:function(t){var a=t.row;return[n("div",{staticClass:"value-row"},[e.isUpload&&a.$cellEdit&&"File"===a.type?n("div",[n("span",{staticClass:"upload"},[e._v("\n            Select Files\n            "),n("input",{staticClass:"upload-input",attrs:{type:"file",multiple:"multiplt"},on:{change:function(t){return e.getFile(t,a.$index)}}})])]):e._e(),"File"!==a.type&&a.$cellEdit?n("el-input",{staticClass:"value-input",model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"row.value"}}):n("span",[e._v(e._s(a.value))])],1)]}}],null,!1,882964910)}):e._e()],1)},i=[],r=(n("8e6e"),n("456d"),n("ac6a"),n("ade3")),o=(n("7f7f"),n("c54a"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={name:"values-table",props:{data:{type:[Object,Array],default:function(){return[]}},disabled:{type:Boolean,default:!1},isUpload:{type:Boolean,default:!1}},data:function(){return{reload:!1,loading:!1,formData:[],option:{addBtn:!1,editBtn:!1,cancelBtn:!1,refreshBtn:!1,columnBtn:!1,cellBtn:!0,addBtnText:"添加",addRowBtn:!this.disabled,menu:!this.disabled,column:[{label:"字段",prop:"key",cell:!0,slot:!this.disabled,rules:[{required:!0,message:"请输入字段",trigger:"blur"}]},{label:"值",prop:"value",cell:!0,slot:!this.disabled,rules:[{required:!0,message:"请输入字段值或上传文件",trigger:"blur"}]},{label:"类型",prop:"type",hide:!0,value:"Text"},{label:"文件列表",prop:"files",hide:!0}]}}},watch:{data:{immediate:!0,deep:!0,handler:function(){var e=this.data.length>=this.formData.length?this.data:this.formData;this.initData(e)}},disabled:function(e,t){e!==t&&(this.option.addRowBtn=!e,this.option.menu=!e)},isUpload:{immediate:!0,handler:function(){var e=this.data.length>=this.formData.length?this.data:this.formData;this.initData(e),this.emitData()}}},methods:{rowDel:function(e,t){this.formData.splice(t,1),this.emitData()},addUpdate:function(e,t,n,a){a(),n(),this.emitData()},getFile:function(e,t){for(var n=e.target.files,a=[],i=0;i<n.length;i++)a.push(n[i].name);this.formData.splice(t,1,l(l({},this.formData[t]),{},{value:a.join(","),files:n}))},initData:function(e){var t=this;if(this.reload=!1,Object(o["c"])(e,"object")){var n=[];Object.keys(e).forEach((function(t){n.push({key:t,value:e[t]})})),this.formData=n}else{var a=[];e.forEach((function(e){t.isUpload&&!e.type&&(e.type="Text"),(t.isUpload||"File"!==e.type)&&a.push(e)})),this.formData=a}this.reload=!0},handleData:function(){var e=this,t=[];return this.formData.forEach((function(n){var a=e.isUpload?{files:n.files,type:n.type}:{};t.push(l({key:n.key,value:n.value,$cellEdit:n.$cellEdit},a))})),t},emitData:function(){var e=this.handleData();this.$emit("update:data",e)}}},u=c,d=(n("cd67"),n("2877")),p=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=p.exports},2524:function(e,t,n){var a=n("6044"),i="__lodash_hash_undefined__";function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?i:t,this}e.exports=r},"253c":function(e,t,n){var a=n("3729"),i=n("1310"),r="[object Arguments]";function o(e){return i(e)&&a(e)==r}e.exports=o},"25a2":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return Se})),n.d(t,"c",(function(){return De})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return Ce})),n.d(t,"f",(function(){return Be}));var a=Object.freeze({__proto__:null,get start(){return Be},get ensureJQuerySupport(){return he},get setBootstrapMaxTime(){return W},get setMountMaxTime(){return J},get setUnmountMaxTime(){return Y},get setUnloadMaxTime(){return X},get registerApplication(){return Ce},get unregisterApplication(){return ke},get getMountedApps(){return _e},get getAppStatus(){return De},get unloadApplication(){return Te},get checkActivityFunctions(){return Se},get getAppNames(){return Oe},get pathToActiveWhen(){return Ie},get navigateToUrl(){return ie},get triggerAppChange(){return Ee},get addErrorHandler(){return u},get removeErrorHandler(){return d},get mountRootParcel(){return N},get NOT_LOADED(){return f},get LOADING_SOURCE_CODE(){return g},get NOT_BOOTSTRAPPED(){return m},get BOOTSTRAPPING(){return v},get NOT_MOUNTED(){return b},get MOUNTING(){return y},get UPDATING(){return w},get LOAD_ERROR(){return O},get MOUNTED(){return x},get UNMOUNTING(){return _},get SKIP_BECAUSE_BROKEN(){return D}});function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{}).CustomEvent,s=function(){try{var e=new o("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?o:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n},l=[];function c(e,t,n){var a=h(e,t,n);l.length?l.forEach((function(e){return e(a)})):setTimeout((function(){throw a}))}function u(e){if("function"!=typeof e)throw Error(p(28,!1));l.push(e)}function d(e){if("function"!=typeof e)throw Error(p(29,!1));var t=!1;return l=l.filter((function(n){var a=n===e;return t=t||a,!a})),t}function p(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return"single-spa minified message #".concat(e,": ").concat(t?t+" ":"","See https://single-spa.js.org/error/?code=").concat(e).concat(a.length?"&arg=".concat(a.join("&arg=")):"")}function h(e,t,n){var a,i="".concat(P(t)," '").concat(k(t),"' died in status ").concat(t.status,": ");if(e instanceof Error){try{e.message=i+e.message}catch(e){}a=e}else{console.warn(p(30,!1,t.status,k(t)));try{a=Error(i+JSON.stringify(e))}catch(t){a=e}}return a.appOrParcelName=k(t),t.status=n,a}var f="NOT_LOADED",g="LOADING_SOURCE_CODE",m="NOT_BOOTSTRAPPED",v="BOOTSTRAPPING",b="NOT_MOUNTED",y="MOUNTING",x="MOUNTED",w="UPDATING",_="UNMOUNTING",O="LOAD_ERROR",D="SKIP_BECAUSE_BROKEN";function C(e){return e.status===x}function S(e){try{return e.activeWhen(window.location)}catch(i){return c(i,e,D),!1}}function k(e){return e.name}function T(e){return Boolean(e.unmountThisParcel)}function P(e){return T(e)?"parcel":"application"}function j(){for(var e=arguments.length-1;e>0;e--)for(var t in arguments[e])"__proto__"!==t&&(arguments[e-1][t]=arguments[e][t]);return arguments[0]}function I(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}function L(e){return e&&("function"==typeof e||(t=e,Array.isArray(t)&&!I(t,(function(e){return"function"!=typeof e}))));var t}function M(e,t){var n=e[t]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var a=P(e),i=k(e);return function(e){return n.reduce((function(n,r,o){return n.then((function(){var n=r(e);return A(n)?n:Promise.reject(p(15,!1,a,i,t,o))}))}),Promise.resolve())}}function A(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}function E(e,t){return Promise.resolve().then((function(){return e.status!==m?e:(e.status=v,e.bootstrap?Q(e,"bootstrap").then(n).catch((function(n){if(t)throw h(n,e,D);return c(n,e,D),e})):Promise.resolve().then(n))}));function n(){return e.status=b,e}}function z(e,t){return Promise.resolve().then((function(){if(e.status!==x)return e;e.status=_;var n=Object.keys(e.parcels).map((function(t){return e.parcels[t].unmountThisParcel()}));return Promise.all(n).then(a,(function(n){return a().then((function(){var a=Error(n.message);if(t)throw h(a,e,D);c(a,e,D)}))})).then((function(){return e}));function a(){return Q(e,"unmount").then((function(){e.status=b})).catch((function(n){if(t)throw h(n,e,D);c(n,e,D)}))}}))}var R=!1,F=!1;function B(e,t){return Promise.resolve().then((function(){return e.status!==b?e:(R||(window.dispatchEvent(new s("single-spa:before-first-mount")),R=!0),Q(e,"mount").then((function(){return e.status=x,F||(window.dispatchEvent(new s("single-spa:first-mount")),F=!0),e})).catch((function(n){return e.status=x,z(e,!0).then(a,a);function a(){if(t)throw h(n,e,D);return c(n,e,D),e}})))}))}var $=0,q={parcels:{}};function N(){return H.apply(q,arguments)}function H(e,t){var n=this;if(!e||"object"!==i(e)&&"function"!=typeof e)throw Error(p(2,!1));if(e.name&&"string"!=typeof e.name)throw Error(p(3,!1,i(e.name)));if("object"!==i(t))throw Error(p(4,!1,name,i(t)));if(!t.domElement)throw Error(p(5,!1,name));var a,r=$++,o="function"==typeof e,s=o?e:function(){return Promise.resolve(e)},l={id:r,parcels:{},status:o?g:m,customProps:t,parentName:k(n),unmountThisParcel:function(){return v.then((function(){if(l.status!==x)throw Error(p(6,!1,name,l.status));return z(l,!0)})).then((function(e){return l.parentName&&delete n.parcels[l.id],e})).then((function(e){return u(e),e})).catch((function(e){throw l.status=D,d(e),e}))}};n.parcels[r]=l;var c=s();if(!c||"function"!=typeof c.then)throw Error(p(7,!1));var u,d,f=(c=c.then((function(e){if(!e)throw Error(p(8,!1));var t=e.name||"parcel-".concat(r);if(Object.prototype.hasOwnProperty.call(e,"bootstrap")&&!L(e.bootstrap))throw Error(p(9,!1,t));if(!L(e.mount))throw Error(p(10,!1,t));if(!L(e.unmount))throw Error(p(11,!1,t));if(e.update&&!L(e.update))throw Error(p(12,!1,t));var n=M(e,"bootstrap"),i=M(e,"mount"),o=M(e,"unmount");l.status=m,l.name=t,l.bootstrap=n,l.mount=i,l.unmount=o,l.timeouts=K(e.timeouts),e.update&&(l.update=M(e,"update"),a.update=function(e){return l.customProps=e,V(function(e){return Promise.resolve().then((function(){if(e.status!==x)throw Error(p(32,!1,k(e)));return e.status=w,Q(e,"update").then((function(){return e.status=x,e})).catch((function(t){throw h(t,e,D)}))}))}(l))})}))).then((function(){return E(l,!0)})),v=f.then((function(){return B(l,!0)})),y=new Promise((function(e,t){u=e,d=t}));return a={mount:function(){return V(Promise.resolve().then((function(){if(l.status!==b)throw Error(p(13,!1,name,l.status));return n.parcels[r]=l,B(l)})))},unmount:function(){return V(l.unmountThisParcel())},getStatus:function(){return l.status},loadPromise:V(c),bootstrapPromise:V(f),mountPromise:V(v),unmountPromise:V(y)}}function V(e){return e.then((function(){return null}))}function U(e){var t=k(e),n="function"==typeof e.customProps?e.customProps(t,window.location):e.customProps;("object"!==i(n)||null===n||Array.isArray(n))&&(n={},console.warn(p(40,!1),t,n));var r=j({},n,{name:t,mountParcel:H.bind(e),singleSpa:a});return T(e)&&(r.unmountSelf=e.unmountThisParcel),r}var G={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:1e3},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3},update:{millis:3e3,dieOnTimeout:!1,warningMillis:1e3}};function W(e,t,n){if("number"!=typeof e||e<=0)throw Error(p(16,!1));G.bootstrap={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function J(e,t,n){if("number"!=typeof e||e<=0)throw Error(p(17,!1));G.mount={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function Y(e,t,n){if("number"!=typeof e||e<=0)throw Error(p(18,!1));G.unmount={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function X(e,t,n){if("number"!=typeof e||e<=0)throw Error(p(19,!1));G.unload={millis:e,dieOnTimeout:t,warningMillis:n||1e3}}function Q(e,t){var n=e.timeouts[t],a=n.warningMillis,i=P(e);return new Promise((function(r,o){var s=!1,l=!1;e[t](U(e)).then((function(e){s=!0,r(e)})).catch((function(e){s=!0,o(e)})),setTimeout((function(){return u(1)}),a),setTimeout((function(){return u(!0)}),n.millis);var c=p(31,!1,t,i,k(e),n.millis);function u(e){if(!s)if(!0===e)l=!0,n.dieOnTimeout?o(Error(c)):console.error(c);else if(!l){var t=e,i=t*a;console.warn(c),i+a<n.millis&&setTimeout((function(){return u(t+1)}),a)}}}))}function K(e){var t={};for(var n in G)t[n]=j({},G[n],e&&e[n]||{});return t}function Z(e){return Promise.resolve().then((function(){return e.loadPromise?e.loadPromise:e.status!==f&&e.status!==O?e:(e.status=g,e.loadPromise=Promise.resolve().then((function(){var a=e.loadApp(U(e));if(!A(a))throw n=!0,Error(p(33,!1,k(e)));return a.then((function(n){var a;e.loadErrorTime=null,"object"!==i(t=n)&&(a=34),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!L(t.bootstrap)&&(a=35),L(t.mount)||(a=36),L(t.unmount)||(a=37);var r=P(t);if(a){var o;try{o=JSON.stringify(t)}catch(e){}return console.error(p(a,!1,r,k(e),o),t),c(void 0,e,D),e}return t.devtools&&t.devtools.overlays&&(e.devtools.overlays=j({},e.devtools.overlays,t.devtools.overlays)),e.status=m,e.bootstrap=M(t,"bootstrap"),e.mount=M(t,"mount"),e.unmount=M(t,"unmount"),e.unload=M(t,"unload"),e.timeouts=K(t.timeouts),delete e.loadPromise,e}))})).catch((function(t){var a;return delete e.loadPromise,n?a=D:(a=O,e.loadErrorTime=(new Date).getTime()),c(t,e,a),e})));var t,n}))}var ee,te="undefined"!=typeof window,ne={hashchange:[],popstate:[]},ae=["hashchange","popstate"];function ie(e){var t;if("string"==typeof e)t=e;else if(this&&this.href)t=this.href;else{if(!(e&&e.currentTarget&&e.currentTarget.href&&e.preventDefault))throw Error(p(14,!1));t=e.currentTarget.href,e.preventDefault()}var n=de(window.location.href),a=de(t);0===t.indexOf("#")?window.location.hash=a.hash:n.host!==a.host&&a.host?window.location.href=t:a.pathname===n.pathname&&a.search===n.search?window.location.hash=a.hash:window.history.pushState(null,null,t)}function re(e){var t=this;if(e){var n=e[0].type;ae.indexOf(n)>=0&&ne[n].forEach((function(n){try{n.apply(t,e)}catch(e){setTimeout((function(){throw e}))}}))}}function oe(){ze([],arguments)}function se(e,t){return function(){var n=window.location.href,a=e.apply(this,arguments),i=window.location.href;return ee&&n===i||($e()?window.dispatchEvent(le(window.history.state,t)):ze([])),a}}function le(e,t){var n;try{n=new PopStateEvent("popstate",{state:e})}catch(t){(n=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,e)}return n.singleSpa=!0,n.singleSpaTrigger=t,n}if(te){window.addEventListener("hashchange",oe),window.addEventListener("popstate",oe);var ce=window.addEventListener,ue=window.removeEventListener;window.addEventListener=function(e,t){if(!("function"==typeof t&&ae.indexOf(e)>=0)||I(ne[e],(function(e){return e===t})))return ce.apply(this,arguments);ne[e].push(t)},window.removeEventListener=function(e,t){if(!("function"==typeof t&&ae.indexOf(e)>=0))return ue.apply(this,arguments);ne[e]=ne[e].filter((function(e){return e!==t}))},window.history.pushState=se(window.history.pushState,"pushState"),window.history.replaceState=se(window.history.replaceState,"replaceState"),window.singleSpaNavigate?console.warn(p(41,!1)):window.singleSpaNavigate=ie}function de(e){var t=document.createElement("a");return t.href=e,t}var pe=!1;function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(e||window.$&&window.$.fn&&window.$.fn.jquery&&(e=window.$),e&&!pe){var t=e.fn.on,n=e.fn.off;e.fn.on=function(e,n){return fe.call(this,t,window.addEventListener,e,n,arguments)},e.fn.off=function(e,t){return fe.call(this,n,window.removeEventListener,e,t,arguments)},pe=!0}}function fe(e,t,n,a,i){return"string"!=typeof n?e.apply(this,i):(n.split(/\s+/).forEach((function(e){ae.indexOf(e)>=0&&(t(e,a),n=n.replace(e,""))})),""===n.trim()?this:e.apply(this,i))}var ge={};function me(e){return Promise.resolve().then((function(){var t=ge[k(e)];if(!t)return e;if(e.status===f)return ve(e,t),e;if("UNLOADING"===e.status)return t.promise.then((function(){return e}));if(e.status!==b&&e.status!==O)return e;var n=e.status===O?Promise.resolve():Q(e,"unload");return e.status="UNLOADING",n.then((function(){return ve(e,t),e})).catch((function(n){return function(e,t,n){delete ge[k(e)],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,c(n,e,D),t.reject(n)}(e,t,n),e}))}))}function ve(e,t){delete ge[k(e)],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,e.status=f,t.resolve()}function be(e,t,n,a){ge[k(e)]={app:e,resolve:n,reject:a},Object.defineProperty(ge[k(e)],"promise",{get:t})}function ye(e){return ge[e]}var xe=[];function we(){var e=[],t=[],n=[],a=[],i=(new Date).getTime();return xe.forEach((function(r){var o=r.status!==D&&S(r);switch(r.status){case O:o&&i-r.loadErrorTime>=200&&n.push(r);break;case f:case g:o&&n.push(r);break;case m:case b:!o&&ye(k(r))?e.push(r):o&&a.push(r);break;case x:o||t.push(r)}})),{appsToUnload:e,appsToUnmount:t,appsToLoad:n,appsToMount:a}}function _e(){return xe.filter(C).map(k)}function Oe(){return xe.map(k)}function De(e){var t=I(xe,(function(t){return k(t)===e}));return t?t.status:null}function Ce(e,t,n,a){var r=function(e,t,n,a){var r,o={name:null,loadApp:null,activeWhen:null,customProps:null};return"object"===i(e)?(function(e){if(Array.isArray(e)||null===e)throw Error(p(39,!1));var t=["name","app","activeWhen","customProps"],n=Object.keys(e).reduce((function(e,n){return t.indexOf(n)>=0?e:e.concat(n)}),[]);if(0!==n.length)throw Error(p(38,!1,t.join(", "),n.join(", ")));if("string"!=typeof e.name||0===e.name.length)throw Error(p(20,!1));if("object"!==i(e.app)&&"function"!=typeof e.app)throw Error(p(20,!1));var a=function(e){return"string"==typeof e||"function"==typeof e};if(!(a(e.activeWhen)||Array.isArray(e.activeWhen)&&e.activeWhen.every(a)))throw Error(p(24,!1));if(!je(e.customProps))throw Error(p(22,!1))}(e),o.name=e.name,o.loadApp=e.app,o.activeWhen=e.activeWhen,o.customProps=e.customProps):(function(e,t,n,a){if("string"!=typeof e||0===e.length)throw Error(p(20,!1));if(!t)throw Error(p(23,!1));if("function"!=typeof n)throw Error(p(24,!1));if(!je(a))throw Error(p(22,!1))}(e,t,n,a),o.name=e,o.loadApp=t,o.activeWhen=n,o.customProps=a),o.loadApp="function"!=typeof(r=o.loadApp)?function(){return Promise.resolve(r)}:r,o.customProps=function(e){return e||{}}(o.customProps),o.activeWhen=function(e){var t=Array.isArray(e)?e:[e];return t=t.map((function(e){return"function"==typeof e?e:Ie(e)})),function(e){return t.some((function(t){return t(e)}))}}(o.activeWhen),o}(e,t,n,a);if(-1!==Oe().indexOf(r.name))throw Error(p(21,!1,r.name));xe.push(j({loadErrorTime:null,status:f,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},r)),te&&(he(),ze())}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;return xe.filter((function(t){return t.activeWhen(e)})).map(k)}function ke(e){if(0===xe.filter((function(t){return k(t)===e})).length)throw Error(p(25,!1,e));return Te(e).then((function(){var t=xe.map(k).indexOf(e);xe.splice(t,1)}))}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof e)throw Error(p(26,!1));var n=I(xe,(function(t){return k(t)===e}));if(!n)throw Error(p(27,!1,e));var a,i=ye(k(n));if(t&&t.waitForUnmount){if(i)return i.promise;var r=new Promise((function(e,t){be(n,(function(){return r}),e,t)}));return r}return i?(a=i.promise,Pe(n,i.resolve,i.reject)):a=new Promise((function(e,t){be(n,(function(){return a}),e,t),Pe(n,e,t)})),a}function Pe(e,t,n){z(e).then(me).then((function(){t(),setTimeout((function(){ze()}))})).catch(n)}function je(e){return!e||"function"==typeof e||"object"===i(e)&&null!==e&&!Array.isArray(e)}function Ie(e,t){var n=function(e,t){var n=0,a=!1,i="^";"/"!==e[0]&&(e="/"+e);for(var r=0;r<e.length;r++){var o=e[r];(!a&&":"===o||a&&"/"===o)&&s(r)}return s(e.length),new RegExp(i,"i");function s(r){var o=e.slice(n,r).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(i+=a?"[^/]+/?":o,r===e.length)if(a)t&&(i+="$");else{var s=t?"":".*";i="/"===i.charAt(i.length-1)?"".concat(i).concat(s,"$"):"".concat(i,"(/").concat(s,")?(#.*)?$")}a=!a,n=r}}(e,t);return function(e){var t=e.origin;t||(t="".concat(e.protocol,"//").concat(e.host));var a=e.href.replace(t,"").replace(e.search,"").split("?")[0];return n.test(a)}}var Le=!1,Me=[],Ae=te&&window.location.href;function Ee(){return ze()}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(Le)return new Promise((function(e,n){Me.push({resolve:e,reject:n,eventArguments:t})}));var n,a=we(),i=a.appsToUnload,o=a.appsToUnmount,l=a.appsToLoad,c=a.appsToMount,u=!1,d=Ae,p=Ae=window.location.href;return $e()?(Le=!0,n=i.concat(l,o,c),m()):(n=l,g());function h(){u=!0}function g(){return Promise.resolve().then((function(){var e=l.map(Z);return Promise.all(e).then(y).then((function(){return[]})).catch((function(e){throw y(),e}))}))}function m(){return Promise.resolve().then((function(){if(window.dispatchEvent(new s(0===n.length?"single-spa:before-no-app-change":"single-spa:before-app-change",w(!0))),window.dispatchEvent(new s("single-spa:before-routing-event",w(!0,{cancelNavigation:h}))),u)return window.dispatchEvent(new s("single-spa:before-mount-routing-event",w(!0))),v(),void ie(d);var t=i.map(me),a=o.map(z).map((function(e){return e.then(me)})).concat(t),r=Promise.all(a);r.then((function(){window.dispatchEvent(new s("single-spa:before-mount-routing-event",w(!0)))}));var p=l.map((function(e){return Z(e).then((function(e){return Re(e,r)}))})),f=c.filter((function(e){return l.indexOf(e)<0})).map((function(e){return Re(e,r)}));return r.catch((function(e){throw y(),e})).then((function(){return y(),Promise.all(p.concat(f)).catch((function(t){throw e.forEach((function(e){return e.reject(t)})),t})).then(v)}))}))}function v(){var t=_e();e.forEach((function(e){return e.resolve(t)}));try{var a=0===n.length?"single-spa:no-app-change":"single-spa:app-change";window.dispatchEvent(new s(a,w())),window.dispatchEvent(new s("single-spa:routing-event",w()))}catch(e){setTimeout((function(){throw e}))}if(Le=!1,Me.length>0){var i=Me;Me=[],ze(i)}return t}function y(){e.forEach((function(e){re(e.eventArguments)})),re(t)}function w(){var e,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1?arguments[1]:void 0,h={},g=(r(e={},x,[]),r(e,b,[]),r(e,f,[]),r(e,D,[]),e);a?(l.concat(c).forEach((function(e,t){v(e,x)})),i.forEach((function(e){v(e,f)})),o.forEach((function(e){v(e,b)}))):n.forEach((function(e){v(e)}));var m={detail:{newAppStatuses:h,appsByNewStatus:g,totalAppChanges:n.length,originalEvent:null==t?void 0:t[0],oldUrl:d,newUrl:p,navigationIsCanceled:u}};return s&&j(m.detail,s),m;function v(e,t){var n=k(e);t=t||De(n),h[n]=t,(g[t]=g[t]||[]).push(n)}}}function Re(e,t){return S(e)?E(e).then((function(e){return t.then((function(){return S(e)?B(e):e}))})):t.then((function(){return e}))}var Fe=!1;function Be(e){var t;Fe=!0,e&&e.urlRerouteOnly&&(t=e.urlRerouteOnly,ee=t),te&&ze()}function $e(){return Fe}te&&setTimeout((function(){Fe||console.warn(p(1,!1))}),5e3);var qe={getRawAppData:function(){return[].concat(xe)},reroute:ze,NOT_LOADED:f,toLoadPromise:Z,toBootstrapPromise:E,unregisterApplication:ke};te&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=qe)}).call(this,n("c8ba"))},2627:function(e,t,n){},"26e1":function(e,t,n){var a=n("6d8b"),i=n("e0d3"),r=a.each,o=a.isObject,s=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function l(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=s.length;n<i;n++){var r=s[n],o=t.normal,l=t.emphasis;o&&o[r]&&(e[r]=e[r]||{},e[r].normal?a.merge(e[r].normal,o[r]):e[r].normal=o[r],o[r]=null),l&&l[r]&&(e[r]=e[r]||{},e[r].emphasis?a.merge(e[r].emphasis,l[r]):e[r].emphasis=l[r],l[r]=null)}}function c(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,r=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,a.defaults(e[t],i)):e[t]=i),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r)}}function u(e){c(e,"itemStyle"),c(e,"lineStyle"),c(e,"areaStyle"),c(e,"label"),c(e,"labelLine"),c(e,"upperLabel"),c(e,"edgeLabel")}function d(e,t){var n=o(e)&&e[t],a=o(n)&&n.textStyle;if(a)for(var r=0,s=i.TEXT_STYLE_OPTIONS.length;r<s;r++){t=i.TEXT_STYLE_OPTIONS[r];a.hasOwnProperty(t)&&(n[t]=a[t])}}function p(e){e&&(u(e),d(e,"label"),e.emphasis&&d(e.emphasis,"label"))}function h(e){if(o(e)){l(e),u(e),d(e,"label"),d(e,"upperLabel"),d(e,"edgeLabel"),e.emphasis&&(d(e.emphasis,"label"),d(e.emphasis,"upperLabel"),d(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(l(t),p(t));var n=e.markLine;n&&(l(n),p(n));var i=e.markArea;i&&p(i);var r=e.data;if("graph"===e.type){r=r||e.nodes;var s=e.links||e.edges;if(s&&!a.isTypedArray(s))for(var h=0;h<s.length;h++)p(s[h]);a.each(e.categories,(function(e){u(e)}))}if(r&&!a.isTypedArray(r))for(h=0;h<r.length;h++)p(r[h]);t=e.markPoint;if(t&&t.data){var f=t.data;for(h=0;h<f.length;h++)p(f[h])}n=e.markLine;if(n&&n.data){var g=n.data;for(h=0;h<g.length;h++)a.isArray(g[h])?(p(g[h][0]),p(g[h][1])):p(g[h])}"gauge"===e.type?(d(e,"axisLabel"),d(e,"title"),d(e,"detail")):"treemap"===e.type?(c(e.breadcrumb,"itemStyle"),a.each(e.levels,(function(e){u(e)}))):"tree"===e.type&&u(e.leaves)}}function f(e){return a.isArray(e)?e:e?[e]:[]}function g(e){return(a.isArray(e)?e[0]:e)||{}}function m(e,t){r(f(e.series),(function(e){o(e)&&h(e)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),r(n,(function(t){r(f(e[t]),(function(e){e&&(d(e,"axisLabel"),d(e.axisPointer,"label"))}))})),r(f(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;d(t,"axisLabel"),d(t&&t.axisPointer,"label")})),r(f(e.calendar),(function(e){c(e,"itemStyle"),d(e,"dayLabel"),d(e,"monthLabel"),d(e,"yearLabel")})),r(f(e.radar),(function(e){d(e,"name")})),r(f(e.geo),(function(e){o(e)&&(p(e),r(f(e.regions),(function(e){p(e)})))})),r(f(e.timeline),(function(e){p(e),c(e,"label"),c(e,"itemStyle"),c(e,"controlStyle",!0);var t=e.data;a.isArray(t)&&a.each(t,(function(e){a.isObject(e)&&(c(e,"label"),c(e,"itemStyle"))}))})),r(f(e.toolbox),(function(e){c(e,"iconStyle"),r(e.feature,(function(e){c(e,"iconStyle")}))})),d(g(e.axisPointer),"label"),d(g(e.tooltip).axisPointer,"label")}e.exports=m},"278c":function(e,t,n){var a=n("c135"),i=n("9b42"),r=n("6613"),o=n("c240");function s(e,t){return a(e)||i(e,t)||r(e,t)||o()}e.exports=s,e.exports["default"]=e.exports,e.exports.__esModule=!0},"282b":function(e,t,n){var a=n("6d8b");function i(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(t,n,i){for(var r={},o=0;o<e.length;o++){var s=e[o][1];if(!(n&&a.indexOf(n,s)>=0||i&&a.indexOf(i,s)<0)){var l=t.getShallow(s);null!=l&&(r[e[o][0]]=l)}}return r}}e.exports=i},"28c9":function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},"29a8":function(e,t){var n={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};e.exports=n},"29a9":function(e,t,n){var a=n("3eba"),i=n("b336");n("bc5f"),n("ab05"),n("06ea"),n("004f"),n("d6ef"),a.registerPreprocessor(i)},"29e1":function(e,t,n){},"2b17":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=(i.isTypedArray,i.extend),o=(i.assert,i.each),s=i.isObject,l=n("e0d3"),c=l.getDataItemValue,u=l.isDataItemOption,d=n("3842"),p=d.parseDate,h=n("ec6f"),f=n("93d0"),g=f.SOURCE_FORMAT_TYPED_ARRAY,m=f.SOURCE_FORMAT_ARRAY_ROWS,v=f.SOURCE_FORMAT_ORIGINAL,b=f.SOURCE_FORMAT_OBJECT_ROWS;function y(e,t){h.isInstance(e)||(e=h.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,a=e.sourceFormat;a===g&&(this._offset=0,this._dimSize=t,this._data=n);var i=w[a===m?a+"_"+e.seriesLayoutBy:a];r(this,i)}var x=y.prototype;x.pure=!1,x.persistent=!0,x.getSource=function(){return this._source};var w={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:D},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,a=0;a<n.length;a++){var i=n[a];t.push(i?i[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:_,getItem:O,appendData:D},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,a=0;a<n.length;a++){var i=this._data[n[a].name];t.push(i?i[e]:null)}return t},appendData:function(e){var t=this._data;o(e,(function(e,n){for(var a=t[n]||(t[n]=[]),i=0;i<(e||[]).length;i++)a.push(e[i])}))}},original:{count:_,getItem:O,appendData:D},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e-=this._offset,t=t||[];for(var n=this._dimSize*e,a=0;a<this._dimSize;a++)t[a]=this._data[n+a];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function _(){return this._data.length}function O(e){return this._data[e]}function D(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var C={arrayRows:S,objectRows:function(e,t,n,a){return null!=n?e[a]:e},keyedColumns:S,original:function(e,t,n,a){var i=c(e);return null!=n&&i instanceof Array?i[n]:i},typedArray:S};function S(e,t,n,a){return null!=n?e[n]:e}var k={arrayRows:T,objectRows:function(e,t,n,a){return P(e[t],this._dimensionInfos[t])},keyedColumns:T,original:function(e,t,n,a){var i=e&&(null==e.value?e:e.value);return!this._rawData.pure&&u(e)&&(this.hasItemOption=!0),P(i instanceof Array?i[a]:i,this._dimensionInfos[t])},typedArray:function(e,t,n,a){return e[a]}};function T(e,t,n,a){return P(e[a],this._dimensionInfos[t])}function P(e,t){var n=t&&t.type;if("ordinal"===n){var a=t&&t.ordinalMeta;return a?a.parseAndCollect(e):e}return"time"===n&&"number"!==typeof e&&null!=e&&"-"!==e&&(e=+p(e)),null==e||""===e?NaN:+e}function j(e,t,n){if(e){var a=e.getRawDataItem(t);if(null!=a){var i,r,o=e.getProvider().getSource().sourceFormat,s=e.getDimensionInfo(n);return s&&(i=s.name,r=s.index),C[o](a,t,r,i)}}}function I(e,t,n){if(e){var a=e.getProvider().getSource().sourceFormat;if(a===v||a===b){var i=e.getRawDataItem(t);return a!==v||s(i)||(i=null),i?i[n]:void 0}}}t.DefaultDataProvider=y,t.defaultDimValueGetters=k,t.retrieveRawValue=j,t.retrieveRawAttr=I},"2b3f":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config-history/aggregateconfighistory/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config-history/aggregateconfighistory/detail"),method:"get",params:{id:e}})},u=function(e){var t=e.id,n=e.remark;return Object(i["a"])({url:"".concat(r["a"],"/aggregate/rollbackSpecific"),method:"post",params:{id:t,remark:n}})}},"2b61":function(e,t,n){var a=n("7d6d"),i=n("82eb"),r=i.ContextCachedBy,o=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],s=function(e){this.extendFrom(e,!1)};function l(e,t,n){var a=null==t.x?0:t.x,i=null==t.x2?1:t.x2,r=null==t.y?0:t.y,o=null==t.y2?0:t.y2;t.global||(a=a*n.width+n.x,i=i*n.width+n.x,r=r*n.height+n.y,o=o*n.height+n.y),a=isNaN(a)?0:a,i=isNaN(i)?1:i,r=isNaN(r)?0:r,o=isNaN(o)?0:o;var s=e.createLinearGradient(a,r,i,o);return s}function c(e,t,n){var a=n.width,i=n.height,r=Math.min(a,i),o=null==t.x?.5:t.x,s=null==t.y?.5:t.y,l=null==t.r?.5:t.r;t.global||(o=o*a+n.x,s=s*i+n.y,l*=r);var c=e.createRadialGradient(o,s,0,o,s,l);return c}s.prototype={constructor:s,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){var i=this,s=n&&n.style,l=!s||e.__attrCachedBy!==r.STYLE_BIND;e.__attrCachedBy=r.STYLE_BIND;for(var c=0;c<o.length;c++){var u=o[c],d=u[0];(l||i[d]!==s[d])&&(e[d]=a(e,d,i[d]||u[1]))}if((l||i.fill!==s.fill)&&(e.fillStyle=i.fill),(l||i.stroke!==s.stroke)&&(e.strokeStyle=i.stroke),(l||i.opacity!==s.opacity)&&(e.globalAlpha=null==i.opacity?1:i.opacity),(l||i.blend!==s.blend)&&(e.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()){var p=i.lineWidth;e.lineWidth=p/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||!0!==t&&(!1===t?this.hasOwnProperty(n):null==e[n])||(this[n]=e[n])},set:function(e,t){"string"===typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var a="radial"===t.type?c:l,i=a(e,t,n),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}};for(var u=s.prototype,d=0;d<o.length;d++){var p=o[d];p[0]in u||(u[p[0]]=p[1])}s.getGradient=u.getGradient;var h=s;e.exports=h},"2b8c":function(e,t,n){var a=n("6d8b"),i=n("5f14"),r=a.each;function o(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function s(e,t,n){var o={};return r(t,(function(t){var l=o[t]=s();r(e[t],(function(e,r){if(i.isValidType(r)){var o={type:r,visual:e};n&&n(o,t),l[r]=new i(o),"opacity"===r&&(o=a.clone(o),o.type="colorAlpha",l.__hidden.__alphaForOpacity=new i(o))}}))})),o;function s(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function l(e,t,n){var i;a.each(n,(function(e){t.hasOwnProperty(e)&&o(t[e])&&(i=!0)})),i&&a.each(n,(function(n){t.hasOwnProperty(n)&&o(t[n])?e[n]=a.clone(t[n]):delete e[n]}))}function c(e,t,n,r,o,s){var l,c={};function u(e){return n.getItemVisual(l,e)}function d(e,t){n.setItemVisual(l,e,t)}function p(e,a){l=null==s?e:a;var i=n.getRawDataItem(l);if(!i||!1!==i.visualMap)for(var p=r.call(o,e),h=t[p],f=c[p],g=0,m=f.length;g<m;g++){var v=f[g];h[v]&&h[v].applyVisual(e,u,d)}}a.each(e,(function(e){var n=i.prepareVisualTypes(t[e]);c[e]=n})),null==s?n.each(p):n.each([s],p)}function u(e,t,n,r){var o={};function s(e,a){function i(e){return a.getItemVisual(l,e)}function s(e,t){a.setItemVisual(l,e,t)}var l;null!=r&&(r=a.getDimension(r));while(null!=(l=e.next())){var c=a.getRawDataItem(l);if(!c||!1!==c.visualMap)for(var u=null!=r?a.get(r,l,!0):l,d=n(u),p=t[d],h=o[d],f=0,g=h.length;f<g;f++){var m=h[f];p[m]&&p[m].applyVisual(u,i,s)}}}return a.each(e,(function(e){var n=i.prepareVisualTypes(t[e]);o[e]=n})),{progress:s}}t.createVisualMappings=s,t.replaceVisualOption=l,t.applyVisual=c,t.incrementalApplyVisual=u},"2cf4":function(e,t){var n=1;"undefined"!==typeof window&&(n=Math.max(window.devicePixelRatio||1,1));var a=0,i=n;t.debugMode=a,t.devicePixelRatio=i},"2d7c":function(e,t){function n(e,t){var n=-1,a=null==e?0:e.length,i=0,r=[];while(++n<a){var o=e[n];t(o,n,e)&&(r[i++]=o)}return r}e.exports=n},"2d92":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"路径测试","append-to-body":"",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[n("el-form",{attrs:{size:"small","label-width":"160px"}},[n("el-form-item",{staticStyle:{color:"#999"},attrs:{label:"前端API路径："}},[e._v("\n      "+e._s(e.frontendPath)+"\n    ")]),n("el-form-item",{staticStyle:{color:"#999"},attrs:{label:"后端API路径："}},[e._v("\n      "+e._s(e.backendPath)+"\n    ")]),n("el-form-item",{attrs:{label:"API路径："}},[n("el-input",{staticStyle:{width:"78%","margin-right":"10px"},attrs:{placeholder:"请输入应用名",clearable:""},model:{value:e.reqPath,callback:function(t){e.reqPath=t},expression:"reqPath"}}),n("el-button",{attrs:{type:"primary",size:"small",loading:e.loading,disabled:!e.reqPath},on:{click:e.checkPath}},[e._v("\n        测试\n      ")])],1),n("el-divider"),n("el-form-item",{attrs:{label:"匹配结果："}},[!0===e.response.match?n("span",{staticClass:"color-success"},[e._v("匹配通过")]):!1===e.response.match?n("span",{staticClass:"color-danger"},[e._v("匹配不通过")]):e._e()]),n("el-form-item",{attrs:{label:"后端API路径转换结果："}},[e._v("\n      "+e._s(e.response.result)+"\n    ")]),n("el-form-item",{attrs:{label:"变量："}},e._l(e.response.variables,(function(t,a){return n("div",{key:a},[e._v("\n        "+e._s(a)+": "+e._s(t)+"\n      ")])})),0)],1)],1)},i=[],r=n("3bfd"),o={name:"test-path",data:function(){return{loading:!1,reqPath:"/",response:{}}},props:{visible:{type:Boolean,default:!1},frontendPath:{type:String,required:!0},backendPath:{type:String,required:!0}},watch:{visible:function(e){e||(this.response={})},reqPath:function(e){e||(this.response={})}},methods:{checkPath:function(){var e=this;return this.loading=!0,Object(r["h"])({backendPath:this.backendPath,frontendPath:this.frontendPath,reqPath:this.reqPath}).then((function(t){e.response=t.data.data||{}})).finally((function(){e.loading=!1}))},handleClose:function(e){this.$emit("update:visible",!1),e&&e()}}},s=o,l=(n("379d"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"440134e0",null);t["default"]=c.exports},"2d9f":function(e,t,n){},"2dcb":function(e,t,n){var a=n("91e9"),i=a(Object.getPrototypeOf,Object);e.exports=i},"2ec1":function(e,t,n){var a=n("100e"),i=n("9aff");function r(e){return a((function(t,n){var a=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&i(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);while(++a<r){var l=n[a];l&&e(t,l,a,o)}return t}))}e.exports=r},"2f45":function(e,t,n){var a=n("6d8b"),i=a.each,r=a.createHashMap,o=(a.assert,n("4e08")),s=(o.__DEV__,r(["tooltip","label","itemName","itemId","seriesName"]));function l(e){var t={},n=t.encode={},a=r(),o=[],l=[],u=t.userOutput={dimensionNames:e.dimensions.slice(),encode:{}};i(e.dimensions,(function(t){var i=e.getDimensionInfo(t),r=i.coordDim;if(r){var p=i.coordDimIndex;c(n,r)[p]=t,i.isExtraCoord||(a.set(r,1),d(i.type)&&(o[0]=t),c(u.encode,r)[p]=i.index),i.defaultTooltip&&l.push(t)}s.each((function(e,t){var a=c(n,t),r=i.otherDims[t];null!=r&&!1!==r&&(a[r]=i.name)}))}));var p=[],h={};a.each((function(e,t){var a=n[t];h[t]=a[0],p=p.concat(a)})),t.dataDimsOnCoord=p,t.encodeFirstDimNotExtra=h;var f=n.label;f&&f.length&&(o=f.slice());var g=n.tooltip;return g&&g.length?l=g.slice():l.length||(l=o.slice()),n.defaultedLabel=o,n.defaultedTooltip=l,t}function c(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function u(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function d(e){return!("ordinal"===e||"time"===e)}t.OTHER_DIMENSIONS=s,t.summarizeDimensions=l,t.getDimensionTypeByAxis=u},"2fa9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.title,"append-to-body":"",visible:e.visible,"before-close":e.handleClose,width:"900px"},on:{"update:visible":function(t){e.visible=t}}},[n("div",{staticClass:"tips-area"},[n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openTipsDialog("common")}}},[e._v("common.js")]),n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openTipsDialog("context")}}},[e._v("context.js")])],1),n("el-form",{ref:"scriptForm",attrs:{model:e.scriptForm,"label-width":"80px",size:"small"}},[n("el-form-item",{attrs:{label:"脚本类型",required:""}},[n("el-select",{attrs:{placeholder:"请选择脚本类型",disabled:e.disabled||e.type},on:{change:e.changeType},model:{value:e.script.type,callback:function(t){e.$set(e.script,"type",t)},expression:"script.type"}},e._l(e.apiScriptType,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("el-alert",{directives:[{name:"show",rawName:"v-show",value:"javascript"===e.script.type,expression:"script.type === 'javascript'"}],staticClass:"warn-msg",attrs:{closable:!1,type:"warning","show-icon":"",title:"注意：只支持 ES5 语法，不支持ES6及以上语法"}})],1),n("el-form-item",{attrs:{label:"脚本内容",required:""}},[n("code-editor",{attrs:{height:e.editorHeight,content:e.script.source},on:{"update:content":function(t){return e.$set(e.script,"source",t)},change:e.changeCode}})],1),e.disabled?e._e():n("el-form-item",{staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFn()}}},[e._v("确定")]),e.id?n("el-button",{on:{click:function(t){return e.deleteFn()}}},[e._v("删除")]):e._e()],1)],1),n("el-dialog",{attrs:{width:"600px",title:e.tipsDialog.title,visible:e.tipsDialog.visible,"append-to-body":""},on:{"update:visible":function(t){return e.$set(e.tipsDialog,"visible",t)}}},[n("code-highlight",{attrs:{height:e.editorHeight,code:e.tipsDialog.content}})],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=(n("c5f6"),n("5880")),s=n("c735"),l=n("9470"),c=n("d480"),u={commonJS:"/**\r\n * context 上下文便捷操作函数\r\n *\r\n */\r\n var common = {\r\n  /* *********** private function begin *********** */\r\n\r\n  /**\r\n   * 获取上下文中客户端请求对象\r\n   * @param {*} ctx 上下文 【必填】\r\n   */\r\n  getInputReq: function (ctx){\r\n      if(!ctx || !ctx['input'] || !ctx['input']['request']){\r\n          return {};\r\n      }\r\n      return ctx['input']['request']\r\n  },\r\n\r\n  /**\r\n   * 获取上下文步骤中请求接口的请求对象\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名称 【必填】\r\n   * @param {*} requestName 请求名称 【必填】\r\n   */\r\n  getStepReq: function (ctx, stepName, requestName){\r\n      if(!ctx || !stepName || !requestName){\r\n          return {};\r\n      }\r\n      if(!ctx[stepName] || !ctx[stepName]['requests'] || !ctx[stepName]['requests'][requestName] ||\r\n          !ctx[stepName]['requests'][requestName]['request']){\r\n          return {};\r\n      }\r\n      return ctx[stepName]['requests'][requestName]['request'];\r\n  },\r\n\r\n  /**\r\n   * 获取上下文步骤中请求接口的响应对象\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名称 【必填】\r\n   * @param {*} requestName 请求名称 【必填】\r\n   */\r\n  getStepResp: function (ctx, stepName, requestName){\r\n      if(!ctx || !stepName || !requestName){\r\n          return {};\r\n      }\r\n      if(!ctx[stepName] || !ctx[stepName]['requests'] || !ctx[stepName]['requests'][requestName] ||\r\n          !ctx[stepName]['requests'][requestName]['response']){\r\n          return {};\r\n      }\r\n      return ctx[stepName]['requests'][requestName]['response'];\r\n  },\r\n\r\n  /* *********** private function end *********** */\r\n\r\n  /* *********** input begin ************ */\r\n\r\n  /**\r\n   * 获取客户端请求头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} headerName 请求头字段名 【选填】，不传时返回所有请求头\r\n   */\r\n  getInputReqHeader: function (ctx, headerName){\r\n      var req = this.getInputReq(ctx);\r\n      var headers = req['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取客户端URL请求参数（query string）\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} paramName URL参数名 【选填】，不传时返回所有请求参数\r\n   */\r\n  getInputReqParam: function (ctx, paramName){\r\n      var req = this.getInputReq(ctx);\r\n      var params = req['params'] || {};\r\n      return paramName ? params[paramName] : params;\r\n  },\r\n\r\n  /**\r\n   * 获取客户端请求体\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个请求体\r\n   */\r\n  getInputReqBody: function (ctx, field){\r\n      var req = this.getInputReq(ctx);\r\n      var body = req['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /**\r\n   * 获取返回给客户端的响应头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} headerName 响应头字段名 【选填】，不传时返回所有响应头\r\n   */\r\n  getInputRespHeader: function (ctx, headerName){\r\n      var req = this.getInputReq(ctx);\r\n      var headers = req['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取返回给客户端的响应体\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个响应体\r\n   */\r\n  getInputRespBody: function (ctx, field){\r\n      var req = this.getInputReq(ctx);\r\n      var body = req['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /* *********** input begin ************ */\r\n\r\n  /* *********** step request begin ************ */\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的请求头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} headerName 请求头字段名 【选填】，不传时返回所有请求头\r\n   */\r\n  getStepReqHeader: function (ctx, stepName, requestName, headerName){\r\n      var req = this.getStepReq(ctx, stepName, requestName);\r\n      var headers = req['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的URL参数\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} paramName URL参数名 【选填】，不传时返回所有URL参数\r\n   */\r\n  getStepReqParam: function (ctx, stepName, requestName, paramName){\r\n      var req = this.getStepReq(ctx, stepName, requestName);\r\n      var params = req['params'] || {};\r\n      return paramName ? params[paramName] : params;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的请求体\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个请求体\r\n   */\r\n  getStepReqBody: function (ctx, stepName, requestName, field){\r\n      var req = this.getStepReq(ctx, stepName, requestName);\r\n      var body = req['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的响应头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} headerName 响应头字段名 【选填】，不传时返回所有响应头\r\n   */\r\n  getStepRespHeader: function (ctx, stepName, requestName, headerName){\r\n      var resp = this.getStepResp(ctx, stepName, requestName);\r\n      var headers = resp['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的响应头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个响应头\r\n   */\r\n  getStepRespBody: function (ctx, stepName, requestName, field){\r\n      var resp = this.getStepResp(ctx, stepName, requestName);\r\n      var body = resp['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤结果\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个步骤结果对象\r\n   */\r\n  getStepResult: function (ctx, stepName, field){\r\n      if(!ctx || !stepName || !ctx[stepName]){\r\n          return {};\r\n      }\r\n      var result = ctx[stepName]['result'] || {};\r\n      return field ? result[field] : result;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤循环结果\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   */\r\n  getStepCircle: function (ctx, stepName){\r\n      if(!ctx || !stepName || !ctx[stepName]){\r\n          return null;\r\n      }\r\n      // 返回循环结果数组\r\n      return ctx[stepName]['circle'];\r\n  },\r\n\r\n  /**\r\n   * 获取请求的循环结果\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   */\r\n  getRequestCircle: function (ctx, stepName, requestName){\r\n      if(!ctx || !stepName || !requestName){\r\n          return null;\r\n      }\r\n      if(!ctx[stepName] || !ctx[stepName]['requests'] || !ctx[stepName]['requests'][requestName] ||\r\n          !ctx[stepName]['requests'][requestName]['request']){\r\n          return null;\r\n      }\r\n      // 返回循环结果数组\r\n      return ctx[stepName]['requests'][requestName]['circle'];\r\n  }\r\n\r\n  /* *********** step request end ************ */\r\n\r\n  ,/**\r\n     ** 乘法函数，用来得到精确的乘法结果\r\n     ** 说明：javascript的乘法结果会有误差，在两个浮点数相乘的时候会比较明显。这个函数返回较为精确的乘法结果。\r\n     ** 调用：accMul(arg1,arg2)\r\n     ** 返回值：arg1乘以 arg2的精确结果\r\n     **/\r\n    accMul:function (arg1, arg2) {\r\n    var m = 0, s1 = arg1.toString(), s2 = arg2.toString();\r\n    try {\r\n      m += s1.split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    try {\r\n      m += s2.split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    return Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\"))\r\n      / Math.pow(10, m);\r\n  },\r\n\r\n    /**\r\n     ** 除法函数，用来得到精确的除法结果\r\n     ** 说明：javascript的除法结果会有误差，在两个浮点数相除的时候会比较明显。这个函数返回较为精确的除法结果。\r\n     ** 调用：accDiv(arg1,arg2)\r\n     ** 返回值：arg1除以arg2的精确结果\r\n     **/\r\n    accDiv:function (arg1, arg2) {\r\n    var t1 = 0, t2 = 0, r1, r2;\r\n    try {\r\n      t1 = arg1.toString().split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    try {\r\n      t2 = arg2.toString().split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    with (Math) {\r\n      r1 = Number(arg1.toString().replace(\".\", \"\"));\r\n      r2 = Number(arg2.toString().replace(\".\", \"\"));\r\n      return (r1 / r2) * pow(10, t2 - t1);\r\n    }\r\n  }\r\n\r\n\r\n};\r\n\r\n\r\n",contextJS:'// 上下文数据结构设计\r\n// 上下文，用于保存客户输入输出和每个步骤的输入与输出结果\r\nvar context = {\r\n\t// 是否DEBUG模式\r\n\tdebug:false,\r\n\t\t\r\n\t// 各个操作的耗时\r\n\telapsedTimes: [{\r\n\t\t[actionName]: 123, // 操作名称:耗时\r\n\t}],\r\n\t\r\n\t// exception info\r\n\texceptionMessage: "",\r\n\texceptionStacks: "",\r\n\texceptionData: "", // such as script source code that cause exception\r\n\t\r\n\t\t\r\n    // 客户输入和接口的返回结果\r\n    input: {\r\n        request:{\r\n        \tpath: "",\r\n            method: "GET/POST",\r\n            headers: {},\r\n            body: {},\r\n            params: {}\r\n        },\r\n        response: { // 聚合接口的响应\r\n            headers: {},\r\n            body: {}\r\n        }\r\n    },\r\n\r\n    // 步骤\r\n    step1: {\r\n        requests: {\r\n        \t// 接口1\r\n            request1: {\r\n            \t// 请求相关参数\r\n                request:{\r\n                    url: "",\r\n                    method: "GET/POST",\r\n                    headers: {},\r\n                    body: {}\r\n                },\r\n                // 根据转换规则转换后的接口响应\r\n                response: {\r\n                    headers: {},\r\n                    body: {}\r\n                },\r\n                // 请求循环组件当前循环对象\r\n                item: null,\r\n                // 请求循环组件当前循环对象的下标\r\n                index: null,\r\n                // 请求循环的结果\r\n                circle: [{\r\n                    // 循环对象\r\n                    item: null,\r\n                    // 循环对象的下标\r\n                    index: null,\r\n                    // 请求相关参数\r\n                    request:{\r\n                        url: "",\r\n                        method: "GET/POST",\r\n                        headers: {},\r\n                        body: {}\r\n                    },\r\n                    // 根据转换规则转换后的接口响应\r\n                    response: {\r\n                        headers: {},\r\n                        body: {}\r\n                    }\r\n                }],\r\n                // 条件组件的执行结果\r\n                conditionResults: [\r\n                \t{\'我的条件1\': true}\r\n                ]\r\n            },\r\n            // 接口2\r\n            request2: {\r\n                request:{\r\n                    url: "",\r\n                    method: "GET/POST",\r\n                    headers: {},\r\n                    body: {}\r\n                },\r\n                response: {\r\n                headers: {},\r\n                    body: {}\r\n                },\r\n                // 请求循环组件当前循环对象\r\n                item: null,\r\n                // 请求循环组件当前循环对象的下标\r\n                index: null,\r\n                // 请求循环的结果\r\n                circle: [{\r\n                    // 循环对象\r\n                    item: null,\r\n                    // 循环对象的下标\r\n                    index: null,\r\n                    // 请求相关参数\r\n                    request:{\r\n                        url: "",\r\n                        method: "GET/POST",\r\n                        headers: {},\r\n                        body: {}\r\n                    },\r\n                    // 根据转换规则转换后的接口响应\r\n                    response: {\r\n                        headers: {},\r\n                        body: {}\r\n                    }\r\n                }],\r\n                // 条件组件的执行结果\r\n                conditionResults: [\r\n                \t{\'我的条件1\': true}\r\n                ]\r\n            }\r\n            //...\r\n        },\r\n\r\n        // 步骤结果\r\n        result: {},\r\n\t\t// 步骤循环组件当前循环对象\r\n        item: null,\r\n        // 步骤循环组件当前循环对象的下标\r\n        index: null,\r\n        // 步骤循环的结果\r\n        circle:[{\r\n            // 循环对象\r\n            item: null,\r\n            // 循环对象的下标\r\n            index: null,\r\n            // 步骤结果\r\n            result: {}\r\n        }] \r\n    }\r\n}',defaultGroovyJS:"// context为内置的上下文变量，详情请参考we.fizz.StepContext类实现\r\n// def data = context.getStepRespBody('step2', 'request1', 'data')\r\n\r\n// do something\r\n\r\n// 自定义返回结果，如果返回的Object里含有_stopAndResponse=true字段时将会终止请求并把脚本结果响应给客户端（主要用于有异常情况要终止请求的场景）\r\ndef result = [\r\n    // _stopAndResponse: true,\r\n    msgCode: '0',\r\n    message: '',\r\n    data: null\r\n]\r\n\r\n// 将处理结果返回\r\nreturn result",defaultScriptJS:"// javascript脚本函数名不能修改\r\nfunction dyFunc(paramsJsonStr) {\r\n  // 上下文, 数据结构请参考 context.js\r\n  var context = JSON.parse(paramsJsonStr)['context'];\r\n  // common为内置的上下文便捷操作工具类，详情请参考common.js；例如：\r\n  // var data = common.getStepRespBody(context, 'step2', 'request1', 'data');\r\n\r\n  // do something\r\n\r\n\r\n  // 自定义返回结果，如果返回的Object里含有_stopAndResponse=true字段时将会终止请求并把脚本结果响应给客户端（主要用于有异常情况要终止请求的场景）\r\n  var result = {\r\n    // _stopAndResponse: true,\r\n    msgCode: '0',\r\n    message: '',\r\n    data: null\r\n  };\r\n  // 返回结果为Array或Object时要先转为json字符串\r\n  return JSON.stringify(result);\r\n}\r\n",validateGroovyJS:"// context为内置的上下文变量，详情请参考we.fizz.StepContext类实现\r\n// 获取聚合接口用户输入的数据\r\n// 获取请求体中account数据\r\ndef account = context.getInputReqBody('account')\r\n// 获取请求体中password数据\r\ndef password = context.getInputReqBody('password')\r\ndef validate = []\r\n\r\n// 校验请求参数\r\nif (account == null || account.trim().isEmpty()) {\r\n    // 将校验不通过的错误信息add到validate中\r\n    validate << '账号不能为空'\r\n}\r\n\r\nif (password == null || password.trim().isEmpty()) {\r\n    validate << '密码不能为空'\r\n}\r\n\r\n// 空数组表示校验通过，非空表示校验不通过\r\nreturn validate",validateScriptJS:"// javascript脚本函数名不能修改\r\nfunction dyFunc(paramsJsonStr) {\r\n  // 上下文, 数据结构请参考 context.js\r\n  var context = JSON.parse(paramsJsonStr)['context'];\r\n  // common为内置的上下文便捷操作工具类，详情请参考common.js；例如：\r\n  // var account = common.getInputReqBody(context, 'account');\r\n  // var password = common.getInputReqBody(context, 'password');\r\n\r\n  // 入参校验结果，空字符串列表表示校验成功\r\n  var result = [];\r\n\r\n  // do something\r\n  // if (account == null) {\r\n  //    result.push(\"账号不能为空\");\r\n  // }\r\n  // if (password == null) {\r\n  //    result.push(\"密码不能为空\");\r\n  // }\r\n\r\n  // 返回结果为Array或Object时要先转为json字符串\r\n  return JSON.stringify(result);\r\n}\r\n"};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"script-dialog",data:function(){return{editorHeight:400,scriptForm:{},script:{type:this.type||"javascript",source:""},tipsDialog:{title:"js",visible:!1,content:""},scriptModule:"",groovyModule:""}},props:{type:{type:String},businessType:{type:String,default:"default"},id:{type:[String,Number]},visible:{type:Boolean,default:!1},content:{type:[Object,String]},disabled:{type:Boolean,default:!1},callback:{type:Function},default:{type:String,default:"default"},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{codeEditor:l["default"],codeHighlight:c["default"]},computed:p(p({},Object(o["mapGetters"])(["apiScriptType"])),{},{title:function(){return"脚本配置"+(this.id?" ID-"+this.id:"")}}),watch:{visible:function(e){e?this.getDetail():this.script.source=""}},methods:{openTipsDialog:function(e){this.tipsDialog.visible=!0,this.tipsDialog.title=e+".js",this.tipsDialog.content="common"===e?u.commonJS:u.contextJS},getDetail:function(){var e=this;this.scriptModule=u[this.default+"ScriptJS"]||"",this.groovyModule=u[this.default+"GroovyJS"]||"",this.id?"history"===this.businessType?Object(s["b"])(this.id).then((function(t){e.renderSource(t.data)})):"log"===this.businessType?Object(s["c"])(this.id).then((function(t){e.renderSource(t.data)})):Object(s["a"])(this.id).then((function(t){e.renderSource(t.data)})):this.script.source=u[this.default+"ScriptJS"]||""},renderSource:function(e){var t=e.data&&e.data.script||{};if("{}"===JSON.stringify(t))return this.$message({showClose:!0,message:e.msg,duration:5e3,type:"warning"}),this.id="",void(this.script.source=u[this.default+"ScriptJS"]||"");this.script="string"===typeof t?JSON.parse(t):t,"javascript"===this.script.type?this.scriptModule=this.script.source:"groovy"===this.script.type&&(this.groovyModule=this.script.source)},submitFn:function(){var e=this;if(!this.script.type||!this.script.source)return this.$message.error("请完善脚本数据再提交"),!1;var t=this.script;Object(s["e"])({id:this.id,script:JSON.stringify(t)}).then((function(t){e.$emit("update:id",t.data.data),e.callback&&"function"===typeof e.callback&&e.callback(),e.$message({type:"success",message:"脚本保存成功!"})}),(function(e){window.console.log(e)})),this.$emit("update:content",JSON.stringify(t)),this.$emit("update:visible",!1)},deleteFn:function(e){var t=this;if(e=e||this.id||"",!e)return!1;this.$confirm("确定删除该脚本?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return t.isDelScriptWithHttp?Object(s["d"])(e).then((function(){t.delCallback()})):(t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),void t.delCallback())}))},delCallback:function(){this.$emit("update:id",""),this.$emit("update:visible",!1),this.$message({type:"success",message:"删除成功!"})},handleClose:function(e){this.$emit("update:visible",!1),e()},changeType:function(e){this.script.source="javascript"===e?this.scriptModule:this.groovyModule},changeCode:function(e){"javascript"===this.script.type?this.scriptModule=e:this.groovyModule=e}}},f=h,g=(n("bb67"),n("2877")),m=Object(g["a"])(f,a,i,!1,null,"20f706fc",null);t["default"]=m.exports},"2fcc":function(e,t){function n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=n},"300a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"basic-container"},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("b",[e._v("最近24小时 TOP 10")]),n("span",{staticClass:"header-tips"},[e._v("最后更新时间："+e._s(e.topData.lastUpdateTime))])]),e.isEmpty?n("div",[n("avue-empty")],1):n("el-row",{staticClass:"top-data data-display",attrs:{span:24}},e._l(e.data,(function(t,a){return n("el-col",{key:a,staticClass:"item",attrs:{sm:6,xs:24}},[n("div",{staticClass:"title",style:{color:t.color}},[e._v(e._s(t.title))]),t.data.length?e._e():n("div",[n("i",[e._v("无")])]),e._l(t.data,(function(a,i){return n("div",{key:i},[n("b",[e._v(e._s(++i)+". ")]),n("i",[e._v(e._s(a.count)+e._s(t.unit)+" ["+e._s(a.service)+"]")])])}))],2)})),1)],1)],1)},i=[],r=n("ee6e"),o={name:"top-data",data:function(){return{topData:{}}},computed:{data:function(){return[{title:"Top 10 慢服务",color:"#E6A23C",data:this.topData.slowTops||[],unit:"ms"},{title:"Top 10 异常服务",color:"#F56C6C",data:this.topData.errorTops||[],unit:"个错误"},{title:"Top 10 活跃服务",color:"#67C23A",data:this.topData.totalTops||[],unit:"次访问"},{title:"Top 10 AppID",color:"#409EFF",data:this.topData.appTops||[],unit:"次访问"}]},isEmpty:function(){return this.topData.slowTops&&!this.topData.slowTops.length&&this.topData.errorTops&&!this.topData.errorTops.length&&this.topData.totalTops&&!this.topData.totalTops.length||!1}},created:function(){this.getTopData()},methods:{getTopData:function(){var e=this;Object(r["g"])({tops:10}).then((function(t){e.topData=t.data.data||{}}))}}},s=o,l=(n("4683"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"59839f8a",null);t["default"]=c.exports},3041:function(e,t,n){var a=n("e1fc"),i=n("0da8"),r=n("76a5"),o=n("d9fc"),s=n("c7a2"),l=n("ae69"),c=n("cb11"),u=n("cbe5"),d=n("87b1"),p=n("d498"),h=n("48a9"),f=n("2b61"),g=n("1687"),m=n("342d"),v=m.createFromString,b=n("6d8b"),y=b.isString,x=b.extend,w=b.defaults,_=b.trim,O=b.each,D=/[\s,]+/;function C(e){if(y(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}9===e.nodeType&&(e=e.firstChild);while("svg"!==e.nodeName.toLowerCase()||1!==e.nodeType)e=e.nextSibling;return e}function S(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}S.prototype.parse=function(e,t){t=t||{};var n=C(e);if(!n)throw new Error("Illegal svg");var i=new a;this._root=i;var r=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||t.width),l=parseFloat(n.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),M(n,i,null,!0);var c,u,d=n.firstChild;while(d)this._parseNode(d,i),d=d.nextSibling;if(r){var p=_(r).split(D);p.length>=4&&(c={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(c&&null!=o&&null!=l&&(u=$(c,o,l),!t.ignoreViewBox)){var h=i;i=new a,i.add(h),h.scale=u.scale.slice(),h.position=u.position.slice()}return t.ignoreRootClip||null==o||null==l||i.setClipPath(new s({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:c,viewBoxTransform:u}},S.prototype._parseNode=function(e,t){var n,a=e.nodeName.toLowerCase();if("defs"===a?this._isDefine=!0:"text"===a&&(this._isText=!0),this._isDefine){var i=T[a];if(i){var r=i.call(this,e),o=e.getAttribute("id");o&&(this._defs[o]=r)}}else{i=k[a];i&&(n=i.call(this,e,t),t.add(n))}var s=e.firstChild;while(s)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling;"defs"===a?this._isDefine=!1:"text"===a&&(this._isText=!1)},S.prototype._parseText=function(e,t){if(1===e.nodeType){var n=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(a)}var i=new r({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});j(t,i),M(e,i,this._defs);var o=i.style.fontSize;o&&o<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=o/9,i.scale[1]*=o/9);var s=i.getBoundingRect();return this._textX+=s.width,t.add(i),i};var k={g:function(e,t){var n=new a;return j(t,n),M(e,n,this._defs),n},rect:function(e,t){var n=new s;return j(t,n),M(e,n,this._defs),n.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),n},circle:function(e,t){var n=new o;return j(t,n),M(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),n},line:function(e,t){var n=new c;return j(t,n),M(e,n,this._defs),n.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),n},ellipse:function(e,t){var n=new l;return j(t,n),M(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),n},polygon:function(e,t){var n=e.getAttribute("points");n&&(n=I(n));var a=new d({shape:{points:n||[]}});return j(t,a),M(e,a,this._defs),a},polyline:function(e,t){var n=new u;j(t,n),M(e,n,this._defs);var a=e.getAttribute("points");a&&(a=I(a));var i=new p({shape:{points:a||[]}});return i},image:function(e,t){var n=new i;return j(t,n),M(e,n,this._defs),n.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),n},text:function(e,t){var n=e.getAttribute("x")||0,i=e.getAttribute("y")||0,r=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o);var s=new a;return j(t,s),M(e,s,this._defs),s},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0,s=new a;return j(t,s),M(e,s,this._defs),this._textX+=r,this._textY+=o,s},path:function(e,t){var n=e.getAttribute("d")||"",a=v(n);return j(t,a),M(e,a,this._defs),a}},T={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),n=parseInt(e.getAttribute("y1")||0,10),a=parseInt(e.getAttribute("x2")||10,10),i=parseInt(e.getAttribute("y2")||0,10),r=new h(t,n,a,i);return P(e,r),r},radialgradient:function(e){}};function P(e,t){var n=e.firstChild;while(n){if(1===n.nodeType){var a=n.getAttribute("offset");a=a.indexOf("%")>0?parseInt(a,10)/100:a?parseFloat(a):0;var i=n.getAttribute("stop-color")||"#000000";t.addColorStop(a,i)}n=n.nextSibling}}function j(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),w(t.__inheritedStyle,e.__inheritedStyle))}function I(e){for(var t=_(e).split(D),n=[],a=0;a<t.length;a+=2){var i=parseFloat(t[a]),r=parseFloat(t[a+1]);n.push([i,r])}return n}var L={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function M(e,t,n,a){var i=t.__inheritedStyle||{},r="text"===t.type;if(1===e.nodeType&&(R(e,t),x(i,B(e)),!a))for(var o in L)if(L.hasOwnProperty(o)){var s=e.getAttribute(o);null!=s&&(i[L[o]]=s)}var l=r?"textFill":"fill",c=r?"textStroke":"stroke";t.style=t.style||new f;var u=t.style;null!=i.fill&&u.set(l,E(i.fill,n)),null!=i.stroke&&u.set(c,E(i.stroke,n)),O(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){var t="lineWidth"===e&&r?"textStrokeWidth":e;null!=i[e]&&u.set(t,parseFloat(i[e]))})),i.textBaseline&&"auto"!==i.textBaseline||(i.textBaseline="alphabetic"),"alphabetic"===i.textBaseline&&(i.textBaseline="bottom"),"start"===i.textAlign&&(i.textAlign="left"),"end"===i.textAlign&&(i.textAlign="right"),O(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(e){null!=i[e]&&u.set(e,i[e])})),i.lineDash&&(t.style.lineDash=_(i.lineDash).split(D)),u[c]&&"none"!==u[c]&&(t[c]=!0),t.__inheritedStyle=i}var A=/url\(\s*#(.*?)\)/;function E(e,t){var n=t&&e&&e.match(A);if(n){var a=_(n[1]),i=t[a];return i}return e}var z=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function R(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var a=null,i=[];n.replace(z,(function(e,t,n){i.push(t,n)}));for(var r=i.length-1;r>0;r-=2){var o=i[r],s=i[r-1];switch(a=a||g.create(),s){case"translate":o=_(o).split(D),g.translate(a,a,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=_(o).split(D),g.scale(a,a,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=_(o).split(D),g.rotate(a,a,parseFloat(o[0]));break;case"skew":o=_(o).split(D),console.warn("Skew transform is not supported yet");break;case"matrix":o=_(o).split(D);a[0]=parseFloat(o[0]),a[1]=parseFloat(o[1]),a[2]=parseFloat(o[2]),a[3]=parseFloat(o[3]),a[4]=parseFloat(o[4]),a[5]=parseFloat(o[5]);break}}t.setLocalTransform(a)}}var F=/([^\s:;]+)\s*:\s*([^:;]+)/g;function B(e){var t=e.getAttribute("style"),n={};if(!t)return n;var a,i={};F.lastIndex=0;while(null!=(a=F.exec(t)))i[a[1]]=a[2];for(var r in L)L.hasOwnProperty(r)&&null!=i[r]&&(n[L[r]]=i[r]);return n}function $(e,t,n){var a=t/e.width,i=n/e.height,r=Math.min(a,i),o=[r,r],s=[-(e.x+e.width/2)*r+t/2,-(e.y+e.height/2)*r+n/2];return{scale:o,position:s}}function q(e,t){var n=new S;return n.parse(e,t)}t.parseXML=C,t.makeViewBoxTransform=$,t.parseSVG=q},"307a":function(e,t,n){var a=n("6d8b"),i=n("eaea"),r=n("3842"),o=[20,140],s=i.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){s.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},resetItemSize:function(){s.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=o[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=o[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):a.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){i.prototype.completeVisualOption.apply(this,arguments),a.each(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)}),this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=r.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(n){var a=[],i=n.getData();i.each(this.getDataDimension(i),(function(t,n){e[0]<=t&&t<=e[1]&&a.push(n)}),this),t.push({seriesId:n.id,dataIndex:a})}),this),t},getVisualMeta:function(e){var t=l(this,"outOfRange",this.getExtent()),n=l(this,"inRange",this.option.range.slice()),a=[];function i(t,n){a.push({value:t,color:e(t,n)})}for(var r=0,o=0,s=n.length,c=t.length;o<c&&(!n.length||t[o]<=n[0]);o++)t[o]<n[r]&&i(t[o],"outOfRange");for(var u=1;r<s;r++,u=0)u&&a.length&&i(n[r],"outOfRange"),i(n[r],"inRange");for(u=1;o<c;o++)(!n.length||n[n.length-1]<t[o])&&(u&&(a.length&&i(a[a.length-1].value,"outOfRange"),u=0),i(t[o],"outOfRange"));var d=a.length;return{stops:a,outerColors:[d?a[0].color:"transparent",d?a[d-1].color:"transparent"]}}});function l(e,t,n){if(n[0]===n[1])return n.slice();for(var a=200,i=(n[1]-n[0])/a,r=n[0],o=[],s=0;s<=a&&r<n[1];s++)o.push(r),r+=i;return o.push(n[1]),o}var c=s;e.exports=c},"307b":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("53ca"),i=function(e){if("object"===Object(a["a"])(e))return JSON.parse(JSON.stringify(e))}},"30a3":function(e,t,n){var a=n("6d8b"),i=n("607d"),r=i.Dispatcher,o=n("98b7"),s=n("06ad"),l=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,r.call(this)};l.prototype={constructor:l,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=a.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,a=n.length,i=[],r=[],o=0;o<a;o++){var s=n[o],l=s.step(e,t);l&&(i.push(l),r.push(s))}for(o=0;o<a;)n[o]._needsRemove?(n[o]=n[a-1],n.pop(),a--):o++;a=i.length;for(o=0;o<a;o++)r[o].fire(i[o]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;function t(){e._running&&(o(t),!e._paused&&e._update())}this._running=!0,o(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var n=new s(e,t.loop,t.getter,t.setter);return this.addAnimator(n),n}},a.mixin(l,r);var c=l;e.exports=c},"30c9":function(e,t,n){var a=n("9520"),i=n("b218");function r(e){return null!=e&&i(e.length)&&!a(e)}e.exports=r},"30eb":function(e,t,n){"use strict";n("b3b6")},"32b3":function(e,t,n){var a=n("872a"),i=n("9638"),r=Object.prototype,o=r.hasOwnProperty;function s(e,t,n){var r=e[t];o.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||a(e,t,n)}e.exports=s},"32f4":function(e,t,n){var a=n("2d7c"),i=n("d327"),r=Object.prototype,o=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),a(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=l},3301:function(e,t,n){var a=n("6d8b"),i=n("6179"),r=n("b1d4"),o=n("93d0"),s=o.SOURCE_FORMAT_ORIGINAL,l=n("2f45"),c=l.getDimensionTypeByAxis,u=n("e0d3"),d=u.getDataItemValue,p=n("2039"),h=n("8b7f"),f=h.getCoordSysInfoBySeries,g=n("ec6f"),m=n("ee1a"),v=m.enableDataStack,b=n("0f99"),y=b.makeSeriesEncodeForAxisCoordSys;function x(e,t,n){n=n||{},g.isInstance(e)||(e=g.seriesDataToSource(e));var o,s=t.get("coordinateSystem"),l=p.get(s),u=f(t);u&&(o=a.map(u.coordSysDims,(function(e){var t={name:e},n=u.axisMap.get(e);if(n){var a=n.get("type");t.type=c(a)}return t}))),o||(o=l&&(l.getDimensionsInfo?l.getDimensionsInfo():l.dimensions.slice())||["x","y"]);var d,h,m=r(e,{coordDimensions:o,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?a.curry(y,o,t):null});u&&a.each(m,(function(e,t){var n=e.coordDim,a=u.categoryAxisMap.get(n);a&&(null==d&&(d=t),e.ordinalMeta=a.getOrdinalMeta()),null!=e.otherDims.itemName&&(h=!0)})),h||null==d||(m[d].otherDims.itemName=0);var b=v(t,m),x=new i(m,t);x.setCalculationInfo(b);var _=null!=d&&w(e)?function(e,t,n,a){return a===d?n:this.defaultDimValueGetter(e,t,n,a)}:null;return x.hasItemOption=!1,x.initData(e,null,_),x}function w(e){if(e.sourceFormat===s){var t=_(e.data||[]);return null!=t&&!a.isArray(d(t))}}function _(e){var t=0;while(t<e.length&&null==e[t])t++;return e[t]}var O=x;e.exports=O},"340c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"audit-detail"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("b",[e._v("发布|下线审核详情")])]),n("div",{staticClass:"apply-table-wrap"},[n("div",{staticClass:"b-tip"},[e._v("操作以下接口：")]),n("el-table",{attrs:{data:e.tableData,border:"",stripe:"",size:"mini","max-height":"200"}},[n("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),n("el-table-column",{attrs:{prop:"name",label:"接口名"}})],1)],1),n("el-form",{ref:"auditForm",staticClass:"data-form",attrs:{model:e.auditForm,rules:e.rules,disabled:!e.permissionList.auditBtn,size:"mini","label-width":"100px"}},[n("el-form-item",{attrs:{label:"标题："}},[e._v("\n        "+e._s(e.auditForm.title)+"\n      ")]),n("el-form-item",{attrs:{label:"申请类型："}},[e._v("\n        "+e._s((0===e.auditForm.type?"发布":1===e.auditForm.type&&"下线")||e.auditForm.type||"-")+"\n      ")]),n("el-form-item",{attrs:{label:"申请原因："}},[e._v("\n        "+e._s(e.auditForm.reason)+"\n      ")]),n("el-form-item",{attrs:{label:"申请人："}},[e._v("\n        "+e._s(e.auditForm.applyBy||e.auditForm.createBy)+"\n      ")]),n("el-form-item",{attrs:{label:"申请时间："}},[e._v("\n        "+e._s(e.auditForm.createTime)+"\n      ")]),e.auditPermission?[n("el-form-item",{attrs:{label:"审核结果：",prop:"approvalResult",required:""}},[n("el-radio-group",{model:{value:e.auditForm.approvalResult,callback:function(t){e.$set(e.auditForm,"approvalResult",t)},expression:"auditForm.approvalResult"}},e._l(e.auditState,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),n("el-form-item",{attrs:{label:"审核备注：",prop:"approvalRemark"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"审核备注（选填）"},model:{value:e.auditForm.approvalRemark,callback:function(t){e.$set(e.auditForm,"approvalRemark",t)},expression:"auditForm.approvalRemark"}})],1)]:[n("el-form-item",{attrs:{label:"审核人："}},[e._v("\n          "+e._s(e.auditForm.approvalBy)+"\n        ")]),n("el-form-item",{attrs:{label:"审核结果："}},[2===e.auditForm.approvalResult?n("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("审核通过")]):1===e.auditForm.approvalResult?n("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("审核不通过")]):n("span",[e._v(e._s(e.auditForm.approvalResult))])],1),n("el-form-item",{attrs:{label:"审核备注："}},[e._v("\n          "+e._s(e.auditForm.approvalRemark)+"\n        ")]),n("el-form-item",{attrs:{label:"审核时间："}},[e._v("\n          "+e._s(e.auditForm.approvalTime)+"\n        ")])]],2),e.auditPermission?n("footer",[e.permissionList.auditBtn?n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-circle-check",loading:e.loading},on:{click:e.confirm}},[e._v("审核\n      ")]):e._e(),n("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:function(t){return e.handleClose()}}},[e._v("取消")])],1):e._e()],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("ac6a"),n("ade3")),o=n("5880"),s=n("134f"),l=n("cec1"),c=n("0f43");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"audit-detail",data:function(){return{loading:!1,tableData:[],auditForm:{type:"",remark:""}}},computed:d(d({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{auditBtn:this.vaildData(this.permission.aggregate_apply_audit,!1)}},auditState:function(){return l["b"]},auditPermission:function(){return this.permissionList.auditBtn&&0===this.auditForm.status||!1},originId:function(){return this.$route.query.originId||""}}),components:{},watch:{originId:{immediate:!0,handler:function(e){e&&this.init()}}},methods:{init:function(){var e=this;Object(c["d"])(this.originId).then((function(t){var n=t.data.data,a=[];e.auditForm=n,(n.configs||[]).forEach((function(e){a.push(Object.assign({id:e.configId,name:e.configName},e))})),e.tableData=a}))},confirm:function(){var e=this;if(!this.auditForm.approvalResult)return this.$message.error("请选择审核结果"),!1;var t={};return t.id=this.auditForm.id,t.approvalResult=this.auditForm.approvalResult,t.approvalRemark=this.auditForm.approvalRemark,this.loading=!0,Object(s["a"])(t).then((function(){e.init(),e.$message.success("审核成功"),e.loading=!1})).catch((function(){e.loading=!1}))},handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/aggregateRecord/audit"})}}},h=p,f=(n("39cf"),n("3b96"),n("2877")),g=Object(f["a"])(h,a,i,!1,null,"5382e071",null);t["default"]=g.exports},"342d":function(e,t,n){var a=n("cbe5"),i=n("20c8"),r=n("ee84"),o=Math.sqrt,s=Math.sin,l=Math.cos,c=Math.PI,u=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},d=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(u(e)*u(t))},p=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(d(e,t))};function h(e,t,n,a,i,r,u,h,f,g,m){var v=f*(c/180),b=l(v)*(e-n)/2+s(v)*(t-a)/2,y=-1*s(v)*(e-n)/2+l(v)*(t-a)/2,x=b*b/(u*u)+y*y/(h*h);x>1&&(u*=o(x),h*=o(x));var w=(i===r?-1:1)*o((u*u*(h*h)-u*u*(y*y)-h*h*(b*b))/(u*u*(y*y)+h*h*(b*b)))||0,_=w*u*y/h,O=w*-h*b/u,D=(e+n)/2+l(v)*_-s(v)*O,C=(t+a)/2+s(v)*_+l(v)*O,S=p([1,0],[(b-_)/u,(y-O)/h]),k=[(b-_)/u,(y-O)/h],T=[(-1*b-_)/u,(-1*y-O)/h],P=p(k,T);d(k,T)<=-1&&(P=c),d(k,T)>=1&&(P=0),0===r&&P>0&&(P-=2*c),1===r&&P<0&&(P+=2*c),m.addData(g,D,C,u,h,S,P,v,r)}var f=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,g=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function m(e){if(!e)return new i;for(var t,n=0,a=0,r=n,o=a,s=new i,l=i.CMD,c=e.match(f),u=0;u<c.length;u++){for(var d,p=c[u],m=p.charAt(0),v=p.match(g)||[],b=v.length,y=0;y<b;y++)v[y]=parseFloat(v[y]);var x=0;while(x<b){var w,_,O,D,C,S,k,T=n,P=a;switch(m){case"l":n+=v[x++],a+=v[x++],d=l.L,s.addData(d,n,a);break;case"L":n=v[x++],a=v[x++],d=l.L,s.addData(d,n,a);break;case"m":n+=v[x++],a+=v[x++],d=l.M,s.addData(d,n,a),r=n,o=a,m="l";break;case"M":n=v[x++],a=v[x++],d=l.M,s.addData(d,n,a),r=n,o=a,m="L";break;case"h":n+=v[x++],d=l.L,s.addData(d,n,a);break;case"H":n=v[x++],d=l.L,s.addData(d,n,a);break;case"v":a+=v[x++],d=l.L,s.addData(d,n,a);break;case"V":a=v[x++],d=l.L,s.addData(d,n,a);break;case"C":d=l.C,s.addData(d,v[x++],v[x++],v[x++],v[x++],v[x++],v[x++]),n=v[x-2],a=v[x-1];break;case"c":d=l.C,s.addData(d,v[x++]+n,v[x++]+a,v[x++]+n,v[x++]+a,v[x++]+n,v[x++]+a),n+=v[x-2],a+=v[x-1];break;case"S":w=n,_=a;var j=s.len(),I=s.data;t===l.C&&(w+=n-I[j-4],_+=a-I[j-3]),d=l.C,T=v[x++],P=v[x++],n=v[x++],a=v[x++],s.addData(d,w,_,T,P,n,a);break;case"s":w=n,_=a;j=s.len(),I=s.data;t===l.C&&(w+=n-I[j-4],_+=a-I[j-3]),d=l.C,T=n+v[x++],P=a+v[x++],n+=v[x++],a+=v[x++],s.addData(d,w,_,T,P,n,a);break;case"Q":T=v[x++],P=v[x++],n=v[x++],a=v[x++],d=l.Q,s.addData(d,T,P,n,a);break;case"q":T=v[x++]+n,P=v[x++]+a,n+=v[x++],a+=v[x++],d=l.Q,s.addData(d,T,P,n,a);break;case"T":w=n,_=a;j=s.len(),I=s.data;t===l.Q&&(w+=n-I[j-4],_+=a-I[j-3]),n=v[x++],a=v[x++],d=l.Q,s.addData(d,w,_,n,a);break;case"t":w=n,_=a;j=s.len(),I=s.data;t===l.Q&&(w+=n-I[j-4],_+=a-I[j-3]),n+=v[x++],a+=v[x++],d=l.Q,s.addData(d,w,_,n,a);break;case"A":O=v[x++],D=v[x++],C=v[x++],S=v[x++],k=v[x++],T=n,P=a,n=v[x++],a=v[x++],d=l.A,h(T,P,n,a,S,k,O,D,C,d,s);break;case"a":O=v[x++],D=v[x++],C=v[x++],S=v[x++],k=v[x++],T=n,P=a,n+=v[x++],a+=v[x++],d=l.A,h(T,P,n,a,S,k,O,D,C,d,s);break}}"z"!==m&&"Z"!==m||(d=l.Z,s.addData(d),n=r,a=o),t=d}return s.toStatic(),s}function v(e,t){var n=m(e);return t=t||{},t.buildPath=function(e){if(e.setData){e.setData(n.data);var t=e.getContext();t&&e.rebuildPath(t)}else{t=e;n.rebuildPath(t)}},t.applyTransform=function(e){r(n,e),this.dirty(!0)},t}function b(e,t){return new a(v(e,t))}function y(e,t){return a.extend(v(e,t))}function x(e,t){for(var n=[],i=e.length,r=0;r<i;r++){var o=e[r];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var s=new a(t);return s.createPathProxy(),s.buildPath=function(e){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t)},s}t.createFromString=b,t.extendFromString=y,t.mergePath=x},3482:function(e,t,n){var a=n("087d"),i=n("5c69"),r=n("4359"),o=n("6747");function s(){var e=arguments.length;if(!e)return[];var t=Array(e-1),n=arguments[0],s=e;while(s--)t[s-1]=arguments[s];return a(o(n)?r(n):[n],i(t,1))}e.exports=s},"34ac":function(e,t,n){var a=n("9520"),i=n("1368"),r=n("1a8c"),o=n("dc57"),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,p=u.hasOwnProperty,h=RegExp("^"+d.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(e){if(!r(e)||i(e))return!1;var t=a(e)?h:l;return t.test(o(e))}e.exports=f},3528:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return g}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/menu/grant-tree"),method:"get"})},u=function(e,t,n,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/grant"),method:"post",data:{roleIds:e,menuIds:t,dataScopeIds:n,apiScopeIds:a}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/submit"),method:"post",data:e})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/submit"),method:"post",data:e})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/menu/role-tree-keys"),method:"get",params:{roleIds:e}})},g=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/tree"),method:"get",params:{tenantId:e}})}},3698:function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},"36a5":function(e,t,n){"use strict";n("98f3")},"36fc":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("real-time-data"),n("flow-data"),n("top-data"),n("interface-data")],1)},i=[],r=n("87a9"),o=n("b599"),s=n("68a2"),l=n("300a"),c={name:"gateway-data",data:function(){return{}},components:{realTimeData:r["default"],flowData:o["default"],interfaceData:s["default"],topData:l["default"]},methods:{}},u=c,d=n("2877"),p=Object(d["a"])(u,a,i,!1,null,"909aafa8",null);t["default"]=p.exports},"379d":function(e,t,n){"use strict";n("fba9")},"37ea":function(e,t,n){},3818:function(e,t,n){var a=n("7e64"),i=n("8057"),r=n("32b3"),o=n("5b01"),s=n("0f0f"),l=n("e538"),c=n("4359"),u=n("54eb"),d=n("1041"),p=n("a994"),h=n("1bac"),f=n("42a2"),g=n("c87c"),m=n("c2b6"),v=n("fa21"),b=n("6747"),y=n("0d24"),x=n("cc45"),w=n("1a8c"),_=n("d7ee"),O=n("ec69"),D=n("9934"),C=1,S=2,k=4,T="[object Arguments]",P="[object Array]",j="[object Boolean]",I="[object Date]",L="[object Error]",M="[object Function]",A="[object GeneratorFunction]",E="[object Map]",z="[object Number]",R="[object Object]",F="[object RegExp]",B="[object Set]",$="[object String]",q="[object Symbol]",N="[object WeakMap]",H="[object ArrayBuffer]",V="[object DataView]",U="[object Float32Array]",G="[object Float64Array]",W="[object Int8Array]",J="[object Int16Array]",Y="[object Int32Array]",X="[object Uint8Array]",Q="[object Uint8ClampedArray]",K="[object Uint16Array]",Z="[object Uint32Array]",ee={};function te(e,t,n,P,j,I){var L,E=t&C,z=t&S,F=t&k;if(n&&(L=j?n(e,P,j,I):n(e)),void 0!==L)return L;if(!w(e))return e;var B=b(e);if(B){if(L=g(e),!E)return c(e,L)}else{var $=f(e),q=$==M||$==A;if(y(e))return l(e,E);if($==R||$==T||q&&!j){if(L=z||q?{}:v(e),!E)return z?d(e,s(L,e)):u(e,o(L,e))}else{if(!ee[$])return j?e:{};L=m(e,$,E)}}I||(I=new a);var N=I.get(e);if(N)return N;I.set(e,L),_(e)?e.forEach((function(a){L.add(te(a,t,n,a,e,I))})):x(e)&&e.forEach((function(a,i){L.set(i,te(a,t,n,i,e,I))}));var H=F?z?h:p:z?D:O,V=B?void 0:H(e);return i(V||e,(function(a,i){V&&(i=a,a=e[i]),r(L,i,te(a,t,n,i,e,I))})),L}ee[T]=ee[P]=ee[H]=ee[V]=ee[j]=ee[I]=ee[U]=ee[G]=ee[W]=ee[J]=ee[Y]=ee[E]=ee[z]=ee[R]=ee[F]=ee[B]=ee[$]=ee[q]=ee[X]=ee[Q]=ee[K]=ee[Z]=!0,ee[L]=ee[M]=ee[N]=!1,e.exports=te},3842:function(e,t,n){var a=n("6d8b"),i=1e-4;function r(e){return e.replace(/^\s+|\s+$/g,"")}function o(e,t,n,a){var i=t[1]-t[0],r=n[1]-n[0];if(0===i)return 0===r?n[0]:(n[0]+n[1])/2;if(a)if(i>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/i*r+n[0]}function s(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return"string"===typeof e?r(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function l(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function c(e){return e.sort((function(e,t){return e-t})),e}function u(e){if(e=+e,isNaN(e))return 0;var t=1,n=0;while(Math.round(e*t)/t!==e)t*=10,n++;return n}function d(e){var t=e.toString(),n=t.indexOf("e");if(n>0){var a=+t.slice(n+1);return a<0?-a:0}var i=t.indexOf(".");return i<0?0:t.length-1-i}function p(e,t){var n=Math.log,a=Math.LN10,i=Math.floor(n(e[1]-e[0])/a),r=Math.round(n(Math.abs(t[1]-t[0]))/a),o=Math.min(Math.max(-i+r,0),20);return isFinite(o)?o:20}function h(e,t,n){if(!e[t])return 0;var i=a.reduce(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===i)return 0;var r=Math.pow(10,n),o=a.map(e,(function(e){return(isNaN(e)?0:e)/i*r*100})),s=100*r,l=a.map(o,(function(e){return Math.floor(e)})),c=a.reduce(l,(function(e,t){return e+t}),0),u=a.map(o,(function(e,t){return e-l[t]}));while(c<s){for(var d=Number.NEGATIVE_INFINITY,p=null,h=0,f=u.length;h<f;++h)u[h]>d&&(d=u[h],p=h);++l[p],u[p]=0,++c}return l[t]/r}var f=9007199254740991;function g(e){var t=2*Math.PI;return(e%t+t)%t}function m(e){return e>-i&&e<i}var v=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function b(e){if(e instanceof Date)return e;if("string"===typeof e){var t=v.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))}function y(e){return Math.pow(10,x(e))}function x(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function w(e,t){var n,a=x(e),i=Math.pow(10,a),r=e/i;return n=t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10,e=n*i,a>=-20?+e.toFixed(a<0?-a:0):e}function _(e,t){var n=(e.length-1)*t+1,a=Math.floor(n),i=+e[a-1],r=n-a;return r?i+r*(e[a]-i):i}function O(e){e.sort((function(e,t){return s(e,t,0)?-1:1}));for(var t=-1/0,n=1,a=0;a<e.length;){for(var i=e[a].interval,r=e[a].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,r[o]=o?1:1-n),t=i[o],n=r[o];i[0]===i[1]&&r[0]*r[1]!==1?e.splice(a,1):a++}return e;function s(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(n?-1:1)||!n&&s(e,t,1))}}function D(e){return e-parseFloat(e)>=0}t.linearMap=o,t.parsePercent=s,t.round=l,t.asc=c,t.getPrecision=u,t.getPrecisionSafe=d,t.getPixelPrecision=p,t.getPercentWithPrecision=h,t.MAX_SAFE_INTEGER=f,t.remRadian=g,t.isRadianAroundZero=m,t.parseDate=b,t.quantity=y,t.quantityExponent=x,t.nice=w,t.quantile=_,t.reformIntervals=O,t.isNumeric=D},38460:function(e,t,n){},"38a2":function(e,t,n){var a=n("2b17"),i=a.retrieveRawValue,r=n("eda2"),o=r.getTooltipMarker,s=r.formatTpl,l=n("e0d3"),c=l.getTooltipRenderMode,u=/\{@(.+?)\}/g,d={getDataParams:function(e,t){var n=this.getData(t),a=this.getRawValue(e,t),i=n.getRawIndex(e),r=n.getName(e),s=n.getRawDataItem(e),l=n.getItemVisual(e,"color"),u=n.getItemVisual(e,"borderColor"),d=this.ecModel.getComponent("tooltip"),p=d&&d.get("renderMode"),h=c(p),f=this.mainType,g="series"===f,m=n.userOutput;return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:g?this.subType:null,seriesIndex:this.seriesIndex,seriesId:g?this.id:null,seriesName:g?this.name:null,name:r,dataIndex:i,data:s,dataType:t,value:a,color:l,borderColor:u,dimensionNames:m?m.dimensionNames:null,encode:m?m.encode:null,marker:o({color:l,renderMode:h}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,a,r){t=t||"normal";var o=this.getData(n),l=o.getItemModel(e),c=this.getDataParams(e,n);null!=a&&c.value instanceof Array&&(c.value=c.value[a]);var d=l.get("normal"===t?[r||"label","formatter"]:[t,r||"label","formatter"]);if("function"===typeof d)return c.status=t,c.dimensionIndex=a,d(c);if("string"===typeof d){var p=s(d,c);return p.replace(u,(function(t,n){var a=n.length;return"["===n.charAt(0)&&"]"===n.charAt(a-1)&&(n=+n.slice(1,a-1)),i(o,e,n)}))}},getRawValue:function(e,t){return i(this.getData(t),e)},formatTooltip:function(){}};e.exports=d},3901:function(e,t,n){var a=n("282b"),i=a([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getLineStyle:function(e){var t=i(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),n=Math.max(e,2),a=4*e;return"solid"!==t&&null!=t&&("dashed"===t?[a,a]:[n,n])}};e.exports=r},"392f":function(e,t,n){var a=n("6d8b"),i=a.inherits,r=n("19eb"),o=n("9850");function s(e){r.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}s.prototype.incremental=!0,s.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},s.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},s.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},s.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},s.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(e=0;e<this._temporaryDisplayables.length;e++){t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}},s.prototype.brush=function(e,t){for(var n=this._cursor;n<this._displayables.length;n++){var a=this._displayables[n];a.beforeBrush&&a.beforeBrush(e),a.brush(e,n===this._cursor?null:this._displayables[n-1]),a.afterBrush&&a.afterBrush(e)}this._cursor=n;for(n=0;n<this._temporaryDisplayables.length;n++){a=this._temporaryDisplayables[n];a.beforeBrush&&a.beforeBrush(e),a.brush(e,0===n?null:this._temporaryDisplayables[n-1]),a.afterBrush&&a.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var l=[];s.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new o(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],a=n.getBoundingRect().clone();n.needLocalTransform()&&a.applyTransform(n.getLocalTransform(l)),e.union(a)}this._rect=e}return this._rect},s.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),a=this.getBoundingRect();if(a.contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){var r=this._displayables[i];if(r.contain(e,t))return!0}return!1},i(s,r);var c=s;e.exports=c},3956:function(e,t,n){"use strict";n("17bb")},"39cf":function(e,t,n){"use strict";n("849e")},"39ff":function(e,t,n){var a=n("0b07"),i=n("2b3e"),r=a(i,"WeakMap");e.exports=r},"3a57":function(e,t,n){},"3ae7":function(e,t,n){},"3b4a":function(e,t,n){var a=n("0b07"),i=function(){try{var e=a(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},"3b77":function(e,t,n){"use strict";n("c6f5")},"3b96":function(e,t,n){"use strict";n("9542")},"3c73":function(e,t,n){},"3cd6":function(e,t,n){var a=n("6d8b"),i=n("48a9"),r=n("607d"),o=n("72b6"),s=n("2306"),l=n("3842"),c=n("ef6a"),u=n("cbb0"),d=n("e0d3"),p=l.linearMap,h=a.each,f=Math.min,g=Math.max,m=12,v=6,b=o.extend({type:"visualMap.continuous",init:function(){b.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,n,a){a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var a=t[1-n];a=null!=a?a+"":"";var i=this.visualMapModel,r=i.get("textGap"),o=i.itemSize,l=this._shapes.barGroup,c=this._applyTransform([o[0]/2,0===n?-r:o[1]+r],l),u=this._applyTransform(0===n?"bottom":"top",l),d=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new s.Text({style:{x:c[0],y:c[1],textVerticalAlign:"horizontal"===d?"middle":u,textAlign:"horizontal"===d?u:"center",text:a,textFont:p.getFont(),textFill:p.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,r=this._orient,o=this._useHandle,s=u.getItemAlign(t,this.api,i),l=n.barGroup=this._createBarGroup(s);l.add(n.outOfRange=y()),l.add(n.inRange=y(null,o?D(this._orient):null,a.bind(this._dragHandle,this,"all",!1),a.bind(this._dragHandle,this,"all",!0)));var c=t.textStyleModel.getTextRect("国"),d=g(c.width,c.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(l,0,i,d,r,s),this._createHandle(l,1,i,d,r,s)),this._createIndicator(l,i,d,r),e.add(l)},_createHandle:function(e,t,n,i,o){var l=a.bind(this._dragHandle,this,t,!1),c=a.bind(this._dragHandle,this,t,!0),u=y(x(t,i),D(this._orient),l,c);u.position[0]=n[0],e.add(u);var d=this.visualMapModel.textStyleModel,p=new s.Text({draggable:!0,drift:l,onmousemove:function(e){r.stop(e.event)},ondragend:c,style:{x:0,y:0,text:"",textFont:d.getFont(),textFill:d.getTextColor()}});this.group.add(p);var h=["horizontal"===o?i/2:1.5*i,"horizontal"===o?0===t?-1.5*i:1.5*i:0===t?-i/2:i/2],f=this._shapes;f.handleThumbs[t]=u,f.handleLabelPoints[t]=h,f.handleLabels[t]=p},_createIndicator:function(e,t,n,a){var i=y([[0,0]],"move");i.position[0]=t[0],i.attr({invisible:!0,silent:!0}),e.add(i);var r=this.visualMapModel.textStyleModel,o=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:r.getFont(),textFill:r.getTextColor()}});this.group.add(o);var l=["horizontal"===a?n/2:v+3,0],c=this._shapes;c.indicator=i,c.indicatorLabel=o,c.indicatorLabelPoint=l},_dragHandle:function(e,t,n,a){if(this._useHandle){if(this._dragging=!t,!t){var i=this._applyTransform([n,a],this._shapes.barGroup,!0);this._updateInterval(e,i[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():O(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[p(t[0],n,a,!0),p(t[1],n,a,!0)]},_updateInterval:function(e,t){t=t||0;var n=this.visualMapModel,a=this._handleEnds,i=[0,n.itemSize[1]];c(t,a,i,e,0);var r=n.getExtent();this._dataInterval=[p(a[0],i,r,!0),p(a[1],i,r,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),a=this._shapes,i=[0,t.itemSize[1]],r=e?i:this._handleEnds,o=this._createBarVisual(this._dataInterval,n,r,"inRange"),s=this._createBarVisual(n,n,i,"outOfRange");a.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),a.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(r,o)},_createBarVisual:function(e,t,n,a){var r={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,r),s=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],l=this._createBarPoints(n,s);return{barColor:new i(0,0,0,1,o),barPoints:l,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(e,t){var n=100,a=[],i=(e[1]-e[0])/n;a.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<n;r++){var o=e[0]+i*r;if(o>e[1])break;a.push({color:this.getControllerVisual(o,"color",t),offset:r/n})}return a.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),a},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new s.Group("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,a=this.visualMapModel,i=n.handleThumbs,r=n.handleLabels;h([0,1],(function(o){var l=i[o];l.setStyle("fill",t.handlesColor[o]),l.position[1]=e[o];var c=s.applyTransform(n.handleLabelPoints[o],s.getTransform(l,this.group));r[o].setStyle({x:c[0],y:c[1],text:a.formatValueText(this._dataInterval[o]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===o?"bottom":"top":"left",n.barGroup)})}),this)}},_showIndicator:function(e,t,n,a){var i=this.visualMapModel,r=i.getExtent(),o=i.itemSize,l=[0,o[1]],c=p(e,r,l,!0),u=this._shapes,d=u.indicator;if(d){d.position[1]=c,d.attr("invisible",!1),d.setShape("points",w(!!n,a,c,o[1]));var h={convertOpacityToAlpha:!0},f=this.getControllerVisual(e,"color",h);d.setStyle("fill",f);var g=s.applyTransform(u.indicatorLabelPoint,s.getTransform(d,this.group)),m=u.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",u.barGroup),b=this._orient;m.setStyle({text:(n||"")+i.formatValueText(t),textVerticalAlign:"horizontal"===b?v:"middle",textAlign:"horizontal"===b?"center":v,x:g[0],y:g[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,a=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);a[1]=f(g(0,a[1]),n[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=n[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel,a=n.itemSize;if(n.option.hoverLink){var i=[0,a[1]],r=n.getExtent();e=f(g(i[0],e),i[1]);var o=_(n,r,i),s=[e-o,e+o],l=p(e,i,r,!0),c=[p(s[0],i,r,!0),p(s[1],i,r,!0)];s[0]<i[0]&&(c[0]=-1/0),s[1]>i[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",o):c[1]===1/0?this._showIndicator(l,c[0],"> ",o):this._showIndicator(l,l,"≈ ",o));var h=this._hoverLinkDataIndices,m=[];(t||O(n))&&(m=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var v=d.compressBatches(h,m);this._dispatchHighDown("downplay",u.makeHighDownBatch(v[0],n)),this._dispatchHighDown("highlight",u.makeHighDownBatch(v[1],n))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var a=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(a)){var i=a.getData(t.dataType),r=i.get(n.getDataDimension(i),t.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",u.makeHighDownBatch(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,i){var r=s.getTransform(t,i?null:this.group);return s[a.isArray(e)?"applyTransform":"transformDirection"](e,r,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function y(e,t,n,a){return new s.Polygon({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){r.stop(e.event)},ondragend:a})}function x(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function w(e,t,n,a){return e?[[0,-f(t,g(n,0))],[v,0],[0,f(t,g(a-n,0))]]:[[0,0],[5,-5],[5,5]]}function _(e,t,n){var a=m/2,i=e.get("hoverLinkDataSize");return i&&(a=p(i,t,n,!0)/2),a}function O(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function D(e){return"vertical"===e?"ns-resize":"ew-resize"}var C=b;e.exports=C},"3eba":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("697e7")),r=n("6d8b"),o=n("41ef"),s=n("22d1"),l=n("04f6"),c=n("1fab"),u=n("7e63"),d=n("843e"),p=n("2039"),h=n("ca98"),f=n("fb05"),g=n("d15d"),m=n("6cb7"),v=n("4f85"),b=n("b12f"),y=n("e887"),x=n("2306"),w=n("e0d3"),_=n("88b3"),O=_.throttle,D=n("fd63"),C=n("b809"),S=n("998c"),k=n("69ff"),T=n("c533"),P=n("f219");n("0352");var j=n("ec34"),I=r.assert,L=r.each,M=r.isFunction,A=r.isObject,E=m.parseClassType,z="4.9.0",R={zrender:"4.3.2"},F=1,B=1e3,$=800,q=900,N=5e3,H=1e3,V=1100,U=2e3,G=3e3,W=3500,J=4e3,Y=5e3,X={PROCESSOR:{FILTER:B,SERIES_FILTER:$,STATISTIC:N},VISUAL:{LAYOUT:H,PROGRESSIVE_LAYOUT:V,GLOBAL:U,CHART:G,POST_CHART_LAYOUT:W,COMPONENT:J,BRUSH:Y}},Q="__flagInMainProcess",K="__optionUpdated",Z=/^[a-zA-Z0-9_]+$/;function ee(e,t){return function(n,a,i){t||!this._disposed?(n=n&&n.toLowerCase(),c.prototype[e].call(this,n,a,i)):xe(this.id)}}function te(){c.call(this)}function ne(e,t,n){n=n||{},"string"===typeof t&&(t=Le[t]),this.id,this.group,this._dom=e;var a="canvas",o=this._zr=i.init(e,{renderer:n.renderer||a,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=O(r.bind(o.flush,o),17);t=r.clone(t);t&&f(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new p;var s=this._api=De(this);function u(e,t){return e.__prio-t.__prio}l(Ie,u),l(Te,u),this._scheduler=new k(this,s,Te,Ie),c.call(this,this._ecEventProcessor=new Ce),this._messageCenter=new te,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),pe(o,this),r.setAsPrimitive(this)}te.prototype.on=ee("on",!0),te.prototype.off=ee("off",!0),te.prototype.one=ee("one",!0),r.mixin(te,c);var ae=ne.prototype;function ie(e,t,n){if(this._disposed)xe(this.id);else{var a,i=this._model,r=this._coordSysMgr.getCoordinateSystems();t=w.parseFinder(i,t);for(var o=0;o<r.length;o++){var s=r[o];if(s[e]&&null!=(a=s[e](i,t,n)))return a}}}ae._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[K]){var t=this[K].silent;this[Q]=!0,oe(this),re.update.call(this),this[Q]=!1,this[K]=!1,ue.call(this,t),de.call(this,t)}else if(e.unfinished){var n=F,a=this._model,i=this._api;e.unfinished=!1;do{var r=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),le(this,a),e.performVisualTasks(a),ve(this,this._model,i,"remain"),n-=+new Date-r}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},ae.getDom=function(){return this._dom},ae.getZr=function(){return this._zr},ae.setOption=function(e,t,n){if(this._disposed)xe(this.id);else{var a;if(A(t)&&(n=t.lazyUpdate,a=t.silent,t=t.notMerge),this[Q]=!0,!this._model||t){var i=new h(this._api),r=this._theme,o=this._model=new u;o.scheduler=this._scheduler,o.init(null,null,r,i)}this._model.setOption(e,Pe),n?(this[K]={silent:a},this[Q]=!1):(oe(this),re.update.call(this),this._zr.flush(),this[K]=!1,this[Q]=!1,ue.call(this,a),de.call(this,a))}},ae.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},ae.getModel=function(){return this._model},ae.getOption=function(){return this._model&&this._model.getOption()},ae.getWidth=function(){return this._zr.getWidth()},ae.getHeight=function(){return this._zr.getHeight()},ae.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},ae.getRenderedCanvas=function(e){if(s.canvasSupported){e=e||{},e.pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr;return t.painter.getRenderedCanvas(e)}},ae.getSvgDataURL=function(){if(s.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return r.each(t,(function(e){e.stopAnimation(!0)})),e.painter.toDataURL()}},ae.getDataURL=function(e){if(!this._disposed){e=e||{};var t=e.excludeComponents,n=this._model,a=[],i=this;L(t,(function(e){n.eachComponent({mainType:e},(function(e){var t=i._componentsMap[e.__viewId];t.group.ignore||(a.push(t),t.group.ignore=!0)}))}));var r="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return L(a,(function(e){e.group.ignore=!1})),r}xe(this.id)},ae.getConnectedDataURL=function(e){if(this._disposed)xe(this.id);else if(s.canvasSupported){var t="svg"===e.type,n=this.group,a=Math.min,o=Math.max,l=1/0;if(Ee[n]){var c=l,u=l,d=-l,p=-l,h=[],f=e&&e.pixelRatio||1;r.each(Ae,(function(i,s){if(i.group===n){var l=t?i.getZr().painter.getSvgDom().innerHTML:i.getRenderedCanvas(r.clone(e)),f=i.getDom().getBoundingClientRect();c=a(f.left,c),u=a(f.top,u),d=o(f.right,d),p=o(f.bottom,p),h.push({dom:l,left:f.left,top:f.top})}})),c*=f,u*=f,d*=f,p*=f;var g=d-c,m=p-u,v=r.createCanvas(),b=i.init(v,{renderer:t?"svg":"canvas"});if(b.resize({width:g,height:m}),t){var y="";return L(h,(function(e){var t=e.left-c,n=e.top-u;y+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"})),b.painter.getSvgRoot().innerHTML=y,e.connectedBackgroundColor&&b.painter.setBackgroundColor(e.connectedBackgroundColor),b.refreshImmediately(),b.painter.toDataURL()}return e.connectedBackgroundColor&&b.add(new x.Rect({shape:{x:0,y:0,width:g,height:m},style:{fill:e.connectedBackgroundColor}})),L(h,(function(e){var t=new x.Image({style:{x:e.left*f-c,y:e.top*f-u,image:e.dom}});b.add(t)})),b.refreshImmediately(),v.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},ae.convertToPixel=r.curry(ie,"convertToPixel"),ae.convertFromPixel=r.curry(ie,"convertFromPixel"),ae.containPixel=function(e,t){if(!this._disposed){var n,a=this._model;return e=w.parseFinder(a,e),r.each(e,(function(e,a){a.indexOf("Models")>=0&&r.each(e,(function(e){var i=e.coordinateSystem;if(i&&i.containPoint)n|=!!i.containPoint(t);else if("seriesModels"===a){var r=this._chartsMap[e.__viewId];r&&r.containPoint&&(n|=r.containPoint(t,e))}}),this)}),this),!!n}xe(this.id)},ae.getVisual=function(e,t){var n=this._model;e=w.parseFinder(n,e,{defaultMainType:"series"});var a=e.seriesModel,i=a.getData(),r=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?i.indexOfRawIndex(e.dataIndex):null;return null!=r?i.getItemVisual(r,t):i.getVisual(t)},ae.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},ae.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var re={prepareAndUpdate:function(e){oe(this),re.update.call(this,e)},update:function(e){var t=this._model,n=this._api,a=this._zr,i=this._coordSysMgr,r=this._scheduler;if(t){r.restoreData(t,e),r.performSeriesTasks(t),i.create(t,n),r.performDataProcessorTasks(t,e),le(this,t),i.update(t,n),fe(t),r.performVisualTasks(t,e),ge(this,t,n,e);var l=t.get("backgroundColor")||"transparent";if(s.canvasSupported)a.setBackgroundColor(l);else{var c=o.parse(l);l=o.stringify(c,"rgb"),0===c[3]&&(l="transparent")}be(t,n)}},updateTransform:function(e){var t=this._model,n=this,a=this._api;if(t){var i=[];t.eachComponent((function(r,o){var s=n.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(o,t,a,e);l&&l.update&&i.push(s)}else i.push(s)}));var o=r.createHashMap();t.eachSeries((function(i){var r=n._chartsMap[i.__viewId];if(r.updateTransform){var s=r.updateTransform(i,t,a,e);s&&s.update&&o.set(i.uid,1)}else o.set(i.uid,1)})),fe(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:o}),ve(n,t,a,e,o),be(t,this._api)}},updateView:function(e){var t=this._model;t&&(y.markUpdateMethod(e,"updateView"),fe(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),ge(this,this._model,this._api,e),be(t,this._api))},updateVisual:function(e){re.update.call(this,e)},updateLayout:function(e){re.update.call(this,e)}};function oe(e){var t=e._model,n=e._scheduler;n.restorePipelines(t),n.prepareStageTasks(),he(e,"component",t,n),he(e,"chart",t,n),n.plan()}function se(e,t,n,a,i){var o=e._model;if(a){var s={};s[a+"Id"]=n[a+"Id"],s[a+"Index"]=n[a+"Index"],s[a+"Name"]=n[a+"Name"];var l={mainType:a,query:s};i&&(l.subType=i);var c=n.excludeSeriesId;null!=c&&(c=r.createHashMap(w.normalizeToArray(c))),o&&o.eachComponent(l,(function(t){c&&null!=c.get(t.id)||u(e["series"===a?"_chartsMap":"_componentsMap"][t.__viewId])}),e)}else L(e._componentsViews.concat(e._chartsViews),u);function u(a){a&&a.__alive&&a[t]&&a[t](a.__model,o,e._api,n)}}function le(e,t){var n=e._chartsMap,a=e._scheduler;t.eachSeries((function(e){a.updateStreamModes(e,n[e.__viewId])}))}function ce(e,t){var n=e.type,a=e.escapeConnect,i=Se[n],o=i.actionInfo,s=(o.update||"update").split(":"),l=s.pop();s=null!=s[0]&&E(s[0]),this[Q]=!0;var c=[e],u=!1;e.batch&&(u=!0,c=r.map(e.batch,(function(t){return t=r.defaults(r.extend({},t),e),t.batch=null,t})));var d,p=[],h="highlight"===n||"downplay"===n;L(c,(function(e){d=i.action(e,this._model,this._api),d=d||r.extend({},e),d.type=o.event||d.type,p.push(d),h?se(this,l,e,"series"):s&&se(this,l,e,s.main,s.sub)}),this),"none"===l||h||s||(this[K]?(oe(this),re.update.call(this,e),this[K]=!1):re[l].call(this,e)),d=u?{type:o.event||n,escapeConnect:a,batch:p}:p[0],this[Q]=!1,!t&&this._messageCenter.trigger(d.type,d)}function ue(e){var t=this._pendingActions;while(t.length){var n=t.shift();ce.call(this,n,e)}}function de(e){!e&&this.trigger("updated")}function pe(e,t){e.on("rendered",(function(){t.trigger("rendered"),!e.animation.isFinished()||t[K]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))}function he(e,t,n,a){for(var i="component"===t,r=i?e._componentsViews:e._chartsViews,o=i?e._componentsMap:e._chartsMap,s=e._zr,l=e._api,c=0;c<r.length;c++)r[c].__alive=!1;function u(e){var t="_ec_"+e.id+"_"+e.type,c=o[t];if(!c){var u=E(e.type),d=i?b.getClass(u.main,u.sub):y.getClass(u.sub);c=new d,c.init(n,l),o[t]=c,r.push(c),s.add(c.group)}e.__viewId=c.__id=t,c.__alive=!0,c.__model=e,c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!i&&a.prepareView(c,e,n,l)}i?n.eachComponent((function(e,t){"series"!==e&&u(t)})):n.eachSeries(u);for(c=0;c<r.length;){var d=r[c];d.__alive?c++:(!i&&d.renderTask.dispose(),s.remove(d.group),d.dispose(n,l),r.splice(c,1),delete o[d.__id],d.__id=d.group.__ecComponentInfo=null)}}function fe(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))}function ge(e,t,n,a){me(e,t,n,a),L(e._chartsViews,(function(e){e.__alive=!1})),ve(e,t,n,a),L(e._chartsViews,(function(e){e.__alive||e.remove(t,n)}))}function me(e,t,n,a,i){L(i||e._componentsViews,(function(e){var i=e.__model;e.render(i,t,n,a),Oe(i,e)}))}function ve(e,t,n,a,i){var r,o=e._scheduler;t.eachSeries((function(t){var n=e._chartsMap[t.__viewId];n.__alive=!0;var s=n.renderTask;o.updatePayload(s,a),i&&i.get(t.uid)&&s.dirty(),r|=s.perform(o.getPerformArgs(s)),n.group.silent=!!t.get("silent"),Oe(t,n),_e(t,n)})),o.unfinished|=r,we(e,t),C(e._zr.dom,t)}function be(e,t){L(je,(function(n){n(e,t)}))}ae.resize=function(e){if(this._disposed)xe(this.id);else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),a=e&&e.silent;this[Q]=!0,n&&oe(this),re.update.call(this),this[Q]=!1,ue.call(this,a),de.call(this,a)}}},ae.showLoading=function(e,t){if(this._disposed)xe(this.id);else if(A(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),Me[e]){var n=Me[e](this._api,t),a=this._zr;this._loadingFX=n,a.add(n)}},ae.hideLoading=function(){this._disposed?xe(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},ae.makeActionFromEvent=function(e){var t=r.extend({},e);return t.type=ke[e.type],t},ae.dispatchAction=function(e,t){this._disposed?xe(this.id):(A(t)||(t={silent:!!t}),Se[e.type]&&this._model&&(this[Q]?this._pendingActions.push(e):(ce.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&s.browser.weChat&&this._throttledZrFlush(),ue.call(this,t.silent),de.call(this,t.silent))))},ae.appendData=function(e){if(this._disposed)xe(this.id);else{var t=e.seriesIndex,n=this.getModel(),a=n.getSeriesByIndex(t);a.appendData(e),this._scheduler.unfinished=!0}},ae.on=ee("on",!1),ae.off=ee("off",!1),ae.one=ee("one",!1);var ye=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function xe(e){}function we(e,t){var n=e._zr,a=n.storage,i=0;a.traverse((function(e){i++})),i>t.get("hoverLayerThreshold")&&!s.node&&t.eachSeries((function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.group.traverse((function(e){e.useHoverLayer=!0}))}}))}function _e(e,t){var n=e.get("blendMode")||null;t.group.traverse((function(e){e.isGroup||e.style.blend!==n&&e.setStyle("blend",n),e.eachPendingDisplayable&&e.eachPendingDisplayable((function(e){e.setStyle("blend",n)}))}))}function Oe(e,t){var n=e.get("z"),a=e.get("zlevel");t.group.traverse((function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=a&&(e.zlevel=a))}))}function De(e){var t=e._coordSysMgr;return r.extend(new d(e),{getCoordinateSystems:r.bind(t.getCoordinateSystems,t),getComponentByElement:function(t){while(t){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}}})}function Ce(){this.eventInfo}ae._initEvents=function(){L(ye,(function(e){var t=function(t){var n,a=this.getModel(),i=t.target,o="globalout"===e;if(o)n={};else if(i&&null!=i.dataIndex){var s=i.dataModel||a.getSeriesByIndex(i.seriesIndex);n=s&&s.getDataParams(i.dataIndex,i.dataType,i)||{}}else i&&i.eventData&&(n=r.extend({},i.eventData));if(n){var l=n.componentType,c=n.componentIndex;"markLine"!==l&&"markPoint"!==l&&"markArea"!==l||(l="series",c=n.seriesIndex);var u=l&&null!=c&&a.getComponent(l,c),d=u&&this["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];n.event=t,n.type=e,this._ecEventProcessor.eventInfo={targetEl:i,packedEvent:n,model:u,view:d},this.trigger(e,n)}};t.zrEventfulCallAtLast=!0,this._zr.on(e,t,this)}),this),L(ke,(function(e,t){this._messageCenter.on(t,(function(e){this.trigger(t,e)}),this)}),this)},ae.isDisposed=function(){return this._disposed},ae.clear=function(){this._disposed?xe(this.id):this.setOption({series:[]},!0)},ae.dispose=function(){if(this._disposed)xe(this.id);else{this._disposed=!0,w.setAttribute(this.getDom(),Fe,"");var e=this._api,t=this._model;L(this._componentsViews,(function(n){n.dispose(t,e)})),L(this._chartsViews,(function(n){n.dispose(t,e)})),this._zr.dispose(),delete Ae[this.id]}},r.mixin(ne,c),Ce.prototype={constructor:Ce,normalizeQuery:function(e){var t={},n={},a={};if(r.isString(e)){var i=E(e);t.mainType=i.main||null,t.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};r.each(e,(function(e,i){for(var r=!1,l=0;l<o.length;l++){var c=o[l],u=i.lastIndexOf(c);if(u>0&&u===i.length-c.length){var d=i.slice(0,u);"data"!==d&&(t.mainType=d,t[c.toLowerCase()]=e,r=!0)}}s.hasOwnProperty(i)&&(n[i]=e,r=!0),r||(a[i]=e)}))}return{cptQuery:t,dataQuery:n,otherQuery:a}},filter:function(e,t,n){var a=this.eventInfo;if(!a)return!0;var i=a.targetEl,r=a.packedEvent,o=a.model,s=a.view;if(!o||!s)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,o,"mainType")&&u(l,o,"subType")&&u(l,o,"index","componentIndex")&&u(l,o,"name")&&u(l,o,"id")&&u(c,r,"name")&&u(c,r,"dataIndex")&&u(c,r,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,i,r));function u(e,t,n,a){return null==e[n]||t[a||n]===e[n]}},afterTrigger:function(){this.eventInfo=null}};var Se={},ke={},Te=[],Pe=[],je=[],Ie=[],Le={},Me={},Ae={},Ee={},ze=new Date-0,Re=new Date-0,Fe="_echarts_instance_";function Be(e){var t=0,n=1,a=2,i="__connectUpdateStatus";function r(e,t){for(var n=0;n<e.length;n++){var a=e[n];a[i]=t}}L(ke,(function(o,s){e._messageCenter.on(s,(function(o){if(Ee[e.group]&&e[i]!==t){if(o&&o.escapeConnect)return;var s=e.makeActionFromEvent(o),l=[];L(Ae,(function(t){t!==e&&t.group===e.group&&l.push(t)})),r(l,t),L(l,(function(e){e[i]!==n&&e.dispatchAction(s)})),r(l,a)}}))}))}function $e(e,t,n){var a=Ue(e);if(a)return a;var i=new ne(e,t,n);return i.id="ec_"+ze++,Ae[i.id]=i,w.setAttribute(e,Fe,i.id),Be(i),i}function qe(e){if(r.isArray(e)){var t=e;e=null,L(t,(function(t){null!=t.group&&(e=t.group)})),e=e||"g_"+Re++,L(t,(function(t){t.group=e}))}return Ee[e]=!0,e}function Ne(e){Ee[e]=!1}var He=Ne;function Ve(e){"string"===typeof e?e=Ae[e]:e instanceof ne||(e=Ue(e)),e instanceof ne&&!e.isDisposed()&&e.dispose()}function Ue(e){return Ae[w.getAttribute(e,Fe)]}function Ge(e){return Ae[e]}function We(e,t){Le[e]=t}function Je(e){Pe.push(e)}function Ye(e,t){nt(Te,e,t,B)}function Xe(e){je.push(e)}function Qe(e,t,n){"function"===typeof t&&(n=t,t="");var a=A(e)?e.type:[e,e={event:t}][0];e.event=(e.event||a).toLowerCase(),t=e.event,I(Z.test(a)&&Z.test(t)),Se[a]||(Se[a]={action:n,actionInfo:e}),ke[t]=a}function Ke(e,t){p.register(e,t)}function Ze(e){var t=p.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function et(e,t){nt(Ie,e,t,H,"layout")}function tt(e,t){nt(Ie,e,t,G,"visual")}function nt(e,t,n,a,i){(M(t)||A(t))&&(n=t,t=a);var r=k.wrapStageHandler(n,i);return r.__prio=t,r.__raw=n,e.push(r),r}function at(e,t){Me[e]=t}function it(e){return m.extend(e)}function rt(e){return b.extend(e)}function ot(e){return v.extend(e)}function st(e){return y.extend(e)}function lt(e){r.$override("createCanvas",e)}function ct(e,t,n){j.registerMap(e,t,n)}function ut(e){var t=j.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}}tt(U,D),Je(f),Ye(q,g),at("default",S),Qe({type:"highlight",event:"highlight",update:"highlight"},r.noop),Qe({type:"downplay",event:"downplay",update:"downplay"},r.noop),We("light",T),We("dark",P);var dt={};t.version=z,t.dependencies=R,t.PRIORITY=X,t.init=$e,t.connect=qe,t.disConnect=Ne,t.disconnect=He,t.dispose=Ve,t.getInstanceByDom=Ue,t.getInstanceById=Ge,t.registerTheme=We,t.registerPreprocessor=Je,t.registerProcessor=Ye,t.registerPostUpdate=Xe,t.registerAction=Qe,t.registerCoordinateSystem=Ke,t.getCoordinateSystemDimensions=Ze,t.registerLayout=et,t.registerVisual=tt,t.registerLoading=at,t.extendComponentModel=it,t.extendComponentView=rt,t.extendSeriesModel=ot,t.extendChartView=st,t.setCanvasCreator=lt,t.registerMap=ct,t.getMap=ut,t.dataTool=dt;var pt=n("b719");(function(){for(var e in pt)pt.hasOwnProperty(e)&&(t[e]=pt[e])})()},"401b":function(e,t){var n="undefined"===typeof Float32Array?Array:Float32Array;function a(e,t){var a=new n(2);return null==e&&(e=0),null==t&&(t=0),a[0]=e,a[1]=t,a}function i(e,t){return e[0]=t[0],e[1]=t[1],e}function r(e){var t=new n(2);return t[0]=e[0],t[1]=e[1],t}function o(e,t,n){return e[0]=t,e[1]=n,e}function s(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function l(e,t,n,a){return e[0]=t[0]+n[0]*a,e[1]=t[1]+n[1]*a,e}function c(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function u(e){return Math.sqrt(p(e))}var d=u;function p(e){return e[0]*e[0]+e[1]*e[1]}var h=p;function f(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function g(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function m(e,t){return e[0]*t[0]+e[1]*t[1]}function v(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function b(e,t){var n=u(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function y(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var x=y;function w(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var _=w;function O(e,t){return e[0]=-t[0],e[1]=-t[1],e}function D(e,t,n,a){return e[0]=t[0]+a*(n[0]-t[0]),e[1]=t[1]+a*(n[1]-t[1]),e}function C(e,t,n){var a=t[0],i=t[1];return e[0]=n[0]*a+n[2]*i+n[4],e[1]=n[1]*a+n[3]*i+n[5],e}function S(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function k(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}t.create=a,t.copy=i,t.clone=r,t.set=o,t.add=s,t.scaleAndAdd=l,t.sub=c,t.len=u,t.length=d,t.lenSquare=p,t.lengthSquare=h,t.mul=f,t.div=g,t.dot=m,t.scale=v,t.normalize=b,t.distance=y,t.dist=x,t.distanceSquare=w,t.distSquare=_,t.negate=O,t.lerp=D,t.applyTransform=C,t.min=S,t.max=k},"41c3":function(e,t,n){var a=n("1a8c"),i=n("eac5"),r=n("ec8c"),o=Object.prototype,s=o.hasOwnProperty;function l(e){if(!a(e))return r(e);var t=i(e),n=[];for(var o in e)("constructor"!=o||!t&&s.call(e,o))&&n.push(o);return n}e.exports=l},"41cf":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("表格例子")]),n("avue-crud",{attrs:{option:e.option,page:e.page,data:e.data},on:{"update:page":function(t){e.page=t}}})],1)},i=[],r={data:function(){return{page:{total:122},data:[{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"}],option:{column:[{label:"用户名",prop:"username",span:14,row:!0},{label:"姓名",prop:"name",span:14,row:!0},{label:"密码",prop:"password",type:"password",span:14,row:!0},{label:"确认密码",prop:"newpassword",type:"password",hide:!0,span:14,row:!0},{label:"申请日期",prop:"date",type:"date",span:14,row:!0},{label:"个性签名",prop:"textarea",type:"textarea",minRows:8,span:24,overHidden:!0,row:!0}]}}}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},"41ef":function(e,t,n){var a=n("d51b"),i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return e=Math.round(e),e<0?0:e>255?255:e}function o(e){return e=Math.round(e),e<0?0:e>360?360:e}function s(e){return e<0?0:e>1?1:e}function l(e){return e.length&&"%"===e.charAt(e.length-1)?r(parseFloat(e)/100*255):r(parseInt(e,10))}function c(e){return e.length&&"%"===e.charAt(e.length-1)?s(parseFloat(e)/100):s(parseFloat(e))}function u(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function d(e,t,n){return e+(t-e)*n}function p(e,t,n,a,i){return e[0]=t,e[1]=n,e[2]=a,e[3]=i,e}function h(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var f=new a(20),g=null;function m(e,t){g&&h(g,t),g=f.put(e,g||t.slice())}function v(e,t){if(e){t=t||[];var n=f.get(e);if(n)return h(t,n);e+="";var a=e.replace(/ /g,"").toLowerCase();if(a in i)return h(t,i[a]),m(e,t),t;if("#"!==a.charAt(0)){var r=a.indexOf("("),o=a.indexOf(")");if(-1!==r&&o+1===a.length){var s=a.substr(0,r),u=a.substr(r+1,o-(r+1)).split(","),d=1;switch(s){case"rgba":if(4!==u.length)return void p(t,0,0,0,1);d=c(u.pop());case"rgb":return 3!==u.length?void p(t,0,0,0,1):(p(t,l(u[0]),l(u[1]),l(u[2]),d),m(e,t),t);case"hsla":return 4!==u.length?void p(t,0,0,0,1):(u[3]=c(u[3]),b(u,t),m(e,t),t);case"hsl":return 3!==u.length?void p(t,0,0,0,1):(b(u,t),m(e,t),t);default:return}}p(t,0,0,0,1)}else{if(4===a.length){var g=parseInt(a.substr(1),16);return g>=0&&g<=4095?(p(t,(3840&g)>>4|(3840&g)>>8,240&g|(240&g)>>4,15&g|(15&g)<<4,1),m(e,t),t):void p(t,0,0,0,1)}if(7===a.length){g=parseInt(a.substr(1),16);return g>=0&&g<=16777215?(p(t,(16711680&g)>>16,(65280&g)>>8,255&g,1),m(e,t),t):void p(t,0,0,0,1)}}}}function b(e,t){var n=(parseFloat(e[0])%360+360)%360/360,a=c(e[1]),i=c(e[2]),o=i<=.5?i*(a+1):i+a-i*a,s=2*i-o;return t=t||[],p(t,r(255*u(s,o,n+1/3)),r(255*u(s,o,n)),r(255*u(s,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function y(e){if(e){var t,n,a=e[0]/255,i=e[1]/255,r=e[2]/255,o=Math.min(a,i,r),s=Math.max(a,i,r),l=s-o,c=(s+o)/2;if(0===l)t=0,n=0;else{n=c<.5?l/(s+o):l/(2-s-o);var u=((s-a)/6+l/2)/l,d=((s-i)/6+l/2)/l,p=((s-r)/6+l/2)/l;a===s?t=p-d:i===s?t=1/3+u-p:r===s&&(t=2/3+d-u),t<0&&(t+=1),t>1&&(t-=1)}var h=[360*t,n,c];return null!=e[3]&&h.push(e[3]),h}}function x(e,t){var n=v(e);if(n){for(var a=0;a<3;a++)n[a]=t<0?n[a]*(1-t)|0:(255-n[a])*t+n[a]|0,n[a]>255?n[a]=255:e[a]<0&&(n[a]=0);return T(n,4===n.length?"rgba":"rgb")}}function w(e){var t=v(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function _(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var a=e*(t.length-1),i=Math.floor(a),o=Math.ceil(a),l=t[i],c=t[o],u=a-i;return n[0]=r(d(l[0],c[0],u)),n[1]=r(d(l[1],c[1],u)),n[2]=r(d(l[2],c[2],u)),n[3]=s(d(l[3],c[3],u)),n}}var O=_;function D(e,t,n){if(t&&t.length&&e>=0&&e<=1){var a=e*(t.length-1),i=Math.floor(a),o=Math.ceil(a),l=v(t[i]),c=v(t[o]),u=a-i,p=T([r(d(l[0],c[0],u)),r(d(l[1],c[1],u)),r(d(l[2],c[2],u)),s(d(l[3],c[3],u))],"rgba");return n?{color:p,leftIndex:i,rightIndex:o,value:a}:p}}var C=D;function S(e,t,n,a){if(e=v(e),e)return e=y(e),null!=t&&(e[0]=o(t)),null!=n&&(e[1]=c(n)),null!=a&&(e[2]=c(a)),T(b(e),"rgba")}function k(e,t){if(e=v(e),e&&null!=t)return e[3]=s(t),T(e,"rgba")}function T(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}t.parse=v,t.lift=x,t.toHex=w,t.fastLerp=_,t.fastMapToColor=O,t.lerp=D,t.mapToColor=C,t.modifyHSL=S,t.modifyAlpha=k,t.stringify=T},4245:function(e,t,n){var a=n("1290");function i(e,t){var n=e.__data__;return a(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=i},"429e":function(e,t,n){},"42a2":function(e,t,n){var a=n("b5a7"),i=n("79bc"),r=n("1cec"),o=n("c869"),s=n("39ff"),l=n("3729"),c=n("dc57"),u="[object Map]",d="[object Object]",p="[object Promise]",h="[object Set]",f="[object WeakMap]",g="[object DataView]",m=c(a),v=c(i),b=c(r),y=c(o),x=c(s),w=l;(a&&w(new a(new ArrayBuffer(1)))!=g||i&&w(new i)!=u||r&&w(r.resolve())!=p||o&&w(new o)!=h||s&&w(new s)!=f)&&(w=function(e){var t=l(e),n=t==d?e.constructor:void 0,a=n?c(n):"";if(a)switch(a){case m:return g;case v:return u;case b:return p;case y:return h;case x:return f}return t}),e.exports=w},"42e5":function(e,t){var n=function(e){this.colorStops=e||[]};n.prototype={constructor:n,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var a=n;e.exports=a},"42f6":function(e,t,n){var a=n("3eba"),i=n("6d8b"),r=n("22d1"),o=n("07d7"),s=n("82f9"),l=n("eda2"),c=n("3842"),u=n("2306"),d=n("133d"),p=n("f934"),h=n("4319"),f=n("17d6"),g=n("697e"),m=n("ff2e"),v=n("e0d3"),b=v.getTooltipRenderMode,y=i.bind,x=i.each,w=c.parsePercent,_=new u.Rect({shape:{x:-1,y:-1,width:2,height:2}}),O=a.extendComponentView({type:"tooltip",init:function(e,t){if(!r.node){var n,a=e.getComponent("tooltip"),i=a.get("renderMode");this._renderMode=b(i),"html"===this._renderMode?(n=new o(t.getDom(),t,{appendToBody:a.get("appendToBody",!0)}),this._newLine="<br/>"):(n=new s(t),this._newLine="\n"),this._tooltipContent=n}},render:function(e,t,n){if(!r.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel,t=e.get("triggerOn");f.register("itemTooltip",this._api,y((function(e,n,a){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,a):"leave"===e&&this._hide(a))}),this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&a.manuallyShowTip(e,t,n,{x:a._lastX,y:a._lastY})}))}},manuallyShowTip:function(e,t,n,a){if(a.from!==this.uid&&!r.node){var i=C(a,n);this._ticket="";var o=a.dataByCoordSys;if(a.tooltip&&null!=a.x&&null!=a.y){var s=_;s.position=[a.x,a.y],s.update(),s.tooltip=a.tooltip,this._tryShow({offsetX:a.x,offsetY:a.y,target:s},i)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:a.dataByCoordSys,tooltipOption:a.tooltipOption},i);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,a))return;var l=d(a,t),c=l.point[0],u=l.point[1];null!=c&&null!=u&&this._tryShow({offsetX:c,offsetY:u,position:a.position,target:l.el},i)}else null!=a.x&&null!=a.y&&(n.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:n.getZr().findHover(a.x,a.y).target},i))}},manuallyHideTip:function(e,t,n,a){var i=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&i.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,a.from!==this.uid&&this._hide(C(a,n))},_manuallyAxisShowTip:function(e,t,n,a){var i=a.seriesIndex,r=a.dataIndex,o=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=r&&null!=o){var s=t.getSeriesByIndex(i);if(s){var l=s.getData();e=D([l.getItemModel(r),s,(s.coordinateSystem||{}).model,e]);if("axis"===e.get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:r,position:a.position}),!0}}},_tryShow:function(e,t){var n=e.target,a=this._tooltipModel;if(a){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=i.bind(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,a=this._tooltipModel,r=[t.offsetX,t.offsetY],o=[],s=[],c=D([t.tooltipOption,a]),u=this._renderMode,d=this._newLine,p={};x(e,(function(e){x(e.dataByAxis,(function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),a=e.value,r=[];if(t&&null!=a){var c=m.getValueLabel(a,t.axis,n,e.seriesDataIndices,e.valueLabelOpt);i.each(e.seriesDataIndices,(function(o){var l=n.getSeriesByIndex(o.seriesIndex),d=o.dataIndexInside,h=l&&l.getDataParams(d);if(h.axisDim=e.axisDim,h.axisIndex=e.axisIndex,h.axisType=e.axisType,h.axisId=e.axisId,h.axisValue=g.getAxisRawValue(t.axis,a),h.axisValueLabel=c,h){s.push(h);var f,m=l.formatTooltip(d,!0,null,u);if(i.isObject(m)){f=m.html;var v=m.markers;i.merge(p,v)}else f=m;r.push(f)}}));var h=c;"html"!==u?o.push(r.join(d)):o.push((h?l.encodeHTML(h)+d:"")+r.join(d))}}))}),this),o.reverse(),o=o.join(this._newLine+this._newLine);var h=t.position;this._showOrMove(c,(function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(c,h,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(c,o,s,Math.random(),r[0],r[1],h,void 0,p)}))},_showSeriesItemTooltip:function(e,t,n){var a=this._ecModel,r=t.seriesIndex,o=a.getSeriesByIndex(r),s=t.dataModel||o,l=t.dataIndex,c=t.dataType,u=s.getData(c),d=D([u.getItemModel(l),s,o&&(o.coordinateSystem||{}).model,this._tooltipModel]),p=d.get("trigger");if(null==p||"item"===p){var h,f,g=s.getDataParams(l,c),m=s.formatTooltip(l,!1,c,this._renderMode);i.isObject(m)?(h=m.html,f=m.markers):(h=m,f=null);var v="item_"+s.name+"_"+l;this._showOrMove(d,(function(){this._showTooltipContent(d,h,g,v,e.offsetX,e.offsetY,e.position,e.target,f)})),n({type:"showTip",dataIndexInside:l,dataIndex:u.getRawIndex(l),seriesIndex:r,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var a=t.tooltip;if("string"===typeof a){var i=a;a={content:i,formatter:i}}var r=new h(a,this._tooltipModel,this._ecModel),o=r.get("content"),s=Math.random();this._showOrMove(r,(function(){this._showTooltipContent(r,o,r.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t)})),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,a,i,r,o,s,c){if(this._ticket="",e.get("showContent")&&e.get("show")){var u=this._tooltipContent,d=e.get("formatter");o=o||e.get("position");var p=t;if(d&&"string"===typeof d)p=l.formatTpl(d,n,!0);else if("function"===typeof d){var h=y((function(t,a){t===this._ticket&&(u.setContent(a,c,e),this._updatePosition(e,o,i,r,u,n,s))}),this);this._ticket=a,p=d(n,a,h)}u.setContent(p,c,e),u.show(e),this._updatePosition(e,o,i,r,u,n,s)}},_updatePosition:function(e,t,n,a,r,o,s){var l=this._api.getWidth(),c=this._api.getHeight();t=t||e.get("position");var u=r.getSize(),d=e.get("align"),h=e.get("verticalAlign"),f=s&&s.getBoundingRect().clone();if(s&&f.applyTransform(s.transform),"function"===typeof t&&(t=t([n,a],o,r.el,f,{viewSize:[l,c],contentSize:u.slice()})),i.isArray(t))n=w(t[0],l),a=w(t[1],c);else if(i.isObject(t)){t.width=u[0],t.height=u[1];var g=p.getLayoutRect(t,{width:l,height:c});n=g.x,a=g.y,d=null,h=null}else if("string"===typeof t&&s){var m=T(t,f,u);n=m[0],a=m[1]}else{m=S(n,a,r,l,c,d?null:20,h?null:20);n=m[0],a=m[1]}if(d&&(n-=P(d)?u[0]/2:"right"===d?u[0]:0),h&&(a-=P(h)?u[1]/2:"bottom"===h?u[1]:0),e.get("confine")){m=k(n,a,r,l,c);n=m[0],a=m[1]}r.moveTo(n,a)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&x(t,(function(t,a){var i=t.dataByAxis||{},r=e[a]||{},o=r.dataByAxis||[];n&=i.length===o.length,n&&x(i,(function(e,t){var a=o[t]||{},i=e.seriesDataIndices||[],r=a.seriesDataIndices||[];n&=e.value===a.value&&e.axisType===a.axisType&&e.axisId===a.axisId&&i.length===r.length,n&&x(i,(function(e,t){var a=r[t];n&=e.seriesIndex===a.seriesIndex&&e.dataIndex===a.dataIndex}))}))})),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){r.node||(this._tooltipContent.dispose(),f.unregister("itemTooltip",t))}});function D(e){var t=e.pop();while(e.length){var n=e.pop();n&&(h.isInstance(n)&&(n=n.get("tooltip",!0)),"string"===typeof n&&(n={formatter:n}),t=new h(n,t,t.ecModel))}return t}function C(e,t){return e.dispatchAction||i.bind(t.dispatchAction,t)}function S(e,t,n,a,i,r,o){var s=n.getOuterSize(),l=s.width,c=s.height;return null!=r&&(e+l+r>a?e-=l+r:e+=r),null!=o&&(t+c+o>i?t-=c+o:t+=o),[e,t]}function k(e,t,n,a,i){var r=n.getOuterSize(),o=r.width,s=r.height;return e=Math.min(e+o,a)-o,t=Math.min(t+s,i)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function T(e,t,n){var a=n[0],i=n[1],r=5,o=0,s=0,l=t.width,c=t.height;switch(e){case"inside":o=t.x+l/2-a/2,s=t.y+c/2-i/2;break;case"top":o=t.x+l/2-a/2,s=t.y-i-r;break;case"bottom":o=t.x+l/2-a/2,s=t.y+c+r;break;case"left":o=t.x-a-r,s=t.y+c/2-i/2;break;case"right":o=t.x+l+r,s=t.y+c/2-i/2}return[o,s]}function P(e){return"center"===e||"middle"===e}e.exports=O},4319:function(e,t,n){var a=n("6d8b"),i=n("22d1"),r=n("e0d3"),o=r.makeInner,s=n("625e"),l=s.enableClassExtend,c=s.enableClassCheck,u=n("3901"),d=n("9bdb"),p=n("fe21"),h=n("551f"),f=a.mixin,g=o();function m(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function v(e,t,n){for(var a=0;a<t.length;a++)if(t[a]&&(e=e&&"object"===typeof e?e[t[a]]:null,null==e))break;return null==e&&n&&(e=n.get(t)),e}function b(e,t){var n=g(e).getParent;return n?n.call(e,t):e.parentModel}m.prototype={constructor:m,init:null,mergeOption:function(e){a.merge(this.option,e,!0)},get:function(e,t){return null==e?this.option:v(this.option,this.parsePath(e),!t&&b(this,e))},getShallow:function(e,t){var n=this.option,a=null==n?n:n[e],i=!t&&b(this,e);return null==a&&i&&(a=i.getShallow(e)),a},getModel:function(e,t){var n,a=null==e?this.option:v(this.option,e=this.parsePath(e));return t=t||(n=b(this,e))&&n.getModel(e),new m(a,t,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var e=this.constructor;return new e(a.clone(this.option))},setReadOnly:function(e){},parsePath:function(e){return"string"===typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){g(this).getParent=e},isAnimationEnabled:function(){if(!i.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},l(m),c(m),f(m,u),f(m,d),f(m,p),f(m,h);var y=m;e.exports=y},4359:function(e,t){function n(e,t){var n=-1,a=e.length;t||(t=Array(a));while(++n<a)t[n]=e[n];return t}e.exports=n},4436:function(e,t,n){var a=n("74cb");function i(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}i.prototype={constructor:i,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,r="string"===typeof i?a[i]:i,o="function"===typeof r?r(n):n;return this.fire("frame",o),1===n?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var r=i;e.exports=r},"44d0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-drawer",{attrs:{title:e.title,visible:e.drawerVisible,direction:"rtl","modal-append-to-body":!1,wrapperClosable:!1,size:"780px"},on:{"update:visible":function(t){e.drawerVisible=t}}},[n("compare-form",{ref:"compareForm",attrs:{data:e.form,disabled:e.disabled||"detail"===e.dialogType,rule:e.rule},on:{"update:data":function(t){e.form=t}}}),n("footer",{staticClass:"drawer-footer"},[e.disabled||"detail"===e.dialogType?e._e():n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("\n      确 定\n    ")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.drawerVisible=!1}}},[e._v("\n       "+e._s(e.disabled||"detail"===e.dialogType?"关 闭":" 取 消")+"\n    ")])],1)],1)},i=[],r=n("e815"),o={name:"condition-dialog",components:{compareForm:r["default"]},props:{visible:{type:Boolean,default:!1},disabled:Boolean,data:Object,dialogType:{type:String,default:"add",validator:function(e){return-1!==["add","detail","edit"].indexOf(e)}}},data:function(){return{form:{},rule:{desc:[{required:!0,message:"请输入条件描述",trigger:"blur"}]}}},computed:{drawerVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}},title:function(){var e="";switch(this.dialogType){case"add":e="新增 流程控制组件【判断条件 if】";break;case"edit":e="编辑 流程控制组件【判断条件 if】";break;case"detail":e="流程控制组件【判断条件 if】 详情";break}return e}},methods:{submitForm:function(){var e=this;this.$refs.compareForm.validate().then((function(){e.$emit("emitData",e.form),e.drawerVisible=!1}),(function(){e.$message({showClose:!0,message:"请完善信息！",type:"warning"})}))}},mounted:function(){this.data&&(this.form=Object.assign({},this.data))}},s=o,l=(n("6c43"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"e0afe214",null);t["default"]=c.exports},"44f7":function(e,t,n){},4573:function(e,t,n){var a=n("cbe5"),i=a.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,a=t.cy,i=2*Math.PI;e.moveTo(n+t.r,a),e.arc(n,a,t.r,0,i,!1),e.moveTo(n+t.r0,a),e.arc(n,a,t.r0,0,i,!0)}});e.exports=i},"45d5":function(e,t,n){"use strict";n("37ea")},4683:function(e,t,n){"use strict";n("29e1")},4765:function(e,t,n){"use strict";n("9ba8")},4766:function(e,t,n){"use strict";n("fba2")},"47e2":function(e,t,n){"use strict";n("7465")},"480d":function(e,t,n){"use strict";n("100c")},"48a0":function(e,t,n){var a=n("242e"),i=n("950a"),r=i(a);e.exports=r},"48a9":function(e,t,n){var a=n("6d8b"),i=n("42e5"),r=function(e,t,n,a,r,o){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==n?1:n,this.y2=null==a?0:a,this.type="linear",this.global=o||!1,i.call(this,r)};r.prototype={constructor:r},a.inherits(r,i);var o=r;e.exports=o},"48ac":function(e,t,n){var a=n("3eba"),i=a.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),r=i;e.exports=r},"48c7":function(e,t,n){var a=n("6d8b"),i=n("6cb7"),r=n("9e47"),o=n("2023"),s=i.extend({type:"cartesian2dAxis",axis:null,init:function(){s.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){s.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function l(e,t){return t.type||(t.data?"category":"value")}a.merge(s.prototype,o);var c={offset:0};r("x",s,l,c),r("y",s,l,c);var u=s;e.exports=u},4942:function(e,t,n){var a=n("2cf4"),i=a.debugMode,r=function(){};1===i&&(r=console.error);var o=r;e.exports=o},"49f4":function(e,t,n){var a=n("6044");function i(){this.__data__=a?a(null):{},this.size=0}e.exports=i},"4a3f":function(e,t,n){var a=n("401b"),i=a.create,r=a.distSquare,o=Math.pow,s=Math.sqrt,l=1e-8,c=1e-4,u=s(3),d=1/3,p=i(),h=i(),f=i();function g(e){return e>-l&&e<l}function m(e){return e>l||e<-l}function v(e,t,n,a,i){var r=1-i;return r*r*(r*e+3*i*t)+i*i*(i*a+3*r*n)}function b(e,t,n,a,i){var r=1-i;return 3*(((t-e)*r+2*(n-t)*i)*r+(a-n)*i*i)}function y(e,t,n,a,i,r){var l=a+3*(t-n)-e,c=3*(n-2*t+e),p=3*(t-e),h=e-i,f=c*c-3*l*p,m=c*p-9*l*h,v=p*p-3*c*h,b=0;if(g(f)&&g(m))if(g(c))r[0]=0;else{var y=-p/c;y>=0&&y<=1&&(r[b++]=y)}else{var x=m*m-4*f*v;if(g(x)){var w=m/f,_=(y=-c/l+w,-w/2);y>=0&&y<=1&&(r[b++]=y),_>=0&&_<=1&&(r[b++]=_)}else if(x>0){var O=s(x),D=f*c+1.5*l*(-m+O),C=f*c+1.5*l*(-m-O);D=D<0?-o(-D,d):o(D,d),C=C<0?-o(-C,d):o(C,d);y=(-c-(D+C))/(3*l);y>=0&&y<=1&&(r[b++]=y)}else{var S=(2*f*c-3*l*m)/(2*s(f*f*f)),k=Math.acos(S)/3,T=s(f),P=Math.cos(k),j=(y=(-c-2*T*P)/(3*l),_=(-c+T*(P+u*Math.sin(k)))/(3*l),(-c+T*(P-u*Math.sin(k)))/(3*l));y>=0&&y<=1&&(r[b++]=y),_>=0&&_<=1&&(r[b++]=_),j>=0&&j<=1&&(r[b++]=j)}}return b}function x(e,t,n,a,i){var r=6*n-12*t+6*e,o=9*t+3*a-3*e-9*n,l=3*t-3*e,c=0;if(g(o)){if(m(r)){var u=-l/r;u>=0&&u<=1&&(i[c++]=u)}}else{var d=r*r-4*o*l;if(g(d))i[0]=-r/(2*o);else if(d>0){var p=s(d),h=(u=(-r+p)/(2*o),(-r-p)/(2*o));u>=0&&u<=1&&(i[c++]=u),h>=0&&h<=1&&(i[c++]=h)}}return c}function w(e,t,n,a,i,r){var o=(t-e)*i+e,s=(n-t)*i+t,l=(a-n)*i+n,c=(s-o)*i+o,u=(l-s)*i+s,d=(u-c)*i+c;r[0]=e,r[1]=o,r[2]=c,r[3]=d,r[4]=d,r[5]=u,r[6]=l,r[7]=a}function _(e,t,n,a,i,o,l,u,d,g,m){var b,y,x,w,_,O=.005,D=1/0;p[0]=d,p[1]=g;for(var C=0;C<1;C+=.05)h[0]=v(e,n,i,l,C),h[1]=v(t,a,o,u,C),w=r(p,h),w<D&&(b=C,D=w);D=1/0;for(var S=0;S<32;S++){if(O<c)break;y=b-O,x=b+O,h[0]=v(e,n,i,l,y),h[1]=v(t,a,o,u,y),w=r(h,p),y>=0&&w<D?(b=y,D=w):(f[0]=v(e,n,i,l,x),f[1]=v(t,a,o,u,x),_=r(f,p),x<=1&&_<D?(b=x,D=_):O*=.5)}return m&&(m[0]=v(e,n,i,l,b),m[1]=v(t,a,o,u,b)),s(D)}function O(e,t,n,a){var i=1-a;return i*(i*e+2*a*t)+a*a*n}function D(e,t,n,a){return 2*((1-a)*(t-e)+a*(n-t))}function C(e,t,n,a,i){var r=e-2*t+n,o=2*(t-e),l=e-a,c=0;if(g(r)){if(m(o)){var u=-l/o;u>=0&&u<=1&&(i[c++]=u)}}else{var d=o*o-4*r*l;if(g(d)){u=-o/(2*r);u>=0&&u<=1&&(i[c++]=u)}else if(d>0){var p=s(d),h=(u=(-o+p)/(2*r),(-o-p)/(2*r));u>=0&&u<=1&&(i[c++]=u),h>=0&&h<=1&&(i[c++]=h)}}return c}function S(e,t,n){var a=e+n-2*t;return 0===a?.5:(e-t)/a}function k(e,t,n,a,i){var r=(t-e)*a+e,o=(n-t)*a+t,s=(o-r)*a+r;i[0]=e,i[1]=r,i[2]=s,i[3]=s,i[4]=o,i[5]=n}function T(e,t,n,a,i,o,l,u,d){var g,m=.005,v=1/0;p[0]=l,p[1]=u;for(var b=0;b<1;b+=.05){h[0]=O(e,n,i,b),h[1]=O(t,a,o,b);var y=r(p,h);y<v&&(g=b,v=y)}v=1/0;for(var x=0;x<32;x++){if(m<c)break;var w=g-m,_=g+m;h[0]=O(e,n,i,w),h[1]=O(t,a,o,w);y=r(h,p);if(w>=0&&y<v)g=w,v=y;else{f[0]=O(e,n,i,_),f[1]=O(t,a,o,_);var D=r(f,p);_<=1&&D<v?(g=_,v=D):m*=.5}}return d&&(d[0]=O(e,n,i,g),d[1]=O(t,a,o,g)),s(v)}t.cubicAt=v,t.cubicDerivativeAt=b,t.cubicRootAt=y,t.cubicExtrema=x,t.cubicSubdivide=w,t.cubicProjectPoint=_,t.quadraticAt=O,t.quadraticDerivativeAt=D,t.quadraticRootAt=C,t.quadraticExtremum=S,t.quadraticSubdivide=k,t.quadraticProjectPoint=T},"4a9d":function(e,t,n){var a=n("dcb3"),i=n("ff2e"),r=n("0156"),o=n("6679"),s=a.extend({makeElOption:function(e,t,n,a,o){var s=n.axis,u=s.grid,d=a.get("type"),p=l(u,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(t,!0));if(d&&"none"!==d){var f=i.buildElStyle(a),g=c[d](s,h,p);g.style=f,e.graphicKey=g.type,e.pointer=g}var m=r.layout(u.model,n);i.buildCartesianSingleLabelElOption(t,e,m,n,a,o)},getHandleTransform:function(e,t,n){var a=r.layout(t.axis.grid.model,t,{labelInside:!1});return a.labelMargin=n.get("handle.margin"),{position:i.getTransformedPosition(t.axis,e,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,a){var i=n.axis,r=i.grid,o=i.getGlobalExtent(!0),s=l(r,i).getOtherAxis(i).getGlobalExtent(),c="x"===i.dim?0:1,u=e.position;u[c]+=t[c],u[c]=Math.min(o[1],u[c]),u[c]=Math.max(o[0],u[c]);var d=(s[1]+s[0])/2,p=[d,d];p[c]=u[c];var h=[{verticalAlign:"middle"},{align:"center"}];return{position:u,rotation:e.rotation,cursorPoint:p,tooltipOption:h[c]}}});function l(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var c={line:function(e,t,n){var a=i.makeLineShape([t,n[0]],[t,n[1]],u(e));return{type:"Line",subPixelOptimize:!0,shape:a}},shadow:function(e,t,n){var a=Math.max(1,e.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:i.makeRectShape([t-a/2,n[0]],[a,r],u(e))}}};function u(e){return"x"===e.dim?0:1}o.registerAxisPointerClass("CartesianAxisPointer",s);var d=s;e.exports=d},"4aa1":function(e,t,n){},"4aa2":function(e,t,n){var a=n("cbe5"),i=n("897a"),r=a.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:i(a.prototype.brush),buildPath:function(e,t){var n=t.cx,a=t.cy,i=Math.max(t.r0||0,0),r=Math.max(t.r,0),o=t.startAngle,s=t.endAngle,l=t.clockwise,c=Math.cos(o),u=Math.sin(o);e.moveTo(c*i+n,u*i+a),e.lineTo(c*r+n,u*r+a),e.arc(n,a,r,o,s,!l),e.lineTo(Math.cos(s)*i+n,Math.sin(s)*i+a),0!==i&&e.arc(n,a,i,s,o,l),e.closePath()}});e.exports=r},"4b9f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("div",{staticClass:"wel"},[n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-platform-eleme",text:"开始菜单1",time:"1",background:"/img/bg/bg3.jpg",color:"#d56259"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-eleme",text:"开始菜单2",time:"2",background:"/img/bg/bg2.jpg",color:"#419ce7"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-delete-solid",text:"开始菜单3",time:"3",color:"#56b69b"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-delete",text:"开始菜单4",time:"4",color:"#d44858"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-tools",text:"开始菜单5",time:"5",color:"#3a1f7e"}}),n("basic-block",{attrs:{width:410,height:e.height,icon:"el-icon-setting",text:"开始菜单6",time:"6",background:"/img/bg/bg1.jpg",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#422829"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-user-solid",text:"开始菜单7",time:"7",color:"#613cbd"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-star-off",text:"开始菜单8",time:"8",color:"#da542e"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-goods",text:"开始菜单9",time:"9",color:"#2e8aef"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-circle-check",text:"开始菜单10",time:"10",color:"#3d17b8"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-platform",text:"开始菜单11",time:"11",color:"#e31462"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-fold",text:"开始菜单12",time:"12",color:"#d9532d"}}),n("basic-block",{attrs:{width:410,height:e.height,icon:"el-icon-s-open",text:"开始菜单13",time:"13",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#b72147"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-flag",text:"开始菜单14",time:"14",color:"#01a100"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-data",text:"开始菜单15",time:"15",color:"#0c56bf"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-grid",text:"开始菜单16",time:"16",color:"#0098a9"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-release",text:"开始菜单17",time:"17",background:"/img/bg/bg2.jpg",color:"#209bdf"}}),n("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-home",text:"开始菜单18",time:"18",background:"/img/bg/bg3.jpg",color:"#603bbc"}}),n("basic-block",{attrs:{width:515,height:e.height,icon:"el-icon-s-promotion",text:"开始菜单19",time:"19",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#009bad"}}),n("basic-block",{attrs:{width:515,height:e.height,icon:"el-icon-s-custom",text:"开始菜单20",time:"20",background:"/img/bg/bg4.jpg",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#d74e2a"}})],1)])},i=[],r={data:function(){return{width:200,height:120}}},o=r,s=(n("e5fd"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},"4c07":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"exec-condition"},[n("el-checkbox",{attrs:{disabled:e.disabled},model:{value:e.step.stop,callback:function(t){e.$set(e.step,"stop",t)},expression:"step.stop"}},[e._v("是否执行完此步骤后结束")])],1),n("step-requests",e._b({ref:"stepRequests",attrs:{data:e.stepRequestsData,disabled:e.disabled},on:{"update:data":function(t){e.stepRequestsData=t}}},"step-requests",e.$attrs,!1)),n("h2",[e._v("\n    配置步骤结果 "),n("el-button",{attrs:{type:"text"},on:{click:function(t){e.showResult=!e.showResult}}},[e._v(e._s(e.showResult?"收起":"展开"))])],1),n("div",[e.showResult?n("data-params",e._b({staticClass:"highlight-border",attrs:{"body-name":"结果","has-query":!1,"has-header":!1,data:e.step.dataMapping.response,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(t){return e.$set(e.step.dataMapping,"response",t)}}},"data-params",e.$attrs,!1)):e._e()],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("5e9f"),s=n("942a"),l=n("5880");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"step-item",data:function(){return{stepRequestsData:{requests:[],components:[]},step:{},showResult:!1}},inheritAttrs:!1,props:{data:{type:Array,default:function(){return{}}},disabled:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{stepRequests:o["default"],dataParams:s["default"]},computed:{},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},stepRequestsData:{immediate:!0,deep:!0,handler:function(e){this.$set(this.step,"requests",e.requests||[]),this.$set(this.step,"components",e.components||[])}}},methods:u(u({},Object(l["mapActions"])(["updateValidateStep"])),{},{initData:function(){this.step=this.data||{name:"Step 1",stop:!1,requests:[],components:[],dataMapping:{}},this.$set(this.stepRequestsData,"requests",this.step.requests),this.$set(this.stepRequestsData,"components",this.step.components)},validate:function(){var e=this;return this.emitData(),new Promise((function(t,n){e.$refs.stepRequests.validate((function(e){e?t():n()}))}))},emitData:function(){this.$emit("update:data",this.step)}})},p=d,h=(n("c968"),n("2877")),f=Object(h["a"])(p,a,i,!1,null,"47e7786b",null);t["default"]=f.exports},"4c0d":function(e,t,n){},"4c19":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"access",fn:function(t){var a=t.row;return["a"==a.access?n("el-tag",{attrs:{type:"success"}},[e._v("允许")]):e._e(),"f"==a.access?n("el-tag",{attrs:{type:"danger"}},[e._v("禁止")]):e._e()]}},{key:"gatewayGroupSearch",fn:function(t){return[n("el-select",{attrs:{placeholder:"网关分组",filterable:"",clearable:""},model:{value:e.search.gatewayGroup,callback:function(t){e.$set(e.search,"gatewayGroup",t)},expression:"search.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}},{key:"pluginNamesSearch",fn:function(t){return[n("el-select",{attrs:{placeholder:"插件",multiple:"",filterable:"",clearable:"","collapse-tags":""},model:{value:e.search.plugin,callback:function(t){e.$set(e.search,"plugin",t)},expression:"search.plugin"}},e._l(e.pluginOptions,(function(e){return n("el-option",{key:e.id,attrs:{label:e.chnName,value:e.id}})})),1)]}},{key:"methodSearch",fn:function(t){return[n("el-select",{attrs:{placeholder:"请求方法",multiple:"",clearable:"","collapse-tags":""},model:{value:e.search.method,callback:function(t){e.$set(e.search,"method",t)},expression:"search.method"}},e._l(e.apiMethod,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("5880"),s=n("c54a"),l=n("27fc"),c=n("b30b");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,viewBtn:!0,columnBtn:!1,menuPosition:"right",column:[{label:"网关分组",prop:"gatewayGroup",search:!0,searchslot:!0,overHidden:!0,type:"select",dicData:[]},{label:"回调方式",prop:"callbackType",dicData:l["c"],search:!0,type:"select"},{label:"前端服务名",prop:"service",search:!0,searchLabelWidth:90,overHidden:!0},{label:"前端路径",prop:"path",search:!0,searchLabelWidth:100,overHidden:!0},{label:"请求方法",prop:"method",search:!0,type:"select",searchslot:!0},{label:"插件",prop:"pluginNames",search:!0,searchslot:!0,overHidden:!0,type:"select"},{label:"访问",prop:"access",width:70,slot:!0,search:!0,type:"select",dicData:l["a"]}]},data:[],search:{}}},computed:d(d({},Object(o["mapGetters"])(["permission","apiMethod","groupOptions","pluginOptions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.proxy_api_add,!1),editBtn:this.vaildData(this.permission.proxy_api_edit,!1),viewBtn:this.vaildData(this.permission.proxy_api_view,!1),delBtn:this.vaildData(this.permission.proxy_api_delete,!1)}}}),created:function(){this.getPluginOptions(),this.getGroupOptions()},watch:{groupOptions:function(e){var t=this.findObject(this.option.column,"gatewayGroup");t.dicData=e||[]}},methods:d(d({},Object(o["mapActions"])(["getGroupOptions","getPluginOptions"])),{},{beforeOpen:function(e,t){if("add"===t||this.form.id){var n="/callback/detail/".concat(t);this.$router.push({path:n,query:{originId:this.form.id}})}else this.$message.error("数据缺失，无法操作！")},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(c["d"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.method&&Object(s["b"])(e.method)&&(e.method_in=e.method.join(",")||"",delete e.method),e.plugin&&Object(s["b"])(e.plugin)&&(e.pluginId_in=e.plugin.join(",")||"",delete e.plugin),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(c["c"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}})},h=p,f=n("2877"),g=Object(f["a"])(h,a,i,!1,null,null,null);t["default"]=g.exports},"4c68":function(e,t,n){"use strict";n("ef38")},"4c7d":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/callback-request/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-request/detail/").concat(e),method:"get"})},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])({url:"".concat(r["a"],"/callback-request/replay"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-request/callback-receivers/").concat(e),method:"get"})}},"4caa":function(e,t,n){var a=n("a919"),i=n("76dd"),r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",l="\\u20d0-\\u20ff",c=o+s+l,u="["+c+"]",d=RegExp(u,"g");function p(e){return e=i(e),e&&e.replace(r,a).replace(d,"")}e.exports=p},"4e08":function(e,t,n){(function(e){var n;"undefined"!==typeof window?n=window.__DEV__:"undefined"!==typeof e&&(n=e.__DEV__),"undefined"===typeof n&&(n=!0);var a=n;t.__DEV__=a}).call(this,n("c8ba"))},"4e3c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wel-index"},[n("gateway-data"),n("licensed-footer")],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("5880"),s=n("36fc"),l=n("d322");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"wel",data:function(){return{}},computed:u({},Object(o["mapGetters"])(["userInfo"])),components:{gatewayData:s["default"],licensedFooter:l["default"]},created:function(){},methods:{}},p=d,h=n("2877"),f=Object(h["a"])(p,a,i,!1,null,null,null);t["default"]=f.exports},"4f50":function(e,t,n){var a=n("b760"),i=n("e538"),r=n("c8fe"),o=n("4359"),s=n("fa21"),l=n("d370"),c=n("6747"),u=n("dcbe"),d=n("0d24"),p=n("9520"),h=n("1a8c"),f=n("60ed"),g=n("73ac"),m=n("8adb"),v=n("8de2");function b(e,t,n,b,y,x,w){var _=m(e,n),O=m(t,n),D=w.get(O);if(D)a(e,n,D);else{var C=x?x(_,O,n+"",e,t,w):void 0,S=void 0===C;if(S){var k=c(O),T=!k&&d(O),P=!k&&!T&&g(O);C=O,k||T||P?c(_)?C=_:u(_)?C=o(_):T?(S=!1,C=i(O,!0)):P?(S=!1,C=r(O,!0)):C=[]:f(O)||l(O)?(C=_,l(_)?C=v(_):h(_)&&!p(_)||(C=s(O))):S=!1}S&&(w.set(O,C),y(C,O,b,x,w),w["delete"](O)),a(e,n,C)}}e.exports=b},"4f85":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=n("22d1"),o=n("eda2"),s=o.formatTime,l=o.encodeHTML,c=o.addCommas,u=o.getTooltipMarker,d=n("e0d3"),p=n("6cb7"),h=n("e47b"),f=n("38a2"),g=n("f934"),m=g.getLayoutParams,v=g.mergeLayoutParam,b=n("f47d"),y=b.createTask,x=n("0f99"),w=x.prepareSource,_=x.getSource,O=n("2b17"),D=O.retrieveRawValue,C=d.makeInner(),S=p.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,n,a){this.seriesIndex=this.componentIndex,this.dataTask=y({count:P,reset:j}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),w(this);var i=this.getInitialData(e,n);L(i,this),this.dataTask.context.data=i,C(this).dataBeforeProcessed=i,k(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,a=n?m(e):{},r=this.subType;p.hasClass(r)&&(r+="Series"),i.merge(e,t.getTheme().get(this.subType)),i.merge(e,this.getDefaultOption()),d.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&v(e,a,n)},mergeOption:function(e,t){e=i.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&v(this.option,e,n),w(this);var a=this.getInitialData(e,t);L(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,C(this).dataBeforeProcessed=a,k(this)},fillDataTextStyle:function(e){if(e&&!i.isTypedArray(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&d.defaultEmphasis(e[n],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=A(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return C(this).data},setData:function(e){var t=A(this);if(t){var n=t.context;n.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}C(this).data=e},getSource:function(){return _(this)},getRawData:function(){return C(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n,a){var r=this;a=a||"html";var o="html"===a?"<br/>":"\n",p="richText"===a,h={},f=0;function g(n){var o=i.reduce(n,(function(e,t,n){var a=v.getDimensionInfo(n);return e|(a&&!1!==a.tooltip&&null!=a.displayName)}),0),d=[];function g(e,n){var i=v.getDimensionInfo(n);if(i&&!1!==i.otherDims.tooltip){var g=i.type,m="sub"+r.seriesIndex+"at"+f,b=u({color:_,type:"subItem",renderMode:a,markerId:m}),y="string"===typeof b?b:b.content,x=(o?y+l(i.displayName||"-")+": ":"")+l("ordinal"===g?e+"":"time"===g?t?"":s("yyyy/MM/dd hh:mm:ss",e):c(e));x&&d.push(x),p&&(h[m]=_,++f)}}b.length?i.each(b,(function(t){g(D(v,e,t),t)})):i.each(n,g);var m=o?p?"\n":"<br/>":"",y=m+d.join(m||", ");return{renderMode:a,content:y,style:h}}function m(e){return{renderMode:a,content:l(c(e)),style:h}}var v=this.getData(),b=v.mapDimension("defaultedTooltip",!0),y=b.length,x=this.getRawValue(e),w=i.isArray(x),_=v.getItemVisual(e,"color");i.isObject(_)&&_.colorStops&&(_=(_.colorStops[0]||{}).color),_=_||"transparent";var O=y>1||w&&!y?g(x):m(y?D(v,e,b[0]):w?x[0]:x),C=O.content,S=r.seriesIndex+"at"+f,k=u({color:_,type:"item",renderMode:a,markerId:S});h[S]=_,++f;var T=v.getName(e),P=this.name;d.isNameSpecified(this)||(P=""),P=P?l(P)+(t?": ":o):"";var j="string"===typeof k?k:k.content,I=t?j+P+C:P+j+(T?l(T)+": "+C:C);return{html:I,markers:h}},isAnimationEnabled:function(){if(r.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var a=this.ecModel,i=h.getColorFromPalette.call(this,e,t,n);return i||(i=a.getColorFromPalette(e,t,n)),i},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function k(e){var t=e.name;d.isNameSpecified(e)||(e.name=T(e)||t)}function T(e){var t=e.getRawData(),n=t.mapDimension("seriesName",!0),a=[];return i.each(n,(function(e){var n=t.getDimensionInfo(e);n.displayName&&a.push(n.displayName)})),a.join(" ")}function P(e){return e.model.getRawData().count()}function j(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),I}function I(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function L(e,t){i.each(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,i.curry(M,t))}))}function M(e){var t=A(e);t&&t.setOutputEnd(this.count())}function A(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var a=n.currentTask;if(a){var i=a.agentStubMap;i&&(a=i.get(e.uid))}return a}}i.mixin(S,f),i.mixin(S,h);var E=S;e.exports=E},"4fac":function(e,t,n){var a=n("620b"),i=n("9c2c");function r(e,t,n){var r=t.points,o=t.smooth;if(r&&r.length>=2){if(o&&"spline"!==o){var s=i(r,o,n,t.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var l=r.length,c=0;c<(n?l:l-1);c++){var u=s[2*c],d=s[2*c+1],p=r[(c+1)%l];e.bezierCurveTo(u[0],u[1],d[0],d[1],p[0],p[1])}}else{"spline"===o&&(r=a(r,n)),e.moveTo(r[0][0],r[0][1]);c=1;for(var h=r.length;c<h;c++)e.lineTo(r[c][0],r[c][1])}n&&e.closePath()}}t.buildPath=r},"4fda":function(e,t,n){"use strict";n("2627")},"50d8":function(e,t){function n(e,t){var n=-1,a=Array(e);while(++n<e)a[n]=t(n);return a}e.exports=n},"51a5":function(e,t,n){"use strict";n("de3f")},"522c":function(e,t,n){},5344:function(e,t,n){},5375:function(e,t,n){},5402:function(e,t,n){"use strict";n("1ee0")},5442:function(e,t,n){"use strict";n("10b6")},5450:function(e,t,n){n("7419"),n("29a9")},"54eb":function(e,t,n){var a=n("8eeb"),i=n("32f4");function r(e,t){return a(e,i(e),t)}e.exports=r},"551f":function(e,t,n){var a=n("282b"),i=a([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),r={getItemStyle:function(e,t){var n=i(this,e,t),a=this.getBorderLineDash();return a&&(n.lineDash=a),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}};e.exports=r},5558:function(e,t,n){"use strict";n("bb86")},5589:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("表单例子")]),n("avue-form",{attrs:{option:e.option},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r={data:function(){return{form:{},option:{labelWidth:110,column:[{label:"用户名",prop:"username",row:!0},{label:"密码",prop:"password",type:"password",row:!0},{label:"再次输入密码",prop:"password",type:"newpassword",row:!0},{label:"申请日期",prop:"date",type:"date",row:!0},{label:"个性签名",prop:"textarea",type:"textarea",minRows:8,row:!0}]}}}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},5596:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-wrapper"},[n("div",{ref:"login",staticClass:"login-container",nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}}},[n("top-color",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]}),n("div",{staticClass:"login-weaper animated bounceInDown"},[n("div",{staticClass:"login-left"},[n("div",{staticClass:"login-time"},[e._v("\n          "+e._s(e.time)+"\n        ")]),n("img",{staticClass:"img",attrs:{src:"/img/logo.png",alt:""}}),n("p",{staticClass:"title"},[e._v(e._s(e.$t("login.info")))])]),n("div",{staticClass:"login-border"},[n("div",{staticClass:"login-main"},[n("h4",{staticClass:"login-title"},[e._v("\n            "+e._s(e.$t("login.title"))+e._s(e.website.title)+"\n            ")]),"user"===e.activeName?n("userLogin"):"code"===e.activeName?n("codeLogin"):"third"===e.activeName?n("thirdLogin"):e._e()],1)])])],1),n("div",{staticClass:"login-footer"},[n("licensed-footer")],1)])},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("7c05"),s=n("acd4"),l=n("124f"),c=n("5880"),u=n("84df"),d=n("c54a"),p=n("c7cc"),h=n("44b2"),f=n("d322");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={name:"login",components:{userLogin:o["default"],codeLogin:s["default"],thirdLogin:l["default"],topLang:p["default"],topColor:h["default"],licensedFooter:f["default"]},data:function(){return{time:"",activeName:"user",socialForm:{}}},watch:{$route:function(){var e=this.$route.query;if(this.socialForm.state=e.state,this.socialForm.code=e.code,!Object(d["j"])(this.socialForm.state)){var t=this.$loading({lock:!0,text:"".concat("WX"===this.socialForm.state?"微信":"QQ","登录中,请稍后。。。"),spinner:"el-icon-loading"});setTimeout((function(){t.close()}),2e3)}}},created:function(){var e=this;this.getTime(),setInterval((function(){e.getTime()}),1e3)},mounted:function(){},computed:m({},Object(c["mapGetters"])(["website"])),props:[],methods:{getTime:function(){this.time=Object(u["b"])(new Date)}}},b=v,y=(n("5442"),n("d1ba"),n("2877")),x=Object(y["a"])(b,a,i,!1,null,"4cce4280",null);t["default"]=x.exports},"55a3":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"55fd":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"serviceSearch",fn:function(t){return[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.frontendServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),n("el-dialog",{attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[n("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.dialogRules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"155px"}},[n("el-form-item",{attrs:{label:"前端服务名",prop:"service"}},[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.dialogForm.service,callback:function(t){e.$set(e.dialogForm,"service",t)},expression:"dialogForm.service"}},e._l(e.frontendServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"前端API路径",prop:"path"}},[n("el-input",{attrs:{placeholder:"请输入前端API路径",clearable:""},model:{value:e.dialogForm.path,callback:function(t){e.$set(e.dialogForm,"path",t)},expression:"dialogForm.path"}}),n("span",{staticClass:"key-tips"},[e._v("如果接口URL为http://网关IP:port/proxy/user-service/user/list, 则输入/user/list，如果不配置路径则按服务限流")])],1),n("el-form-item",{attrs:{label:"集群共享QPS",prop:"qps"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.qps*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.qps,callback:function(t){e.$set(e.dialogForm,"qps",t)},expression:"dialogForm.qps"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),n("el-form-item",{attrs:{label:"集群共享并发数",prop:"concurrent"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.concurrent*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.concurrent,callback:function(t){e.$set(e.dialogForm,"concurrent",t)},expression:"dialogForm.concurrent"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),n("el-form-item",{attrs:{label:"限流响应ContentType:",prop:"responseContentType"}},[n("el-input",{attrs:{placeholder:"请输入ContentType",clearable:""},model:{value:e.dialogForm.responseContentType,callback:function(t){e.$set(e.dialogForm,"responseContentType",t)},expression:"dialogForm.responseContentType"}}),n("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应ContentType")])],1),n("el-form-item",{attrs:{label:"限流响应报文：",prop:"responseContent"}},[n("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入响应报文",clearable:""},model:{value:e.dialogForm.responseContent,callback:function(t){e.$set(e.dialogForm,"responseContent",t)},expression:"dialogForm.responseContent"}}),n("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应报文")])],1)],1),"view"!==e.detailDialog.type?n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("6762"),n("2fdb"),n("ade3")),o=n("b5c6"),s=n("da71");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/path/list"),method:"get",params:c(c({},n),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/path/detail/").concat(e),method:"get"})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/path/remove"),method:"post",params:{ids:e}})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/path/save"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/path/update"),method:"post",data:e})},g=n("6be7"),m=n("5880"),v=n("16cd");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={name:"flow-api",data:function(){return{form:{},search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",searchLabelWidth:95,column:[{label:"前端服务名",prop:"service",search:!0,searchslot:!0},{label:"前端API路径",prop:"path",search:!0},{label:"单机QPS",prop:"qps"},{label:"单机并发数",prop:"concurrent"}]},data:[],globalData:{},dialogForm:{},dialogRules:{service:[{required:!0,message:"必填",trigger:"change"}],path:[{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}],qps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],concurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1}}},computed:y(y({},Object(m["mapGetters"])(["permission","frontendServiceOptions"])),{},{machineCount:function(){return this.globalData.machineCount||0}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},created:function(){this.getGlobalRule(),this.getFrontendServiceOptions()},methods:y(y({},Object(m["mapActions"])(["getFrontendServiceOptions"])),{},{getGlobalRule:function(){var e=this;Object(g["b"])().then((function(t){var n=t.data.data;e.globalData=n||{}}))},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var n=Object(v["b"])(e.dialogForm);if(!n.qps&&!n.concurrent)return e.$message.error("单机QPS、单机并发数，请至少填写一个"),!1;"edit"===e.detailDialog.type?e.rowUpdate(n):e.rowSave(n)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,h(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,f(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("你确定要删除此流控规则吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var n=this;switch(this.dialogForm={},this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}["edit","view"].includes(t)?d(this.form.id).then((function(e){n.form=e.data.data,n.dialogForm=Object.assign({},e.data.data||{}),n.detailDialog.visible=!0})):this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}})},w=x,_=(n("3b77"),n("2877")),O=Object(_["a"])(w,a,i,!1,null,"6ace1b84",null);t["default"]=O.exports},"561f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("数据展示")]),n("avue-data-pay",{attrs:{option:e.option}})],1)},i=[],r={data:function(){var e=this;return{option:{span:8,data:[{title:"后台模版",src:"/img/bg/vip1.png",money:"299",dismoney:"199",tip:"/永久",color:"#808695",subtext:"购买",click:function(){e.box=!0},list:[{title:"点击体验",href:"https://cli1.avue.top",check:!0},{title:"面向全屏幕尺寸的响应式适配能力",check:!0},{title:"支持IE9+等系列浏览器",check:!0},{title:"全新的前端错误日志监控机制",check:!0},{title:"基于最新的avuex底层开发",check:!0},{title:"前端路由动态服务端加载",check:!0},{title:"灵活的多款主题自由配置",check:!0},{title:"模块的可拆卸化,达到开箱即用",check:!0},{title:"免费的私人git私服"},{title:"专属会员群"},{title:"前端最新干货分享"},{title:"赠送 Avue-cli脚手架文档（价值¥59.99）",href:"https://www.kancloud.cn/smallwei/avue"},{title:"赠送 Avue 修仙系列视频教程",href:"https://www.bilibili.com/video/av24644922",check:!0}]},{title:"Avuex源码",src:"/img/bg/vip2.png",color:"#ffa820",money:"999",dismoney:"399",tip:"/永久",subtext:"购买",click:function(){e.box=!0},list:[{title:"一键集成表格的导出excel,打印,等功能",check:!0},{title:"底层代码可重用轻松对接多个UI框架",check:!0},{title:"底层更加完善的开发错误调试机制",check:!0},{title:"一套代码多个终端自适应",check:!0},{title:"一键集成表格的导出excel，打印，等常用功能",check:!0},{title:"表格的批量操作,表单的级联操作更加便捷",check:!0},{title:"新增大量常用组件（搜索，选项卡）",check:!0},{title:"新增大量全新可配置的骚属性",check:!0},{title:"丰富的数据展示模版组件包",check:!0},{title:"专属的开发者文档，助你快速掌握",check:!0},{title:"赠送 Avue-cli脚手架文档（价值¥59.99）",href:"https://www.kancloud.cn/smallwei/avue",check:!0},{title:"赠送 Avue 修仙系列视频教程",href:"https://www.bilibili.com/video/av24644922",check:!0}]},{title:"全家桶",src:"/img/bg/vip3.png",color:"#ef4868",money:"999.99",dismoney:"399.99",tip:"/永久",subtext:"购买",click:function(){e.box=!0},list:[{title:"授权商业化开发,永久更新授权使用",check:!0},{title:"后期更新和新产品将全部免费",check:!0},{title:"拥有avuex系列的全部特权和全部源码",check:!0},{title:"免费的私人git私服",check:!0},{title:"专属会员群",check:!0},{title:"前端最新干货分享",check:!0},{title:"赠送 Avue-cli脚手架文档（价值¥59.99）",href:"https://www.kancloud.cn/smallwei/avue",check:!0},{title:"赠送 Avue 修仙系列视频教程",href:"https://www.bilibili.com/video/av24644922",check:!0}]}]}}}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},"562e":function(e,t,n){var a=n("6d8b");function i(e){null!=e&&a.extend(this,e),this.otherDims={}}var r=i;e.exports=r},5693:function(e,t){function n(e,t){var n,a,i,r,o,s=t.x,l=t.y,c=t.width,u=t.height,d=t.r;c<0&&(s+=c,c=-c),u<0&&(l+=u,u=-u),"number"===typeof d?n=a=i=r=d:d instanceof Array?1===d.length?n=a=i=r=d[0]:2===d.length?(n=i=d[0],a=r=d[1]):3===d.length?(n=d[0],a=r=d[1],i=d[2]):(n=d[0],a=d[1],i=d[2],r=d[3]):n=a=i=r=0,n+a>c&&(o=n+a,n*=c/o,a*=c/o),i+r>c&&(o=i+r,i*=c/o,r*=c/o),a+i>u&&(o=a+i,a*=u/o,i*=u/o),n+r>u&&(o=n+r,n*=u/o,r*=u/o),e.moveTo(s+n,l),e.lineTo(s+c-a,l),0!==a&&e.arc(s+c-a,l+a,a,-Math.PI/2,0),e.lineTo(s+c,l+u-i),0!==i&&e.arc(s+c-i,l+u-i,i,0,Math.PI/2),e.lineTo(s+r,l+u),0!==r&&e.arc(s+r,l+u-r,r,Math.PI/2,Math.PI),e.lineTo(s,l+n),0!==n&&e.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}t.buildPath=n},"56c5":function(e,t,n){"use strict";n("2087")},5734:function(e,t,n){"use strict";n("bfbe")},5789:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("h3",[e._v("表格权限控制")]),n("avue-crud",{ref:"crud",attrs:{permission:e.permission,option:e.option,data:e.data},scopedSlots:e._u([{key:"expand",fn:function(t){return[e._v("\n        "+e._s(t)+"\n      ")]}}])})],1),n("basic-container",[e._v("\n    权限开关\n    "),n("el-switch",{attrs:{"active-value":!1,"inactive-value":!0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),n("p",[e._v(" 具体参考"),n("a",{attrs:{href:"https://avuex.avue.top/#/doc/crud-permission"}},[e._v("https://avuex.avue.top/#/doc/crud-permission")])])],1)],1)},i=[],r={data:function(){return{text:!1,permission:{},option:{expand:!0,column:[{label:"姓名",prop:"name"},{label:"年龄",prop:"sex"}]},data:[{id:1,name:"张三",sex:12},{id:2,name:"李四",sex:20}]}},watch:{text:function(){!0===this.text?this.permission={delBtn:!1,addBtn:!1}:this.permission={delBtn:!0,addBtn:!0}}}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},"57a5":function(e,t,n){var a=n("91e9"),i=a(Object.keys,Object);e.exports=i},"58df":function(e,t,n){var a=n("6d8b"),i=n("2306");function r(e,t,n,r){var o=n.axis;if(!o.scale.isBlank()){var s=n.getModel("splitArea"),l=s.getModel("areaStyle"),c=l.get("color"),u=r.coordinateSystem.getRect(),d=o.getTicksCoords({tickModel:s,clamp:!0});if(d.length){var p=c.length,h=e.__splitAreaColors,f=a.createHashMap(),g=0;if(h)for(var m=0;m<d.length;m++){var v=h.get(d[m].tickValue);if(null!=v){g=(v+(p-1)*m)%p;break}}var b=o.toGlobalCoord(d[0].coord),y=l.getAreaStyle();c=a.isArray(c)?c:[c];for(m=1;m<d.length;m++){var x,w,_,O,D=o.toGlobalCoord(d[m].coord);o.isHorizontal()?(x=b,w=u.y,_=D-x,O=u.height,b=x+_):(x=u.x,w=b,_=u.width,O=D-w,b=w+O);var C=d[m-1].tickValue;null!=C&&f.set(C,g),t.add(new i.Rect({anid:null!=C?"area_"+C:null,shape:{x:x,y:w,width:_,height:O},style:a.defaults({fill:c[g]},y),silent:!0})),g=(g+1)%p}e.__splitAreaColors=f}}}function o(e){e.__splitAreaColors=null}t.rectCoordAxisBuildSplitArea=r,t.rectCoordAxisHandleRemove=o},"5a43":function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"5aa9":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=i.isObject,o=i.each,s=i.map,l=i.indexOf,c=(i.retrieve,n("f934")),u=c.getLayoutRect,d=n("697e"),p=d.createScaleByModel,h=d.ifAxisCrossZero,f=d.niceScaleExtent,g=d.estimateLabelUnionRect,m=n("cbe9"),v=n("ec02"),b=n("2039"),y=n("ee1a"),x=y.getStackedDimension;function w(e,t,n){return e.getCoordSysModel()===t}function _(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}n("8ed2");var O=_.prototype;function D(e,t,n,a){n.getAxesOnZeroOf=function(){return i?[i]:[]};var i,r=e[t],o=n.model,s=o.get("axisLine.onZero"),l=o.get("axisLine.onZeroAxisIndex");if(s){if(null!=l)C(r[l])&&(i=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&C(r[c])&&!a[u(r[c])]){i=r[c];break}i&&(a[u(i)]=!0)}function u(e){return e.dim+"_"+e.index}}function C(e){return e&&"category"!==e.type&&"time"!==e.type&&h(e)}function S(e,t){var n=e.getExtent(),a=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return a-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return a-e+t}}O.type="grid",O.axisPointerEnabled=!0,O.getRect=function(){return this._rect},O.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),o(n.x,(function(e){f(e.scale,e.model)})),o(n.y,(function(e){f(e.scale,e.model)}));var a={};o(n.x,(function(e){D(n,"y",e,a)})),o(n.y,(function(e){D(n,"x",e,a)})),this.resize(this.model,t)},O.resize=function(e,t,n){var a=u(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=a;var i=this._axesList;function r(){o(i,(function(e){var t=e.isHorizontal(),n=t?[0,a.width]:[0,a.height],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),S(e,t?a.x:a.y)}))}r(),!n&&e.get("containLabel")&&(o(i,(function(e){if(!e.model.get("axisLabel.inside")){var t=g(e);if(t){var n=e.isHorizontal()?"height":"width",i=e.model.get("axisLabel.margin");a[n]-=t[n]+i,"top"===e.position?a.y+=t.height+i:"left"===e.position&&(a.x+=t.width+i)}}})),r())},O.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var a in n)if(n.hasOwnProperty(a))return n[a];return n[t]}},O.getAxes=function(){return this._axesList.slice()},O.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}r(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===e||i[a].getAxis("y").index===t)return i[a]},O.getCartesians=function(){return this._coordsList.slice()},O.convertToPixel=function(e,t,n){var a=this._findConvertTarget(e,t);return a.cartesian?a.cartesian.dataToPoint(n):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(n)):null},O.convertFromPixel=function(e,t,n){var a=this._findConvertTarget(e,t);return a.cartesian?a.cartesian.pointToData(n):a.axis?a.axis.coordToData(a.axis.toLocalCoord(n)):null},O._findConvertTarget=function(e,t){var n,a,i=t.seriesModel,r=t.xAxisModel||i&&i.getReferringComponents("xAxis")[0],o=t.yAxisModel||i&&i.getReferringComponents("yAxis")[0],s=t.gridModel,c=this._coordsList;if(i)n=i.coordinateSystem,l(c,n)<0&&(n=null);else if(r&&o)n=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)a=this.getAxis("x",r.componentIndex);else if(o)a=this.getAxis("y",o.componentIndex);else if(s){var u=s.coordinateSystem;u===this&&(n=this._coordsList[0])}return{cartesian:n,axis:a}},O.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},O._initCartesian=function(e,t,n){var a={left:!1,right:!1,top:!1,bottom:!1},i={x:{},y:{}},r={x:0,y:0};if(t.eachComponent("xAxis",s("x"),this),t.eachComponent("yAxis",s("y"),this),!r.x||!r.y)return this._axesMap={},void(this._axesList=[]);function s(n){return function(o,s){if(w(o,e,t)){var l=o.get("position");"x"===n?"top"!==l&&"bottom"!==l&&(l=a.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=a.left?"right":"left"),a[l]=!0;var c=new v(n,p(o),[0,0],o.get("type"),l),u="category"===c.type;c.onBand=u&&o.get("boundaryGap"),c.inverse=o.get("inverse"),o.axis=c,c.model=o,c.grid=this,c.index=s,this._axesList.push(c),i[n][s]=c,r[n]++}}}this._axesMap=i,o(i.x,(function(t,n){o(i.y,(function(a,i){var r="x"+n+"y"+i,o=new m(r);o.grid=this,o.model=e,this._coordsMap[r]=o,this._coordsList.push(o),o.addAxis(t),o.addAxis(a)}),this)}),this)},O._updateScale=function(e,t){function n(e,t,n){o(e.mapDimension(t.dim,!0),(function(n){t.scale.unionExtentFromData(e,x(e,n))}))}o(this._axesList,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeries((function(a){if(P(a)){var i=T(a,e),r=i[0],o=i[1];if(!w(r,t,e)||!w(o,t,e))return;var s=this.getCartesian(r.componentIndex,o.componentIndex),l=a.getData(),c=s.getAxis("x"),u=s.getAxis("y");"list"===l.type&&(n(l,c,a),n(l,u,a))}}),this)},O.getTooltipAxes=function(e){var t=[],n=[];return o(this.getCartesians(),(function(a){var i=null!=e&&"auto"!==e?a.getAxis(e):a.getBaseAxis(),r=a.getOtherAxis(i);l(t,i)<0&&t.push(i),l(n,r)<0&&n.push(r)})),{baseAxes:t,otherAxes:n}};var k=["xAxis","yAxis"];function T(e,t){return s(k,(function(t){var n=e.getReferringComponents(t)[0];return n}))}function P(e){return"cartesian2d"===e.get("coordinateSystem")}_.create=function(e,t){var n=[];return e.eachComponent("grid",(function(a,i){var r=new _(a,e,t);r.name="grid_"+i,r.resize(a,t,!0),a.coordinateSystem=r,n.push(r)})),e.eachSeries((function(t){if(P(t)){var n=T(t,e),a=n[0],i=n[1],r=a.getCoordSysModel(),o=r.coordinateSystem;t.coordinateSystem=o.getCartesian(a.componentIndex,i.componentIndex)}})),n},_.dimensions=_.prototype.dimensions=m.prototype.dimensions,b.register("cartesian2d",_);var j=_;e.exports=j},"5ad20":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("标签")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.push("/test/index")}}},[e._v("打开一个页面\n  ")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.$avueRouter.closeTag("/test/index")}}},[e._v("关闭打开的页面\n  ")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.$avueRouter.closeTag()}}},[e._v("关闭本标签\n  ")])],1)},i=[],r={methods:{}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},"5b01":function(e,t,n){var a=n("8eeb"),i=n("ec69");function r(e,t){return e&&a(t,i(t),e)}e.exports=r},"5c69":function(e,t,n){var a=n("087d"),i=n("0621");function r(e,t,n,o,s){var l=-1,c=e.length;n||(n=i),s||(s=[]);while(++l<c){var u=e[l];t>0&&n(u)?t>1?r(u,t-1,n,o,s):a(s,u):o||(s[s.length]=u)}return s}e.exports=r},"5cf2":function(e,t,n){},"5d17":function(e,t,n){"use strict";n("c2ee")},"5d89":function(e,t,n){var a=n("f8af");function i(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}e.exports=i},"5d8a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen,"before-close":e.beforeClose},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"tree-load":e.treeLoad},scopedSlots:e._u([{key:"menu",fn:function(t){return[e.userInfo.role_name.includes("admin")?n("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(n){return n.stopPropagation(),e.handleAdd(t.row,t.index)}}},[e._v("新增子项\n      ")]):e._e()]}},{key:"source",fn:function(e){var t=e.row;return[n("div",{staticStyle:{"text-align":"center"}},[n("i",{class:t.source})])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.menu_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("a6dc"),s=n("5880"),l=n("2457"),c=n("d9a3");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,selectionList:[],parentId:0,page:{pageSize:10,currentPage:1,total:0},option:{lazy:!0,tip:!1,simplePage:!0,searchShow:!0,searchMenuSpan:6,dialogWidth:"60%",tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:300,dialogClickModal:!1,column:[{label:"菜单名称",prop:"name",search:!0,rules:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},{label:"路由地址",prop:"path",rules:[{required:!0,message:"请输入路由地址",trigger:"blur"}]},{label:"上级菜单",prop:"parentId",type:"tree",dicData:[],hide:!0,props:{label:"title"},rules:[{required:!1,message:"请选择上级菜单",trigger:"click"}]},{label:"菜单图标",prop:"source",type:"icon",slot:!0,iconList:l["a"],rules:[{required:!0,message:"请输入菜单图标",trigger:"click"}]},{label:"菜单编号",prop:"code",search:!0,rules:[{required:!0,message:"请输入菜单编号",trigger:"blur"}]},{label:"菜单类型",prop:"category",type:"radio",dicData:[{label:"菜单",value:1},{label:"按钮",value:2}],hide:!0,rules:[{required:!0,message:"请选择菜单类型",trigger:"blur"}]},{label:"菜单别名",prop:"alias",search:!0,rules:[{required:!0,message:"请输入菜单别名",trigger:"blur"}]},{label:"菜单排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入菜单排序",trigger:"blur"}]},{label:"菜单备注",prop:"remark",type:"textarea",span:24,minRows:2,hide:!0}]},data:[]}},watch:{"form.category":function(){var e=c["a"].toInt(this.form.category);this.$refs.crud.option.column.filter((function(t){"path"===t.prop&&(t.rules[0].required=1===e)}))}},computed:d(d({},Object(s["mapGetters"])(["userInfo","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.menu_add,!1),viewBtn:this.vaildData(this.permission.menu_view,!1),delBtn:this.vaildData(this.permission.menu_delete,!1),editBtn:this.vaildData(this.permission.menu_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{initData:function(){var e=this;Object(o["e"])().then((function(t){var n=e.findObject(e.option.column,"parentId");n.dicData=t.data.data}))},handleAdd:function(e){this.form={parentId:e.id};var t=this.findObject(this.option.column,"parentId");t.addDisabled=!0,this.$refs.crud.rowAdd()},rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(n){a.onLoad(a.page);var i=n.data.data;e.id=i.id,a.$message({type:"success",message:"操作成功!"}),t(e)}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["i"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n(e)}),(function(e){window.console.log(e),a()}))},rowDel:function(e,t,n){var a=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),n(e)}))},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.data=[],e.parentId=0,e.$refs.crud.refreshTable(),e.$refs.crud.toggleSelection(),e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"})})):this.$message.warning("请选择至少一条数据")},searchReset:function(){this.query={},this.parentId=0,this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.parentId="",this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},beforeOpen:function(e,t){var n=this;["add","edit"].includes(t)&&this.initData(),["edit","view"].includes(t)&&Object(o["d"])(this.form.id).then((function(e){n.form=e.data.data})),e()},beforeClose:function(e){this.form={};var t=this.findObject(this.option.column,"parentId");t.addDisabled=!1,e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(this.parentId,Object.assign(n,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))},treeLoad:function(e,t,n){var a=e.id;Object(o["b"])(a).then((function(e){n(e.data.data)}))}}},h=p,f=n("2877"),g=Object(f["a"])(h,a,i,!1,null,null,null);t["default"]=g.exports},"5dde":function(e,t,n){},"5e2e":function(e,t,n){var a=n("28c9"),i=n("69d5"),r=n("b4c0"),o=n("fba5"),s=n("67ca");function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype["delete"]=i,l.prototype.get=r,l.prototype.has=o,l.prototype.set=s,e.exports=l},"5e68":function(e,t,n){var a=n("6d8b"),i=n("2cf4"),r=i.devicePixelRatio,o=n("2b61"),s=n("dc2f");function l(){return!1}function c(e,t,n){var i=a.createCanvas(),r=t.getWidth(),o=t.getHeight(),s=i.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=r+"px",s.height=o+"px",i.setAttribute("data-zr-dom-id",e)),i.width=r*n,i.height=o*n,i}var u=function(e,t,n){var i;n=n||r,"string"===typeof e?i=c(e,t,n):a.isObject(e)&&(i=e,e=i.id),this.id=e,this.dom=i;var o=i.style;o&&(i.onselectstart=l,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o["padding"]=0,o["margin"]=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};u.prototype={constructor:u,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=c("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,a=this.dom,i=a.style,r=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),a.width=e*n,a.height=t*n,r&&(r.width=e*n,r.height=t*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(e,t){var n,a=this.dom,i=this.ctx,r=a.width,l=a.height,c=(t=t||this.clearColor,this.motionBlur&&!e),u=this.lastFrameAlpha,d=this.dpr;(c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,r/d,l/d)),i.clearRect(0,0,r,l),t&&"transparent"!==t)&&(t.colorStops?(n=t.__canvasGradient||o.getGradient(i,t,{x:0,y:0,width:r,height:l}),t.__canvasGradient=n):t.image&&(n=s.prototype.getCanvasPattern.call(t,i)),i.save(),i.fillStyle=n||t,i.fillRect(0,0,r,l),i.restore());if(c){var p=this.domBack;i.save(),i.globalAlpha=u,i.drawImage(p,0,0,r,l),i.restore()}}};var d=u;e.exports=d},"5e76":function(e,t,n){var a=n("d51b"),i=new a(50);function r(e){if("string"===typeof e){var t=i.get(e);return t&&t.image}return e}function o(e,t,n,a,r){if(e){if("string"===typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var o=i.get(e),c={hostEl:n,cb:a,cbPayload:r};return o?(t=o.image,!l(t)&&o.pending.push(c)):(t=new Image,t.onload=t.onerror=s,i.put(e,t.__cachedImgObj={image:t,pending:[c]}),t.src=t.__zrImageSrc=e),t}return e}return t}function s(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],a=n.cb;a&&a(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function l(e){return e&&e.width&&e.height}t.findExistImage=r,t.createOrUpdateImage=o,t.isImageReady=l},"5e9f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"requests-con"},[n("add-component",{staticClass:"add-component-con",attrs:{data:e.components,disabled:e.disabled},on:{"update:data":function(t){e.components=t}}}),n("div",{staticClass:"add-request-btn"},[e.disabled?e._e():n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(t){return e.addTab()}}},[e._v("\n      添加请求\n    ")])],1),n("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-remove":e.removeTab},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.requestList,(function(t){return n("el-tab-pane",{key:t.name,attrs:{name:t.name,label:t.name,closable:e.requestList&&e.requestList.length>1&&!e.disabled}},[n("request-item",e._b({ref:"requestItem",refInFor:!0,attrs:{data:t,disabled:e.disabled},on:{"update:data":function(e){t=e}}},"request-item",e.$attrs,!1))],1)})),1)],1)},i=[],r=(n("20d6"),n("5df3"),n("ac6a"),n("28a5"),n("c5f6"),n("7f7f"),n("fd89")),o=n("c983"),s="request",l={name:"step-requests",data:function(){return{currentTab:"",requestList:[],maxIndex:0,components:[]}},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{requests:[],components:[]}}},disabled:{type:Boolean,default:!1}},components:{requestItem:r["default"],addComponent:o["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(){var e=this,t=this.data||{},n=t.requests,a=t.components;this.components=a||[],n&&0!==n.length||0!==this.requestList.length?n&&n.length>0&&(this.requestList=n,this.currentTab=this.requestList.filter((function(t){return t.name===e.currentTab})).length>0?this.currentTab:this.requestList[0].name,this.maxIndex=Number(n[n.length-1].name.split(s)[1])||0):this.addTab()}}},methods:{validate:function(e){if(this.emitData(),this.requestList&&this.requestList.length>0){var t=[];this.$refs.requestItem.forEach((function(e){t.push(e.validate())})),Promise.all(t).then((function(){e(!0)})).catch((function(){e(!1)}))}else e(!0)},emitData:function(){this.$emit("update:data",{requests:this.requestList,components:this.components})},addTab:function(){this.currentTab="".concat(s).concat(++this.maxIndex),this.requestList.push({name:this.currentTab,type:"REQUEST",fallback:{},condition:{},dataMapping:{request:{contentType:"application/json"},response:{contentType:"auto"}},conditionFlag:!1})},removeTab:function(e){var t=this;this.$confirm("确定删除请求".concat(e,"?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=t.requestList.findIndex((function(t){return t.name==e}));n>-1&&(t.requestList.splice(n,1),t.requestList.length>0&&t.currentTab===e?t.currentTab=t.requestList[t.requestList.length-1].name:0===t.requestList.length&&(t.currentTab="".concat(s).concat(t.maxIndex+1)))}))}}},c=l,u=(n("069e"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"bd627848",null);t["default"]=d.exports},"5f14":function(e,t,n){var a=n("6d8b"),i=n("41ef"),r=n("3842"),o=r.linearMap,s=a.each,l=a.isObject,c=-1,u=function(e){var t=e.mappingMethod,n=e.type,i=this.option=a.clone(e);this.type=n,this.mappingMethod=t,this._normalizeData=O[t];var r=d[n];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[t],"piecewise"===t?(f(i),p(i)):"category"===t?i.categories?h(i):f(i,!0):(a.assert("linear"!==t||i.dataExtent),f(i))};u.prototype={constructor:u,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return a.bind(this._normalizeData,this)}};var d=u.visualHandlers={color:{applyVisual:v("color"),getColorMapper:function(){var e=this.option;return a.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),b.call(this,e)}:function(t,n,a){var r=!!a;return!n&&(t=this._normalizeData(t)),a=i.fastLerp(t,e.parsedVisual,a),r?a:i.stringify(a,"rgba")},this)},_doMap:{linear:function(e){return i.stringify(i.fastLerp(e,this.option.parsedVisual),"rgba")},category:b,piecewise:function(e,t){var n=w.call(this,t);return null==n&&(n=i.stringify(i.fastLerp(e,this.option.parsedVisual),"rgba")),n},fixed:y}},colorHue:g((function(e,t){return i.modifyHSL(e,t)})),colorSaturation:g((function(e,t){return i.modifyHSL(e,null,t)})),colorLightness:g((function(e,t){return i.modifyHSL(e,null,null,t)})),colorAlpha:g((function(e,t){return i.modifyAlpha(e,t)})),opacity:{applyVisual:v("opacity"),_doMap:x([0,1])},liftZ:{applyVisual:v("liftZ"),_doMap:{linear:y,category:y,piecewise:y,fixed:y}},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(a.isString(i))n("symbol",i);else if(l(i))for(var r in i)i.hasOwnProperty(r)&&n(r,i[r])},_doMap:{linear:m,category:b,piecewise:function(e,t){var n=w.call(this,t);return null==n&&(n=m.call(this,e)),n},fixed:y}},symbolSize:{applyVisual:v("symbolSize"),_doMap:x([0,1])}};function p(e){var t=e.pieceList;e.hasSpecialVisual=!1,a.each(t,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}))}function h(e){var t=e.categories,n=e.visual,i=e.categoryMap={};if(s(t,(function(e,t){i[e]=t})),!a.isArray(n)){var r=[];a.isObject(n)?s(n,(function(e,t){var n=i[t];r[null!=n?n:c]=e})):r[c]=n,n=_(e,r)}for(var o=t.length-1;o>=0;o--)null==n[o]&&(delete i[t[o]],t.pop())}function f(e,t){var n=e.visual,i=[];a.isObject(n)?s(n,(function(e){i.push(e)})):null!=n&&i.push(n);var r={color:1,symbol:1};t||1!==i.length||r.hasOwnProperty(e.type)||(i[1]=i[0]),_(e,i)}function g(e){return{applyVisual:function(t,n,a){t=this.mapValueToVisual(t),a("color",e(n("color"),t))},_doMap:x([0,1])}}function m(e){var t=this.option.visual;return t[Math.round(o(e,[0,1],[0,t.length-1],!0))]||{}}function v(e){return function(t,n,a){a(e,this.mapValueToVisual(t))}}function b(e){var t=this.option.visual;return t[this.option.loop&&e!==c?e%t.length:e]}function y(){return this.option.visual[0]}function x(e){return{linear:function(t){return o(t,e,this.option.visual,!0)},category:b,piecewise:function(t,n){var a=w.call(this,n);return null==a&&(a=o(t,e,this.option.visual,!0)),a},fixed:y}}function w(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var a=u.findPieceIndex(e,n),i=n[a];if(i&&i.visual)return i.visual[this.type]}}function _(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=a.map(t,(function(e){return i.parse(e)}))),t}var O={linear:function(e){return o(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=u.findPieceIndex(e,t,!0);if(null!=n)return o(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?c:t},fixed:a.noop};function D(e,t,n){return e?t<=n:t<n}u.listVisualTypes=function(){var e=[];return a.each(d,(function(t,n){e.push(n)})),e},u.addVisualHandler=function(e,t){d[e]=t},u.isValidType=function(e){return d.hasOwnProperty(e)},u.eachVisual=function(e,t,n){a.isObject(e)?a.each(e,t,n):t.call(n,e)},u.mapVisual=function(e,t,n){var i,r=a.isArray(e)?[]:a.isObject(e)?{}:(i=!0,null);return u.eachVisual(e,(function(e,a){var o=t.call(n,e,a);i?r=o:r[a]=o})),r},u.retrieveVisuals=function(e){var t,n={};return e&&s(d,(function(a,i){e.hasOwnProperty(i)&&(n[i]=e[i],t=!0)})),t?n:null},u.prepareVisualTypes=function(e){if(l(e)){var t=[];s(e,(function(e,n){t.push(n)})),e=t}else{if(!a.isArray(e))return[];e=e.slice()}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},u.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},u.findPieceIndex=function(e,t,n){for(var a,i=1/0,r=0,o=t.length;r<o;r++){var s=t[r].value;if(null!=s){if(s===e||"string"===typeof s&&s===e+"")return r;n&&d(s,r)}}for(r=0,o=t.length;r<o;r++){var l=t[r],c=l.interval,u=l.close;if(c){if(c[0]===-1/0){if(D(u[1],e,c[1]))return r}else if(c[1]===1/0){if(D(u[0],c[0],e))return r}else if(D(u[0],c[0],e)&&D(u[1],e,c[1]))return r;n&&d(c[0],r),n&&d(c[1],r)}}if(n)return e===1/0?t.length-1:e===-1/0?0:a;function d(t,n){var r=Math.abs(t-e);r<i&&(i=r,a=n)}};var C=u;e.exports=C},6044:function(e,t,n){var a=n("0b07"),i=a(Object,"create");e.exports=i},"607d":function(e,t,n){var a=n("1fab");t.Dispatcher=a;var i=n("22d1"),r=n("65ed"),o=r.isCanvasEl,s=r.transformCoordWithViewport,l="undefined"!==typeof window&&!!window.addEventListener,c=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,u=[];function d(e,t,n,a){return n=n||{},a||!i.canvasSupported?p(e,t,n):i.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):p(e,t,n),n}function p(e,t,n){if(i.domSupported&&e.getBoundingClientRect){var a=t.clientX,r=t.clientY;if(o(e)){var l=e.getBoundingClientRect();return n.zrX=a-l.left,void(n.zrY=r-l.top)}if(s(u,e,a,r))return n.zrX=u[0],void(n.zrY=u[1])}n.zrX=n.zrY=0}function h(e){return e||window.event}function f(e,t,n){if(t=h(t),null!=t.zrX)return t;var a=t.type,i=a&&a.indexOf("touch")>=0;if(i){var r="touchend"!==a?t.targetTouches[0]:t.changedTouches[0];r&&d(e,r,t,n)}else d(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var o=t.button;return null==t.which&&void 0!==o&&c.test(t.type)&&(t.which=1&o?1:2&o?3:4&o?2:0),t}function g(e,t,n,a){l?e.addEventListener(t,n,a):e.attachEvent("on"+t,n)}function m(e,t,n,a){l?e.removeEventListener(t,n,a):e.detachEvent("on"+t,n)}var v=l?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function b(e){return 2===e.which||3===e.which}function y(e){return e.which>1}t.clientToLocal=d,t.getNativeEvent=h,t.normalizeEvent=f,t.addEventListener=g,t.removeEventListener=m,t.stop=v,t.isMiddleOrRightButtonOnMouseUpDown=b,t.notLeftMouse=y},6093:function(e,t,n){"use strict";n("cb79")},"60cc":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"plugin-config",model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.pluginData,(function(t,a){return n("el-collapse-item",{key:a,attrs:{name:t.id,title:t.chnName,disabled:!t.config}},[n("template",{slot:"title"},[n("div",{staticClass:"plugin-title"},[n("div",{staticClass:"plugin-title-left"},[n("span",[e._v(e._s(a+1)+"#  "+e._s(t.chnName))]),n("span",{staticStyle:{"margin-left":"20px"},on:{click:function(e){e.stopPropagation()}}},[n("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("执行顺序")]),n("el-input-number",{attrs:{size:"mini","controls-position":"right",disabled:e.disabled},model:{value:t.order,callback:function(n){e.$set(t,"order",n)},expression:"item.order"}})],1)]),n("div",{staticClass:"plugin-title-right"},[n("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",disabled:e.disabled,circle:""},on:{click:function(n){return n.stopPropagation(),e.delPlugin(t,a)}}})],1)])]),n("plugin-form",{ref:"pluginForm",refInFor:!0,attrs:{disabled:e.disabled,config:t.config,order:t.order,name:t.chnName,data:t.apiPluginConfigs},on:{"update:data":function(n){return e.$set(t,"apiPluginConfigs",n)}}})],2)})),1)},i=[],r=(n("5df3"),n("ac6a"),n("6cdf")),o={data:function(){return{loading:!1,activeNames:[],pluginData:[]}},props:{config:{type:[Array,Object],required:!0,default:function(){return[]}},disabled:{default:!1,type:Boolean}},components:{pluginForm:r["default"]},watch:{config:{deep:!0,handler:function(){this.initPluginData()}}},methods:{addCollapseActive:function(e){var t=e.id,n=this.activeNames.some((function(e){return e===t}));!n&&e.config&&t&&this.activeNames.push(t)},delPlugin:function(e,t){this.activeNames.splice(this.activeNames.indexOf(e.id),1),this.pluginData.splice(t,1),this.emitData()},validate:function(e){if(this.emitData(),this.pluginData&&this.pluginData.length>0){var t=[];this.$refs.pluginForm.forEach((function(e){t.push(e.validate())})),Promise.all(t).then((function(){e(!0)})).catch((function(t){e(!1,t)}))}else e(!0)},emitData:function(){this.$emit("change",this.pluginData)},initPluginData:function(){var e=this;this.pluginData=[],this.config&&this.config.length&&(this.loading=!0,this.config.forEach((function(t){e.addCollapseActive(t),e.pluginData.push(Object.assign({},t))})),this.loading=!1)}}},s=o,l=(n("5558"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,null,null);t["default"]=c.exports},"60dc":function(e,t,n){},"60e3":function(e,t,n){var a=n("6d8b"),i={get:function(e,t,n){var i=a.clone((r[e]||{})[t]);return n&&a.isArray(i)?i[i.length-1]:i}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},o=i;e.exports=o},"60ed":function(e,t,n){var a=n("3729"),i=n("2dcb"),r=n("1310"),o="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object);function p(e){if(!r(e)||a(e)!=o)return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}e.exports=p},"60f8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.role_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e(),e.userInfo.role_name.includes("admin")?n("el-button",{attrs:{size:"small",icon:"el-icon-setting",plain:""},on:{click:e.handleRole}},[e._v("权限设置\n      ")]):e._e()],1)],2),n("el-dialog",{attrs:{title:"角色权限配置","append-to-body":"",visible:e.box,width:"345px"},on:{"update:visible":function(t){e.box=t}}},[n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"菜单权限"}},[n("el-tree",{ref:"treeMenu",attrs:{data:e.menuGrantList,"show-checkbox":"","node-key":"id","default-checked-keys":e.menuTreeObj,props:e.props}})],1),n("el-tab-pane",{attrs:{label:"数据权限"}},[n("el-tree",{ref:"treeDataScope",attrs:{data:e.dataScopeGrantList,"show-checkbox":"","node-key":"id","default-checked-keys":e.dataScopeTreeObj,props:e.props}})],1),n("el-tab-pane",{attrs:{label:"接口权限"}},[n("el-tree",{ref:"treeApiScope",attrs:{data:e.apiScopeGrantList,"show-checkbox":"","node-key":"id","default-checked-keys":e.apiScopeTreeObj,props:e.props}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.box=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("3528"),s=n("5880"),l=n("1ca4"),c=n("da71");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{form:{},box:!1,props:{label:"title",value:"key"},menuGrantList:[],dataScopeGrantList:[],apiScopeGrantList:[],apiGrantList:[],menuTreeObj:[],dataScopeTreeObj:[],apiScopeTreeObj:[],selectionList:[],query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,simplePage:!0,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,dialogWidth:900,dialogClickModal:!1,column:[{label:"角色名称",prop:"roleName",search:!0,span:24,rules:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},{label:"所属租户",prop:"tenantId",type:"tree",dicUrl:"".concat(c["a"],"/blade-system/tenant/select"),addDisplay:!1,editDisplay:!1,viewDisplay:l["a"].tenantMode,span:24,props:{label:"tenantName",value:"tenantId"},hide:!l["a"].tenantMode,search:l["a"].tenantMode,rules:[{required:!0,message:"请输入所属租户",trigger:"click"}]},{label:"角色别名",prop:"roleAlias",search:!0,span:24,rules:[{required:!0,message:"请输入角色别名",trigger:"blur"}]},{label:"上级角色",prop:"parentId",dicData:[],type:"tree",hide:!0,span:24,props:{label:"title"},rules:[{required:!1,message:"请选择上级角色",trigger:"click"}]},{label:"角色排序",prop:"sort",type:"number",span:24,rules:[{required:!0,message:"请输入角色排序",trigger:"blur"}]}]},data:[]}},computed:d(d({},Object(s["mapGetters"])(["userInfo","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.role_add,!1),viewBtn:this.vaildData(this.permission.role_view,!1),delBtn:this.vaildData(this.permission.role_delete,!1),editBtn:this.vaildData(this.permission.role_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},idsArray:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e}}),methods:{initData:function(){var e=this;Object(o["d"])().then((function(t){var n=e.findObject(e.option.column,"parentId");n.dicData=t.data.data}))},submit:function(){var e=this,t=this.$refs.treeMenu.getCheckedKeys(),n=this.$refs.treeDataScope.getCheckedKeys(),a=this.$refs.treeApiScope.getCheckedKeys();Object(o["e"])(this.idsArray,t,n,a).then((function(){e.box=!1,e.$message({type:"success",message:"操作成功!"}),e.onLoad(e.page)}))},rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["h"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},beforeOpen:function(e,t){["add","edit"].includes(t)&&this.initData(),e()},handleRole:function(){var e=this;1===this.selectionList.length?(this.menuTreeObj=[],this.dataScopeTreeObj=[],this.apiScopeTreeObj=[],Object(o["f"])().then((function(t){e.menuGrantList=t.data.data.menu,e.dataScopeGrantList=t.data.data.dataScope,e.apiScopeGrantList=t.data.data.apiScope,Object(o["c"])(e.ids).then((function(t){e.menuTreeObj=t.data.data.menu,e.dataScopeTreeObj=t.data.data.dataScope,e.apiScopeTreeObj=t.data.data.apiScope,e.box=!0}))}))):this.$message.warning("只能选择一条数据")},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))}}},h=p,f=n("2877"),g=Object(f["a"])(h,a,i,!1,null,null,null);t["default"]=g.exports},6119:function(e,t,n){"use strict";n("8076")},"611b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error-page"},[n("div",{staticClass:"img",staticStyle:{"background-image":"url('/img/bg/500.svg')"}}),n("div",{staticClass:"content"},[n("h1",[e._v("500")]),n("div",{staticClass:"desc"},[e._v("抱歉，服务器出错了")]),n("div",{staticClass:"actions"},[n("router-link",{attrs:{to:{path:"/"}}},[n("el-button",{attrs:{type:"primary"}},[e._v("返回首页")])],1)],1)])])},i=[],r={name:"error-500"},o=r,s=(n("a0ad"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"55c86129",null);t["default"]=l.exports},6179:function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=n("4319"),o=n("80f0"),s=n("ec6f"),l=n("2b17"),c=l.defaultDimValueGetters,u=l.DefaultDataProvider,d=n("2f45"),p=d.summarizeDimensions,h=n("562e"),f=i.isObject,g="undefined",m=-1,v="e\0\0",b={float:typeof Float64Array===g?Array:Float64Array,int:typeof Int32Array===g?Array:Int32Array,ordinal:Array,number:Array,time:Array},y=typeof Uint32Array===g?Array:Uint32Array,x=typeof Int32Array===g?Array:Int32Array,w=typeof Uint16Array===g?Array:Uint16Array;function _(e){return e._rawCount>65535?y:w}function O(e){var t=e.constructor;return t===Array?e.slice():new t(e)}var D=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],C=["_extent","_approximateExtent","_rawExtent"];function S(e,t){i.each(D.concat(t.__wrappedMethods||[]),(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e.__wrappedMethods=t.__wrappedMethods,i.each(C,(function(n){e[n]=i.clone(t[n])})),e._calculationInfo=i.extend(t._calculationInfo)}var k=function(e,t){e=e||["x","y"];for(var n={},a=[],r={},o=0;o<e.length;o++){var s=e[o];i.isString(s)?s=new h({name:s}):s instanceof h||(s=new h(s));var l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0),s.otherDims=s.otherDims||{},a.push(l),n[l]=s,s.index=o,s.createInvertedIndices&&(r[l]=[])}this.dimensions=a,this._dimensionInfos=n,this.hostModel=t,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=p(this),this._invertedIndicesMap=r,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},T=k.prototype;function P(e,t,n,a,i){var r=b[t.type],o=a-1,s=t.name,l=e[s][o];if(l&&l.length<n){for(var c=new r(Math.min(i-o*n,n)),u=0;u<l.length;u++)c[u]=l[u];e[s][o]=c}for(var d=a*n;d<i;d+=n)e[s].push(new r(Math.min(i-d,n)))}function j(e){var t=e._invertedIndicesMap;i.each(t,(function(n,a){var i=e._dimensionInfos[a],r=i.ordinalMeta;if(r){n=t[a]=new x(r.categories.length);for(var o=0;o<n.length;o++)n[o]=m;for(o=0;o<e._count;o++)n[e.get(a,o)]=o}}))}function I(e,t,n){var a;if(null!=t){var i=e._chunkSize,r=Math.floor(n/i),o=n%i,s=e.dimensions[t],l=e._storage[s][r];if(l){a=l[o];var c=e._dimensionInfos[s].ordinalMeta;c&&c.categories.length&&(a=c.categories[a])}}return a}function L(e){return e}function M(e){return e<this._count&&e>=0?this._indices[e]:-1}function A(e,t){var n=e._idList[t];return null==n&&(n=I(e,e._idDimIdx,t)),null==n&&(n=v+t),n}function E(e){return i.isArray(e)||(e=[e]),e}function z(e,t){var n=e.dimensions,a=new k(i.map(n,e.getDimensionInfo,e),e.hostModel);S(a,e);for(var r=a._storage={},o=e._storage,s=0;s<n.length;s++){var l=n[s];o[l]&&(i.indexOf(t,l)>=0?(r[l]=R(o[l]),a._rawExtent[l]=F(),a._extent[l]=null):r[l]=o[l])}return a}function R(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=O(e[n]);return t}function F(){return[1/0,-1/0]}T.type="list",T.hasItemOption=!0,T.getDimension=function(e){return"number"!==typeof e&&(isNaN(e)||this._dimensionInfos.hasOwnProperty(e))||(e=this.dimensions[e]),e},T.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},T.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},T.mapDimension=function(e,t){var n=this._dimensionsSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var a=n.encode[e];return!0===t?(a||[]).slice():a&&a[t]},T.initData=function(e,t,n){var a=s.isInstance(e)||i.isArrayLike(e);a&&(e=new u(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=c[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=c.arrayRows,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},T.getProvider=function(){return this._rawData},T.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var a=t.count();t.persistent||(a+=n),this._initDataFromProvider(n,a)},T.appendValues=function(e,t){for(var n=this._chunkSize,a=this._storage,i=this.dimensions,r=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(e.length,t?t.length:0),c=this._chunkCount,u=0;u<r;u++){var d=i[u];o[d]||(o[d]=F()),a[d]||(a[d]=[]),P(a,this._dimensionInfos[d],n,c,l),this._chunkCount=a[d].length}for(var p=new Array(r),h=s;h<l;h++){for(var f=h-s,g=Math.floor(h/n),m=h%n,v=0;v<r;v++){d=i[v];var b=this._dimValueGetterArrayRows(e[f]||p,d,f,v);a[d][g][m]=b;var y=o[d];b<y[0]&&(y[0]=b),b>y[1]&&(y[1]=b)}t&&(this._nameList[h]=t[f])}this._rawCount=this._count=l,this._extent={},j(this)},T._initDataFromProvider=function(e,t){if(!(e>=t)){for(var n,a=this._chunkSize,i=this._rawData,r=this._storage,o=this.dimensions,s=o.length,l=this._dimensionInfos,c=this._nameList,u=this._idList,d=this._rawExtent,p=this._nameRepeatCount={},h=this._chunkCount,f=0;f<s;f++){var g=o[f];d[g]||(d[g]=F());var m=l[g];0===m.otherDims.itemName&&(n=this._nameDimIdx=f),0===m.otherDims.itemId&&(this._idDimIdx=f),r[g]||(r[g]=[]),P(r,m,a,h,t),this._chunkCount=r[g].length}for(var v=new Array(s),b=e;b<t;b++){v=i.getItem(b,v);for(var y=Math.floor(b/a),x=b%a,w=0;w<s;w++){g=o[w];var _=r[g][y],O=this._dimValueGetter(v,g,b,w);_[x]=O;var D=d[g];O<D[0]&&(D[0]=O),O>D[1]&&(D[1]=O)}if(!i.pure){var C=c[b];if(v&&null==C)if(null!=v.name)c[b]=C=v.name;else if(null!=n){var S=o[n],k=r[S][y];if(k){C=k[x];var T=l[S].ordinalMeta;T&&T.categories.length&&(C=T.categories[C])}}var I=null==v?null:v.id;null==I&&null!=C&&(p[C]=p[C]||0,I=C,p[C]>0&&(I+="__ec__"+p[C]),p[C]++),null!=I&&(u[b]=I)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent={},j(this)}},T.count=function(){return this._count},T.getIndices=function(){var e=this._indices;if(e){var t=e.constructor,n=this._count;if(t===Array){i=new t(n);for(var a=0;a<n;a++)i[a]=e[a]}else i=new t(e.buffer,0,n)}else{t=_(this);var i=new t(this.count());for(a=0;a<i.length;a++)i[a]=a}return i},T.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._storage;if(!n[e])return NaN;t=this.getRawIndex(t);var a=Math.floor(t/this._chunkSize),i=t%this._chunkSize,r=n[e][a],o=r[i];return o},T.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._storage[e];if(!n)return NaN;var a=Math.floor(t/this._chunkSize),i=t%this._chunkSize,r=n[a];return r[i]},T._getFast=function(e,t){var n=Math.floor(t/this._chunkSize),a=t%this._chunkSize,i=this._storage[e][n];return i[a]},T.getValues=function(e,t){var n=[];i.isArray(e)||(t=e,e=this.dimensions);for(var a=0,r=e.length;a<r;a++)n.push(this.get(e[a],t));return n},T.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=0,a=t.length;n<a;n++)if(isNaN(this.get(t[n],e)))return!1;return!0},T.getDataExtent=function(e){e=this.getDimension(e);var t=this._storage[e],n=F();if(!t)return n;var a,i=this.count(),r=!this._indices;if(r)return this._rawExtent[e].slice();if(a=this._extent[e],a)return a.slice();a=n;for(var o=a[0],s=a[1],l=0;l<i;l++){var c=this._getFast(e,this.getRawIndex(l));c<o&&(o=c),c>s&&(s=c)}return a=[o,s],this._extent[e]=a,a},T.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},T.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},T.getCalculationInfo=function(e){return this._calculationInfo[e]},T.setCalculationInfo=function(e,t){f(e)?i.extend(this._calculationInfo,e):this._calculationInfo[e]=t},T.getSum=function(e){var t=this._storage[e],n=0;if(t)for(var a=0,i=this.count();a<i;a++){var r=this.get(e,a);isNaN(r)||(n+=r)}return n},T.getMedian=function(e){var t=[];this.each(e,(function(e,n){isNaN(e)||t.push(e)}));var n=[].concat(t).sort((function(e,t){return e-t})),a=this.count();return 0===a?0:a%2===1?n[(a-1)/2]:(n[a/2]+n[a/2-1])/2},T.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],a=n[t];return null==a||isNaN(a)?m:a},T.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},T.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;var a=0,i=this._count-1;while(a<=i){var r=(a+i)/2|0;if(t[r]<e)a=r+1;else{if(!(t[r]>e))return r;i=r-1}}return-1},T.indicesOfNearest=function(e,t,n){var a=this._storage,i=a[e],r=[];if(!i)return r;null==n&&(n=1/0);for(var o=1/0,s=-1,l=0,c=0,u=this.count();c<u;c++){var d=t-this.get(e,c),p=Math.abs(d);p<=n&&((p<o||p===o&&d>=0&&s<0)&&(o=p,s=d,l=0),d===s&&(r[l++]=c))}return r.length=l,r},T.getRawIndex=L,T.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++){var a=this.dimensions[n];t.push(this.get(a,e))}return t},T.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||I(this,this._nameDimIdx,t)||""},T.getId=function(e){return A(this,this.getRawIndex(e))},T.each=function(e,t,n,a){"use strict";if(this._count){"function"===typeof e&&(a=n,n=t,t=e,e=[]),n=n||a||this,e=i.map(E(e),this.getDimension,this);for(var r=e.length,o=0;o<this.count();o++)switch(r){case 0:t.call(n,o);break;case 1:t.call(n,this.get(e[0],o),o);break;case 2:t.call(n,this.get(e[0],o),this.get(e[1],o),o);break;default:for(var s=0,l=[];s<r;s++)l[s]=this.get(e[s],o);l[s]=o,t.apply(n,l)}}},T.filterSelf=function(e,t,n,a){"use strict";if(this._count){"function"===typeof e&&(a=n,n=t,t=e,e=[]),n=n||a||this,e=i.map(E(e),this.getDimension,this);for(var r=this.count(),o=_(this),s=new o(r),l=[],c=e.length,u=0,d=e[0],p=0;p<r;p++){var h,f=this.getRawIndex(p);if(0===c)h=t.call(n,p);else if(1===c){var g=this._getFast(d,f);h=t.call(n,g,p)}else{for(var m=0;m<c;m++)l[m]=this._getFast(d,f);l[m]=p,h=t.apply(n,l)}h&&(s[u++]=f)}return u<r&&(this._indices=s),this._count=u,this._extent={},this.getRawIndex=this._indices?M:L,this}},T.selectRange=function(e){"use strict";if(this._count){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var a=t.length;if(a){var i=this.count(),r=_(this),o=new r(i),s=0,l=t[0],c=e[l][0],u=e[l][1],d=!1;if(!this._indices){var p=0;if(1===a){for(var h=this._storage[t[0]],f=0;f<this._chunkCount;f++)for(var g=h[f],m=Math.min(this._count-f*this._chunkSize,this._chunkSize),v=0;v<m;v++){var b=g[v];(b>=c&&b<=u||isNaN(b))&&(o[s++]=p),p++}d=!0}else if(2===a){h=this._storage[l];var y=this._storage[t[1]],x=e[t[1]][0],w=e[t[1]][1];for(f=0;f<this._chunkCount;f++){g=h[f];var O=y[f];for(m=Math.min(this._count-f*this._chunkSize,this._chunkSize),v=0;v<m;v++){b=g[v];var D=O[v];(b>=c&&b<=u||isNaN(b))&&(D>=x&&D<=w||isNaN(D))&&(o[s++]=p),p++}}d=!0}}if(!d)if(1===a)for(v=0;v<i;v++){var C=this.getRawIndex(v);b=this._getFast(l,C);(b>=c&&b<=u||isNaN(b))&&(o[s++]=C)}else for(v=0;v<i;v++){var S=!0;for(C=this.getRawIndex(v),f=0;f<a;f++){var k=t[f];b=this._getFast(n,C);(b<e[k][0]||b>e[k][1])&&(S=!1)}S&&(o[s++]=this.getRawIndex(v))}return s<i&&(this._indices=o),this._count=s,this._extent={},this.getRawIndex=this._indices?M:L,this}}},T.mapArray=function(e,t,n,a){"use strict";"function"===typeof e&&(a=n,n=t,t=e,e=[]),n=n||a||this;var i=[];return this.each(e,(function(){i.push(t&&t.apply(this,arguments))}),n),i},T.map=function(e,t,n,a){"use strict";n=n||a||this,e=i.map(E(e),this.getDimension,this);var r=z(this,e);r._indices=this._indices,r.getRawIndex=r._indices?M:L;for(var o=r._storage,s=[],l=this._chunkSize,c=e.length,u=this.count(),d=[],p=r._rawExtent,h=0;h<u;h++){for(var f=0;f<c;f++)d[f]=this.get(e[f],h);d[c]=h;var g=t&&t.apply(n,d);if(null!=g){"object"!==typeof g&&(s[0]=g,g=s);for(var m=this.getRawIndex(h),v=Math.floor(m/l),b=m%l,y=0;y<g.length;y++){var x=e[y],w=g[y],_=p[x],O=o[x];O&&(O[v][b]=w),w<_[0]&&(_[0]=w),w>_[1]&&(_[1]=w)}}}return r},T.downSample=function(e,t,n,a){for(var i=z(this,[e]),r=i._storage,o=[],s=Math.floor(1/t),l=r[e],c=this.count(),u=this._chunkSize,d=i._rawExtent[e],p=new(_(this))(c),h=0,f=0;f<c;f+=s){s>c-f&&(s=c-f,o.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(f+g),v=Math.floor(m/u),b=m%u;o[g]=l[v][b]}var y=n(o),x=this.getRawIndex(Math.min(f+a(o,y)||0,c-1)),w=Math.floor(x/u),O=x%u;l[w][O]=y,y<d[0]&&(d[0]=y),y>d[1]&&(d[1]=y),p[h++]=x}return i._count=h,i._indices=p,i.getRawIndex=M,i},T.getItemModel=function(e){var t=this.hostModel;return new r(this.getRawDataItem(e),t,t&&t.ecModel)},T.diff=function(e){var t=this;return new o(e?e.getIndices():[],this.getIndices(),(function(t){return A(e,t)}),(function(e){return A(t,e)}))},T.getVisual=function(e){var t=this._visual;return t&&t[e]},T.setVisual=function(e,t){if(f(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},T.setLayout=function(e,t){if(f(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},T.getLayout=function(e){return this._layout[e]},T.getItemLayout=function(e){return this._itemLayouts[e]},T.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?i.extend(this._itemLayouts[e]||{},t):t},T.clearItemLayouts=function(){this._itemLayouts.length=0},T.getItemVisual=function(e,t,n){var a=this._itemVisuals[e],i=a&&a[t];return null!=i||n?i:this.getVisual(t)},T.setItemVisual=function(e,t,n){var a=this._itemVisuals[e]||{},i=this.hasItemVisual;if(this._itemVisuals[e]=a,f(t))for(var r in t)t.hasOwnProperty(r)&&(a[r]=t[r],i[r]=!0);else a[t]=n,i[t]=!0},T.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var B=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};T.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(B,t)),this._graphicEls[e]=t},T.getItemGraphicEl=function(e){return this._graphicEls[e]},T.eachItemGraphicEl=function(e,t){i.each(this._graphicEls,(function(n,a){n&&e&&e.call(t,n,a)}))},T.cloneShallow=function(e){if(!e){var t=i.map(this.dimensions,this.getDimensionInfo,this);e=new k(t,this.hostModel)}if(e._storage=this._storage,S(e,this),this._indices){var n=this._indices.constructor;e._indices=new n(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?M:L,e},T.wrapMethod=function(e,t){var n=this[e];"function"===typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(i.slice(arguments)))})},T.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],T.CHANGABLE_METHODS=["filterSelf","selectRange"];var $=k;e.exports=$},"620b":function(e,t,n){var a=n("401b"),i=a.distance;function r(e,t,n,a,i,r,o){var s=.5*(n-e),l=.5*(a-t);return(2*(t-n)+s+l)*o+(-3*(t-n)-2*s-l)*r+s*i+t}function o(e,t){for(var n=e.length,a=[],o=0,s=1;s<n;s++)o+=i(e[s-1],e[s]);var l=o/2;l=l<n?n:l;for(s=0;s<l;s++){var c,u,d,p=s/(l-1)*(t?n:n-1),h=Math.floor(p),f=p-h,g=e[h%n];t?(c=e[(h-1+n)%n],u=e[(h+1)%n],d=e[(h+2)%n]):(c=e[0===h?h:h-1],u=e[h>n-2?n-1:h+1],d=e[h>n-3?n-1:h+2]);var m=f*f,v=f*m;a.push([r(c[0],g[0],u[0],d[0],f,m,v),r(c[1],g[1],u[1],d[1],f,m,v)])}return a}e.exports=o},"622a":function(e,t,n){"use strict";n("5dde")},"625e":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=".",o="___EC__COMPONENT__CONTAINER___";function s(e){var t={main:"",sub:""};return e&&(e=e.split(r),t.main=e[0]||"",t.sub=e[1]||""),t}function l(e){i.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function c(e,t){e.$constructor=e,e.extend=function(e){var t=this,n=function(){e.$constructor?e.$constructor.apply(this,arguments):t.apply(this,arguments)};return i.extend(n.prototype,e),n.extend=this.extend,n.superCall=p,n.superApply=h,i.inherits(n,this),n.superClass=t,n}}var u=0;function d(e){var t=["__\0is_clz",u++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}}function p(e,t){var n=i.slice(arguments,2);return this.superClass.prototype[t].apply(e,n)}function h(e,t,n){return this.superClass.prototype[t].apply(e,n)}function f(e,t){t=t||{};var n={};function a(e){var t=n[e.main];return t&&t[o]||(t=n[e.main]={},t[o]=!0),t}if(e.registerClass=function(e,t){if(t)if(l(t),t=s(t),t.sub){if(t.sub!==o){var i=a(t);i[t.sub]=e}}else n[t.main]=e;return e},e.getClass=function(e,t,a){var i=n[e];if(i&&i[o]&&(i=t?i[t]:null),a&&!i)throw new Error(t?"Component "+e+"."+(t||"")+" not exists. Load it first.":e+".type should be specified.");return i},e.getClassesByMainType=function(e){e=s(e);var t=[],a=n[e.main];return a&&a[o]?i.each(a,(function(e,n){n!==o&&t.push(e)})):t.push(a),t},e.hasClass=function(e){return e=s(e),!!n[e.main]},e.getAllClassMainTypes=function(){var e=[];return i.each(n,(function(t,n){e.push(n)})),e},e.hasSubTypes=function(e){e=s(e);var t=n[e.main];return t&&t[o]},e.parseClassType=s,t.registerWhenExtend){var r=e.extend;r&&(e.extend=function(t){var n=r.call(this,t);return e.registerClass(n,t.type)})}return e}function g(e,t){}t.parseClassType=s,t.enableClassExtend=c,t.enableClassCheck=d,t.enableClassManagement=f,t.setReadOnly=g},"627c":function(e,t,n){var a=n("6d8b"),i=n("3eba"),r=n("2306"),o=n("f934"),s=o.getLayoutRect,l=n("eda2"),c=l.windowOpen;i.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),i.extendComponentView({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,o=e.getModel("textStyle"),l=e.getModel("subtextStyle"),u=e.get("textAlign"),d=a.retrieve2(e.get("textBaseline"),e.get("textVerticalAlign")),p=new r.Text({style:r.setTextStyle({},o,{text:e.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),h=p.getBoundingRect(),f=e.get("subtext"),g=new r.Text({style:r.setTextStyle({},l,{text:f,textFill:l.getTextColor(),y:h.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=e.get("link"),v=e.get("sublink"),b=e.get("triggerEvent",!0);p.silent=!m&&!b,g.silent=!v&&!b,m&&p.on("click",(function(){c(m,"_"+e.get("target"))})),v&&g.on("click",(function(){c(v,"_"+e.get("subtarget"))})),p.eventData=g.eventData=b?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(p),f&&i.add(g);var y=i.getBoundingRect(),x=e.getBoxLayoutParams();x.width=y.width,x.height=y.height;var w=s(x,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));u||(u=e.get("left")||e.get("right"),"middle"===u&&(u="center"),"right"===u?w.x+=w.width:"center"===u&&(w.x+=w.width/2)),d||(d=e.get("top")||e.get("bottom"),"center"===d&&(d="middle"),"bottom"===d?w.y+=w.height:"middle"===d&&(w.y+=w.height/2),d=d||"top"),i.attr("position",[w.x,w.y]);var _={textAlign:u,textVerticalAlign:d};p.setStyle(_),g.setStyle(_),y=i.getBoundingRect();var O=w.margin,D=e.getItemStyle(["color","opacity"]);D.fill=e.get("backgroundColor");var C=new r.Rect({shape:{x:y.x-O[3],y:y.y-O[0],width:y.width+O[1]+O[3],height:y.height+O[0]+O[2],r:e.get("borderRadius")},style:D,subPixelOptimize:!0,silent:!0});i.add(C)}}})},"62bb":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"audit-detail"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("b",[e._v("发布|下线申请详情")])]),n("div",{staticClass:"apply-table-wrap"},[n("div",{staticClass:"b-tip"},[e._v("操作以下接口：")]),n("el-table",{attrs:{data:e.tableData,border:"",stripe:"",size:"mini","max-height":"200"}},[n("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),n("el-table-column",{attrs:{prop:"name",label:"接口名"}}),n("el-table-column",{attrs:{align:"center",label:"状态",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.formData.id===t.row.applyId?[e._v("\n              "+e._s(e.getApprovalStateName(t.row.approvalState))+"\n            ")]:[e._v("-")]]}}])}),2===e.formData.status?n("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.formData.id===t.row.applyId?[e.permissionList.publishBtn&&2===t.row.approvalState?n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.publish(t.row)}}},[e._v("\n                发布\n              ")]):e._e(),e.permissionList.offlineBtn&&3===t.row.approvalState?n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.offline(t.row)}}},[e._v("\n                下线\n              ")]):e._e(),!e.permissionList.revokeBtn||2!==t.row.approvalState&&3!==t.row.approvalState?e._e():n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.rowRevoke(t.row)}}},[e._v("\n                撤回\n              ")])]:e._e()]}}],null,!1,945224970)}):e._e()],1)],1),n("el-form",{staticClass:"data-form",attrs:{size:"mini","label-width":"100px"}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"标题："}},[e._v("\n            "+e._s(e.formData.title)+"\n          ")])],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"申请人："}},[e._v("\n            "+e._s(e.formData.createBy)+"\n          ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"审核人："}},[e._v("\n            "+e._s(e.formData.approvalBy)+"\n          ")])],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"申请类型："}},[e._v("\n            "+e._s((0===e.formData.type?"发布":1===e.formData.type&&"下线")||e.formData.type||"-")+"\n          ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"审核结果："}},[1===e.formData.approvalResult?n("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("审核不通过")]):2===e.formData.approvalResult?n("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("审核通过")]):n("span",[e._v(e._s(e.formData.approvalResult))])],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"申请原因："}},[e._v("\n            "+e._s(e.formData.reason)+"\n          ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"审核备注："}},[e._v("\n            "+e._s(e.formData.approvalRemark)+"\n          ")])],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"申请时间："}},[e._v("\n            "+e._s(e.formData.createTime)+"\n          ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"审核时间："}},[e._v("\n            "+e._s(e.formData.approvalTime)+"\n          ")])],1)],1)],1),e.logData&&0!==e.logData.length?[n("el-divider",[e._v("操作日志")]),n("el-table",{attrs:{data:e.logData,border:"",stripe:"",size:"mini","max-height":"300"}},[n("el-table-column",{attrs:{align:"center",label:"操作类型",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.getOpTypeName(t.row.opType))+"\n          ")]}}],null,!1,3264585741)}),n("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),n("el-table-column",{attrs:{prop:"name",label:"接口名"}}),n("el-table-column",{attrs:{prop:"opBy",label:"操作人"}}),n("el-table-column",{attrs:{prop:"opTime",label:"操作时间"}}),n("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1)]:e._e(),0===e.formData.status||2===e.formData.status?n("footer",[2===e.formData.status?[e.permissionList.rollback?n("el-button",{attrs:{type:"primary",size:"small",loading:e.rollbackLoading,plain:""},on:{click:e.rollback}},[e._v("\n          批量回滚\n        ")]):e._e(),0===e.formData.type&&e.permissionList.batchPublishBtn||1===e.formData.type&&e.permissionList.batchOfflineBtn?n("el-button",{attrs:{type:"primary",size:"small",loading:e.executeLoading,plain:""},on:{click:e.execute}},[e._v("\n          "+e._s((0===e.formData.type?"批量发布":1===e.formData.type&&"批量下线")||"批量执行")+"\n        ")]):e._e()]:e._e(),0===e.formData.status?[e.permissionList.applyBtn?n("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.changeAudit}},[e._v("\n          修改审核人\n        ")]):e._e(),e.permissionList.revokeBtn?n("el-button",{attrs:{type:"primary",size:"small",loading:e.revokeLoading},on:{click:e.revoke}},[e._v("撤回\n        ")]):e._e()]:e._e(),n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("返回")])],2):e._e(),n("revoke-dialog",{attrs:{visible:e.revokeDialog.visible,form:e.revokeDialog.form,id:e.revokeDialog.id,callback:e.init},on:{"update:visible":function(t){return e.$set(e.revokeDialog,"visible",t)}}}),n("publish-dialog",{attrs:{visible:e.publishDialog.visible,name:e.publishDialog.name,id:e.publishDialog.id,callback:e.init},on:{"update:visible":function(t){return e.$set(e.publishDialog,"visible",t)}}}),n("el-dialog",{attrs:{"append-to-body":"",title:"修改审核人",visible:e.auditDialogVisible},on:{"update:visible":function(t){e.auditDialogVisible=t}}},[n("el-form",{attrs:{model:e.auditForm,size:"small"}},[n("el-form-item",{attrs:{label:"审核人"}},[n("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.auditForm.approvalUser,callback:function(t){e.$set(e.auditForm,"approvalUser",t)},expression:"auditForm.approvalUser"}},e._l(e.approvalUsers,(function(e){return n("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleAuditChange}},[e._v("确 定")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.auditDialogVisible=!1}}},[e._v("取 消")])],1)],1)],2)],1)},i=[],r=(n("8e6e"),n("456d"),n("7f7f"),n("7514"),n("ac6a"),n("ade3")),o=n("0f43"),s=n("708f"),l=n("f874"),c=n("cec1"),u=n("5880"),d=n("047b"),p=n("c43f");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"apply-detail",data:function(){return{revokeLoading:!1,executeLoading:!1,rollbackLoading:!1,tableData:[],logData:[],approvalUsers:[],formData:{},publishDialog:{visible:!1,title:"接口",name:"",id:""},revokeDialog:{visible:!1,form:{},id:""},auditForm:{applyId:"",approvalUser:""},auditDialogVisible:!1}},computed:f(f({},Object(u["mapGetters"])(["permission"])),{},{permissionList:function(){return{applyBtn:this.vaildData(this.permission.aggregate_api_apply,!1),publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1),offlineBtn:this.vaildData(this.permission.aggregate_api_offline,!1),batchPublishBtn:this.vaildData(this.permission.aggregate_apply_batchPublish,!1),batchOfflineBtn:this.vaildData(this.permission.aggregate_apply_batchOffline,!1),revokeBtn:this.vaildData(this.permission.aggregate_apply_revoke,!1),rollback:this.vaildData(this.permission.aggregate_apply_rollback,!1)}},ids:function(){var e=[];return this.tableData.forEach((function(t){e.push(t.id||t.configId)})),e},originId:function(){return this.$route.query.originId||""}}),components:{publishDialog:d["default"],revokeDialog:p["default"]},watch:{originId:{immediate:!0,handler:function(e){e&&this.init()}}},methods:{getOpTypeName:function(e){var t=c["c"].find((function(t){return parseInt(t.value)===e}));return t&&t.label||e},getApprovalStateName:function(e){var t=l["b"].find((function(t){return parseInt(t.value)===e}));return t&&t.label||""},getApprovalUsers:function(){var e=this;if(!this.ids||0===this.ids.length)return!1;Object(s["e"])({configIds:this.ids}).then((function(t){var n=t.data.data;e.approvalUsers=n.approvalUsers||[]}))},handleAuditChange:function(){var e=this;this.auditDialogVisible=!1;var t={};return t.applyId=this.auditForm.applyId,t.approvalUserId=this.auditForm.approvalUser,Object(o["a"])(t).then((function(){e.$message.success("修改成功"),e.init(),e.auditDialogVisible=!1}))},changeAudit:function(){this.getApprovalUsers(),this.auditForm.applyId=this.formData.id,this.auditForm.approvalUser=this.formData.approvalUser,this.auditDialogVisible=!0},rowRevoke:function(e){this.revokeDialog.id=this.originId,this.revokeDialog.visible=!0,this.revokeDialog.form=e},revoke:function(){var e=this;this.$confirm("确定撤回该申请?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.revokeLoading=!0,Object(o["g"])(e.originId).then((function(){e.$message.success("撤回成功"),e.init(),e.revokeLoading=!1})).catch((function(){e.revokeLoading=!1}))}))},execute:function(){var e=this;this.$confirm("确定批量执行该申请的操作?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.executeLoading=!0,Object(o["b"])(e.originId).then((function(){e.$message.success("操作成功"),e.init(),e.executeLoading=!1})).catch((function(){e.executeLoading=!1}))}))},rollback:function(){var e=this;this.$confirm("确定批量回滚该申请的操作?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.rollbackLoading=!0,Object(o["h"])(e.originId).then((function(){e.init(),e.$message.success("回滚成功"),e.rollbackLoading=!1})).catch((function(){e.rollbackLoading=!1}))}))},offline:function(e){var t=this;this.$confirm("确定下线【".concat(e.name,"】此接口吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["i"])(e.id)})).then((function(){t.$message.success("下线成功"),t.init()}))},publish:function(e){e.id?(this.publishDialog.visible=!0,this.publishDialog.name=e.name,this.publishDialog.id=e.id):this.$message.error("数据缺失，无法发布！")},handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/aggregateRecord/apply"})},getApplyLog:function(){var e=this;return this.logData=[],Object(o["c"])(this.originId).then((function(t){e.logData=t.data.data}))},getDetail:function(){var e=this;Object(o["d"])(this.originId).then((function(t){var n=t.data.data,a=[];e.formData=n,(n.configs||[]).forEach((function(e){a.push(Object.assign({id:e.configId,name:e.configName},e))})),e.tableData=a}))},init:function(){this.getDetail(),this.getApplyLog()}}},m=g,v=(n("6119"),n("480d"),n("2877")),b=Object(v["a"])(m,a,i,!1,null,"33c684c2",null);t["default"]=b.exports},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},6356:function(e,t,n){"use strict";n("b3f0")},"640f":function(e,t,n){},"646e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"tree-load":e.treeLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var a=t.row;return[e.permission.api_scope_setting?n("el-button",{staticStyle:{border:"0","background-color":"transparent !important"},attrs:{type:"text",icon:"el-icon-setting",size:"small",plain:""},on:{click:function(t){return t.stopPropagation(),e.handleDataScope(a)}}},[e._v("权限配置\n      ")]):e._e()]}},{key:"source",fn:function(e){var t=e.row;return[n("div",{staticStyle:{"text-align":"center"}},[n("i",{class:t.source})])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),n("el-drawer",{attrs:{"append-to-body":"",title:"["+e.scopeMenuName+"] 接口权限配置",visible:e.drawerVisible,direction:e.direction,"before-close":e.handleDrawerClose,size:"1000px"},on:{"update:visible":function(t){e.drawerVisible=t}}},[n("basic-container",[n("avue-crud",{ref:"crudScope",attrs:{option:e.optionScope,data:e.dataScope,page:e.pageScope,"table-loading":e.scopeLoading,"before-open":e.beforeOpenScope},on:{"row-del":e.rowDelScope,"row-update":e.rowUpdateScope,"row-save":e.rowSaveScope,"search-change":e.searchChangeScope,"search-reset":e.searchResetScope,"selection-change":e.selectionChangeScope,"current-change":e.currentChangeScope,"size-change":e.sizeChangeScope,"on-load":e.onLoadScope},scopedSlots:e._u([{key:"scopeType",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.scopeTypeName))])]}}]),model:{value:e.formScope,callback:function(t){e.formScope=t},expression:"formScope"}},[n("template",{slot:"menuLeft"},[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDeleteScope}},[e._v("删 除\n          ")])],1)],2)],1)],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("7f7f"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("a6dc"),s=n("7e26"),l=n("5880"),c=n("2457"),u=n("da71");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={data:function(){return{form:{},selectionList:[],query:{},loading:!0,parentId:0,page:{pageSize:10,currentPage:1,total:0},drawerVisible:!1,direction:"rtl",scopeLoading:!1,scopeMenuId:0,scopeMenuName:"菜单",menu:!0,option:{lazy:!0,tip:!1,simplePage:!0,searchShow:!0,searchMenuSpan:6,dialogWidth:"60%",tree:!0,border:!0,index:!0,selection:!0,viewBtn:!1,editBtn:!1,addBtn:!1,delBtn:!1,menuWidth:150,dialogClickModal:!1,column:[{label:"菜单名称",prop:"name",search:!0,rules:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},{label:"路由地址",prop:"path",rules:[{required:!0,message:"请输入路由地址",trigger:"blur"}]},{label:"上级菜单",prop:"parentId",type:"tree",dicUrl:"".concat(u["a"],"/blade-system/menu/tree"),hide:!0,props:{label:"title"},rules:[{required:!1,message:"请选择上级菜单",trigger:"click"}]},{label:"菜单图标",prop:"source",type:"icon",slot:!0,width:80,iconList:c["a"],rules:[{required:!0,message:"请输入菜单图标",trigger:"click"}]},{label:"菜单编号",prop:"code",search:!0,rules:[{required:!0,message:"请输入菜单编号",trigger:"blur"}]},{label:"菜单类型",prop:"category",type:"radio",dicData:[{label:"菜单",value:1},{label:"按钮",value:2}],hide:!0,rules:[{required:!0,message:"请选择菜单类型",trigger:"blur"}]},{label:"菜单别名",prop:"alias",rules:[{required:!0,message:"请输入菜单别名",trigger:"blur"}]},{label:"按钮功能",prop:"action",type:"radio",dicData:[{label:"工具栏",value:0},{label:"操作栏",value:1},{label:"工具操作栏",value:2}],hide:!0,rules:[{required:!0,message:"请选择按钮功能",trigger:"blur"}]},{label:"菜单排序",prop:"sort",type:"number",width:80,rules:[{required:!0,message:"请输入菜单排序",trigger:"blur"}]},{label:"新窗口",prop:"isOpen",type:"radio",dicData:[{label:"否",value:0},{label:"是",value:1}],hide:!0},{label:"菜单备注",prop:"remark",type:"textarea",span:24,minRows:6,hide:!0}]},data:[],formScope:{},selectionListScope:[],pageScope:{pageSize:10,currentPage:1,total:0},optionScope:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,viewBtn:!0,selection:!0,menuWidth:200,dialogWidth:900,dialogClickModal:!1,column:[{label:"权限名称",prop:"scopeName",search:!0,rules:[{required:!0,message:"请输入数据权限名称",trigger:"blur"}]},{label:"权限编号",prop:"resourceCode",search:!0,width:180,rules:[{required:!0,message:"请输入数据权限编号",trigger:"blur"}]},{label:"权限路径",prop:"scopePath",width:180,rules:[{required:!0,message:"请输入数据权限编号",trigger:"blur"}]},{label:"接口类型",type:"select",dicUrl:"".concat(u["a"],"/blade-system/dict/dictionary?code=api_scope_type"),props:{label:"dictValue",value:"dictKey"},dataType:"number",slot:!0,width:100,prop:"scopeType",rules:[{required:!0,message:"请输入通知类型",trigger:"blur"}]},{label:"备注",prop:"remark",span:24,hide:!0}]},dataScope:[]}},computed:p(p({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.menu_add,!1),viewBtn:this.vaildData(this.permission.menu_view,!1),delBtn:this.vaildData(this.permission.menu_delete,!1),editBtn:this.vaildData(this.permission.menu_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},scopeIds:function(){var e=[];return this.selectionListScope.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["i"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.parentId=0,this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.parentId="",this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["d"])(this.form.id).then((function(e){n.form=e.data.data})),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["c"])(this.parentId,Object.assign(n,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))},treeLoad:function(e,t,n){var a=e.id;Object(o["c"])(a).then((function(e){n(e.data.data)}))},handleDataScope:function(e){this.drawerVisible=!0,this.scopeMenuId=e.id,this.scopeMenuName=e.name,this.onLoadScope(this.pageScope)},handleDrawerClose:function(e){e()},rowSaveScope:function(e,t,n){var a=this;e=p(p({},e),{},{menuId:this.scopeMenuId}),Object(s["a"])(e).then((function(){a.onLoadScope(a.pageScope),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdateScope:function(e,t,n,a){var i=this;e=p(p({},e),{},{menuId:this.scopeMenuId}),Object(s["i"])(e).then((function(){i.onLoadScope(i.pageScope),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDelScope:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["g"])(e.id)})).then((function(){t.onLoadScope(t.pageScope),t.$message({type:"success",message:"操作成功!"})}))},handleDeleteScope:function(){var e=this;0!==this.selectionListScope.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["g"])(e.scopeIds)})).then((function(){e.onLoadScope(e.pageScope),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudScope.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenScope:function(e,t){var n=this;["edit","view"].includes(t)&&Object(s["e"])(this.formScope.id).then((function(e){n.formScope=e.data.data})),e()},searchResetScope:function(){this.onLoadScope(this.pageScope)},searchChangeScope:function(e,t){this.onLoadScope(this.pageScope,e),t()},selectionChangeScope:function(e){this.selectionListScope=e},currentChangeScope:function(e){this.pageScope.currentPage=e},sizeChangeScope:function(e){this.pageScope.pageSize=e},onLoadScope:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.scopeLoading=!0;var a=p(p({},n),{},{menuId:this.scopeMenuId});Object(s["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var n=e.data.data;t.pageScope.total=n.total,t.dataScope=n.records,t.selectionListScope=[],t.scopeLoading=!1}))}}},f=h,g=n("2877"),m=Object(g["a"])(f,a,i,!1,null,null,null);t["default"]=m.exports},6486:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("el-row",[n("el-col",{attrs:{span:12}},[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.dataParent,page:e.pageParent,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"row-click":e.handleRowClick,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoadParent},scopedSlots:e._u([{key:"isSealed",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(0===a.isSealed?"否":"是"))])]}}]),model:{value:e.formParent,callback:function(t){e.formParent=t},expression:"formParent"}},[n("template",{slot:"menuLeft"},[e.permission.dict_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n            ")]):e._e()],1)],2)],1),n("el-col",{attrs:{span:12}},[n("avue-crud",{ref:"crudChild",attrs:{option:e.option,"table-loading":e.loading,data:e.dataChild,page:e.pageChild,permission:e.permissionList,"before-open":e.beforeOpenChild},on:{"row-del":e.rowDelChild,"row-update":e.rowUpdateChild,"row-save":e.rowSaveChild,"search-change":e.searchChangeChild,"search-reset":e.searchResetChild,"selection-change":e.selectionChangeChild,"current-change":e.currentChangeChild,"size-change":e.sizeChangeChild,"refresh-change":e.refreshChangeChild,"on-load":e.onLoadChild},scopedSlots:e._u([{key:"isSealed",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(0===a.isSealed?"否":"是"))])]}}]),model:{value:e.formChild,callback:function(t){e.formChild=t},expression:"formChild"}},[n("template",{slot:"menuLeft"},[e.permission.dict_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n            ")]):e._e()],1)],2)],1)],1)],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("7754"),s=n("5880");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={data:function(){return{parentId:0,formParent:{},formChild:{},selectionList:[],query:{},loading:!0,pageParent:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},pageChild:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},dataParent:[],dataChild:[],option:{tip:!1,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:300,dialogWidth:880,column:[{label:"字典编号",prop:"code",search:!0,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典键值",prop:"dictKey",type:"number",rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"select",dicData:[{label:"否",value:0},{label:"是",value:1}],slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",search:!0,hide:!0}]}}},computed:c(c({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),viewBtn:this.vaildData(this.permission.dict_view,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoadParent(a.pageParent),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["i"])(e).then((function(){i.onLoadParent(i.pageParent),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadParent(t.pageParent),t.$message({type:"success",message:"操作成功!"})}))},handleRowClick:function(e){this.parentId=e.id,this.onLoadChild(this.pageChild)},searchReset:function(){this.query={},this.onLoadParent(this.pageParent)},searchChange:function(e,t){this.query=e,this.pageParent.currentPage=1,this.onLoadParent(this.pageParent,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadParent(e.pageParent),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["c"])(this.formParent.id).then((function(e){n.formParent=e.data.data})),e()},currentChange:function(e){this.pageParent.currentPage=e},sizeChange:function(e){this.pageParent.pageSize=e},refreshChange:function(){this.onLoadParent(this.page,this.query)},rowSaveChild:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoadChild(a.pageChild),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdateChild:function(e,t,n,a){var i=this;Object(o["i"])(e).then((function(){i.onLoadChild(i.pageChild),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDelChild:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadChild(t.pageChild),t.$message({type:"success",message:"操作成功!"})}))},searchResetChild:function(){this.query={},this.onLoadChild(this.pageChild)},searchChangeChild:function(e,t){this.query=e,this.pageChild.currentPage=1,this.onLoadChild(this.pageChild,e),t()},selectionChangeChild:function(e){this.selectionList=e},selectionClearChild:function(){this.selectionList=[],this.$refs.crudChild.toggleSelection()},handleDeleteChild:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadChild(e.pageChild),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudChild.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenChild:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["c"])(this.formChild.id).then((function(e){n.formChild=e.data.data})),e()},currentChangeChild:function(e){this.pageChild.currentPage=e},sizeChangeChild:function(e){this.pageChild.pageSize=e},refreshChangeChild:function(){this.onLoadChild(this.pageChild,this.query)},onLoadParent:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["g"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.pageParent.total=n.total,t.dataParent=n.records,t.loading=!1,t.selectionClear()}))},onLoadChild:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,this.parentId,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.pageChild.total=n.total,t.dataChild=n.records,t.loading=!1,t.selectionClear()}))}}},d=u,p=n("2877"),h=Object(p["a"])(d,a,i,!1,null,null,null);t["default"]=h.exports},6580:function(e,t,n){"use strict";n("e546")},"65d4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"api-header-wrapper clearfix",attrs:{slot:"header"},slot:"header"},[n("api-header",{staticStyle:{display:"inline-block"},attrs:{"service-name":e.serviceName,"api-name":e.apiName,"page-name":e.pageName}}),"default"===e.businessType?n("div",[e.originId&&e.permissionList.publishBtn&&2===e.formData.approvalState?n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.publish}},[e._v("发布")]):e._e(),e.originId?n("el-button",{attrs:{size:"small",type:"primary",plain:"",loading:e.testLoading},on:{click:e.testFn}},[e._v("测试")]):e._e()],1):e._e()],1),n("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeTabs,callback:function(t){e.activeTabs=t},expression:"activeTabs"}},[n("el-tab-pane",{attrs:{label:"基础信息",name:"0"}},[n("api-base",{ref:"baseForm",attrs:{data:e.baseConfigs,disabled:e.disabled},on:{"update:data":function(t){e.baseConfigs=t}}})],1),n("el-tab-pane",{attrs:{label:"配置输入",name:"1",lazy:!0}},[n("api-request",{ref:"requestConfigs",attrs:{data:e.requestConfigs,lang:e.langConfigs,"business-type":e.businessType,"has-body":"GET"!==e.baseConfigs.method,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.requestConfigs=t},"update:lang":function(t){e.langConfigs=t}}})],1),n("el-tab-pane",{attrs:{label:"配置步骤",name:"2"}},[n("api-step",{ref:"stepForm",attrs:{"business-type":e.businessType,data:e.stepConfigs,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.stepConfigs=t}}})],1),n("el-tab-pane",{attrs:{label:"配置输出",name:"3"}},[n("api-response",{attrs:{"business-type":e.businessType,data:e.responseConfigs,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.responseConfigs=t}}})],1),n("el-tab-pane",{attrs:{label:"校验结果",name:"4"}},[n("api-validate",{attrs:{"business-type":e.businessType,data:e.validateResponse,disabled:e.disabled},on:{"update:data":function(t){e.validateResponse=t}}})],1),"add"!==e.actionType?n("el-tab-pane",{attrs:{label:"Config Json",lazy:!0,name:"5"}},[n("el-alert",{attrs:{title:"只读 Read Only",type:"warning"}}),n("code-highlight",{attrs:{language:"json",code:e.jsonCode,height:500}})],1):e._e()],1),n("footer",[e.disabled?e._e():n("div",[n("el-button",{attrs:{size:"small",icon:"el-icon-circle-check",loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")]),n("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.handleClose}},[e._v("取消")])],1)])],1),n("publish-dialog",{attrs:{visible:e.publishDialog,name:e.baseConfigs.name,id:e.originId},on:{"update:visible":function(t){e.publishDialog=t}}})],1)},i=[],r=(n("8e6e"),n("6b54"),n("53ca")),o=(n("456d"),n("ac6a"),n("a481"),n("6762"),n("2fdb"),n("96cf"),n("1da1")),s=(n("7f7f"),n("28a5"),n("ade3")),l=n("708f"),c=n("5880"),u=n("936b"),d=n("2420"),p=n("11d7"),h=n("78e6"),f=n("f6d3"),g=n("2190"),m=n("047b"),v=n("d480");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={name:"detail",data:function(){return{activeTabs:"0",loading:!1,testLoading:!1,debug:!1,formData:{},baseConfigs:{},requestConfigs:{},responseConfigs:{},stepConfigs:[],validateResponse:{},langConfigs:{},publishDialog:!1,businessType:"default"}},computed:y(y({},Object(c["mapGetters"])(["permission"])),{},{permissionList:function(){return{publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1)}},originId:function(){return this.$route.query.originId||""},actionType:function(){var e=this.$route.path.split("/");return e[e.length-1]||"add"},disabled:function(){return"view"===this.actionType||!1},pageName:function(){return"add"===this.actionType?"新增接口":this.$route.name},serviceName:function(){return this.formData.serviceName||""},apiName:function(){return this.formData.name||""},apiConfig:function(){var e=this.formData&&this.formData.config||{};if("string"===typeof this.formData.config)try{e=JSON.parse(this.formData.config)}catch(t){console.warn("[error in config]",t)}return e||{}},jsonCode:function(){return JSON.stringify(this.apiConfig,null,"    ")}}),components:{apiHeader:u["default"],apiBase:d["default"],apiRequest:p["default"],apiStep:h["default"],apiResponse:f["default"],apiValidate:g["default"],publishDialog:m["default"],codeHighlight:v["default"]},created:function(){this.init()},beforeRouteUpdate:function(e,t,n){e.fullPath!==t.fullPath&&(n(),this.init())},watch:{apiConfig:{deep:!0,handler:function(e){this.initConfig(e)}}},methods:y(y({},Object(c["mapActions"])(["removeScript"])),{},{add:function(e,t){var n=this;return this.loading=!0,Object(l["a"])(e).then((function(){n.$message.success("接口保存成功"),n.loading=!1;var e=setTimeout((function(){n.$router.$avueRouter.closeTag(),n.$router.push({path:"/aggregate/api"}),clearTimeout(e),t&&"function"===typeof t&&t()}),300)})).catch((function(){n.loading=!1}))},update:function(e,t){var n=this;return this.loading=!0,Object(l["m"])(e).then((function(){n.$message.success("接口修改成功"),n.loading=!1,n.getDetail(),t&&"function"===typeof t&&t()})).catch((function(){n.loading=!1}))},publish:function(){this.originId?this.publishDialog=!0:this.$message.error("数据缺失，无法发布！")},testPublish:function(){this.$router.$avueRouter.closeTag();var e=this.$route;this.$router.push({path:"/aggregate/test",query:{originId:this.originId,redirect:encodeURIComponent(e.fullPath)}})},testFn:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validateConfigs();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",!1);case 5:if(this.testLoading=!0,n=this.handleSubmitData(),a=this.checkChange(n),!a){e.next=12;break}this.$confirm("配置内容已修改，是否保存后跳转测试页面?",{confirmButtonText:"保存后跳转测试",cancelButtonText:"不保存直接测试",distinguishCancelAndClose:!0,type:"warning"}).then((function(){i.update(n,(function(){return i.testLoading=!1,i.testPublish(n)}))})).catch((function(e){if(i.testLoading=!1,"cancel"===e)return i.testPublish(n)})),e.next=13;break;case 12:return e.abrupt("return",this.testPublish(n));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||this.apiConfig,this.debug=e.debug||!1;var t=e,n=t.headersDef,a=t.paramsDef,i=t.bodyDef,r=t.scriptValidate,o=t.langDef,s=t.dataMapping,l=t.stepConfigs,c=t.validateResponse,u=t.contentType,d=t.xmlArrPaths;this.requestConfigs={headersDef:n,paramsDef:a,bodyDef:i,scriptValidate:r,contentType:u,xmlArrPaths:d},this.langConfigs=o||{},this.responseConfigs=s||{},this.stepConfigs=l||[],this.validateResponse=c||{body:{errorMsg:"string validateMsg"}}},getDetail:function(){var e=this;if(!this.originId)return this.formData={},void(this.baseConfigs={});["edit","view"].includes(this.actionType)&&Object(l["f"])(this.originId).then((function(t){e.formData=t.data.data||{};var n=Object.assign({},e.formData),a=n.id,i=void 0===a?"":a,r=n.serviceId,o=void 0===r?"":r,s=n.name,l=void 0===s?"":s,c=n.method,u=void 0===c?"":c,d=n.path,p=void 0===d?"":d,h=n.developer,f=void 0===h?"":h,g=n.description,m=void 0===g?"":g,v=n.serviceName,b=void 0===v?"":v;p=p.replace("/proxy/".concat(b,"/"),"/"),e.baseConfigs={id:i,serviceId:o,name:l,method:u,path:p,developer:f,description:m,serviceName:b}}))},handleConfig:function(){this.$refs.requestConfigs&&this.$refs.requestConfigs.getJson();var e=Object.assign({},this.requestConfigs);return e.name=this.baseConfigs.name,e.debug=this.debug,e.type="REQUEST",e.method=this.baseConfigs.method,e.path="/proxy/".concat(this.baseConfigs.serviceName)+this.baseConfigs.path,e.validateResponse=this.validateResponse,e.stepConfigs=this.stepConfigs,e.dataMapping=this.responseConfigs,e.langDef=this.langConfigs,JSON.stringify(e)},validateConfigs:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,n=this.$refs.baseForm.validateForm(),this.$refs.requestConfigs&&this.$refs.requestConfigs.validateForm(),n){e.next=7;break}return t=!1,this.$message.error("请完善基础信息"),e.abrupt("return",!1);case 7:if(e.t0=this.$refs.stepForm,!e.t0){e.next=12;break}return e.next=11,this.$refs.stepForm.validate();case 11:e.t0=e.sent;case 12:if(a=e.t0,a){e.next=17;break}return this.$message.error("请完善步骤信息"),t=!1,e.abrupt("return",!1);case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSubmitData:function(){var e=Object.assign({},this.baseConfigs);return e.path="/proxy/".concat(e.serviceName)+e.path,e.config=this.handleConfig(),e},handleSubmit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validateConfigs();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",!1);case 5:n=this.handleSubmitData(),a="add"===this.actionType?this.add:this.update,a(n,(function(){var e=i.$store.state.api.willDelScriptIds||[];e.length>0&&i.removeScript(e.join(",")).then((function(){i.$store.commit("CLEAR_WILL_DEL_SCRIPT_IDS")}))}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/aggregate/api"})},checkChange:function(e){var t=this;if(!e)return!0;var n=!1;return Object.keys(e).forEach((function(a){if("config"!==a&&e[a]!==t.formData[a]&&(n=!0),"config"===a)try{var i=t.deepEqual(JSON.parse(e[a]),JSON.parse(t.formData[a]));n=!i||n}catch(r){console.log(r)}})),n},deepEqual:function(e,t){var n=["fixedHeaders","headers","fixedBody","body","fixedParams","params"];if(e===t)return!0;if("object"==Object(r["a"])(e)&&null!=e&&"object"==Object(r["a"])(t)&&null!=t){if(Object.keys(e).length<Object.keys(t).length)return!1;for(var a in e)if(t.hasOwnProperty(a)){if("[object Array]"===Object.prototype.toString.call(e[a])&&"[object Object]"===Object.prototype.toString.call(t[a])&&n.includes(a)){if(!this.checkJSONArray(e[a],t[a]))return!1}else if(!this.deepEqual(e[a],t[a]))return!1}else if("[]"!==JSON.stringify(e[a])&&"{}"!==JSON.stringify(e[a])&&("contentType"!==a||!e[a]||t[a]))return!1;return!0}return!1},checkJSONArray:function(e,t){for(var n=0;n<e.length;n++)if("object"==Object(r["a"])(e)&&null!=e[n].value||"object"==Object(r["a"])(e)&&null!=t[e[n].key]){if(!this.deepEqual(e[n].value,t[e[n].key]))return!1}else if(e[n].value!==t[e[n].key])return!1;return!0},init:function(){"add"===this.actionType&&(this.formData={}),this.getDetail()}}),beforeDestroy:function(){this.$store.commit("CLEAR_WILL_DEL_SCRIPT_IDS")}},w=x,_=(n("fb37"),n("2877")),O=Object(_["a"])(w,a,i,!1,null,"1cc97462",null);t["default"]=O.exports},"65ed":function(e,t,n){var a=n("22d1"),i=n("84ec"),r=i.buildTransformer,o="___zrEVENTSAVED",s=[];function l(e,t,n,a,i){return c(s,t,a,i,!0)&&c(e,n,s[0],s[1])}function c(e,t,n,i,r){if(t.getBoundingClientRect&&a.domSupported&&!p(t)){var s=t[o]||(t[o]={}),l=u(t,s),c=d(l,s,r);if(c)return c(e,n,i),!0}return!1}function u(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var a=["left","right"],i=["top","bottom"],r=0;r<4;r++){var o=document.createElement("div"),s=o.style,l=r%2,c=(r>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[l]+":0",i[c]+":0",a[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),e.appendChild(o),n.push(o)}return n}function d(e,t,n){for(var a=n?"invTrans":"trans",i=t[a],o=t.srcCoords,s=!0,l=[],c=[],u=0;u<4;u++){var d=e[u].getBoundingClientRect(),p=2*u,h=d.left,f=d.top;l.push(h,f),s=s&&o&&h===o[p]&&f===o[p+1],c.push(e[u].offsetLeft,e[u].offsetTop)}return s&&i?i:(t.srcCoords=l,t[a]=n?r(c,l):r(l,c))}function p(e){return"CANVAS"===e.nodeName.toUpperCase()}t.transformLocalCoord=l,t.transformCoordWithViewport=c,t.isCanvasEl=p},6613:function(e,t,n){var a=n("5a43");function i(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},6679:function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("3eba")),r=n("cd33"),o=i.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,a){this.axisPointerClass&&r.fixValue(e),o.superApply(this,"render",arguments),s(this,e,t,n,a,!0)},updateAxisPointer:function(e,t,n,a,i){s(this,e,t,n,a,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),o.superApply(this,"remove",arguments)},dispose:function(e,t){l(this,t),o.superApply(this,"dispose",arguments)}});function s(e,t,n,a,i,s){var c=o.getAxisPointerClass(e.axisPointerClass);if(c){var u=r.getAxisPointerModel(t);u?(e._axisPointer||(e._axisPointer=new c)).render(t,u,a,s):l(e,a)}}function l(e,t,n){var a=e._axisPointer;a&&a.dispose(t,n),e._axisPointer=null}var c=[];o.registerAxisPointerClass=function(e,t){c[e]=t},o.getAxisPointerClass=function(e){return e&&c[e]};var u=o;e.exports=u},6747:function(e,t){var n=Array.isArray;e.exports=n},"67ca":function(e,t,n){var a=n("cb5a");function i(e,t){var n=this.__data__,i=a(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}e.exports=i},"685e":function(e,t,n){"use strict";n("0c59")},"68a2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("el-form",{attrs:{inline:"true",size:"small"}},[n("el-form-item",{attrs:{label:"网关分组"}},[n("el-select",{attrs:{placeholder:"全部",clearable:""},on:{change:e.handleInterfaceSearch},model:{value:e.searchGroup,callback:function(t){e.searchGroup=t},expression:"searchGroup"}},e._l(e.groupOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),n("el-form-item",{staticClass:"sm-hidden",attrs:{label:"日期范围"}},[n("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",clearable:!1,"picker-options":e.datePickerOption},on:{change:e.handleInterfaceSearch},model:{value:e.searchDaterange,callback:function(t){e.searchDaterange=t},expression:"searchDaterange"}})],1)],1),n("el-row",{staticClass:"chart-area",attrs:{span:24}},[n("el-col",{attrs:{sm:12,xs:24}},[n("div",{staticClass:"chart-item",attrs:{id:"apiChart"}},[e._v("接口总数")])]),n("el-col",{attrs:{sm:12,xs:24}},[n("div",{staticClass:"chart-item",attrs:{id:"visitChart"}},[e._v("访问次数")])])],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("5880"),s=n("ee6e"),l=n("84df"),c=n("3eba");n("ef97"),n("007d"),n("627c");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"interface-data",data:function(){return{loading:!0,apiChart:"",visitChart:"",searchGroup:"",searchDaterange:[],interfaceData:[],accessData:[],datePickerOption:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]}}},computed:d(d({},Object(o["mapGetters"])(["groupOptions"])),{},{interfaceChartOption:function(){var e=this.interfaceData.map((function(e){return e["statDate"]})),t=this.interfaceData.map((function(e){return e["count"]})),n={};return n={title:{text:"接口总数"},grid:{left:10,right:10,bottom:0,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:e},yAxis:{type:"value"},series:[{type:"line",data:t}]},n},accessChartOption:function(){var e=this.accessData.map((function(e){return e["statDate"]})),t=this.accessData.map((function(e){return e["count"]})),n={};return n={title:{text:"访问次数"},grid:{left:10,right:10,bottom:0,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:e},yAxis:{type:"value"},series:[{type:"line",data:t}]},n}}),watch:{interfaceChartOption:{deep:!0,handler:function(){this.initInterfaceChart()}},accessChartOption:{deep:!0,handler:function(){this.initAccessChart()}}},created:function(){var e=new Date,t=new Date;t.setTime(t.getTime()-864e6),this.searchDaterange=[Object(l["b"])(t,"yyyy-MM-dd"),Object(l["b"])(e,"yyyy-MM-dd")],this.getInterfaceData(),this.getGroupOptions()},mounted:function(){var e=this;setTimeout((function(){window.addEventListener("resize",(function(){e.apiChart&&e.apiChart.resize(),e.visitChart&&e.visitChart.resize()}))}),2e3)},methods:d(d({},Object(o["mapActions"])(["getGroupOptions"])),{},{handleInterfaceSearch:function(){this.getInterfaceData()},getInterfaceData:function(){var e=this,t={startDate:this.searchDaterange[0]||"",endDate:this.searchDaterange[1]||"",gatewayGroup:this.searchGroup||""};Object(s["e"])(t).then((function(t){e.loading=!1;var n=t.data.data;e.interfaceData=n.interfaceCountDatum||[],e.accessData=n.accessCountDatum||[]}))},initInterfaceChart:function(){this.apiChart||(this.apiChart=c["init"](document.getElementById("apiChart"),"light")),this.apiChart.setOption(this.interfaceChartOption)},initAccessChart:function(){this.visitChart||(this.visitChart=c["init"](document.getElementById("visitChart"))),this.visitChart.setOption(this.accessChartOption)}})},h=p,f=(n("e251"),n("2877")),g=Object(f["a"])(h,a,i,!1,null,"b0e22c3e",null);t["default"]=g.exports},"68ab":function(e,t,n){var a=n("4a3f"),i=a.quadraticProjectPoint;function r(e,t,n,a,r,o,s,l,c){if(0===s)return!1;var u=s;if(c>t+u&&c>a+u&&c>o+u||c<t-u&&c<a-u&&c<o-u||l>e+u&&l>n+u&&l>r+u||l<e-u&&l<n-u&&l<r-u)return!1;var d=i(e,t,n,a,r,o,l,c,null);return d<=u/2}t.containStroke=r},"692e":function(e,t,n){var a={"./App.vue":"3dfd","./components/basic-block/main.vue":"c0fb","./components/basic-container/main.vue":"dc8a","./components/code-editor/index.vue":"9470","./components/code-highlight/index.vue":"d480","./components/code/index.vue":"fb4e","./components/data-editor/index.vue":"4627","./components/error-page/403.vue":"a8d0d","./components/error-page/404.vue":"a5fa","./components/error-page/500.vue":"611b","./components/iframe/main.vue":"c1a1","./components/licensed-footer/main.vue":"d322","./page/index/index.vue":"9cc4","./page/index/layout.vue":"9277","./page/index/logo.vue":"7d3a","./page/index/search.vue":"76c2","./page/index/sidebar/index.vue":"20bf","./page/index/sidebar/sidebarItem.vue":"7505","./page/index/tags.vue":"5ddc","./page/index/top/index.vue":"195f","./page/index/top/top-color.vue":"44b2","./page/index/top/top-lang.vue":"c7cc","./page/index/top/top-license.vue":"1866","./page/index/top/top-lock.vue":"14cd","./page/index/top/top-logs.vue":"0f22","./page/index/top/top-menu.vue":"286c","./page/index/top/top-notice.vue":"ad51","./page/index/top/top-search.vue":"9812","./page/index/top/top-theme.vue":"107f","./page/lock/index.vue":"15c5","./page/login/authredirect.vue":"84a6","./page/login/codelogin.vue":"acd4","./page/login/index.vue":"5596","./page/login/thirdlogin.vue":"124f","./page/login/userlogin.vue":"7c05","./page/logs/index.vue":"08ae","./views/aggregate-record/apply-detail.vue":"62bb","./views/aggregate-record/apply.vue":"8fe7","./views/aggregate-record/audit-detail.vue":"340c","./views/aggregate-record/audit-log.vue":"e4d1","./views/aggregate-record/audit.vue":"1e65","./views/aggregate-record/components/apply-detail.vue":"7079","./views/aggregate-record/components/apply.vue":"1a1f","./views/aggregate-record/components/audit-detail.vue":"218b","./views/aggregate-record/components/revoke-dialog.vue":"c43f","./views/aggregate/api-detail.vue":"65d4","./views/aggregate/api.vue":"8602","./views/aggregate/components/api-detail/addComponent/circle.dialog.vue":"04b4","./views/aggregate/components/api-detail/addComponent/compareForm.vue":"e815","./views/aggregate/components/api-detail/addComponent/condition.dialog.vue":"44d0","./views/aggregate/components/api-detail/addComponent/execBreak.vue":"9288","./views/aggregate/components/api-detail/addComponent/index.vue":"c983","./views/aggregate/components/api-detail/base.vue":"2420","./views/aggregate/components/api-detail/request.vue":"11d7","./views/aggregate/components/api-detail/response.vue":"f6d3","./views/aggregate/components/api-detail/step/request-item.vue":"fd89","./views/aggregate/components/api-detail/step/requests.vue":"5e9f","./views/aggregate/components/api-detail/step/step-item.vue":"4c07","./views/aggregate/components/api-detail/steps.vue":"78e6","./views/aggregate/components/api-detail/validate.vue":"2190","./views/aggregate/components/api-state-tag.vue":"5a57","./views/aggregate/components/apply-api.vue":"6d18","./views/aggregate/components/apply-dialog.vue":"247e","./views/aggregate/components/data-params.vue":"942a","./views/aggregate/components/header.vue":"936b","./views/aggregate/components/json-schema-table.vue":"07d3","./views/aggregate/components/params-table.vue":"83b0","./views/aggregate/components/publish-dialog.vue":"047b","./views/aggregate/components/quoteTooltip.vue":"cc38","./views/aggregate/components/script-dialog.vue":"2fa9","./views/aggregate/components/test-item.vue":"efcc","./views/aggregate/components/values-table.vue":"247e2","./views/aggregate/components/xml-info.vue":"921f","./views/aggregate/history-detail.vue":"e931","./views/aggregate/history.vue":"ba11","./views/aggregate/log-detail.vue":"892a","./views/aggregate/operation-log.vue":"9aa2","./views/aggregate/service.vue":"1da2","./views/aggregate/test.vue":"e282","./views/authority/apiscope.vue":"646e","./views/authority/datascope.vue":"879d","./views/authority/role.vue":"60f8","./views/callback/components/playback-dialog.vue":"d4b8","./views/callback/config.vue":"4c19","./views/callback/detail.vue":"0a91","./views/callback/log.vue":"7de4","./views/callback/playback.vue":"7fb3","./views/flow/api.vue":"55fd","./views/flow/appid.vue":"859b","./views/flow/default.vue":"980c","./views/flow/ip.vue":"d2bd","./views/gateway/components/flow-data.vue":"b599","./views/gateway/components/gateway-data.vue":"36fc","./views/gateway/components/interface-data.vue":"68a2","./views/gateway/components/real-time-data.vue":"87a9","./views/gateway/components/top-data.vue":"300a","./views/gateway/config.vue":"84cd","./views/gateway/group.vue":"d7d1","./views/gateway/list.vue":"b76d","./views/gateway/log.vue":"e3f0","./views/gateway/plugin.vue":"2101","./views/proxy/api.vue":"1754","./views/proxy/appid.vue":"828f","./views/proxy/components/add-appid.vue":"c8b6","./views/proxy/components/header.vue":"9b51","./views/proxy/components/plugin-config.vue":"60cc","./views/proxy/components/plugin-form.vue":"6cdf","./views/proxy/components/plugin-list.vue":"7555","./views/proxy/components/test-path.vue":"2d92","./views/proxy/components/tooltip-appid.vue":"17e0","./views/proxy/components/tooltip-custom.vue":"dd62","./views/proxy/components/tooltip-path.vue":"ccdc","./views/proxy/detail.vue":"e3ca","./views/proxy/ip.vue":"cbe6","./views/rpc/api.vue":"1c4b","./views/rpc/components/api-detail.vue":"74a0","./views/rpc/components/api-selector.vue":"1763","./views/rpc/components/service-detail.vue":"b874","./views/rpc/components/tooltip-service.vue":"fee70","./views/rpc/service.vue":"b5fd","./views/system/client.vue":"9765","./views/system/dept.vue":"88b69","./views/system/dict.vue":"6bce","./views/system/dictbiz.vue":"b74c","./views/system/menu.vue":"5d8a","./views/system/param.vue":"09e0f","./views/system/post.vue":"156f","./views/system/tenant.vue":"14a7","./views/system/user.vue":"b979","./views/system/userinfo.vue":"095a","./views/util/affix.vue":"9b9b","./views/util/cache.vue":"f100","./views/util/crud-form.vue":"7eb6","./views/util/data.vue":"561f","./views/util/demo/dict-classic.vue":"0983","./views/util/demo/dict-horizontal.vue":"6486","./views/util/demo/dict-vertical.vue":"dd4b","./views/util/form-detail.vue":"a597","./views/util/form.vue":"5589","./views/util/logs.vue":"2004","./views/util/permission.vue":"5789","./views/util/store.vue":"88b0","./views/util/table.vue":"41cf","./views/util/tags.vue":"5ad20","./views/util/test.vue":"ab5c","./views/util/top.vue":"d4c8","./views/wel/dashboard.vue":"4b9f","./views/wel/index.vue":"4e3c"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id="692e"},"697e":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=n("18c0"),o=n("89e3"),s=n("e0d8"),l=n("3842"),c=n("9d57"),u=c.prepareLayoutBarSeries,d=c.makeColumnLayout,p=c.retrieveColumnLayout,h=n("9850");function f(e,t){var n,a,r,o=e.type,s=t.getMin(),c=t.getMax(),p=e.getExtent();"ordinal"===o?n=t.getCategories().length:(a=t.get("boundaryGap"),i.isArray(a)||(a=[a||0,a||0]),"boolean"===typeof a[0]&&(a=[0,0]),a[0]=l.parsePercent(a[0],1),a[1]=l.parsePercent(a[1],1),r=p[1]-p[0]||Math.abs(p[0])),"dataMin"===s?s=p[0]:"function"===typeof s&&(s=s({min:p[0],max:p[1]})),"dataMax"===c?c=p[1]:"function"===typeof c&&(c=c({min:p[0],max:p[1]}));var h=null!=s,f=null!=c;null==s&&(s="ordinal"===o?n?0:NaN:p[0]-a[0]*r),null==c&&(c="ordinal"===o?n?n-1:NaN:p[1]+a[1]*r),(null==s||!isFinite(s))&&(s=NaN),(null==c||!isFinite(c))&&(c=NaN),e.setBlank(i.eqNaN(s)||i.eqNaN(c)||"ordinal"===o&&!e.getOrdinalMeta().categories.length),t.getNeedCrossZero()&&(s>0&&c>0&&!h&&(s=0),s<0&&c<0&&!f&&(c=0));var m=t.ecModel;if(m&&"time"===o){var v,b=u("bar",m);if(i.each(b,(function(e){v|=e.getBaseAxis()===t.axis})),v){var y=d(b),x=g(s,c,t,y);s=x.min,c=x.max}}return{extent:[s,c],fixMin:h,fixMax:f}}function g(e,t,n,a){var r=n.axis.getExtent(),o=r[1]-r[0],s=p(a,n.axis);if(void 0===s)return{min:e,max:t};var l=1/0;i.each(s,(function(e){l=Math.min(e.offset,l)}));var c=-1/0;i.each(s,(function(e){c=Math.max(e.offset+e.width,c)})),l=Math.abs(l),c=Math.abs(c);var u=l+c,d=t-e,h=1-(l+c)/o,f=d/h-d;return t+=f*(c/u),e-=f*(l/u),{min:e,max:t}}function m(e,t){var n=f(e,t),a=n.extent,i=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var r=e.type;e.setExtent(a[0],a[1]),e.niceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===r||"time"===r?t.get("minInterval"):null,maxInterval:"interval"===r||"time"===r?t.get("maxInterval"):null});var o=t.get("interval");null!=o&&e.setInterval&&e.setInterval(o)}function v(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new r(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new o;default:return(s.getClass(t)||o).create(e)}}function b(e){var t=e.scale.getExtent(),n=t[0],a=t[1];return!(n>0&&a>0||n<0&&a<0)}function y(e){var t=e.getLabelModel().get("formatter"),n="category"===e.type?e.scale.getExtent()[0]:null;return"string"===typeof t?(t=function(t){return function(n){return n=e.scale.getLabel(n),t.replace("{value}",null!=n?n:"")}}(t),t):"function"===typeof t?function(a,i){return null!=n&&(i=a-n),t(x(e,a),i)}:function(t){return e.scale.getLabel(t)}}function x(e,t){return"category"===e.type?e.scale.getLabel(t):t}function w(e){var t=e.model,n=e.scale;if(t.get("axisLabel.show")&&!n.isBlank()){var a,i,r="category"===e.type,o=n.getExtent();r?i=n.count():(a=n.getTicks(),i=a.length);var s,l=e.getLabelModel(),c=y(e),u=1;i>40&&(u=Math.ceil(i/40));for(var d=0;d<i;d+=u){var p=a?a[d]:o[0]+d,h=c(p),f=l.getTextRect(h),g=_(f,l.get("rotate")||0);s?s.union(g):s=g}return s}}function _(e,t){var n=t*Math.PI/180,a=e.plain(),i=a.width,r=a.height,o=i*Math.abs(Math.cos(n))+Math.abs(r*Math.sin(n)),s=i*Math.abs(Math.sin(n))+Math.abs(r*Math.cos(n)),l=new h(a.x,a.y,o,s);return l}function O(e){var t=e.get("interval");return null==t?"auto":t}function D(e){return"category"===e.type&&0===O(e.getLabelModel())}n("216a"),n("8c2a"),t.getScaleExtent=f,t.niceScaleExtent=m,t.createScaleByModel=v,t.ifAxisCrossZero=b,t.makeLabelFormatter=y,t.getAxisRawValue=x,t.estimateLabelUnionRect=w,t.getOptionCategoryInterval=O,t.shouldShowAllLabels=D},"697e7":function(e,t,n){var a=n("de00"),i=n("22d1"),r=n("6d8b"),o=n("d2cf"),s=n("afa0"),l=n("ed21"),c=n("30a3"),u=n("cdaa"),d=!i.canvasSupported,p={canvas:l},h={},f="4.3.2";function g(e,t){var n=new x(a(),e,t);return h[n.id]=n,n}function m(e){if(e)e.dispose();else{for(var t in h)h.hasOwnProperty(t)&&h[t].dispose();h={}}return this}function v(e){return h[e]}function b(e,t){p[e]=t}function y(e){delete h[e]}var x=function(e,t,n){n=n||{},this.dom=t,this.id=e;var a=this,l=new s,h=n.renderer;if(d){if(!p.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");h="vml"}else h&&p[h]||(h="canvas");var f=new p[h](t,l,n,e);this.storage=l,this.painter=f;var g=i.node||i.worker?null:new u(f.getViewportRoot(),f.root);this.handler=new o(l,f,g,f.root),this.animation=new c({stage:{update:r.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var m=l.delFromStorage,v=l.addToStorage;l.delFromStorage=function(e){m.call(l,e),e&&e.removeSelfFromZr(a)},l.addToStorage=function(e){v.call(l,e),e.addSelfToZr(a)}};x.prototype={constructor:x,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var n=this.painter.addHover(e,t);return this.refreshHover(),n}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,y(this.id)}},t.version=f,t.init=g,t.dispose=m,t.getInstance=v,t.registerPainter=b},"69d5":function(e,t,n){var a=n("cb5a"),i=Array.prototype,r=i.splice;function o(e){var t=this.__data__,n=a(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():r.call(t,n,1),--this.size,!0}e.exports=o},"69ff":function(e,t,n){var a=n("6d8b"),i=a.each,r=a.map,o=a.isFunction,s=a.createHashMap,l=a.noop,c=n("f47d"),u=c.createTask,d=n("8918"),p=d.getUID,h=n("7e63"),f=n("843e"),g=n("e0d3"),m=g.normalizeToArray;function v(e,t,n,a){this.ecInstance=e,this.api=t,this.unfinished;n=this._dataProcessorHandlers=n.slice(),a=this._visualHandlers=a.slice();this._allHandlers=n.concat(a),this._stageTaskMap=s()}var b=v.prototype;function y(e,t,n,a,r){var o;function s(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}r=r||{},i(t,(function(t,i){if(!r.visualType||r.visualType===t.visualType){var l=e._stageTaskMap.get(t.uid),c=l.seriesTaskMap,u=l.overallTask;if(u){var d,p=u.agentStubMap;p.each((function(e){s(r,e)&&(e.dirty(),d=!0)})),d&&u.dirty(),x(u,a);var h=e.getPerformArgs(u,r.block);p.each((function(e){e.perform(h)})),o|=u.perform(h)}else c&&c.each((function(i,l){s(r,i)&&i.dirty();var c=e.getPerformArgs(i,r.block);c.skip=!t.performRawSeries&&n.isSeriesFiltered(i.context.model),x(i,a),o|=i.perform(c)}))}})),e.unfinished|=o}b.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))},b.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),a=n.context,i=!t&&n.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>n.blockIndex,r=i?n.step:null,o=a&&a.modDataCount,s=null!=o?Math.ceil(o/r):null;return{step:r,modBy:s,modDataCount:o}}},b.getPipeline=function(e){return this._pipelineMap.get(e)},b.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),r=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,o=e.get("large")&&i>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:r,modDataCount:s,large:o}},b.restorePipelines=function(e){var t=this,n=t._pipelineMap=s();e.eachSeries((function(e){var a=e.getProgressive(),i=e.uid;n.set(i,{id:i,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:a&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),L(t,e,e.dataTask)}))},b.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),n=this.api;i(this._allHandlers,(function(a){var i=e.get(a.uid)||e.set(a.uid,[]);a.reset&&w(this,a,i,t,n),a.overallReset&&_(this,a,i,t,n)}),this)},b.prepareView=function(e,t,n,a){var i=e.renderTask,r=i.context;r.model=t,r.ecModel=n,r.api=a,i.__block=!e.incrementalPrepareRender,L(this,t,i)},b.performDataProcessorTasks=function(e,t){y(this,this._dataProcessorHandlers,e,t,{block:!0})},b.performVisualTasks=function(e,t,n){y(this,this._visualHandlers,e,t,n)},b.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t|=e.dataTask.perform()})),this.unfinished|=t},b.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))};var x=b.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)};function w(e,t,n,a,i){var r=n.seriesTaskMap||(n.seriesTaskMap=s()),o=t.seriesType,l=t.getTargetSeries;function c(n){var o=n.uid,s=r.get(o)||r.set(o,u({plan:k,reset:T,count:I}));s.context={model:n,ecModel:a,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},L(e,n,s)}t.createOnAllSeries?a.eachRawSeries(c):o?a.eachRawSeriesByType(o,c):l&&l(a,i).each(c);var d=e._pipelineMap;r.each((function(e,t){d.get(t)||(e.dispose(),r.removeKey(t))}))}function _(e,t,n,a,r){var o=n.overallTask=n.overallTask||u({reset:O});o.context={ecModel:a,api:r,overallReset:t.overallReset,scheduler:e};var l=o.agentStubMap=o.agentStubMap||s(),c=t.seriesType,d=t.getTargetSeries,p=!0,h=t.modifyOutputEnd;function f(t){var n=t.uid,a=l.get(n);a||(a=l.set(n,u({reset:D,onDirty:S})),o.dirty()),a.context={model:t,overallProgress:p,modifyOutputEnd:h},a.agent=o,a.__block=p,L(e,t,a)}c?a.eachRawSeriesByType(c,f):d?d(a,r).each(f):(p=!1,i(a.getSeries(),f));var g=e._pipelineMap;l.each((function(e,t){g.get(t)||(e.dispose(),o.dirty(),l.removeKey(t))}))}function O(e){e.overallReset(e.ecModel,e.api,e.payload)}function D(e,t){return e.overallProgress&&C}function C(){this.agent.dirty(),this.getDownstream().dirty()}function S(){this.agent&&this.agent.dirty()}function k(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function T(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=m(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?r(t,(function(e,t){return j(t)})):P}var P=j(0);function j(e){return function(t,n){var a=n.data,i=n.resetDefines[e];if(i&&i.dataEach)for(var r=t.start;r<t.end;r++)i.dataEach(a,r);else i&&i.progress&&i.progress(t,a)}}function I(e){return e.data.count()}function L(e,t,n){var a=t.uid,i=e._pipelineMap.get(a);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i}function M(e){A=null;try{e(E,z)}catch(t){}return A}v.wrapStageHandler=function(e,t){return o(e)&&(e={overallReset:e,seriesType:M(e)}),e.uid=p("stageHandler"),t&&(e.visualType=t),e};var A,E={},z={};function R(e,t){for(var n in t.prototype)e[n]=l}R(E,h),R(z,f),E.eachSeriesByType=E.eachRawSeriesByType=function(e){A=e},E.eachComponent=function(e){"series"===e.mainType&&e.subType&&(A=e.subType)};var F=v;e.exports=F},"6ac0":function(e,t){function n(e,t,n,a){var i=-1,r=null==e?0:e.length;a&&r&&(n=e[++i]);while(++i<r)n=t(n,e[i],i,e);return n}e.exports=n},"6b32":function(e,t,n){},"6bce":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:11}},[n("basic-container",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("字典列表")])]),n("div",{staticClass:"clearfix"},[n("avue-crud",{ref:"crud",attrs:{option:e.optionParent,"table-loading":e.loading,data:e.dataParent,page:e.pageParent,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"row-click":e.handleRowClick,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoadParent},scopedSlots:e._u([{key:"isSealed",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(0===a.isSealed?"否":"是"))])]}}]),model:{value:e.formParent,callback:function(t){e.formParent=t},expression:"formParent"}},[n("template",{slot:"menuLeft"},[e.permission.dict_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n              ")]):e._e()],1)],2)],1)])],1)],1),n("el-col",{attrs:{span:13}},[n("basic-container",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("["+e._s(e.dictValue)+"] 字典详情")])]),n("div",{staticClass:"clearfix"},[n("avue-crud",{ref:"crudChild",attrs:{option:e.optionChild,"table-loading":e.loadingChild,data:e.dataChild,page:e.pageChild,permission:e.permissionList,"before-open":e.beforeOpenChild},on:{"row-del":e.rowDelChild,"row-update":e.rowUpdateChild,"row-save":e.rowSaveChild,"search-change":e.searchChangeChild,"search-reset":e.searchResetChild,"selection-change":e.selectionChangeChild,"current-change":e.currentChangeChild,"size-change":e.sizeChangeChild,"refresh-change":e.refreshChangeChild,"on-load":e.onLoadChild},scopedSlots:e._u([{key:"isSealed",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(0===a.isSealed?"否":"是"))])]}}]),model:{value:e.formChild,callback:function(t){e.formChild=t},expression:"formChild"}},[n("template",{slot:"menuLeft"},[e.permission.dict_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n              ")]):e._e()],1)],2)],1)])],1)],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("7754"),s={tip:!1,searchShow:!0,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:150,dialogWidth:880,dialogClickModal:!1,menuPosition:"right",column:[{label:"字典编号",prop:"code",search:!0,searchSpan:12,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,searchSpan:12,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",align:"right",width:80,hide:!0,rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"switch",align:"center",width:80,dicData:[{label:"否",value:0},{label:"是",value:1}],value:0,slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",hide:!0}]},l={tip:!1,searchShow:!0,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:150,dialogWidth:880,dialogClickModal:!1,menuPosition:"right",column:[{label:"字典编号",prop:"code",addDisabled:!0,editDisabled:!0,search:!0,searchSpan:12,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,searchSpan:12,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"上级字典",prop:"parentId",type:"tree",dicData:[],hide:!0,props:{label:"title"},addDisabled:!0,editDisabled:!0,rules:[{required:!1,message:"请选择上级字典",trigger:"click"}]},{label:"字典键值",prop:"dictKey",width:80,rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",align:"right",width:80,rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"switch",align:"center",width:80,dicData:[{label:"否",value:0},{label:"是",value:1}],value:0,slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",hide:!0}]},c=n("5880");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{dictValue:"暂无",parentId:-1,formParent:{},formChild:{},selectionList:[],query:{},loading:!0,loadingChild:!0,pageParent:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},pageChild:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},dataParent:[],dataChild:[],optionParent:s,optionChild:l}},computed:d(d({},Object(c["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1),viewBtn:!1}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),mounted:function(){var e=this;Object(o["d"])().then((function(t){var n=e.findObject(e.optionChild.column,"parentId");n.dicData=t.data.data}))},methods:{rowSave:function(e,t,n){var a=this,i=d(d({},e),{},{dictKey:-1});Object(o["a"])(i).then((function(){a.onLoadParent(a.pageParent),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["i"])(e).then((function(){i.onLoadParent(i.pageParent),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadParent(t.pageParent),t.$message({type:"success",message:"操作成功!"})}))},handleRowClick:function(e){this.parentId=e.id,this.dictValue=e.dictValue,this.$refs.crudChild.value.code=e.code,this.$refs.crudChild.value.parentId=e.id,this.$refs.crudChild.option.column.filter((function(t){"code"===t.prop&&(t.value=e.code),"parentId"===t.prop&&(t.value=e.id)})),this.onLoadChild(this.pageChild)},searchReset:function(){this.query={},this.onLoadParent(this.pageParent)},searchChange:function(e,t){this.query=e,this.pageParent.currentPage=1,this.onLoadParent(this.pageParent,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadParent(e.pageParent),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["c"])(this.formParent.id).then((function(e){n.formParent=e.data.data})),e()},currentChange:function(e){this.pageParent.currentPage=e},sizeChange:function(e){this.pageParent.pageSize=e},refreshChange:function(){this.onLoadParent(this.pageParent,this.query)},rowSaveChild:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoadChild(a.pageChild),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdateChild:function(e,t,n,a){var i=this;Object(o["i"])(e).then((function(){i.onLoadChild(i.pageChild),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDelChild:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadChild(t.pageChild),t.$message({type:"success",message:"操作成功!"})}))},searchResetChild:function(){this.query={},this.onLoadChild(this.pageChild)},searchChangeChild:function(e,t){this.query=e,this.pageChild.currentPage=1,this.onLoadChild(this.pageChild,e),t()},selectionChangeChild:function(e){this.selectionList=e},selectionClearChild:function(){this.selectionList=[],this.$refs.crudChild.toggleSelection()},handleDeleteChild:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadChild(e.pageChild),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudChild.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenChild:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["c"])(this.formChild.id).then((function(e){n.formChild=e.data.data})),e()},currentChangeChild:function(e){this.pageChild.currentPage=e},sizeChangeChild:function(e){this.pageChild.pageSize=e},refreshChangeChild:function(){this.onLoadChild(this.pageChild,this.query)},onLoadParent:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["g"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.pageParent.total=n.total,t.dataParent=n.records,t.loading=!1,t.selectionClear()}))},onLoadChild:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loadingChild=!0,Object(o["b"])(e.currentPage,e.pageSize,this.parentId,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.pageChild.total=n.total,t.dataChild=n.records,t.loadingChild=!1,t.selectionClear()}))}}},h=p,f=n("2877"),g=Object(f["a"])(h,a,i,!1,null,null,null);t["default"]=g.exports},"6c43":function(e,t,n){"use strict";n("522c")},"6cb7":function(e,t,n){var a=n("6d8b"),i=n("4319"),r=n("8918"),o=n("625e"),s=o.enableClassManagement,l=o.parseClassType,c=n("e0d3"),u=c.makeInner,d=n("f934"),p=n("de1c"),h=u(),f=i.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,a){i.call(this,e,t,n,a),this.uid=r.getUID("ec_cpt_model")},init:function(e,t,n,a){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?d.getLayoutParams(e):{},r=t.getTheme();a.merge(e,r.get(this.mainType)),a.merge(e,this.getDefaultOption()),n&&d.mergeLayoutParam(e,i,n)},mergeOption:function(e,t){a.merge(this.option,e,!0);var n=this.layoutMode;n&&d.mergeLayoutParam(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=h(this);if(!e.defaultOption){var t=[],n=this.constructor;while(n){var i=n.prototype.defaultOption;i&&t.push(i),n=n.superClass}for(var r={},o=t.length-1;o>=0;o--)r=a.merge(r,t[o],!0);e.defaultOption=r}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});function g(e){var t=[];return a.each(f.getClassesByMainType(e),(function(e){t=t.concat(e.prototype.dependencies||[])})),t=a.map(t,(function(e){return l(e).main})),"dataset"!==e&&a.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}s(f,{registerWhenExtend:!0}),r.enableSubTypeDefaulter(f),r.enableTopologicalTravel(f,g),a.mixin(f,p);var m=f;e.exports=m},"6cd4":function(e,t,n){var a=n("8057"),i=n("48a0"),r=n("1304"),o=n("6747");function s(e,t){var n=o(e)?a:i;return n(e,r(t))}e.exports=s},"6cdf":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"formData",staticClass:"plugin-form",attrs:{disabled:e.disabled,model:e.formData,size:"small"}},[e.pluginConfig.length?e._l(e.pluginConfig,(function(t,a){return n("el-form-item",{key:a,attrs:{label:t.label,prop:t.field,rules:t.rules}},["input"===t.component?[["number","long","double"].some((function(e){return e===t.dataType}))?n("el-input",{attrs:{type:"number",placeholder:t.placeholder+"??",autocomplete:"off",clearable:""},model:{value:e.formData[t.field],callback:function(n){e.$set(e.formData,t.field,e._n(n))},expression:"formData[comp.field]"}}):n("el-input",{attrs:{placeholder:t.placeholder,autocomplete:"off",clearable:""},model:{value:e.formData[t.field],callback:function(n){e.$set(e.formData,t.field,n)},expression:"formData[comp.field]"}})]:e._e(),"select"===t.component?[n("el-select",{attrs:{placeholder:t.placeholder,clearable:""},model:{value:e.formData[t.field],callback:function(n){e.$set(e.formData,t.field,n)},expression:"formData[comp.field]"}},e._l(t.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]:e._e(),"radio"===t.component?[n("el-radio-group",{model:{value:e.formData[t.field],callback:function(n){e.$set(e.formData,t.field,n)},expression:"formData[comp.field]"}},e._l(t.options,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),1)]:e._e(),"checkbox"===t.component?[n("el-checkbox-group",{model:{value:e.formData[t.field],callback:function(n){e.$set(e.formData,t.field,n)},expression:"formData[comp.field]"}},e._l(t.options,(function(t){return n("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),1)]:e._e(),"textarea"===t.component?[n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},placeholder:t.placeholder,autocomplete:"off",clearable:""},model:{value:e.formData[t.field],callback:function(n){e.$set(e.formData,t.field,n)},expression:"formData[comp.field]"}})]:e._e(),n("div",{staticStyle:{color:"#999","font-size":"12px"}},[e._v(e._s(t.desc))])],2)})):[n("el-alert",{attrs:{title:"当前插件配置有误",type:"warning",closable:!1}})]],2)],1)},i=[],r=(n("7514"),n("ac6a"),n("456d"),n("7f7f"),n("c5f6"),n("16cd")),o={data:function(){return{formData:{}}},props:{disabled:{type:Boolean,default:!1},config:{type:[Array,String],required:!0},data:{type:[Array,Object]},order:{type:[String,Number]},name:{type:String}},computed:{pluginConfig:function(){var e=this.config||"";return e&&"string"===typeof e&&(e=JSON.parse(e)),e||[]},watchInit:function(){return{pluginConfig:this.pluginConfig,data:this.data}}},watch:{watchInit:{immediate:!0,deep:!0,handler:function(){this.initData()}}},methods:{validate:function(){var e=this;return this.handleData(),new Promise((function(t,n){e.$refs.formData.validate((function(a,i){if(e.order||n("插件【".concat(e.name,"】: 执行顺序不能为空")),a)t();else{if(i){var r=Object.keys(i)[0],o=i[r][0]["message"]||"未完善插件配置";n("插件【".concat(e.name,"】: ").concat(o))}n()}}))}))},resetForm:function(e){this.$refs[e].resetFields()},handleData:function(){var e=this,t=[],n=Object.assign({},this.formData);Object.keys(n).forEach((function(a){var i=e.pluginConfig.find((function(e){return e.field===a}))||{};if("checkbox"===i.component&&!n[a].length)return!1;var r={item:a,type:i.dataType,value:JSON.stringify(n[a])};t.push(r)})),this.$emit("update:data",Object(r["b"])(t))},initData:function(){var e=this,t={};this.pluginConfig.forEach((function(n){if("checkbox"===n.component&&(t[n.field]=[]),Object.keys(n).some((function(e){return"default"===e}))&&(t[n.field]=n.default),e.data&&e.data.length>0){var a=e.data.find((function(e){return e.item===n.field}));a&&(t[n.field]=JSON.parse(a.value))}})),this.formData=Object.assign({},this.formData,t)}}},s=o,l=(n("1884"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,null,null);t["default"]=c.exports},"6d8b":function(e,t){var n={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},a={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},i=Object.prototype.toString,r=Array.prototype,o=r.forEach,s=r.filter,l=r.slice,c=r.map,u=r.reduce,d={};function p(e,t){"createCanvas"===e&&(b=null),d[e]=t}function h(e){if(null==e||"object"!==typeof e)return e;var t=e,r=i.call(e);if("[object Array]"===r){if(!Y(e)){t=[];for(var o=0,s=e.length;o<s;o++)t[o]=h(e[o])}}else if(a[r]){if(!Y(e)){var l=e.constructor;if(e.constructor.from)t=l.from(e);else{t=new l(e.length);for(o=0,s=e.length;o<s;o++)t[o]=h(e[o])}}}else if(!n[r]&&!Y(e)&&!F(e))for(var c in t={},e)e.hasOwnProperty(c)&&(t[c]=h(e[c]));return t}function f(e,t,n){if(!E(t)||!E(e))return n?h(t):e;for(var a in t)if(t.hasOwnProperty(a)){var i=e[a],r=t[a];!E(r)||!E(i)||L(r)||L(i)||F(r)||F(i)||z(r)||z(i)||Y(r)||Y(i)?!n&&a in e||(e[a]=h(t[a],!0)):f(i,r,n)}return e}function g(e,t){for(var n=e[0],a=1,i=e.length;a<i;a++)n=f(n,e[a],t);return n}function m(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function v(e,t,n){for(var a in t)t.hasOwnProperty(a)&&(n?null!=t[a]:null==e[a])&&(e[a]=t[a]);return e}var b,y=function(){return d.createCanvas()};function x(){return b||(b=y().getContext("2d")),b}function w(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n}return-1}function _(e,t){var n=e.prototype;function a(){}for(var i in a.prototype=t.prototype,e.prototype=new a,n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);e.prototype.constructor=e,e.superClass=t}function O(e,t,n){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,v(e,t,n)}function D(e){if(e)return"string"!==typeof e&&"number"===typeof e.length}function C(e,t,n){if(e&&t)if(e.forEach&&e.forEach===o)e.forEach(t,n);else if(e.length===+e.length)for(var a=0,i=e.length;a<i;a++)t.call(n,e[a],a,e);else for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function S(e,t,n){if(e&&t){if(e.map&&e.map===c)return e.map(t,n);for(var a=[],i=0,r=e.length;i<r;i++)a.push(t.call(n,e[i],i,e));return a}}function k(e,t,n,a){if(e&&t){if(e.reduce&&e.reduce===u)return e.reduce(t,n,a);for(var i=0,r=e.length;i<r;i++)n=t.call(a,n,e[i],i,e);return n}}function T(e,t,n){if(e&&t){if(e.filter&&e.filter===s)return e.filter(t,n);for(var a=[],i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)&&a.push(e[i]);return a}}function P(e,t,n){if(e&&t)for(var a=0,i=e.length;a<i;a++)if(t.call(n,e[a],a,e))return e[a]}function j(e,t){var n=l.call(arguments,2);return function(){return e.apply(t,n.concat(l.call(arguments)))}}function I(e){var t=l.call(arguments,1);return function(){return e.apply(this,t.concat(l.call(arguments)))}}function L(e){return"[object Array]"===i.call(e)}function M(e){return"function"===typeof e}function A(e){return"[object String]"===i.call(e)}function E(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function z(e){return!!n[i.call(e)]}function R(e){return!!a[i.call(e)]}function F(e){return"object"===typeof e&&"number"===typeof e.nodeType&&"object"===typeof e.ownerDocument}function B(e){return e!==e}function $(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function q(e,t){return null!=e?e:t}function N(e,t,n){return null!=e?e:null!=t?t:n}function H(){return Function.call.apply(l,arguments)}function V(e){if("number"===typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function U(e,t){if(!e)throw new Error(t)}function G(e){return null==e?null:"function"===typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}d.createCanvas=function(){return document.createElement("canvas")};var W="__ec_primitive__";function J(e){e[W]=!0}function Y(e){return e[W]}function X(e){var t=L(e);this.data={};var n=this;function a(e,a){t?n.set(e,a):n.set(a,e)}e instanceof X?e.each(a):e&&C(e,a)}function Q(e){return new X(e)}function K(e,t){for(var n=new e.constructor(e.length+t.length),a=0;a<e.length;a++)n[a]=e[a];var i=e.length;for(a=0;a<t.length;a++)n[a+i]=t[a];return n}function Z(){}X.prototype={constructor:X,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){for(var n in void 0!==t&&(e=j(e,t)),this.data)this.data.hasOwnProperty(n)&&e(this.data[n],n)},removeKey:function(e){delete this.data[e]}},t.$override=p,t.clone=h,t.merge=f,t.mergeAll=g,t.extend=m,t.defaults=v,t.createCanvas=y,t.getContext=x,t.indexOf=w,t.inherits=_,t.mixin=O,t.isArrayLike=D,t.each=C,t.map=S,t.reduce=k,t.filter=T,t.find=P,t.bind=j,t.curry=I,t.isArray=L,t.isFunction=M,t.isString=A,t.isObject=E,t.isBuiltInObject=z,t.isTypedArray=R,t.isDom=F,t.eqNaN=B,t.retrieve=$,t.retrieve2=q,t.retrieve3=N,t.slice=H,t.normalizeCssArray=V,t.assert=U,t.trim=G,t.setAsPrimitive=J,t.isPrimitive=Y,t.createHashMap=Q,t.concatArray=K,t.noop=Z},"6e4e":function(e,t,n){},"6f6c":function(e,t){var n=/\w*$/;function a(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}e.exports=a},"6fcd":function(e,t,n){var a=n("50d8"),i=n("d370"),r=n("6747"),o=n("0d24"),s=n("c098"),l=n("73ac"),c=Object.prototype,u=c.hasOwnProperty;function d(e,t){var n=r(e),c=!n&&i(e),d=!n&&!c&&o(e),p=!n&&!c&&!d&&l(e),h=n||c||d||p,f=h?a(e.length,String):[],g=f.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||f.push(m);return f}e.exports=d},7037:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},7079:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"apply-detail",attrs:{title:"发布|下线申请","append-to-body":"",top:"5vh",width:"70%",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[n("div",{staticClass:"apply-table-wrap"},[n("div",{staticClass:"b-tip"},[e._v("操作以下接口：")]),n("el-table",{attrs:{data:e.tableData,border:"",stripe:"",size:"mini","max-height":"200"}},[n("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),n("el-table-column",{attrs:{prop:"name",label:"接口名"}}),n("el-table-column",{attrs:{align:"center",label:"状态",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.formData.id===t.row.applyId?[e._v("\n            "+e._s(e.getApprovalStateName(t.row.approvalState))+"\n          ")]:[e._v("-")]]}}])}),2===e.formData.status?n("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.formData.id===t.row.applyId?[e.permissionList.publishBtn&&2===t.row.approvalState?n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.publish(t.row)}}},[e._v("\n              发布\n            ")]):e._e(),e.permissionList.offlineBtn&&3===t.row.approvalState?n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.offline(t.row)}}},[e._v("\n              下线\n            ")]):e._e(),!e.permissionList.revokeBtn||2!==t.row.approvalState&&3!==t.row.approvalState?e._e():n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.rowRevoke(t.row)}}},[e._v("\n              撤回\n            ")])]:e._e()]}}],null,!1,4163813898)}):e._e()],1)],1),n("el-form",{staticClass:"data-form",attrs:{size:"mini","label-width":"100px"}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"标题："}},[e._v("\n          "+e._s(e.formData.title)+"\n        ")])],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"申请人："}},[e._v("\n          "+e._s(e.formData.createBy)+"\n        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"审核人："}},[e._v("\n          "+e._s(e.formData.approvalBy)+"\n        ")])],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"申请类型："}},[e._v("\n          "+e._s((0===e.formData.type?"发布":1===e.formData.type&&"下线")||e.formData.type||"-")+"\n        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"审核结果："}},[1===e.formData.approvalResult?n("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("审核不通过")]):2===e.formData.approvalResult?n("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("审核通过")]):n("span",[e._v(e._s(e.formData.approvalResult))])],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"申请原因："}},[e._v("\n          "+e._s(e.formData.reason)+"\n        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"审核备注："}},[e._v("\n          "+e._s(e.formData.approvalRemark)+"\n        ")])],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"申请时间："}},[e._v("\n          "+e._s(e.formData.createTime)+"\n        ")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"审核时间："}},[e._v("\n          "+e._s(e.formData.approvalTime)+"\n        ")])],1)],1)],1),e.logData&&0!==e.logData.length?[n("el-divider",[e._v("操作日志")]),n("el-table",{attrs:{data:e.logData,border:"",stripe:"",size:"mini","max-height":"300"}},[n("el-table-column",{attrs:{align:"center",label:"操作类型",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.getOpTypeName(t.row.opType))+"\n        ")]}}],null,!1,3314202637)}),n("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),n("el-table-column",{attrs:{prop:"name",label:"接口名"}}),n("el-table-column",{attrs:{prop:"opBy",label:"操作人"}}),n("el-table-column",{attrs:{prop:"opTime",label:"操作时间"}}),n("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1)]:e._e(),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[2===e.formData.status?[e.permissionList.rollback?n("el-button",{attrs:{type:"primary",size:"small",loading:e.rollbackLoading,plain:""},on:{click:e.rollback}},[e._v("\n        批量回滚\n      ")]):e._e(),0===e.formData.type&&e.permissionList.batchPublishBtn||1===e.formData.type&&e.permissionList.batchOfflineBtn?n("el-button",{attrs:{type:"primary",size:"small",loading:e.executeLoading,plain:""},on:{click:e.execute}},[e._v("\n        "+e._s((0===e.formData.type?"批量发布":1===e.formData.type&&"批量下线")||"批量执行")+"\n      ")]):e._e()]:e._e(),0===e.formData.status?[e.permissionList.applyBtn?n("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.changeAudit}},[e._v("\n        修改审核人\n      ")]):e._e(),e.permissionList.revokeBtn?n("el-button",{attrs:{type:"primary",size:"small",loading:e.revokeLoading},on:{click:e.revoke}},[e._v("撤回\n      ")]):e._e()]:e._e(),n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取消")])],2),n("revoke-dialog",{attrs:{visible:e.revokeDialog.visible,form:e.revokeDialog.form,id:e.revokeDialog.id,callback:e.revokeCallback},on:{"update:visible":function(t){return e.$set(e.revokeDialog,"visible",t)}}}),n("publish-dialog",{attrs:{visible:e.publishDialog.visible,name:e.publishDialog.name,id:e.publishDialog.id,callback:e.publishCallback},on:{"update:visible":function(t){return e.$set(e.publishDialog,"visible",t)}}}),n("el-dialog",{attrs:{"append-to-body":"",title:"修改审核人",visible:e.auditDialogVisible},on:{"update:visible":function(t){e.auditDialogVisible=t}}},[n("el-form",{attrs:{model:e.auditForm,size:"small"}},[n("el-form-item",{attrs:{label:"审核人"}},[n("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.auditForm.approvalUser,callback:function(t){e.$set(e.auditForm,"approvalUser",t)},expression:"auditForm.approvalUser"}},e._l(e.approvalUsers,(function(e){return n("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleAuditChange}},[e._v("确 定")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.auditDialogVisible=!1}}},[e._v("取 消")])],1)],1)],2)},i=[],r=(n("8e6e"),n("456d"),n("7f7f"),n("7514"),n("ac6a"),n("ade3")),o=(n("c5f6"),n("0f43")),s=n("708f"),l=n("4870"),c=n("5880"),u=n("047b"),d=n("c43f");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"apply-detail",data:function(){return{revokeLoading:!1,executeLoading:!1,rollbackLoading:!1,tableData:[],logData:[],approvalUsers:[],formData:{},publishDialog:{visible:!1,title:"接口",name:"",id:""},revokeDialog:{visible:!1,form:{},id:""},auditForm:{applyId:"",approvalUser:""},auditDialogVisible:!1}},props:{visible:{type:Boolean,default:!1},id:{type:[String,Number],required:!0},data:{type:Object,required:!0},callback:{type:Function}},computed:h(h({},Object(c["mapGetters"])(["permission"])),{},{permissionList:function(){return{applyBtn:this.vaildData(this.permission.aggregate_api_apply,!1),publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1),offlineBtn:this.vaildData(this.permission.aggregate_api_offline,!1),batchPublishBtn:this.vaildData(this.permission.aggregate_apply_batchPublish,!1),batchOfflineBtn:this.vaildData(this.permission.aggregate_apply_batchOffline,!1),revokeBtn:this.vaildData(this.permission.aggregate_apply_revoke,!1),rollback:this.vaildData(this.permission.aggregate_apply_rollback,!1)}},ids:function(){var e=[];return this.tableData.forEach((function(t){e.push(t.id||t.configId)})),e}}),components:{publishDialog:u["default"],revokeDialog:d["default"]},watch:{visible:function(e){e&&this.getApplyLog()},data:{immediate:!0,handler:function(){this.init()}}},methods:{getOpTypeName:function(e){var t=l["e"].find((function(t){return parseInt(t.value)===e}));return t&&t.label||e},getApprovalStateName:function(e){var t=l["d"].find((function(t){return parseInt(t.value)===e}));return t&&t.label||""},getApprovalUsers:function(){var e=this;if(!this.ids||0===this.ids.length)return!1;Object(s["e"])({configIds:this.ids}).then((function(t){var n=t.data.data;e.approvalUsers=n.approvalUsers||[]}))},handleAuditChange:function(){var e=this;this.auditDialogVisible=!1;var t={};return t.applyId=this.auditForm.applyId,t.approvalUserId=this.auditForm.approvalUser,Object(o["a"])(t).then((function(){e.$message.success("修改成功"),e.auditDialogVisible=!1,setTimeout((function(){e.handleClose(),e.callback&&"function"===typeof e.callback&&e.callback()}),300)}))},changeAudit:function(){this.getApprovalUsers(),this.auditForm.applyId=this.formData.id,this.auditForm.approvalUser=this.formData.approvalUser,this.auditDialogVisible=!0},rowRevoke:function(e){this.revokeDialog.id=this.id,this.revokeDialog.visible=!0,this.revokeDialog.form=e},revoke:function(){var e=this;this.$confirm("确定撤回该申请?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.revokeLoading=!0,Object(o["g"])(e.id).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("撤回成功"),e.$emit("update:visible",!1),e.revokeLoading=!1})).catch((function(){e.revokeLoading=!1}))}))},revokeCallback:function(){this.changeState(this.revokeDialog.form.id,7),this.getApplyLog()},execute:function(){var e=this;this.$confirm("确定批量执行该申请的操作?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.executeLoading=!0,Object(o["b"])(e.id).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("操作成功"),e.$emit("update:visible",!1),e.executeLoading=!1})).catch((function(){e.executeLoading=!1}))}))},rollback:function(){var e=this;this.$confirm("确定批量回滚该申请的操作?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.rollbackLoading=!0,Object(o["h"])(e.id).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("回滚成功"),e.$emit("update:visible",!1),e.rollbackLoading=!1})).catch((function(){e.rollbackLoading=!1}))}))},offline:function(e){var t=this;this.$confirm("确定下线【".concat(e.name,"】此接口吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["i"])(e.id)})).then((function(){t.$message({type:"success",message:"下线成功"}),t.changeState(e.id)}))},publish:function(e){e.id?(this.publishDialog.visible=!0,this.publishDialog.name=e.name,this.publishDialog.id=e.id):this.$message.error("数据缺失，无法发布！")},publishCallback:function(){this.changeState(this.publishDialog.id)},changeState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;this.tableData.map((function(n){if(n.id===e)return n.approvalState=t,n}))},init:function(){this.formData=this.data;var e=[];(this.data.configs||[]).forEach((function(t){e.push(Object.assign({id:t.configId,name:t.configName},t))})),this.tableData=e},handleClose:function(e){this.$emit("update:visible",!1),e&&e()},getApplyLog:function(){var e=this;return this.logData=[],Object(o["c"])(this.id).then((function(t){e.logData=t.data.data}))}}},g=f,m=(n("6356"),n("163d"),n("2877")),v=Object(m["a"])(g,a,i,!1,null,"0c56b194",null);t["default"]=v.exports},"70db":function(e,t,n){"use strict";n("880a")},"70dc":function(e,t,n){"use strict";n("5375")},7162:function(e,t,n){"use strict";n("1941")},"71ad":function(e,t,n){var a=n("6d8b"),i={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=a.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},i),r.valueAxis=a.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},i),r.timeAxis=a.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=a.defaults({scale:!0,logBase:10},r.valueAxis);var o=r;e.exports=o},"72af":function(e,t,n){var a=n("99cd"),i=a();e.exports=i},"72b6":function(e,t,n){var a=n("3eba"),i=n("6d8b"),r=n("2306"),o=n("eda2"),s=n("f934"),l=n("5f14"),c=a.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,n,a){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=o.normalizeCssArray(t.get("padding")||0),a=e.getBoundingRect();e.add(new r.Rect({z2:-1,silent:!0,shape:{x:a.x-n[3],y:a.y-n[0],width:a.width+n[3]+n[1],height:a.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){n=n||{};var a=n.forceState,r=this.visualMapModel,o={};if("symbol"===t&&(o.symbol=r.get("itemSymbol")),"color"===t){var s=r.get("contentColor");o.color=s}function c(e){return o[e]}function u(e,t){o[e]=t}var d=r.controllerVisuals[a||r.getValueState(e)],p=l.prepareVisualTypes(d);return i.each(p,(function(a){var i=d[a];n.convertOpacityToAlpha&&"opacity"===a&&(a="colorAlpha",i=d.__alphaForOpacity),l.dependsOn(a,t)&&i&&i.applyVisual(e,c,u)})),o[t]},positionGroup:function(e){var t=this.visualMapModel,n=this.api;s.positionElement(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:i.noop});e.exports=c},"72f0":function(e,t){function n(e){return function(){return e}}e.exports=n},"73ac":function(e,t,n){var a=n("743f"),i=n("b047"),r=n("99d3"),o=r&&r.isTypedArray,s=o?i(o):a;e.exports=s},7419:function(e,t,n){var a=n("3eba"),i=n("b336");n("bc5f"),n("ab05"),n("307a"),n("3cd6"),n("d6ef"),a.registerPreprocessor(i)},"743f":function(e,t,n){var a=n("3729"),i=n("b218"),r=n("1310"),o="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",p="[object Map]",h="[object Number]",f="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",O="[object Int8Array]",D="[object Int16Array]",C="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",P="[object Uint32Array]",j={};function I(e){return r(e)&&i(e.length)&&!!j[a(e)]}j[w]=j[_]=j[O]=j[D]=j[C]=j[S]=j[k]=j[T]=j[P]=!0,j[o]=j[s]=j[y]=j[l]=j[x]=j[c]=j[u]=j[d]=j[p]=j[h]=j[f]=j[g]=j[m]=j[v]=j[b]=!1,e.exports=I},7465:function(e,t,n){},7476:function(e,t,n){"use strict";n("0452")},"74b1":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return h}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/select"),method:"get",params:{tenantId:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/detail"),method:"get",params:{id:e}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/submit"),method:"post",data:e})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/submit"),method:"post",data:e})}},"74cb":function(e,t){var n={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,a=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=a/4):t=a*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a))},elasticOut:function(e){var t,n=.1,a=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=a/4):t=a*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/a)+1)},elasticInOut:function(e){var t,n=.1,a=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=a/4):t=a*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-n.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*n.bounceIn(2*e):.5*n.bounceOut(2*e-1)+.5}},a=n;e.exports=a},7530:function(e,t,n){var a=n("1a8c"),i=Object.create,r=function(){function e(){}return function(t){if(!a(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=r},7539:function(e,t,n){"use strict";n("44f7")},7555:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"plugin-list"},[n("el-checkbox",{staticStyle:{"padding-bottom":"10px","font-weight":"bold"},attrs:{indeterminate:e.isIndeterminate,disabled:e.disabled},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("\n    全选\n  ")]),n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.pluginData,(function(t,a){return n("el-collapse-item",{key:a,attrs:{name:a,title:t.chnName,disabled:!t.config}},[n("template",{slot:"title"},[n("div",{staticClass:"plugin-title"},[n("el-checkbox",{attrs:{label:t.chnName,disabled:e.disabled},on:{change:e.handleCheckbox},model:{value:t.check,callback:function(n){e.$set(t,"check",n)},expression:"item.check"}}),t.config?n("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("配置")]):e._e()],1)]),n("plugin-form",{ref:"pluginForm",refInFor:!0,attrs:{disabled:!0,config:t.config,order:t.order,name:t.chnName,data:t.apiPluginConfigs},on:{"update:data":function(n){return e.$set(t,"apiPluginConfigs",n)}}})],2)})),1)],1)},i=[],r=(n("ac6a"),n("6cdf")),o={data:function(){return{activeNames:[],pluginData:[],checkAll:!1,isIndeterminate:!1}},props:{config:{type:[Array,Object],required:!0,default:function(){return[]}},disabled:{default:!1,type:Boolean}},computed:{selection:function(){var e=[];return this.pluginData.forEach((function(t){t.check&&e.push(t)})),e}},components:{pluginForm:r["default"]},watch:{config:{immediate:!0,deep:!0,handler:function(){this.initPluginData()}},selection:{deep:!0,handler:function(){this.emitData()}}},methods:{handleCheckAllChange:function(e){this.pluginData.forEach((function(t){t.check=!!e})),this.isIndeterminate=!1},handleCheckbox:function(){this.checkAll=this.selection.length===this.pluginData.length,this.isIndeterminate=this.selection.length>0&&this.selection.length<this.pluginData.length},emitData:function(){this.$emit("change",this.selection)},initPluginData:function(){var e=this;this.pluginData=[],this.config&&this.config.length&&this.config.forEach((function(t){var n=Object.assign({},t,{plugin:t.id,check:!1});e.pluginData.push(Object.assign({},n))}))}}},s=o,l=(n("b709"),n("4fda"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"5d748ef2",null);t["default"]=c.exports},7559:function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function a(e){return e.match(n)||[]}e.exports=a},"76a5":function(e,t,n){var a=n("19eb"),i=n("6d8b"),r=n("e86a"),o=n("a73c"),s=n("82eb"),l=s.ContextCachedBy,c=function(e){a.call(this,e)};c.prototype={constructor:c,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&o.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var a=n.text;null!=a&&(a+=""),o.needDrawText(a,n)?(this.setTransform(e),o.renderText(this,e,a,n,null,t),this.restoreTransform(e)):e.__attrCachedBy=l.NONE},getBoundingRect:function(){var e=this.style;if(this.__dirty&&o.normalizeTextStyle(e,!0),!this._rect){var t=e.text;null!=t?t+="":t="";var n=r.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(n.x+=e.x||0,n.y+=e.y||0,o.getStroke(e.textStroke,e.textStrokeWidth)){var a=e.textStrokeWidth;n.x-=a/2,n.y-=a/2,n.width+=a,n.height+=a}this._rect=n}return this._rect}},i.inherits(c,a);var u=c;e.exports=u},"76d3":function(e,t,n){"use strict";n("dd4f")},"76dd":function(e,t,n){var a=n("ce86");function i(e){return null==e?"":a(e)}e.exports=i},"78e6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"api-detail-step"},[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("el-button",{attrs:{size:"mini",type:"primary",plain:"",disabled:e.disabled},on:{click:function(t){return e.handleAdd()}}},[e._v("\n      添加步骤\n    ")])],1),n("el-tabs",{attrs:{type:"card"},on:{"tab-remove":e.handleDelete},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.stepList,(function(t){return n("el-tab-pane",{key:t.name,attrs:{label:t.name,name:t.name,closable:!e.disabled}},[n("step-item",e._b({ref:"stepItem",refInFor:!0,attrs:{data:t,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(e){t=e}}},"step-item",e.$attrs,!1))],1)})),1)],1)},i=[],r=(n("20d6"),n("5df3"),n("ac6a"),n("96cf"),n("1da1")),o=(n("7f7f"),n("28a5"),n("c5f6"),n("4c07")),s="step",l={name:"api-detail-step",data:function(){return{tabIndex:0,stepList:[],currentTab:"",maxIndex:0}},inheritAttrs:!1,props:{data:{type:Array,default:function(){return{}}},disabled:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{stepItem:o["default"]},computed:{tabCount:function(){return this.stepList&&this.stepList.length||0}},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}}},methods:{initData:function(){var e=this;if(this.stepList=this.data||[],this.stepList.length>0){var t=Number(this.stepList[this.stepList.length-1].name.split(s)[1])||0;this.maxIndex=this.maxIndex>t?this.maxIndex:t,this.currentTab=this.stepList.filter((function(t){return t.name===e.currentTab})).length>0?this.currentTab:this.stepList[0].name}else this.currentTab=""},emitData:function(){this.$emit("update:data",this.stepList)},validate:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.emitData(),t=!0,!(this.stepList&&this.stepList.length>0)){e.next=9;break}return n=[],this.$refs.stepItem.forEach((function(e){n.push(e.validate())})),e.next=7,Promise.all(n).then((function(){t=!0})).catch((function(){t=!1}));case 7:e.next=10;break;case 9:t=!0;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.currentTab="".concat(s).concat(++this.maxIndex),this.stepList.push({name:this.currentTab,stop:!1,dataMapping:{},requests:[]})},handleDelete:function(e){var t=this;this.$confirm("确定删除步骤【".concat(e,"】?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=t.stepList.findIndex((function(t){return t.name==e}));n>-1&&(t.stepList.splice(n,1),t.stepList.length>0&&t.currentTab===e?t.currentTab=t.stepList[t.stepList.length-1].name:0===t.stepList.length&&(t.currentTab="".concat(s).concat(t.maxIndex+1)))}))}}},c=l,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,"abd28a10",null);t["default"]=d.exports},7948:function(e,t){function n(e,t){var n=-1,a=null==e?0:e.length,i=Array(a);while(++n<a)i[n]=t(e[n],n,e);return i}e.exports=n},"79bc":function(e,t,n){var a=n("0b07"),i=n("2b3e"),r=a(i,"Map");e.exports=r},"7a48":function(e,t,n){var a=n("6044"),i=Object.prototype,r=i.hasOwnProperty;function o(e){var t=this.__data__;return a?void 0!==t[e]:r.call(t,e)}e.exports=o},"7a9d":function(e,t,n){"use strict";n("84a7")},"7b83":function(e,t,n){var a=n("7c64"),i=n("93ed"),r=n("2478"),o=n("a524"),s=n("1fc8");function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype["delete"]=i,l.prototype.get=r,l.prototype.has=o,l.prototype.set=s,e.exports=l},"7bd3":function(e,t,n){"use strict";n("f982")},"7c05":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.loginForm,"label-width":"0"}},[e.tenantMode?n("el-form-item",{attrs:{prop:"tenantId"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.tenantId")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.tenantId,callback:function(t){e.$set(e.loginForm,"tenantId",t)},expression:"loginForm.tenantId"}},[n("i",{staticClass:"icon-quanxian",attrs:{slot:"prefix"},slot:"prefix"})])],1):e._e(),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.username")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[n("i",{staticClass:"icon-yonghu",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{size:"small",type:e.passwordType,"auto-complete":"off",placeholder:e.$t("login.password")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[n("i",{staticClass:"el-icon-view el-input__icon",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"}),n("i",{staticClass:"icon-mima",attrs:{slot:"prefix"},slot:"prefix"})])],1),this.website.captchaMode?n("el-form-item",{attrs:{prop:"code"}},[n("el-row",{attrs:{span:24}},[n("el-col",{attrs:{span:16}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.code")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[n("i",{staticClass:"icon-yanzhengma",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"login-code"},[n("img",{staticClass:"login-code-img",attrs:{src:e.loginForm.image},on:{click:e.refreshCode}})])])],1)],1):e._e(),n("el-form-item",[n("el-button",{staticClass:"login-submit",attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v(e._s(e.$t("login.submit"))+"\n    ")])],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("28a5"),n("a481"),n("ade3")),o=n("5880"),s=n("ccbe"),l=n("c24f");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"userlogin",data:function(){return{tenantMode:this.website.tenantMode,loginForm:{tenantId:"000000",username:"",password:"",type:"account",code:"",key:"",image:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},loginRules:{tenantId:[{required:!1,message:"请输入租户ID",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,message:"密码长度最少为6位",trigger:"blur"}]},passwordType:"password"}},created:function(){this.getTenant(),this.refreshCode()},mounted:function(){},computed:u({},Object(o["mapGetters"])(["tagWel"])),props:[],methods:{refreshCode:function(){var e=this;Object(l["d"])().then((function(t){var n=t.data;e.loginForm.key=n.key,e.loginForm.image=n.image}))},showPassword:function(){""===this.passwordType?this.passwordType="password":this.passwordType=""},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(t){var n=e.$loading({lock:!0,text:"登录中,请稍后。。。",spinner:"el-icon-loading"});e.$store.dispatch("LoginByUsername",e.loginForm).then((function(){var t=decodeURIComponent(e.$route.query.redirect);e.$route.query.redirect&&t?e.$router.replace(t):e.$router.push({path:e.tagWel.value}),e.$store.dispatch("GetLicense");var a=document.createElement("img"),i=window.atob("aHR0cHM6Ly9ib29raW5nLmJlc3R3ZWhvdGVsLmNvbQ==")+"/proxy/fizzgw-community/e.gif?a=".concat(window.btoa(window.location.href));a.setAttribute("src",i),a.setAttribute("style","display: none"),document.body.appendChild(a),n.close()})).catch((function(){n.close(),e.refreshCode()}))}}))},getTenant:function(){var e=this,t=window.location.href.split("/#/")[0];Object(s["d"])(t).then((function(t){var n=t.data;n.success&&n.data.tenantId&&(e.tenantMode=!1,e.loginForm.tenantId=n.data.tenantId,e.$parent.$refs.login.style.backgroundImage="url(".concat(n.data.backgroundUrl,")"))}))},redirectFn:function(){var e=decodeURIComponent(this.$route.query.redirect);this.$route.query.redirect&&e?this.$router.replace(e):this.$router.push({path:"/"})}}},p=d,h=n("2877"),f=Object(h["a"])(p,a,i,!1,null,null,null);t["default"]=f.exports},"7c64":function(e,t,n){var a=n("e24b"),i=n("5e2e"),r=n("79bc");function o(){this.size=0,this.__data__={hash:new a,map:new(r||i),string:new a}}e.exports=o},"7c76":function(e,t,n){},"7d1f":function(e,t,n){var a=n("087d"),i=n("6747");function r(e,t,n){var r=t(e);return i(e)?r:a(r,n(e))}e.exports=r},"7d6d":function(e,t){var n={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function a(e,t,a){return n.hasOwnProperty(t)?a*e.dpr:a}e.exports=a},"7de4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"result",fn:function(t){var a=t.row;return[1===a.result?n("span",{staticClass:"color-success"},[e._v("成功")]):2===a.result?n("span",{staticClass:"color-danger"},[e._v("失败")]):n("span",[e._v(e._s(a.result))])]}},{key:"receiversLabel",fn:function(t){return[n("span",[e._v("\n        "+e._s((1===t.row.mode?"按原路径回放时的部署":2===t.row.mode&&"接收回放的服务")||"回放部署或服务")+"\n        :\n      ")])]}},{key:"receiversForm",fn:function(t){var a=t.row;return[n("div",[1===a.mode?n("div",e._l(e.handleHeaders(a.receivers),(function(t,a){return n("div",{key:a},[n("b",[e._v(e._s(t.key)+":")]),t.value.ip?n("span",[e._v(e._s(t.value.ip)+":"+e._s(t.value.port))]):n("span",[e._v(e._s(t.value))])])})),0):2===a.mode?n("div",[n("el-table",{attrs:{data:JSON.parse(a.receivers),border:"",stripe:"",size:"mini"}},[n("el-table-column",{attrs:{label:"服务类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s((1===t.row.type?"服务编排":2===t.row.type&&"服务发现")||t.row.type)+"\n              ")]}}],null,!0)}),n("el-table-column",{attrs:{prop:"service",label:"服务名"}}),n("el-table-column",{attrs:{prop:"path",label:"路径"}})],1)],1):n("div",[e._v(e._s(a.receivers))])])]}},{key:"headersForm",fn:function(t){return[n("div",e._l(e.handleHeaders(e.form.headers),(function(t,a){return n("div",{key:a},[n("b",[e._v(e._s(t.key)+"：")]),e._v(" "+e._s(t.value.join("; "))+"\n        ")])})),0)]}},{key:"bodyForm",fn:function(t){return[n("el-input",{staticClass:"playback-body",attrs:{type:"textarea",resize:"none",autosize:{minRows:3,maxRows:6},readonly:""},model:{value:t.row.body,callback:function(n){e.$set(t.row,"body",n)},expression:"scope.row.body"}})]}},{key:"resultForm",fn:function(t){return[n("el-tag",{attrs:{size:"small",type:"success"}},[e._v("成功")]),1===t.row.result?n("el-tag",{attrs:{size:"small",type:"success"}},[e._v("成功")]):2===t.row.result?n("el-tag",{attrs:{size:"small",type:"danger"}},[e._v("失败")]):n("span",[e._v(e._s(t.row.result))])]}},{key:"errMsgForm",fn:function(t){return[n("el-input",{staticClass:"playback-body",attrs:{type:"textarea",resize:"none",autosize:{minRows:3,maxRows:6},readonly:""},model:{value:t.row.errMsg,callback:function(n){e.$set(t.row,"errMsg",n)},expression:"scope.row.errMsg"}})]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(n("8e6e"),n("6762"),n("2fdb"),n("456d"),n("ac6a"),n("ade3")),o=n("5880"),s=n("27fc"),l=n("b5c6"),c=n("da71");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e,t,n){return Object(l["a"])({url:"".concat(c["a"],"/callback-request-replay-log/list"),method:"get",params:d(d({},n),{},{current:e,size:t})})},h=function(e){return Object(l["a"])({url:"".concat(c["a"],"/callback-request-replay-log/detail/").concat(e),method:"get"})};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=[{label:"成功",value:1},{label:"失败",value:2}],v={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,viewBtn:!0,addBtn:!1,delBtn:!1,editBtn:!1,columnBtn:!1,menuPosition:"right",menuWidth:80,searchLabelWidth:90,labelWidth:160,column:[{label:"回放ID",prop:"id"},{label:"回放时间",prop:"createTime",search:!0,searchRange:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss",width:150},{label:"操作人",prop:"createBy",search:!0,overHidden:!0},{label:"请求ID",prop:"callbackRequestId",search:!0},{label:"请求源IP",prop:"origin",search:!0},{label:"请求时间",prop:"recvTime",search:!0,searchRange:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss",width:150},{label:"请求方法",prop:"method",search:!0,type:"select",dicData:s["b"]},{label:"前端服务名",prop:"service",search:!0,overHidden:!0},{label:"前端路径",prop:"path",search:!0,overHidden:!0},{label:"查询字符串",prop:"query",search:!0,overHidden:!0},{label:"回放方式",prop:"mode",search:!0,type:"select",dicData:s["d"],overHidden:!0},{label:"回放部署或服务",prop:"receivers",hide:!0,formslot:!0,labelslot:!0,span:24},{label:"请求头",prop:"headers",hide:!0,formslot:!0,span:24},{label:"请求体",prop:"body",hide:!0,formslot:!0,span:24},{label:"回放结果",prop:"result",search:!0,slot:!0,formslot:!0,type:"select",dicData:m},{label:"回放失败信息",prop:"errMsg",hide:!0,formslot:!0,display:!1,span:24}]},data:[]}},computed:g(g({},Object(o["mapGetters"])(["permission"])),{},{callbackRequestId:function(){return this.$route.query.callbackRequestId||""}}),beforeRouteUpdate:function(e,t,n){e.fullPath!==t.fullPath&&(this.option.column=this.option.column.map((function(e){return e.searchValue&&(e.searchValue=""),e})),this.query={},n(),this.onLoad(this.page,Object.assign({},e.query)))},watch:{callbackRequestId:{immediate:!0,handler:function(e){if(e){this.query.callbackRequestId=e;var t=this.findObject(this.option.column,"callbackRequestId");t.searchValue=e}}},data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{handleHeaders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return"string"===typeof e&&(e=JSON.parse(e)),Object.keys(e).forEach((function(n){t.push({key:n,value:e[n]})})),t},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&h(this.form.id).then((function(e){if(n.form=e.data.data,2===n.form.result){var t=n.findObject(n.option.column,"errMsg");t.display=!0}})),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.createTime&&(e.createTimeStart=e.createTime[0],e.createTimeEnd=e.createTime[1],delete e.createTime),e.recvTime&&(e.recvTimeStart=e.recvTime[0],e.recvTimeEnd=e.recvTime[1],delete e.recvTime),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,p(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},b=v,y=(n("d9c3"),n("2877")),x=Object(y["a"])(b,a,i,!1,null,null,null);t["default"]=x.exports},"7e26":function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return m})),n.d(t,"e",(function(){return v}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/data-scope/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/data-scope/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/data-scope/submit"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/data-scope/submit"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/data-scope/detail"),method:"get",params:{id:e}})},h=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/api-scope/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/api-scope/remove"),method:"post",params:{ids:e}})},g=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/api-scope/submit"),method:"post",data:e})},m=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/api-scope/submit"),method:"post",data:e})},v=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/api-scope/detail"),method:"get",params:{id:e}})}},"7e63":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=i.each,o=i.filter,s=i.map,l=i.isArray,c=i.indexOf,u=i.isObject,d=i.isString,p=i.createHashMap,h=i.assert,f=i.clone,g=i.merge,m=i.extend,v=i.mixin,b=n("e0d3"),y=n("4319"),x=n("6cb7"),w=n("8971"),_=n("e47b"),O=n("0f99"),D=O.resetSourceDefaulter,C="\0_ec_inner",S=y.extend({init:function(e,t,n,a){n=n||{},this.option=null,this._theme=new y(n),this._optionManager=a},setOption:function(e,t){h(!(C in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||"recreate"===e){var a=n.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(a)):P.call(this,a),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var i=n.getTimelineOption(this);i&&(this.mergeOption(i),t=!0)}if(!e||"recreate"===e||"media"===e){var o=n.getMediaOption(this,this._api);o.length&&r(o,(function(e){this.mergeOption(e,t=!0)}),this)}return t},mergeOption:function(e){var t=this.option,n=this._componentsMap,a=[];function i(a,i){var o=b.normalizeToArray(e[a]),s=b.mappingToExists(n.get(a),o);b.makeIdAndName(s),r(s,(function(e,t){var n=e.option;u(n)&&(e.keyInfo.mainType=a,e.keyInfo.subType=I(a,n,e.exist))}));var l=j(n,i);t[a]=[],n.set(a,[]),r(s,(function(e,i){var r=e.exist,o=e.option;if(h(u(o)||r,"Empty component definition"),o){var s=x.getClass(a,e.keyInfo.subType,!0);if(r&&r.constructor===s)r.name=e.keyInfo.name,r.mergeOption(o,this),r.optionUpdated(o,!1);else{var c=m({dependentModels:l,componentIndex:i},e.keyInfo);r=new s(o,this,this,c),m(r,c),r.init(o,this,this,c),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);n.get(a)[i]=r,t[a][i]=r.option}),this),"series"===a&&L(this,n.get("series"))}D(this),r(e,(function(e,n){null!=e&&(x.hasClass(n)?n&&a.push(n):t[n]=null==t[n]?f(e):g(t[n],e,!0))})),x.topologicalTravel(a,x.getAllClassMainTypes(),i,this),this._seriesIndicesMap=p(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=f(this.option);return r(e,(function(t,n){if(x.hasClass(n)){t=b.normalizeToArray(t);for(var a=t.length-1;a>=0;a--)b.isIdInner(t[a])&&t.splice(a,1);e[n]=t}})),delete e[C],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n,a=e.index,i=e.id,r=e.name,u=this._componentsMap.get(t);if(!u||!u.length)return[];if(null!=a)l(a)||(a=[a]),n=o(s(a,(function(e){return u[e]})),(function(e){return!!e}));else if(null!=i){var d=l(i);n=o(u,(function(e){return d&&c(i,e.id)>=0||!d&&e.id===i}))}else if(null!=r){var p=l(r);n=o(u,(function(e){return p&&c(r,e.name)>=0||!p&&e.name===r}))}else n=u.slice();return M(n,e)},findComponents:function(e){var t=e.query,n=e.mainType,a=r(t),i=a?this.queryComponents(a):this._componentsMap.get(n);return s(M(i,e));function r(e){var t=n+"Index",a=n+"Id",i=n+"Name";return!e||null==e[t]&&null==e[a]&&null==e[i]?null:{mainType:n,index:e[t],id:e[a],name:e[i]}}function s(t){return e.filter?o(t,e.filter):t}},eachComponent:function(e,t,n){var a=this._componentsMap;if("function"===typeof e)n=t,t=e,a.each((function(e,a){r(e,(function(e,i){t.call(n,a,e,i)}))}));else if(d(e))r(a.get(e),t,n);else if(u(e)){var i=this.findComponents(e);r(i,t,n)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return o(t,(function(t){return t.name===e}))},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return o(t,(function(t){return t.subType===e}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){A(this),r(this._seriesIndices,(function(n){var a=this._componentsMap.get("series")[n];e.call(t,a,n)}),this)},eachRawSeries:function(e,t){r(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){A(this),r(this._seriesIndices,(function(a){var i=this._componentsMap.get("series")[a];i.subType===e&&t.call(n,i,a)}),this)},eachRawSeriesByType:function(e,t,n){return r(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return A(this),null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){A(this);var n=o(this._componentsMap.get("series"),e,t);L(this,n)},restoreData:function(e){var t=this._componentsMap;L(this,t.get("series"));var n=[];t.each((function(e,t){n.push(t)})),x.topologicalTravel(n,x.getAllClassMainTypes(),(function(n,a){r(t.get(n),(function(t){("series"!==n||!k(t,e))&&t.restoreData()}))}))}});function k(e,t){if(t){var n=t.seiresIndex,a=t.seriesId,i=t.seriesName;return null!=n&&e.componentIndex!==n||null!=a&&e.id!==a||null!=i&&e.name!==i}}function T(e,t){var n=e.color&&!e.colorLayer;r(t,(function(t,a){"colorLayer"===a&&n||x.hasClass(a)||("object"===typeof t?e[a]=e[a]?g(e[a],t,!1):f(t):null==e[a]&&(e[a]=t))}))}function P(e){e=e,this.option={},this.option[C]=1,this._componentsMap=p({series:[]}),this._seriesIndices,this._seriesIndicesMap,T(e,this._theme.option),g(e,w,!1),this.mergeOption(e)}function j(e,t){l(t)||(t=t?[t]:[]);var n={};return r(t,(function(t){n[t]=(e.get(t)||[]).slice()})),n}function I(e,t,n){var a=t.type?t.type:n?n.subType:x.determineSubType(e,t);return a}function L(e,t){e._seriesIndicesMap=p(e._seriesIndices=s(t,(function(e){return e.componentIndex}))||[])}function M(e,t){return t.hasOwnProperty("subType")?o(e,(function(e){return e.subType===t.subType})):e}function A(e){}v(S,_);var E=S;e.exports=E},"7e64":function(e,t,n){var a=n("5e2e"),i=n("efb6"),r=n("2fcc"),o=n("802a"),s=n("55a3"),l=n("d02c");function c(e){var t=this.__data__=new a(e);this.size=t.size}c.prototype.clear=i,c.prototype["delete"]=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},"7e8e":function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function a(e){return n.test(e)}e.exports=a},"7eb6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("点击新增或编辑跳转到新的页面")]),n("avue-crud",{attrs:{option:e.option,data:e.data},scopedSlots:e._u([{key:"menu",fn:function(t){var a=t.row;return[n("el-button",{attrs:{size:"small",type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.handleForm(a.id)}}},[e._v("edit")])]}}])},[n("template",{slot:"menuLeft"},[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.handleForm()}}},[e._v("add")])],1)],2)],1)},i=[],r={data:function(){return{option:{addBtn:!1,editBtn:!1,column:[{label:"姓名",prop:"name"}]},data:[{id:1,name:"small"}]}},methods:{handleForm:function(e){this.$router.push({path:"/form-detail/index",query:{id:e}})}}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},"7ec3":function(e,t,n){"use strict";n("0f98")},"7ede":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-test/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-test/detail"),method:"get",params:{id:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-test/remove"),method:"post",params:{ids:e}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-test/save"),method:"post",data:e})}},"7f96":function(e,t,n){var a=n("6d8b"),i=a.isFunction;function r(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(e,a,r){var o=e.getData(),s=e.get("symbol"),l=e.get("symbolSize"),c=e.get("symbolKeepAspect"),u=e.get("symbolRotate"),d=i(s),p=i(l),h=i(u),f=d||p||h,g=!d&&s?s:t,m=p?null:l;if(o.setVisual({legendSymbol:n||g,symbol:g,symbolSize:m,symbolKeepAspect:c,symbolRotate:u}),!a.isSeriesFiltered(e))return{dataEach:o.hasItemOption||f?v:null};function v(t,n){if(f){var a=e.getRawValue(n),i=e.getDataParams(n);d&&t.setItemVisual(n,"symbol",s(a,i)),p&&t.setItemVisual(n,"symbolSize",l(a,i)),h&&t.setItemVisual(n,"symbolRotate",u(a,i))}if(t.hasItemOption){var r=t.getItemModel(n),o=r.getShallow("symbol",!0),c=r.getShallow("symbolSize",!0),g=r.getShallow("symbolRotate",!0),m=r.getShallow("symbolKeepAspect",!0);null!=o&&t.setItemVisual(n,"symbol",o),null!=c&&t.setItemVisual(n,"symbolSize",c),null!=g&&t.setItemVisual(n,"symbolRotate",g),null!=m&&t.setItemVisual(n,"symbolKeepAspect",m)}}}}}e.exports=r},"7fb3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"targetsForm",fn:function(t){return[n("div",e._l(e.form.targets,(function(t,a){return n("div",{key:a},[n("b",[e._v(e._s(t.key)+":")]),t.value.ip?n("span",[e._v(e._s(t.value.ip)+":"+e._s(t.value.port))]):n("span",[e._v(e._s(t.value))])])})),0)]}},{key:"headersForm",fn:function(t){return[n("div",e._l(e.form.headers,(function(t,a){return n("div",{key:a},[n("b",[e._v(e._s(t.key)+"：")]),e._v(" "+e._s(t.value.join("; "))+"\n        ")])})),0)]}},{key:"bodyForm",fn:function(t){return[t.row.body?n("el-input",{staticClass:"playback-body",attrs:{type:"textarea",resize:"none",autosize:{minRows:3,maxRows:6},readonly:""},model:{value:t.row.body,callback:function(n){e.$set(t.row,"body",n)},expression:"scope.row.body"}}):n("div",[e._v(e._s(t.row.body))])]}},{key:"menu",fn:function(t){var a=t.row,i=t.type,r=t.size;return[e.permissionList.playbackBtn?n("el-button",{attrs:{icon:"el-icon-video-play",size:r,type:i},on:{click:function(t){return e.playback(a.id,a.callbackConfigId)}}},[e._v("回 放\n      ")]):e._e(),n("el-button",{attrs:{icon:"el-icon-document",size:r,type:i},on:{click:function(t){return e.goLogList(a)}}},[e._v("日 志\n      ")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),n("playback-dialog",{attrs:{visible:e.playbackDialog.visible,id:e.playbackDialog.id,"config-id":e.playbackDialog.configId},on:{"update:visible":function(t){return e.$set(e.playbackDialog,"visible",t)}}})],1)},i=[],r=(n("8e6e"),n("6762"),n("2fdb"),n("456d"),n("4f7f"),n("5df3"),n("1c4c"),n("ac6a"),n("ade3")),o=n("5880"),s=n("27fc"),l=n("4c7d"),c=n("d4b8");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{dialogWidth:900,border:!0,index:!0,tip:!1,dialogClickModal:!1,viewBtn:!0,addBtn:!1,delBtn:!1,editBtn:!1,columnBtn:!1,menuPosition:"right",menuWidth:200,searchLabelWidth:90,labelWidth:120,column:[{label:"请求ID",prop:"id"},{label:"请求时间",prop:"recvTime",search:!0,searchRange:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss",width:150},{label:"请求源IP",prop:"origin",search:!0,editDisabled:!0,overHidden:!0},{label:"请求方法",prop:"method",search:!0,type:"select",dicData:s["b"]},{label:"前端服务名",prop:"service",search:!0,overHidden:!0},{label:"前端路径",prop:"path",search:!0,overHidden:!0},{label:"查询字符串",prop:"query",search:!0,overHidden:!0},{label:"接收的服务实例",prop:"targets",hide:!0,formslot:!0,span:24},{label:"请求头",prop:"headers",hide:!0,formslot:!0,span:24},{label:"请求体",prop:"body",hide:!0,formslot:!0,span:24}]},data:[],playbackDialog:{visible:!1,id:"",configId:""}}},computed:d(d({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{playbackBtn:this.vaildData(this.permission.callback_playback_btn,!1)}},configIds:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.callbackConfigId)})),e=Array.from(new Set(e)),e.join(",")},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e=Array.from(new Set(e)),e.join(",")}}),components:{playbackDialog:c["default"]},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{goLogList:function(e){this.$router.push({path:"/callback/log",query:{callbackRequestId:e.id}})},handleObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return"string"===typeof e&&(e=JSON.parse(e)),Object.keys(e).forEach((function(n){t.push({key:n,value:e[n]})})),t},playback:function(e,t){this.playbackDialog.id=e,this.playbackDialog.configId=t,this.playbackDialog.visible=!0},handlePlayback:function(){0!==this.selectionList.length?this.playback(this.ids,this.configIds):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(l["b"])(this.form.id).then((function(e){n.form=e.data.data,n.form.targets=n.handleObject(n.form.targets),n.form.headers=n.handleObject(n.form.headers)})),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.recvTime&&(e.startTime=e.recvTime[0],e.endTime=e.recvTime[1],delete e.recvTime),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(l["c"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},h=p,f=(n("45d5"),n("2877")),g=Object(f["a"])(h,a,i,!1,null,null,null);t["default"]=g.exports},"7fc3":function(e,t,n){"use strict";n("a945")},"802a":function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},8056:function(e,t,n){},8057:function(e,t){function n(e,t){var n=-1,a=null==e?0:e.length;while(++n<a)if(!1===t(e[n],n,e))break;return e}e.exports=n},8076:function(e,t,n){},"80f0":function(e,t){function n(e){return e}function a(e,t,a,i,r){this._old=e,this._new=t,this._oldKeyGetter=a||n,this._newKeyGetter=i||n,this.context=r}function i(e,t,n,a,i){for(var r=0;r<e.length;r++){var o="_ec_"+i[a](e[r],r),s=t[o];null==s?(n.push(o),t[o]=r):(s.length||(t[o]=s=[s]),s.push(r))}}a.prototype={constructor:a,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,n={},a={},r=[],o=[];for(i(e,n,r,"_oldKeyGetter",this),i(t,a,o,"_newKeyGetter",this),u=0;u<e.length;u++){var s=r[u],l=a[s];if(null!=l){var c=l.length;c?(1===c&&(a[s]=null),l=l.shift()):a[s]=null,this._update&&this._update(l,u)}else this._remove&&this._remove(u)}for(var u=0;u<o.length;u++){s=o[u];if(a.hasOwnProperty(s)){l=a[s];if(null==l)continue;if(l.length){var d=0;for(c=l.length;d<c;d++)this._add&&this._add(l[d])}else this._add&&this._add(l)}}}};var r=a;e.exports=r},"81d7":function(e,t,n){"use strict";n("ef00")},"828f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"tags",fn:function(t){var n=t.row;return[e._v("\n      "+e._s(n.tags.join(","))+"\n    ")]}},{key:"useWhiteList",fn:function(t){var n=t.row;return[e._v("\n      "+e._s(n.useWhiteList?"是":"否")+"\n    ")]}},{key:"useAuth",fn:function(t){var n=t.row;return[e._v("\n      "+e._s(n.useAuth?"是":"否")+"\n    ")]}},{key:"tagsSearch",fn:function(t){return[n("el-input",{attrs:{placeholder:"标签",clearable:""},model:{value:e.search.tagCondition,callback:function(t){e.$set(e.search,"tagCondition",t)},expression:"search.tagCondition"}})]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),n("el-dialog",{attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[n("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.rules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"140px"}},[n("el-form-item",{attrs:{label:"appID",prop:"app"}},[n("el-input",{attrs:{placeholder:"请输入appID",disabled:"edit"===e.detailDialog.type,clearable:""},model:{value:e.dialogForm.app,callback:function(t){e.$set(e.dialogForm,"app",t)},expression:"dialogForm.app"}}),n("span",{staticClass:"key-tips"},[e._v("\n          调用方通过请求头fizz-appid传递appid\n          "),n("tooltip-appid",{staticClass:"link",attrs:{title:"示例"}})],1)],1),n("el-form-item",{attrs:{label:"应用名",prop:"appName"}},[n("el-input",{attrs:{placeholder:"请输入应用名",clearable:""},model:{value:e.dialogForm.appName,callback:function(t){e.$set(e.dialogForm,"appName",t)},expression:"dialogForm.appName"}})],1),n("el-form-item",{attrs:{label:"标签",prop:"tags"}},[e._l(e.dialogForm.tags,(function(t){return n("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return e.handleClose(t)}}},[e._v("\n          "+e._s(t)+"\n        ")])})),e.tagInputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}},model:{value:e.tagInputValue,callback:function(t){e.tagInputValue=t},expression:"tagInputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 新标签")])],2),n("el-form-item",{attrs:{label:"是否启用认证",prop:"useAuth"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.dialogForm.useAuth,callback:function(t){e.$set(e.dialogForm,"useAuth",t)},expression:"dialogForm.useAuth"}})],1),e.dialogForm.useAuth?[n("el-form-item",{attrs:{label:"认证方式",prop:"authType"}},[n("el-select",{attrs:{placeholder:"请选择认证方式",clearable:""},model:{value:e.dialogForm.authType,callback:function(t){e.$set(e.dialogForm,"authType",t)},expression:"dialogForm.authType"}},e._l(e.authType,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{staticClass:"secret-key-item",attrs:{label:"密钥",prop:"secretkey"}},[n("el-input",{attrs:{placeholder:"请输入或生成密钥",clearable:""},model:{value:e.dialogForm.secretkey,callback:function(t){e.$set(e.dialogForm,"secretkey",t)},expression:"dialogForm.secretkey"}}),n("el-button",{attrs:{size:"small",type:"primary",loading:e.createLoading},on:{click:e.createScretkey}},[e._v("生成随机密钥")]),1===e.dialogForm.authType?n("div",{staticClass:"key-tips",staticStyle:{"padding-top":"8px"}},[e._v("\n            调用方需传签名请求头fizz-sign和时间戳请求头fizz-ts\n            "),n("tooltip-appid",{staticClass:"link",attrs:{title:"示例"}}),e._v("\n            ，生成MD5签名: MD5(appid+_+时间戳+_+密钥)\n          ")],1):2===e.dialogForm.authType?n("div",{staticClass:"key-tips",staticStyle:{"padding-top":"8px"}},[e._v("\n            自定义插件方式可定制签名和验签方法\n            "),n("tooltip-custom",{staticClass:"link",attrs:{title:"插件实例"}})],1):3===e.dialogForm.authType?n("div",{staticClass:"key-tips",staticStyle:{"padding-top":"8px"}},[e._v("\n            调用方需传签名请求头fizz-sign, 值为密钥\n            "),n("tooltip-appid",{staticClass:"link",attrs:{title:"示例",ts:!1}})],1):e._e()],1)]:e._e(),n("el-form-item",{attrs:{label:"是否启用IP白名单",prop:"useWhiteList"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.dialogForm.useWhiteList,callback:function(t){e.$set(e.dialogForm,"useWhiteList",t)},expression:"dialogForm.useWhiteList"}})],1),e.dialogForm.useWhiteList?n("el-form-item",{attrs:{label:"IP白名单",prop:"authIps"}},[n("el-input",{attrs:{type:"textarea",placeholder:"多个IP或IP段用逗号,分隔",clearable:""},model:{value:e.dialogForm.authIps,callback:function(t){e.$set(e.dialogForm,"authIps",t)},expression:"dialogForm.authIps"}}),n("span",{staticClass:"key-tips"},[e._v("IP段支持 1.2.3.100-120 和 1.2.3.*两种格式，仅最后一段可用范围或星号表示")])],1):e._e(),n("el-form-item",{attrs:{label:"自定义配置",prop:"customConfig"}},[n("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.dialogForm.customConfig,callback:function(t){e.$set(e.dialogForm,"customConfig",t)},expression:"dialogForm.customConfig"}}),n("span",{staticClass:"key-tips"},[e._v("\n          AppID级别的自定义配置供自定义插件使用，所有插件均可获取到此配置信息\n          "),n("tooltip-custom",{staticClass:"link",attrs:{title:"插件实例"}})],1)],1)],2),"view"!==e.detailDialog.type?n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("6762"),n("2fdb"),n("ade3")),o=n("24a7"),s=n("5880"),l=n("16cd"),c=n("17e0"),u=n("dd62");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=[{label:"MD5签名",value:1},{label:"密钥认证",value:3},{label:"自定义认证插件",value:2}],f={data:function(){return{tagInputVisible:!1,tagInputValue:"",form:{},dialogForm:{tags:[]},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},search:{},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,columnBtn:!1,menuPosition:"right",column:[{label:"appID",prop:"app",search:!0,overHidden:!0},{label:"应用名",prop:"appName",search:!0,overHidden:!0},{label:"标签",prop:"tags",search:!0,overHidden:!0,searchslot:!0,slot:!0},{label:"是否启用认证",prop:"useAuth",type:"switch",slot:!0},{label:"认证方式",prop:"authType",search:!0,type:"select",dicData:h},{label:"密钥",prop:"secretkey",overHidden:!0,hide:!0},{label:"是否启用IP白名单",prop:"useWhiteList",type:"switch",slot:!0},{label:"IP白名单",prop:"authIps",placeholder:"多个IP用逗号,分隔",overHidden:!0},{label:"自定义配置",prop:"customConfig",overHidden:!0}]},data:[],authType:h,rules:{app:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[A-Za-z\d-_]+$/,message:"只能有字母或数字或连字符-或下划线_",trigger:"blur"}],appName:[{required:!0,message:"必填",trigger:"blur"}],secretkey:[{required:!0,message:"必填",trigger:"blur"}],authType:[{required:!0,message:"必填",trigger:"change"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1},createLoading:!1}},computed:p(p({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.proxy_appid_add,!1),viewBtn:this.vaildData(this.permission.proxy_appid_view,!1),editBtn:this.vaildData(this.permission.proxy_appid_edit,!1),delBtn:this.vaildData(this.permission.proxy_appid_delete,!1)}}}),components:{tooltipAppid:c["default"],tooltipCustom:u["default"]},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))},"dialogForm.authType":function(e){var t=this.rules.secretkey[0];t.required=2!==e}},methods:{handleClose:function(e){this.dialogForm.tags.splice(this.dialogForm.tags.indexOf(e),1)},showInput:function(){var e=this;this.tagInputVisible=!0,this.$nextTick((function(){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.tagInputValue;e&&this.dialogForm.tags.push(e),this.tagInputVisible=!1,this.tagInputValue=""},createScretkey:function(){var e=this;this.createLoading=!0,Object(o["c"])().then((function(t){var n=t.data.data;e.dialogForm=Object.assign({},e.dialogForm,{secretkey:n})})).finally((function(){e.createLoading=!1}))},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var n=Object(l["b"])(e.dialogForm);n.useAuth||(n.useAuth=0),"edit"===e.detailDialog.type?e.form.secretkey&&n.secretkey!==e.form.secretkey?e.$confirm("你已修改密钥，保存后旧密钥将失效，是否继续？?").then((function(){e.rowUpdate(n)})):e.rowUpdate(n):e.rowSave(n)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,Object(o["a"])(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,Object(o["g"])(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var n=this;switch(this.dialogForm={tags:[]},this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}["edit","view"].includes(t)?Object(o["d"])(this.form.id).then((function(e){n.form=e.data.data,n.dialogForm=Object.assign({},e.data.data||{}),n.detailDialog.visible=!0})):this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["e"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},g=f,m=(n("d442"),n("4c68"),n("2877")),v=Object(m["a"])(g,a,i,!1,null,"4e02857f",null);t["default"]=v.exports},8293:function(e,t,n){"use strict";n("3c73")},"82eb":function(e,t){var n={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},a=9;t.ContextCachedBy=n,t.WILL_BE_RESTORED=a},"82f9":function(e,t,n){var a=n("6d8b"),i=n("76a5"),r=n("2306");function o(e,t,n,a){e[0]=n,e[1]=a,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function s(e){var t=this._zr=e.getZr();this._styleCoord=[0,0,0,0],o(this._styleCoord,t,e.getWidth()/2,e.getHeight()/2),this._show=!1,this._hideTimeout}s.prototype={constructor:s,_enterable:!0,update:function(e){var t=e.get("alwaysShowContent");t&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],n=e*this._zr.getWidth(),a=t*this._zr.getHeight();this.moveTo(n,a)},show:function(e){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,n){this.el&&this._zr.remove(this.el);var a={},o=e,s="{marker",l="|}",c=o.indexOf(s);while(c>=0){var u=o.indexOf(l),d=o.substr(c+s.length,u-c-s.length);d.indexOf("sub")>-1?a["marker"+d]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[d],textOffset:[3,0]}:a["marker"+d]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[d]},o=o.substr(u+1),c=o.indexOf("{marker")}var p=n.getModel("textStyle"),h=p.get("fontSize"),f=n.get("textLineHeight");null==f&&(f=Math.round(3*h/2)),this.el=new i({style:r.setTextStyle({},p,{rich:a,text:e,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding"),textLineHeight:f}),z:n.get("z")}),this._zr.add(this.el);var g=this;this.el.on("mouseover",(function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0),g._inContent=!0})),this.el.on("mouseout",(function(){g._enterable&&g._show&&g.hideLater(g._hideDelay),g._inContent=!1}))},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){if(this.el){var n=this._styleCoord;o(n,this._zr,e,t),this.el.attr("position",[n[0],n[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(a.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var l=s;e.exports=l},"83b0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.reload?n("avue-crud",{staticClass:"param-table",attrs:{option:e.option,data:e.data,"table-loading":e.loading},on:{"row-del":e.rowDel,"row-update":e.addUpdate},scopedSlots:e._u([{key:"key",fn:function(t){var a=t.row,i=t.size;return[a.$cellEdit?n("div",[n("el-input",{staticStyle:{"padding-right":"6px"},attrs:{size:i,placeholder:"请输入字段(必填)",clearable:""},model:{value:a.key,callback:function(t){e.$set(a,"key",t)},expression:"row.key"}}),n("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("span",[e._v("\n            JSON和XML字段支持多级，用点分隔，如 user.name 或 user.address.city；"),n("br"),e._v("\n            form-data和x-www-form-urlencoded字段不支持多级；\n          ")])]),n("i",{staticClass:"el-icon-question"})])],1):n("div",[e._v(" "+e._s(a.key))])]}},{key:"paramType",fn:function(t){var a=t.row,i=t.size;return[a.$cellEdit?n("el-select",{attrs:{size:i,placeholder:"请选择类型(必填)"},on:{change:function(t){return e.paramTypeChange(a)}},model:{value:a.paramType,callback:function(t){e.$set(a,"paramType",t)},expression:"row.paramType"}},e._l(e.paramType,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):n("div",[e._v("\n      "+e._s(e.getParamTypeName(a.paramType))+"\n    ")])]}},{key:"dataType",fn:function(t){var a=t.row,i=t.size;return[a.$cellEdit?n("div",["fixed"===a.paramType?n("el-select",{attrs:{size:i,placeholder:"请选择数据类型(必填)",clearable:""},on:{change:function(t){return e.dataTypeChange(a)}},model:{value:a.dataType,callback:function(t){e.$set(a,"dataType",t)},expression:"row.dataType"}},e._l(e.fixedDataType,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):"quote"===a.paramType?n("el-select",{staticStyle:{"padding-right":"6px"},attrs:{size:i,placeholder:"请选择数据类型(非必填)",clearable:""},on:{change:function(t){return e.dataTypeChange(a)}},model:{value:a.dataType,callback:function(t){e.$set(a,"dataType",t)},expression:"row.dataType"}},e._l(e.quoteDataType,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),"quote"===a.paramType?n("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("span",[e._v("\n          引用值的数据类型为非必填，默认使用引用值原来的类型；"),n("br"),e._v("\n          如果选择了数据类型，系统会将引用值强转为所选类型，"),n("br"),e._v("\n          请确保引用值可以被强转为所选数据类型，如果强转失败会抛异常。"),n("br"),e._v("\n          如：引用值为abc, 数据类型选int时会导致强转失败。\n        ")])]),n("i",{staticClass:"el-icon-question"})]):e._e()],1):n("div",[e._v(" "+e._s(a.dataType))])]}},{key:"value",fn:function(t){var a=t.row,i=t.size;return[a.$cellEdit?n("div",["script"===a.paramType?n("el-button",{attrs:{type:"text",size:i},on:{click:function(t){return e.openScript(a)}}},[e._v("\n        "+e._s(a.value||"新增脚本")+"\n      ")]):"fixed"===a.paramType&&"boolean"===a.dataType?n("el-select",{attrs:{placeholder:"请选择字段值(必填)",size:i,clearable:""},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"row.value"}},[n("el-option",{attrs:{label:"true",value:!0}}),n("el-option",{attrs:{label:"false",value:!1}})],1):"fixed"===a.paramType&&"number"===a.dataType?n("el-input",{attrs:{size:i,placeholder:"请输入字段值(必填)",type:"number",clearable:""},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"row.value"}}):n("el-input",{staticStyle:{"padding-right":"6px"},attrs:{size:i,placeholder:"请输入字段值(必填)",clearable:""},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"row.value"}}),"quote"===a.paramType?n("quote-tooltip"):e._e()],1):!a.$cellEdit&&"script"===a.paramType&&e.disabled?n("div",{staticClass:"script-view",on:{click:function(t){return e.openScript(a)}}},[e._v("\n      "+e._s(a.value||"无")+"\n    ")]):n("div",[e._v(" "+e._s(a.value))]),"script"===a.paramType?n("script-dialog",{attrs:{visible:e.scriptVisible,disabled:e.disabled,"business-type":e.businessType,callback:e.scriptCallback,id:e.scriptId},on:{"update:visible":function(t){e.scriptVisible=t},"update:id":function(t){e.scriptId=t}}}):e._e()]}}],null,!1,978621130)}):e._e()},i=[],r=(n("7514"),n("456d"),n("ac6a"),n("53ca")),o=(n("28a5"),n("c5f6"),n("d263"),n("2fa9")),s=n("cc38"),l=n("e683"),c=n("c54a"),u={name:"params-table",props:{fixed:{type:[Object,Array],default:function(){return{}}},quote:{type:[Object,Array],default:function(){return{}}},disabled:{type:Boolean,default:!1},businessType:{type:String},rules:{type:Object},multipleValues:{type:Boolean,default:!1}},data:function(){return{reload:!1,loading:!1,scriptVisible:!1,scriptId:"",scriptRow:{},scriptContent:"",fixedDataType:l["d"],quoteDataType:l["f"],paramType:l["e"],data:[],option:{addBtn:!1,editBtn:!1,cancelBtn:!1,refreshBtn:!1,columnBtn:!1,cellBtn:!0,addBtnText:"添加",addRowBtn:!this.disabled,menu:!this.disabled,column:[{label:"字段",prop:"key",slot:!0,cell:!0,rules:[{required:!0,message:"请输入字段",trigger:"blur"}]},{label:"类型",prop:"paramType",type:"select",slot:!0,cell:!0,rules:[{required:!0,message:"请选择类型",trigger:"blur"}]},{label:"数据类型",prop:"dataType",slot:!0,cell:!0},{label:"值",prop:"value",cell:!0,slot:!0}]}}},components:{scriptDialog:o["default"],quoteTooltip:s["default"]},computed:{dataObj:function(){return{fixed:this.fixed,quote:this.quote}}},watch:{rules:{immediate:!0,deep:!0,handler:function(e){e&&this.initOption()}},dataObj:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},disabled:function(e,t){e!==t&&(this.option.addRowBtn=!e,this.option.menu=!e)},multipleValues:{immediate:!0,handler:function(){this.emitData()}}},methods:{initOption:function(){var e=this;this.option.column=this.option.column.map((function(t){if("key"===t.prop){var n=e.rules&&e.rules["key"]||[];t.rules=t.rules.concat(n)}if("value"===t.prop){var a=e.rules&&e.rules["value"]||[];t.rules=(t.rules||[]).concat(a)}return t}))},addUpdate:function(e,t,n,a){return"fixed"!==e.paramType||e.dataType?e.value||!1===e.value||0===e.value?("fixed"===e.paramType&&"number"===e.dataType&&(e.value=Number(e.value)),this.emitData(),a(),void n()):(this.$message.error("第".concat(t+1,"行: 字段值不能为空")),a(),!1):(this.$message.error("第".concat(t+1,"行: 固定值类型字段请选择数据类型")),a(),!1)},renderQuoteItem:function(e,t){if("string"===typeof t){var n=t.split(" "),a=this.quoteDataType.filter((function(e){return e.value===n[0]}));return n=a.length>0?[a[0].value,t.substring(a[0].value.length+1)]:[t],{key:e,paramType:"quote",dataType:n.length>1?n[0]:"",value:n[n.length-1]}}if("object"===Object(r["a"])(t))return{key:e,paramType:"script",dataType:"",value:t}},initData:function(e){var t=this,n=e.fixed,a=e.quote;this.reload=!1;var i=[];Object(c["c"])(n,"object")?Object.keys(n).forEach((function(e){i.push({key:e,paramType:"fixed",dataType:Object(r["a"])(n[e])||"",value:n[e]})})):Object(c["c"])(n,"array")&&n.forEach((function(e){i.push({key:e.key,paramType:"fixed",dataType:Object(r["a"])(e.value)||"",value:e.value})})),Object(c["c"])(a,"object")?Object.keys(a).forEach((function(e){i.push(t.renderQuoteItem(e,a[e]))})):Object(c["c"])(a,"array")&&a.forEach((function(e){i.push(t.renderQuoteItem(e.key,e.value))})),this.data=i,this.reload=!0},handleData:function(){if(this.multipleValues){var e=[],t=[];return this.data.forEach((function(n){"fixed"===n.paramType?e.push({key:n.key,value:n.value}):"quote"===n.paramType?t.push({key:n.key,value:n.dataType?"".concat(n.dataType," ").concat(n.value):n.value}):t.push({key:n.key,value:n.value})})),{fixed:e,quote:t}}var n={},a={};return this.data.forEach((function(e){"fixed"===e.paramType?n[e.key]=e.value:"quote"===e.paramType?a[e.key]=e.dataType?"".concat(e.dataType," ").concat(e.value):e.value:a[e.key]=e.value})),{fixed:n,quote:a}},getParamTypeName:function(e){var t=this.paramType.find((function(t){return t.value===e}))||{};return t.label||""},getScriptId:function(e){if(!e)return this.scriptId="","";var t="string"===typeof e?JSON.parse(e):e;return this.scriptId=t["aggregate_config_script_id"]||"",this.scriptId},dataTypeChange:function(e){"fixed"===e.paramType&&e.value&&(e.value=null)},paramTypeChange:function(e){e.value&&(e.value=null),e.dataType&&(e.dataType="")},openScript:function(e){this.scriptRow=e,this.scriptId=this.getScriptId(e.value||""),this.scriptVisible=!0},scriptCallback:function(){this.scriptRow.value=this.scriptId?{aggregate_config_script_id:this.scriptId}:{},this.data[this.scriptRow.$index]=Object.assign({},this.scriptRow)},emitData:function(){var e=this.handleData(),t=e.fixed,n=e.quote;this.$emit("update:fixed",t),this.$emit("update:quote",n)},rowDel:function(e,t){this.data.splice(t,1),this.emitData()}}},d=u,p=(n("7539"),n("955a"),n("2877")),h=Object(p["a"])(d,a,i,!1,null,"255f6681",null);t["default"]=h.exports},"843e":function(e,t,n){var a=n("6d8b"),i=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function r(e){a.each(i,(function(t){this[t]=a.bind(e[t],e)}),this)}var o=r;e.exports=o},"8478e":function(e,t,n){},"849e":function(e,t,n){},"84a6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],r={name:"authredirect",created:function(){window.close();var e=this.$route.query,t=e.state,n=e.code;window.opener.location.href="".concat(window.location.origin,"/#/login?state=").concat(t,"&code=").concat(n)}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},"84a7":function(e,t,n){},"84cd":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-alert",{attrs:{title:"网关本地缓存的已发布接口信息，版本号为网关实际使用的接口版本。",type:"warning",closable:!1}}),n("el-card",{staticClass:"box-card"},[n("header",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("["+e._s(e.originId)+"] 网关详情")]),n("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList,"cell-class-name":"api-cell"},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var a=t.row,i=t.type,r=t.size;return[n("el-button",{attrs:{icon:"el-icon-view",size:r,type:i},on:{click:function(t){return e.getDetail(a)}}},[e._v("查看\n        ")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),n("el-dialog",{attrs:{title:"Config Json","append-to-body":"",top:"5vh",width:"900px",visible:e.configDialog},on:{"update:visible":function(t){e.configDialog=t}}},[e.form.serviceName?n("el-tag",[e._v("服务["+e._s(e.form.serviceName)+"]")]):e._e(),e._v(" \n    "),e.form.name?n("b",[e._v(" ["+e._s(e.form.name)+"] ")]):e._e(),n("el-divider"),n("code-highlight",{attrs:{language:"json",code:e.jsonCode,height:600}})],1)],1)},i=[],r=n("e5ec"),o=n("d480"),s={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{size:"mini",dialogWidth:900,menuWidth:120,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"所属服务",prop:"serviceName",search:!0},{label:"接口名",prop:"name",minWidth:120,search:!0},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120,search:!0},{label:"版本号",prop:"version",width:80}]},data:[],configDialog:!1,configJson:""}},computed:{originId:function(){return this.$route.query.originId||""},jsonCode:function(){var e="";if(this.configJson)try{e=JSON.parse(this.configJson)}catch(t){e=this.configJson||""}return JSON.stringify(e,null,"    ")}},components:{codeHighlight:o["default"]},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{getDetail:function(e){var t=this;e.configId?(this.form=e,Object(r["a"])({instanceId:this.originId,configId:e.configId}).then((function(e){t.configJson=e.data.data||"",t.configDialog=!0}))):this.$message.error("数据缺失，无法操作！")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,n.instanceId=this.originId,Object(r["b"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},l=s,c=(n("8be4"),n("2877")),u=Object(c["a"])(l,a,i,!1,null,"096e071c",null);t["default"]=u.exports},"84ce":function(e,t,n){var a=n("6d8b"),i=a.each,r=a.map,o=n("3842"),s=o.linearMap,l=o.getPixelPrecision,c=o.round,u=n("e073"),d=u.createAxisTicks,p=u.createAxisLabels,h=u.calculateCategoryInterval,f=[0,1],g=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};function m(e,t){var n=e[1]-e[0],a=t,i=n/a/2;e[0]+=i,e[1]-=i}function v(e,t,n,a){var r=t.length;if(e.onBand&&!n&&r){var o,s,l=e.getExtent();if(1===r)t[0].coord=l[0],o=t[1]={coord:l[0]};else{var u=t[r-1].tickValue-t[0].tickValue,d=(t[r-1].coord-t[0].coord)/u;i(t,(function(e){e.coord-=d/2}));var p=e.scale.getExtent();s=1+p[1]-t[r-1].tickValue,o={coord:t[r-1].coord+d*s},t.push(o)}var h=l[0]>l[1];f(t[0].coord,l[0])&&(a?t[0].coord=l[0]:t.shift()),a&&f(l[0],t[0].coord)&&t.unshift({coord:l[0]}),f(l[1],o.coord)&&(a?o.coord=l[1]:t.pop()),a&&f(o.coord,l[1])&&t.push({coord:l[1]})}function f(e,t){return e=c(e),t=c(t),h?e>t:e<t}}g.prototype={constructor:g,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return e>=n&&e<=a},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return l(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,a=this.scale;return e=a.normalize(e),this.onBand&&"ordinal"===a.type&&(n=n.slice(),m(n,a.count())),s(e,f,n,t)},coordToData:function(e,t){var n=this._extent,a=this.scale;this.onBand&&"ordinal"===a.type&&(n=n.slice(),m(n,a.count()));var i=s(e,n,f,t);return this.scale.scale(i)},pointToData:function(e,t){},getTicksCoords:function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=d(this,t),a=n.ticks,i=r(a,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this),o=t.get("alignWithLabel");return v(this,i,o,e.clamp),i},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),a=r(n,(function(e){return r(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this);return a},getViewLabels:function(){return p(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var a=Math.abs(e[1]-e[0]);return Math.abs(a)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return h(this)}};var b=g;e.exports=b},"84ec":function(e,t){var n=Math.log(2);function a(e,t,i,r,o,s){var l=r+"-"+o,c=e.length;if(s.hasOwnProperty(l))return s[l];if(1===t){var u=Math.round(Math.log((1<<c)-1&~o)/n);return e[i][u]}var d=r|1<<i,p=i+1;while(r&1<<p)p++;for(var h=0,f=0,g=0;f<c;f++){var m=1<<f;m&o||(h+=(g%2?-1:1)*e[i][f]*a(e,t-1,p,d,o|m,s),g++)}return s[l]=h,h}function i(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],i={},r=a(n,8,0,0,0,i);if(0!==r){for(var o=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==o[l]&&(o[l]=0),o[l]+=((s+l)%2?-1:1)*a(n,7,0===s?1:0,1<<s,1<<l,i)/r*t[s];return function(e,t,n){var a=t*o[6]+n*o[7]+1;e[0]=(t*o[0]+n*o[1]+o[2])/a,e[1]=(t*o[3]+n*o[4]+o[5])/a}}}t.buildTransformer=i},"857d":function(e,t){var n=2*Math.PI;function a(e){return e%=n,e<0&&(e+=n),e}t.normalizeRadian=a},"859b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"appSearch",fn:function(t){return[n("el-select",{attrs:{placeholder:"请选择调用方",filterable:"",clearable:""},model:{value:e.search.app,callback:function(t){e.$set(e.search,"app",t)},expression:"search.app"}},e._l(e.appOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}},{key:"serviceSearch",fn:function(t){return[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.frontendServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),n("el-dialog",{attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[n("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.dialogRules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"155px"}},[n("el-form-item",{attrs:{label:"应用名(appID)",prop:"app"}},[n("el-select",{attrs:{placeholder:"请选择调用方",filterable:"",clearable:""},model:{value:e.dialogForm.app,callback:function(t){e.$set(e.dialogForm,"app",t)},expression:"dialogForm.app"}},e._l(e.appOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"前端服务名",prop:"service"}},[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.dialogForm.service,callback:function(t){e.$set(e.dialogForm,"service",t)},expression:"dialogForm.service"}},e._l(e.frontendServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"前端API路径",prop:"path"}},[n("el-input",{attrs:{placeholder:"请输入前端API路径",clearable:""},model:{value:e.dialogForm.path,callback:function(t){e.$set(e.dialogForm,"path",t)},expression:"dialogForm.path"}}),n("span",{staticClass:"key-tips"},[e._v("如果接口URL为http://网关IP:port/proxy/user-service/user/list, 则输入/user/list，如果不配置路径则按服务限流")])],1),n("el-form-item",{attrs:{label:"集群共享QPS",prop:"qps"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.qps*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.qps,callback:function(t){e.$set(e.dialogForm,"qps",t)},expression:"dialogForm.qps"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),n("el-form-item",{attrs:{label:"集群共享并发数",prop:"concurrent"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.concurrent*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.concurrent,callback:function(t){e.$set(e.dialogForm,"concurrent",t)},expression:"dialogForm.concurrent"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),n("el-form-item",{attrs:{label:"限流响应ContentType:",prop:"responseContentType"}},[n("el-input",{attrs:{placeholder:"请输入ContentType",clearable:""},model:{value:e.dialogForm.responseContentType,callback:function(t){e.$set(e.dialogForm,"responseContentType",t)},expression:"dialogForm.responseContentType"}}),n("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应ContentType")])],1),n("el-form-item",{attrs:{label:"限流响应报文：",prop:"responseContent"}},[n("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入响应报文",clearable:""},model:{value:e.dialogForm.responseContent,callback:function(t){e.$set(e.dialogForm,"responseContent",t)},expression:"dialogForm.responseContent"}}),n("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应报文")])],1)],1),"view"!==e.detailDialog.type?n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("6762"),n("2fdb"),n("ade3")),o=n("b5c6"),s=n("da71");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/app/list"),method:"get",params:c(c({},n),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/app/detail/").concat(e),method:"get"})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/app/remove"),method:"post",params:{ids:e}})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/app/save"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/app/update"),method:"post",data:e})},g=n("6be7"),m=n("5880"),v=n("16cd");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={name:"flow-appid",data:function(){return{form:{},search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",searchLabelWidth:95,column:[{label:"应用名(appID)",prop:"app",search:!0,searchslot:!0,searchLabelWidth:110},{label:"前端服务名",prop:"service",search:!0,searchslot:!0},{label:"前端API路径",prop:"path",search:!0},{label:"单机QPS",prop:"qps"},{label:"单机并发数",prop:"concurrent"}]},data:[],globalData:{},dialogForm:{},dialogRules:{app:[{required:!0,message:"必填",trigger:"change"}],path:[{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}],qps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],concurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1}}},computed:y(y({},Object(m["mapGetters"])(["permission","frontendServiceOptions","appOptions"])),{},{machineCount:function(){return this.globalData.machineCount||0}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},created:function(){this.getGlobalRule(),this.getFrontendServiceOptions(),this.getAppOptions()},methods:y(y({},Object(m["mapActions"])(["getFrontendServiceOptions","getAppOptions"])),{},{getGlobalRule:function(){var e=this;Object(g["b"])().then((function(t){var n=t.data.data;e.globalData=n||{}}))},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var n=Object(v["b"])(e.dialogForm);if(!n.qps&&!n.concurrent)return e.$message.error("单机QPS、单机并发数，请至少填写一个"),!1;"edit"===e.detailDialog.type?e.rowUpdate(n):e.rowSave(n)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,h(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,f(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("你确定要删除此流控规则吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var n=this;switch(this.dialogForm={},this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}["edit","view"].includes(t)?d(this.form.id).then((function(e){n.form=e.data.data,n.dialogForm=Object.assign({},e.data.data||{}),n.detailDialog.visible=!0})):this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}})},w=x,_=(n("ae74"),n("2877")),O=Object(_["a"])(w,a,i,!1,null,"400baee5",null);t["default"]=O.exports},"85e3":function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},8602:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",{staticClass:"aggregate-api"},[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList,"cell-class-name":"api-cell"},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"currentState",fn:function(t){var a=t.row;return[a.debugMode?n("el-tag",{staticStyle:{"margin-bottom":"6px"},attrs:{size:"small"}},[e._v("Debug")]):e._e(),n("api-state-tag",{attrs:{"is-modified":a.isModified,"current-state":a.currentState,"approval-state":a.approvalState}})]}},{key:"menu",fn:function(t){var a=t.row,i=t.type,r=t.size;return[e.permissionList.viewBtn?n("el-button",{attrs:{icon:"el-icon-view",size:r,type:i},on:{click:function(t){return e.goDetail(a,"view")}}},[e._v("查看\n      ")]):e._e(),e.permissionList.editBtn&&1!==a.approvalState&&2!==a.approvalState&&3!==a.approvalState?n("el-button",{attrs:{icon:"el-icon-edit",size:r,type:i},on:{click:function(t){return e.goDetail(a,"edit")}}},[e._v("编辑\n      ")]):e._e(),e.permissionList.delBtn?n("el-button",{attrs:{icon:"el-icon-delete",size:r,type:i},on:{click:function(t){return e.rowDel(a)}}},[e._v("删除\n      ")]):e._e(),n("el-button",{attrs:{icon:"el-icon-box",size:r,type:i},on:{click:function(t){return e.rowTest(a)}}},[e._v("测试\n      ")]),e.permissionList.offlineBtn&&3===a.approvalState?n("el-button",{attrs:{icon:"el-icon-bottom",size:r,type:i},on:{click:function(t){return e.offline(a)}}},[e._v("下线\n      ")]):e._e(),e.permissionList.publishBtn&&2===a.approvalState?n("el-button",{attrs:{icon:"el-icon-s-promotion",size:r,type:i},on:{click:function(t){return e.publish(a)}}},[e._v("发布\n      ")]):e._e(),0!==a.currentState?n("el-button",{attrs:{icon:"el-icon-s-operation",size:r,type:i},on:{click:function(t){return e.publishHistory(a)}}},[e._v("发布历史\n      ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permissionList.importBtn?n("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-upload2",plain:""},on:{click:e.handleImport}},[e._v("导 入\n      ")]):e._e(),e.permissionList.exportBtn?n("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-download",plain:""},on:{click:e.handleExport}},[e._v("导 出\n      ")]):e._e(),e.permissionList.applyBtn?n("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.handleApply}},[e._v("发布|下线申请\n      ")]):e._e(),e.permissionList.debugBtn?n("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(t){return e.handleDebug(1)}}},[e._v("打开调试模式\n      ")]):e._e(),e.permissionList.debugBtn?n("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(t){return e.handleDebug(0)}}},[e._v("关闭调试模式\n      ")]):e._e()],1)],2),n("el-dialog",{attrs:{title:"导入配置","append-to-body":"",visible:e.importDialog,"show-close":!1,width:"600px"},on:{"update:visible":function(t){e.importDialog=t}}},[n("div",[n("el-upload",{ref:"upload",attrs:{accept:"application/json",limit:1,"file-list":e.fileList,"on-change":e.handleChange,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"auto-upload":!1}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传json文件")])],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("div",{staticStyle:{padding:"12px 0"}},[n("el-checkbox",{model:{value:e.importData.force,callback:function(t){e.$set(e.importData,"force",t)},expression:"importData.force"}},[e._v("强制覆盖")])],1),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitUpload}},[e._v("确 定")]),n("el-button",{attrs:{size:"small"},on:{click:e.closeImportDialog}},[e._v("取 消")])],1)]),n("publish-dialog",{attrs:{visible:e.publishDialog.visible,name:e.publishDialog.name,id:e.publishDialog.id,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.publishDialog,"visible",t)}}}),n("apply-dialog",{attrs:{visible:e.applyDialog.visible,list:e.applyDialog.list,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.applyDialog,"visible",t)}}})],1)},i=[],r=(n("8e6e"),n("456d"),n("7f7f"),n("ac6a"),n("ade3")),o=n("708f"),s=n("f874"),l=n("5880"),c=n("047b"),u=n("247e"),d=n("5a57");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{dialogWidth:900,border:!0,index:!0,selection:!0,tip:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"所属服务",prop:"serviceName",search:!0},{label:"接口名",prop:"name",minWidth:120,search:!0},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120,search:!0},{label:"开发人员",prop:"developer"},{label:"状态",prop:"currentState",slot:!0,width:100,align:"center",search:!0,type:"select",dicData:s["a"]},{label:"版本号",prop:"version",width:80}]},data:[],publishDialog:{visible:!1,title:"接口",name:"",id:""},applyDialog:{visible:!1,list:[]},importDialog:!1,fileList:[],files:null,importData:{force:!1},importHeaders:{"Content-Type":"multipart/form-data"}}},computed:h(h({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.aggregate_api_add,!1),viewBtn:this.vaildData(this.permission.aggregate_api_view,!1),delBtn:this.vaildData(this.permission.aggregate_api_delete,!1),editBtn:this.vaildData(this.permission.aggregate_api_edit,!1),publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1),offlineBtn:this.vaildData(this.permission.aggregate_api_offline,!1),importBtn:this.vaildData(this.permission.aggregate_api_import,!1),exportBtn:this.vaildData(this.permission.aggregate_api_export,!1),applyBtn:this.vaildData(this.permission.aggregate_api_apply,!1),debugBtn:this.vaildData(this.permission.aggregate_api_debug,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},serviceName:function(){return this.$route.query.serviceName||""}}),components:{publishDialog:c["default"],applyDialog:u["default"],apiStateTag:d["default"]},beforeRouteUpdate:function(e,t,n){e.fullPath!==t.fullPath&&(this.option.column=this.option.column.map((function(e){return e.searchValue&&(e.searchValue=""),e})),this.query={},n(),this.onLoad(this.page,Object.assign({},e.query)))},watch:{serviceName:{immediate:!0,handler:function(e){e&&(this.query.serviceName=e,this.option.column[0].searchValue=e)}},data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{goDetail:function(e,t){if(this.form=e,"add"===t||this.form.id){var n="/aggregate/detail/".concat(t);this.$router.push({path:n,query:{originId:this.form.id}})}else this.$message.error("数据缺失，无法操作！")},handleApply:function(){this.applyDialog.visible=!0},offline:function(e){var t=this;this.$confirm("确定下线【".concat(e.name,"】此接口吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["i"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"下线成功"})}))},publish:function(e){e.id?(this.publishDialog.visible=!0,this.publishDialog.name=e.name,this.publishDialog.id=e.id):this.$message.error("数据缺失，无法发布！")},publishHistory:function(e){e.id?this.$router.push({path:"/aggregate/history",query:{originId:e.id}}):this.$message.error("数据缺失，无法查看发布历史！")},handleImport:function(){this.importDialog=!0},handleChange:function(e,t){this.files=t&&t[0]},handleRemove:function(e,t){this.files=t&&t[0]},handleExceed:function(){this.$message.warning("文件超出个数限制，每次仅允许导入一个文件!")},closeImportDialog:function(){this.importDialog=!1,this.fileList=[],this.files=null},beforeUpload:function(e){var t=e&&e.raw,n=t&&t.name||"",a=t&&t.type||"",i=a.indexOf("json")>-1||!1;return n?i||(this.$message.warning("上传模板只能是json格式!"),!1):(this.$message.warning("请选择要上传的文件！"),!1)},submitUpload:function(){var e=this,t=this.beforeUpload(this.files);if(!t)return!1;var n=this.files.raw,a=n.name,i=new FormData;i.append("file",n,a),i.append("force",this.importData.force),Object(o["h"])(i).then((function(){e.$message.success("导入成功"),e.importDialog=!1,e.onLoad(e.page)}))},handleExport:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据导出?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["d"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"导出成功"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},rowDel:function(e){var t=this;this.$confirm("确定删除【".concat(e.name,"】此接口吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["l"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},rowTest:function(e){var t=this.$route;this.$router.push({path:"/aggregate/test",query:{originId:e.id,redirect:encodeURIComponent(t.fullPath)}})},handleDebug:function(e){var t=this;0!==this.selectionList.length?this.$confirm(e?"确定打开调试模式?":"确定关闭调试模式?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e?Object(o["j"])(t.ids):Object(o["c"])(t.ids)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"模式调整成功"}),t.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["l"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"删除成功"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){if("add"===t||this.form.id){var n="/aggregate/detail/".concat(t);this.$router.push({path:n,query:{originId:this.form.id}})}else this.$message.error("数据缺失，无法操作！")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["g"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},g=f,m=(n("7162"),n("2877")),v=Object(m["a"])(g,a,i,!1,null,null,null);t["default"]=v.exports},"862d":function(e,t,n){var a=n("6d8b"),i=a.createHashMap,r=a.each,o=a.isString,s=a.defaults,l=a.extend,c=a.isObject,u=a.clone,d=n("e0d3"),p=d.normalizeToArray,h=n("0f99"),f=h.guessOrdinal,g=h.BE_ORDINAL,m=n("ec6f"),v=n("2f45"),b=v.OTHER_DIMENSIONS,y=n("562e");function x(e,t,n){m.isInstance(t)||(t=m.seriesDataToSource(t)),n=n||{},e=(e||[]).slice();for(var a=(n.dimsDef||[]).slice(),d=i(),h=i(),v=[],x=w(t,e,a,n.dimCount),O=0;O<x;O++){var D=a[O]=l({},c(a[O])?a[O]:{name:a[O]}),C=D.name,S=v[O]=new y;null!=C&&null==d.get(C)&&(S.name=S.displayName=C,d.set(C,O)),null!=D.type&&(S.type=D.type),null!=D.displayName&&(S.displayName=D.displayName)}var k=n.encodeDef;!k&&n.encodeDefaulter&&(k=n.encodeDefaulter(t,x)),k=i(k),k.each((function(e,t){if(e=p(e).slice(),1===e.length&&!o(e[0])&&e[0]<0)k.set(t,!1);else{var n=k.set(t,[]);r(e,(function(e,a){o(e)&&(e=d.get(e)),null!=e&&e<x&&(n[a]=e,P(v[e],t,a))}))}}));var T=0;function P(e,t,n){null!=b.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,h.set(t,!0))}r(e,(function(e,t){var n,a,i;if(o(e))n=e,e={};else{n=e.name;var l=e.ordinalMeta;e.ordinalMeta=null,e=u(e),e.ordinalMeta=l,a=e.dimsDef,i=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null}var d=k.get(n);if(!1!==d){d=p(d);if(!d.length)for(var h=0;h<(a&&a.length||1);h++){while(T<v.length&&null!=v[T].coordDim)T++;T<v.length&&d.push(T++)}r(d,(function(t,r){var o=v[t];if(P(s(o,e),n,r),null==o.name&&a){var l=a[r];!c(l)&&(l={name:l}),o.name=o.displayName=l.name,o.defaultTooltip=l.defaultTooltip}i&&s(o.otherDims,i)}))}}));var j=n.generateCoord,I=n.generateCoordCount,L=null!=I;I=j?I||1:0;for(var M=j||"value",A=0;A<x;A++){S=v[A]=v[A]||new y;var E=S.coordDim;null==E&&(S.coordDim=_(M,h,L),S.coordDimIndex=0,(!j||I<=0)&&(S.isExtraCoord=!0),I--),null==S.name&&(S.name=_(S.coordDim,d)),null!=S.type||f(t,A,S.name)!==g.Must&&(!S.isExtraCoord||null==S.otherDims.itemName&&null==S.otherDims.seriesName)||(S.type="ordinal")}return v}function w(e,t,n,a){var i=Math.max(e.dimensionsDetectCount||1,t.length,n.length,a||0);return r(t,(function(e){var t=e.dimsDef;t&&(i=Math.max(i,t.length))})),i}function _(e,t,n){if(n||null!=t.get(e)){var a=0;while(null!=t.get(e+a))a++;e+=a}return t.set(e,!0),e}var O=x;e.exports=O},8728:function(e,t){function n(e,t,n,a,i,r){if(r>t&&r>a||r<t&&r<a)return 0;if(a===t)return 0;var o=a<t?1:-1,s=(r-t)/(a-t);1!==s&&0!==s||(o=a<t?.5:-.5);var l=s*(n-e)+e;return l===i?1/0:l>i?o:0}e.exports=n},"872a":function(e,t,n){var a=n("3b4a");function i(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=i},"879d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"tree-load":e.treeLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var a=t.row;return[e.permission.data_scope_setting?n("el-button",{staticStyle:{border:"0","background-color":"transparent !important"},attrs:{type:"text",icon:"el-icon-setting",size:"small",plain:""},on:{click:function(t){return t.stopPropagation(),e.handleDataScope(a)}}},[e._v("权限配置\n      ")]):e._e()]}},{key:"source",fn:function(e){var t=e.row;return[n("div",{staticStyle:{"text-align":"center"}},[n("i",{class:t.source})])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),n("el-drawer",{attrs:{"append-to-body":"",title:"["+e.scopeMenuName+"] 数据权限配置",visible:e.drawerVisible,direction:e.direction,"before-close":e.handleDrawerClose,size:"1000px"},on:{"update:visible":function(t){e.drawerVisible=t}}},[n("basic-container",[n("avue-crud",{ref:"crudScope",attrs:{option:e.optionScope,data:e.dataScope,page:e.pageScope,"table-loading":e.scopeLoading,"before-open":e.beforeOpenScope},on:{"row-del":e.rowDelScope,"row-update":e.rowUpdateScope,"row-save":e.rowSaveScope,"search-change":e.searchChangeScope,"search-reset":e.searchResetScope,"selection-change":e.selectionChangeScope,"current-change":e.currentChangeScope,"size-change":e.sizeChangeScope,"on-load":e.onLoadScope},scopedSlots:e._u([{key:"scopeType",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.scopeTypeName))])]}}]),model:{value:e.formScope,callback:function(t){e.formScope=t},expression:"formScope"}},[n("template",{slot:"menuLeft"},[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDeleteScope}},[e._v("删 除\n          ")])],1)],2)],1)],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("7f7f"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("a6dc"),s=n("7e26"),l=n("5880"),c=n("2457"),u=n("d9a3"),d=n("da71");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={data:function(){return{form:{},selectionList:[],query:{},loading:!0,parentId:0,page:{pageSize:10,currentPage:1,total:0},drawerVisible:!1,direction:"rtl",scopeMenuId:0,scopeMenuCode:"",scopeMenuName:"菜单",scopeLoading:!1,menu:!0,watchMode:!0,option:{lazy:!0,tip:!1,simplePage:!0,searchShow:!0,searchMenuSpan:6,dialogWidth:"60%",tree:!0,border:!0,index:!0,selection:!0,viewBtn:!1,editBtn:!1,addBtn:!1,delBtn:!1,menuWidth:150,dialogClickModal:!1,column:[{label:"菜单名称",prop:"name",search:!0,rules:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},{label:"路由地址",prop:"path",rules:[{required:!0,message:"请输入路由地址",trigger:"blur"}]},{label:"上级菜单",prop:"parentId",type:"tree",dicUrl:"".concat(d["a"],"/blade-system/menu/tree"),hide:!0,props:{label:"title"},rules:[{required:!1,message:"请选择上级菜单",trigger:"click"}]},{label:"菜单图标",prop:"source",type:"icon",slot:!0,width:80,iconList:c["a"],rules:[{required:!0,message:"请输入菜单图标",trigger:"click"}]},{label:"菜单编号",prop:"code",search:!0,rules:[{required:!0,message:"请输入菜单编号",trigger:"blur"}]},{label:"菜单类型",prop:"category",type:"radio",dicData:[{label:"菜单",value:1},{label:"按钮",value:2}],hide:!0,rules:[{required:!0,message:"请选择菜单类型",trigger:"blur"}]},{label:"菜单别名",prop:"alias",rules:[{required:!0,message:"请输入菜单别名",trigger:"blur"}]},{label:"按钮功能",prop:"action",type:"radio",dicData:[{label:"工具栏",value:0},{label:"操作栏",value:1},{label:"工具操作栏",value:2}],hide:!0,rules:[{required:!0,message:"请选择按钮功能",trigger:"blur"}]},{label:"菜单排序",prop:"sort",type:"number",width:80,rules:[{required:!0,message:"请输入菜单排序",trigger:"blur"}]},{label:"新窗口",prop:"isOpen",type:"radio",dicData:[{label:"否",value:0},{label:"是",value:1}],hide:!0},{label:"菜单备注",prop:"remark",type:"textarea",span:24,minRows:6,hide:!0}]},data:[],formScope:{},selectionListScope:[],pageScope:{pageSize:10,currentPage:1,total:0},optionScope:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,viewBtn:!0,selection:!0,menuWidth:200,dialogWidth:900,dialogClickModal:!1,column:[{label:"权限名称",prop:"scopeName",search:!0,value:"",rules:[{required:!0,message:"请输入数据权限名称",trigger:"blur"}]},{label:"权限编号",prop:"resourceCode",search:!0,width:100,rules:[{required:!0,message:"请输入数据权限编号",trigger:"blur"}]},{label:"权限字段",prop:"scopeColumn",width:130,rules:[{required:!0,message:"请输入数据权限编号",trigger:"blur"}]},{label:"规则类型",type:"select",dicUrl:"".concat(d["a"],"/blade-system/dict/dictionary?code=data_scope_type"),props:{label:"dictValue",value:"dictKey"},dataType:"number",slot:!0,width:140,prop:"scopeType",rules:[{required:!0,message:"请输入通知类型",trigger:"blur"}]},{label:"可见字段",prop:"scopeField",span:24,hide:!0,value:"*",rules:[{required:!0,message:"请输入数据权限可见的字段",trigger:"blur"}]},{label:"权限类名",prop:"scopeClass",span:24,hide:!0,rules:[{required:!0,message:"请输入MybatisMapper对应方法的完整类名路径",trigger:"blur"}]},{label:"规则值",prop:"scopeValue",span:24,minRows:5,type:"textarea",display:!0,hide:!0},{label:"备注",prop:"remark",span:24,hide:!0}]},dataScope:[]}},watch:{"formScope.scopeType":function(){this.initScope()}},computed:h(h({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.menu_add,!1),viewBtn:this.vaildData(this.permission.menu_view,!1),delBtn:this.vaildData(this.permission.menu_delete,!1),editBtn:this.vaildData(this.permission.menu_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},scopeIds:function(){var e=[];return this.selectionListScope.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{initScope:function(){var e=this,t=u["a"].toInt(this.formScope.scopeType),n=this.watchMode,a="-",i="暂无";1===t?(a="-",i="全部可见"):2===t?(a="create_user",i="本人可见"):3===t?(a="create_dept",i="所在机构可见"):4===t?(a="create_dept",i="所在机构可见及子级可见"):5===t&&(a="",i="自定义"),this.$refs.crudScope.option.column.filter((function(r){n&&("scopeName"===r.prop&&(e.formScope.scopeName="".concat(e.scopeMenuName," [").concat(i,"]")),"resourceCode"===r.prop&&(e.formScope.resourceCode=e.scopeMenuCode),"scopeColumn"===r.prop&&(e.formScope.scopeColumn=a)),"scopeValue"===r.prop&&(r.display=5===t)}))},rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["i"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.parentId=0,this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.parentId="",this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["d"])(this.form.id).then((function(e){n.form=e.data.data})),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["c"])(this.parentId,Object.assign(n,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))},treeLoad:function(e,t,n){var a=e.id;Object(o["c"])(a).then((function(e){n(e.data.data)}))},handleDataScope:function(e){this.drawerVisible=!0,this.scopeMenuId=e.id,this.scopeMenuCode=e.code,this.scopeMenuName=e.name,this.onLoadScope(this.pageScope)},handleDrawerClose:function(e){e()},rowSaveScope:function(e,t,n){var a=this;e=h(h({},e),{},{menuId:this.scopeMenuId}),Object(s["b"])(e).then((function(){a.onLoadScope(a.pageScope),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdateScope:function(e,t,n,a){var i=this;e=h(h({},e),{},{menuId:this.scopeMenuId}),Object(s["j"])(e).then((function(){i.onLoadScope(i.pageScope),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDelScope:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["h"])(e.id)})).then((function(){t.onLoadScope(t.pageScope),t.$message({type:"success",message:"操作成功!"})}))},handleDeleteScope:function(){var e=this;0!==this.selectionListScope.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["h"])(e.scopeIds)})).then((function(){e.onLoadScope(e.pageScope),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudScope.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenScope:function(e,t){var n=this;["add"].includes(t)&&(this.watchMode=!0,this.initScope()),["edit","view"].includes(t)&&(this.watchMode=!1,Object(s["f"])(this.formScope.id).then((function(e){n.formScope=e.data.data}))),e()},searchResetScope:function(){this.onLoadScope(this.pageScope)},searchChangeScope:function(e,t){this.onLoadScope(this.pageScope,e),t()},selectionChangeScope:function(e){this.selectionListScope=e},currentChangeScope:function(e){this.pageScope.currentPage=e},sizeChangeScope:function(e){this.pageScope.pageSize=e},onLoadScope:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.scopeLoading=!0;var a=h(h({},n),{},{menuId:this.scopeMenuId});Object(s["d"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var n=e.data.data;t.pageScope.total=n.total,t.dataScope=n.records,t.selectionListScope=[],t.scopeLoading=!1}))}}},g=f,m=n("2877"),v=Object(m["a"])(g,a,i,!1,null,null,null);t["default"]=v.exports},"87a9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"basic-container"},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("b",[e._v("实时数据")])]),n("el-row",{staticClass:"data-display",attrs:{span:24}},e._l(e.dataDisplayOption.data,(function(t,a){return n("el-col",{key:a,attrs:{md:e.dataDisplayOption.span,sm:12,xs:12}},[n("div",{staticClass:"item",class:{item_href:t.path},on:{click:function(n){return e.dataAction(t)}}},[n("avue-count-up",{staticClass:"count",attrs:{animation:e.dataDisplayOption.animation,decimals:t.decimals||e.dataDisplayOption.decimals,end:t.count}}),n("span",{staticClass:"splitLine"}),n("div",{staticClass:"title"},[e._v(e._s(t.title))])],1)])})),1)],1)],1)},i=[],r=n("ee6e"),o={name:"real-time-data",data:function(){return{data:{},timer:null}},props:{},computed:{refreshTime:function(){return+this.data.refreshIntervalMillis||3e3},dataDisplayOption:function(){return{span:6,animation:!0,data:[{count:this.data.todayInterfaceCount||0,title:"今天接口总数",path:"/proxy/ip"},{count:this.data.todayAccessCount||0,title:"今天访问次数"},{count:this.data.currentQps||0,title:"当前QPS",decimals:2},{count:this.data.currentConcurrent||0,title:"当前并发数"}]}}},watch:{refreshTime:{immediate:!0,handler:function(e){var t=this;this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){t.getCurrentData()}),e)}}},created:function(){this.getCurrentData()},beforeDestroy:function(){clearInterval(this.timer)},methods:{dataAction:function(e){e.path&&this.$router.push({path:e.path})},getCurrentData:function(){var e=this;Object(r["c"])().then((function(t){e.data=t.data.data||{}}))}}},s=o,l=(n("4766"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"24a76f8f",null);t["default"]=c.exports},"87b1":function(e,t,n){var a=n("cbe5"),i=n("4fac"),r=a.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){i.buildPath(e,t,!0)}});e.exports=r},"87c3":function(e,t,n){var a=n("6d8b"),i=a.map,r=n("cccd"),o=n("ee1a"),s=o.isDimensionStacked;function l(e){return{seriesType:e,plan:r(),reset:function(e){var t=e.getData(),n=e.coordinateSystem,a=e.pipelineContext,r=a.large;if(n){var o=i(n.dimensions,(function(e){return t.mapDimension(e)})).slice(0,2),l=o.length,c=t.getCalculationInfo("stackResultDimension");return s(t,o[0])&&(o[0]=c),s(t,o[1])&&(o[1]=c),l&&{progress:u}}function u(e,t){for(var a=e.end-e.start,i=r&&new Float32Array(a*l),s=e.start,c=0,u=[],d=[];s<e.end;s++){var p;if(1===l){var h=t.get(o[0],s);p=!isNaN(h)&&n.dataToPoint(h,null,d)}else{h=u[0]=t.get(o[0],s);var f=u[1]=t.get(o[1],s);p=!isNaN(h)&&!isNaN(f)&&n.dataToPoint(u,null,d)}r?(i[c++]=p?p[0]:NaN,i[c++]=p?p[1]:NaN):t.setItemLayout(s,p&&p.slice()||[NaN,NaN])}r&&t.setLayout("symbolPoints",i)}}}}e.exports=l},"880a":function(e,t,n){},"88b0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("存储")]),n("el-tag",{staticClass:"title",attrs:{size:"small"}},[e._v("基本读写删(持久化存储)\n  ")]),n("div",{staticClass:"box"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.setItem({name:"username",value:"avuex"})}}},[e._v("set('username', 'avuex')\n    ")]),n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getItem({name:"username"})}}},[e._v("get('username')\n    ")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delItem({name:"username"})}}},[e._v("remove('username')\n    ")])],1),n("el-tag",{staticClass:"title",attrs:{size:"small"}},[e._v("设置session(session存储)\n  ")]),n("div",{staticClass:"box"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.setItem({name:"username",value:"avuex",type:"session"})}}},[e._v("set('username', 'avuex')\n    ")]),n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getItem({name:"username",type:"session"})}}},[e._v("get('username')\n    ")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delItem({name:"username",type:"session"})}}},[e._v("remove('username')\n    ")])],1),n("el-tag",{staticClass:"title",attrs:{size:"small"}},[e._v("获取所有可以获得的数据\n  ")]),n("div",{staticClass:"box"},[n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getAll()}}},[e._v("getAll(持久化存储)\n    ")]),n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getAll({type:"session"})}}},[e._v("getAll(session存储)\n    ")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.clearAll()}}},[e._v("delAll(持久化存储)\n    ")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.clearAll({type:"session"})}}},[e._v("delAll(session存储)\n    ")])],1)],1)},i=[],r=(n("7f7f"),n("e3c4")),o={name:"store",methods:{setItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.value,a=e.type;Object(r["e"])({name:t,content:n,type:a}),this.$message("设置数据 ".concat(t," = ").concat(n))},getItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.type,a=Object(r["c"])({name:t,type:n});this.$message("获取数据 ".concat(t," = ").concat(a))},delItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.type;Object(r["d"])({name:t,type:n}),this.$message("删除数据 ".concat(t))},clearAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r["a"])(e),this.$message("清除全部数据完成")},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r["b"])(e);window.console.log(t),this.$message("结果已经打印到控制台")}}},s=o,l=(n("8293"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"216ce3bc",null);t["default"]=c.exports},"88b3":function(e,t){var n="\0__throttleOriginMethod",a="\0__throttleRate",i="\0__throttleType";function r(e,t,n){var a,i,r,o,s,l=0,c=0,u=null;function d(){c=(new Date).getTime(),u=null,e.apply(r,o||[])}t=t||0;var p=function(){a=(new Date).getTime(),r=this,o=arguments;var e=s||t,p=s||n;s=null,i=a-(p?l:c)-e,clearTimeout(u),p?u=setTimeout(d,e):i>=0?d():u=setTimeout(d,-i),l=a};return p.clear=function(){u&&(clearTimeout(u),u=null)},p.debounceNextCall=function(e){s=e},p}function o(e,t,o,s){var l=e[t];if(l){var c=l[n]||l,u=l[i],d=l[a];if(d!==o||u!==s){if(null==o||!s)return e[t]=c;l=e[t]=r(c,o,"debounce"===s),l[n]=c,l[i]=s,l[a]=o}return l}}function s(e,t){var a=e[t];a&&a[n]&&(e[t]=a[n])}t.throttle=r,t.createOrUpdate=o,t.clear=s},"88b69":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen,"before-close":e.beforeClose},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"tree-load":e.treeLoad},scopedSlots:e._u([{key:"menu",fn:function(t){return[e.userInfo.role_name.includes("admin")?n("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(n){return n.stopPropagation(),e.handleAdd(t.row,t.index)}}},[e._v("新增子项\n      ")]):e._e()]}},{key:"deptCategory",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.deptCategoryName))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.dept_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("fcb7"),s=n("5880"),l=n("1ca4"),c=n("da71");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{form:{},selectionList:[],query:{},loading:!0,parentId:0,page:{pageSize:10,currentPage:1,total:0},option:{lazy:!0,tip:!1,simplePage:!0,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:300,dialogClickModal:!1,column:[{label:"机构名称",prop:"deptName",search:!0,rules:[{required:!0,message:"请输入机构名称",trigger:"blur"}]},{label:"所属租户",prop:"tenantId",type:"tree",dicUrl:"".concat(c["a"],"/blade-system/tenant/select"),addDisplay:!1,editDisplay:!1,viewDisplay:l["a"].tenantMode,span:24,props:{label:"tenantName",value:"tenantId"},hide:!l["a"].tenantMode,search:l["a"].tenantMode,rules:[{required:!0,message:"请输入所属租户",trigger:"click"}]},{label:"机构全称",prop:"fullName",search:!0,rules:[{required:!0,message:"请输入机构全称",trigger:"blur"}]},{label:"上级机构",prop:"parentId",dicData:[],type:"tree",hide:!0,props:{label:"title"},rules:[{required:!1,message:"请选择上级机构",trigger:"click"}]},{label:"机构类型",type:"select",dicUrl:"".concat(c["a"],"/blade-system/dict/dictionary?code=org_category"),props:{label:"dictValue",value:"dictKey"},dataType:"number",width:120,prop:"deptCategory",slot:!0,rules:[{required:!0,message:"请输入机构类型",trigger:"blur"}]},{label:"排序",prop:"sort",type:"number",align:"right",width:80,rules:[{required:!0,message:"请输入排序",trigger:"blur"}]},{label:"备注",prop:"remark",rules:[{required:!1,message:"请输入备注",trigger:"blur"}],hide:!0}]},data:[]}},computed:d(d({},Object(s["mapGetters"])(["userInfo","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dept_add,!1),viewBtn:this.vaildData(this.permission.dept_view,!1),delBtn:this.vaildData(this.permission.dept_delete,!1),editBtn:this.vaildData(this.permission.dept_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{initData:function(){var e=this;Object(o["d"])().then((function(t){var n=e.findObject(e.option.column,"parentId");n.dicData=t.data.data}))},handleAdd:function(e){this.form={parentId:e.id};var t=this.findObject(this.option.column,"parentId");t.addDisabled=!0,this.$refs.crud.rowAdd()},rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(n){a.onLoad(a.page);var i=n.data.data;e.id=i.id,e.deptCategoryName=i.deptCategoryName,e.tenantId=i.tenantId,a.$message({type:"success",message:"操作成功!"}),t(e)}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["g"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n(e)}),(function(e){window.console.log(e),a()}))},rowDel:function(e,t,n){var a=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.id)})).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),n(e)}))},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.ids)})).then((function(){e.data=[],e.parentId=0,e.$refs.crud.refreshTable(),e.$refs.crud.toggleSelection(),e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"})})):this.$message.warning("请选择至少一条数据")},searchReset:function(){this.query={},this.parentId=0,this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.parentId="",this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},beforeOpen:function(e,t){var n=this;["add","edit"].includes(t)&&this.initData(),["edit","view"].includes(t)&&Object(o["b"])(this.form.id).then((function(e){n.form=e.data.data})),e()},beforeClose:function(e){this.form={};var t=this.findObject(this.option.column,"parentId");t.addDisabled=!1,e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["e"])(this.parentId,Object.assign(n,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))},treeLoad:function(e,t,n){var a=e.id;Object(o["e"])(a).then((function(e){n(e.data.data)}))}}},h=p,f=n("2877"),g=Object(f["a"])(h,a,i,!1,null,null,null);t["default"]=g.exports},8918:function(e,t,n){var a=n("6d8b"),i=n("625e"),r=i.parseClassType,o=0;function s(e){return[e||"",o++,Math.random().toFixed(5)].join("_")}function l(e){var t={};return e.registerSubTypeDefaulter=function(e,n){e=r(e),t[e.main]=n},e.determineSubType=function(n,a){var i=a.type;if(!i){var o=r(n).main;e.hasSubTypes(n)&&t[o]&&(i=t[o](a))}return i},e}function c(e,t){function n(e){var n={},o=[];return a.each(e,(function(s){var l=i(n,s),c=l.originalDeps=t(s),u=r(c,e);l.entryCount=u.length,0===l.entryCount&&o.push(s),a.each(u,(function(e){a.indexOf(l.predecessor,e)<0&&l.predecessor.push(e);var t=i(n,e);a.indexOf(t.successor,e)<0&&t.successor.push(s)}))})),{graph:n,noEntryList:o}}function i(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function r(e,t){var n=[];return a.each(e,(function(e){a.indexOf(t,e)>=0&&n.push(e)})),n}e.topologicalTravel=function(e,t,i,r){if(e.length){var o=n(t),s=o.graph,l=o.noEntryList,c={};a.each(e,(function(e){c[e]=!0}));while(l.length){var u=l.pop(),d=s[u],p=!!c[u];p&&(i.call(r,u,d.originalDeps.slice()),delete c[u]),a.each(d.successor,p?f:h)}a.each(c,(function(){throw new Error("Circle dependency may exists")}))}function h(e){s[e].entryCount--,0===s[e].entryCount&&l.push(e)}function f(e){c[e]=!0,h(e)}}}t.getUID=s,t.enableSubTypeDefaulter=l,t.enableTopologicalTravel=c},"892a":function(e,t,n){"use strict";n.r(t);n("a481"),n("7f7f");var a,i,r=n("65d4"),o=n("9653"),s={name:"log-detail",mixins:[r["default"]],data:function(){return{disabled:!0,businessType:"log"}},methods:{getDetail:function(){var e=this;if(!this.originId)return this.formData={},void(this.baseConfigs={});Object(o["a"])(this.originId).then((function(t){e.formData=t.data.data||{};var n=Object.assign({},e.formData),a=n.id,i=void 0===a?"":a,r=n.serviceId,o=void 0===r?"":r,s=n.name,l=void 0===s?"":s,c=n.method,u=void 0===c?"":c,d=n.path,p=void 0===d?"":d,h=n.developer,f=void 0===h?"":h,g=n.description,m=void 0===g?"":g,v=n.serviceName,b=void 0===v?"":v;p=p.replace("/proxy/".concat(b,"/"),""),e.baseConfigs={id:i,serviceId:o,name:l,method:u,path:p,developer:f,description:m,serviceName:b}}))}}},l=s,c=n("2877"),u=Object(c["a"])(l,a,i,!1,null,"b4acce16",null);t["default"]=u.exports},8971:function(e,t){var n="";"undefined"!==typeof navigator&&(n=navigator.platform||"");var a={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:n.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};e.exports=a},"897a":function(e,t,n){var a=n("22d1"),i=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function r(e){return a.browser.ie&&a.browser.version>=11?function(){var t,n=this.__clipPaths,a=this.style;if(n)for(var r=0;r<n.length;r++){var o=n[r],s=o&&o.shape,l=o&&o.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(var c=0;c<i.length;c++)i[c][2]=a[i[c][0]],a[i[c][0]]=i[c][1];t=!0;break}}if(e.apply(this,arguments),t)for(c=0;c<i.length;c++)a[i[c][0]]=i[c][2]}:e}e.exports=r},"89e3":function(e,t,n){var a=n("3842"),i=n("eda2"),r=n("e0d8"),o=n("944e"),s=a.round,l=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),l.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=o.getIntervalPrecision(e)},getTicks:function(e){var t=this._interval,n=this._extent,a=this._niceExtent,i=this._intervalPrecision,r=[];if(!t)return r;var o=1e4;n[0]<a[0]&&(e?r.push(s(a[0]-t,i)):r.push(n[0]));var l=a[0];while(l<=a[1]){if(r.push(l),l=s(l+t,i),l===r[r.length-1])break;if(r.length>o)return[]}var c=r.length?r[r.length-1]:a[1];return n[1]>c&&(e?r.push(s(c+t,i)):r.push(n[1])),r},getMinorTicks:function(e){for(var t=this.getTicks(!0),n=[],i=this.getExtent(),r=1;r<t.length;r++){var o=t[r],s=t[r-1],l=0,c=[],u=o-s,d=u/e;while(l<e-1){var p=a.round(s+(l+1)*d);p>i[0]&&p<i[1]&&c.push(p),l++}n.push(c)}return n},getLabel:function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=a.getPrecisionSafe(e)||0:"auto"===n&&(n=this._intervalPrecision),e=s(e,n,!0),i.addCommas(e)},niceTicks:function(e,t,n){e=e||5;var a=this._extent,i=a[1]-a[0];if(isFinite(i)){i<0&&(i=-i,a.reverse());var r=o.intervalScaleNiceTicks(a,e,t,n);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var a=t[1]-t[0];isFinite(a)||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=s(Math.floor(t[0]/i)*i)),e.fixMax||(t[1]=s(Math.ceil(t[1]/i)*i))}});l.create=function(){return new l};var c=l;e.exports=c},"8adb":function(e,t){function n(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=n},"8b7f":function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=i.createHashMap,o=(i.retrieve,i.each);function s(e){this.coordSysName=e,this.coordSysDims=[],this.axisMap=r(),this.categoryAxisMap=r(),this.firstCategoryDimIndex=null}function l(e){var t=e.get("coordinateSystem"),n=new s(t),a=c[t];if(a)return a(e,n,n.axisMap,n.categoryAxisMap),n}var c={cartesian2d:function(e,t,n,a){var i=e.getReferringComponents("xAxis")[0],r=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],n.set("x",i),n.set("y",r),u(i)&&(a.set("x",i),t.firstCategoryDimIndex=0),u(r)&&(a.set("y",r),t.firstCategoryDimIndex,t.firstCategoryDimIndex=1)},singleAxis:function(e,t,n,a){var i=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],n.set("single",i),u(i)&&(a.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,a){var i=e.getReferringComponents("polar")[0],r=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",r),n.set("angle",o),u(r)&&(a.set("radius",r),t.firstCategoryDimIndex=0),u(o)&&(a.set("angle",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,a){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,a){var i=e.ecModel,r=i.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=r.dimensions.slice();o(r.parallelAxisIndex,(function(e,r){var o=i.getComponent("parallelAxis",e),l=s[r];n.set(l,o),u(o)&&null==t.firstCategoryDimIndex&&(a.set(l,o),t.firstCategoryDimIndex=r)}))}};function u(e){return"category"===e.get("type")}t.getCoordSysInfoBySeries=l},"8be4":function(e,t,n){"use strict";n("d80e")},"8c2a":function(e,t,n){var a=n("6d8b"),i=n("e0d8"),r=n("3842"),o=n("89e3"),s=i.prototype,l=o.prototype,c=r.getPrecisionSafe,u=r.round,d=Math.floor,p=Math.ceil,h=Math.pow,f=Math.log,g=i.extend({type:"log",base:10,$constructor:function(){i.apply(this,arguments),this._originalScale=new o},getTicks:function(e){var t=this._originalScale,n=this._extent,i=t.getExtent();return a.map(l.getTicks.call(this,e),(function(e){var a=r.round(h(this.base,e));return a=e===n[0]&&t.__fixMin?m(a,i[0]):a,a=e===n[1]&&t.__fixMax?m(a,i[1]):a,a}),this)},getMinorTicks:l.getMinorTicks,getLabel:l.getLabel,scale:function(e){return e=s.scale.call(this,e),h(this.base,e)},setExtent:function(e,t){var n=this.base;e=f(e)/f(n),t=f(t)/f(n),l.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=s.getExtent.call(this);t[0]=h(e,t[0]),t[1]=h(e,t[1]);var n=this._originalScale,a=n.getExtent();return n.__fixMin&&(t[0]=m(t[0],a[0])),n.__fixMax&&(t[1]=m(t[1],a[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=f(e[0])/f(t),e[1]=f(e[1])/f(t),s.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var a=r.quantity(n),i=e/n*a;i<=.5&&(a*=10);while(!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0)a*=10;var o=[r.round(p(t[0]/a)*a),r.round(d(t[1]/a)*a)];this._interval=a,this._niceExtent=o}},niceExtent:function(e){l.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});function m(e,t){return u(e,c(t))}a.each(["contain","normalize"],(function(e){g.prototype[e]=function(t){return t=f(t)/f(this.base),s[e].call(this,t)}})),g.create=function(){return new g};var v=g;e.exports=v},"8d32":function(e,t,n){var a=n("cbe5"),i=a.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,a=t.cy,i=Math.max(t.r,0),r=t.startAngle,o=t.endAngle,s=t.clockwise,l=Math.cos(r),c=Math.sin(r);e.moveTo(l*i+n,c*i+a),e.arc(n,a,i,r,o,!s)}});e.exports=i},"8de2":function(e,t,n){var a=n("8eeb"),i=n("9934");function r(e){return a(e,i(e))}e.exports=r},"8e43":function(e,t,n){var a=n("6d8b"),i=a.createHashMap,r=a.isObject,o=a.map;function s(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this._map}s.createByAxisModel=function(e){var t=e.option,n=t.data,a=n&&o(n,u);return new s({categories:a,needCollect:!a,deduplication:!1!==t.dedplication})};var l=s.prototype;function c(e){return e._map||(e._map=i(e.categories))}function u(e){return r(e)&&null!=e.value?e.value:e+""}l.getOrdinal=function(e){return c(this).get(e)},l.parseAndCollect=function(e){var t,n=this._needCollect;if("string"!==typeof e&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var a=c(this);return t=a.get(e),null==t&&(n?(t=this.categories.length,this.categories[t]=e,a.set(e,t)):t=NaN),t};var d=s;e.exports=d},"8ed2":function(e,t,n){n("48c7");var a=n("6cb7"),i=a.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});e.exports=i},"8eeb":function(e,t,n){var a=n("32b3"),i=n("872a");function r(e,t,n,r){var o=!n;n||(n={});var s=-1,l=t.length;while(++s<l){var c=t[s],u=r?r(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?i(n,c,u):a(n,c,u)}return n}e.exports=r},"8fe7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"type",fn:function(t){var n=t.row;return[e._v("\n      "+e._s((0===n.type?"发布":1===n.type&&"下线")||n.type)+"\n    ")]}},{key:"status",fn:function(t){var a=t.row;return[1===a.status?n("span",{staticClass:"color-danger"},[e._v("审核不通过")]):2===a.status?n("span",{staticClass:"color-success"},[e._v("审核通过")]):n("span",[e._v(e._s(0===a.status?"待审核":3===a.status&&"撤回"))])]}},{key:"menu",fn:function(t){var a=t.row,i=t.type,r=t.size;t.index;return[n("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowView(a)}}},[e._v("查看")]),!e.permissionList.applyBtn||3!==a.status&&1!==a.status?e._e():n("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowEidt(a)}}},[e._v("编辑")]),e.permissionList.revokeBtn&&0===a.status?n("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowRevoke(a)}}},[e._v("撤回")]):e._e()]}}])},[n("template",{slot:"menuLeft"},[e.permissionList.applyBtn?n("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:e.handleApply}},[e._v("发布|下线申请\n      ")]):e._e()],1)],2),n("apply-detail",{attrs:{visible:e.detailDialog.visible,id:e.detailDialog.id,data:e.detailDialog.data,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}}),n("apply-dialog",{attrs:{visible:e.applyDialog.visible,list:e.applyDialog.list,form:e.applyDialog.form,id:e.applyDialog.id,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.applyDialog,"visible",t)}}})],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("0f43"),s=n("cec1"),l=n("5880"),c=n("1a1f"),u=n("7079"),d=n("247e");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={data:function(){return{applyDialog:{visible:!1,list:[]},option:{dialogWidth:900,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuWidth:100,menuPosition:"right",column:[{label:"申请时间",prop:"createTime",searchRange:!0,search:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"标题",prop:"title",search:!0,minWidth:180},{label:"操作类型",prop:"type",slot:!0,width:80},{label:"申请状态",prop:"status",slot:!0,width:100,search:!0,type:"select",dicData:s["a"]},{label:"审核人",prop:"approvalBy"},{label:"审核时间",prop:"approvalTime"}]}}},mixins:[c["default"]],components:{applyDetail:u["default"],applyDialog:d["default"]},computed:h(h({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{viewBtn:this.vaildData(this.permission.aggregateRecord_apply_view,!1),revokeBtn:this.vaildData(this.permission.aggregate_apply_revoke,!1),applyBtn:this.vaildData(this.permission.aggregate_api_apply,!1)}}}),methods:{rowView:function(e){var t="/aggregateRecord/applyDetail";this.$router.push({path:t,query:{originId:e.id}})},rowEidt:function(e){var t=this;this.applyDialog.id=e.id,Object(o["d"])(e.id).then((function(e){var n=e.data.data;t.applyDialog.visible=!0,t.applyDialog.form=n,t.applyDialog.list=n.configs}))},handleApply:function(){this.applyDialog.id="",this.applyDialog.list=[],this.applyDialog.form={},this.applyDialog.visible=!0},rowRevoke:function(e){var t=this;this.$confirm("确定撤回【".concat(e.title,"】申请吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"撤回成功"})}))},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["e"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},g=f,m=n("2877"),v=Object(m["a"])(g,a,i,!1,null,null,null);t["default"]=v.exports},9145:function(e,t,n){},"91e9":function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},"921f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"xml-info",attrs:{title:"XML和JSON间的转换规则",center:"","append-to-body":"",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[n("ul",[n("li",[e._v("每个元素（节点）都会转换成一个JSON对象, 子元素转换为JSON对象的字段")]),n("li",[e._v("元素的属性名转换为JSON对象的一个字段，字段名会加上连字符前缀")]),n("li",[e._v("当元素有属性时元素的内容转换为JSON对象的#text字段")])]),n("el-table",{attrs:{data:e.tableData,border:""}},[n("el-table-column",{attrs:{prop:"xml",label:"XML"}}),n("el-table-column",{attrs:{prop:"json",label:"JSON"}})],1)],1)},i=[],r={name:"xml-info",data:function(){return{tableData:[{xml:'<?xml version="1.0" encoding="utf-8"?>\n<library>\n    <owner>John Doe</owner>\n    <book id="007">James Bond</book>\n    <book id="000">Book for the dummies</book>\n</library>',json:'转换为JSON:\n{\n  "library": {\n    "owner": "John Doe",\n    "book": [\n      {\n        "-id": "007",\n        "#text": "James Bond"\n      },\n      {\n        "-id": "000",\n        "#text": "Book for the dummies"\n      }\n    ]\n  }\n}'},{xml:'<?xml version="1.0" encoding="utf-8"?>\n<library>\n    <owner>John Doe</owner>\n    <date>2021-03-31</date>\n</library>',json:'转换为JSON:\n{\n  "library": {\n    "owner": "John Doe",\n    "date": "2021-03-31"\n  }\n}'},{xml:'<?xml version="1.0" encoding="utf-8"?>\n<library>\n    <book>James Bond</book>\n</library>',json:'默认转换为JSON:\n{\n  "library": { "book": "James Bond" }\n}\n\n可通过指明数组节点路径/library/book转换为JSON:\n{\n  "library": { "book": [“James Bond”] }\n}'}]}},props:{visible:{type:Boolean,default:!1}},methods:{handleClose:function(e){this.$emit("update:visible",!1),e&&e()}}},o=r,s=(n("36a5"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},9277:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("keep-alive",[e.$route.meta.$keepAlive?n("router-view",{staticClass:"avue-view"}):e._e()],1),e.$route.meta.$keepAlive?e._e():n("router-view",{staticClass:"avue-view"})],1)},i=[],r=n("2877"),o={},s=Object(r["a"])(o,a,i,!1,null,null,null);t["default"]=s.exports},9288:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"exec-break"},[n("h3",{staticClass:"header"},[n("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v(e._s(e.title)+"\n    "),n("span",{staticClass:"explain"},[e._v("\n      "+e._s(e.info)+"\n    ")]),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"el-icon-circle-plus-outline add-btn",on:{click:e.add}})]),n("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.conditions.length>0,expression:"conditions.length > 0"}],attrs:{"tab-position":"top",closable:!e.disabled,lazy:"",type:"border-card",size:"small"},on:{"tab-remove":e.remove},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.conditions,(function(t,a){return n("el-tab-pane",{key:t._uuid,attrs:{label:""+e.title+(a+1),name:""+e.title+(a+1)}},[n("compare-form",{ref:"compareForm",refInFor:!0,attrs:{data:t,disabled:e.disabled},on:{emitData:function(t){return e.conditions.splice(a,1,t)}}})],1)})),1),n("avue-empty",{directives:[{name:"show",rawName:"v-show",value:0===e.conditions.length,expression:"conditions.length === 0"}]})],1)},i=[],r=(n("5df3"),n("ac6a"),n("28a5"),n("c5f6"),n("e815")),o={name:"execBreak",components:{compareForm:r["default"]},props:{data:Object,disabled:Boolean,title:String,info:String},data:function(){return{activeTab:"",conditions:[],rules:{},uuid:1}},watch:{data:{deep:!0,immediate:!0,handler:function(e){var t=this;if(0===this.conditions.length&&e.map((function(e){return e._uuid=++t.uuid,e})),this.conditions=Object.assign([],e)||[],this.conditions.length>0){if(this.activeTab){var n=Number(this.activeTab.split(this.title)[1])-1;if(n<this.conditions.length)return}this.activeTab="".concat(this.title).concat(this.conditions.length)}}}},methods:{add:function(){this.conditions.push({_uuid:++this.uuid,type:"condition",desc:"",value1:{type:"",value:""},operator:"",value2:{type:"",value:""}}),this.activeTab="".concat(this.title).concat(this.conditions.length)},remove:function(e){var t=Number(e.split(this.title)[1])-1;this.conditions.splice(t,1),this.conditions.length>0&&this.activeTab&&t+1===Number(this.activeTab.split(this.title)[1])&&(this.activeTab="".concat(this.title).concat(this.conditions.length)),this.emitData()},validate:function(){var e=this;return new Promise((function(t,n){if(e.conditions&&e.conditions.length>0){var a=[];e.$refs.compareForm.forEach((function(e){a.push(e.validate())})),Promise.all(a).then((function(){e.emitData(),t()})).catch((function(){e.$message({showClose:!0,message:"请完善".concat(e.title,"！"),type:"warning"}),n()}))}else t()}))},emitData:function(){this.$emit("update:data",this.conditions),this.$emit("emitData",this.conditions)}}},s=o,l=(n("6093"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"b10afece",null);t["default"]=c.exports},"936b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"api-header"},[e.serviceName?n("el-tag",[e._v("服务["+e._s(e.serviceName)+"]")]):e._e(),e._v(" \n  "),n("b",[e.apiName?n("span",[e._v("["+e._s(e.apiName)+"]")]):e._e(),e._v("\n    "+e._s(e.pageName)+"\n  ")])],1)},i=[],r=(n("7f7f"),{name:"index",props:{serviceName:{type:String,default:""},apiName:{type:String,default:""},pageName:{type:String,default:function(){return this.$route.name||""}}}}),o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,"359ed195",null);t["default"]=l.exports},"93d0":function(e,t){var n="original",a="arrayRows",i="objectRows",r="keyedColumns",o="unknown",s="typedArray",l="column",c="row";t.SOURCE_FORMAT_ORIGINAL=n,t.SOURCE_FORMAT_ARRAY_ROWS=a,t.SOURCE_FORMAT_OBJECT_ROWS=i,t.SOURCE_FORMAT_KEYED_COLUMNS=r,t.SOURCE_FORMAT_UNKNOWN=o,t.SOURCE_FORMAT_TYPED_ARRAY=s,t.SERIES_LAYOUT_BY_COLUMN=l,t.SERIES_LAYOUT_BY_ROW=c},"93ed":function(e,t,n){var a=n("4245");function i(e){var t=a(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},"942a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tabs",{staticClass:"data-params"},[e.hasBody?n("el-tab-pane",{attrs:{label:e.bodyName}},[e.getParamsKeys(e.fixedBody,e.body)>0?n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{attrs:{value:e.getParamsKeys(e.fixedBody,e.body),max:10,type:"success"}},[e._v(" "+e._s(e.bodyName)+" ")])],1):e._e(),e._t("body"),n("params-table",{attrs:{"business-type":e.businessType,fixed:e.fixedBody,quote:e.body,rules:e.bodyRules,"multiple-values":e.multipleValues&&("multipart/form-data"===e.contentType||"application/x-www-form-urlencoded"===e.contentType),disabled:e.disabled},on:{"update:fixed":function(t){e.fixedBody=t},"update:quote":function(t){e.body=t}}})],2):e._e(),e.hasHeader?n("el-tab-pane",{attrs:{label:e.headerName}},[e.getParamsKeys(e.fixedHeaders,e.headers)>0?n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{attrs:{value:e.getParamsKeys(e.fixedHeaders,e.headers),max:10,type:"success"}},[e._v(" "+e._s(e.headerName)+" ")])],1):e._e(),e._t("header"),n("params-table",{attrs:{"business-type":e.businessType,fixed:e.fixedHeaders,quote:e.headers,rules:e.headerRules,"multiple-values":e.multipleValues,disabled:e.disabled},on:{"update:fixed":function(t){e.fixedHeaders=t},"update:quote":function(t){e.headers=t}}})],2):e._e(),e.hasQuery?n("el-tab-pane",{attrs:{label:e.queryName}},[e.getParamsKeys(e.fixedParams,e.params)>0?n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{attrs:{value:e.getParamsKeys(e.fixedParams,e.params),max:10,type:"success"}},[e._v(" "+e._s(e.queryName)+" ")])],1):e._e(),e._t("query"),n("params-table",{attrs:{"business-type":e.businessType,fixed:e.fixedParams,quote:e.params,rules:e.queryRules,"multiple-values":e.multipleValues,disabled:e.disabled},on:{"update:fixed":function(t){e.fixedParams=t},"update:quote":function(t){e.params=t}}})],2):e._e(),e.hasScript?n("el-tab-pane",{attrs:{label:"脚本"}},[e.scriptId?n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{attrs:{"is-dot":"",type:"paimary"}},[e._v("脚本")])],1):e._e(),n("el-form",{ref:"scriptForm",attrs:{model:e.scriptForm,"label-width":"80px",size:"small"}},[n("el-form-item",{attrs:{label:"脚本配置"}},[e.scriptId?n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openScript()}}},[e._v("\n            "+e._s("{ aggregate_config_script_id: "+e.scriptId+" }")+"\n          ")]),n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteScript(e.scriptId)}}},[e._v("\n            删除\n          ")])],1):n("el-button",{attrs:{type:"text",disabled:e.disabled},on:{click:function(t){return e.openScript()}}},[e._v("\n          "+e._s(e.disabled?"无":"新增")+"\n        ")]),n("script-dialog",{attrs:{visible:e.scriptVisible,content:e.scriptContent,"business-type":e.businessType,disabled:e.disabled,id:e.scriptId,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:visible":function(t){e.scriptVisible=t},"update:content":function(t){e.scriptContent=t},"update:id":function(t){e.scriptId=t}}})],1)],1)],1):e._e()],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("83b0"),s=n("2fa9"),l=n("5880");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"data-request",data:function(){return{activeTab:"header",fixedHeaders:{},headers:{},fixedBody:{},body:{},fixedParams:{},params:{},script:{},scriptVisible:!1,scriptId:"",scriptContent:"",others:{}}},props:{data:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},headerName:{type:String,default:"请求头"},bodyName:{type:String,default:"请求体"},queryName:{type:String,default:"Query参数"},headerRules:{type:Object},bodyRules:{type:Object},queryRules:{type:Object},hasHeader:{type:Boolean,default:!0},hasBody:{type:Boolean,default:!0},hasQuery:{type:Boolean,default:!0},hasScript:{type:Boolean,default:!0},businessType:{type:String},isDelWithHttp:{type:Boolean,default:!0},multipleValues:{type:Boolean,default:!1},contentType:{type:String,default:""}},computed:{dataObj:function(){var e=Object.assign({},this.others);return this.hasHeader&&(e.fixedHeaders=this.fixedHeaders,e.headers=this.headers),this.hasBody&&(e.fixedBody=this.fixedBody,e.body=this.body),this.hasQuery&&(e.fixedParams=this.fixedParams,e.params=this.params),this.hasScript&&(e.script=this.scriptId?{aggregate_config_script_id:this.scriptId}:{}),e}},components:{paramsTable:o["default"],scriptDialog:s["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},script:{immediate:!0,deep:!0,handler:function(e){var t=e&&"string"===typeof e?JSON.parse(e):e;this.scriptId=t["aggregate_config_script_id"]||""}},dataObj:{deep:!0,handler:function(){this.emitData()}}},methods:u(u({},Object(l["mapActions"])(["removeScript"])),{},{getParamsKeys:function(e,t){var n=Object.keys(e||{})||[],a=Object.keys(t||{})||[],i=n.concat(a)||[];return i.length},emitData:function(){this.$emit("update:data",this.dataObj)},initData:function(e){var t=this;e=e||this.data||{};var n=e,a=n.fixedHeaders,i=n.headers,r=n.fixedBody,o=n.body,s=n.script,l=n.fixedParams,c=n.params;this.fixedHeaders=a||{},this.headers=i||{},this.fixedBody=r||{},this.body=o||{},this.fixedParams=l||{},this.params=c||{},this.script=s||{},Object.keys(e).forEach((function(n){var a=["fixedHeaders","headers","fixedBody","body","script","fixedParams","params"].some((function(e){return e===n}));a||(t.others[n]=e[n])}))},openScript:function(){this.scriptVisible=!0},deleteScript:function(e){var t=this;this.$confirm("确定删除该脚本?",{type:"warning"}).then((function(){t.isDelScriptWithHttp?t.removeScript(e).then((function(){t.scriptId="",t.$message.success("删除成功")})):(t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),t.scriptId="",t.$message.success("删除成功"))}))}})},p=d,h=(n("a2f9"),n("2877")),f=Object(h["a"])(p,a,i,!1,null,null,null);t["default"]=f.exports},"944e":function(e,t,n){var a=n("3842"),i=a.round;function r(e,t,n,r){var s={},c=e[1]-e[0],u=s.interval=a.nice(c/t,!0);null!=n&&u<n&&(u=s.interval=n),null!=r&&u>r&&(u=s.interval=r);var d=s.intervalPrecision=o(u),p=s.niceTickExtent=[i(Math.ceil(e[0]/u)*u,d),i(Math.floor(e[1]/u)*u,d)];return l(p,e),s}function o(e){return a.getPrecisionSafe(e)+2}function s(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function l(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),s(e,0,t),s(e,1,t),e[0]>e[1]&&(e[0]=e[1])}t.intervalScaleNiceTicks=r,t.getIntervalPrecision=o,t.fixExtent=l},9470:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"codeEditor",style:{height:e.height+"px"}},[n("code-viewer",{attrs:{ctype:e.type,contents:e.content,highlight:e.highlight,options:e.options,"read-only":e.disabled,onChange:e.onChange,dirty:e.dirty,ctrls:e.ctrls},on:{"update:contents":function(t){e.content=t}}})],1)},i=[],r=(n("c5f6"),n("fb4e")),o={name:"CodeEditor",components:{CodeViewer:r["default"]},props:{type:{type:String,default:"javascript"},content:{type:String,default:""},disabled:{type:Boolean,default:!1},height:{type:[Number,String],default:240},highlight:Object,options:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},dirty:{default:!1,type:[Boolean,Number]},ctrls:Boolean},watch:{content:function(e){this.$emit("update:content",e),this.$emit("change",e)}}},s=o,l=(n("dbc0"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"6160ba68",null);t["default"]=c.exports},"950a":function(e,t,n){var a=n("30c9");function i(e,t){return function(n,i){if(null==n)return n;if(!a(n))return e(n,i);var r=n.length,o=t?r:-1,s=Object(n);while(t?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}e.exports=i},9520:function(e,t,n){var a=n("3729"),i=n("1a8c"),r="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function c(e){if(!i(e))return!1;var t=a(e);return t==o||t==s||t==r||t==l}e.exports=c},9542:function(e,t,n){},"955a":function(e,t,n){"use strict";n("38460")},9607:function(e,t,n){"use strict";n("6b32")},9638:function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},9653:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-op-log/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-op-log/detail/").concat(e),method:"get",params:{id:e}})}},9680:function(e,t){function n(e,t,n,a,i,r,o){if(0===i)return!1;var s=i,l=0,c=e;if(o>t+s&&o>a+s||o<t-s&&o<a-s||r>e+s&&r>n+s||r<e-s&&r<n-s)return!1;if(e===n)return Math.abs(r-e)<=s/2;l=(t-a)/(e-n),c=(e*a-n*t)/(e-n);var u=l*r-o+c,d=u*u/(l*l+1);return d<=s/2*s/2}t.containStroke=n},"970c":function(e,t,n){},9765:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,page:e.page,permission:e.permissionList,"before-open":e.beforeOpen},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.client_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("b5c6"),s=n("da71");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/client/list"),method:"get",params:c(c({},n),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/client/detail"),method:"get",params:{id:e}})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/client/remove"),method:"post",params:{ids:e}})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/client/submit"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/client/submit"),method:"post",data:e})},g=n("5880");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,viewBtn:!0,selection:!0,dialogClickModal:!1,column:[{label:"应用id",prop:"clientId",search:!0,rules:[{required:!0,message:"请输入客户端id",trigger:"blur"}]},{label:"应用密钥",prop:"clientSecret",search:!0,rules:[{required:!0,message:"请输入客户端密钥",trigger:"blur"}]},{label:"授权类型",prop:"authorizedGrantTypes",value:"refresh_token,password,authorization_code",rules:[{required:!0,message:"请输入授权类型",trigger:"blur"}]},{label:"授权范围",prop:"scope",value:"all",rules:[{required:!0,message:"请输入授权范围",trigger:"blur"}]},{label:"令牌秒数",prop:"accessTokenValidity",type:"number",value:3600,rules:[{required:!0,message:"请输入令牌过期秒数",trigger:"blur"}]},{label:"刷新秒数",prop:"refreshTokenValidity",type:"number",value:604800,hide:!0,rules:[{required:!0,message:"请输入刷新令牌过期秒数",trigger:"blur"}]},{label:"回调地址",prop:"webServerRedirectUri",hide:!0,rules:[{required:!0,message:"请输入回调地址",trigger:"blur"}]},{label:"资源集合",prop:"resourceIds",hide:!0,rules:[{message:"请输入资源集合",trigger:"blur"}]},{label:"权限",prop:"authorities",hide:!0,rules:[{message:"请输入权限",trigger:"blur"}]},{label:"自动授权",prop:"autoapprove",hide:!0,rules:[{message:"请输入自动授权",trigger:"blur"}]},{label:"附加说明",hide:!0,prop:"additionalInformation",span:24,rules:[{message:"请输入附加说明",trigger:"blur"}]}]},data:[]}},computed:v(v({},Object(g["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.client_add),viewBtn:this.vaildData(this.permission.client_view),delBtn:this.vaildData(this.permission.client_delete),editBtn:this.vaildData(this.permission.client_edit)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;h(e).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;f(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&d(this.form.id).then((function(e){n.form=e.data.data})),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},y=b,x=n("2877"),w=Object(x["a"])(y,a,i,!1,null,null,null);t["default"]=w.exports},"980c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-card",[n("div",{staticClass:"flow-default-header clearfix",attrs:{slot:"header"},slot:"header"},[n("b",[e._v("单机全局规则")]),n("el-button",{attrs:{size:"mini",type:"primary",disabled:e.editing},on:{click:function(t){e.editing=!0}}},[e._v("编辑")])],1),n("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,disabled:!e.editing,size:"small","label-width":"155px"}},[n("el-form-item",{attrs:{label:"全局配置:",prop:"globalEnabled"}},[n("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n          全局配置\n          "),n("el-tooltip",{attrs:{placement:"top-start"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              全局配置对整个节点进行流量控制。"),n("br"),e._v("\n              例如配置 集群共享并发数：2000=1000（单机）* 2，"),n("br"),e._v("\n              当单个节点的所有请求并发数超过 1000 时，会被限流。"),n("br")]),n("i",{staticClass:"el-icon-question"})]),e._v("\n          :\n        ")],1),n("el-checkbox",{model:{value:e.formData.globalEnabled,callback:function(t){e.$set(e.formData,"globalEnabled",t)},expression:"formData.globalEnabled"}},[e._v("启用")])],1),e.formData.globalEnabled?n("div",{staticStyle:{"padding-left":"115px"}},[n("el-form-item",{attrs:{label:"集群共享并发数:",prop:"globalConcurrent"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.globalConcurrent*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.globalConcurrent,callback:function(t){e.$set(e.formData,"globalConcurrent",t)},expression:"formData.globalConcurrent"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),n("el-form-item",{attrs:{label:"集群共享QPS:",prop:"globalQps"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.globalQps*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.globalQps,callback:function(t){e.$set(e.formData,"globalQps",t)},expression:"formData.globalQps"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)])],1):e._e(),n("el-form-item",{attrs:{label:"服务默认配置:",prop:"serviceDefaultEnabled"}},[n("el-checkbox",{model:{value:e.formData.serviceDefaultEnabled,callback:function(t){e.$set(e.formData,"serviceDefaultEnabled",t)},expression:"formData.serviceDefaultEnabled"}},[e._v("启用")])],1),e.formData.serviceDefaultEnabled?n("div",{staticStyle:{"padding-left":"115px"}},[n("el-form-item",{attrs:{label:"集群共享并发数:",prop:"serviceDefaultConcurrent"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.serviceDefaultConcurrent*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.serviceDefaultConcurrent,callback:function(t){e.$set(e.formData,"serviceDefaultConcurrent",t)},expression:"formData.serviceDefaultConcurrent"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),n("el-form-item",{attrs:{label:"集群共享QPS:",prop:"serviceDefaultQps"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.serviceDefaultQps*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.serviceDefaultQps,callback:function(t){e.$set(e.formData,"serviceDefaultQps",t)},expression:"formData.serviceDefaultQps"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)])],1):e._e(),n("el-form-item",{attrs:{label:"appid默认配置:",prop:"appIdDefaultEnabled"}},[n("el-checkbox",{model:{value:e.formData.appIdDefaultEnabled,callback:function(t){e.$set(e.formData,"appIdDefaultEnabled",t)},expression:"formData.appIdDefaultEnabled"}},[e._v("启用")])],1),e.formData.appIdDefaultEnabled?n("div",{staticStyle:{"padding-left":"115px"}},[n("el-form-item",{attrs:{label:"集群共享并发数:",prop:"appIdDefaultConcurrent"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.appIdDefaultConcurrent*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.appIdDefaultConcurrent,callback:function(t){e.$set(e.formData,"appIdDefaultConcurrent",t)},expression:"formData.appIdDefaultConcurrent"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),n("el-form-item",{attrs:{label:"集群共享QPS:",prop:"appIdDefaultQps"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.appIdDefaultQps*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.appIdDefaultQps,callback:function(t){e.$set(e.formData,"appIdDefaultQps",t)},expression:"formData.appIdDefaultQps"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)])],1):e._e(),n("el-form-item",{attrs:{label:"限流响应ContentType:",prop:"responseContentType"}},[n("el-input",{attrs:{placeholder:"请输入ContentType",clearable:""},model:{value:e.formData.responseContentType,callback:function(t){e.$set(e.formData,"responseContentType",t)},expression:"formData.responseContentType"}})],1),n("el-form-item",{attrs:{label:"限流响应报文：",prop:"responseContent"}},[n("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入响应报文",clearable:""},model:{value:e.formData.responseContent,callback:function(t){e.$set(e.formData,"responseContent",t)},expression:"formData.responseContent"}})],1)],1),e.editing?n("footer",[n("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),n("el-button",{attrs:{size:"small"},on:{click:e.cancelForm}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("6be7"),s=n("5880"),l=n("16cd");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"flow-default",data:function(){return{editing:!1,loading:!1,formData:{},data:{},rules:{globalConcurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],globalQps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],serviceDefaultConcurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],serviceDefaultQps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],appIdDefaultConcurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],appIdDefaultQps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}]}}},computed:u(u({},Object(s["mapGetters"])(["permission"])),{},{machineCount:function(){return this.formData.machineCount||0}}),watch:{},created:function(){this.initData()},methods:{getGlobalRule:function(){var e=this;Object(o["b"])().then((function(t){var n=t.data.data;e.data=n||{},e.formData=Object.assign({},n)}))},cancelForm:function(){this.formData=Object.assign({},this.data),this.editing=!1},submitForm:function(){var e=this;this.$refs.formData.validate((function(t){if(t){if(e.formData.globalEnabled&&!e.formData.globalConcurrent&&!e.formData.globalQps)return e.$message.error("全局配置启用时, 需要设置单机QPS或单机并发数"),!1;if(e.formData.serviceDefaultEnabled&&!e.formData.serviceDefaultConcurrent&&!e.formData.serviceDefaultQps)return e.$message.error("服务默认配置启用时, 需要设置单机QPS或单机并发数"),!1;if(e.formData.appIdDefaultEnabled&&!e.formData.appIdDefaultConcurrent&&!e.formData.appIdDefaultQps)return e.$message.error("appID默认配置启用时, 需要设置单机QPS或单机并发数"),!1;var n=Object(l["b"])(e.formData);e.loading=!0,Object(o["c"])(n).then((function(){e.$message({type:"success",message:"保存成功"}),e.initData(),e.loading=!1,e.editing=!1})).catch((function(){e.loading=!1}))}}))},initData:function(){this.getGlobalRule()}}},p=d,h=(n("f72d"),n("2877")),f=Object(h["a"])(p,a,i,!1,null,"eeaacc02",null);t["default"]=f.exports},9850:function(e,t,n){var a=n("401b"),i=n("1687"),r=a.applyTransform,o=Math.min,s=Math.max;function l(e,t,n,a){n<0&&(e+=n,n=-n),a<0&&(t+=a,a=-a),this.x=e,this.y=t,this.width=n,this.height=a}l.prototype={constructor:l,union:function(e){var t=o(e.x,this.x),n=o(e.y,this.y);this.width=s(e.x+e.width,this.x+this.width)-t,this.height=s(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[],n=[],a=[];return function(i){if(i){e[0]=n[0]=this.x,e[1]=a[1]=this.y,t[0]=a[0]=this.x+this.width,t[1]=n[1]=this.y+this.height,r(e,e,i),r(t,t,i),r(n,n,i),r(a,a,i),this.x=o(e[0],t[0],n[0],a[0]),this.y=o(e[1],t[1],n[1],a[1]);var l=s(e[0],t[0],n[0],a[0]),c=s(e[1],t[1],n[1],a[1]);this.width=l-this.x,this.height=c-this.y}}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,a=e.height/t.height,r=i.create();return i.translate(r,r,[-t.x,-t.y]),i.scale(r,r,[n,a]),i.translate(r,r,[e.x,e.y]),r},intersect:function(e){if(!e)return!1;e instanceof l||(e=l.create(e));var t=this,n=t.x,a=t.x+t.width,i=t.y,r=t.y+t.height,o=e.x,s=e.x+e.width,c=e.y,u=e.y+e.height;return!(a<o||s<n||r<c||u<i)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new l(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},l.create=function(e){return new l(e.x,e.y,e.width,e.height)};var c=l;e.exports=c},"98b7":function(e,t){var n="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)};e.exports=n},"98f3":function(e,t,n){},9934:function(e,t,n){var a=n("6fcd"),i=n("41c3"),r=n("30c9");function o(e){return r(e)?a(e,!0):i(e)}e.exports=o},"998c":function(e,t,n){var a=n("6d8b"),i=n("2306"),r=n("e86a"),o=Math.PI;function s(e,t){t=t||{},a.defaults(t,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new i.Group,s=new i.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(s);var l=t.fontSize+" sans-serif",c=new i.Rect({style:{fill:"none",text:t.text,font:l,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(n.add(c),t.showSpinner){var u=new i.Arc({shape:{startAngle:-o/2,endAngle:-o/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});u.animateShape(!0).when(1e3,{endAngle:3*o/2}).start("circularInOut"),u.animateShape(!0).when(1e3,{startAngle:3*o/2}).delay(300).start("circularInOut"),n.add(u)}return n.resize=function(){var n=r.getWidth(t.text,l),a=t.showSpinner?t.spinnerRadius:0,i=(e.getWidth()-2*a-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner?0:n/2),o=e.getHeight()/2;t.showSpinner&&u.setShape({cx:i,cy:o}),c.setShape({x:i-a,y:o-a,width:2*a,height:2*a}),s.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}e.exports=s},"99cd":function(e,t){function n(e){return function(t,n,a){var i=-1,r=Object(t),o=a(t),s=o.length;while(s--){var l=o[e?s:++i];if(!1===n(r[l],l,r))break}return t}}e.exports=n},"99d3":function(e,t,n){(function(e){var a=n("585a"),i=t&&!t.nodeType&&t,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===i,s=o&&a.process,l=function(){try{var e=r&&r.require&&r.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=l}).call(this,n("62e4")(e))},"9aa2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",{staticClass:"aggregate-operation-log"},[n("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"opType",fn:function(t){var n=t.row;t.size;return[e._v("\n      "+e._s(e.getOperateStateName(n.opType))+"\n    ")]}},{key:"menu",fn:function(t){var a=t.row,i=t.type,r=t.size;return[n("el-button",{attrs:{icon:"el-icon-view",size:r,type:i},on:{click:function(t){return e.rowView(a)}}},[e._v("查看\n      ")])]}}])})],1)},i=[],r=(n("7514"),n("9653")),o=[{label:"新增",value:0},{label:"修改",value:1},{label:"发布",value:2},{label:"下线",value:3},{label:"回滚",value:4},{label:"删除",value:5}],s={name:"operation-log",data:function(){return{query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{menuWidth:80,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"所属服务",prop:"serviceName",search:!0},{label:"接口名",prop:"name",search:!0},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120,search:!0},{label:"操作人",prop:"opBy"},{label:"类型",prop:"opType",slot:!0,width:80,search:!0,type:"select",dicData:o},{label:"操作时间",prop:"opTime",searchRange:!0,search:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"版本号",prop:"version",width:80}]},data:[]}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{getOperateStateName:function(e){var t=o.find((function(t){return parseInt(t.value)===e}));return t&&t.label||e||"-"},rowView:function(e){e.id?this.$router.push({path:"/aggregate/logDetail",query:{originId:e.id}}):this.$message.error("数据缺失，无法操作！")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.opTime&&e.opTime.length>0&&(e.opTimeStart=e.opTime[0],e.opTimeEnd=e.opTime[1],delete e.opTime),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(r["b"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},l=s,c=n("2877"),u=Object(c["a"])(l,a,i,!1,null,"908c7270",null);t["default"]=u.exports},"9aff":function(e,t,n){var a=n("9638"),i=n("30c9"),r=n("c098"),o=n("1a8c");function s(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&r(t,n.length):"string"==s&&t in n)&&a(n[t],e)}e.exports=s},"9b06":function(e,t,n){"use strict";n("192e")},"9b42":function(e,t){function n(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(r.push(a.value),t&&r.length===t)break}catch(l){s=!0,i=l}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return r}}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"9b51":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"api-header"},[e.groupName?n("el-tag",[e._v("网关分组[ "+e._s(e.groupName)+" ]")]):e._e(),e._v(" \n  "),e.serviceName?n("el-tag",[e._v("服务[ "+e._s(e.serviceName)+" ]")]):e._e(),e._v(" \n  "),n("b",[e._v(e._s(e.pageName))])],1)},i=[],r=(n("7f7f"),{name:"index",props:{serviceName:{type:String,default:""},groupName:{type:String,default:""},pageName:{type:String,default:function(){return this.$route.name||""}}}}),o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,"7c207ce7",null);t["default"]=l.exports},"9b9b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"affix"},[n("avue-affix",{attrs:{id:"avue-view"}},[n("span",{staticClass:"affix-affix"},[e._v("固定在最顶部")])]),n("div",{staticClass:"affix-line"}),n("avue-affix",{attrs:{id:"avue-view","offset-top":50}},[n("span",{staticClass:"affix-affix"},[e._v("固定在距离顶部 50px 的位置")])]),n("div",{staticClass:"affix-line"}),n("avue-affix",{attrs:{id:"avue-view","offset-top":100}},[n("span",{staticClass:"affix-affix"},[e._v("固定在距离顶部 100px 的位置")])]),n("div",{staticClass:"affix-line"}),n("avue-affix",{attrs:{id:"avue-view","offset-top":150}},[n("span",{staticClass:"affix-affix"},[e._v("固定在距离顶部 150px 的位置")])]),e._m(0)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"2000px"}},[n("div",{staticStyle:{padding:"15px 20px","font-size":"18px"}},[e._v("往下拉就会出现图钉")])])}],r={},o=r,s=(n("c12c"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"71109a1e",null);t["default"]=l.exports},"9ba8":function(e,t,n){},"9bda":function(e,t,n){"use strict";n("5344")},"9bdb":function(e,t,n){var a=n("282b"),i=a([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),r={getAreaStyle:function(e,t){return i(this,e,t)}};e.exports=r},"9c2c":function(e,t,n){var a=n("401b"),i=a.min,r=a.max,o=a.scale,s=a.distance,l=a.add,c=a.clone,u=a.sub;function d(e,t,n,a){var d,p,h,f,g=[],m=[],v=[],b=[];if(a){h=[1/0,1/0],f=[-1/0,-1/0];for(var y=0,x=e.length;y<x;y++)i(h,h,e[y]),r(f,f,e[y]);i(h,h,a[0]),r(f,f,a[1])}for(y=0,x=e.length;y<x;y++){var w=e[y];if(n)d=e[y?y-1:x-1],p=e[(y+1)%x];else{if(0===y||y===x-1){g.push(c(e[y]));continue}d=e[y-1],p=e[y+1]}u(m,p,d),o(m,m,t);var _=s(w,d),O=s(w,p),D=_+O;0!==D&&(_/=D,O/=D),o(v,m,-_),o(b,m,O);var C=l([],w,v),S=l([],w,b);a&&(r(C,C,h),i(C,C,f),r(S,S,h),i(S,S,f)),g.push(C),g.push(S)}return n&&g.push(g.shift()),g}e.exports=d},"9cf9":function(e,t){var n=Math.round;function a(e,t,a){if(t){var i=t.x1,o=t.x2,s=t.y1,l=t.y2;e.x1=i,e.x2=o,e.y1=s,e.y2=l;var c=a&&a.lineWidth;c&&(n(2*i)===n(2*o)&&(e.x1=e.x2=r(i,c,!0)),n(2*s)===n(2*l)&&(e.y1=e.y2=r(s,c,!0)))}}function i(e,t,n){if(t){var a=t.x,i=t.y,o=t.width,s=t.height;e.x=a,e.y=i,e.width=o,e.height=s;var l=n&&n.lineWidth;l&&(e.x=r(a,l,!0),e.y=r(i,l,!0),e.width=Math.max(r(a+o,l,!1)-e.x,0===o?0:1),e.height=Math.max(r(i+s,l,!1)-e.y,0===s?0:1))}}function r(e,t,a){if(!t)return e;var i=n(2*e);return(i+n(t))%2===0?i/2:(i+(a?1:-1))/2}t.subPixelOptimizeLine=a,t.subPixelOptimizeRect=i,t.subPixelOptimize=r},"9d57":function(e,t,n){var a=n("6d8b"),i=n("3842"),r=i.parsePercent,o=n("ee1a"),s=o.isDimensionStacked,l=n("cccd"),c="__ec_stack_",u=.5,d="undefined"!==typeof Float32Array?Float32Array:Array;function p(e){return e.get("stack")||c+e.seriesIndex}function h(e){return e.dim+e.index}function f(e){var t=[],n=e.axis,i="axis0";if("category"===n.type){for(var r=n.getBandWidth(),o=0;o<e.count;o++)t.push(a.defaults({bandWidth:r,axisKey:i,stackId:c+o},e));var s=b(t),l=[];for(o=0;o<e.count;o++){var u=s[i][c+o];u.offsetCenter=u.offset+u.width/2,l.push(u)}return l}}function g(e,t){var n=[];return t.eachSeriesByType(e,(function(e){_(e)&&!O(e)&&n.push(e)})),n}function m(e){var t={};a.each(e,(function(e){var n=e.coordinateSystem,a=n.getBaseAxis();if("time"===a.type||"value"===a.type)for(var i=e.getData(),r=a.dim+"_"+a.index,o=i.mapDimension(a.dim),s=0,l=i.count();s<l;++s){var c=i.get(o,s);t[r]?t[r].push(c):t[r]=[c]}}));var n=[];for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r){r.sort((function(e,t){return e-t}));for(var o=null,s=1;s<r.length;++s){var l=r[s]-r[s-1];l>0&&(o=null===o?l:Math.min(o,l))}n[i]=o}}return n}function v(e){var t=m(e),n=[];return a.each(e,(function(e){var a,i=e.coordinateSystem,o=i.getBaseAxis(),s=o.getExtent();if("category"===o.type)a=o.getBandWidth();else if("value"===o.type||"time"===o.type){var l=o.dim+"_"+o.index,c=t[l],u=Math.abs(s[1]-s[0]),d=o.scale.getExtent(),f=Math.abs(d[1]-d[0]);a=c?u/f*c:u}else{var g=e.getData();a=Math.abs(s[1]-s[0])/g.count()}var m=r(e.get("barWidth"),a),v=r(e.get("barMaxWidth"),a),b=r(e.get("barMinWidth")||1,a),y=e.get("barGap"),x=e.get("barCategoryGap");n.push({bandWidth:a,barWidth:m,barMaxWidth:v,barMinWidth:b,barGap:y,barCategoryGap:x,axisKey:h(o),stackId:p(e)})})),b(n)}function b(e){var t={};a.each(e,(function(e,n){var a=e.axisKey,i=e.bandWidth,r=t[a]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=r.stacks;t[a]=r;var s=e.stackId;o[s]||r.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var l=e.barWidth;l&&!o[s].width&&(o[s].width=l,l=Math.min(r.remainedWidth,l),r.remainedWidth-=l);var c=e.barMaxWidth;c&&(o[s].maxWidth=c);var u=e.barMinWidth;u&&(o[s].minWidth=u);var d=e.barGap;null!=d&&(r.gap=d);var p=e.barCategoryGap;null!=p&&(r.categoryGap=p)}));var n={};return a.each(t,(function(e,t){n[t]={};var i=e.stacks,o=e.bandWidth,s=r(e.categoryGap,o),l=r(e.gap,1),c=e.remainedWidth,u=e.autoWidthCount,d=(c-s)/(u+(u-1)*l);d=Math.max(d,0),a.each(i,(function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){a=e.width;t&&(a=Math.min(a,t)),n&&(a=Math.max(a,n)),e.width=a,c-=a+l*a,u--}else{var a=d;t&&t<a&&(a=Math.min(t,c)),n&&n>a&&(a=n),a!==d&&(e.width=a,c-=a+l*a,u--)}})),d=(c-s)/(u+(u-1)*l),d=Math.max(d,0);var p,h=0;a.each(i,(function(e,t){e.width||(e.width=d),p=e,h+=e.width*(1+l)})),p&&(h-=p.width*l);var f=-h/2;a.each(i,(function(e,a){n[t][a]=n[t][a]||{bandWidth:o,offset:f,width:e.width},f+=e.width*(1+l)}))})),n}function y(e,t,n){if(e&&t){var a=e[h(t)];return null!=a&&null!=n&&(a=a[p(n)]),a}}function x(e,t){var n=g(e,t),i=v(n),r={},o={};a.each(n,(function(e){var t=e.getData(),n=e.coordinateSystem,a=n.getBaseAxis(),l=p(e),c=i[h(a)][l],u=c.offset,d=c.width,f=n.getOtherAxis(a),g=e.get("barMinHeight")||0;r[l]=r[l]||[],o[l]=o[l]||[],t.setLayout({bandWidth:c.bandWidth,offset:u,size:d});for(var m=t.mapDimension(f.dim),v=t.mapDimension(a.dim),b=s(t,m),y=f.isHorizontal(),x=D(a,f,b),w=0,_=t.count();w<_;w++){var O,C,S,k,T=t.get(m,w),P=t.get(v,w),j=T>=0?"p":"n",I=x;if(b&&(r[l][P]||(r[l][P]={p:x,n:x}),I=r[l][P][j]),y){var L=n.dataToPoint([T,P]);O=I,C=L[1]+u,S=L[0]-x,k=d,Math.abs(S)<g&&(S=(S<0?-1:1)*g),isNaN(S)||b&&(r[l][P][j]+=S)}else{L=n.dataToPoint([P,T]);O=L[0]+u,C=I,S=d,k=L[1]-x,Math.abs(k)<g&&(k=(k<=0?-1:1)*g),isNaN(k)||b&&(r[l][P][j]+=k)}t.setItemLayout(w,{x:O,y:C,width:S,height:k})}}),this)}var w={seriesType:"bar",plan:l(),reset:function(e){if(_(e)&&O(e)){var t=e.getData(),n=e.coordinateSystem,a=n.grid.getRect(),i=n.getBaseAxis(),r=n.getOtherAxis(i),o=t.mapDimension(r.dim),s=t.mapDimension(i.dim),l=r.isHorizontal(),c=l?0:1,p=y(v([e]),i,e).width;return p>u||(p=u),{progress:h}}function h(e,t){var u,h=e.count,f=new d(2*h),g=new d(2*h),m=new d(h),v=[],b=[],y=0,x=0;while(null!=(u=e.next()))b[c]=t.get(o,u),b[1-c]=t.get(s,u),v=n.dataToPoint(b,null,v),g[y]=l?a.x+a.width:v[0],f[y++]=v[0],g[y]=l?v[1]:a.y+a.height,f[y++]=v[1],m[x++]=u;t.setLayout({largePoints:f,largeDataIndices:m,largeBackgroundPoints:g,barWidth:p,valueAxisStart:D(i,r,!1),backgroundStart:l?a.x:a.y,valueAxisHorizontal:l})}}};function _(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function O(e){return e.pipelineContext&&e.pipelineContext.large}function D(e,t,n){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}t.getLayoutOnAxis=f,t.prepareLayoutBarSeries=g,t.makeColumnLayout=v,t.retrieveColumnLayout=y,t.layout=x,t.largeLayout=w},"9e2e":function(e,t,n){var a=n("a73c"),i=n("9850"),r=n("82eb"),o=r.WILL_BE_RESTORED,s=new i,l=function(){};l.prototype={constructor:l,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&a.normalizeTextStyle(n,!0);var i=n.text;if(null!=i&&(i+=""),a.needDrawText(i,n)){e.save();var r=this.transform;n.transformText?this.setTransform(e):r&&(s.copy(t),s.applyTransform(r),t=s),a.renderText(this,e,i,n,t,o),e.restore()}}};var c=l;e.exports=c},"9e47":function(e,t,n){var a=n("6d8b"),i=n("71ad"),r=n("6cb7"),o=n("f934"),s=o.getLayoutParams,l=o.mergeLayoutParam,c=n("8e43"),u=["value","category","time","log"];function d(e,t,n,o){a.each(u,(function(r){t.extend({type:e+"Axis."+r,mergeDefaultAndTheme:function(t,i){var o=this.layoutMode,c=o?s(t):{},u=i.getTheme();a.merge(t,u.get(r+"Axis")),a.merge(t,this.getDefaultOption()),t.type=n(e,t),o&&l(t,c,o)},optionUpdated:function(){var e=this.option;"category"===e.type&&(this.__ordinalMeta=c.createByAxisModel(this))},getCategories:function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:a.mergeAll([{},i[r+"Axis"],o],!0)})})),r.registerSubTypeDefaulter(e+"Axis",a.curry(n,e))}e.exports=d},"9f51":function(e,t,n){var a=n("857d"),i=a.normalizeRadian,r=2*Math.PI;function o(e,t,n,a,o,s,l,c,u){if(0===l)return!1;var d=l;c-=e,u-=t;var p=Math.sqrt(c*c+u*u);if(p-d>n||p+d<n)return!1;if(Math.abs(a-o)%r<1e-4)return!0;if(s){var h=a;a=i(o),o=i(h)}else a=i(a),o=i(o);a>o&&(o+=r);var f=Math.atan2(u,c);return f<0&&(f+=r),f>=a&&f<=o||f+r>=a&&f+r<=o}t.containStroke=o},"9f82":function(e,t,n){var a=n("ee1a"),i=a.isDimensionStacked,r=n("6d8b"),o=r.map;function s(e,t,n){var a,r=e.getBaseAxis(),s=e.getOtherAxis(r),c=l(s,n),u=r.dim,d=s.dim,p=t.mapDimension(d),h=t.mapDimension(u),f="x"===d||"radius"===d?1:0,g=o(e.dimensions,(function(e){return t.mapDimension(e)})),m=t.getCalculationInfo("stackResultDimension");return(a|=i(t,g[0]))&&(g[0]=m),(a|=i(t,g[1]))&&(g[1]=m),{dataDimsForPoint:g,valueStart:c,valueAxisDim:d,baseAxisDim:u,stacked:!!a,valueDim:p,baseDim:h,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function l(e,t){var n=0,a=e.scale.getExtent();return"start"===t?n=a[0]:"end"===t?n=a[1]:a[0]>0?n=a[0]:a[1]<0&&(n=a[1]),n}function c(e,t,n,a){var i=NaN;e.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),a)),isNaN(i)&&(i=e.valueStart);var r=e.baseDataOffset,o=[];return o[r]=n.get(e.baseDim,a),o[1-r]=i,t.dataToPoint(o)}t.prepareDataCoordInfo=s,t.getStackedOnPoint=c},a029:function(e,t,n){var a=n("087d"),i=n("2dcb"),r=n("32f4"),o=n("d327"),s=Object.getOwnPropertySymbols,l=s?function(e){var t=[];while(e)a(t,r(e)),e=i(e);return t}:o;e.exports=l},a0ad:function(e,t,n){"use strict";n("9145")},a15a:function(e,t,n){var a=n("6d8b"),i=n("2306"),r=n("9850"),o=n("e86a"),s=o.calculateTextPosition,l=i.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,a=t.cy,i=t.width/2,r=t.height/2;e.moveTo(n,a-r),e.lineTo(n+i,a+r),e.lineTo(n-i,a+r),e.closePath()}}),c=i.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,a=t.cy,i=t.width/2,r=t.height/2;e.moveTo(n,a-r),e.lineTo(n+i,a),e.lineTo(n,a+r),e.lineTo(n-i,a),e.closePath()}}),u=i.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,a=t.y,i=t.width/5*3,r=Math.max(i,t.height),o=i/2,s=o*o/(r-o),l=a-r+o+s,c=Math.asin(s/o),u=Math.cos(c)*o,d=Math.sin(c),p=Math.cos(c),h=.6*o,f=.7*o;e.moveTo(n-u,l+s),e.arc(n,l,o,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(n+u-d*h,l+s+p*h,n,a-f,n,a),e.bezierCurveTo(n,a-f,n-u+d*h,l+s+p*h,n-u,l+s),e.closePath()}}),d=i.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,a=t.width,i=t.x,r=t.y,o=a/3*2;e.moveTo(i,r),e.lineTo(i+o,r+n),e.lineTo(i,r+n/4*3),e.lineTo(i-o,r+n),e.lineTo(i,r),e.closePath()}}),p={line:i.Line,rect:i.Rect,roundRect:i.Rect,square:i.Rect,circle:i.Circle,diamond:c,pin:u,arrow:d,triangle:l},h={line:function(e,t,n,a,i){i.x1=e,i.y1=t+a/2,i.x2=e+n,i.y2=t+a/2},rect:function(e,t,n,a,i){i.x=e,i.y=t,i.width=n,i.height=a},roundRect:function(e,t,n,a,i){i.x=e,i.y=t,i.width=n,i.height=a,i.r=Math.min(n,a)/4},square:function(e,t,n,a,i){var r=Math.min(n,a);i.x=e,i.y=t,i.width=r,i.height=r},circle:function(e,t,n,a,i){i.cx=e+n/2,i.cy=t+a/2,i.r=Math.min(n,a)/2},diamond:function(e,t,n,a,i){i.cx=e+n/2,i.cy=t+a/2,i.width=n,i.height=a},pin:function(e,t,n,a,i){i.x=e+n/2,i.y=t+a/2,i.width=n,i.height=a},arrow:function(e,t,n,a,i){i.x=e+n/2,i.y=t+a/2,i.width=n,i.height=a},triangle:function(e,t,n,a,i){i.cx=e+n/2,i.cy=t+a/2,i.width=n,i.height=a}},f={};a.each(p,(function(e,t){f[t]=new e}));var g=i.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var a=s(e,t,n),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===t.textPosition&&(a.y=n.y+.4*n.height),a},buildPath:function(e,t,n){var a=t.symbolType;if("none"!==a){var i=f[a];i||(a="rect",i=f[a]),h[a](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n)}}});function m(e,t){if("image"!==this.type){var n=this.style,a=this.shape;a&&"line"===a.symbolType?n.stroke=e:this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff"):(n.fill&&(n.fill=e),n.stroke&&(n.stroke=e)),this.dirty(!1)}}function v(e,t,n,a,o,s,l){var c,u=0===e.indexOf("empty");return u&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),c=0===e.indexOf("image://")?i.makeImage(e.slice(8),new r(t,n,a,o),l?"center":"cover"):0===e.indexOf("path://")?i.makePath(e.slice(7),{},new r(t,n,a,o),l?"center":"cover"):new g({shape:{symbolType:e,x:t,y:n,width:a,height:o}}),c.__isEmptyBrush=u,c.setColor=m,c.setColor(s),c}t.createSymbol=v},a1d3:function(e,t,n){"use strict";n("429e")},a2db:function(e,t,n){var a=n("9e69"),i=a?a.prototype:void 0,r=i?i.valueOf:void 0;function o(e){return r?Object(r.call(e)):{}}e.exports=o},a2f9:function(e,t,n){"use strict";n("7c76")},a34a:function(e,t,n){e.exports=n("96cf")},a454:function(e,t,n){var a=n("72f0"),i=n("3b4a"),r=n("cd9d"),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:r;e.exports=o},a50b:function(e,t,n){"use strict";n("e17c")},a524:function(e,t,n){var a=n("4245");function i(e){return a(this,e).has(e)}e.exports=i},a597:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v(e._s(e.$route.query.id?"编辑":"新增"))]),n("avue-form",{attrs:{option:e.option},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuForm"},[n("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(t){return e.handleBack()}}},[e._v("返 回")])],1)],2)],1)},i=[],r={data:function(){return{form:{},option:{labelWidth:110,column:[{label:"姓名",prop:"name"}]}}},methods:{handleBack:function(){this.$router.$avueRouter.closeTag(),this.$router.back()}}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},a5f3:function(e,t,n){},a5fa:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error-page"},[n("div",{staticClass:"img",staticStyle:{"background-image":"url('/img/bg/404.svg')"}}),n("div",{staticClass:"content"},[n("h1",[e._v("404")]),n("div",{staticClass:"desc"},[e._v("抱歉，你访问的页面不存在")]),n("div",{staticClass:"actions"},[n("router-link",{attrs:{to:{path:"/"}}},[n("el-button",{attrs:{type:"primary"}},[e._v("返回首页")])],1)],1)])])},i=[],r={name:"error-404"},o=r,s=(n("dc15"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"5e9f17e3",null);t["default"]=l.exports},a73c:function(e,t,n){var a=n("6d8b"),i=a.retrieve2,r=a.retrieve3,o=a.each,s=a.normalizeCssArray,l=a.isString,c=a.isObject,u=n("e86a"),d=n("5693"),p=n("5e76"),h=n("7d6d"),f=n("82eb"),g=f.ContextCachedBy,m=f.WILL_BE_RESTORED,v=u.DEFAULT_FONT,b={left:1,right:1,center:1},y={top:1,bottom:1,middle:1},x=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],w={},_={};function O(e){return D(e),o(e.rich,D),e}function D(e){if(e){e.font=u.makeFont(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||b[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;"center"===n&&(n="middle"),e.textVerticalAlign=null==n||y[n]?n:"top";var a=e.textPadding;a&&(e.textPadding=s(e.textPadding))}}function C(e,t,n,a,i,r){a.rich?k(e,t,n,a,i,r):S(e,t,n,a,i,r)}function S(e,t,n,a,i,r){"use strict";var o,s=I(a),l=!1,c=t.__attrCachedBy===g.PLAIN_TEXT;r!==m?(r&&(o=r.style,l=!s&&c&&o),t.__attrCachedBy=s?g.NONE:g.PLAIN_TEXT):c&&(t.__attrCachedBy=g.NONE);var d=a.font||v;l&&d===(o.font||v)||(t.font=d);var p=e.__computedFont;e.__styleFont!==d&&(e.__styleFont=d,p=e.__computedFont=t.font);var f=a.textPadding,b=a.textLineHeight,y=e.__textCotentBlock;y&&!e.__dirtyText||(y=e.__textCotentBlock=u.parsePlainText(n,p,f,b,a.truncate));var w=y.outerHeight,O=y.lines,D=y.lineHeight,C=A(_,e,a,i),S=C.baseX,k=C.baseY,T=C.textAlign||"left",j=C.textVerticalAlign;P(t,a,i,S,k);var M=u.adjustTextY(k,w,j),E=S,F=M;if(s||f){var $=u.getWidth(n,p),q=$;f&&(q+=f[1]+f[3]);var N=u.adjustTextX(S,q,T);s&&L(e,t,a,N,M,q,w),f&&(E=B(S,T,f),F+=f[0])}t.textAlign=T,t.textBaseline="middle",t.globalAlpha=a.opacity||1;for(var H=0;H<x.length;H++){var V=x[H],U=V[0],G=V[1],W=a[U];l&&W===o[U]||(t[G]=h(t,G,W||V[2]))}F+=D/2;var J=a.textStrokeWidth,Y=l?o.textStrokeWidth:null,X=!l||J!==Y,Q=!l||X||a.textStroke!==o.textStroke,K=z(a.textStroke,J),Z=R(a.textFill);if(K&&(X&&(t.lineWidth=J),Q&&(t.strokeStyle=K)),Z&&(l&&a.textFill===o.textFill||(t.fillStyle=Z)),1===O.length)K&&t.strokeText(O[0],E,F),Z&&t.fillText(O[0],E,F);else for(H=0;H<O.length;H++)K&&t.strokeText(O[H],E,F),Z&&t.fillText(O[H],E,F),F+=D}function k(e,t,n,a,i,r){r!==m&&(t.__attrCachedBy=g.NONE);var o=e.__textCotentBlock;o&&!e.__dirtyText||(o=e.__textCotentBlock=u.parseRichText(n,a)),T(e,t,o,a,i)}function T(e,t,n,a,i){var r=n.width,o=n.outerWidth,s=n.outerHeight,l=a.textPadding,c=A(_,e,a,i),d=c.baseX,p=c.baseY,h=c.textAlign,f=c.textVerticalAlign;P(t,a,i,d,p);var g=u.adjustTextX(d,o,h),m=u.adjustTextY(p,s,f),v=g,b=m;l&&(v+=l[3],b+=l[0]);var y=v+r;I(a)&&L(e,t,a,g,m,o,s);for(var x=0;x<n.lines.length;x++){var w,O=n.lines[x],D=O.tokens,C=D.length,S=O.lineHeight,k=O.width,T=0,M=v,E=y,z=C-1;while(T<C&&(w=D[T],!w.textAlign||"left"===w.textAlign))j(e,t,w,a,S,b,M,"left"),k-=w.width,M+=w.width,T++;while(z>=0&&(w=D[z],"right"===w.textAlign))j(e,t,w,a,S,b,E,"right"),k-=w.width,E-=w.width,z--;M+=(r-(M-v)-(y-E)-k)/2;while(T<=z)w=D[T],j(e,t,w,a,S,b,M+w.width/2,"center"),M+=w.width,T++;b+=S}}function P(e,t,n,a,i){if(n&&t.textRotation){var r=t.textOrigin;"center"===r?(a=n.width/2+n.x,i=n.height/2+n.y):r&&(a=r[0]+n.x,i=r[1]+n.y),e.translate(a,i),e.rotate(-t.textRotation),e.translate(-a,-i)}}function j(e,t,n,a,o,s,l,c){var u=a.rich[n.styleName]||{};u.text=n.text;var d=n.textVerticalAlign,p=s+o/2;"top"===d?p=s+n.height/2:"bottom"===d&&(p=s+o-n.height/2),!n.isLineHolder&&I(u)&&L(e,t,u,"right"===c?l-n.width:"center"===c?l-n.width/2:l,p-n.height/2,n.width,n.height);var h=n.textPadding;h&&(l=B(l,c,h),p-=n.height/2-h[2]-n.textHeight/2),E(t,"shadowBlur",r(u.textShadowBlur,a.textShadowBlur,0)),E(t,"shadowColor",u.textShadowColor||a.textShadowColor||"transparent"),E(t,"shadowOffsetX",r(u.textShadowOffsetX,a.textShadowOffsetX,0)),E(t,"shadowOffsetY",r(u.textShadowOffsetY,a.textShadowOffsetY,0)),E(t,"textAlign",c),E(t,"textBaseline","middle"),E(t,"font",n.font||v);var f=z(u.textStroke||a.textStroke,m),g=R(u.textFill||a.textFill),m=i(u.textStrokeWidth,a.textStrokeWidth);f&&(E(t,"lineWidth",m),E(t,"strokeStyle",f),t.strokeText(n.text,l,p)),g&&(E(t,"fillStyle",g),t.fillText(n.text,l,p))}function I(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function L(e,t,n,a,i,r,o){var s=n.textBackgroundColor,u=n.textBorderWidth,h=n.textBorderColor,f=l(s);if(E(t,"shadowBlur",n.textBoxShadowBlur||0),E(t,"shadowColor",n.textBoxShadowColor||"transparent"),E(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),E(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),f||u&&h){t.beginPath();var g=n.textBorderRadius;g?d.buildPath(t,{x:a,y:i,width:r,height:o,r:g}):t.rect(a,i,r,o),t.closePath()}if(f)if(E(t,"fillStyle",s),null!=n.fillOpacity){var m=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,t.fill(),t.globalAlpha=m}else t.fill();else if(c(s)){var v=s.image;v=p.createOrUpdateImage(v,null,e,M,s),v&&p.isImageReady(v)&&t.drawImage(v,a,i,r,o)}if(u&&h)if(E(t,"lineWidth",u),E(t,"strokeStyle",h),null!=n.strokeOpacity){m=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,t.stroke(),t.globalAlpha=m}else t.stroke()}function M(e,t){t.image=e}function A(e,t,n,a){var i=n.x||0,r=n.y||0,o=n.textAlign,s=n.textVerticalAlign;if(a){var l=n.textPosition;if(l instanceof Array)i=a.x+F(l[0],a.width),r=a.y+F(l[1],a.height);else{var c=t&&t.calculateTextPosition?t.calculateTextPosition(w,n,a):u.calculateTextPosition(w,n,a);i=c.x,r=c.y,o=o||c.textAlign,s=s||c.textVerticalAlign}var d=n.textOffset;d&&(i+=d[0],r+=d[1])}return e=e||{},e.baseX=i,e.baseY=r,e.textAlign=o,e.textVerticalAlign=s,e}function E(e,t,n){return e[t]=h(e,t,n),e[t]}function z(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function R(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function F(e,t){return"string"===typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function B(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function $(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}t.normalizeTextStyle=O,t.renderText=C,t.getBoxPosition=A,t.getStroke=z,t.getFill=R,t.parsePercent=F,t.needDrawText=$},a8d0d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error-page"},[n("div",{staticClass:"img",staticStyle:{"background-image":"url('/img/bg/403.svg')"}}),n("div",{staticClass:"content"},[n("h1",[e._v("403")]),n("div",{staticClass:"desc"},[e._v("抱歉，你无权访问该页面")]),n("div",{staticClass:"actions"},[n("router-link",{attrs:{to:{path:"/"}}},[n("el-button",{attrs:{type:"primary"}},[e._v("返回首页")])],1)],1)])])},i=[],r={name:"error-403"},o=r,s=(n("6580"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"2be0fc08",null);t["default"]=l.exports},a919:function(e,t,n){var a=n("ddc6"),i={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},r=a(i);e.exports=r},a945:function(e,t,n){},a96b:function(e,t,n){var a=n("3eba"),i=a.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});e.exports=i},a994:function(e,t,n){var a=n("7d1f"),i=n("32f4"),r=n("ec69");function o(e){return a(e,r,i)}e.exports=o},ab05:function(e,t,n){var a=n("3eba"),i=n("6d8b"),r=n("2b8c"),o=n("5f14"),s=a.PRIORITY.VISUAL.COMPONENT;function l(e,t,n,a){for(var i=t.targetVisuals[a],r=o.prepareVisualTypes(i),s={color:e.getData().getVisual("color")},l=0,c=r.length;l<c;l++){var u=r[l],d=i["opacity"===u?"__alphaForOpacity":u];d&&d.applyVisual(n,p,h)}return s.color;function p(e){return s[e]}function h(e,t){s[e]=t}}a.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",(function(t){var a=e.pipelineContext;!t.isTargetSeries(e)||a&&a.large||n.push(r.incrementalApplyVisual(t.stateList,t.targetVisuals,i.bind(t.getValueState,t),t.getDataDimension(e.getData())))})),n}}),a.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),a=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var r=t.getVisualMeta(i.bind(l,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimension(n),s=n.getDimensionInfo(o);null!=s&&(r.dimension=s.index,a.push(r))}})),e.getData().setVisual("visualMeta",a)}})},ab5c:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[e._v("测试页")])],1)},i=[],r={name:"wel",data:function(){return{}},computed:{},created:function(){},methods:{}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,"1f96fafa",null);t["default"]=l.exports},ac0f:function(e,t,n){var a=n("cbe5"),i=n("401b"),r=n("4a3f"),o=r.quadraticSubdivide,s=r.cubicSubdivide,l=r.quadraticAt,c=r.cubicAt,u=r.quadraticDerivativeAt,d=r.cubicDerivativeAt,p=[];function h(e,t,n){var a=e.cpx2,i=e.cpy2;return null===a||null===i?[(n?d:c)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?d:c)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?u:l)(e.x1,e.cpx1,e.x2,t),(n?u:l)(e.y1,e.cpy1,e.y2,t)]}var f=a.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,a=t.y1,i=t.x2,r=t.y2,l=t.cpx1,c=t.cpy1,u=t.cpx2,d=t.cpy2,h=t.percent;0!==h&&(e.moveTo(n,a),null==u||null==d?(h<1&&(o(n,l,i,h,p),l=p[1],i=p[2],o(a,c,r,h,p),c=p[1],r=p[2]),e.quadraticCurveTo(l,c,i,r)):(h<1&&(s(n,l,u,i,h,p),l=p[1],u=p[2],i=p[3],s(a,c,d,r,h,p),c=p[1],d=p[2],r=p[3]),e.bezierCurveTo(l,c,u,d,i,r)))},pointAt:function(e){return h(this.shape,e,!1)},tangentAt:function(e){var t=h(this.shape,e,!0);return i.normalize(t,t)}});e.exports=f},acd4:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.loginForm,"label-width":"0"}},[n("el-form-item",{attrs:{prop:"phone"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.phone")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}},[n("i",{staticClass:"icon-shouji",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"code"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.code")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[n("i",{staticClass:"icon-yanzhengma",staticStyle:{"margin-top":"6px"},attrs:{slot:"prefix"},slot:"prefix"}),n("template",{slot:"append"},[n("span",{staticClass:"msg-text",class:[{display:e.msgKey}],on:{click:e.handleSend}},[e._v(e._s(e.msgText))])])],2)],1),n("el-form-item",[n("el-button",{staticClass:"login-submit",attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v(e._s(e.$t("login.submit")))])],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("c54a"),s=n("5880");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"codelogin",data:function(){var e=function(e,t,n){Object(o["e"])(t)[0]?n(new Error(Object(o["e"])(t)[1])):n()},t=function(e,t,n){4!==t.length?n(new Error("请输入4位数的验证码")):n()};return{msgText:"",msgTime:"",msgKey:!1,loginForm:{phone:"",code:""},loginRules:{phone:[{required:!0,trigger:"blur",validator:e}],code:[{required:!0,trigger:"blur",validator:t}]}}},created:function(){this.msgText=this.config.MSGINIT,this.msgTime=this.config.MSGTIME},mounted:function(){},computed:c(c({},Object(s["mapGetters"])(["tagWel"])),{},{config:function(){return{MSGINIT:this.$t("login.msgText"),MSGSCUCCESS:this.$t("login.msgSuccess"),MSGTIME:60}}}),props:[],methods:{handleSend:function(){var e=this;if(!this.msgKey){this.msgText=this.msgTime+this.config.MSGSCUCCESS,this.msgKey=!0;var t=setInterval((function(){e.msgTime--,e.msgText=e.msgTime+e.config.MSGSCUCCESS,0===e.msgTime&&(e.msgTime=e.config.MSGTIME,e.msgText=e.config.MSGINIT,e.msgKey=!1,clearInterval(t))}),1e3)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&e.$store.dispatch("LoginByPhone",e.loginForm).then((function(){e.$router.push({path:e.tagWel.value})}))}))}}},d=u,p=(n("685e"),n("2877")),h=Object(p["a"])(d,a,i,!1,null,null,null);t["default"]=h.exports},acef:function(e,t,n){"use strict";n("640f")},adff:function(e,t,n){"use strict";n("8056")},ae69:function(e,t,n){var a=n("cbe5"),i=a.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var n=.5522848,a=t.cx,i=t.cy,r=t.rx,o=t.ry,s=r*n,l=o*n;e.moveTo(a-r,i),e.bezierCurveTo(a-r,i-l,a-s,i-o,a,i-o),e.bezierCurveTo(a+s,i-o,a+r,i-l,a+r,i),e.bezierCurveTo(a+r,i+l,a+s,i+o,a,i+o),e.bezierCurveTo(a-s,i+o,a-r,i+l,a-r,i),e.closePath()}});e.exports=i},ae74:function(e,t,n){"use strict";n("c944")},aedd:function(e,t,n){},af24:function(e,t,n){n("48c7"),n("f273")},af60:function(e,t,n){},af81:function(e,t,n){},afa0:function(e,t,n){var a=n("6d8b"),i=n("22d1"),r=n("e1fc"),o=n("04f6");function s(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var l=function(){this._roots=[],this._displayList=[],this._displayListLen=0};l.prototype={constructor:l,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,a=0,r=t.length;a<r;a++)this._updateAndAddDisplayable(t[a],null,e);n.length=this._displayListLen,i.canvasSupported&&o(n,s)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var a=e.clipPath;if(a){t=t?t.slice():[];var i=a,r=e;while(i)i.parent=r,i.updateTransform(),t.push(i),r=i,i=i.clipPath}if(e.isGroup){for(var o=e._children,s=0;s<o.length;s++){var l=o[s];e.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof r&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof r&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array){t=0;for(var i=e.length;t<i;t++)this.delRoot(e[t])}else{var o=a.indexOf(this._roots,e);o>=0&&(this.delFromStorage(e),this._roots.splice(o,1),e instanceof r&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:s};var c=l;e.exports=c},b047:function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},b0af:function(e,t,n){var a=n("2306"),i=n("3842"),r=i.round;function o(e,t,n){var i=e.getArea(),r=e.getBaseAxis().isHorizontal(),o=i.x,s=i.y,l=i.width,c=i.height,u=n.get("lineStyle.width")||2;o-=u/2,s-=u/2,l+=u,c+=u,o=Math.floor(o),l=Math.round(l);var d=new a.Rect({shape:{x:o,y:s,width:l,height:c}});return t&&(d.shape[r?"width":"height"]=0,a.initProps(d,{shape:{width:l,height:c}},n)),d}function s(e,t,n){var i=e.getArea(),o=new a.Sector({shape:{cx:r(e.cx,1),cy:r(e.cy,1),r0:r(i.r0,1),r:r(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&(o.shape.endAngle=i.startAngle,a.initProps(o,{shape:{endAngle:i.endAngle}},n)),o}function l(e,t,n){return e?"polar"===e.type?s(e,t,n):"cartesian2d"===e.type?o(e,t,n):null:null}t.createGridClipPath=o,t.createPolarClipPath=s,t.createClipPath=l},b12f:function(e,t,n){var a=n("e1fc"),i=n("8918"),r=n("625e"),o=function(){this.group=new a,this.uid=i.getUID("viewComponent")};o.prototype={constructor:o,init:function(e,t){},render:function(e,t,n,a){},dispose:function(){},filterForExposedEvent:null};var s=o.prototype;s.updateView=s.updateLayout=s.updateVisual=function(e,t,n,a){},r.enableClassExtend(o),r.enableClassManagement(o,{registerWhenExtend:!0});var l=o;e.exports=l},b1d4:function(e,t,n){var a=n("862d");function i(e,t){return t=t||{},a(t.coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})}e.exports=i},b20a:function(e,t,n){var a=n("6ac0"),i=n("4caa"),r=n("ea72"),o="['’]",s=RegExp(o,"g");function l(e){return function(t){return a(r(i(t).replace(s,"")),e,"")}}e.exports=l},b218:function(e,t){var n=9007199254740991;function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}e.exports=a},b278:function(e,t,n){},b30b:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return p}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/callback-config/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-config/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-config/save"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-config/update"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-config/detail/").concat(e),method:"get"})}},b336:function(e,t,n){var a=n("6d8b"),i=a.each;function r(e){var t=e&&e.visualMap;a.isArray(t)||(t=t?[t]:[]),i(t,(function(e){if(e){o(e,"splitList")&&!o(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&a.isArray(t)&&i(t,(function(e){a.isObject(e)&&(o(e,"start")&&!o(e,"min")&&(e.min=e.start),o(e,"end")&&!o(e,"max")&&(e.max=e.end))}))}}))}function o(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}e.exports=r},b3b6:function(e,t,n){},b3f0:function(e,t,n){},b4c0:function(e,t,n){var a=n("cb5a");function i(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]}e.exports=i},b599:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("div",{staticClass:"proxy-flow"},[n("el-form",{attrs:{inline:"true",size:"small"}},[n("el-form-item",{attrs:{label:"资源分类"}},[n("el-select",{on:{change:e.resourceTypeChange},model:{value:e.search.type,callback:function(t){e.$set(e.search,"type",t)},expression:"search.type"}},[n("el-option",{attrs:{label:"服务/接口",value:1}}),n("el-option",{attrs:{label:"appID",value:2}}),n("el-option",{attrs:{label:"来源IP",value:3}})],1)],1),2===e.search.type?[n("el-form-item",{attrs:{label:"应用名(appID)",required:""}},[n("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},on:{change:e.handleRule},model:{value:e.search.appId,callback:function(t){e.$set(e.search,"appId",t)},expression:"search.appId"}},e._l(e.appOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1)]:e._e(),3===e.search.type?[n("el-form-item",{attrs:{label:"来源IP",required:""}},[n("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},on:{change:e.handleRule},model:{value:e.search.sourceIp,callback:function(t){e.$set(e.search,"sourceIp",t)},expression:"search.sourceIp"}},e._l(e.sourceIpOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1)]:e._e(),1===e.search.type?[n("el-form-item",{attrs:{label:"前端服务名"}},[n("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},on:{change:e.handlePath},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.serviceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1)]:e._e(),e.search.service?[n("el-form-item",{attrs:{label:"前端API路径"}},[n("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},model:{value:e.search.path,callback:function(t){e.$set(e.search,"path",t)},expression:"search.path"}},e._l(e.pathOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1)]:e._e(),e.search.appId||e.search.sourceIp?[n("el-form-item",{attrs:{label:"规则"}},[n("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},model:{value:e.search.rule,callback:function(t){e.$set(e.search,"rule",t)},expression:"search.rule"}},e._l(e.ruleOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)]:e._e(),n("el-form-item",{attrs:{label:"服务器IP"}},[n("el-select",{attrs:{placeholder:"全部节点",clearable:""},model:{value:e.search.serverIp,callback:function(t){e.$set(e.search,"serverIp",t)},expression:"search.serverIp"}},e._l(e.hostOptions,(function(e){return n("el-option",{key:e.host,attrs:{label:e.host,value:e.host}})})),1)],1),n("el-form-item",{staticClass:"sm-hidden",attrs:{label:"时间范围"}},[n("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],"picker-options":e.dateTimePickerOption},on:{change:e.handleDateTimePicker},model:{value:e.search.datetimeRange,callback:function(t){e.$set(e.search,"datetimeRange",t)},expression:"search.datetimeRange"}})],1),n("el-form-item",{staticClass:"sm-show",staticStyle:{display:"none"},attrs:{label:"时间间隔"}},[n("el-select",{attrs:{clearable:""},model:{value:e.search.lastIntervalType,callback:function(t){e.$set(e.search,"lastIntervalType",t)},expression:"search.lastIntervalType"}},e._l(e.dateShortcuts,(function(e){return n("el-option",{key:e.type,attrs:{label:e.label,value:e.type}})})),1)],1),n("el-form-item",{staticClass:"sm-hidden",attrs:{label:"时间间隔"}},[n("el-button-group",e._l(e.dateShortcuts,(function(t,a){return n("el-button",{key:a,attrs:{type:e.search.lastIntervalType===t.type?"primary":"default",plain:""},on:{click:function(n){return e.setFlowDateTime(t)}}},[e._v("\n            "+e._s(t.text)+"\n          ")])})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleFlowSearch()}}},[e._v("查 询")]),e.noneHttp?n("span",{staticClass:"none-http"},[n("i",{staticClass:"el-icon-warning-outline"}),e._v("\n           暂无查询到任何请求！\n        ")]):e._e()],1)],2),n("el-row",{staticClass:"data-tag",attrs:{gutter:20,span:24}},e._l(e.flowTagOption.data,(function(t,a){return n("el-col",{key:a,attrs:{md:4,sm:8,xs:12}},[n("div",{staticClass:"tag-item",style:{color:t.color}},[t.showTooltip?n("el-tooltip",{attrs:{placement:"top-start"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.count||0)+e._s(t.unit||""))]),n("div",{staticClass:"count el-tooltip"},[n("span",[e._v(e._s(t.count||0)+e._s(t.unit||""))])])]):n("div",{staticClass:"count"},[e._v(e._s(t.count||0)+e._s(t.unit||""))]),n("div",{staticClass:"title"},[e._v(e._s(t.title))])],1)])})),1),n("el-row",{staticClass:"chart-area",attrs:{span:24}},[n("el-col",{attrs:{sm:12,xs:24}},[n("div",{staticClass:"chart-item",attrs:{id:"respChart"}},[e._v("平均响应时间")])]),n("el-col",{staticClass:"qpsRadio-col",attrs:{sm:12,xs:24}},[n("el-radio-group",{staticClass:"qps-btn",attrs:{size:"small"},model:{value:e.qpsRadio,callback:function(t){e.qpsRadio=t},expression:"qpsRadio"}},[n("el-radio-button",{attrs:{label:"peakQps"}},[e._v("峰值QPS")]),n("el-radio-button",{attrs:{label:"average"}},[e._v("平均QPS")])],1),n("div",{staticClass:"chart-item",attrs:{id:"qpsChart"}},[e._v("平均QPS")])],1),n("el-col",{attrs:{sm:12,xs:24}},[n("div",{staticClass:"chart-item",attrs:{id:"concurrentChart"}},[e._v("并发数")])]),n("el-col",{attrs:{sm:12,xs:24}},[n("div",{staticClass:"chart-item",attrs:{id:"totalChart"}},[e._v("请求数")])])],1)],1)])},i=[],r=(n("8e6e"),n("456d"),n("ac6a"),n("a481"),n("386d"),n("ade3")),o=n("ee6e"),s=n("e5ec"),l=n("84df"),c=n("0e0b"),u=n("5880"),d=n("3eba"),p=n("c54a");n("ef97"),n("007d"),n("627c"),n("cd12"),n("5450");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"flow-data",data:function(){return{noneHttp:!1,qpsRadio:"peakQps",loading:!0,data:{},timer:null,search:{type:1,datetimeRange:[],lastIntervalType:1},submitData:{type:1,lastIntervalType:1},hostOptions:[],dateShortcuts:[{text:"Last 5m",label:"Last 5m",type:1,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-3e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"30m",label:"Last 30m",type:2,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-18e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"1h",label:"Last 1h",type:3,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-36e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"3h",label:"Last 3h",type:4,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-108e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"6h",label:"Last 6h",type:5,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-216e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"12h",label:"Last 12h",type:6,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-432e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"1d",label:"Last 1d",type:7,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-864e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"3d",label:"Last 3d",type:8,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"7d",label:"Last 7d",type:9,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"14d",label:"Last 14d",type:10,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-12096e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"30d",label:"Last 30d",type:11,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"90d",label:"Last 90d",type:12,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[Object(l["b"])(t),Object(l["b"])(e)]}}],apiCondition:[],appCondition:[],ipCondition:[]}},computed:f(f({},Object(u["mapGetters"])(["appOptions"])),{},{sourceIpOptions:function(){var e=Object(c["d"])(this.ipCondition);return this.transferOptions(e)||[]},serviceOptions:function(){var e=Object(c["d"])(this.apiCondition);return this.transferOptions(e)||[]},pathOptions:function(){if(!this.search.service)return[];var e=this.apiCondition[this.search.service]||[];return this.transferOptions(e)||[]},ruleOptions:function(){if(2===this.search.type&&this.search.appId){var e=this.appCondition[this.search.appId]||{};return this.transferOptions(e)||[]}if(3===this.search.type){var t=this.ipCondition[this.search.sourceIp]||{};return this.transferOptions(t)||[]}},flowRefreshTime:function(){return+this.data.refreshIntervalMillis||8e3},dateTimePickerOption:function(){return{shortcuts:[{text:"今天",onClick:function(e){var t=new Date,n=new Date;n.setTime(new Date(Object(l["b"])(n,"yyyy-MM-dd 00:00:00"))),e.$emit("pick",[n,t])}}],disabledDate:function(e){return e.getTime()>Date.now()}}},flowTagOption:function(){return{animation:!0,data:[{count:this.data.min||0,title:"最小响应时间",color:"#67C23A",unit:"ms"},{count:this.data.max||0,title:"最大响应时间",color:"#F56C6C",unit:"ms"},{count:this.data.avg||0,title:"平均响应时间",color:"#409EFF",unit:"ms"},{count:this.data.requestsPerSecond||0,title:"平均QPS",color:"#E6A23C",decimals:2},{count:this.data.block||0,title:"请求拒绝数",color:"#813c85",showTooltip:!0},{count:this.data.total||0,title:"总请求数",showTooltip:!0}]}},respChartOption:function(){var e=this.data.statDatum||[],t=e.map((function(e){return e["statTime"]})),n=e.map((function(e){return e["responseTime"]})),a={};return a={title:{text:"平均响应时间"},grid:{left:20,right:20,bottom:20,top:50,containLabel:!0},tooltip:{trigger:"axis"},xAxis:{type:"category",data:t,boundaryGap:!1,axisLabel:{formatter:function(e){return e.replace(" ","\n")}}},yAxis:{type:"value",boundaryGap:[0,"10%"]},series:[{type:"line",data:n,smooth:.6,symbol:"arrow",lineStyle:{color:"green",width:2},areaStyle:{}}],visualMap:{show:!1,min:0,max:100,inRange:{color:["rgba(0, 180, 0, 0.1)","rgba(0, 180, 0, 0.6)"]}}},a},qpsChartOption:function(){var e=this,t=this.data.statDatum||[],n=t.map((function(e){return e["statTime"]})),a=t.map((function(t){return"peakQps"===e.qpsRadio?t["peakQps"]:t["qps"]})),i={};return i={title:{text:"QPS"},grid:{left:20,right:20,bottom:20,top:50,containLabel:!0},tooltip:{trigger:"axis"},xAxis:{type:"category",data:n,boundaryGap:!1,axisLabel:{formatter:function(e){return e.replace(" ","\n")}}},yAxis:{type:"value",boundaryGap:[0,"10%"]},series:[{type:"line",data:a,smooth:.6,symbol:"arrow",lineStyle:{color:"green",width:2},areaStyle:{}}],visualMap:{show:!1,min:0,max:100,inRange:{color:["rgba(0, 180, 0, 0.1)","rgba(0, 180, 0, 0.6)"]}}},i},concurrentChartOption:function(){var e=this.data.statDatum||[],t=e.map((function(e){return e["statTime"]})),n=e.map((function(e){return e["concurrent"]})),a={};return a={title:{text:"并发数"},grid:{left:20,right:20,bottom:20,top:50,containLabel:!0},tooltip:{trigger:"axis"},xAxis:{type:"category",data:t,boundaryGap:!1,axisLabel:{formatter:function(e){return e.replace(" ","\n")}}},yAxis:{type:"value",boundaryGap:[0,"10%"]},series:[{type:"line",data:n,smooth:.6,symbol:"arrow",lineStyle:{color:"green",width:2},areaStyle:{}}],visualMap:{show:!1,min:0,max:100,inRange:{color:["rgba(0, 180, 0, 0.1)","rgba(0, 180, 0, 0.6)"]}}},a},totalChartOption:function(){var e=this.data.statDatum||[],t=e.map((function(e){return e["statTime"]})),n=e.map((function(e){return e["total"]})),a={};return a={title:{text:"请求数"},grid:{left:20,right:20,bottom:20,top:50,containLabel:!0},tooltip:{trigger:"axis"},xAxis:{type:"category",data:t,boundaryGap:!1,axisLabel:{formatter:function(e){return e.replace(" ","\n")}}},yAxis:{type:"value",boundaryGap:[0,"10%"]},series:[{type:"line",data:n,smooth:.6,symbol:"arrow",lineStyle:{color:"green",width:2},areaStyle:{}}],visualMap:{show:!1,min:0,max:100,inRange:{color:["rgba(0, 180, 0, 0.1)","rgba(0, 180, 0, 0.6)"]}}},a}}),watch:{"submitData.lastIntervalType":{deep:!0,handler:function(){this.refreshFlow()}},flowRefreshTime:{immediate:!0,handler:function(e){e&&this.refreshFlow()}},respChartOption:{deep:!0,handler:function(){this.initRespChart()}},qpsChartOption:{deep:!0,handler:function(){this.initQpsChart()}},concurrentChartOption:{deep:!0,handler:function(){this.initConcurrentChart()}},totalChartOption:{deep:!0,handler:function(){this.initTotalChart()}}},created:function(){this.getFlowData(),this.getAppOptions(),this.getHostOption(),this.getApiCondition(),this.getAppCondition(),this.getIpCondition()},mounted:function(){var e=this;setTimeout((function(){window.addEventListener("resize",(function(){e.respChart&&e.respChart.resize(),e.qpsChart&&e.qpsChart.resize(),e.concurrentChart&&e.concurrentChart.resize(),e.totalChart&&e.totalChart.resize()}))}),2e3)},beforeDestroy:function(){clearInterval(this.timer)},methods:f(f({},Object(u["mapActions"])(["getAppOptions"])),{},{transferOptions:function(e){if(Object(p["b"])(e))return e.map((function(e){return{label:e,value:e}}));var t=[];return Object.keys(e).forEach((function(n){t.push({label:e[n],value:n})})),t},resourceTypeChange:function(){this.$set(this.search,"appId",""),this.$set(this.search,"sourceIp",""),this.$set(this.search,"service",""),this.$set(this.search,"path",""),this.$set(this.search,"rule","")},handleRule:function(){this.$set(this.search,"rule","")},handlePath:function(){this.$set(this.search,"path","")},refreshFlow:function(){var e=this;this.timer&&clearInterval(this.timer),this.submitData.lastIntervalType&&(this.timer=setInterval((function(){e.getFlowData()}),this.flowRefreshTime))},setFlowDateTime:function(e){this.search.lastIntervalType&&this.search.lastIntervalType===e.type?this.search.lastIntervalType="":(this.search.lastIntervalType=e.type,this.search.datetimeRange=[])},handleFlowSearch:function(){return this.search&&this.search.datetimeRange&&this.search.datetimeRange.length||this.search.lastIntervalType?2!==this.search.type||this.search.appId?3!==this.search.type||this.search.sourceIp?(this.submitData.startDate=this.search.datetimeRange&&this.search.datetimeRange[0]||"",this.submitData.endDate=this.search.datetimeRange&&this.search.datetimeRange[1]||"",this.submitData.lastIntervalType=this.search.lastIntervalType||"",this.submitData.service=this.search.service||"",this.submitData.serverIp=this.search.serverIp||"",this.submitData.type=this.search.type||1,this.submitData.appId=this.search.appId||"",this.submitData.sourceIp=this.search.sourceIp||"",this.submitData.path=this.search.path||"",this.submitData.rule=this.search.rule||"",void this.getFlowData()):(this.$message.error("请选择[来源IP]字段"),!1):(this.$message.error("请选择[应用名(appID)]字段"),!1):(this.$message.error("查询请选择时间范围或者时间间隔"),!1)},handleDateTimePicker:function(){this.search.lastIntervalType=""},getHostOption:function(){var e=this;Object(s["c"])().then((function(t){var n=t.data.data;e.hostOptions=n||[]}))},getIpCondition:function(){var e=this;Object(o["f"])().then((function(t){e.ipCondition=t.data.data}))},getAppCondition:function(){var e=this;Object(o["b"])().then((function(t){e.appCondition=t.data.data}))},getApiCondition:function(){var e=this;Object(o["a"])().then((function(t){e.apiCondition=t.data.data}))},getFlowData:function(){var e=this,t=Object.assign({},this.submitData);Object(o["d"])(t).then((function(t){e.loading=!1,e.data=t.data.data||{},e.noneHttp=0===e.data.total}))},initRespChart:function(){this.respChart||(this.respChart=d["init"](document.getElementById("respChart"),"light")),this.respChart.setOption(this.respChartOption)},initQpsChart:function(){this.qpsChart||(this.qpsChart=d["init"](document.getElementById("qpsChart"),"light")),this.qpsChart.setOption(this.qpsChartOption)},initConcurrentChart:function(){this.concurrentChart||(this.concurrentChart=d["init"](document.getElementById("concurrentChart"),"light")),this.concurrentChart.setOption(this.concurrentChartOption)},initTotalChart:function(){this.totalChart||(this.totalChart=d["init"](document.getElementById("totalChart"),"light")),this.totalChart.setOption(this.totalChartOption)}})},m=g,v=(n("5402"),n("2877")),b=Object(v["a"])(m,a,i,!1,null,"8337cbb2",null);t["default"]=b.exports},b5a7:function(e,t,n){var a=n("0b07"),i=n("2b3e"),r=a(i,"DataView");e.exports=r},b5fd:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"service",fn:function(t){var a=t.row;return[e.permissionList.apiAuthority?n("span",{staticClass:"text-link",on:{click:function(t){return e.goApiList(a)}}},[e._v(e._s(a.service))]):n("span",[e._v(e._s(a.service))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),n("service-detail",{attrs:{visible:e.detailDialog.visible,type:e.detailDialog.type,id:e.detailDialog.id,callback:e.onLoad},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}})],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("6762"),n("2fdb"),n("ade3")),o=n("7b22"),s=n("5880"),l=n("b874");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,labelWidth:100,border:!0,index:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",menuWidth:180,column:[{label:"服务名",prop:"service",search:!0},{label:"服务类型",prop:"type",search:!0,type:"radio",dicData:[{label:"Dubbo",value:1},{label:"gRPC",value:2},{label:"HTTP",value:3}]},{label:"版本",prop:"version",search:!0},{label:"分组",prop:"group",search:!0},{label:"实例列表",prop:"instance",overHidden:!0},{label:"负载均衡",prop:"loadBalanceType",overHidden:!0,type:"radio",dicData:[{label:"轮询",value:1},{label:"随机",value:2}]}]},data:[],detailDialog:{visible:!1,type:"",id:null}}},computed:u(u({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.rpc_service_add,!1),editBtn:this.vaildData(this.permission.rpc_service_edit,!1),delBtn:this.vaildData(this.permission.rpc_service_delete,!1),apiAuthority:this.vaildData(this.permission.rpc_api_view,!1)}}}),components:{serviceDetail:l["default"]},methods:{goApiList:function(e){e.service&&this.$router.push({path:"/rpc/api",query:{service:e.service}})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.detailDialog.type=t,["edit","view"].includes(t)?this.detailDialog.id=this.form.id:this.detailDialog.id="",this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,e=e||this.page,Object(o["d"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},p=d,h=(n("adff"),n("2877")),f=Object(h["a"])(p,a,i,!1,null,null,null);t["default"]=f.exports},b709:function(e,t,n){"use strict";n("c3d1")},b719:function(e,t,n){var a=n("697e7");t.zrender=a;var i=n("1687");t.matrix=i;var r=n("401b");t.vector=r;var o=n("6d8b"),s=n("41ef");t.color=s;var l=n("2306"),c=n("3842");t.number=c;var u=n("eda2");t.format=u;var d=n("88b3");d.throttle;t.throttle=d.throttle;var p=n("1548");t.helper=p;var h=n("bda7");t.parseGeoJSON=h;var f=n("6179");t.List=f;var g=n("4319");t.Model=g;var m=n("84ce");t.Axis=m;var v=n("22d1");t.env=v;var b=h,y={};o.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(e){y[e]=o[e]}));var x={};o.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],(function(e){x[e]=l[e]})),t.parseGeoJson=b,t.util=y,t.graphic=x},b74c:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:11}},[n("basic-container",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("业务字典列表")])]),n("div",{staticClass:"clearfix"},[n("avue-crud",{ref:"crud",attrs:{option:e.optionParent,"table-loading":e.loading,data:e.dataParent,page:e.pageParent,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"row-click":e.handleRowClick,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoadParent},scopedSlots:e._u([{key:"isSealed",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(0===a.isSealed?"否":"是"))])]}}]),model:{value:e.formParent,callback:function(t){e.formParent=t},expression:"formParent"}},[n("template",{slot:"menuLeft"},[e.permission.dict_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n              ")]):e._e()],1)],2)],1)])],1)],1),n("el-col",{attrs:{span:13}},[n("basic-container",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("["+e._s(e.dictValue)+"] 业务字典详情")])]),n("div",{staticClass:"clearfix"},[n("avue-crud",{ref:"crudChild",attrs:{option:e.optionChild,"table-loading":e.loadingChild,data:e.dataChild,page:e.pageChild,permission:e.permissionList,"before-open":e.beforeOpenChild},on:{"row-del":e.rowDelChild,"row-update":e.rowUpdateChild,"row-save":e.rowSaveChild,"search-change":e.searchChangeChild,"search-reset":e.searchResetChild,"selection-change":e.selectionChangeChild,"current-change":e.currentChangeChild,"size-change":e.sizeChangeChild,"refresh-change":e.refreshChangeChild,"on-load":e.onLoadChild},scopedSlots:e._u([{key:"isSealed",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(0===a.isSealed?"否":"是"))])]}}]),model:{value:e.formChild,callback:function(t){e.formChild=t},expression:"formChild"}},[n("template",{slot:"menuLeft"},[e.permission.dict_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n              ")]):e._e()],1)],2)],1)])],1)],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("b5c6"),s=n("da71");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/parent-list"),method:"get",params:c(c({},n),{},{current:e,size:t})})},d=function(e,t,n,a){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/child-list"),method:"get",params:c(c({},a),{},{current:e,size:t,parentId:n})})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/remove"),method:"post",params:{ids:e}})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/submit"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/submit"),method:"post",data:e})},g=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/detail"),method:"get",params:{id:e}})},m=function(){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/tree?code=DICT"),method:"get"})},v={tip:!1,searchShow:!0,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:150,dialogWidth:880,dialogClickModal:!1,menuPosition:"right",column:[{label:"字典编号",prop:"code",search:!0,searchSpan:12,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,searchSpan:12,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",align:"right",width:80,hide:!0,rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"switch",align:"center",width:80,dicData:[{label:"否",value:0},{label:"是",value:1}],value:0,slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",hide:!0}]},b={tip:!1,searchShow:!0,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:150,dialogWidth:880,dialogClickModal:!1,menuPosition:"right",column:[{label:"字典编号",prop:"code",addDisabled:!0,editDisabled:!0,search:!0,searchSpan:12,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,searchSpan:12,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"上级字典",prop:"parentId",type:"tree",dicData:[],hide:!0,props:{label:"title"},addDisabled:!0,editDisabled:!0,rules:[{required:!1,message:"请选择上级字典",trigger:"click"}]},{label:"字典键值",prop:"dictKey",width:80,rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",align:"right",width:80,rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"switch",align:"center",width:80,dicData:[{label:"否",value:0},{label:"是",value:1}],value:0,slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",hide:!0}]},y=n("5880");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={data:function(){return{dictValue:"暂无",parentId:-1,formParent:{},formChild:{},selectionList:[],query:{},loading:!0,loadingChild:!0,pageParent:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},pageChild:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},dataParent:[],dataChild:[],optionParent:v,optionChild:b}},computed:w(w({},Object(y["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dictbiz_add,!1),delBtn:this.vaildData(this.permission.dictbiz_delete,!1),editBtn:this.vaildData(this.permission.dictbiz_edit,!1),viewBtn:!1}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),mounted:function(){var e=this;m().then((function(t){var n=e.findObject(e.optionChild.column,"parentId");n.dicData=t.data.data}))},methods:{rowSave:function(e,t,n){var a=this,i=w(w({},e),{},{dictKey:-1});h(i).then((function(){a.onLoadParent(a.pageParent),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;f(e).then((function(){i.onLoadParent(i.pageParent),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoadParent(t.pageParent),t.$message({type:"success",message:"操作成功!"})}))},handleRowClick:function(e){this.parentId=e.id,this.dictValue=e.dictValue,this.$refs.crudChild.value.code=e.code,this.$refs.crudChild.value.parentId=e.id,this.$refs.crudChild.option.column.filter((function(t){"code"===t.prop&&(t.value=e.code),"parentId"===t.prop&&(t.value=e.id)})),this.onLoadChild(this.pageChild)},searchReset:function(){this.query={},this.onLoadParent(this.pageParent)},searchChange:function(e,t){this.query=e,this.pageParent.currentPage=1,this.onLoadParent(this.pageParent,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.ids)})).then((function(){e.onLoadParent(e.pageParent),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&g(this.formParent.id).then((function(e){n.formParent=e.data.data})),e()},currentChange:function(e){this.pageParent.currentPage=e},sizeChange:function(e){this.pageParent.pageSize=e},refreshChange:function(){this.onLoadParent(this.pageParent,this.query)},rowSaveChild:function(e,t,n){var a=this;h(e).then((function(){a.onLoadChild(a.pageChild),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdateChild:function(e,t,n,a){var i=this;f(e).then((function(){i.onLoadChild(i.pageChild),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDelChild:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoadChild(t.pageChild),t.$message({type:"success",message:"操作成功!"})}))},searchResetChild:function(){this.query={},this.onLoadChild(this.pageChild)},searchChangeChild:function(e,t){this.query=e,this.pageChild.currentPage=1,this.onLoadChild(this.pageChild,e),t()},selectionChangeChild:function(e){this.selectionList=e},selectionClearChild:function(){this.selectionList=[],this.$refs.crudChild.toggleSelection()},handleDeleteChild:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.ids)})).then((function(){e.onLoadChild(e.pageChild),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudChild.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenChild:function(e,t){var n=this;["edit","view"].includes(t)&&g(this.formChild.id).then((function(e){n.formChild=e.data.data})),e()},currentChangeChild:function(e){this.pageChild.currentPage=e},sizeChangeChild:function(e){this.pageChild.pageSize=e},refreshChangeChild:function(){this.onLoadChild(this.pageChild,this.query)},onLoadParent:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.pageParent.total=n.total,t.dataParent=n.records,t.loading=!1,t.selectionClear()}))},onLoadChild:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loadingChild=!0,d(e.currentPage,e.pageSize,this.parentId,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.pageChild.total=n.total,t.dataChild=n.records,t.loadingChild=!1,t.selectionClear()}))}}},O=_,D=n("2877"),C=Object(D["a"])(O,a,i,!1,null,null,null);t["default"]=C.exports},b760:function(e,t,n){var a=n("872a"),i=n("9638");function r(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&a(e,t,n)}e.exports=r},b76d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-alert",{attrs:{title:"当前网关在线实例列表，点击查看按钮查看指定实例网关本地缓存的已发布接口信息。",type:"warning",closable:!1}}),n("avue-crud",{ref:"crud",attrs:{data:e.data,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var a=t.row,i=t.type,r=t.size;return[n("el-button",{attrs:{icon:"el-icon-view",size:r,type:i},on:{click:function(t){return e.goDetail(a)}}},[e._v("查看\n      ")])]}}])})],1)},i=[],r=(n("386d"),n("e5ec")),o={data:function(){return{query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{menuWidth:120,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"IP",prop:"host"},{label:"端口",prop:"port"}]},data:[]}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{goDetail:function(e){if(e.instanceId){var t="/gateway/config";this.$router.push({path:t,query:{originId:e.instanceId}})}else this.$message.error("数据缺失，无法操作！")},searchReset:function(){this.query={},this.search.apiFilterConfigId=[],this.search.method=[],this.onLoad(this.page)},searchChange:function(e,t){this.search.apiFilterConfigId_in=this.search.apiFilterConfigId.join(",")||"",this.search.method_in=this.search.method.join(",")||"",e=Object.assign(e,this.search),e.apiFilterConfigId_in=e.apiFilterConfigId.join(",")||"",e.method_in=e.method.join(",")||"",delete e.apiFilterConfigId,delete e.method,this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(r["c"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n,t.loading=!1,t.selectionClear()}))}}},s=o,l=n("2877"),c=Object(l["a"])(s,a,i,!1,null,null,null);t["default"]=c.exports},b809:function(e,t,n){var a=n("6d8b"),i=n("29a8"),r=n("2b17"),o=r.retrieveRawValue;function s(e,t){var n=t.getModel("aria");if(n.get("show"))if(n.get("description"))e.setAttribute("aria-label",n.get("description"));else{var r=0;t.eachSeries((function(e,t){++r}),this);var s,l=n.get("data.maxCount")||10,c=n.get("series.maxCount")||10,u=Math.min(r,c);if(!(r<1)){var d=m();s=d?f(g("general.withTitle"),{title:d}):g("general.withoutTitle");var p=[],h=r>1?"series.multiple.prefix":"series.single.prefix";s+=f(g(h),{seriesCount:r}),t.eachSeries((function(e,t){if(t<u){var n,a=e.get("name"),i="series."+(r>1?"multiple":"single")+".";n=g(a?i+"withName":i+"withoutName"),n=f(n,{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:v(e.subType)});var s=e.getData();window.data=s,s.count()>l?n+=f(g("data.partialData"),{displayCnt:l}):n+=g("data.allData");for(var c=[],d=0;d<s.count();d++)if(d<l){var h=s.getName(d),m=o(s,d);c.push(f(g(h?"data.withName":"data.withoutName"),{name:h,value:m}))}n+=c.join(g("data.separator.middle"))+g("data.separator.end"),p.push(n)}})),s+=p.join(g("series.multiple.separator.middle"))+g("series.multiple.separator.end"),e.setAttribute("aria-label",s)}}function f(e,t){if("string"!==typeof e)return e;var n=e;return a.each(t,(function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),n}function g(e){var t=n.get(e);if(null==t){for(var a=e.split("."),r=i.aria,o=0;o<a.length;++o)r=r[a[o]];return r}return t}function m(){var e=t.getModel("title").option;return e&&e.length&&(e=e[0]),e&&e.text}function v(e){return i.series.typeNames[e]||"自定义图"}}e.exports=s},b979:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:5}},[n("basic-container",[n("avue-tree",{attrs:{option:e.treeOption,data:e.treeData},on:{"node-click":e.nodeClick}})],1)],1),n("el-col",{attrs:{span:19}},[n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,search:e.search,permission:e.permissionList,"before-open":e.beforeOpen,page:e.page},on:{"update:search":function(t){e.search=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"tenantName",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.tenantName))])]}},{key:"roleName",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.roleName))])]}},{key:"deptName",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.deptName))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.user_delete?n("el-button",{attrs:{type:"danger",size:"small",plain:"",icon:"el-icon-delete"},on:{click:e.handleDelete}},[e._v("删 除\n          ")]):e._e(),e.permission.user_role?n("el-button",{attrs:{type:"info",size:"small",plain:"",icon:"el-icon-user"},on:{click:e.handleGrant}},[e._v("角色配置\n          ")]):e._e(),e.permission.user_reset?n("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-refresh"},on:{click:e.handleReset}},[e._v("密码重置\n          ")]):e._e(),e.userInfo.role_name.includes("admin")?n("el-button",{attrs:{type:"success",size:"small",plain:"",icon:"el-icon-upload2"},on:{click:e.handleImport}},[e._v("导入\n          ")]):e._e(),e.userInfo.role_name.includes("admin")?n("el-button",{attrs:{type:"warning",size:"small",plain:"",icon:"el-icon-download"},on:{click:e.handleExport}},[e._v("导出\n          ")]):e._e()],1)],2),n("el-dialog",{attrs:{title:"用户角色配置","append-to-body":"",visible:e.roleBox,width:"345px"},on:{"update:visible":function(t){e.roleBox=t}}},[n("el-tree",{ref:"treeRole",attrs:{data:e.roleGrantList,"show-checkbox":"","default-expand-all":"","node-key":"id","default-checked-keys":e.roleTreeObj,props:e.props}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.roleBox=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.submitRole}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"用户数据导入","append-to-body":"",visible:e.excelBox,width:"555px"},on:{"update:visible":function(t){e.excelBox=t}}},[n("avue-form",{attrs:{option:e.excelOption,"upload-after":e.uploadAfter},model:{value:e.excelForm,callback:function(t){e.excelForm=t},expression:"excelForm"}},[n("template",{slot:"excelTemplate"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleTemplate()}}},[e._v("\n              点击下载"),n("i",{staticClass:"el-icon-download el-icon--right"})])],1)],2)],1)],1)],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("386d"),n("28a5"),n("ac6a"),n("ade3")),o=n("c0c7"),s=n("fcb7"),l=n("3528"),c=n("74b1"),u=n("5880"),d=n("1ca4"),p=n("0a5a"),h=n("c54a"),f=n("da71");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={data:function(){var e=this,t=function(e,t,n){t?Object(h["f"])(t)?n():n(new Error("密码必须包含大小写字母、数字")):n(new Error("请输入密码"))},n=function(t,n,a){""===n?a(new Error("请再次输入密码")):n!==e.form.password?a(new Error("两次输入密码不一致!")):a()};return{search:{},form:{},roleBox:!1,excelBox:!1,selectionList:[],query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},init:{roleTree:[],deptTree:[]},props:{label:"title",value:"key"},roleGrantList:[],roleTreeObj:[],treeDeptId:"",treeData:[],treeOption:{nodeKey:"id",lazy:!0,treeLoad:function(e,t){var n=0===e.level?0:e.data.id;Object(s["c"])(n).then((function(e){t(e.data.data.map((function(e){return m(m({},e),{},{leaf:!e.hasChildren})})))}))},addBtn:!1,menu:!1,size:"small",props:{labelText:"标题",label:"title",value:"value",children:"children"}},option:{height:"auto",calcHeight:120,tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,selection:!0,viewBtn:!0,dialogType:"drawer",dialogClickModal:!1,menuWidth:200,column:[{label:"登录账号",prop:"account",search:!0,display:!1},{label:"用户姓名",prop:"realName",search:!0,display:!1},{label:"所属角色",prop:"roleName",slot:!0,display:!1,overHidden:!0},{label:"所属部门",prop:"deptName",slot:!0,display:!1,overHidden:!0}],group:[{label:"基础信息",prop:"baseInfo",icon:"el-icon-user-solid",column:[{label:"登录账号",prop:"account",rules:[{required:!0,message:"请输入登录账号",trigger:"blur"}],span:d["a"].tenantMode?12:24},{label:"所属租户",prop:"tenantId",type:"tree",dicUrl:"".concat(f["a"],"/blade-system/tenant/select"),props:{label:"tenantName",value:"tenantId"},hide:!d["a"].tenantMode,addDisplay:d["a"].tenantMode,editDisplay:d["a"].tenantMode,viewDisplay:d["a"].tenantMode,search:d["a"].tenantMode,rules:[{required:!0,message:"请输入所属租户",trigger:"click"}]},{label:"密码",prop:"password",hide:!0,editDisplay:!1,viewDisplay:!1,rules:[{required:!0,message:"密码不能为空",trigger:"blur"},{validator:t,trigger:"blur"},{min:6,message:"密码长度至少6个字符",trigger:"blur"}]},{label:"确认密码",prop:"password2",hide:!0,editDisplay:!1,viewDisplay:!1,rules:[{required:!0,validator:n,trigger:"blur"}]}]},{label:"详细信息",prop:"detailInfo",icon:"el-icon-s-order",column:[{label:"用户昵称",prop:"name",hide:!0,rules:[{required:!0,message:"请输入用户昵称",trigger:"blur"}]},{label:"用户姓名",prop:"realName",rules:[{required:!0,message:"请输入用户姓名",trigger:"blur"},{min:2,max:5,message:"姓名长度在2到5个字符"}]},{label:"手机号码",prop:"phone",overHidden:!0},{label:"电子邮箱",prop:"email",hide:!0,overHidden:!0},{label:"用户性别",prop:"sex",type:"select",dicData:[{label:"男",value:1},{label:"女",value:2},{label:"未知",value:3}],hide:!0},{label:"用户生日",type:"date",prop:"birthday",format:"yyyy-MM-dd hh:mm:ss",valueFormat:"yyyy-MM-dd hh:mm:ss",hide:!0},{label:"账号状态",prop:"statusName",hide:!0,display:!1}]},{label:"职责信息",prop:"dutyInfo",icon:"el-icon-s-custom",column:[{label:"用户编号",prop:"code"},{label:"所属角色",prop:"roleId",multiple:!0,type:"tree",dicData:[],props:{label:"title"},checkStrictly:!0,slot:!0,rules:[{required:!0,message:"请选择所属角色",trigger:"click"}]},{label:"所属部门",prop:"deptId",type:"tree",multiple:!0,dicData:[],props:{label:"title"},checkStrictly:!0,slot:!0,rules:[{required:!0,message:"请选择所属部门",trigger:"click"}]},{label:"所属岗位",prop:"postId",type:"tree",multiple:!0,dicData:[],props:{label:"postName",value:"id"},rules:[{required:!0,message:"请选择所属岗位",trigger:"click"}]}]}]},data:[],excelForm:{},excelOption:{submitBtn:!1,emptyBtn:!1,column:[{label:"模板上传",prop:"excelFile",type:"upload",drag:!0,loadText:"模板上传中，请稍等",span:24,propsHttp:{res:"data"},tip:"请上传 .xls,.xlsx 标准格式文件",action:"".concat(f["a"],"/blade-user/import-user")},{label:"数据覆盖",prop:"isCovered",type:"switch",align:"center",width:80,dicData:[{label:"否",value:0},{label:"是",value:1}],value:0,slot:!0,rules:[{required:!0,message:"请选择是否覆盖",trigger:"blur"}]},{label:"模板下载",prop:"excelTemplate",formslot:!0,span:24}]}}},watch:{"form.tenantId":function(){""!==this.form.tenantId&&this.initData(this.form.tenantId)},"excelForm.isCovered":function(){if(""!==this.excelForm.isCovered){var e=this.findObject(this.excelOption.column,"excelFile");e.action="".concat(f["a"],"/blade-user/import-user?isCovered=").concat(this.excelForm.isCovered)}}},computed:m(m({},Object(u["mapGetters"])(["userInfo","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.user_add,!1),viewBtn:this.vaildData(this.permission.user_view,!1),delBtn:this.vaildData(this.permission.user_delete,!1),editBtn:this.vaildData(this.permission.user_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),mounted:function(){d["a"].tenantMode||this.initData(d["a"].tenantId)},methods:{nodeClick:function(e){this.treeDeptId=e.id,this.page.currentPage=1,this.onLoad(this.page)},initData:function(e){var t=this;Object(l["d"])(e).then((function(e){var n=t.findObject(t.option.group,"roleId");n.dicData=e.data.data})),Object(s["d"])(e).then((function(e){var n=t.findObject(t.option.group,"deptId");n.dicData=e.data.data})),Object(c["d"])(e).then((function(e){var n=t.findObject(t.option.group,"postId");n.dicData=e.data.data}))},submitRole:function(){var e=this,t=this.$refs.treeRole.getCheckedKeys().join(",");Object(o["d"])(this.ids,t).then((function(){e.roleBox=!1,e.$message({type:"success",message:"操作成功!"}),e.onLoad(e.page)}))},rowSave:function(e,t,n){var a=this;e.deptId instanceof Array&&(e.deptId=e.deptId.join(",")),e.roleId instanceof Array&&(e.roleId=e.roleId.join(",")),e.postId instanceof Array&&(e.postId=e.postId.join(",")),Object(o["a"])(e).then((function(){a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;e.deptId instanceof Array&&(e.deptId=e.deptId.join(",")),e.roleId instanceof Array&&(e.roleId=e.roleId.join(",")),e.postId instanceof Array&&(e.postId=e.postId.join(",")),Object(o["g"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.treeDeptId="",this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},handleReset:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择账号密码重置为【AsdF1234!】?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.ids)})).then((function(){e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},handleGrant:function(){var e=this;0!==this.selectionList.length?(this.roleTreeObj=[],1===this.selectionList.length&&(this.roleTreeObj=this.selectionList[0].roleId.split(",")),Object(l["d"])().then((function(t){e.roleGrantList=t.data.data,e.roleBox=!0}))):this.$message.warning("请选择至少一条数据")},handleImport:function(){this.excelBox=!0},uploadAfter:function(e,t,n,a){window.console.log(a),this.excelBox=!1,this.refreshChange(),t()},handleExport:function(){var e=this;this.$confirm("是否导出用户数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.open("".concat(f["a"],"/blade-user/export-user?Blade-Auth=").concat(Object(p["a"])(),"&account=").concat(e.search.account,"&realName=").concat(e.search.realName))}))},handleTemplate:function(){window.open("".concat(f["a"],"/blade-user/export-template?Blade-Auth=").concat(Object(p["a"])()))},beforeOpen:function(e,t){["edit","view"].includes(t),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,Object.assign(n,this.query),this.treeDeptId).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},b=v,y=n("2877"),x=Object(y["a"])(b,a,i,!1,null,null,null);t["default"]=x.exports},ba11:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("api-header",{attrs:{"service-name":e.serviceName,"api-name":e.apiName,"page-name":"接口发布历史版本"}})],1),n("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"publishType",fn:function(t){var a=t.row;return[0==a.publishType?n("el-tag",{attrs:{type:"success"}},[e._v("普通发布")]):e._e(),1==a.publishType?n("el-tag",{attrs:{type:"warning"}},[e._v("回滚")]):e._e()]}},{key:"menu",fn:function(t){var a=t.row,i=t.type,r=t.size,o=t.index;return[n("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowView(a)}}},[e._v("查看")]),0!==o&&e.permissionList.rollbackBtn?n("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowBack(a)}}},[e._v("回滚")]):e._e(),n("br"),0===o?n("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("当前版本")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("ade3")),o=n("2b3f"),s=n("5880"),l=n("936b");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuWidth:100,column:[{label:"ID",prop:"id",width:50},{label:"所属服务",prop:"serviceName"},{label:"接口名",prop:"name"},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120},{label:"发布人",prop:"publisher",width:80},{label:"发布状态",prop:"publishType",slot:!0,width:92},{label:"发布日期",prop:"createTime"},{label:"备注",prop:"remark"},{label:"版本号",prop:"version",width:80}]},data:[]}},components:{apiHeader:l["default"]},computed:u(u({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{rollbackBtn:this.vaildData(this.permission.aggregate_history_rollback,!1)}},originId:function(){return this.$route.query.originId||""},serviceName:function(){var e=this.data[0]||{};return e.serviceName||""},apiName:function(){var e=this.data[0]||{};return e.name||""}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowView:function(e){this.$router.push({path:"/aggregate/historyDetail",query:{originId:e.id}})},rowBack:function(e){var t=this;this.$confirm("确定回滚至【ID-".concat(e.id,"】的发布记录吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])({id:e.id,remark:""})})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"回滚成功"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,Object.assign(n,this.query,{originId:this.originId,descs:"create_time"})).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},p=d,h=n("2877"),f=Object(h["a"])(p,a,i,!1,null,null,null);t["default"]=f.exports},bb67:function(e,t,n){"use strict";n("2d9f")},bb86:function(e,t,n){},bbc0:function(e,t,n){var a=n("6044"),i="__lodash_hash_undefined__",r=Object.prototype,o=r.hasOwnProperty;function s(e){var t=this.__data__;if(a){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}e.exports=s},bc52:function(e,t,n){},bc5f:function(e,t,n){var a=n("6cb7");a.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}))},bcdf:function(e,t){function n(){}e.exports=n},bd6b:function(e,t,n){var a=n("06ad"),i=n("4942"),r=n("6d8b"),o=r.isString,s=r.isFunction,l=r.isObject,c=r.isArrayLike,u=r.indexOf,d=function(){this.animators=[]};function p(e,t,n,a,i,r,l,c){o(a)?(r=i,i=a,a=0):s(i)?(r=i,i="linear",a=0):s(a)?(r=a,a=0):s(n)?(r=n,n=500):n||(n=500),e.stopAnimation(),h(e,"",e,t,n,a,c);var u=e.animators.slice(),d=u.length;function p(){d--,d||r&&r()}d||r&&r();for(var f=0;f<u.length;f++)u[f].done(p).start(i,l)}function h(e,t,n,a,i,r,o){var s={},u=0;for(var d in a)a.hasOwnProperty(d)&&(null!=n[d]?l(a[d])&&!c(a[d])?h(e,t?t+"."+d:d,n[d],a[d],i,r,o):(o?(s[d]=n[d],f(e,t,d,a[d])):s[d]=a[d],u++):null==a[d]||o||f(e,t,d,a[d]));u>0&&e.animate(t,!1).when(null==i?500:i,s).delay(r||0)}function f(e,t,n,a){if(t){var i={};i[t]={},i[t][n]=a,e.attr(i)}else e.attr(n,a)}d.prototype={constructor:d,animate:function(e,t){var n,r=!1,o=this,s=this.__zr;if(e){var l=e.split("."),c=o;r="shape"===l[0];for(var d=0,p=l.length;d<p;d++)c&&(c=c[l[d]]);c&&(n=c)}else n=o;if(n){var h=o.animators,f=new a(n,t);return f.during((function(e){o.dirty(r)})).done((function(){h.splice(u(h,f),1)})),h.push(f),s&&s.animation.addAnimator(f),f}i('Property "'+e+'" is not existed in element '+o.id)},stopAnimation:function(e){for(var t=this.animators,n=t.length,a=0;a<n;a++)t[a].stop(e);return t.length=0,this},animateTo:function(e,t,n,a,i,r){p(this,e,t,n,a,i,r)},animateFrom:function(e,t,n,a,i,r){p(this,e,t,n,a,i,r,!0)}};var g=d;e.exports=g},bda7:function(e,t,n){var a=n("6d8b"),i=n("f279");function r(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;null==t&&(t=1024);for(var n=e.features,a=0;a<n.length;a++)for(var i=n[a],r=i.geometry,s=r.coordinates,l=r.encodeOffsets,c=0;c<s.length;c++){var u=s[c];if("Polygon"===r.type)s[c]=o(u,l[c],t);else if("MultiPolygon"===r.type)for(var d=0;d<u.length;d++){var p=u[d];u[d]=o(p,l[c][d],t)}}return e.UTF8Encoding=!1,e}function o(e,t,n){for(var a=[],i=t[0],r=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=i,l+=r,i=s,r=l,a.push([s/n,l/n])}return a}function s(e,t){return r(e),a.map(a.filter(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var n=e.properties,r=e.geometry,o=r.coordinates,s=[];"Polygon"===r.type&&s.push({type:"polygon",exterior:o[0],interiors:o.slice(1)}),"MultiPolygon"===r.type&&a.each(o,(function(e){e[0]&&s.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})}));var l=new i(n[t||"name"],s,n.cp);return l.properties=n,l}))}e.exports=s},bdf2:function(e,t,n){"use strict";n("6e4e")},bfbe:function(e,t,n){},c098:function(e,t){var n=9007199254740991,a=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?n:t,!!t&&("number"==i||"symbol"!=i&&a.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},c0c7:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"d",(function(){return m}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/page"),method:"get",params:s(s({},n),{},{current:e,size:t,deptId:a})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/submit"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/update"),method:"post",data:e})},p=function(){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/info"),method:"get"})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/reset-password"),method:"post",params:{userIds:e}})},f=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/update-password"),method:"post",params:{oldPassword:e,newPassword:t,newPassword1:n}})},g=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/update-info"),method:"post",data:e})},m=function(e,t){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/grant"),method:"post",params:{userIds:e,roleIds:t}})}},c12c:function(e,t,n){"use strict";n("d48a")},c135:function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},c1a1:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:e.src}})])},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("6b54"),n("a481"),n("ade3")),o=n("5880"),s=n("323e"),l=n.n(s);n("a5d8");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"AvueIframe",data:function(){return{urlPath:this.getUrlPath()}},created:function(){l.a.configure({showSpinner:!1})},mounted:function(){this.load(),this.resize()},props:["routerPath"],watch:{$route:function(){this.load()},routerPath:function(){this.urlPath=this.getUrlPath()}},computed:u(u({},Object(o["mapGetters"])(["screen"])),{},{src:function(){return this.$route.query.src?this.$route.query.src.replace("$","#"):this.urlPath}}),methods:{show:function(){l.a.start()},hide:function(){l.a.done()},resize:function(){var e=this;window.onresize=function(){e.iframeInit()}},load:function(){var e=this;this.show();var t=!0;void 0!==this.$route.query.src&&-1===this.$route.query.src.indexOf("?")&&(t=!1);var n=[];for(var a in this.$route.query)"src"!==a&&"name"!==a&&"i18n"!==a&&n.push("".concat(a,"= this.$route.query[key]"));n=n.join("&").toString(),this.$route.query.src=t?"".concat(this.$route.query.src).concat(n.length>0?"&list":""):"".concat(this.$route.query.src).concat(n.length>0?"?list":"");var i=3,r=setInterval((function(){i--,0===i&&(e.hide(),clearInterval(r))}),1e3);this.iframeInit()},iframeInit:function(){var e=this,t=this.$refs.iframe,n=document.documentElement.clientHeight-(screen>1?200:130);t&&(t.style.height="".concat(n,"px"),t.attachEvent?t.attachEvent("onload",(function(){e.hide()})):t.onload=function(){e.hide()})},getUrlPath:function(){var e=window.location.href;return e=e.replace("/myiframe",""),e}}},p=d,h=(n("30eb"),n("2877")),f=Object(h["a"])(p,a,i,!1,null,null,null);t["default"]=f.exports},c1c9:function(e,t,n){var a=n("a454"),i=n("f3c1"),r=i(a);e.exports=r},c240:function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},c2b6:function(e,t,n){var a=n("f8af"),i=n("5d89"),r=n("6f6c"),o=n("a2db"),s=n("c8fe"),l="[object Boolean]",c="[object Date]",u="[object Map]",d="[object Number]",p="[object RegExp]",h="[object Set]",f="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",y="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",_="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]";function k(e,t,n){var k=e.constructor;switch(t){case m:return a(e);case l:case c:return new k(+e);case v:return i(e,n);case b:case y:case x:case w:case _:case O:case D:case C:case S:return s(e,n);case u:return new k;case d:case f:return new k(e);case p:return r(e);case h:return new k;case g:return o(e)}}e.exports=k},c2ee:function(e,t,n){},c2f4:function(e,t,n){"use strict";n("fb24")},c3d1:function(e,t,n){},c3fc:function(e,t,n){var a=n("42a2"),i=n("1310"),r="[object Set]";function o(e){return i(e)&&a(e)==r}e.exports=o},c43f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"撤回关联配置","append-to-body":"",visible:e.visible,"before-close":e.handleClose,width:"500px"},on:{"update:visible":function(t){e.visible=t}}},[n("div",{staticClass:"b-tip"},[e._v("确定撤回该申请的【"+e._s(e.form.name)+"】接口吗?")]),n("el-form",{ref:"revokeForm",attrs:{model:e.revokeForm,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入备注"},model:{value:e.revokeForm.remark,callback:function(t){e.$set(e.revokeForm,"remark",t)},expression:"revokeForm.remark"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.confirm}},[e._v("确 定\n    ")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取 消")])],1)],1)},i=[],r=(n("c5f6"),n("0f43")),o={name:"publish-dialog",data:function(){return{loading:!1,revokeForm:{},rules:{remark:[{required:!0,message:"备注不能为空",trigger:"blur"}]}}},props:{visible:{type:Boolean,default:!1},form:{type:Object,default:function(){return{}}},id:{type:[String,Number],required:!0},callback:{type:Function}},watch:{visible:function(e){e||(this.revokeForm.remark="")}},methods:{confirm:function(){var e=this;this.id?this.$refs.revokeForm.validate((function(t){if(t)return e.loading=!0,Object(r["i"])({applyId:e.id,configId:e.form.id,remark:e.revokeForm.remark}).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("撤回成功"),e.$emit("update:visible",!1)})).finally((function(){e.loading=!1}))})):this.$message.error("信息错误，请重新选择！")},handleClose:function(e){this.$emit("update:visible",!1),e&&e()}}},s=o,l=(n("7ec3"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"9763a388",null);t["default"]=c.exports},c533:function(e,t){var n=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],a={color:n,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],n]};e.exports=a},c5f7:function(e,t,n){"use strict";n("215f")},c674:function(e,t,n){},c6f5:function(e,t,n){},c775f:function(e,t,n){var a=n("2b17"),i=a.retrieveRawValue;function r(e,t){var n=e.mapDimension("defaultedLabel",!0),a=n.length;if(1===a)return i(e,t,n[0]);if(a){for(var r=[],o=0;o<n.length;o++){var s=i(e,t,n[o]);r.push(s)}return r.join(" ")}}t.getDefaultLabel=r},c7a2:function(e,t,n){var a=n("cbe5"),i=n("5693"),r=n("9cf9"),o=r.subPixelOptimizeRect,s={},l=a.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n,a,r,l;this.subPixelOptimize?(o(s,t,this.style),n=s.x,a=s.y,r=s.width,l=s.height,s.r=t.r,t=s):(n=t.x,a=t.y,r=t.width,l=t.height),t.r?i.buildPath(e,t):e.rect(n,a,r,l),e.closePath()}});e.exports=l},c869:function(e,t,n){var a=n("0b07"),i=n("2b3e"),r=a(i,"Set");e.exports=r},c87c:function(e,t){var n=Object.prototype,a=n.hasOwnProperty;function i(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&a.call(e,"index")&&(n.index=e.index,n.input=e.input),n}e.exports=i},c8b6:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("avue-crud",{ref:"crud",attrs:{id:"addAppidTable",data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"tags",fn:function(t){var n=t.row;return[e._v("\n    "+e._s(n.tags.join(","))+"\n  ")]}},{key:"tagsSearch",fn:function(t){return[n("el-input",{attrs:{placeholder:"标签",clearable:""},model:{value:e.search.tagCondition,callback:function(t){e.$set(e.search,"tagCondition",t)},expression:"search.tagCondition"}})]}}])})},i=[],r=(n("ac6a"),n("24a7")),o={data:function(){return{loading:!0,query:{},page:{pageSize:10,currentPage:1,total:0,pageSizes:[10,20,30,40,50,100,1e3,3e3,5e3]},search:{},option:{size:"mini",border:!0,selection:!0,tip:!1,columnBtn:!1,addBtn:!1,menu:!1,searchMenuSpan:12,column:[{label:"appID",prop:"app",search:!0,searchSpan:12},{label:"应用名",prop:"appName",search:!0,searchSpan:12},{label:"标签",prop:"tags",search:!0,searchSpan:12,searchslot:!0,slot:!0}]},data:[],selectionList:[]}},props:{selection:{type:[Object,Array]}},computed:{ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}},watch:{selectionList:{deep:!0,handler:function(){this.emitData()}}},methods:{emitData:function(){this.$emit("update:selection",this.selectionList)},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(r["e"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1,t.selectionClear()}))}}},s=o,l=n("2877"),c=Object(l["a"])(s,a,i,!1,null,null,null);t["default"]=c.exports},c8fe:function(e,t,n){var a=n("f8af");function i(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=i},c944:function(e,t,n){},c968:function(e,t,n){"use strict";n("8478e")},c983:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.disabled?e._e():n("el-dropdown",{on:{command:e.commandHandle}},[n("el-button",{staticClass:"add-btn",attrs:{type:"primary",size:"mini"}},[e._v("\n      添加组件"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{staticClass:"select-menu",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.optionsList,(function(t){return n("el-dropdown-item",{key:t.value,attrs:{command:t.value}},[e._v("\n        "+e._s(t.label)+"\n      ")])})),1)],1),n("el-table",{directives:[{name:"show",rawName:"v-show",value:e.components.length>0,expression:"components.length > 0"}],staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.components,border:"",size:"small"}},[n("el-table-column",{attrs:{prop:"date",label:"组件名","min-width":"70%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("descFilter")(t.row))+"\n        "),n("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:e.tooltipInfo[t.row.type],placement:"bottom"}},[n("i",{staticClass:"el-icon-question"})])]}}])}),n("el-table-column",{attrs:{prop:"address",label:"操作","min-width":"30%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.moveVisible(t.row,t.$index,"up")?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.move(t.$index,"up")}}},[n("i",{staticClass:"el-icon-top"}),e._v("上移\n        ")]):e._e(),e.moveVisible(t.row,t.$index,"down")?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.move(t.$index,"down")}}},[n("i",{staticClass:"el-icon-bottom"}),e._v("下移\n        ")]):e._e(),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.goDetail(t.row,"detail",t.$index)}}},[n("i",{staticClass:"el-icon-view"}),e._v("查看\n        ")]),e.disabled?e._e():n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.goDetail(t.row,"edit",t.$index)}}},[n("i",{staticClass:"el-icon-edit"}),e._v("编辑\n        ")]),e.disabled?e._e():n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.deleteHandle(t.$index)}}},[n("i",{staticClass:"el-icon-delete"}),e._v(" 删除\n        ")])]}}])})],1),e.conditionVisible?n("condition-dialog",{attrs:{visible:e.conditionVisible,dialogType:e.dialogType,data:e.dialogData,disabled:e.disabled},on:{changeDrawer:function(t){e.command="",e.dialogData=null},emitData:e.getConditionData}}):e._e(),e.circleVisible?n("circleDialog",{attrs:{visible:e.circleVisible,dialogType:e.dialogType,data:e.dialogData,disabled:e.disabled},on:{changeDrawer:function(t){e.command="",e.dialogData=null},emitData:e.getCircleData}}):e._e()],1)},i=[],r=(n("28a5"),n("7f7f"),n("ac6a"),n("20d6"),n("44d0")),o=n("04b4"),s=[{value:"condition",label:"判断条件"},{value:"circle",label:"循环组件"}],l={name:"addComponent",props:{disabled:Boolean,data:Object},components:{conditionDialog:r["default"],circleDialog:o["default"]},data:function(){return{command:"",components:[],maxIndex:0,tooltipInfo:{condition:"当判断条件为true时执行该步骤",circle:"当数据源不为空时执行循环"},dialogData:null,dialogType:"",operaIndex:-1}},computed:{conditionVisible:function(){return this.command===s[0].value},circleVisible:function(){return this.command===s[1].value},optionsList:function(){var e=this.components.findIndex((function(e){return"circle"===e.type}));return e>-1?[s[0]]:s}},watch:{components:{immediate:!0,deep:!0,handler:function(){this.emitData()}},data:{immediate:!0,deep:!0,handler:function(e){this.components=e}}},filters:{descFilter:function(e){var t="condition"===e.type?"判断条件":"循环组件";return e.desc?"".concat(t,"  (").concat(e.desc,")"):t}},methods:{moveVisible:function(e,t,n){var a=this.components.filter((function(e){return e.type===s[0].value})).length||0;return"up"===n?0!==t&&e.type===s[0].value&&!this.disabled:t<a-1&&e.type===s[0].value&&!this.disabled},commandHandle:function(e){this.command=e,this.dialogType="add"},goDetail:function(e,t,n){this.command=e.type,this.dialogType=t,this.dialogData=e,this.operaIndex=n},getConditionData:function(e){var t=0;this.components.forEach((function(e,n){"condition"===e.type&&(t=++n,e.name&&parseInt(e.name.split("判断条件")[1])>n&&(t=e.name.split("判断条件")[1]))})),this.maxIndex=t,"add"===this.dialogType?1===this.optionsList.length?this.components.splice(this.components.length-1,0,e):this.components.splice(this.components.length,0,e):this.components.splice(this.operaIndex,1,e)},getCircleData:function(e){"add"===this.dialogType?this.components.push(e):this.components.splice(this.operaIndex,1,e)},move:function(e,t){var n=this.components[e];this.components.splice(e,1),"up"===t?this.components.splice(e-1,0,n):this.components.splice(e+1,0,n)},deleteHandle:function(e){var t=this;this.$confirm("确定删除该条件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.components.splice(e,1)}))},emitData:function(){this.$emit("update:data",this.components)}}},c=l,u=(n("9b06"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"58f9c7e0",null);t["default"]=d.exports},ca98:function(e,t,n){var a=n("6d8b"),i=n("e0d3"),r=n("6cb7"),o=a.each,s=a.clone,l=a.map,c=a.merge,u=/^(min|max)?(.+)$/;function d(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function p(e,t,n){var i,r,s=[],l=[],c=e.timeline;if(e.baseOption&&(r=e.baseOption),(c||e.options)&&(r=r||{},s=(e.options||[]).slice()),e.media){r=r||{};var u=e.media;o(u,(function(e){e&&e.option&&(e.query?l.push(e):i||(i=e))}))}return r||(r=e),r.timeline||(r.timeline=c),o([r].concat(s).concat(a.map(l,(function(e){return e.option}))),(function(e){o(t,(function(t){t(e,n)}))})),{baseOption:r,timelineOptions:s,mediaDefault:i,mediaList:l}}function h(e,t,n){var i={width:t,height:n,aspectratio:t/n},r=!0;return a.each(e,(function(e,t){var n=t.match(u);if(n&&n[1]&&n[2]){var a=n[1],o=n[2].toLowerCase();f(i[o],e,a)||(r=!1)}})),r}function f(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t}function g(e,t){return e.join(",")===t.join(",")}function m(e,t){t=t||{},o(t,(function(t,n){if(null!=t){var a=e[n];if(r.hasClass(n)){t=i.normalizeToArray(t),a=i.normalizeToArray(a);var o=i.mappingToExists(a,t);e[n]=l(o,(function(e){return e.option&&e.exist?c(e.exist,e.option,!0):e.exist||e.option}))}else e[n]=c(a,t,!0)}}))}d.prototype={constructor:d,setOption:function(e,t){e&&a.each(i.normalizeToArray(e.series),(function(e){e&&e.data&&a.isTypedArray(e.data)&&a.setAsPrimitive(e.data)})),e=s(e);var n=this._optionBackup,r=p.call(this,e,t,!n);this._newBaseOption=r.baseOption,n?(m(n.baseOption,r.baseOption),r.timelineOptions.length&&(n.timelineOptions=r.timelineOptions),r.mediaList.length&&(n.mediaList=r.mediaList),r.mediaDefault&&(n.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=l(t.timelineOptions,s),this._mediaList=l(t.mediaList,s),this._mediaDefault=s(t.mediaDefault),this._currentMediaIndices=[],s(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var a=e.getComponent("timeline");a&&(t=s(n[a.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),n=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,r=[],o=[];if(!a.length&&!i)return o;for(var c=0,u=a.length;c<u;c++)h(a[c].query,t,n)&&r.push(c);return!r.length&&i&&(r=[-1]),r.length&&!g(r,this._currentMediaIndices)&&(o=l(r,(function(e){return s(-1===e?i.option:a[e].option)}))),this._currentMediaIndices=r,o}};var v=d;e.exports=v},cb11:function(e,t,n){var a=n("cbe5"),i=n("9cf9"),r=i.subPixelOptimizeLine,o={},s=a.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n,a,i,s;this.subPixelOptimize?(r(o,t,this.style),n=o.x1,a=o.y1,i=o.x2,s=o.y2):(n=t.x1,a=t.y1,i=t.x2,s=t.y2);var l=t.percent;0!==l&&(e.moveTo(n,a),l<1&&(i=n*(1-l)+i*l,s=a*(1-l)+s*l),e.lineTo(i,s))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}});e.exports=s},cb5a:function(e,t,n){var a=n("9638");function i(e,t){var n=e.length;while(n--)if(a(e[n][0],t))return n;return-1}e.exports=i},cb6d:function(e,t){function n(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function a(e,t){return{target:e,topTarget:t&&t.topTarget}}n.prototype={constructor:n,_dragStart:function(e){var t=e.target;while(t&&!t.draggable)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(a(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,t.drift(r,o,e),this.dispatchToElement(a(t,e),"drag",e.event);var s=this.findHover(n,i,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.dispatchToElement(a(l,e),"dragleave",e.event),s&&s!==l&&this.dispatchToElement(a(s,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(a(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(a(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var i=n;e.exports=i},cb79:function(e,t,n){},cb8f:function(e,t,n){var a=n("3eba"),i=n("6d8b"),r=n("cd33"),o=n("eb6b");n("48ac"),n("d4b1"),n("4a9d"),a.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!i.isArray(t)&&(e.axisPointer.link=[t])}})),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=r.collect(e,t)})),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},o)},cbb0:function(e,t,n){var a=n("6d8b"),i=n("f934"),r=i.getLayoutRect;function o(e,t,n){var a=e.option,i=a.align;if(null!=i&&"auto"!==i)return i;for(var o={width:t.getWidth(),height:t.getHeight()},s="horizontal"===a.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],c=l[s],u=[0,null,10],d={},p=0;p<3;p++)d[l[1-s][p]]=u[p],d[c[p]]=2===p?n[0]:a[c[p]];var h=[["x","width",3],["y","height",0]][s],f=r(d,o,a.padding);return c[(f.margin[h[2]]||0)+f[h[0]]+.5*f[h[1]]<.5*o[h[1]]?0:1]}function s(e,t){return a.each(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}t.getItemAlign=o,t.makeHighDownBatch=s},cbe5:function(e,t,n){var a=n("19eb"),i=n("6d8b"),r=n("20c8"),o=n("d833"),s=n("dc2f"),l=s.prototype.getCanvasPattern,c=Math.abs,u=new r(!0);function d(e){a.call(this,e),this.path=null}d.prototype={constructor:d,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var n,a=this.style,i=this.path||u,r=a.hasStroke(),o=a.hasFill(),s=a.fill,c=a.stroke,d=o&&!!s.colorStops,p=r&&!!c.colorStops,h=o&&!!s.image,f=r&&!!c.image;(a.bind(e,this,t),this.setTransform(e),this.__dirty)&&(d&&(n=n||this.getBoundingRect(),this._fillGradient=a.getGradient(e,s,n)),p&&(n=n||this.getBoundingRect(),this._strokeGradient=a.getGradient(e,c,n)));d?e.fillStyle=this._fillGradient:h&&(e.fillStyle=l.call(s,e)),p?e.strokeStyle=this._strokeGradient:f&&(e.strokeStyle=l.call(c,e));var g=a.lineDash,m=a.lineDashOffset,v=!!e.setLineDash,b=this.getGlobalScale();if(i.setScale(b[0],b[1],this.segmentIgnoreThreshold),this.__dirtyPath||g&&!v&&r?(i.beginPath(e),g&&!v&&(i.setLineDash(g),i.setLineDashOffset(m)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),o)if(null!=a.fillOpacity){var y=e.globalAlpha;e.globalAlpha=a.fillOpacity*a.opacity,i.fill(e),e.globalAlpha=y}else i.fill(e);if(g&&v&&(e.setLineDash(g),e.lineDashOffset=m),r)if(null!=a.strokeOpacity){y=e.globalAlpha;e.globalAlpha=a.strokeOpacity*a.opacity,i.stroke(e),e.globalAlpha=y}else i.stroke(e);g&&v&&e.setLineDash([]),null!=a.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new r},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var a=this.path;a||(a=this.path=new r),this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1)),e=a.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){i.copy(e);var o=t.lineWidth,s=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),s>1e-10&&(i.width+=o/s,i.height+=o/s,i.x-=o/s/2,i.y-=o/s/2)}return i}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),a=this.getBoundingRect(),i=this.style;if(e=n[0],t=n[1],a.contain(e,t)){var r=this.path.data;if(i.hasStroke()){var s=i.lineWidth,l=i.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(i.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),o.containStroke(r,s/l,e,t)))return!0}if(i.hasFill())return o.contain(r,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):a.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(i.isObject(e))for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&c(e[0]-1)>1e-10&&c(e[3]-1)>1e-10?Math.sqrt(c(e[0]*e[3]-e[2]*e[1])):1}},d.extend=function(e){var t=function(t){d.call(this,t),e.style&&this.style.extendFrom(e.style,!1);var n=e.shape;if(n){this.shape=this.shape||{};var a=this.shape;for(var i in n)!a.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(a[i]=n[i])}e.init&&e.init.call(this,t)};for(var n in i.inherits(t,d),e)"style"!==n&&"shape"!==n&&(t.prototype[n]=e[n]);return t},i.inherits(d,a);var p=d;e.exports=p},cbe6:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"gatewayGroupSearch",fn:function(t){return[n("el-select",{attrs:{placeholder:"网关分组",clearable:""},model:{value:e.search.gatewayGroup,callback:function(t){e.$set(e.search,"gatewayGroup",t)},expression:"search.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("386d"),n("ade3")),o=n("b5c6"),s=n("da71");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(s["a"],"/blade-source-stat/list"),method:"get",params:c(c({},n),{},{current:e,size:t})})},d=n("4870"),p=n("5880");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,indexWidth:90,addBtn:!1,columnBtn:!1,menuPosition:"right",menu:!1,column:[{label:"来源IP",prop:"ip",search:!0,width:140},{label:"网关分组",prop:"gatewayGroup",search:!0,searchslot:!0,type:"select",dicData:[],width:130},{label:"服务名",prop:"service",search:!0},{label:"请求方法",prop:"apiMethod",search:!0,type:"select",dicData:d["b"],width:70},{label:"appID",prop:"appid",search:!0,width:90},{label:"API Path",prop:"apiPath",search:!0},{label:"请求次数",prop:"reqCount",width:88},{label:"最近请求时间",prop:"recentReqTime",width:150}]},data:[],search:{}}},computed:f({},Object(p["mapGetters"])(["groupOptions"])),watch:{groupOptions:function(e){var t=this.findObject(this.option.column,"gatewayGroup");t.dicData=e||[]}},created:function(){this.getGroupOptions()},methods:f(f({},Object(p["mapActions"])(["getGroupOptions"])),{},{searchReset:function(){this.query={},this.search={},this.onLoad(this.page)},searchChange:function(e,t){e=Object.assign(e,this.search),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}})},m=g,v=n("2877"),b=Object(v["a"])(m,a,i,!1,null,null,null);t["default"]=b.exports},cbe9:function(e,t,n){var a=n("6d8b"),i=n("9850"),r=n("cf7e");function o(e){r.call(this,e)}o.prototype={constructor:o,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,n){var a=this.getAxis("x"),i=this.getAxis("y");return n=n||[],n[0]=a.toGlobalCoord(a.dataToCoord(e[0])),n[1]=i.toGlobalCoord(i.dataToCoord(e[1])),n},clampData:function(e,t){var n=this.getAxis("x").scale,a=this.getAxis("y").scale,i=n.getExtent(),r=a.getExtent(),o=n.parse(e[0]),s=a.parse(e[1]);return t=t||[],t[0]=Math.min(Math.max(Math.min(i[0],i[1]),o),Math.max(i[0],i[1])),t[1]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),t},pointToData:function(e,t){var n=this.getAxis("x"),a=this.getAxis("y");return t=t||[],t[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=a.coordToData(a.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")},getArea:function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),a=Math.min(t[0],t[1]),r=Math.max(e[0],e[1])-n,o=Math.max(t[0],t[1])-a,s=new i(n,a,r,o);return s}},a.inherits(o,r);var s=o;e.exports=s},cc38:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},e._l(e.tips,(function(t,a){return n("span",{key:a},[0!==a?n("br"):e._e(),e._v("\n      "+e._s(t.title)),n("br"),e._v("\n      "+e._s(t.msg)),n("br")])})),0),n("i",{staticClass:"el-icon-question"})])},i=[],r={name:"quoteTooltip",data:function(){return{tips:[{title:"获取入参请求头aaa的值",msg:"input.request.headers.aaa"},{title:"获取入参请求体bbb字段的值",msg:"input.request.body.bbb"},{title:"获取入参URL Query参数fff字段的值",msg:"input.request.params.fff"},{title:"获取步骤1里request1的请求头ccc的值",msg:"step1.request1.request.headers.ccc"},{title:"获取步骤1里request1的响应体ddd的值",msg:"step1.request1.response.body.ddd"},{title:"获取步骤1结果里eee的值",msg:"step1.result.eee"},{title:"默认值：input.request.body.bbb|123",msg:"管道符|后面是默认值，当引用值为空时返回默认值"}]}}},o=r,s=(n("1cbe"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"dd7edc7c",null);t["default"]=l.exports},cc45:function(e,t,n){var a=n("1a2d"),i=n("b047"),r=n("99d3"),o=r&&r.isMap,s=o?i(o):a;e.exports=s},ccbe:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return f}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/detail"),method:"get",params:{id:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/remove"),method:"post",params:{ids:e}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/submit"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/submit"),method:"post",data:e})},h=function(e,t){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/setting"),method:"post",params:s(s({},t),{},{ids:e})})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/info"),method:"get",params:{domain:e}})}},cccd:function(e,t,n){var a=n("e0d3"),i=a.makeInner;function r(){var e=i();return function(t){var n=e(t),a=t.pipelineContext,i=n.large,r=n.progressiveRender,o=n.large=a&&a.large,s=n.progressiveRender=a&&a.progressiveRender;return!!(i^o||r^s)&&"reset"}}e.exports=r},ccdc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{"popper-class":"tooltip-dark",placement:"top",title:e.title,width:"500"}},[n("div",{staticClass:"content"},[e._v("\n    API路径匹配规则说明：\n    "),n("br"),n("br"),e._v("\n    ?   匹配一个字符"),n("br"),e._v("\n    *   匹配一级目录内的0个或多个字符"),n("br"),e._v("\n    **  匹配0级或多级目录"),n("br"),e._v("\n    {fizz:[a-z]+} 匹配正则表达式 [a-z]+，匹配结果赋值给名为fizz的路径变量"),n("br"),n("br"),e._v("\n    后端API路径可以通过{$1}-{$n}来获取前端API路径中通配符和正则表达式的值，正则表达式的值也可以通过命名变量来获取；\n    "),n("br"),n("br"),e._v("\n    例子："),n("br"),e._v("\n    前端API路径： /x/{fizz:[a-z]+}/z/**"),n("br"),e._v("\n    后端API路径： /x/{fizz}/{$2} 或 /x/{$1}/{$2}"),n("br"),e._v("\n    此例中 {fizz} 和{$1} 取的都是前端API路径中正则表达式{fizz:[a-z]+}的值\n    "),n("br"),n("br"),e._v("\n    当请求接口路径/x/y/z/a/b/c时，会匹配到上面的路由，{fizz} 和{$1}的值为y, {$2}的值为a/b/c\n  ")]),n("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("("+e._s(e.title)+")")])])},i=[],r={name:"tooltip-path",props:{title:{type:String,default:"规则说明"}}},o=r,s=(n("51a5"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},cd12:function(e,t,n){n("01ed"),n("4a9d"),n("cb8f")},cd33:function(e,t,n){var a=n("6d8b"),i=n("4319"),r=a.each,o=a.curry;function s(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return l(n,e,t),n.seriesInvolved&&u(n,e),n}function l(e,t,n){var a=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),s=i.get("link",!0)||[],l=[];r(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var u=v(n.model),p=e.coordSysAxesInfo[u]={};e.coordSysMap[u]=n;var h=n.model,f=h.getModel("tooltip",a);if(r(n.getAxes(),o(x,!1,null)),n.getTooltipAxes&&a&&f.get("show")){var g="axis"===f.get("trigger"),b="cross"===f.get("axisPointer.type"),y=n.getTooltipAxes(f.get("axisPointer.axis"));(g||b)&&r(y.baseAxes,o(x,!b||"cross",g)),b&&r(y.otherAxes,o(x,"cross",!1))}}function x(a,r,o){var u=o.model.getModel("axisPointer",i),h=u.get("show");if(h&&("auto"!==h||a||m(u))){null==r&&(r=u.get("triggerTooltip")),u=a?c(o,f,i,t,a,r):u;var g=u.get("snap"),b=v(o.model),y=r||g||"category"===o.type,x=e.axesInfo[b]={key:b,axis:o,coordSys:n,axisPointerModel:u,triggerTooltip:r,involveSeries:y,snap:g,useHandle:m(u),seriesModels:[]};p[b]=x,e.seriesInvolved|=y;var w=d(s,o);if(null!=w){var _=l[w]||(l[w]={axesInfo:{}});_.axesInfo[b]=x,_.mapper=s[w].mapper,x.linkGroup=_}}}}))}function c(e,t,n,o,s,l){var c=t.getModel("axisPointer"),u={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(e){u[e]=a.clone(c.get(e))})),u.snap="category"!==e.type&&!!l,"cross"===c.get("type")&&(u.type="line");var d=u.label||(u.label={});if(null==d.show&&(d.show=!1),"cross"===s){var p=c.get("label.show");if(d.show=null==p||p,!l){var h=u.lineStyle=c.get("crossStyle");h&&a.defaults(d,h.textStyle)}}return e.model.getModel("axisPointer",new i(u,n,o))}function u(e,t){t.eachSeries((function(t){var n=t.coordinateSystem,a=t.get("tooltip.trigger",!0),i=t.get("tooltip.show",!0);n&&"none"!==a&&!1!==a&&"item"!==a&&!1!==i&&!1!==t.get("axisPointer.show",!0)&&r(e.coordSysAxesInfo[v(n.model)],(function(e){var a=e.axis;n.getAxis(a.dim)===a&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}),this)}function d(e,t){for(var n=t.model,a=t.dim,i=0;i<e.length;i++){var r=e[i]||{};if(p(r[a+"AxisId"],n.id)||p(r[a+"AxisIndex"],n.componentIndex)||p(r[a+"AxisName"],n.name))return i}}function p(e,t){return"all"===e||a.isArray(e)&&a.indexOf(e,t)>=0||e===t}function h(e){var t=f(e);if(t){var n=t.axisPointerModel,a=t.axis.scale,i=n.option,r=n.get("status"),o=n.get("value");null!=o&&(o=a.parse(o));var s=m(n);null==r&&(i.status=s?"show":"hide");var l=a.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function f(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[v(e)]}function g(e){var t=f(e);return t&&t.axisPointerModel}function m(e){return!!e.get("handle.show")}function v(e){return e.type+"||"+e.id}t.collect=s,t.fixValue=h,t.getAxisInfo=f,t.getAxisPointerModel=g,t.makeKey=v},cd67:function(e,t,n){"use strict";n("bc52")},cd9d:function(e,t){function n(e){return e}e.exports=n},cdaa:function(e,t,n){var a=n("607d"),i=a.addEventListener,r=a.removeEventListener,o=a.normalizeEvent,s=a.getNativeEvent,l=n("6d8b"),c=n("1fab"),u=n("22d1"),d=300,p=u.domSupported,h=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a=l.map(e,(function(e){var t=e.replace("mouse","pointer");return n.hasOwnProperty(t)?t:e}));return{mouse:e,touch:t,pointer:a}}(),f={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function g(e){return"mousewheel"===e&&u.browser.firefox?"DOMMouseScroll":e}function m(e){var t=e.pointerType;return"pen"===t||"touch"===t}function v(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.touching=!1,e.touchTimer=null}),700)}function b(e){e&&(e.zrByTouch=!0)}function y(e,t){return o(e.dom,new w(e,t),!0)}function x(e,t){var n=t,a=!1;while(n&&9!==n.nodeType&&!(a=n.domBelongToZr||n!==t&&n===e.painterRoot))n=n.parentNode;return a}function w(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var _=w.prototype;_.stopPropagation=_.stopImmediatePropagation=_.preventDefault=l.noop;var O={mousedown:function(e){e=o(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=o(this.dom,e);var t=this._mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||P(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=o(this.dom,e),P(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=o(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=x(this,t),this.trigger("mouseout",e)},touchstart:function(e){e=o(this.dom,e),b(e),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),O.mousemove.call(this,e),O.mousedown.call(this,e)},touchmove:function(e){e=o(this.dom,e),b(e),this.handler.processGesture(e,"change"),O.mousemove.call(this,e)},touchend:function(e){e=o(this.dom,e),b(e),this.handler.processGesture(e,"end"),O.mouseup.call(this,e),+new Date-this._lastTouchMoment<d&&O.click.call(this,e)},pointerdown:function(e){O.mousedown.call(this,e)},pointermove:function(e){m(e)||O.mousemove.call(this,e)},pointerup:function(e){O.mouseup.call(this,e)},pointerout:function(e){m(e)||O.mouseout.call(this,e)}};l.each(["click","mousewheel","dblclick","contextmenu"],(function(e){O[e]=function(t){t=o(this.dom,t),this.trigger(e,t)}}));var D={pointermove:function(e){m(e)||D.mousemove.call(this,e)},pointerup:function(e){D.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;P(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function C(e,t){var n=t.domHandlers;u.pointerEventsSupported?l.each(h.pointer,(function(a){k(t,a,(function(t){n[a].call(e,t)}))})):(u.touchEventsSupported&&l.each(h.touch,(function(a){k(t,a,(function(i){n[a].call(e,i),v(t)}))})),l.each(h.mouse,(function(a){k(t,a,(function(i){i=s(i),t.touching||n[a].call(e,i)}))})))}function S(e,t){function n(n){function a(a){a=s(a),x(e,a.target)||(a=y(e,a),t.domHandlers[n].call(e,a))}k(t,n,a,{capture:!0})}u.pointerEventsSupported?l.each(f.pointer,n):u.touchEventsSupported||l.each(f.mouse,n)}function k(e,t,n,a){e.mounted[t]=n,e.listenerOpts[t]=a,i(e.domTarget,g(t),n,a)}function T(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&r(e.domTarget,g(n),t[n],e.listenerOpts[n]);e.mounted={}}function P(e,t){if(e._mayPointerCapture=null,p&&e._pointerCapturing^t){e._pointerCapturing=t;var n=e._globalHandlerScope;t?S(e,n):T(n)}}function j(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function I(e,t){c.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new j(e,O),p&&(this._globalHandlerScope=new j(document,D)),this._pointerCapturing=!1,this._mayPointerCapture=null,C(this,this._localHandlerScope)}var L=I.prototype;L.dispose=function(){T(this._localHandlerScope),p&&T(this._globalHandlerScope)},L.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},l.mixin(I,c);var M=I;e.exports=M},ce86:function(e,t,n){var a=n("9e69"),i=n("7948"),r=n("6747"),o=n("ffd6"),s=1/0,l=a?a.prototype:void 0,c=l?l.toString:void 0;function u(e){if("string"==typeof e)return e;if(r(e))return i(e,u)+"";if(o(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=u},cf7e:function(e,t,n){var a=n("6d8b");function i(e){return this._axes[e]}var r=function(e){this._axes={},this._dimList=[],this.name=e||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return a.map(this._dimList,i,this)},getAxesByScale:function(e){return e=e.toLowerCase(),a.filter(this.getAxes(),(function(t){return t.scale.type===e}))},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,a=e instanceof Array?[]:{},i=0;i<n.length;i++){var r=n[i],o=this._axes[r];a[r]=o[t](e[r])}return a}};var o=r;e.exports=o},d02c:function(e,t,n){var a=n("5e2e"),i=n("79bc"),r=n("7b83"),o=200;function s(e,t){var n=this.__data__;if(n instanceof a){var s=n.__data__;if(!i||s.length<o-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(s)}return n.set(e,t),this.size=n.size,this}e.exports=s},d15d:function(e,t,n){var a=n("6d8b"),i=a.createHashMap,r=a.each;function o(e){var t=i();e.eachSeries((function(e){var n=e.get("stack");if(n){var a=t.get(n)||t.set(n,[]),i=e.getData(),r={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:e};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(r)}})),t.each(s)}function s(e){r(e,(function(t,n){var a=[],i=[NaN,NaN],r=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=o.map(r,(function(r,l,c){var u,d,p=o.get(t.stackedDimension,c);if(isNaN(p))return i;s?d=o.getRawIndex(c):u=o.get(t.stackedByDimension,c);for(var h=NaN,f=n-1;f>=0;f--){var g=e[f];if(s||(d=g.data.rawIndexOf(g.stackedByDimension,u)),d>=0){var m=g.data.getByRawIndex(g.stackResultDimension,d);if(p>=0&&m>0||p<=0&&m<0){p+=m,h=m;break}}}return a[0]=p,a[1]=h,a}));o.hostModel.setData(l),t.data=l}))}e.exports=o},d1ba:function(e,t,n){"use strict";n("af81")},d2bd:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"serviceSearch",fn:function(t){return[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.frontendServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),n("el-dialog",{attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[n("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.dialogRules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"155px"}},[n("el-form-item",{attrs:{label:"来源IP",prop:"ip"}},[n("el-input",{staticStyle:{width:"193px"},attrs:{placeholder:"请输入来源IP",clearable:""},model:{value:e.dialogForm.ip,callback:function(t){e.$set(e.dialogForm,"ip",t)},expression:"dialogForm.ip"}})],1),n("el-form-item",{attrs:{label:"前端服务名",prop:"service"}},[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.dialogForm.service,callback:function(t){e.$set(e.dialogForm,"service",t)},expression:"dialogForm.service"}},e._l(e.frontendServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"前端API路径",prop:"path"}},[n("el-input",{attrs:{placeholder:"请输入前端API路径",clearable:""},model:{value:e.dialogForm.path,callback:function(t){e.$set(e.dialogForm,"path",t)},expression:"dialogForm.path"}}),n("span",{staticClass:"key-tips"},[e._v("如果接口URL为http://网关IP:port/proxy/user-service/user/list, 则输入/user/list，如果不配置路径则按服务限流")])],1),n("el-form-item",{attrs:{label:"集群共享QPS",prop:"qps"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.qps*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.qps,callback:function(t){e.$set(e.dialogForm,"qps",t)},expression:"dialogForm.qps"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),n("el-form-item",{attrs:{label:"集群共享并发数",prop:"concurrent"}},[n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.concurrent*e.machineCount||""))]),n("span",[e._v("  =  ")]),n("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.concurrent,callback:function(t){e.$set(e.dialogForm,"concurrent",t)},expression:"dialogForm.concurrent"}}),n("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),n("el-form-item",{attrs:{label:"限流响应ContentType:",prop:"responseContentType"}},[n("el-input",{attrs:{placeholder:"请输入ContentType",clearable:""},model:{value:e.dialogForm.responseContentType,callback:function(t){e.$set(e.dialogForm,"responseContentType",t)},expression:"dialogForm.responseContentType"}}),n("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应ContentType")])],1),n("el-form-item",{attrs:{label:"限流响应报文：",prop:"responseContent"}},[n("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入响应报文",clearable:""},model:{value:e.dialogForm.responseContent,callback:function(t){e.$set(e.dialogForm,"responseContent",t)},expression:"dialogForm.responseContent"}}),n("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应报文")])],1)],1),"view"!==e.detailDialog.type?n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("6762"),n("2fdb"),n("ade3")),o=n("b5c6"),s=n("da71");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/ip/list"),method:"get",params:c(c({},n),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/ip/detail/").concat(e),method:"get"})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/ip/remove"),method:"post",params:{ids:e}})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/ip/save"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/ip/update"),method:"post",data:e})},g=n("6be7"),m=n("5880"),v=n("16cd"),b=n("c54a");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={name:"flow-ip",data:function(){return{form:{},search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",searchLabelWidth:95,column:[{label:"来源IP",prop:"ip",search:!0},{label:"前端服务名",prop:"service",search:!0,searchslot:!0},{label:"前端API路径",prop:"path",search:!0},{label:"单机QPS",prop:"qps"},{label:"单机并发数",prop:"concurrent"}]},data:[],globalData:{},dialogForm:{},dialogRules:{ip:[{required:!0,message:"必填",trigger:"blur"},{validator:function(e,t,n){t&&!Object(b["h"])(Object(v["a"])(t))?n(new Error("请输入正确的IP")):n()},trigger:"blur"}],path:[{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}],qps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],concurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1}}},computed:x(x({},Object(m["mapGetters"])(["permission","frontendServiceOptions"])),{},{machineCount:function(){return this.globalData.machineCount||0}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},created:function(){this.getGlobalRule(),this.getFrontendServiceOptions()},methods:x(x({},Object(m["mapActions"])(["getFrontendServiceOptions"])),{},{getGlobalRule:function(){var e=this;Object(g["b"])().then((function(t){var n=t.data.data;e.globalData=n||{}}))},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var n=Object(v["b"])(e.dialogForm);if(!n.qps&&!n.concurrent)return e.$message.error("单机QPS、单机并发数，请至少填写一个"),!1;"edit"===e.detailDialog.type?e.rowUpdate(n):e.rowSave(n)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,h(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,f(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("你确定要删除此流控规则吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var n=this;switch(this.dialogForm={},this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}["edit","view"].includes(t)?d(this.form.id).then((function(e){n.form=e.data.data,n.dialogForm=Object.assign({},e.data.data||{}),n.detailDialog.visible=!0})):this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}})},_=w,O=(n("47e2"),n("2877")),D=Object(O["a"])(_,a,i,!1,null,"69af1842",null);t["default"]=D.exports},d2cf:function(e,t,n){var a=n("6d8b"),i=n("401b"),r=n("cb6d"),o=n("1fab"),s=n("607d"),l=n("0b44"),c="silent";function u(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:d}}function d(){s.stop(this.event)}function p(){}p.prototype.dispose=function(){};var h=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],f=function(e,t,n,a){o.call(this),this.storage=e,this.painter=t,this.painterRoot=a,n=n||new p,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,r.call(this),this.setHandlerProxy(n)};function g(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){var a,i=e;while(i){if(i.clipPath&&!i.clipPath.contain(t,n))return!1;i.silent&&(a=!0),i=i.parent}return!a||c}return!1}function m(e,t,n){var a=e.painter;return t<0||t>a.getWidth()||n<0||n>a.getHeight()}f.prototype={constructor:f,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(a.each(h,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,a=m(this,t,n),i=this._hovered,r=i.target;r&&!r.__zr&&(i=this.findHover(i.x,i.y),r=i.target);var o=this._hovered=a?{x:t,y:n}:this.findHover(t,n),s=o.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),r&&s!==r&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(o,"mousemove",e),s&&s!==r&&this.dispatchToElement(o,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,n=e.zrIsToLocalDOM;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&!n&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){e=e||{};var a=e.target;if(!a||!a.silent){var i="on"+t,r=u(t,e,n);while(a)if(a[i]&&(r.cancelBubble=a[i].call(a,r)),a.trigger(t,r),a=a.parent,r.cancelBubble)break;r.cancelBubble||(this.trigger(t,r),this.painter&&this.painter.eachOtherLayer((function(e){"function"===typeof e[i]&&e[i].call(e,r),e.trigger&&e.trigger(t,r)})))}},findHover:function(e,t,n){for(var a=this.storage.getDisplayList(),i={x:e,y:t},r=a.length-1;r>=0;r--){var o;if(a[r]!==n&&!a[r].ignore&&(o=g(a[r],e,t))&&(!i.topTarget&&(i.topTarget=a[r]),o!==c)){i.target=a[r];break}}return i},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new l);var n=this._gestureMgr;"start"===t&&n.clear();var a=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),a){var i=a.type;e.gestureEvent=i,this.dispatchToElement({target:a.target},i,a.event)}}},a.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){f.prototype[e]=function(t){var n,a,r=t.zrX,o=t.zrY,s=m(this,r,o);if("mouseup"===e&&s||(n=this.findHover(r,o),a=n.target),"mousedown"===e)this._downEl=a,this._downPoint=[t.zrX,t.zrY],this._upEl=a;else if("mouseup"===e)this._upEl=a;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||i.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}})),a.mixin(f,o),a.mixin(f,r);var v=f;e.exports=v},d322:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("footer",{staticClass:"licensed-footer"},[e._v("\n  AGPL v3 Licensed | Copyright © 2020-present Fizz\n  "),n("p",[e.website?n("a",{attrs:{target:"_blank",href:"http://beian.miit.gov.cn"}},[e._v("\n      "+e._s(e.website)+"\n    ")]):e._e(),n("span",{directives:[{name:"show",rawName:"v-show",value:e.website&&e.netSecurity,expression:"website && netSecurity"}]},[e._v(" | ")]),e.netSecurity?n("a",{attrs:{target:"_blank",href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode="+e.recordCode}},[n("img",{staticStyle:{position:"relative",top:"3px"},attrs:{src:"/img/beian.png"}}),e._v("\n      "+e._s(e.netSecurity)+"\n    ")]):e._e()])]):e._e()},i=[],r=(n("a481"),n("c24f")),o={name:"main",data:function(){return{website:"",netSecurity:""}},computed:{isShow:function(){return this.website||this.netSecurity||!1},recordCode:function(){return this.netSecurity.replace(/[^0-9]/gi,"")||""}},created:function(){var e=this;Object(r["b"])().then((function(t){var n=t.data.data;e.website=n.website,e.netSecurity=n.netSecurity}))}},s=o,l=(n("70db"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"2d5c39f1",null);t["default"]=c.exports},d327:function(e,t){function n(){return[]}e.exports=n},d370:function(e,t,n){var a=n("253c"),i=n("1310"),r=Object.prototype,o=r.hasOwnProperty,s=r.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},d442:function(e,t,n){"use strict";n("3a57")},d48a:function(e,t,n){},d498:function(e,t,n){var a=n("cbe5"),i=n("4fac"),r=a.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){i.buildPath(e,t,!1)}});e.exports=r},d4b0:function(e,t,n){},d4b1:function(e,t,n){var a=n("3eba"),i=n("17d6"),r=a.extendComponentView({type:"axisPointer",render:function(e,t,n){var a=t.getComponent("tooltip"),r=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";i.register("axisPointer",n,(function(e,t,n){"none"!==r&&("leave"===e||r.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},remove:function(e,t){i.unregister(t.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(e,t){i.unregister("axisPointer",t),r.superApply(this._model,"dispose",arguments)}}),o=r;e.exports=o},d4b8:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-drawer",{attrs:{"append-to-body":"","before-close":e.handleClose,visible:e.visible,title:"回放数据 ID-【"+e.id+"】",size:"60%"},on:{"update:visible":function(t){e.visible=t}}},[n("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,size:"small"}},[n("el-form-item",{attrs:{label:"回放方式:",prop:"mode",rules:{required:!0,message:"请选择回放方式",trigger:"change"}}},e._l(e.playbackMode,(function(t,a){return n("el-radio",{key:a,attrs:{label:t.value},model:{value:e.formData.mode,callback:function(t){e.$set(e.formData,"mode",t)},expression:"formData.mode"}},[e._v(e._s(t.label))])})),1),2===e.formData.mode?[n("el-form-item",{attrs:{label:"回放服务:",required:""}},[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addBackendConfig()}}}),n("el-table",{staticStyle:{margin:"10px 0 20px"},attrs:{data:e.callbackReceivers,border:"",stripe:"",size:"mini","max-height":"240"}},[n("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAll},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}})]}},{key:"default",fn:function(t){return[n("el-checkbox",{on:{change:e.handleCheckbox},model:{value:t.row.check,callback:function(n){e.$set(t.row,"check",n)},expression:"scope.row.check"}})]}}],null,!1,3696716012)}),n("el-table-column",{attrs:{label:"服务类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s((1===t.row.type?"服务编排":2===t.row.type&&"服务发现")||t.row.type)+"\n          ")]}}],null,!1,477322755)}),n("el-table-column",{attrs:{prop:"service",label:"服务名"}}),n("el-table-column",{attrs:{prop:"path",label:"路径"}})],1),e._l(e.formData.receivers,(function(t,a){return n("div",{key:a,staticClass:"multiple-config"},[n("el-form-item",{attrs:{label:"【新增服务"+(a+1)+"】类型：","label-width":"180px",required:""}},[n("el-radio-group",{on:{change:function(e){t.service=""}},model:{value:t.type,callback:function(n){e.$set(t,"type",n)},expression:"item.type"}},[n("el-radio",{attrs:{label:1}},[e._v("服务编排")]),n("el-radio",{attrs:{label:2}},[e._v("服务发现")])],1)],1),n("el-form-item",{attrs:{label:"服务名：","label-width":"80px",prop:"receivers."+a+".service",rules:{required:!0,message:"服务名不能为空",trigger:"change"}}},[1===t.type?[n("el-select",{attrs:{placeholder:"请选择服务名",filterable:"",clearable:""},model:{value:t.service,callback:function(n){e.$set(t,"service",n)},expression:"item.service"}},e._l(e.aggregateServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]:2===t.type?[n("el-select",{attrs:{placeholder:"请选择服务名",filterable:"",clearable:""},model:{value:t.service,callback:function(n){e.$set(t,"service",n)},expression:"item.service"}},e._l(e.discoveryServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]:e._e()],2),n("el-form-item",{attrs:{label:"路径：","label-width":"80px",prop:"receivers."+a+".path",rules:[{required:!0,message:"路径不能为空",trigger:"blur"},{pattern:/^(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,message:"请填写正确的路径",trigger:"blur"}]}},[n("el-input",{staticClass:"backend-path",attrs:{placeholder:"转发目标路径，不支持模糊匹配",clearable:""},model:{value:t.path,callback:function(n){e.$set(t,"path",n)},expression:"item.path"}})],1),n("div",[n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteRow(a,e.formData.receivers)}}})],1)],1)}))],2)]:e._e()],2),n("footer",{staticClass:"drawer-footer"},[n("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.hadnleConfirm}},[e._v("确 定")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取 消")])],1)],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=(n("c5f6"),n("5880")),s=n("27fc"),l=n("4c7d");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"publish-dialog",data:function(){return{loading:!1,formData:{receivers:[]},rules:{},playbackMode:s["d"],callbackReceivers:[],isIndeterminate:!1,checkAll:!1}},props:{visible:{type:Boolean,default:!1},name:{type:String,default:"*"},id:{type:[String,Number],required:!0},configId:{type:[String,Number],required:!0}},watch:{visible:function(e){e||(this.remark="")},configId:function(e){e&&this.getCallbackReceivers(e)},callbackReceivers:{deep:!0,handler:function(){this.handleCheckbox()}}},computed:u(u({},Object(o["mapGetters"])(["aggregateServiceOptions","discoveryServiceOptions"])),{},{checkList:function(){return this.callbackReceivers.filter((function(e){return!0===e.check}))||[]}}),created:function(){this.getAggregateServiceOptions(),this.getDiscoveryServiceOptions()},methods:u(u({},Object(o["mapActions"])(["getAggregateServiceOptions","getDiscoveryServiceOptions"])),{},{deleteRow:function(e,t){t.splice(e,1)},addBackendConfig:function(){this.formData.receivers.push({type:1,service:"",path:""})},getCallbackReceivers:function(e){var t=this;Object(l["a"])(e).then((function(e){t.callbackReceivers=e.data.data||[]}))},handleCheckbox:function(){var e=this.callbackReceivers.filter((function(e){return!0===e.check})),t=e.length;this.checkAll=t===this.callbackReceivers.length,this.isIndeterminate=t>0&&t<this.callbackReceivers.length},handleCheckAll:function(e){this.callbackReceivers=this.callbackReceivers.map((function(t){return t.check=e,t})),this.isIndeterminate=!1},hadnleConfirm:function(){var e=this;this.$refs.formData.validate((function(t){if(t){var n={id:e.id,mode:e.formData.mode};if(n.receivers=(e.checkList||[]).concat(e.formData.receivers||[]),2===e.formData.mode&&!n.receivers.length)return e.$message.error("选择接收回放的服务，服务不能为空"),!1;e.loading=!0,Object(l["d"])(n).then((function(){e.$message.success("回放成功"),e.$emit("update:visible",!1)})).finally((function(){e.loading=!1}))}}))},handleClose:function(e){this.$emit("update:visible",!1),e&&e()}})},p=d,h=(n("a1d3"),n("2877")),f=Object(h["a"])(p,a,i,!1,null,"6e73240a",null);t["default"]=f.exports},d4c6:function(e,t,n){var a=n("cbe5"),i=a.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},buildPath:function(e,t){for(var n=t.paths||[],a=0;a<n.length;a++)n[a].buildPath(e,n[a].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),a.prototype.getBoundingRect.call(this)}});e.exports=i},d4c8:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("avue-back-top",{attrs:{id:"avue-view"}}),n("avue-back-top",{attrs:{id:"avue-view",height:100,bottom:200}},[n("div",{staticClass:"top"},[e._v("返回顶端")])])],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"2000px","background-color":"#fff"}},[n("div",{staticStyle:{padding:"15px 20px","font-size":"18px"}},[e._v("往下拉就会出现返回菜单")])])}],r={},o=r,s=(n("56c5"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"9b5b37d8",null);t["default"]=l.exports},d4d1:function(e,t,n){var a=n("cbe5"),i=n("401b"),r=n("897a"),o=i.min,s=i.max,l=i.scaleAndAdd,c=i.copy,u=[],d=[],p=[];function h(e){return isNaN(e[0])||isNaN(e[1])}function f(e,t,n,a,i,r,o,s,l,c,u){return"none"!==c&&c?g.apply(this,arguments):m.apply(this,arguments)}function g(e,t,n,a,i,r,o,s,l,u,f){for(var g=0,m=n,v=0;v<a;v++){var b=t[m];if(m>=i||m<0)break;if(h(b)){if(f){m+=r;continue}break}if(m===n)e[r>0?"moveTo":"lineTo"](b[0],b[1]);else if(l>0){var y=t[g],x="y"===u?1:0,w=(b[x]-y[x])*l;c(d,y),d[x]=y[x]+w,c(p,b),p[x]=b[x]-w,e.bezierCurveTo(d[0],d[1],p[0],p[1],b[0],b[1])}else e.lineTo(b[0],b[1]);g=m,m+=r}return v}function m(e,t,n,a,r,f,g,m,v,b,y){for(var x=0,w=n,_=0;_<a;_++){var O=t[w];if(w>=r||w<0)break;if(h(O)){if(y){w+=f;continue}break}if(w===n)e[f>0?"moveTo":"lineTo"](O[0],O[1]),c(d,O);else if(v>0){var D=w+f,C=t[D];if(y)while(C&&h(t[D]))D+=f,C=t[D];var S=.5,k=t[x];C=t[D];if(!C||h(C))c(p,O);else{var T,P;if(h(C)&&!y&&(C=O),i.sub(u,C,k),"x"===b||"y"===b){var j="x"===b?0:1;T=Math.abs(O[j]-k[j]),P=Math.abs(O[j]-C[j])}else T=i.dist(O,k),P=i.dist(O,C);S=P/(P+T),l(p,O,u,-v*(1-S))}o(d,d,m),s(d,d,g),o(p,p,m),s(p,p,g),e.bezierCurveTo(d[0],d[1],p[0],p[1],O[0],O[1]),l(d,O,u,v*S)}else e.lineTo(O[0],O[1]);x=w,w+=f}return _}function v(e,t){var n=[1/0,1/0],a=[-1/0,-1/0];if(t)for(var i=0;i<e.length;i++){var r=e[i];r[0]<n[0]&&(n[0]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[0]>a[0]&&(a[0]=r[0]),r[1]>a[1]&&(a[1]=r[1])}return{min:t?n:a,max:t?a:n}}var b=a.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(a.prototype.brush),buildPath:function(e,t){var n=t.points,a=0,i=n.length,r=v(n,t.smoothConstraint);if(t.connectNulls){for(;i>0;i--)if(!h(n[i-1]))break;for(;a<i;a++)if(!h(n[a]))break}while(a<i)a+=f(e,n,a,i,i,1,r.min,r.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),y=a.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(a.prototype.brush),buildPath:function(e,t){var n=t.points,a=t.stackedOnPoints,i=0,r=n.length,o=t.smoothMonotone,s=v(n,t.smoothConstraint),l=v(a,t.smoothConstraint);if(t.connectNulls){for(;r>0;r--)if(!h(n[r-1]))break;for(;i<r;i++)if(!h(n[i]))break}while(i<r){var c=f(e,n,i,r,r,1,s.min,s.max,t.smooth,o,t.connectNulls);f(e,a,i+c-1,c,r,-1,l.min,l.max,t.stackedOnSmooth,o,t.connectNulls),i+=c+1,e.closePath()}}});t.Polyline=b,t.Polygon=y},d51b:function(e,t){var n=function(){this.head=null,this.tail=null,this._len=0},a=n.prototype;a.insert=function(e){var t=new i(e);return this.insertEntry(t),t},a.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},a.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},a.len=function(){return this._len},a.clear=function(){this.head=this.tail=null,this._len=0};var i=function(e){this.value=e,this.next,this.prev},r=function(e){this._list=new n,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},o=r.prototype;o.put=function(e,t){var n=this._list,a=this._map,r=null;if(null==a[e]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete a[l.key],r=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new i(t),s.key=e,n.insertEntry(s),a[e]=s}return r},o.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},o.clear=function(){this._list.clear(),this._map={}};var s=r;e.exports=s},d5b7:function(e,t,n){var a=n("de00"),i=n("1fab"),r=n("0cde"),o=n("bd6b"),s=n("6d8b"),l=function(e){r.call(this,e),i.call(this,e),o.call(this,e),this.id=e.id||a()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"===typeof e)this.attrKV(e,t);else if(s.isObject(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},s.mixin(l,o),s.mixin(l,r),s.mixin(l,i);var c=l;e.exports=c},d6ef:function(e,t,n){var a=n("3eba"),i={type:"selectDataRange",event:"dataRangeSelected",update:"update"};a.registerAction(i,(function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))}))},d7d1:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.getPermission},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"instanceIpsForm",fn:function(t){return[n("div",[n("el-input",{attrs:{type:"textarea",placeholder:"网关实例IP",autosize:{minRows:3,maxRows:8},clearable:""},model:{value:e.form.instanceIps,callback:function(t){e.$set(e.form,"instanceIps",t)},expression:"form.instanceIps"}}),n("span",{staticClass:"key-tips"},[e._v("多个IP用逗号,分隔，需填写实际IP，不能填写127.0.0.1")])],1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ade3")),o=(n("ac6a"),n("28a5"),n("0468")),s=n("5880"),l=n("16cd"),c=n("c54a");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,column:[{label:"分组ID",prop:"groupId",search:!0,editDisabled:!0,overHidden:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"分组名称",prop:"groupName",search:!0,overHidden:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"网关实例IP",prop:"instanceIps",placeholder:"多个IP用逗号,分隔",overHidden:!0,type:"textarea",span:24,minRows:3,formslot:!0,rules:[{required:!0,message:"必填",trigger:"blur"},{validator:function(e,t,n){var a=t.split(","),i=!0,r=!1;if(a.forEach((function(e){e&&!Object(c["h"])(Object(l["a"])(e))?i=!1:"127.0.0.1"===Object(l["a"])(e)&&(i=!1,r=!0)})),t&&!i){var o=r?"请勿填写127.0.0.1":"请输入正确的IP";n(new Error(o))}else n()},trigger:"blur"}]}]},data:[]}},computed:d(d({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.gateway_group_add,!1),editBtn:this.vaildData(this.permission.gateway_group_edit,!1),viewBtn:this.vaildData(this.permission.gateway_group_view,!1),delBtn:this.vaildData(this.permission.gateway_group_delete,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{getPermission:function(e,t){return!("addBtn"===e&&!this.permissionList.addBtn)&&(!("viewBtn"===e&&!this.permissionList.viewBtn)&&(!!("editBtn"!==e||"default"!==t.groupId&&this.permissionList.editBtn)&&!!("delBtn"!==e||"default"!==t.groupId&&this.permissionList.delBtn)))},handleSubmitData:function(e){e=Object(l["b"])(e);var t=e.instanceIps.split(",");return t=t.map((function(e){return Object(l["a"])(e)})),t=t.join(","),e.instanceIps=t,e},rowSave:function(e,t,n){var a=this;e=this.handleSubmitData(e),Object(o["a"])(e).then((function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"保存成功"})}),(function(e){n(),window.console.log(e)}))},rowUpdate:function(e,t,n,a){var i=this;e=this.handleSubmitData(e),Object(o["f"])(e).then((function(){n(),i.onLoad(i.page),i.$message({type:"success",message:"修改成功"})}),(function(e){a(),window.console.log(e)}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["c"])(this.form.id).then((function(e){n.form=e.data.data})),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["d"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},h=p,f=(n("9bda"),n("2877")),g=Object(f["a"])(h,a,i,!1,null,"37bf065c",null);t["default"]=g.exports},d7ee:function(e,t,n){var a=n("c3fc"),i=n("b047"),r=n("99d3"),o=r&&r.isSet,s=o?i(o):a;e.exports=s},d80e:function(e,t,n){},d833:function(e,t,n){var a=n("20c8"),i=n("9680"),r=n("e7d2"),o=n("68ab"),s=n("9f51"),l=n("857d"),c=l.normalizeRadian,u=n("4a3f"),d=n("8728"),p=a.CMD,h=2*Math.PI,f=1e-4;function g(e,t){return Math.abs(e-t)<f}var m=[-1,-1,-1],v=[-1,-1];function b(){var e=v[0];v[0]=v[1],v[1]=e}function y(e,t,n,a,i,r,o,s,l,c){if(c>t&&c>a&&c>r&&c>s||c<t&&c<a&&c<r&&c<s)return 0;var d=u.cubicRootAt(t,a,r,s,c,m);if(0===d)return 0;for(var p,h,f=0,g=-1,y=0;y<d;y++){var x=m[y],w=0===x||1===x?.5:1,_=u.cubicAt(e,n,i,o,x);_<l||(g<0&&(g=u.cubicExtrema(t,a,r,s,v),v[1]<v[0]&&g>1&&b(),p=u.cubicAt(t,a,r,s,v[0]),g>1&&(h=u.cubicAt(t,a,r,s,v[1]))),2===g?x<v[0]?f+=p<t?w:-w:x<v[1]?f+=h<p?w:-w:f+=s<h?w:-w:x<v[0]?f+=p<t?w:-w:f+=s<p?w:-w)}return f}function x(e,t,n,a,i,r,o,s){if(s>t&&s>a&&s>r||s<t&&s<a&&s<r)return 0;var l=u.quadraticRootAt(t,a,r,s,m);if(0===l)return 0;var c=u.quadraticExtremum(t,a,r);if(c>=0&&c<=1){for(var d=0,p=u.quadraticAt(t,a,r,c),h=0;h<l;h++){var f=0===m[h]||1===m[h]?.5:1,g=u.quadraticAt(e,n,i,m[h]);g<o||(m[h]<c?d+=p<t?f:-f:d+=r<p?f:-f)}return d}f=0===m[0]||1===m[0]?.5:1,g=u.quadraticAt(e,n,i,m[0]);return g<o?0:r<t?f:-f}function w(e,t,n,a,i,r,o,s){if(s-=t,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);m[0]=-l,m[1]=l;var u=Math.abs(a-i);if(u<1e-4)return 0;if(u%h<1e-4){a=0,i=h;var d=r?1:-1;return o>=m[0]+e&&o<=m[1]+e?d:0}if(r){l=a;a=c(i),i=c(l)}else a=c(a),i=c(i);a>i&&(i+=h);for(var p=0,f=0;f<2;f++){var g=m[f];if(g+e>o){var v=Math.atan2(s,g);d=r?1:-1;v<0&&(v=h+v),(v>=a&&v<=i||v+h>=a&&v+h<=i)&&(v>Math.PI/2&&v<1.5*Math.PI&&(d=-d),p+=d)}}return p}function _(e,t,n,a,l){for(var c=0,u=0,h=0,f=0,m=0,v=0;v<e.length;){var b=e[v++];switch(b===p.M&&v>1&&(n||(c+=d(u,h,f,m,a,l))),1===v&&(u=e[v],h=e[v+1],f=u,m=h),b){case p.M:f=e[v++],m=e[v++],u=f,h=m;break;case p.L:if(n){if(i.containStroke(u,h,e[v],e[v+1],t,a,l))return!0}else c+=d(u,h,e[v],e[v+1],a,l)||0;u=e[v++],h=e[v++];break;case p.C:if(n){if(r.containStroke(u,h,e[v++],e[v++],e[v++],e[v++],e[v],e[v+1],t,a,l))return!0}else c+=y(u,h,e[v++],e[v++],e[v++],e[v++],e[v],e[v+1],a,l)||0;u=e[v++],h=e[v++];break;case p.Q:if(n){if(o.containStroke(u,h,e[v++],e[v++],e[v],e[v+1],t,a,l))return!0}else c+=x(u,h,e[v++],e[v++],e[v],e[v+1],a,l)||0;u=e[v++],h=e[v++];break;case p.A:var _=e[v++],O=e[v++],D=e[v++],C=e[v++],S=e[v++],k=e[v++];v+=1;var T=1-e[v++],P=Math.cos(S)*D+_,j=Math.sin(S)*C+O;v>1?c+=d(u,h,P,j,a,l):(f=P,m=j);var I=(a-_)*C/D+_;if(n){if(s.containStroke(_,O,C,S,S+k,T,t,I,l))return!0}else c+=w(_,O,C,S,S+k,T,I,l);u=Math.cos(S+k)*D+_,h=Math.sin(S+k)*C+O;break;case p.R:f=u=e[v++],m=h=e[v++];var L=e[v++],M=e[v++];P=f+L,j=m+M;if(n){if(i.containStroke(f,m,P,m,t,a,l)||i.containStroke(P,m,P,j,t,a,l)||i.containStroke(P,j,f,j,t,a,l)||i.containStroke(f,j,f,m,t,a,l))return!0}else c+=d(P,m,P,j,a,l),c+=d(f,j,f,m,a,l);break;case p.Z:if(n){if(i.containStroke(u,h,f,m,t,a,l))return!0}else c+=d(u,h,f,m,a,l);u=f,h=m;break}}return n||g(h,m)||(c+=d(u,h,f,m,a,l)||0),0!==c}function O(e,t,n){return _(e,0,!1,t,n)}function D(e,t,n,a){return _(e,t,!0,n,a)}t.contain=O,t.containStroke=D},d9a3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("28a5"),n("456d"),n("ac6a"),n("c5f6"),n("ee1d");var a=n("d4ec"),i=n("bee2"),r=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"notEmpty",value:function(e){return!this.isEmpty(e)}},{key:"isUndefined",value:function(e){return null===e||"undefined"===typeof e}},{key:"isEmpty",value:function(e){return null===e||"undefined"===typeof e||"string"===typeof e&&""===e&&"undefined"!==e}},{key:"toInt",value:function(e,t){if(this.isEmpty(e))return void 0===t?-1:t;var n=parseInt(e,0);return Number.isNaN(n)?void 0===t?-1:t:n}},{key:"toFormData",value:function(e){var t=new FormData;return Object.keys(e).forEach((function(n){t.append(n,Array.isArray(e[n])?e[n].join(","):e[n])})),t}},{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return e?e.format(t):null}},{key:"join",value:function(e){return e?e.join(","):""}},{key:"split",value:function(e){return e?String(e).split(","):""}}]),e}()},d9c3:function(e,t,n){"use strict";n("c674")},d9fc:function(e,t,n){var a=n("cbe5"),i=a.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}});e.exports=i},da03:function(e,t,n){var a=n("2b3e"),i=a["__core-js_shared__"];e.exports=i},dbc0:function(e,t,n){"use strict";n("af60")},dc15:function(e,t,n){"use strict";n("f9e9")},dc2f:function(e,t){var n=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};n.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var a=n;e.exports=a},dc57:function(e,t){var n=Function.prototype,a=n.toString;function i(e){if(null!=e){try{return a.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=i},dcb3:function(e,t,n){var a=n("6d8b"),i=n("625e"),r=n("2306"),o=n("cd33"),s=n("607d"),l=n("88b3"),c=n("e0d3"),u=c.makeInner,d=u(),p=a.clone,h=a.bind;function f(){}function g(e,t,n,a){m(d(n).lastProp,a)||(d(n).lastProp=a,t?r.updateProps(n,a,e):(n.stopAnimation(),n.attr(a)))}function m(e,t){if(a.isObject(e)&&a.isObject(t)){var n=!0;return a.each(t,(function(t,a){n=n&&m(e[a],t)})),!!n}return e===t}function v(e,t){e[t.get("label.show")?"show":"hide"]()}function b(e){return{position:e.position.slice(),rotation:e.rotation||0}}function y(e,t,n){var a=t.get("z"),i=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=a&&(e.z=a),null!=i&&(e.zlevel=i),e.silent=n)}))}f.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var o=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==o||this._lastStatus!==s){this._lastValue=o,this._lastStatus=s;var l=this._group,c=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(c&&c.hide());l&&l.show(),c&&c.show();var u={};this.makeElOption(u,o,e,t,n);var d=u.graphicKey;d!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=d;var p=this._moveAnimation=this.determineAnimation(e,t);if(l){var h=a.curry(g,t,p);this.updatePointerEl(l,u,h,t),this.updateLabelEl(l,u,h,t)}else l=this._group=new r.Group,this.createPointerEl(l,u,e,t),this.createLabelEl(l,u,e,t),n.getZr().add(l);y(l,t,!0),this._renderHandle(o)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),a=e.axis,i="category"===a.type,r=t.get("snap");if(!r&&!i)return!1;if("auto"===n||null==n){var s=this.animationThreshold;if(i&&a.getBandWidth()>s)return!0;if(r){var l=o.getAxisInfo(e).seriesDataCount,c=a.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return!0===n},makeElOption:function(e,t,n,a,i){},createPointerEl:function(e,t,n,a){var i=t.pointer;if(i){var o=d(e).pointerEl=new r[i.type](p(t.pointer));e.add(o)}},createLabelEl:function(e,t,n,a){if(t.label){var i=d(e).labelEl=new r.Rect(p(t.label));e.add(i),v(i,a)}},updatePointerEl:function(e,t,n){var a=d(e).pointerEl;a&&t.pointer&&(a.setStyle(t.pointer.style),n(a,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,a){var i=d(e).labelEl;i&&(i.setStyle(t.label.style),n(i,{shape:t.label.shape,position:t.label.position}),v(i,a))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),o=this._handle,c=n.getModel("handle"),u=n.get("status");if(!c.get("show")||!u||"hide"===u)return o&&i.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=r.createIcon(c.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){s.stop(e.event)},onmousedown:h(this._onHandleDragMove,this,0,0),drift:h(this._onHandleDragMove,this),ondragend:h(this._onHandleDragEnd,this)}),i.add(o)),y(o,n,!1);var d=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];o.setStyle(c.getItemStyle(null,d));var p=c.get("size");a.isArray(p)||(p=[p,p]),o.attr("scale",[p[0]/2,p[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",c.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){g(this._axisPointerModel,!t&&this._moveAnimation,this._handle,b(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var a=this.updateHandleTransform(b(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a,n.stopAnimation(),n.attr(b(a)),d(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var e=this._handle;if(e){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},_onHandleDragEnd:function(e){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,a=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),a&&t.remove(a),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}},f.prototype.constructor=f,i.enableClassExtend(f);var x=f;e.exports=x},dcbe:function(e,t,n){var a=n("30c9"),i=n("1310");function r(e){return i(e)&&a(e)}e.exports=r},dd4b:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("el-row",[n("el-col",{attrs:{span:24}},[n("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.dataParent,page:e.pageParent,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"row-click":e.handleRowClick,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoadParent},scopedSlots:e._u([{key:"isSealed",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(0===a.isSealed?"否":"是"))])]}}]),model:{value:e.formParent,callback:function(t){e.formParent=t},expression:"formParent"}},[n("template",{slot:"menuLeft"},[e.permission.dict_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n            ")]):e._e()],1)],2)],1)],1)],1),n("basic-container",[n("el-row",[n("el-col",{attrs:{span:24}},[n("avue-crud",{ref:"crudChild",attrs:{option:e.option,"table-loading":e.loading,data:e.dataChild,page:e.pageChild,permission:e.permissionList,"before-open":e.beforeOpenChild},on:{"row-del":e.rowDelChild,"row-update":e.rowUpdateChild,"row-save":e.rowSaveChild,"search-change":e.searchChangeChild,"search-reset":e.searchResetChild,"selection-change":e.selectionChangeChild,"current-change":e.currentChangeChild,"size-change":e.sizeChangeChild,"refresh-change":e.refreshChangeChild,"on-load":e.onLoadChild},scopedSlots:e._u([{key:"isSealed",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(0===a.isSealed?"否":"是"))])]}}]),model:{value:e.formChild,callback:function(t){e.formChild=t},expression:"formChild"}},[n("template",{slot:"menuLeft"},[e.permission.dict_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n            ")]):e._e()],1)],2)],1)],1)],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("ade3")),o=n("7754"),s=n("5880");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={data:function(){return{parentId:0,formParent:{},formChild:{},selectionList:[],query:{},loading:!0,pageParent:{pageSize:5,pageSizes:[5,10,30,50,100,200],currentPage:1,total:0},pageChild:{pageSize:5,pageSizes:[5,10,30,50,100,200],currentPage:1,total:0},dataParent:[],dataChild:[],option:{tip:!1,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,height:300,menuWidth:300,dialogWidth:880,column:[{label:"字典编号",prop:"code",search:!0,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典键值",prop:"dictKey",type:"number",rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"select",dicData:[{label:"否",value:0},{label:"是",value:1}],slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",search:!0,hide:!0}]}}},computed:c(c({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),viewBtn:this.vaildData(this.permission.dict_view,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoadParent(a.pageParent),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdate:function(e,t,n,a){var i=this;Object(o["i"])(e).then((function(){i.onLoadParent(i.pageParent),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadParent(t.pageParent),t.$message({type:"success",message:"操作成功!"})}))},handleRowClick:function(e){this.parentId=e.id,this.onLoadChild(this.pageChild)},searchReset:function(){this.query={},this.onLoadParent(this.pageParent)},searchChange:function(e,t){this.query=e,this.pageParent.currentPage=1,this.onLoadParent(this.pageParent,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadParent(e.pageParent),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["c"])(this.formParent.id).then((function(e){n.formParent=e.data.data})),e()},currentChange:function(e){this.pageParent.currentPage=e},sizeChange:function(e){this.pageParent.pageSize=e},refreshChange:function(){this.onLoadParent(this.page,this.query)},rowSaveChild:function(e,t,n){var a=this;Object(o["a"])(e).then((function(){a.onLoadChild(a.pageChild),a.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),n()}))},rowUpdateChild:function(e,t,n,a){var i=this;Object(o["i"])(e).then((function(){i.onLoadChild(i.pageChild),i.$message({type:"success",message:"操作成功!"}),n()}),(function(e){window.console.log(e),a()}))},rowDelChild:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadChild(t.pageChild),t.$message({type:"success",message:"操作成功!"})}))},searchResetChild:function(){this.query={},this.onLoadChild(this.pageChild)},searchChangeChild:function(e,t){this.query=e,this.pageChild.currentPage=1,this.onLoadChild(this.pageChild,e),t()},selectionChangeChild:function(e){this.selectionList=e},selectionClearChild:function(){this.selectionList=[],this.$refs.crudChild.toggleSelection()},handleDeleteChild:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadChild(e.pageChild),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudChild.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenChild:function(e,t){var n=this;["edit","view"].includes(t)&&Object(o["c"])(this.formChild.id).then((function(e){n.formChild=e.data.data})),e()},currentChangeChild:function(e){this.pageChild.currentPage=e},sizeChangeChild:function(e){this.pageChild.pageSize=e},refreshChangeChild:function(){this.onLoadChild(this.pageChild,this.query)},onLoadParent:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["g"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.pageParent.total=n.total,t.dataParent=n.records,t.loading=!1,t.selectionClear()}))},onLoadChild:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,this.parentId,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.pageChild.total=n.total,t.dataChild=n.records,t.loading=!1,t.selectionClear()}))}}},d=u,p=n("2877"),h=Object(p["a"])(d,a,i,!1,null,null,null);t["default"]=h.exports},dd4f:function(e,t,n){},dd62:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{"popper-class":"tooltip-dark",placement:"top",title:e.title,width:"830"}},[n("div",{staticClass:"content"},[n("code-highlight",{attrs:{code:e.content,height:600}})],1),n("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("("+e._s(e.title)+")")])])},i=[],r=n("d480"),o={name:"tooltip-custom",props:{title:{type:String,default:"示例"}},data:function(){return{content:'package we.plugin;\n\nimport java.util.Map;\nimport javax.annotation.Resource;\nimport org.springframework.web.server.ServerWebExchange;\nimport reactor.core.publisher.Mono;\nimport we.plugin.auth.App;\nimport we.plugin.auth.AppService;\nimport we.util.ReactorUtils;\nimport we.util.WebUtils;\n\npublic class MyPluginFilter implements FizzPluginFilter {\n\n     @Resource\n     AppService appService;\n\n     @SuppressWarnings({ "unchecked", "rawtypes", "unused" })\n     @Override\n     public Mono<Void> filter(ServerWebExchange exchange, Map<String, Object> config) {\n          String customConfig = (String) config.get(PluginConfig.CUSTOM_CONFIG); // 获取插件级别的自定义配置信息\n          String appid = WebUtils.getAppId(exchange); // 获取客户端请求携带的appid\n          App app = appService.getApp(appid); // 获取在网关对应的 app\n          String appCustomConfig = app != null ? app.config : null; // 从 app 中取得自定义配置\n\n          doSomething(); // 执行一些逻辑\n          exchange.getAttributes().put("11", "22"); // 往后续插件或逻辑传递参数\n          Mono next = FizzPluginFilterChain.next(exchange); // 执行下一个插件或后续逻辑\n          return next.defaultIfEmpty(ReactorUtils.NULL).flatMap(nil -> {\n               doAfterNext(); // 当 next 完成时执行一些逻辑\n               return Mono.empty();\n          });\n     }\n\n     public void doSomething() {\n\n     }\n\n     public void doAfterNext() {\n       \n     }\n}'}},components:{codeHighlight:r["default"]}},s=o,l=(n("c2f4"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,null,null);t["default"]=c.exports},ddc6:function(e,t){function n(e){return function(t){return null==e?void 0:e[t]}}e.exports=n},dded:function(e,t,n){var a=n("6d8b"),i=n("42e5"),r=function(e,t,n,a,r){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==n?.5:n,this.type="radial",this.global=r||!1,i.call(this,a)};r.prototype={constructor:r},a.inherits(r,i);var o=r;e.exports=o},de00:function(e,t){var n=2311;function a(){return n++}e.exports=a},de1c:function(e,t){var n={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};e.exports=n},de3f:function(e,t,n){},e073:function(e,t,n){var a=n("6d8b"),i=n("e86a"),r=n("e0d3"),o=r.makeInner,s=n("697e"),l=s.makeLabelFormatter,c=s.getOptionCategoryInterval,u=s.shouldShowAllLabels,d=o();function p(e){return"category"===e.type?f(e):v(e)}function h(e,t){return"category"===e.type?m(e,t):{ticks:e.scale.getTicks()}}function f(e){var t=e.getLabelModel(),n=g(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function g(e,t){var n,i,r=b(e,"labels"),o=c(t),s=y(r,o);return s||(a.isFunction(o)?n=C(e,o):(i="auto"===o?w(e):o,n=D(e,i)),x(r,o,{labels:n,labelCategoryInterval:i}))}function m(e,t){var n,i,r=b(e,"ticks"),o=c(t),s=y(r,o);if(s)return s;if(t.get("show")&&!e.scale.isBlank()||(n=[]),a.isFunction(o))n=C(e,o,!0);else if("auto"===o){var l=g(e,e.getLabelModel());i=l.labelCategoryInterval,n=a.map(l.labels,(function(e){return e.tickValue}))}else i=o,n=D(e,i,!0);return x(r,o,{ticks:n,tickCategoryInterval:i})}function v(e){var t=e.scale.getTicks(),n=l(e);return{labels:a.map(t,(function(t,a){return{formattedLabel:n(t,a),rawLabel:e.scale.getLabel(t),tickValue:t}}))}}function b(e,t){return d(e)[t]||(d(e)[t]=[])}function y(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function x(e,t,n){return e.push({key:t,value:n}),n}function w(e){var t=d(e).autoInterval;return null!=t?t:d(e).autoInterval=e.calculateCategoryInterval()}function _(e){var t=O(e),n=l(e),a=(t.axisRotate-t.labelRotate)/180*Math.PI,r=e.scale,o=r.getExtent(),s=r.count();if(o[1]-o[0]<1)return 0;var c=1;s>40&&(c=Math.max(1,Math.floor(s/40)));for(var u=o[0],p=e.dataToCoord(u+1)-e.dataToCoord(u),h=Math.abs(p*Math.cos(a)),f=Math.abs(p*Math.sin(a)),g=0,m=0;u<=o[1];u+=c){var v=0,b=0,y=i.getBoundingRect(n(u),t.font,"center","top");v=1.3*y.width,b=1.3*y.height,g=Math.max(g,v,7),m=Math.max(m,b,7)}var x=g/h,w=m/f;isNaN(x)&&(x=1/0),isNaN(w)&&(w=1/0);var _=Math.max(0,Math.floor(Math.min(x,w))),D=d(e.model),C=e.getExtent(),S=D.lastAutoInterval,k=D.lastTickCount;return null!=S&&null!=k&&Math.abs(S-_)<=1&&Math.abs(k-s)<=1&&S>_&&D.axisExtend0===C[0]&&D.axisExtend1===C[1]?_=S:(D.lastTickCount=s,D.lastAutoInterval=_,D.axisExtend0=C[0],D.axisExtend1=C[1]),_}function O(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function D(e,t,n){var a=l(e),i=e.scale,r=i.getExtent(),o=e.getLabelModel(),s=[],c=Math.max((t||0)+1,1),d=r[0],p=i.count();0!==d&&c>1&&p/c>2&&(d=Math.round(Math.ceil(d/c)*c));var h=u(e),f=o.get("showMinLabel")||h,g=o.get("showMaxLabel")||h;f&&d!==r[0]&&v(r[0]);for(var m=d;m<=r[1];m+=c)v(m);function v(e){s.push(n?e:{formattedLabel:a(e),rawLabel:i.getLabel(e),tickValue:e})}return g&&m-c!==r[1]&&v(r[1]),s}function C(e,t,n){var i=e.scale,r=l(e),o=[];return a.each(i.getTicks(),(function(e){var a=i.getLabel(e);t(e,a)&&o.push(n?e:{formattedLabel:r(e),rawLabel:a,tickValue:e})})),o}t.createAxisLabels=p,t.createAxisTicks=h,t.calculateCategoryInterval=_},e0d3:function(e,t,n){var a=n("6d8b"),i=n("22d1"),r=a.each,o=a.isObject,s=a.isArray,l="series\0";function c(e){return e instanceof Array?e:null==e?[]:[e]}function u(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var a=0,i=n.length;a<i;a++){var r=n[a];!e.emphasis[t].hasOwnProperty(r)&&e[t].hasOwnProperty(r)&&(e.emphasis[t][r]=e[t][r])}}}var d=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function p(e){return!o(e)||s(e)||e instanceof Date?e:e.value}function h(e){return o(e)&&!(e instanceof Array)}function f(e,t){t=(t||[]).slice();var n=a.map(e||[],(function(e,t){return{exist:e}}));return r(t,(function(e,a){if(o(e)){for(var i=0;i<n.length;i++)if(!n[i].option&&null!=e.id&&n[i].exist.id===e.id+"")return n[i].option=e,void(t[a]=null);for(i=0;i<n.length;i++){var r=n[i].exist;if(!n[i].option&&(null==r.id||null==e.id)&&null!=e.name&&!v(e)&&!v(r)&&r.name===e.name+"")return n[i].option=e,void(t[a]=null)}}})),r(t,(function(e,t){if(o(e)){for(var a=0;a<n.length;a++){var i=n[a].exist;if(!n[a].option&&!v(i)&&null==e.id){n[a].option=e;break}}a>=n.length&&n.push({option:e})}})),n}function g(e){var t=a.createHashMap();r(e,(function(e,n){var a=e.exist;a&&t.set(a.id,e)})),r(e,(function(e,n){var i=e.option;a.assert(!i||null==i.id||!t.get(i.id)||t.get(i.id)===e,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&t.set(i.id,e),!e.keyInfo&&(e.keyInfo={})})),r(e,(function(e,n){var a=e.exist,i=e.option,r=e.keyInfo;if(o(i)){if(r.name=null!=i.name?i.name+"":a?a.name:l+n,a)r.id=a.id;else if(null!=i.id)r.id=i.id+"";else{var s=0;do{r.id="\0"+r.name+"\0"+s++}while(t.get(r.id))}t.set(r.id,e)}}))}function m(e){var t=e.name;return!(!t||!t.indexOf(l))}function v(e){return o(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function b(e,t){var n={},a={};return i(e||[],n),i(t||[],a,n),[r(n),r(a)];function i(e,t,n){for(var a=0,i=e.length;a<i;a++)for(var r=e[a].seriesId,o=c(e[a].dataIndex),s=n&&n[r],l=0,u=o.length;l<u;l++){var d=o[l];s&&s[d]?s[d]=null:(t[r]||(t[r]={}))[d]=1}}function r(e,t){var n=[];for(var a in e)if(e.hasOwnProperty(a)&&null!=e[a])if(t)n.push(+a);else{var i=r(e[a],!0);i.length&&n.push({seriesId:a,dataIndex:i})}return n}}function y(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?a.isArray(t.dataIndex)?a.map(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?a.isArray(t.name)?a.map(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}function x(){var e="__\0ec_inner_"+w+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var w=0;function _(e,t,n){if(a.isString(t)){var i={};i[t+"Index"]=0,t=i}var o=n&&n.defaultMainType;!o||O(t,o+"Index")||O(t,o+"Id")||O(t,o+"Name")||(t[o+"Index"]=0);var s={};return r(t,(function(i,r){i=t[r];if("dataIndex"!==r&&"dataIndexInside"!==r){var o=r.match(/^(\w+)(Index|Id|Name)$/)||[],l=o[1],c=(o[2]||"").toLowerCase();if(!(!l||!c||null==i||"index"===c&&"none"===i||n&&n.includeMainTypes&&a.indexOf(n.includeMainTypes,l)<0)){var u={mainType:l};"index"===c&&"all"===i||(u[c]=i);var d=e.queryComponents(u);s[l+"Models"]=d,s[l+"Model"]=d[0]}}else s[r]=i})),s}function O(e,t){return e&&e.hasOwnProperty(t)}function D(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function C(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function S(e){return"auto"===e?i.domSupported?"html":"richText":e||"html"}function k(e,t){var n=a.createHashMap(),i=[];return a.each(e,(function(e){var a=t(e);(n.get(a)||(i.push(a),n.set(a,[]))).push(e)})),{keys:i,buckets:n}}t.normalizeToArray=c,t.defaultEmphasis=u,t.TEXT_STYLE_OPTIONS=d,t.getDataItemValue=p,t.isDataItemOption=h,t.mappingToExists=f,t.makeIdAndName=g,t.isNameSpecified=m,t.isIdInner=v,t.compressBatches=b,t.queryDataIndex=y,t.makeInner=x,t.parseFinder=_,t.setAttribute=D,t.getAttribute=C,t.getTooltipRenderMode=S,t.groupData=k},e0d8:function(e,t,n){var a=n("625e");function i(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}i.prototype.parse=function(e){return e},i.prototype.getSetting=function(e){return this._setting[e]},i.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},i.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},i.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},i.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},i.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(e){this._isBlank=e},i.prototype.getLabel=null,a.enableClassExtend(i),a.enableClassManagement(i,{registerWhenExtend:!0});var r=i;e.exports=r},e17c:function(e,t,n){},e1fc:function(e,t,n){var a=n("6d8b"),i=n("d5b7"),r=n("9850"),o=function(e){for(var t in e=e||{},i.call(this,e),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};o.prototype={constructor:o,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,a=n.indexOf(t);a>=0&&(n.splice(a,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof o&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,r=a.indexOf(i,e);return r<0||(i.splice(r,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof o&&e.delChildrenFromStorage(n)),t&&t.refresh()),this},removeAll:function(){var e,t,n=this._children,a=this.__storage;for(t=0;t<n.length;t++)e=n[t],a&&(a.delFromStorage(e),e instanceof o&&e.delChildrenFromStorage(a)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,a=0;a<n.length;a++){var i=n[a];e.call(t,i,a)}return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var a=this._children[n];e.call(t,a),"group"===a.type&&a.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof o&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof o&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new r(0,0,0,0),a=e||this._children,i=[],o=0;o<a.length;o++){var s=a[o];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),c=s.getLocalTransform(i);c?(n.copy(l),n.applyTransform(c),t=t||n.clone(),t.union(n)):(t=t||l.clone(),t.union(l))}}return t||n}},a.inherits(o,i);var s=o;e.exports=s},e24b:function(e,t,n){var a=n("49f4"),i=n("1efc"),r=n("bbc0"),o=n("7a48"),s=n("2524");function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype["delete"]=i,l.prototype.get=r,l.prototype.has=o,l.prototype.set=s,e.exports=l},e251:function(e,t,n){"use strict";n("3ae7")},e263:function(e,t,n){var a=n("401b"),i=n("4a3f"),r=Math.min,o=Math.max,s=Math.sin,l=Math.cos,c=2*Math.PI,u=a.create(),d=a.create(),p=a.create();function h(e,t,n){if(0!==e.length){var a,i=e[0],s=i[0],l=i[0],c=i[1],u=i[1];for(a=1;a<e.length;a++)i=e[a],s=r(s,i[0]),l=o(l,i[0]),c=r(c,i[1]),u=o(u,i[1]);t[0]=s,t[1]=c,n[0]=l,n[1]=u}}function f(e,t,n,a,i,s){i[0]=r(e,n),i[1]=r(t,a),s[0]=o(e,n),s[1]=o(t,a)}var g=[],m=[];function v(e,t,n,a,s,l,c,u,d,p){var h,f=i.cubicExtrema,v=i.cubicAt,b=f(e,n,s,c,g);for(d[0]=1/0,d[1]=1/0,p[0]=-1/0,p[1]=-1/0,h=0;h<b;h++){var y=v(e,n,s,c,g[h]);d[0]=r(y,d[0]),p[0]=o(y,p[0])}for(b=f(t,a,l,u,m),h=0;h<b;h++){var x=v(t,a,l,u,m[h]);d[1]=r(x,d[1]),p[1]=o(x,p[1])}d[0]=r(e,d[0]),p[0]=o(e,p[0]),d[0]=r(c,d[0]),p[0]=o(c,p[0]),d[1]=r(t,d[1]),p[1]=o(t,p[1]),d[1]=r(u,d[1]),p[1]=o(u,p[1])}function b(e,t,n,a,s,l,c,u){var d=i.quadraticExtremum,p=i.quadraticAt,h=o(r(d(e,n,s),1),0),f=o(r(d(t,a,l),1),0),g=p(e,n,s,h),m=p(t,a,l,f);c[0]=r(e,s,g),c[1]=r(t,l,m),u[0]=o(e,s,g),u[1]=o(t,l,m)}function y(e,t,n,i,r,o,h,f,g){var m=a.min,v=a.max,b=Math.abs(r-o);if(b%c<1e-4&&b>1e-4)return f[0]=e-n,f[1]=t-i,g[0]=e+n,void(g[1]=t+i);if(u[0]=l(r)*n+e,u[1]=s(r)*i+t,d[0]=l(o)*n+e,d[1]=s(o)*i+t,m(f,u,d),v(g,u,d),r%=c,r<0&&(r+=c),o%=c,o<0&&(o+=c),r>o&&!h?o+=c:r<o&&h&&(r+=c),h){var y=o;o=r,r=y}for(var x=0;x<o;x+=Math.PI/2)x>r&&(p[0]=l(x)*n+e,p[1]=s(x)*i+t,m(f,p,f),v(g,p,g))}t.fromPoints=h,t.fromLine=f,t.fromCubic=v,t.fromQuadratic=b,t.fromArc=y},e282:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"api-test-wrapper"},[n("el-container",{staticClass:"api-test-container"},[n("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.historyList.length>0,expression:"historyList.length > 0"}],attrs:{width:"240px"}},[n("div",{staticClass:"history-header"},[e._v("历史测试记录")]),n("el-menu",{staticClass:"history-list",attrs:{"default-active":e.menuActive},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.historyList,(function(t,a){return n("el-menu-item",{key:a,attrs:{index:a},on:{click:function(n){return e.addHistoryTab(t)}}},[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n            "+e._s(t.name)+"\n            "),n("transition",{attrs:{name:"fade"}},[n("el-button",{staticClass:"history-del-btn",attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(n){return n.stopPropagation(),e.deleteHistory(t,a)}}})],1)],1)])})),1)],1),n("el-container",[n("el-header",[n("api-header",{attrs:{"service-name":e.serviceName,"api-name":e.apiName,"page-name":"接口测试"}}),n("div",[n("el-button",{attrs:{size:"small"},on:{click:e.goBack}},[e._v("返回")])],1)],1),n("el-main",[n("el-tabs",{attrs:{type:"card"},on:{edit:e.handleStepTabs},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.testList,(function(t,a){return n("el-tab-pane",{key:a,attrs:{name:a+1,closable:0!==a}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("el-badge",{staticClass:"item",attrs:{"is-dot":!t.id}},[e._v(e._s(t.name))])],1),n("test-item",{ref:"testItem",refInFor:!0,attrs:{data:t,domain:e.domain,refresh:e.addRefresh},on:{"update:data":function(e){t=e}}})],1)})),1)],1)],1)],1)],1)},i=[],r=(n("ac6a"),n("7f7f"),n("7ede")),o=n("708f"),s=n("936b"),l=n("efcc"),c={name:"test",data:function(){return{formData:{},currentTab:1,menuActive:"",tabIndex:1,testList:[{name:"New Test"}],historyList:[],domain:"",loading:!1}},computed:{originId:function(){return this.$route.query.originId||""},serviceName:function(){return this.formData.serviceName||""},apiName:function(){return this.formData.title||""},tabCount:function(){return this.testList&&this.testList.length||1}},created:function(){this.init()},components:{apiHeader:s["default"],testItem:l["default"]},beforeRouteUpdate:function(e,t,n){e.fullPath!==t.fullPath&&(n((function(e){e.originId||e.goBack()})),this.init())},methods:{init:function(){this.getList(),this.initData()},initData:function(){var e=this;if(this.currentTab=1,!this.originId)return this.formData={},void(this.testList=[{name:"New Test"}]);Object(o["f"])(this.originId).then((function(t){var n=t.data.data||{},a=n.id,i=n.method,r=n.path,o=n.name,s=n.serviceName,l=n.formalPathPrefix;e.formData={configId:a,method:i,path:r,title:o,serviceName:s,formalPathPrefix:l},e.testList[0]=Object.assign({name:e.formData.method+" "+e.formData.path,content:""},e.formData)}))},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.loading=!0,t.configId=this.originId,new Promise((function(n,a){Object(r["c"])(1,1e3,t).then((function(t){var a=t.data.data;e.domain=a.gatewayUrl,e.historyList=a.records,e.loading=!1,n(t)})).catch((function(e){a(e)}))}))},handleStepTabs:function(e,t){"add"===t&&(this.tabIndex=this.tabCount,this.currentTab=++this.tabIndex,this.testList.push({name:"New Test"})),"remove"===t&&(this.testList.splice(e-1,1),this.currentTab=e-1)},addHistoryTab:function(e){var t=this,n=!1;this.testList.forEach((function(a,i){a.id===e.id&&(n=!0,t.currentTab=i+1)})),n||Object(r["b"])(e.id).then((function(e){var n=e.data.data||{},a=n.configId,i=n.content,r=n.id,o=n.name;t.tabIndex=t.tabCount,t.currentTab=++t.tabIndex,t.testList.push(Object.assign({configId:a,content:i,id:r,name:o},t.formData))}))},addRefresh:function(){var e=this;this.handleStepTabs(this.currentTab,"remove"),this.initData(),this.getList().then((function(){if(e.historyList&&e.historyList.length>0){e.menuActive="0";var t=e.historyList&&e.historyList[0];e.addHistoryTab(t,e.currentTab)}}))},deleteHistory:function(e){var t=this;this.$confirm("确定删除该历史测试记录?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(r["d"])(e.id)})).then((function(){t.menuActive="0",t.getList(),t.testList.forEach((function(n,a){n.id===e.id&&t.handleStepTabs(a+1,"remove")})),t.$message({type:"success",message:"删除成功"})}))},goBack:function(){var e=decodeURIComponent(this.$route.query.redirect);this.$router.$avueRouter.closeTag(),this.$route.query.redirect&&e&&this.$router.push(e)},openCookies:function(){console.log("openCookies::::")}}},u=c,d=(n("7476"),n("2877")),p=Object(d["a"])(u,a,i,!1,null,null,null);t["default"]=p.exports},e3ca:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("api-header",{attrs:{"service-name":e.serviceName,"group-name":e.groupName,"page-name":e.pageName}})],1),n("h3",[n("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("基础信息")]),n("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,size:"small",disabled:e.disabled,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"网关分组：",prop:"gatewayGroup"}},[n("el-select",{attrs:{placeholder:"请选择网关分组",filterable:"",clearable:""},model:{value:e.formData.gatewayGroup,callback:function(t){e.$set(e.formData,"gatewayGroup",t)},expression:"formData.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"访问：",prop:"access"}},[n("el-radio-group",{model:{value:e.formData.access,callback:function(t){e.$set(e.formData,"access",t)},expression:"formData.access"}},e._l(e.accessType,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label)+"\n          ")])})),1)],1),n("el-form-item",{attrs:{label:"路由类型：",prop:"proxyMode"}},[n("el-radio-group",{on:{change:e.proxyModeChange},model:{value:e.formData.proxyMode,callback:function(t){e.$set(e.formData,"proxyMode",t)},expression:"formData.proxyMode"}},e._l(e.proxyMode,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label)+"\n          ")])})),1)],1),2===e.formData.proxyMode?[n("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":e.discoveryModeChange},model:{value:e.formData.discoveryMode,callback:function(t){e.$set(e.formData,"discoveryMode",t)},expression:"formData.discoveryMode"}},[n("el-tab-pane",{attrs:{name:"1",label:"HTTP"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("el-radio",{attrs:{label:"1"},model:{value:e.formData.discoveryMode,callback:function(t){e.$set(e.formData,"discoveryMode",t)},expression:"formData.discoveryMode"}},[e._v("HTTP")])],1),1===parseInt(e.formData.discoveryMode)?[n("el-form-item",{attrs:{label:"后端服务名：",prop:"backendService"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择服务名",clearable:""},on:{change:e.serviceChange},model:{value:e.formData.backendService,callback:function(t){e.$set(e.formData,"backendService",t)},expression:"formData.backendService"}},e._l(e.discoveryServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1),n("div",{staticClass:"key-tips"},[e._v("路由转发目标服务")])],1),n("el-form-item",{attrs:{label:"后端API路径：",prop:"backendPath"}},[n("el-input",{staticClass:"lg-input",attrs:{placeholder:"请输入后端API路径",clearable:""},on:{change:e.pathChange},model:{value:e.formData.backendPath,callback:function(t){e.$set(e.formData,"backendPath",t)},expression:"formData.backendPath"}}),n("div",{staticClass:"key-tips"},[e._v("\n                  路由转发目标路径，支持精确匹配和引用前端API路径的变量\n                  "),n("tooltip-path",{staticClass:"link",attrs:{title:"规则说明"}}),e._v("\n                  ，如：/a/b/c 或 /a/b/{$1}\n                ")],1)],1)]:e._e()],2),n("el-tab-pane",{attrs:{name:"2",label:"Dubbo"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("el-radio",{attrs:{label:"2"},model:{value:e.formData.discoveryMode,callback:function(t){e.$set(e.formData,"discoveryMode",t)},expression:"formData.discoveryMode"}},[e._v("Dubbo")])],1),2===parseInt(e.formData.discoveryMode)?[n("el-form-item",{key:"serviceName",attrs:{label:"后端服务名",prop:"backendService"}},[e.dubboSeriviceLabel?[n("el-tooltip",{attrs:{content:e.dubboSeriviceLabel,placement:"top-start"}},[n("el-input",{staticStyle:{width:"50%","margin-right":"10px"},attrs:{placeholder:"请选择接口",disabled:""},model:{value:e.dubboSeriviceLabel,callback:function(t){e.dubboSeriviceLabel=t},expression:"dubboSeriviceLabel"}})],1)]:n("el-input",{staticStyle:{width:"50%","margin-right":"10px"},attrs:{placeholder:"请选择接口",disabled:""},model:{value:e.dubboSeriviceLabel,callback:function(t){e.dubboSeriviceLabel=t},expression:"dubboSeriviceLabel"}}),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showRpcSelector=!0}}},[e._v("选择接口")]),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.showRpcAdd=!0}}},[e._v("新增接口")])],2),n("el-form-item",{key:"rpcMethod",attrs:{label:"方法名",prop:"rpcMethod"}},[e.formData.rpcParamTypes?[n("el-tooltip",{attrs:{content:"参数类型："+e.formData.rpcParamTypes,placement:"top-start"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.formData.rpcMethod,callback:function(t){e.$set(e.formData,"rpcMethod",t)},expression:"formData.rpcMethod"}})],1)]:n("el-input",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.formData.rpcMethod,callback:function(t){e.$set(e.formData,"rpcMethod",t)},expression:"formData.rpcMethod"}})],2)]:e._e()],2)],1)]:[1===e.formData.proxyMode?[n("el-form-item",{attrs:{label:"后端服务名：",prop:"backendService"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择服务名",clearable:""},on:{change:e.serviceChange},model:{value:e.formData.backendService,callback:function(t){e.$set(e.formData,"backendService",t)},expression:"formData.backendService"}},e._l(e.aggregateServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1),n("div",{staticClass:"key-tips"},[e._v("路由转发目标服务")])],1)]:n("div",[n("el-form-item",{attrs:{label:"后端服务器："}},[e._l(e.apiBackends,(function(t,a){return n("div",{key:a,staticClass:"service-url"},[n("el-input",{staticClass:"service-url-input",attrs:{placeholder:"请输入后端服务器IP/域名和端口, 如: http://ip:port 或 http://domain:port"},model:{value:t.backendUrl,callback:function(n){e.$set(t,"backendUrl",n)},expression:"item.backendUrl"}}),a?e._e():n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addServiceUrl()}}}),a?n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.delServiceUrl(a)}}}):e._e()],1)})),n("div",{staticClass:"key-tips"},[e._v("路由转发目标服务器，请填写后端服务器IP/域名和端口, 如: http://ip:port 或 http://domain:port，有多台服务器时网关会轮询调用")])],2)],1),n("el-form-item",{attrs:{label:"后端API路径：",prop:"backendPath"}},[n("el-input",{staticClass:"lg-input",attrs:{placeholder:"请输入后端API路径",clearable:""},on:{change:e.pathChange},model:{value:e.formData.backendPath,callback:function(t){e.$set(e.formData,"backendPath",t)},expression:"formData.backendPath"}}),n("div",{staticClass:"key-tips"},[e._v("\n            路由转发目标路径，支持精确匹配和引用前端API路径的变量\n            "),n("tooltip-path",{staticClass:"link",attrs:{title:"规则说明"}}),e._v("\n            ，如：/a/b/c 或 /a/b/{$1}\n          ")],1)],1)],n("el-form-item",{attrs:{label:"前端服务名：",prop:"service"}},[n("el-input",{attrs:{placeholder:"请输入服务名",disabled:e.hasServiceSame&&e.serviceSame,clearable:""},model:{value:e.formData.service,callback:function(t){e.$set(e.formData,"service",t)},expression:"formData.service"}}),e.hasServiceSame?n("el-checkbox",{staticClass:"relate-checkbox",on:{change:e.serviceChange},model:{value:e.serviceSame,callback:function(t){e.serviceSame=t},expression:"serviceSame"}},[e._v("\n          与后端服务名一致\n        ")]):e._e(),n("div",{staticClass:"key-tips"},[e._v("\n          服务名为访问URL其中一级路径，建议与后端服务名一致\n          "),3===e.formData.proxyMode?n("span",[e._v("，无服务名时可自定义一个名称")]):e._e()])],1),n("el-form-item",{attrs:{label:"前端API路径：",prop:"path"}},[n("el-input",{staticClass:"lg-input",attrs:{placeholder:"请输入前端API路径",disabled:e.pathSame,clearable:""},model:{value:e.formData.path,callback:function(t){e.$set(e.formData,"path",t)},expression:"formData.path"}}),n("el-button",{staticClass:"relate-button",attrs:{type:"primary",size:"small",disabled:!e.formData.path,plain:""},on:{click:function(t){return e.checkPath()}}},[e._v("\n          测试\n        ")]),n("div",{staticClass:"key-tips"},[e._v("调用方访问路径，支持精确匹配、前缀匹配和正则表达式\n          "),n("tooltip-path",{staticClass:"link",attrs:{title:"规则说明"}}),e._v("\n          ，如：/x/y/z 或 /x/y/**\n        ")],1)],1),n("el-form-item",{attrs:{label:"调用方(appID)：",prop:"appEnabled"}},[n("el-checkbox",{model:{value:e.formData.appEnabled,callback:function(t){e.$set(e.formData,"appEnabled",t)},expression:"formData.appEnabled"}},[e._v("启用")]),n("div",{staticClass:"key-tips"},[e._v("\n          限制调用方访问，请求URL需在请求头中加应用授权\n          "),n("tooltip-appid",{staticClass:"link",attrs:{title:"示例"}}),e._v("\n          ，不启用不限制\n        ")],1)],1),e.formData.appEnabled?n("div",{staticStyle:{margin:"0 0 18px 120px"}},[n("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){e.appidDrawer=!0}}},[e._v("添加\n        ")]),n("el-table",{attrs:{data:e.appidData,border:"",stripe:"",size:"mini","max-height":"240"}},[n("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleAppidCheckAll},model:{value:e.appidCheckAll,callback:function(t){e.appidCheckAll=t},expression:"appidCheckAll"}})]}},{key:"default",fn:function(t){return[n("el-checkbox",{on:{change:e.handleAppidCheck},model:{value:t.row.enabled,callback:function(n){e.$set(t.row,"enabled",n)},expression:"scope.row.enabled"}})]}}],null,!1,469018870)}),n("el-table-column",{attrs:{label:"appID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.appName)+" ("+e._s(t.row.app)+")\n            ")]}}],null,!1,3248570262)}),n("el-table-column",{attrs:{align:"center",label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteAppid(t.$index,e.appidData)}}},[e._v("\n                删除\n              ")])]}}],null,!1,356933876)})],1)],1):e._e(),n("el-form-item",{attrs:{label:"请求方法：",prop:"method"}},[n("el-select",{attrs:{placeholder:"请选择请求方法",clearable:""},model:{value:e.formData.method,callback:function(t){e.$set(e.formData,"method",t)},expression:"formData.method"}},e._l(e.apiMethod,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"超时时间：",prop:"timeout"}},[n("el-input",{attrs:{type:"number",placeholder:"例：2000",clearable:""},model:{value:e.formData.timeout,callback:function(t){e.$set(e.formData,"timeout",t)},expression:"formData.timeout"}}),n("span",[e._v(" (毫秒)")]),n("div",{staticClass:"key-tips"},[e._v("默认超时时间为20秒")])],1),n("el-form-item",{attrs:{label:"路由结果："}},[n("el-link",{attrs:{type:"primary"}},[e._v("/"+e._s(e.formData.service)+e._s(e.formData.path))]),n("span",[e._v("  转发至：")]),3===e.formData.proxyMode?[e._l(e.apiBackends,(function(t,a){return a<2?n("span",{key:a},[a?n("span",[e._v(" | ")]):e._e(),n("el-link",{attrs:{type:"primary"}},[e._v(e._s(t.backendUrl)+e._s(e.formData.backendPath))])],1):e._e()})),n("span",{directives:[{name:"show",rawName:"v-show",value:e.apiBackends.length>2,expression:"apiBackends.length > 2"}]},[e._v(" | ...")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.apiBackends.length>1,expression:"apiBackends.length > 1"}]},[e._v("(均衡负载)")])]:2===e.formData.proxyMode&&2===parseInt(e.formData.discoveryMode)?[n("el-link",{attrs:{type:"primary"}},[e._v("\n            dubbo://"+e._s(e.formData.backendService)+"/"+e._s(e.formData.rpcMethod)+"\n          ")])]:[n("el-link",{attrs:{type:"primary"}},[e._v("\n            http://"+e._s(e.formData.backendService)+e._s(e.formData.backendPath)+"\n          ")])]],2),n("div",{staticClass:"key-tips"},[e._v("提示：网关访问地址格式为: http://{fizz网关ip:port}"+e._s(e.gatewayPrefix)+"/{前端服务名}/{前端API路径}")])],2),n("h3",[n("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("插件配置")]),n("div",{staticStyle:{"padding-bottom":"10px"}},[n("el-button",{attrs:{size:"small",type:"primary",disabled:e.disabled,plain:""},on:{click:function(t){e.pluginDrawer=!0}}},[e._v("添加插件\n      ")])],1),n("plugin-config",{ref:"pluginConfig",attrs:{config:e.apiPlugins,disabled:e.disabled},on:{change:e.getApiPluginConfig}}),e.disabled?e._e():n("footer",[n("el-button",{attrs:{size:"small",icon:"el-icon-circle-check",loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v("保存\n      ")]),n("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.handleClose}},[e._v("取消")])],1)],1),n("el-drawer",{ref:"pluginDrawer",attrs:{"append-to-body":"",title:"添加插件",size:"50%",visible:e.pluginDrawer},on:{"update:visible":function(t){e.pluginDrawer=t}}},[n("div",[n("div",{staticStyle:{"padding-bottom":"50px"}},[n("plugin-list",{attrs:{config:e.pluginOptions},on:{change:e.getSelectionPlugins}})],1),n("footer",{staticClass:"drawer-footer"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handlePluginDrawer}},[e._v("添 加")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.pluginDrawer=!1}}},[e._v("取 消")])],1)])]),n("el-drawer",{ref:"appidDrawer",attrs:{"append-to-body":"",title:"添加调用方(appID)",size:"50%",visible:e.appidDrawer},on:{"update:visible":function(t){e.appidDrawer=t}}},[n("div",[n("div",{staticStyle:{"padding-bottom":"50px"}},[n("add-appid",{attrs:{selection:e.selectionAppid},on:{"update:selection":function(t){e.selectionAppid=t}}})],1),n("footer",{staticClass:"drawer-footer"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleAppidDrawer()}}},[e._v("确 定")]),n("el-button",{attrs:{size:"small"},on:{click:function(t){e.appidDrawer=!1}}},[e._v("取 消")])],1)])]),n("rpc-api-selector",{ref:"rpcApiSelector",attrs:{visible:e.showRpcSelector,type:"DUBBO"},on:{"update:visible":function(t){e.showRpcSelector=t},confirm:e.getRpcApi}}),n("rpc-api-detail",{attrs:{type:"add",title:"新增DUBBO接口",visible:e.showRpcAdd,callback:e.addRpcCallback},on:{"update:visible":function(t){e.showRpcAdd=t}}}),n("test-path",{attrs:{visible:e.testPathDialog,frontendPath:e.formData.path,backendPath:e.formData.backendPath},on:{"update:visible":function(t){e.testPathDialog=t}}})],1)},i=[],r=(n("8e6e"),n("456d"),n("6b54"),n("6762"),n("2fdb"),n("ac6a"),n("4f7f"),n("5df3"),n("1c4c"),n("7514"),n("7f7f"),n("28a5"),n("ade3")),o=n("5880"),s=n("27fc"),l=n("3bfd"),c=n("9b51"),u=n("7555"),d=n("60cc"),p=n("ccdc"),h=n("17e0"),f=n("2d92"),g=n("c8b6"),m=n("1763"),v=n("74a0");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={name:"detail",data:function(){return{loading:!1,formData:{},accessType:s["a"],proxyMode:s["e"],rules:{gatewayGroup:[{required:!0,message:"必填",trigger:"change"}],backendService:[{required:!0,message:"必填",trigger:"change"}],rpcMethod:[{required:!0,message:"必填",trigger:"change"}],service:[{required:!0,message:"必填",trigger:"blur"}],access:[{required:!0,message:"必填",trigger:"change"}],proxyMode:[{required:!0,message:"必填",trigger:"change"}],path:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}],backendPath:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}]},apiPlugins:[],pluginDrawer:!1,appidDrawer:!1,selectionPlugins:[],selectionAppid:[],appidData:[],appidCheckAll:!1,isIndeterminate:!1,apiBackends:[{}],pathSame:!1,serviceSame:!1,testPathDialog:!1,showRpcSelector:!1,showRpcAdd:!1,apiMethod:[{label:"AUTO",value:""},{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"PATCH",value:"PATCH"},{label:"HEAD",value:"HEAD"},{label:"OPTIONS",value:"OPTIONS"},{label:"TRACE",value:"TRACE"}]}},computed:y(y({},Object(o["mapGetters"])(["permission","aggregateServiceOptions","discoveryServiceOptions","groupOptions","pluginOptions","gatewayPrefix"])),{},{permissionList:function(){return{publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1)}},originId:function(){return this.$route.query.originId||""},actionType:function(){var e=this.$route.path.split("/");return e[e.length-1]||"add"},disabled:function(){return"view"===this.actionType||!1},pageName:function(){return"add"===this.actionType?"新增API":this.$route.name},groupName:function(){var e=this,t=this.groupOptions.find((function(t){return t.value===e.formData.gatewayGroup}));return t&&t.label||""},serviceName:function(){return this.formData.service||""},hasServiceSame:function(){return 1===this.formData.proxyMode||2===this.formData.proxyMode&&1===parseInt(this.formData.discoveryMode)||!1},dubboSeriviceLabel:function(){return this.formData.rpcVersion||this.formData.rpcGroup?this.formData.backendService+" ("+this.formData.rpcVersion+"-"+this.formData.rpcGroup+")":this.formData.backendService}}),components:{apiHeader:c["default"],pluginList:u["default"],pluginConfig:d["default"],tooltipPath:p["default"],tooltipAppid:h["default"],testPath:f["default"],addAppid:g["default"],rpcApiSelector:m["default"],rpcApiDetail:v["default"]},watch:{appidData:{deep:!0,handler:function(){this.handleAppidCheck()}}},created:function(){this.getGroupOptions(),this.getAggregateServiceOptions(),this.getDiscoveryServiceOptions(),this.getPluginOptions(),this.getGatewayPrefix(),this.init()},beforeRouteUpdate:function(e,t,n){e.fullPath!==t.fullPath&&(n(),this.init())},methods:y(y({},Object(o["mapActions"])(["getAggregateServiceOptions","getDiscoveryServiceOptions","getGroupOptions","getPluginOptions","getGatewayPrefix"])),{},{addRpcCallback:function(){this.$refs.rpcApiSelector.onLoad()},getRpcApi:function(e){var t=e[0]||{};this.$set(this.formData,"backendService",t.service||""),this.$set(this.formData,"rpcVersion",t.version||""),this.$set(this.formData,"rpcGroup",t.group||""),this.$set(this.formData,"rpcMethod",t.method||""),this.$set(this.formData,"rpcParamTypes",t.paramTypes||""),this.$set(this.formData,"path","/"+this.formData.rpcMethod)},discoveryModeChange:function(){this.$set(this.formData,"backendService","")},proxyModeChange:function(e){this.$set(this.formData,"backendService",""),2===e&&this.$set(this.formData,"discoveryMode","1"),this.serviceChange()},pathChange:function(){this.pathSame&&(this.formData.path=this.formData.backendPath)},serviceChange:function(){this.serviceSame&&(this.formData.service=this.formData.backendService)},checkPath:function(){this.formData.backendPath?this.testPathDialog=!0:this.$message.error("路径测试请先填写后端API路径")},addServiceUrl:function(){this.apiBackends.push({})},delServiceUrl:function(e){this.apiBackends.splice(e,1)},addPlugin:function(e){var t={},n=this.apiPlugins.concat(e);n=Array.from(new Set(n)),n=n.reduce((function(e,n){var a=n.id||n.plugin;return t[a]||(t[a]=!0,e.push(n)),e}),[]),this.apiPlugins=n},getApiPluginConfig:function(e){this.apiPlugins=e},getSelectionPlugins:function(e){this.selectionPlugins=e},handlePluginDrawer:function(){this.addPlugin(this.selectionPlugins),this.pluginDrawer=!1},initApiPlugins:function(){var e=this;this.apiPlugins=[],this.formData.apiPlugins&&this.formData.apiPlugins.length&&this.formData.apiPlugins.forEach((function(t){var n=e.pluginOptions.find((function(e){return e.id===t.plugin}));n&&e.apiPlugins.push(Object.assign({},n,t))}))},addAppid:function(e){var t={},n=this.appidData.concat(e);n=Array.from(new Set(n)),n=n.reduce((function(e,n){var a=n.app;return t[a]||(t[a]=!0,e.push(n)),e}),[]),this.appidData=n.map((function(e){return{app:e.app,appName:e.appName,enabled:!1!==e.enabled}}))},deleteAppid:function(e,t){t.splice(e,1)},handleAppidDrawer:function(){this.addAppid(this.selectionAppid),this.appidDrawer=!1},handleAppidCheck:function(){var e=this.appidData.filter((function(e){return!0===e.enabled})),t=e.length;this.appidCheckAll=t===this.appidData.length,this.isIndeterminate=t>0&&t<this.appidData.length},handleAppidCheckAll:function(e){this.appidData=this.appidData.map((function(t){return t.enabled=e,t})),this.isIndeterminate=!1},handleSubmitData:function(){var e=Object.assign({},this.formData);return 3===e.proxyMode&&(e.apiBackends=this.apiBackends),2===e.proxyMode&&2===parseInt(e.discoveryMode)||(e.rpcVersion="",e.rpcGroup="",e.rpcMethod="",e.rpcParamTypes=""),"string"===typeof e.discoveryMode&&(e.discoveryMode=parseInt(e.discoveryMode)),e.apiPlugins=this.apiPlugins,e.apps=this.appidData,e},handleSubmit:function(){var e=this;this.$refs.formData.validate((function(t){t?e.$refs.pluginConfig.validate((function(t,n){if(t){var a=e.handleSubmitData();"add"===e.actionType?e.add(a):e.update(a)}else e.$message.error("string"===typeof n&&n||"请完善插件配置")})):e.$message.error("请完善基础信息")}))},handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/proxy/api"})},getDetail:function(){var e=this;if(!this.originId)return this.formData={proxyMode:1,access:"a",path:"/**",backendPath:"/{$1}",service:"",appEnabled:!1,discoveryMode:"1",method:""},void(this.appidData=[]);["edit","view"].includes(this.actionType)&&Object(l["d"])(this.originId).then((function(t){var n=t.data.data||{};n.apiBackends&&n.apiBackends.length||(n.apiBackends=[{}]),e.formData=n,e.initApiPlugins(),e.apiBackends=e.formData.apiBackends,e.appidData=e.formData.apps||[],"number"===typeof e.formData.discoveryMode&&e.$set(e.formData,"discoveryMode",e.formData.discoveryMode.toString())}))},add:function(e){var t=this;return this.loading=!0,Object(l["a"])(e).then((function(){t.$message.success("保存成功"),setTimeout((function(){t.handleClose()}),300)})).finally((function(){t.loading=!1}))},update:function(e){var t=this;return this.loading=!0,Object(l["g"])(e).then((function(){t.$message.success("修改成功"),t.init()})).finally((function(){t.loading=!1}))},init:function(){"add"===this.actionType&&(this.formData={},this.apiPlugins=[],this.apiBackends=[{}]),this.getDetail()}})},w=x,_=(n("5734"),n("2877")),O=Object(_["a"])(w,a,i,!1,null,"8269f37a",null);t["default"]=O.exports},e3f0:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",{staticClass:"gateway-log"},[n("avue-crud",{ref:"crud",attrs:{data:e.data,search:e.search,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:search":function(t){e.search=t},"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"expand",fn:function(t){var a=t.row;return[n("el-input",{attrs:{type:"textarea",rows:8,resize:"none",readonly:""},model:{value:a.content,callback:function(t){e.$set(a,"content",t)},expression:"row.content"}})]}},{key:"search",fn:function(t){t.row;var a=t.size;return[n("el-checkbox",{attrs:{size:a},model:{value:e.search.bizIdExactMatchingFlag,callback:function(t){e.$set(e.search,"bizIdExactMatchingFlag",t)},expression:"search.bizIdExactMatchingFlag"}},[e._v("全匹配")])]}}])})],1)},i=[],r=n("e5ec"),o=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),s=n("b5c6"),l=n("da71");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t,n){return Object(s["a"])({url:"".concat(l["a"],"/gateway-log/list"),method:"get",params:u(u({},n),{},{current:e,size:t})})},p=[{label:"FATAL",value:100},{label:"ERROR",value:200},{label:"WARN",value:300},{label:"INFO",value:400},{label:"DEBUG",value:500},{label:"TRACE",value:600}],h={data:function(){return{search:{bizIdExactMatchingFlag:!0},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,addBtn:!1,columnBtn:!1,menuPosition:"right",menu:!1,expand:!0,align:"center",defaultExpandAll:!0,expandFixed:!1,expandWidth:30,column:[{label:"日志时间",prop:"logTime",search:!0,searchRange:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"服务器IP",prop:"serverIp",search:!0,type:"select",dicData:[],props:{label:"host",value:"host"},searchPlaceholder:"全部"},{label:"日志等级",prop:"level",search:!0,type:"select",dicData:p,searchMultiple:!0,searchTags:!0},{label:"日志内容",prop:"content",search:!0,hide:!0},{label:"业务ID",prop:"bizId",search:!0}]},data:[]}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},created:function(){this.getHostOption()},methods:{getHostOption:function(){var e=this;Object(r["c"])().then((function(t){var n=e.findObject(e.option.column,"serverIp");n.dicData=t.data.data}))},searchReset:function(){this.query={},this.search={bizIdExactMatchingFlag:!1},this.onLoad(this.page)},searchChange:function(e,t){e.logTime&&e.logTime.length>0&&(e.logStartTime=e.logTime[0],e.logEndTime=e.logTime[1],delete e.logTime),e.level&&e.level.length>0&&(e.levels=e.level.join(","),delete e.level),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,d(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},f=h,g=(n("0479"),n("2877")),m=Object(g["a"])(f,a,i,!1,null,null,null);t["default"]=m.exports},e47b:function(e,t,n){var a=n("e0d3"),i=a.makeInner,r=a.normalizeToArray,o=i();function s(e,t){for(var n=e.length,a=0;a<n;a++)if(e[a].length>t)return e[a];return e[n-1]}var l={clearColorPalette:function(){o(this).colorIdx=0,o(this).colorNameMap={}},getColorFromPalette:function(e,t,n){t=t||this;var a=o(t),i=a.colorIdx||0,l=a.colorNameMap=a.colorNameMap||{};if(l.hasOwnProperty(e))return l[e];var c=r(this.get("color",!0)),u=this.get("colorLayer",!0),d=null!=n&&u?s(u,n):c;if(d=d||c,d&&d.length){var p=d[i];return e&&(l[e]=p),a.colorIdx=(i+1)%d.length,p}}};e.exports=l},e4d1:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",{staticClass:"aggregate-operation-log"},[n("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"type",fn:function(t){var n=t.row;return[e._v("\n      "+e._s((0===n.type?"发布":1===n.type&&"下线")||n.type||"-")+"\n    ")]}},{key:"approvalResult",fn:function(t){var a=t.row;t.size;return[2===a.approvalResult?n("span",{staticClass:"color-success"},[e._v("通过")]):e._e(),1===a.approvalResult?n("span",{staticClass:"color-danger"},[e._v("不通过")]):e._e()]}},{key:"menu",fn:function(t){var a=t.row,i=t.type,r=t.size;return[n("el-button",{attrs:{icon:"el-icon-view",size:r,type:i},on:{click:function(t){return e.rowView(a)}}},[e._v("查看\n      ")])]}}])}),n("audit-detail",{attrs:{visible:e.detailDialog.visible,title:"发布|下线审核日志",id:e.detailDialog.id,data:e.detailDialog.data,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}})],1)},i=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("ade3")),o=n("b5c6"),s=n("da71");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){return Object(o["a"])({url:"".concat(s["a"],"/blade-aggregate-apply-approval-log/list"),method:"get",params:c(c({},n),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-aggregate-apply-approval-log/detail/").concat(e),method:"get",params:{id:e}})},p=n("cec1"),h=n("218b"),f={name:"audit-log",data:function(){return{query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{menuWidth:80,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"申请时间",prop:"applyTime"},{label:"标题",prop:"title",search:!0},{label:"申请人",prop:"applyBy"},{label:"申请类型",prop:"type",width:80,slot:!0},{label:"审核人",prop:"approvalBy"},{label:"审核结果",prop:"approvalResult",slot:!0,width:80,search:!0,type:"select",dicData:p["b"]},{label:"审核时间",prop:"approvalTime",searchRange:!0,search:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"}]},data:[],detailDialog:{visible:!1,data:[],id:""}}},components:{auditDetail:h["default"]},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowView:function(e){var t=this;e.id?(this.detailDialog.id=e.id,d(this.detailDialog.id).then((function(e){t.detailDialog.data=e.data.data,t.detailDialog.visible=!0}))):this.$message.error("数据有误！")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.approvalTime&&e.approvalTime.length>0&&(e.approvalTimeStart=e.approvalTime[0],e.approvalTimeEnd=e.approvalTime[1],delete e.approvalTime),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records,t.loading=!1}))}}},g=f,m=n("2877"),v=Object(m["a"])(g,a,i,!1,null,"5a3dfcee",null);t["default"]=v.exports},e538:function(e,t,n){(function(e){var a=n("2b3e"),i=t&&!t.nodeType&&t,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===i,s=o?a.Buffer:void 0,l=s?s.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var n=e.length,a=l?l(n):new e.constructor(n);return e.copy(a),a}e.exports=c}).call(this,n("62e4")(e))},e546:function(e,t,n){},e5ec:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/fizz-gateway-aggregate/get-instance-list"),method:"get",params:s(s({},n),{},{current:e,size:t})})},c=function(e,t,n){return Object(i["a"])({url:"".concat(r["a"],"/fizz-gateway-aggregate/get-config-list"),method:"post",params:s(s({},n),{},{current:e,size:t})})},u=function(e){var t=e.instanceId,n=e.configId;return Object(i["a"])({url:"".concat(r["a"],"/fizz-gateway-aggregate/get-config-str/").concat(t,"/").concat(n),method:"get"})}},e5fd:function(e,t,n){"use strict";n("aedd")},e683:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l}));var a=[{label:"固定值",value:"fixed"},{label:"引用值",value:"ref"}],i={fixed:[{label:"number",value:"number"},{label:"string",value:"string"},{label:"boolean",value:"boolean"}],ref:[{label:"int",value:"int"},{label:"long",value:"long"},{label:"float",value:"float"},{label:"double",value:"double"},{label:"string",value:"string"},{label:"boolean",value:"boolean"},{label:"array",value:"array"}]},r=[{label:"等于 =",value:"eq"},{label:"大于 >",value:"gt"},{label:"大于或等于 >=",value:"ge"},{label:"小于 <",value:"lt"},{label:"小于或等于 <=",value:"le"},{label:"不等于 !=",value:"ne"},{label:"包含",value:"contains"},{label:"不包含",value:"notContain"},{label:"包含任何一个",value:"containsAny"},{label:"is null",value:"isNull"},{label:"is not null",value:"isNotNull"},{label:"is blank",value:"isBlank"},{label:"is not blank",value:"isNotBlank"},{label:"is empty",value:"isEmpty"},{label:"is not empty",value:"isNotEmpty"}],o=[{label:"固定值",value:"fixed"},{label:"引用值",value:"quote"},{label:"脚本",value:"script"}],s=[{label:"int",value:"int"},{label:"long",value:"long"},{label:"float",value:"float"},{label:"double",value:"double"},{label:"string",value:"string"},{label:"boolean",value:"boolean"}],l=[{label:"number",value:"number"},{label:"string",value:"string"},{label:"boolean",value:"boolean"}]},e7d2:function(e,t,n){var a=n("4a3f");function i(e,t,n,i,r,o,s,l,c,u,d){if(0===c)return!1;var p=c;if(d>t+p&&d>i+p&&d>o+p&&d>l+p||d<t-p&&d<i-p&&d<o-p&&d<l-p||u>e+p&&u>n+p&&u>r+p&&u>s+p||u<e-p&&u<n-p&&u<r-p&&u<s-p)return!1;var h=a.cubicProjectPoint(e,t,n,i,r,o,s,l,u,d,null);return h<=p/2}t.containStroke=i},e815:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"small",disabled:e.disabled}},[n("el-form-item",{attrs:{label:"条件描述:",prop:"desc"}},[n("el-input",{attrs:{type:"textarea",placeholder:"如：是否会员"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),n("div",{staticClass:"form-item-required"},[n("el-form-item",{attrs:{label:"值1:"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("el-form-item",{attrs:{label:"",prop:"value1.type"}},[n("el-select",{attrs:{placeholder:"固定值/引用值"},on:{change:function(t){return e.changeHandle("value1")}},model:{value:e.form.value1.type,callback:function(t){e.$set(e.form.value1,"type",t)},expression:"form.value1.type"}},e._l(e.valueType,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("div",{staticClass:"col"},[n("el-form-item",{attrs:{label:"",prop:"fixed"===e.form.value1.type?"value1.fixedDataType":"value1.refDataType"}},["fixed"===e.form.value1.type?n("el-select",{attrs:{placeholder:"ref"===e.form.value1.type?"数据类型（非必填）":"fixed"===e.form.value1.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value1")}},model:{value:e.form.value1.fixedDataType,callback:function(t){e.$set(e.form.value1,"fixedDataType",t)},expression:"form.value1.fixedDataType"}},e._l(e.dataType1,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):n("el-select",{attrs:{placeholder:"ref"===e.form.value1.type?"数据类型（非必填）":"fixed"===e.form.value1.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value1")}},model:{value:e.form.value1.refDataType,callback:function(t){e.$set(e.form.value1,"refDataType",t)},expression:"form.value1.refDataType"}},e._l(e.dataType1,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("div",{staticClass:"col"},[n("el-form-item",{attrs:{label:"",prop:"value1.value"}},["boolean"===e.form.value1.fixedDataType&&"fixed"===e.form.value1.type?n("el-select",{attrs:{placeholder:"字段值",size:e.size,clearable:""},model:{value:e.form.value1.value,callback:function(t){e.$set(e.form.value1,"value",t)},expression:"form.value1.value"}},e._l(e.booleanOptions,(function(e){return n("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1):"number"===e.form.value1.fixedDataType&&"fixed"===e.form.value1.type?n("el-input",{attrs:{"controls-position":"right",clearable:"",placeholder:"字段值",type:"number"},model:{value:e.form.value1.value,callback:function(t){e.$set(e.form.value1,"value",t)},expression:"form.value1.value"}}):n("el-input",{attrs:{placeholder:"字段值"},model:{value:e.form.value1.value,callback:function(t){e.$set(e.form.value1,"value",t)},expression:"form.value1.value"}})],1)],1),n("div",{staticClass:"tooltip"},["ref"===e.form.value1.type?n("quote-tooltip",{staticClass:"tooltip"}):e._e()],1)])])],1),n("el-form-item",{attrs:{label:"比较符:",prop:"operator"}},[n("el-select",{model:{value:e.form.operator,callback:function(t){e.$set(e.form,"operator",t)},expression:"form.operator"}},e._l(e.operatorSymbol,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.showValue2(e.form.operator)?n("div",{staticClass:"form-item-required"},[n("el-form-item",{attrs:{label:"值2:"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("el-form-item",{attrs:{label:"",prop:"value2.type"}},[n("el-select",{attrs:{placeholder:"固定值/引用值"},on:{change:function(t){return e.changeHandle("value2")}},model:{value:e.form.value2.type,callback:function(t){e.$set(e.form.value2,"type",t)},expression:"form.value2.type"}},e._l(e.valueType,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("div",{staticClass:"col"},[n("el-form-item",{attrs:{label:"",prop:"fixed"===e.form.value2.type?"value2.fixedDataType":"value2.refDataType"}},["fixed"===e.form.value2.type?n("el-select",{attrs:{placeholder:"ref"===e.form.value2.type?"数据类型（非必填）":"fixed"===e.form.value2.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value2")}},model:{value:e.form.value2.fixedDataType,callback:function(t){e.$set(e.form.value2,"fixedDataType",t)},expression:"form.value2.fixedDataType"}},e._l(e.dataType2,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):n("el-select",{attrs:{placeholder:"ref"===e.form.value2.type?"数据类型（非必填）":"fixed"===e.form.value2.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value2")}},model:{value:e.form.value2.refDataType,callback:function(t){e.$set(e.form.value2,"refDataType",t)},expression:"form.value2.refDataType"}},e._l(e.dataType2,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("div",{staticClass:"col"},[n("el-form-item",{attrs:{label:"",prop:"value2.value"}},["boolean"===e.form.value2.fixedDataType&&"fixed"===e.form.value2.type?n("el-select",{attrs:{placeholder:"字段值",size:e.size,clearable:""},model:{value:e.form.value2.value,callback:function(t){e.$set(e.form.value2,"value",t)},expression:"form.value2.value"}},e._l(e.booleanOptions,(function(e){return n("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1):"number"===e.form.value2.fixedDataType&&"fixed"===e.form.value2.type?n("el-input",{attrs:{clearable:"",placeholder:"字段值",type:"number"},model:{value:e.form.value2.value,callback:function(t){e.$set(e.form.value2,"value",t)},expression:"form.value2.value"}}):n("el-input",{attrs:{placeholder:"字段值"},model:{value:e.form.value2.value,callback:function(t){e.$set(e.form.value2,"value",t)},expression:"form.value2.value"}})],1)],1),n("div",{staticClass:"tooltip"},["ref"===e.form.value2.type?n("quote-tooltip"):e._e()],1)])])],1):e._e()],1)},i=[],r=(n("456d"),n("ac6a"),n("c5f6"),n("6762"),n("28a5"),n("e683")),o=n("cc38"),s=n("307b"),l={name:"compareForm",components:{quoteTooltip:o["default"]},props:{data:{type:Object,default:function(){return{}}},disabled:Boolean,rule:{type:Object,default:function(){}}},data:function(){return{booleanOptions:[{label:"true",value:!0},{label:"false",value:!1}],form:{type:"condition",desc:"",value1:{type:"",value:""},operator:"",value2:{type:"",value:""}},rules:{"value1.type":[{required:!0,message:"请选择【固定值/引用值】",trigger:"change"}],"value1.fixedDataType":[{validator:this.validateDataType,trigger:"change"}],"value1.refDataType":[{validator:this.validateDataType,trigger:"change"}],"value1.value":[{required:!0,message:"【值】不为空",trigger:"blur"},{required:!0,message:"【值】不为空",trigger:"change"}],operator:[{required:!0,message:"请选择【比较符】",trigger:"change"}],"value2.type":[{required:!0,message:"请选择【固定值/引用值】",trigger:"change"}],"value2.fixedDataType":[{validator:this.validateDataType,trigger:"change"}],"value2.refDataType":[{validator:this.validateDataType,trigger:"change"}],"value2.value":[{required:!0,message:"【值】不为空",trigger:"blur"},{required:!0,message:"【值】不为空",trigger:"change"}]},valueType:r["c"],operatorSymbol:r["b"]}},watch:{rule:{immediate:!0,deep:!0,handler:function(){this.rules=Object.assign(this.rules,this.rule)}}},computed:{dataType1:function(){try{return this.form.value1.type?r["a"][this.form.value1.type]:[]}catch(e){return[]}},dataType2:function(){try{return this.form.value2.type?r["a"][this.form.value2.type]:[]}catch(e){return[]}}},methods:{validateDataType:function(e,t,n){var a="value1"===e.field.split(".")[0]?this.form.value1.type:this.form.value2.type;"fixed"===a&&(t||n(new Error("【数据类型】不为空！"))),n()},showValue2:function(e){if(e){var t=["isNull","isNotNull","isBlank","isNotBlank","isEmpty","isNotEmpty"];return!t.includes(e)}return!0},handleData:function(){var e=Object(s["a"])(this.form),t=["isNull","isNotNull","isBlank","isNotBlank","isEmpty","isNotEmpty"];return"fixed"===e.value1.type&&"number"===e.value1.fixedDataType&&(e.value1.value=Number(e.value1.value)),Object.keys(e.value1).forEach((function(t){var n=e.value1[t];""===n&&delete e.value1[t]})),t.includes(e.operator)?delete e.value2:("fixed"===e.value2.type&&"number"===e.value2.fixedDataType&&(e.value2.value=Number(e.value2.value)),Object.keys(e.value2).forEach((function(t){var n=e.value2[t];""===n&&delete e.value2[t]}))),e},emitData:function(){var e=this.handleData();this.$emit("update:data",e),this.$emit("emitData",e)},validate:function(){var e=this;return new Promise((function(t,n){e.$refs.form.validate((function(a){a?(e.emitData(),t()):n()}))}))},changeHandle:function(e){this.form[e].fixedDataType&&(this.form[e].fixedDataType=""),this.form[e].refDataType&&(this.form[e].refDataType=""),this.form[e].value=""},dataTypeChange:function(e){"fixed"===this.form[e].type&&this.form[e].value&&(this.form[e].value=null)}},mounted:function(){"{}"!==JSON.stringify(this.data)&&(this.form=Object(s["a"])(this.data))}},c=l,u=(n("7a9d"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"03656908",null);t["default"]=d.exports},e86a:function(e,t,n){var a=n("9850"),i=n("5e76"),r=n("6d8b"),o=r.getContext,s=r.extend,l=r.retrieve2,c=r.retrieve3,u=r.trim,d={},p=0,h=5e3,f=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,g="12px sans-serif",m={};function v(e,t){m[e]=t}function b(e,t){t=t||g;var n=e+":"+t;if(d[n])return d[n];for(var a=(e+"").split("\n"),i=0,r=0,o=a.length;r<o;r++)i=Math.max(I(a[r],t).width,i);return p>h&&(p=0,d={}),p++,d[n]=i,i}function y(e,t,n,a,i,r,o,s){return o?w(e,t,n,a,i,r,o,s):x(e,t,n,a,i,r,s)}function x(e,t,n,i,r,o,s){var l=L(e,t,r,o,s),c=b(e,t);r&&(c+=r[1]+r[3]);var u=l.outerHeight,d=_(0,c,n),p=O(0,u,i),h=new a(d,p,c,u);return h.lineHeight=l.lineHeight,h}function w(e,t,n,i,r,o,s,l){var c=M(e,{rich:s,truncate:l,font:t,textAlign:n,textPadding:r,textLineHeight:o}),u=c.outerWidth,d=c.outerHeight,p=_(0,u,n),h=O(0,d,i);return new a(p,h,u,d)}function _(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function O(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function D(e,t,n){var a=t.textPosition,i=t.textDistance,r=n.x,o=n.y;i=i||0;var s=n.height,l=n.width,c=s/2,u="left",d="top";switch(a){case"left":r-=i,o+=c,u="right",d="middle";break;case"right":r+=i+l,o+=c,d="middle";break;case"top":r+=l/2,o-=i,u="center",d="bottom";break;case"bottom":r+=l/2,o+=s+i,u="center";break;case"inside":r+=l/2,o+=c,u="center",d="middle";break;case"insideLeft":r+=i,o+=c,d="middle";break;case"insideRight":r+=l-i,o+=c,u="right",d="middle";break;case"insideTop":r+=l/2,o+=i,u="center";break;case"insideBottom":r+=l/2,o+=s-i,u="center",d="bottom";break;case"insideTopLeft":r+=i,o+=i;break;case"insideTopRight":r+=l-i,o+=i,u="right";break;case"insideBottomLeft":r+=i,o+=s-i,d="bottom";break;case"insideBottomRight":r+=l-i,o+=s-i,u="right",d="bottom";break}return e=e||{},e.x=r,e.y=o,e.textAlign=u,e.textVerticalAlign=d,e}function C(e,t,n){var a={textPosition:e,textDistance:n};return D({},a,t)}function S(e,t,n,a,i){if(!t)return"";var r=(e+"").split("\n");i=k(t,n,a,i);for(var o=0,s=r.length;o<s;o++)r[o]=T(r[o],i);return r.join("\n")}function k(e,t,n,a){a=s({},a),a.font=t;n=l(n,"...");a.maxIterations=l(a.maxIterations,2);var i=a.minChar=l(a.minChar,0);a.cnCharWidth=b("国",t);var r=a.ascCharWidth=b("a",t);a.placeholder=l(a.placeholder,"");for(var o=e=Math.max(0,e-1),c=0;c<i&&o>=r;c++)o-=r;var u=b(n,t);return u>o&&(n="",u=0),o=e-u,a.ellipsis=n,a.ellipsisWidth=u,a.contentWidth=o,a.containerWidth=e,a}function T(e,t){var n=t.containerWidth,a=t.font,i=t.contentWidth;if(!n)return"";var r=b(e,a);if(r<=n)return e;for(var o=0;;o++){if(r<=i||o>=t.maxIterations){e+=t.ellipsis;break}var s=0===o?P(e,i,t.ascCharWidth,t.cnCharWidth):r>0?Math.floor(e.length*i/r):0;e=e.substr(0,s),r=b(e,a)}return""===e&&(e=t.placeholder),e}function P(e,t,n,a){for(var i=0,r=0,o=e.length;r<o&&i<t;r++){var s=e.charCodeAt(r);i+=0<=s&&s<=127?n:a}return r}function j(e){return b("国",e)}function I(e,t){return m.measureText(e,t)}function L(e,t,n,a,i){null!=e&&(e+="");var r=l(a,j(t)),o=e?e.split("\n"):[],s=o.length*r,c=s,u=!0;if(n&&(c+=n[0]+n[2]),e&&i){u=!1;var d=i.outerHeight,p=i.outerWidth;if(null!=d&&c>d)e="",o=[];else if(null!=p)for(var h=k(p-(n?n[1]+n[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),f=0,g=o.length;f<g;f++)o[f]=T(o[f],h)}return{lines:o,height:s,outerHeight:c,lineHeight:r,canCacheByTextString:u}}function M(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return n;var a,r=f.lastIndex=0;while(null!=(a=f.exec(e))){var o=a.index;o>r&&A(n,e.substring(r,o)),A(n,a[2],a[1]),r=f.lastIndex}r<e.length&&A(n,e.substring(r,e.length));var s=n.lines,u=0,d=0,p=[],h=t.textPadding,g=t.truncate,m=g&&g.outerWidth,v=g&&g.outerHeight;h&&(null!=m&&(m-=h[1]+h[3]),null!=v&&(v-=h[0]+h[2]));for(var y=0;y<s.length;y++){for(var x=s[y],w=0,_=0,O=0;O<x.tokens.length;O++){var D=x.tokens[O],C=D.styleName&&t.rich[D.styleName]||{},k=D.textPadding=C.textPadding,T=D.font=C.font||t.font,P=D.textHeight=l(C.textHeight,j(T));if(k&&(P+=k[0]+k[2]),D.height=P,D.lineHeight=c(C.textLineHeight,t.textLineHeight,P),D.textAlign=C&&C.textAlign||t.textAlign,D.textVerticalAlign=C&&C.textVerticalAlign||"middle",null!=v&&u+D.lineHeight>v)return{lines:[],width:0,height:0};D.textWidth=b(D.text,T);var I=C.textWidth,L=null==I||"auto"===I;if("string"===typeof I&&"%"===I.charAt(I.length-1))D.percentWidth=I,p.push(D),I=0;else{if(L){I=D.textWidth;var M=C.textBackgroundColor,E=M&&M.image;E&&(E=i.findExistImage(E),i.isImageReady(E)&&(I=Math.max(I,E.width*P/E.height)))}var z=k?k[1]+k[3]:0;I+=z;var R=null!=m?m-_:null;null!=R&&R<I&&(!L||R<z?(D.text="",D.textWidth=I=0):(D.text=S(D.text,R-z,T,g.ellipsis,{minChar:g.minChar}),D.textWidth=b(D.text,T),I=D.textWidth+z))}_+=D.width=I,C&&(w=Math.max(w,D.lineHeight))}x.width=_,x.lineHeight=w,u+=w,d=Math.max(d,_)}n.outerWidth=n.width=l(t.textWidth,d),n.outerHeight=n.height=l(t.textHeight,u),h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(y=0;y<p.length;y++){D=p[y];var F=D.percentWidth;D.width=parseInt(F,10)/100*d}return n}function A(e,t,n){for(var a=""===t,i=t.split("\n"),r=e.lines,o=0;o<i.length;o++){var s=i[o],l={styleName:n,text:s,isLineHolder:!s&&!a};if(o)r.push({tokens:[l]});else{var c=(r[r.length-1]||(r[0]={tokens:[]})).tokens,u=c.length;1===u&&c[0].isLineHolder?c[0]=l:(s||!u||a)&&c.push(l)}}}function E(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&u(t)||e.textFont||e.font}m.measureText=function(e,t){var n=o();return n.font=t||g,n.measureText(e)},t.DEFAULT_FONT=g,t.$override=v,t.getWidth=b,t.getBoundingRect=y,t.adjustTextX=_,t.adjustTextY=O,t.calculateTextPosition=D,t.adjustTextPositionOnRect=C,t.truncateText=S,t.getLineHeight=j,t.measureText=I,t.parsePlainText=L,t.parseRichText=M,t.makeFont=E},e887:function(e,t,n){var a=n("6d8b"),i=a.each,r=n("e1fc"),o=n("8918"),s=n("625e"),l=n("e0d3"),c=n("2306"),u=n("f47d"),d=u.createTask,p=n("cccd"),h=l.makeInner(),f=p();function g(){this.group=new r,this.uid=o.getUID("viewChart"),this.renderTask=d({plan:y,reset:x}),this.renderTask.context={view:this}}g.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,a){},highlight:function(e,t,n,a){b(e.getData(),a,"emphasis")},downplay:function(e,t,n,a){b(e.getData(),a,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var m=g.prototype;function v(e,t,n){if(e&&(e.trigger(t,n),e.isGroup&&!c.isHighDownDispatcher(e)))for(var a=0,i=e.childCount();a<i;a++)v(e.childAt(a),t,n)}function b(e,t,n){var a=l.queryDataIndex(e,t),r=t&&null!=t.highlightKey?c.getHighlightDigit(t.highlightKey):null;null!=a?i(l.normalizeToArray(a),(function(t){v(e.getItemGraphicEl(t),n,r)})):e.eachItemGraphicEl((function(e){v(e,n,r)}))}function y(e){return f(e.model)}function x(e){var t=e.model,n=e.ecModel,a=e.api,i=e.payload,r=t.pipelineContext.progressiveRender,o=e.view,s=i&&h(i).updateMethod,l=r?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](t,n,a,i),w[l]}m.updateView=m.updateLayout=m.updateVisual=function(e,t,n,a){this.render(e,t,n,a)},s.enableClassExtend(g,["dispose"]),s.enableClassManagement(g,{registerWhenExtend:!0}),g.markUpdateMethod=function(e,t){h(e).updateMethod=t};var w={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},_=g;e.exports=_},e931:function(e,t,n){"use strict";n.r(t);n("a481"),n("7f7f");var a,i,r=n("65d4"),o=n("2b3f"),s={name:"history-detail",mixins:[r["default"]],data:function(){return{disabled:!0,businessType:"history"}},methods:{getDetail:function(){var e=this;if(!this.originId)return this.formData={},void(this.baseConfigs={});Object(o["a"])(this.originId).then((function(t){e.formData=t.data.data||{};var n=Object.assign({},e.formData),a=n.id,i=void 0===a?"":a,r=n.serviceId,o=void 0===r?"":r,s=n.name,l=void 0===s?"":s,c=n.method,u=void 0===c?"":c,d=n.path,p=void 0===d?"":d,h=n.developer,f=void 0===h?"":h,g=n.description,m=void 0===g?"":g,v=n.serviceName,b=void 0===v?"":v;p=p.replace("/proxy/".concat(b,"/"),""),e.baseConfigs={id:i,serviceId:o,name:l,method:u,path:p,developer:f,description:m,serviceName:b}}))}}},l=s,c=n("2877"),u=Object(c["a"])(l,a,i,!1,null,"9bd3495e",null);t["default"]=u.exports},ea72:function(e,t,n){var a=n("7559"),i=n("7e8e"),r=n("76dd"),o=n("f4d9");function s(e,t,n){return e=r(e),t=n?void 0:t,void 0===t?i(e)?o(e):a(e):e.match(t)||[]}e.exports=s},eac5:function(e,t){var n=Object.prototype;function a(e){var t=e&&e.constructor,a="function"==typeof t&&t.prototype||n;return e===a}e.exports=a},eaea:function(e,t,n){var a=n("3eba"),i=n("6d8b"),r=n("22d1"),o=n("60e3"),s=n("5f14"),l=n("2b8c"),c=n("e0d3"),u=n("3842"),d=s.mapVisual,p=s.eachVisual,h=i.isArray,f=i.each,g=u.asc,m=u.linearMap,v=i.noop,b=a.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;r.canvasSupported||(n.realtime=!1),!t&&l.replaceVisualOption(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=i.bind(e,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,t,e),this.targetVisuals=l.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,n){t.push(n)})):t=c.normalizeToArray(e),t},eachTargetSeries:function(e,t){i.each(this.getTargetSeriesIndices(),(function(n){e.call(t,this.ecModel.getSeriesByIndex(n))}),this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries((function(n){n===e&&(t=!0)})),t},formatValueText:function(e,t,n){var a,r,o=this.option,s=o.precision,l=this.dataBound,c=o.formatter;return n=n||["<",">"],i.isArray(e)&&(e=e.slice(),a=!0),r=t?e:a?[u(e[0]),u(e[1])]:u(e),i.isString(c)?c.replace("{value}",a?r[0]:r).replace("{value2}",a?r[1]:r):i.isFunction(c)?a?c(e[0],e[1]):c(e):a?e[0]===l[0]?n[0]+" "+r[1]:e[1]===l[1]?n[1]+" "+r[0]:r[0]+" - "+r[1]:r;function u(e){return e===l[0]?"min":e===l[1]?"max":(+e).toFixed(Math.min(s,20))}},resetExtent:function(){var e=this.option,t=g([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,n=e.dimensions;if(null!=t||n.length){if(null!=t)return e.getDimension(t);for(var a=e.dimensions,i=a.length-1;i>=0;i--){var r=a[i],o=e.getDimensionInfo(r);if(!o.isCalculationCoord)return r}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},a=t.target||(t.target={}),r=t.controller||(t.controller={});i.merge(a,n),i.merge(r,n);var l=this.isCategory();function c(n){h(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get("gradientColor")},f(this.stateList,(function(e){var t=n[e];if(i.isString(t)){var a=o.get(t,"active",l);a?(n[e]={},n[e][t]=a):delete n[e]}}),this)}function u(e,t,n){var a=e[t],i=e[n];a&&!i&&(i=e[n]={},f(a,(function(e,t){if(s.isValidType(t)){var n=o.get(t,"inactive",l);null!=n&&(i[t]=n,"color"!==t||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}})))}function g(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,a=this.get("inactiveColor");f(this.stateList,(function(r){var o=this.itemSize,s=e[r];s||(s=e[r]={color:l?a:[a]}),null==s.symbol&&(s.symbol=t&&i.clone(t)||(l?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&i.clone(n)||(l?o[0]:[o[0],o[0]])),s.symbol=d(s.symbol,(function(e){return"none"===e||"square"===e?"roundRect":e}));var c=s.symbolSize;if(null!=c){var u=-1/0;p(c,(function(e){e>u&&(u=e)})),s.symbolSize=d(c,(function(e){return m(e,[0,u],[0,o[0]],!0)}))}}),this)}c.call(this,a),c.call(this,r),u.call(this,a,"inRange","outOfRange"),g.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:v,getValueState:v,getVisualMeta:v}),y=b;e.exports=y},eb6b:function(e,t,n){var a=n("6d8b"),i=n("e0d3"),r=i.makeInner,o=n("cd33"),s=n("133d"),l=a.each,c=a.curry,u=r();function d(e,t,n){var i=e.currTrigger,r=[e.x,e.y],o=e,u=e.dispatchAction||a.bind(n.dispatchAction,n),d=t.getComponent("axisPointer").coordSysAxesInfo;if(d){w(r)&&(r=s({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var h=w(r),_=o.axesInfo,O=d.axesInfo,D="leave"===i||w(r),C={},S={},k={list:[],map:{}},T={showPointer:c(f,S),showTooltip:c(g,k)};l(d.coordSysMap,(function(e,t){var n=h||e.containPoint(r);l(d.coordSysAxesInfo[t],(function(e,t){var a=e.axis,i=y(_,e);if(!D&&n&&(!_||i)){var o=i&&i.value;null!=o||h||(o=a.pointToData(r)),null!=o&&p(e,o,T,!1,C)}}))}));var P={};return l(O,(function(e,t){var n=e.linkGroup;n&&!S[t]&&l(n.axesInfo,(function(t,a){var i=S[a];if(t!==e&&i){var r=i.value;n.mapper&&(r=e.axis.scale.parse(n.mapper(r,x(t),x(e)))),P[e.key]=r}}))})),l(P,(function(e,t){p(O[t],e,T,!0,C)})),m(S,O,C),v(k,r,e,u),b(O,u,n),C}}function p(e,t,n,i,r){var o=e.axis;if(!o.scale.isBlank()&&o.containData(t))if(e.involveSeries){var s=h(t,e),l=s.payloadBatch,c=s.snapToValue;l[0]&&null==r.seriesIndex&&a.extend(r,l[0]),!i&&e.snap&&o.containData(c)&&null!=c&&(t=c),n.showPointer(e,t,l,r),n.showTooltip(e,s,c)}else n.showPointer(e,t)}function h(e,t){var n=t.axis,a=n.dim,i=e,r=[],o=Number.MAX_VALUE,s=-1;return l(t.seriesModels,(function(t,c){var u,d,p=t.getData().mapDimension(a,!0);if(t.getAxisTooltipData){var h=t.getAxisTooltipData(p,e,n);d=h.dataIndices,u=h.nestestValue}else{if(d=t.getData().indicesOfNearest(p[0],e,"category"===n.type?.5:null),!d.length)return;u=t.getData().get(p[0],d[0])}if(null!=u&&isFinite(u)){var f=e-u,g=Math.abs(f);g<=o&&((g<o||f>=0&&s<0)&&(o=g,s=f,i=u,r.length=0),l(d,(function(e){r.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:r,snapToValue:i}}function f(e,t,n,a){e[t.key]={value:n,payloadBatch:a}}function g(e,t,n,a){var i=n.payloadBatch,r=t.axis,s=r.model,l=t.axisPointerModel;if(t.triggerTooltip&&i.length){var c=t.coordSys.model,u=o.makeKey(c),d=e.map[u];d||(d=e.map[u]={coordSysId:c.id,coordSysIndex:c.componentIndex,coordSysType:c.type,coordSysMainType:c.mainType,dataByAxis:[]},e.list.push(d)),d.dataByAxis.push({axisDim:r.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:a,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:i.slice()})}}function m(e,t,n){var a=n.axesInfo=[];l(t,(function(t,n){var i=t.axisPointerModel.option,r=e[n];r?(!t.useHandle&&(i.status="show"),i.value=r.value,i.seriesDataIndices=(r.payloadBatch||[]).slice()):!t.useHandle&&(i.status="hide"),"show"===i.status&&a.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})}))}function v(e,t,n,a){if(!w(t)&&e.list.length){var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}else a({type:"hideTip"})}function b(e,t,n){var i=n.getZr(),r="axisPointerLastHighlights",o=u(i)[r]||{},s=u(i)[r]={};l(e,(function(e,t){var n=e.axisPointerModel.option;"show"===n.status&&l(n.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;s[t]=e}))}));var c=[],d=[];a.each(o,(function(e,t){!s[t]&&d.push(e)})),a.each(s,(function(e,t){!o[t]&&c.push(e)})),d.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:d}),c.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:c})}function y(e,t){for(var n=0;n<(e||[]).length;n++){var a=e[n];if(t.axis.dim===a.axisDim&&t.axis.model.componentIndex===a.axisIndex)return a}}function x(e){var t=e.axis.model,n={},a=n.axisDim=e.axis.dim;return n.axisIndex=n[a+"AxisIndex"]=t.componentIndex,n.axisName=n[a+"AxisName"]=t.name,n.axisId=n[a+"AxisId"]=t.id,n}function w(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}e.exports=d},ec02:function(e,t,n){var a=n("6d8b"),i=n("84ce"),r=function(e,t,n,a,r){i.call(this,e,t,n),this.type=a||"value",this.position=r||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},a.inherits(r,i);var o=r;e.exports=o},ec34:function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=i.createHashMap,o=i.isString,s=i.isArray,l=i.each,c=(i.assert,n("3041")),u=c.parseXML,d=r(),p={registerMap:function(e,t,n){var a;return s(t)?a=t:t.svg?a=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),a=[{type:"geoJSON",source:t,specialAreas:n}]),l(a,(function(e){var t=e.type;"geoJson"===t&&(t=e.type="geoJSON");var n=h[t];n(e)})),d.set(e,a)},retrieveMap:function(e){return d.get(e)}},h={geoJSON:function(e){var t=e.source;e.geoJSON=o(t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=u(e.source)}};e.exports=p},ec69:function(e,t,n){var a=n("6fcd"),i=n("03dd"),r=n("30c9");function o(e){return r(e)?a(e):i(e)}e.exports=o},ec6f:function(e,t,n){var a=n("6d8b"),i=a.createHashMap,r=a.isTypedArray,o=n("625e"),s=o.enableClassCheck,l=n("93d0"),c=l.SOURCE_FORMAT_ORIGINAL,u=l.SERIES_LAYOUT_BY_COLUMN,d=l.SOURCE_FORMAT_UNKNOWN,p=l.SOURCE_FORMAT_TYPED_ARRAY,h=l.SOURCE_FORMAT_KEYED_COLUMNS;function f(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===h?{}:[]),this.sourceFormat=e.sourceFormat||d,this.seriesLayoutBy=e.seriesLayoutBy||u,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&i(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}f.seriesDataToSource=function(e){return new f({data:e,sourceFormat:r(e)?p:c,fromDataset:!1})},s(f);var g=f;e.exports=g},ec8c:function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},ed02:function(e,t,n){},ed21:function(e,t,n){var a=n("2cf4"),i=a.devicePixelRatio,r=n("6d8b"),o=n("4942"),s=n("9850"),l=n("04f6"),c=n("5e68"),u=n("98b7"),d=n("0da8"),p=n("22d1"),h=1e5,f=314159,g=.01,m=.001;function v(e){return parseInt(e,10)}function b(e){return!!e&&(!!e.__builtin__||"function"===typeof e.resize&&"function"===typeof e.refresh)}var y=new s(0,0,0,0),x=new s(0,0,0,0);function w(e,t,n){return y.copy(e.getBoundingRect()),e.transform&&y.applyTransform(e.transform),x.width=t,x.height=n,!y.intersect(x)}function _(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function O(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.setTransform(t),t.beginPath(),a.buildPath(t,a.shape),t.clip(),a.restoreTransform(t)}}function D(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var C=function(e,t,n){this.type="canvas";var a=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=r.extend({},n||{}),this.dpr=n.devicePixelRatio||i,this._singleCanvas=a,this.root=e;var o=e.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var s=this._zlevelList=[],l=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,a){var u=e.width,d=e.height;null!=n.width&&(u=n.width),null!=n.height&&(d=n.height),this.dpr=n.devicePixelRatio||1,e.width=u*this.dpr,e.height=d*this.dpr,this._width=u,this._height=d;var p=new c(e,this,this.dpr);p.__builtin__=!0,p.initContext(),l[f]=p,p.zlevel=f,s.push(f),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=D(this._width,this._height);e.appendChild(h)}this._hoverlayer=null,this._hoverElements=[]};C.prototype={constructor:C,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var a=0;a<n.length;a++){var i=n[a],r=this._layers[i];if(!r.__builtin__&&r.refresh){var o=0===a?this._backgroundColor:null;r.refresh(o)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return n.__from=e,e.__hoverMir=n,t&&n.setStyle(t),this._hoverElements.push(n),n}},removeHover:function(e){var t=e.__hoverMir,n=this._hoverElements,a=r.indexOf(n,t);a>=0&&n.splice(a,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var a=t[n].__from;a&&(a.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){l(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(h));var a={};n.ctx.save();for(var i=0;i<t;){var r=e[i],o=r.__from;o&&o.__zr?(i++,o.invisible||(r.transform=o.transform,r.invTransform=o.invTransform,r.__clipPaths=o.__clipPaths,this._doPaintEl(r,n,!0,a))):(e.splice(i,1),o.__hoverMir=null,t--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(h)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!a){var i=this;u((function(){i._paintList(e,t,n)}))}}},_compositeManually:function(){var e=this.getLayer(f).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer((function(a){a.virtual&&e.drawImage(a.dom,0,0,t,n)}))},_doPaintList:function(e,t){for(var n=[],a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a],o=this._layers[i];o.__builtin__&&o!==this._hoverlayer&&(o.__dirty||t)&&n.push(o)}for(var s=!0,l=0;l<n.length;l++){o=n[l];var c=o.ctx,u={};c.save();var d=t?o.__startIndex:o.__drawIndex,h=!t&&o.incremental&&Date.now,f=h&&Date.now(),g=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,g);else if(d===o.__startIndex){var m=e[d];m.incremental&&m.notClear&&!t||o.clear(!1,g)}-1===d&&(console.error("For some unknown reason. drawIndex is -1"),d=o.__startIndex);for(var v=d;v<o.__endIndex;v++){var b=e[v];if(this._doPaintEl(b,o,t,u),b.__dirty=b.__dirtyText=!1,h){var y=Date.now()-f;if(y>15)break}}o.__drawIndex=v,o.__drawIndex<o.__endIndex&&(s=!1),u.prevElClipPaths&&c.restore(),c.restore()}return p.wxa&&r.each(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),s},_doPaintEl:function(e,t,n,a){var i=t.ctx,r=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!r||r[0]||r[3])&&(!e.culling||!w(e,this._width,this._height))){var o=e.__clipPaths,s=a.prevElClipPaths;s&&!_(o,s)||(s&&(i.restore(),a.prevElClipPaths=null,a.prevEl=null),o&&(i.save(),O(o,i),a.prevElClipPaths=o)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,a.prevEl||null),a.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=f);var n=this._layers[e];return n||(n=new c("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?r.merge(n,this._layerConfig[e],!0):this._layerConfig[e-g]&&r.merge(n,this._layerConfig[e-g],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var n=this._layers,a=this._zlevelList,i=a.length,r=null,s=-1,l=this._domRoot;if(n[e])o("ZLevel "+e+" has been used already");else if(b(t)){if(i>0&&e>a[0]){for(s=0;s<i-1;s++)if(a[s]<e&&a[s+1]>e)break;r=n[a[s]]}if(a.splice(s+1,0,e),n[e]=t,!t.virtual)if(r){var c=r.dom;c.nextSibling?l.insertBefore(t.dom,c.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom)}else o("Layer of zlevel "+e+" is not valid")},eachLayer:function(e,t){var n,a,i=this._zlevelList;for(a=0;a<i.length;a++)n=i[a],e.call(t,this._layers[n],n)},eachBuiltinLayer:function(e,t){var n,a,i,r=this._zlevelList;for(i=0;i<r.length;i++)a=r[i],n=this._layers[a],n.__builtin__&&e.call(t,n,a)},eachOtherLayer:function(e,t){var n,a,i,r=this._zlevelList;for(i=0;i<r.length;i++)a=r[i],n=this._layers[a],n.__builtin__||e.call(t,n,a)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(e){r&&(r.__endIndex!==e&&(r.__dirty=!0),r.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var n=1;n<e.length;n++){var a=e[n];if(a.zlevel!==e[n-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i,r=null,s=0;for(n=0;n<e.length;n++){a=e[n];var l,c=a.zlevel;i!==c&&(i=c,s=0),a.incremental?(l=this.getLayer(c+m,this._needsManuallyCompositing),l.incremental=!0,s=1):l=this.getLayer(c+(s>0?g:0),this._needsManuallyCompositing),l.__builtin__||o("ZLevel "+c+" has been used by unkown layer "+l.id),l!==r&&(l.__used=!0,l.__startIndex!==n&&(l.__dirty=!0),l.__startIndex=n,l.incremental?l.__drawIndex=-1:l.__drawIndex=n,t(n),r=l),a.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=n))}t(n),this.eachBuiltinLayer((function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?r.merge(n[e],t,!0):n[e]=t;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+g){var o=this._layers[i];r.merge(o,n[e],!0)}}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],n.splice(r.indexOf(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var a=this._opts;if(null!=e&&(a.width=e),null!=t&&(a.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||t!==this._height){for(var i in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);r.each(this._progressiveLayers,(function(n){n.resize(e,t)})),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(f).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[f].dom;var t=new c("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,a=t.dom.height,i=t.ctx;this.eachLayer((function(e){e.__builtin__?i.drawImage(e.dom,0,0,n,a):e.renderToCanvas&&(t.ctx.save(),e.renderToCanvas(t.ctx),t.ctx.restore())}))}else for(var r={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var l=o[s];this._doPaintEl(l,t,!0,r)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],a=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],r=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[a]||v(s[n])||v(o.style[n]))-(v(s[i])||0)-(v(s[r])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),a=n.getContext("2d"),i=e.getBoundingRect(),r=e.style,o=r.shadowBlur*t,s=r.shadowOffsetX*t,l=r.shadowOffsetY*t,c=r.hasStroke()?r.lineWidth:0,u=Math.max(c/2,-s+o),p=Math.max(c/2,s+o),h=Math.max(c/2,-l+o),f=Math.max(c/2,l+o),g=i.width+u+p,m=i.height+h+f;n.width=g*t,n.height=m*t,a.scale(t,t),a.clearRect(0,0,g,m),a.dpr=t;var v={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[u-i.x,h-i.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(a);var b=d,y=new b({style:{x:0,y:0,image:n}});return null!=v.position&&(y.position=e.position=v.position),null!=v.rotation&&(y.rotation=e.rotation=v.rotation),null!=v.scale&&(y.scale=e.scale=v.scale),y}};var S=C;e.exports=S},eda2:function(e,t,n){var a=n("6d8b"),i=n("e86a"),r=n("3842");function o(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""))}function s(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var l=a.normalizeCssArray,c=/([&<>"'])/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function d(e){return null==e?"":(e+"").replace(c,(function(e,t){return u[t]}))}var p=["a","b","c","d","e","f","g"],h=function(e,t){return"{"+e+(null==t?"":t)+"}"};function f(e,t,n){a.isArray(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var s=p[o];e=e.replace(h(s),h(s,0))}for(var l=0;l<i;l++)for(var c=0;c<r.length;c++){var u=t[l][r[c]];e=e.replace(h(p[c],l),n?d(u):u)}return e}function g(e,t,n){return a.each(t,(function(t,a){e=e.replace("{"+a+"}",n?d(t):t)})),e}function m(e,t){e=a.isString(e)?{color:e,extraCssText:t}:e||{};var n=e.color,i=e.type,r=(t=e.extraCssText,e.renderMode||"html"),o=e.markerId||"X";return n?"html"===r?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+d(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+d(n)+";"+(t||"")+'"></span>':{renderMode:r,content:"{marker"+o+"|}  ",style:{color:n}}:""}function v(e,t){return e+="","0000".substr(0,t-e.length)+e}function b(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var a=r.parseDate(t),i=n?"UTC":"",o=a["get"+i+"FullYear"](),s=a["get"+i+"Month"]()+1,l=a["get"+i+"Date"](),c=a["get"+i+"Hours"](),u=a["get"+i+"Minutes"](),d=a["get"+i+"Seconds"](),p=a["get"+i+"Milliseconds"]();return e=e.replace("MM",v(s,2)).replace("M",s).replace("yyyy",o).replace("yy",o%100).replace("dd",v(l,2)).replace("d",l).replace("hh",v(c,2)).replace("h",c).replace("mm",v(u,2)).replace("m",u).replace("ss",v(d,2)).replace("s",d).replace("SSS",v(p,3)),e}function y(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}var x=i.truncateText;function w(e){return i.getBoundingRect(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)}function _(e,t,n,a,r,o,s,l){return i.getBoundingRect(e,t,n,a,r,l,o,s)}function O(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location=e}else window.open(e,t)}t.addCommas=o,t.toCamelCase=s,t.normalizeCssArray=l,t.encodeHTML=d,t.formatTpl=f,t.formatTplSimple=g,t.getTooltipMarker=m,t.formatTime=b,t.capitalFirst=y,t.truncateText=x,t.getTextBoundingRect=w,t.getTextRect=_,t.windowOpen=O},ee1a:function(e,t,n){var a=n("6d8b"),i=a.each,r=a.isString;function o(e,t,n){n=n||{};var a,o,s,l,c=n.byIndex,u=n.stackedCoordDimension,d=!(!e||!e.get("stack"));if(i(t,(function(e,n){r(e)&&(t[n]=e={name:e}),d&&!e.isExtraCoord&&(c||a||!e.ordinalMeta||(a=e),o||"ordinal"===e.type||"time"===e.type||u&&u!==e.coordDim||(o=e))})),!o||c||a||(c=!0),o){s="__\0ecstackresult",l="__\0ecstackedover",a&&(a.createInvertedIndices=!0);var p=o.coordDim,h=o.type,f=0;i(t,(function(e){e.coordDim===p&&f++})),t.push({name:s,coordDim:p,coordDimIndex:f,type:h,isExtraCoord:!0,isCalculationCoord:!0}),f++,t.push({name:l,coordDim:l,coordDimIndex:f,type:h,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:a&&a.name,isStackedByIndex:c,stackedOverDimension:l,stackResultDimension:s}}function s(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function l(e,t){return s(e,t)?e.getCalculationInfo("stackResultDimension"):t}t.enableDataStack=o,t.isDimensionStacked=s,t.getStackedDimension=l},ee6e:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d}));var a=n("b5c6"),i=n("da71"),r=function(e){return Object(a["a"])({url:"".concat(i["a"],"/blade-source-stat/interface-stat"),method:"post",data:e})},o=function(e){return Object(a["a"])({url:"".concat(i["a"],"/flow-stat/global-stat"),method:"post",data:e})},s=function(){return Object(a["a"])({url:"".concat(i["a"],"/flow-stat/global-current"),method:"get"})},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])({url:"".concat(i["a"],"/flow-stat/recent-top"),method:"post",data:e})},c=function(){return Object(a["a"])({url:"".concat(i["a"],"/flow-stat/path-condition"),method:"get"})},u=function(){return Object(a["a"])({url:"".concat(i["a"],"/flow-stat/app-condition"),method:"get"})},d=function(){return Object(a["a"])({url:"".concat(i["a"],"/flow-stat/ip-condition"),method:"get"})}},ee84:function(e,t,n){var a=n("20c8"),i=n("401b"),r=i.applyTransform,o=a.CMD,s=[[],[],[]],l=Math.sqrt,c=Math.atan2;function u(e,t){var n,a,i,u,d,p=e.data,h=o.M,f=o.C,g=o.L,m=o.R,v=o.A,b=o.Q;for(i=0,u=0;i<p.length;){switch(n=p[i++],u=i,a=0,n){case h:a=1;break;case g:a=1;break;case f:a=3;break;case b:a=2;break;case v:var y=t[4],x=t[5],w=l(t[0]*t[0]+t[1]*t[1]),_=l(t[2]*t[2]+t[3]*t[3]),O=c(-t[1]/_,t[0]/w);p[i]*=w,p[i++]+=y,p[i]*=_,p[i++]+=x,p[i++]*=w,p[i++]*=_,p[i++]+=O,p[i++]+=O,i+=2,u=i;break;case m:D[0]=p[i++],D[1]=p[i++],r(D,D,t),p[u++]=D[0],p[u++]=D[1],D[0]+=p[i++],D[1]+=p[i++],r(D,D,t),p[u++]=D[0],p[u++]=D[1]}for(d=0;d<a;d++){var D=s[d];D[0]=p[i++],D[1]=p[i++],r(D,D,t),p[u++]=D[0],p[u++]=D[1]}}}e.exports=u},ef00:function(e,t,n){},ef38:function(e,t,n){},ef6a:function(e,t){function n(e,t,n,r,o,s){e=e||0;var l=n[1]-n[0];if(null!=o&&(o=i(o,[0,l])),null!=s&&(s=Math.max(s,null!=o?o:0)),"all"===r){var c=Math.abs(t[1]-t[0]);c=i(c,[0,l]),o=s=i(c,[o,s]),r=0}t[0]=i(t[0],n),t[1]=i(t[1],n);var u=a(t,r);t[r]+=e;var d=o||0,p=n.slice();u.sign<0?p[0]+=d:p[1]-=d,t[r]=i(t[r],p);var h=a(t,r);null!=o&&(h.sign!==u.sign||h.span<o)&&(t[1-r]=t[r]+u.sign*o);h=a(t,r);return null!=s&&h.span>s&&(t[1-r]=t[r]+h.sign*s),t}function a(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function i(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}e.exports=n},ef97:function(e,t,n){var a=n("3eba");n("217b8"),n("f17f");var i=n("7f96"),r=n("87c3"),o=n("fdde");n("01ed"),a.registerVisual(i("line","circle","line")),a.registerLayout(r("line")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,o("line"))},efb6:function(e,t,n){var a=n("5e2e");function i(){this.__data__=new a,this.size=0}e.exports=i},efcc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"testForm",staticClass:"test-item-form",attrs:{size:"small",model:e.testForm,rules:e.rules,disabled:e.disabled}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{attrs:{placeholder:"自动生成测试用例的名称，格式 POST/GET URL,  用户可手动输入或修改"},model:{value:e.testForm.name,callback:function(t){e.$set(e.testForm,"name",t)},expression:"testForm.name"}},[n("template",{slot:"prepend"},[e._v("标题")])],2)],1),n("div",{staticClass:"proxy-type"},[n("el-radio",{attrs:{label:"proxytest"},model:{value:e.proxyType,callback:function(t){e.proxyType=t},expression:"proxyType"}},[e._v("测试接口")]),n("el-radio",{attrs:{label:"proxy"},model:{value:e.proxyType,callback:function(t){e.proxyType=t},expression:"proxyType"}},[e._v("正式接口")])],1),n("el-form-item",{staticClass:"test-request",attrs:{prop:"path"}},[n("el-input",{attrs:{placeholder:"请输入字段值（例：0 或 zh",disabled:""},model:{value:e.testForm.path,callback:function(t){e.$set(e.testForm,"path",t)},expression:"testForm.path"}},[n("el-select",{attrs:{slot:"prepend",placeholder:"方法",disabled:""},slot:"prepend",model:{value:e.testForm.method,callback:function(t){e.$set(e.testForm,"method",t)},expression:"testForm.method"}},e._l(e.apiMethod,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-button",{attrs:{size:"small",loading:e.sendLoading,type:"primary"},on:{click:function(t){return e.handleAction("send")}}},[e._v("发送")]),n("el-button",{attrs:{size:"small",loading:e.saveLoading,type:"primary",plain:""},on:{click:function(t){return e.handleAction("save")}}},[e._v("保存")])],1),n("el-form-item",[n("el-tabs",["GET"!==e.testForm.method?n("el-tab-pane",{attrs:{label:"请求体",lazy:!0}},[n("el-radio",{attrs:{label:"JSON"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),n("el-radio",{attrs:{label:"form-data"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),n("el-radio",{attrs:{label:"x-www-form-urlencoded"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),n("el-radio",{attrs:{label:"XML"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),"JSON"===e.bodyType?n("data-editor",{attrs:{content:e.body,height:300,disabled:e.disabled},on:{"update:content":function(t){e.body=t}}}):"form-data"===e.bodyType||"x-www-form-urlencoded"===e.bodyType?n("values-table",{ref:"formBody",attrs:{data:e.formBody,"is-upload":"form-data"===e.bodyType,disabled:e.disabled},on:{"update:data":function(t){e.formBody=t}}}):"XML"===e.bodyType?n("code-editor",{attrs:{type:"xml",content:e.xmlBody,height:300},on:{"update:content":function(t){e.xmlBody=t}}}):e._e()],1):e._e(),n("el-tab-pane",{attrs:{label:"请求头"}},[n("el-checkbox",{model:{value:e.returnContext,callback:function(t){e.returnContext=t},expression:"returnContext"}},[e._v("返回Context")]),n("values-table",{attrs:{data:e.headers,disabled:e.disabled},on:{"update:data":function(t){e.headers=t}}})],1),n("el-tab-pane",{attrs:{label:"Query参数"}},[n("values-table",{attrs:{data:e.query,disabled:e.disabled},on:{"update:data":function(t){e.query=t}}})],1)],1)],1),n("div",{staticClass:"response-hr",class:"response-hr-"+e.responseState},[e._v("Response 响应结果")]),n("el-form-item",[n("el-tabs",[n("el-tab-pane",{attrs:{label:"响应体"}},[n("el-radio-group",{staticStyle:{cursor:"not-allowed","pointer-events":"none"},model:{value:e.responseBodyType,callback:function(t){e.responseBodyType=t},expression:"responseBodyType"}},[n("el-radio",{attrs:{label:"JSON"}}),n("el-radio",{attrs:{label:"XML"}}),n("el-radio",{attrs:{label:"ELSE"}},[e._v("其他类型")])],1),"JSON"===e.responseBodyType?[n("code-highlight",{attrs:{id:"json",language:"json",code:e.jsonResponseBody,height:300}})]:"XML"===e.responseBodyType?[n("code-highlight",{attrs:{id:"xml",language:"xml",code:e.xmlResponseBody,height:300}})]:[n("el-input",{attrs:{type:"textarea",autosize:{minRows:12,maxRows:20},readonly:""},model:{value:e.responseBody,callback:function(t){e.responseBody=t},expression:"responseBody"}})]],2),n("el-tab-pane",{attrs:{label:"响应头"}},[n("values-table",{attrs:{data:e.responseHeaders,disabled:""},on:{"update:data":function(t){e.responseHeaders=t}}})],1)],1)],1)],1)},i=[],r=(n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("28a5"),n("a481"),n("ac6a"),n("ade3")),o=n("942a"),s=n("83b0"),l=n("247e2"),c=(n("6b54"),n("cebe")),u=n.n(c),d=n("323e"),p=n.n(d),h=(n("a5d8"),n("ff40")),f=u.a.create({timeout:2e4,withCredentials:!0});p.a.configure({showSpinner:!1}),f.interceptors.request.use((function(e){return p.a.start(),e}),(function(e){return Promise.reject(e)})),f.interceptors.response.use((function(e){p.a.done();var t=e.status;return 200!==t?Promise.reject(e):e}),(function(e){return"[object Error]"===Object.prototype.toString.call(e)&&Object(h["a"])({message:"请求出错了：".concat(e),type:"error"}),p.a.done(),Promise.reject(new Error(e))}));var g=f,m=n("5880"),v=n("7ede"),b=(n("4917"),n("3b2b"),n("386d"),n("c54a"));function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";for(var n in e)Object(b["a"])(e,n)&&""!==n&&(Object(b["b"])(e[n])&&(e[n]=e[n].join(",")),t+="".concat(n,"=").concat(e[n],"&"));return t.slice(0,-1)}var x=n("4627"),w=n("d480"),_=n("9470");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C={name:"test-item",data:function(){return{editorHeight:400,testForm:{},rules:{name:[{required:!0,message:"请填写测试用例名称",trigger:"blur"}]},returnContext:!1,proxyType:"proxytest",bodyType:"JSON",headers:{},body:{},formBody:[],xmlBody:"",query:{},sendLoading:!1,saveLoading:!1,responseState:"",responseBody:null,responseHeaders:{},responseBodyType:""}},computed:D(D({},Object(m["mapGetters"])(["apiMethod"])),{},{serviceName:function(){return this.data.serviceName||""},request:function(){var e=this.encodeValuesQuery(this.query)||"",t=this.headers||{},n={};if(t=this.handleHeaders(t),"form-data"===this.bodyType){Object(b["c"])(this.formBody,"object")&&this.$refs.formBody.emitData();var a=new FormData;this.formBody.forEach((function(e){if(e.type&&"File"===e.type&&e.files)for(var t=0;t<e.files.length;t++)a.append(e.key,e.files[t]);else(!e.$cellEdit||e.key&&e.value)&&a.append(e.key,e.value)})),n=a}else"x-www-form-urlencoded"===this.bodyType?(Object(b["c"])(this.formBody,"object")&&this.$refs.formBody.emitData(),n=this.encodeValuesQuery(this.formBody)):n="XML"===this.bodyType?this.xmlBody||"":this.body||{};return{headers:t,body:n,query:e}},content:function(){var e=this.headers||[],t="XML"===this.bodyType?this.xmlBody:"JSON"===this.bodyType?this.body:this.formBody,n=this.query||[];return JSON.stringify({headers:this.formatContent(e),body:"form-data"===this.bodyType||"x-www-form-urlencoded"===this.bodyType?this.formatContent(t):t,query:this.formatContent(n),proxyType:this.proxyType,returnContext:this.returnContext,bodyType:this.bodyType})},jsonResponseBody:function(){if(this.responseBody){var e=Object.assign({},this.responseBody);return JSON.stringify(e,null,"  ")}return""},xmlResponseBody:function(){var e=this.responseBody||"";return e=e.replace(/></g,">\n<"),e}}),props:{data:{type:Array,default:function(){return[]}},domain:{type:String,default:""},refresh:{type:Function},disabled:{type:Boolean,default:!1}},components:{dataParams:o["default"],paramsTable:s["default"],valuesTable:l["default"],dataEditor:x["default"],codeHighlight:w["default"],codeEditor:_["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(){this.initData()}},proxyType:{handler:function(e){this.testForm.path=this.domain+this.changePath(this.data.path,e)}},domain:{handler:function(e){this.testForm.path=e+this.changePath(this.data.path,this.proxyType)}}},methods:{formatContent:function(e){if(Object(b["c"])(e,"array"))for(var t=0;t<e.length;t++)delete e[t].$cellEdit,delete e[t].$index,""===e[t].key&&(e.splice(t,1),t--);else if(Object(b["c"])(e,"object"))for(var n in e)""===n&&delete e[n];return e},encodeValuesQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Object(b["c"])(e,"array")){var t=[];return e.forEach((function(e){(!e.$cellEdit||e.key&&e.value)&&t.push("".concat(e.key,"=").concat(e.value))})),t.join("&")}return y(e)},checkResponseBodyType:function(e){return e=e.split(";"),e=e.map((function(e){return e.toLowerCase()})),e.includes("application/xml")||e.includes("text/xml")?"XML":e.includes("application/json")?"JSON":"ELSE"},handleHeaders:function(e){var t={};return Object(b["c"])(e,"array")&&e.forEach((function(e){e.key&&(t[e.key]?t[e.key]=t[e.key]+","+e.value:t[e.key]=e.value)})),this.returnContext?t.returnContext=!0:t.returnContext&&delete t.returnContext,"GET"===this.testForm.method||t["Content-Type"]||("form-data"===this.bodyType?t["Content-Type"]="multipart/form-data":"x-www-form-urlencoded"===this.bodyType?t["Content-Type"]="application/x-www-form-urlencoded":"XML"===this.bodyType?t["Content-Type"]="application/xml":t["Content-Type"]="application/json"),t},handleAction:function(e){var t=Object(b["i"])(this.body);if(!t)return this.$message.error("请求体JSON格式有误"),!1;"save"===e&&this.handleSave(),"send"===e&&this.validateUpload()&&this.handleSend()},validateUpload:function(){if("form-data"===this.bodyType){var e=[];if(this.formBody.forEach((function(t,n){t.type&&"File"===t.type&&t.files&&t.files.length!==t.value.split(",").length&&e.push(n+1)})),e.length>0)return this.$message({showClose:!0,message:"第".concat(e.join(","),"行 未上传文件！"),type:"warning"}),!1}return!0},handleSend:function(){var e=this;this.clearResponse(),this.sendLoading=!0;var t=this.testForm.method,n=this.testForm.path+(this.request.query?"?".concat(this.request.query):""),a=this.request.headers||{},i=this.request.body||{};g({url:n,method:t,headers:a,data:i}).then((function(t){e.responseState="success",e.responseBody=t.data,e.responseHeaders=t.headers,e.responseBodyType=e.checkResponseBodyType(t.headers["content-type"]),e.sendLoading=!1})).catch((function(t){console.error(t),e.responseState="error",e.responseBody=t.data,e.responseHeaders=t.headers,t.headers&&t.headers["content-type"]&&(e.responseBodyType=e.checkResponseBodyType(t.headers["content-type"])),e.sendLoading=!1}))},changePath:function(e,t){return e?(e="proxytest"===t?e.replace("/proxy/".concat(this.serviceName,"/"),"/_proxytest/".concat(this.serviceName,"/")):e.replace("/proxy/".concat(this.serviceName,"/"),"".concat(this.data.formalPathPrefix,"/").concat(this.serviceName,"/")),e):e},handleSave:function(){var e=this;this.saveLoading=!0;var t=Object.assign({},this.testForm);t.content=this.content,Object(v["a"])(t).then((function(){e.$message.success("测试用例保存成功"),e.refresh()})).finally((function(){e.saveLoading=!1}))},initData:function(){var e=Object.assign({},this.data),t=e.content||"{}";try{t=JSON.parse(t)}catch(f){console.log("[error in test data]",f)}var n=t,a=n.headers,i=void 0===a?{}:a,r=n.body,o=void 0===r?{}:r,s=n.query,l=void 0===s?{}:s,c=n.proxyType,u=void 0===c?"proxytest":c,d=n.returnContext,p=n.bodyType;if(this.returnContext=d||i.returnContext||!1,delete i.returnContext,p)this.bodyType=p;else{var h=(i["Content-Type"]||"").split(";");h.includes("application/xml")?(this.bodyType="XML",h.splice(h.indexOf("application/xml"),1)):h.includes("multipart/form-data")?(this.bodyType="form-data",h.splice(h.indexOf("multipart/form-data"),1)):h.includes("application/x-www-form-urlencoded")?(this.bodyType="x-www-form-urlencoded",h.splice(h.indexOf("application/x-www-form-urlencoded"),1)):h.includes("application/json")&&(this.bodyType="JSON",h.splice(h.indexOf("application/json"),1)),i["Content-Type"]=h.join(";"),i["Content-Type"]||delete i["Content-Type"]}"XML"===this.bodyType?this.xmlBody=o:"form-data"===this.bodyType||"x-www-form-urlencoded"===this.bodyType?this.formBody=o:this.body=o,this.headers=i,this.query=l,this.proxyType=u,e.path=this.domain+this.changePath(e.path,this.proxyType),this.testForm=e},validate:function(){var e=this;return new Promise((function(t,n){e.$refs.testForm.validate((function(e){e?t():n()}))}))},clearResponse:function(){this.responseState="",this.responseBody="",this.responseBodyType="",this.responseHeaders={}}}},S=C,k=(n("1c28"),n("2877")),T=Object(k["a"])(S,a,i,!1,null,null,null);t["default"]=T.exports},efdf:function(e,t,n){var a=n("b20a"),i=a((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=i},f100:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("这个页面会被 keep-alive")]),n("el-tag",[e._v("在下面的输入框输入任意字符后，切换到其它页面，再回到此页时输入框文字保留，证明被缓存")]),n("br"),n("br"),n("el-tag",[e._v("同时滚动下拉，返回时还会保持滚动条所在的位置")]),n("br"),n("br"),n("el-input",{attrs:{placeholder:"input here"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("div",{staticStyle:{height:"1000px"}})],1)},i=[],r={data:function(){return{value:""}}},o=r,s=n("2877"),l=Object(s["a"])(o,a,i,!1,null,null,null);t["default"]=l.exports},f123:function(e,t,n){var a=n("9f82"),i=a.prepareDataCoordInfo,r=a.getStackedOnPoint;function o(e,t){var n=[];return t.diff(e).add((function(e){n.push({cmd:"+",idx:e})})).update((function(e,t){n.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){n.push({cmd:"-",idx:e})})).execute(),n}function s(e,t,n,a,s,l,c,u){for(var d=o(e,t),p=[],h=[],f=[],g=[],m=[],v=[],b=[],y=i(s,t,c),x=i(l,e,u),w=0;w<d.length;w++){var _=d[w],O=!0;switch(_.cmd){case"=":var D=e.getItemLayout(_.idx),C=t.getItemLayout(_.idx1);(isNaN(D[0])||isNaN(D[1]))&&(D=C.slice()),p.push(D),h.push(C),f.push(n[_.idx]),g.push(a[_.idx1]),b.push(t.getRawIndex(_.idx1));break;case"+":var S=_.idx;p.push(s.dataToPoint([t.get(y.dataDimsForPoint[0],S),t.get(y.dataDimsForPoint[1],S)])),h.push(t.getItemLayout(S).slice()),f.push(r(y,s,t,S)),g.push(a[S]),b.push(t.getRawIndex(S));break;case"-":S=_.idx;var k=e.getRawIndex(S);k!==S?(p.push(e.getItemLayout(S)),h.push(l.dataToPoint([e.get(x.dataDimsForPoint[0],S),e.get(x.dataDimsForPoint[1],S)])),f.push(n[S]),g.push(r(x,l,e,S)),b.push(k)):O=!1}O&&(m.push(_),v.push(v.length))}v.sort((function(e,t){return b[e]-b[t]}));var T=[],P=[],j=[],I=[],L=[];for(w=0;w<v.length;w++){S=v[w];T[w]=p[S],P[w]=h[S],j[w]=f[S],I[w]=g[S],L[w]=m[S]}return{current:T,next:P,stackedOnCurrent:j,stackedOnNext:I,status:L}}e.exports=s},f17f:function(e,t,n){var a=n("4e08"),i=(a.__DEV__,n("6d8b")),r=n("e263"),o=r.fromPoints,s=n("f706"),l=n("1418"),c=n("f123"),u=n("2306"),d=n("e0d3"),p=n("d4d1"),h=p.Polyline,f=p.Polygon,g=n("e887"),m=n("9f82"),v=m.prepareDataCoordInfo,b=m.getStackedOnPoint,y=n("b0af"),x=y.createGridClipPath,w=y.createPolarClipPath;function _(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var a=e[n],i=t[n];if(a[0]!==i[0]||a[1]!==i[1])return}return!0}}function O(e,t){var n=[],a=[],i=[],r=[];return o(e,n,a),o(t,i,r),Math.max(Math.abs(n[0]-i[0]),Math.abs(n[1]-i[1]),Math.abs(a[0]-r[0]),Math.abs(a[1]-r[1]))}function D(e){return"number"===typeof e?e:e?.5:0}function C(e,t,n){if(!n.valueDim)return[];for(var a=[],i=0,r=t.count();i<r;i++)a.push(b(n,e,t,i));return a}function S(e,t,n){for(var a=t.getBaseAxis(),i="x"===a.dim||"radius"===a.dim?0:1,r=[],o=0;o<e.length-1;o++){var s=e[o+1],l=e[o];r.push(l);var c=[];switch(n){case"end":c[i]=s[i],c[1-i]=l[1-i],r.push(c);break;case"middle":var u=(l[i]+s[i])/2,d=[];c[i]=d[i]=u,c[1-i]=l[1-i],d[1-i]=s[1-i],r.push(c),r.push(d);break;default:c[i]=l[i],c[1-i]=s[1-i],r.push(c)}}return e[o]&&r.push(e[o]),r}function k(e,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()&&"cartesian2d"===t.type){for(var a,r,o=n.length-1;o>=0;o--){var s=n[o].dimension,l=e.dimensions[s],c=e.getDimensionInfo(l);if(a=c&&c.coordDim,"x"===a||"y"===a){r=n[o];break}}if(r){var d=t.getAxis(a),p=i.map(r.stops,(function(e){return{coord:d.toGlobalCoord(d.dataToCoord(e.value)),color:e.color}})),h=p.length,f=r.outerColors.slice();h&&p[0].coord>p[h-1].coord&&(p.reverse(),f.reverse());var g=10,m=p[0].coord-g,v=p[h-1].coord+g,b=v-m;if(b<.001)return"transparent";i.each(p,(function(e){e.offset=(e.coord-m)/b})),p.push({offset:h?p[h-1].offset:.5,color:f[1]||"transparent"}),p.unshift({offset:h?p[0].offset:.5,color:f[0]||"transparent"});var y=new u.LinearGradient(0,0,0,0,p,!0);return y[a]=m,y[a+"2"]=v,y}}}function T(e,t,n){var a=e.get("showAllSymbol"),r="auto"===a;if(!a||r){var o=n.getAxesByScale("ordinal")[0];if(o&&(!r||!P(o,t))){var s=t.mapDimension(o.dim),l={};return i.each(o.getViewLabels(),(function(e){l[e.tickValue]=1})),function(e){return!l.hasOwnProperty(t.get(s,e))}}}}function P(e,t){var n=e.getExtent(),a=Math.abs(n[1]-n[0])/e.scale.count();isNaN(a)&&(a=0);for(var i=t.count(),r=Math.max(1,Math.round(i/5)),o=0;o<i;o+=r)if(1.5*l.getSymbolSize(t,o)[e.isHorizontal()?1:0]>a)return!1;return!0}function j(e,t,n){if("cartesian2d"===e.type){var a=e.getBaseAxis().isHorizontal(),i=x(e,t,n);if(!n.get("clip",!0)){var r=i.shape,o=Math.max(r.width,r.height);a?(r.y-=o,r.height+=2*o):(r.x-=o,r.width+=2*o)}return i}return w(e,t,n)}var I=g.extend({type:"line",init:function(){var e=new u.Group,t=new s;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var a=e.coordinateSystem,r=this.group,o=e.getData(),s=e.getModel("lineStyle"),l=e.getModel("areaStyle"),c=o.mapArray(o.getItemLayout),u="polar"===a.type,d=this._coordSys,p=this._symbolDraw,h=this._polyline,f=this._polygon,g=this._lineGroup,m=e.get("animation"),b=!l.isEmpty(),y=l.get("origin"),x=v(a,o,y),w=C(a,o,x),O=e.get("showSymbol"),P=O&&!u&&T(e,o,a),I=this._data;I&&I.eachItemGraphicEl((function(e,t){e.__temp&&(r.remove(e),I.setItemGraphicEl(t,null))})),O||p.remove(),r.add(g);var L,M=!u&&e.get("step");a&&a.getArea&&e.get("clip",!0)&&(L=a.getArea(),null!=L.width?(L.x-=.1,L.y-=.1,L.width+=.2,L.height+=.2):L.r0&&(L.r0-=.5,L.r1+=.5)),this._clipShapeForSymbol=L,h&&d.type===a.type&&M===this._step?(b&&!f?f=this._newPolygon(c,w,a,m):f&&!b&&(g.remove(f),f=this._polygon=null),g.setClipPath(j(a,!1,e)),O&&p.updateData(o,{isIgnore:P,clipShape:L}),o.eachItemGraphicEl((function(e){e.stopAnimation(!0)})),_(this._stackedOnPoints,w)&&_(this._points,c)||(m?this._updateAnimation(o,w,a,n,M,y):(M&&(c=S(c,a,M),w=S(w,a,M)),h.setShape({points:c}),f&&f.setShape({points:c,stackedOnPoints:w})))):(O&&p.updateData(o,{isIgnore:P,clipShape:L}),M&&(c=S(c,a,M),w=S(w,a,M)),h=this._newPolyline(c,a,m),b&&(f=this._newPolygon(c,w,a,m)),g.setClipPath(j(a,!0,e)));var A=k(o,a)||o.getVisual("color");h.useStyle(i.defaults(s.getLineStyle(),{fill:"none",stroke:A,lineJoin:"bevel"}));var E=e.get("smooth");if(E=D(e.get("smooth")),h.setShape({smooth:E,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),f){var z=o.getCalculationInfo("stackedOnSeries"),R=0;f.useStyle(i.defaults(l.getAreaStyle(),{fill:A,opacity:.7,lineJoin:"bevel"})),z&&(R=D(z.get("smooth"))),f.setShape({smooth:E,stackedOnSmooth:R,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=o,this._coordSys=a,this._stackedOnPoints=w,this._points=c,this._step=M,this._valueOrigin=y},dispose:function(){},highlight:function(e,t,n,a){var i=e.getData(),r=d.queryDataIndex(i,a);if(!(r instanceof Array)&&null!=r&&r>=0){var o=i.getItemGraphicEl(r);if(!o){var s=i.getItemLayout(r);if(!s)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s[0],s[1]))return;o=new l(i,r),o.position=s,o.setZ(e.get("zlevel"),e.get("z")),o.ignore=isNaN(s[0])||isNaN(s[1]),o.__temp=!0,i.setItemGraphicEl(r,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else g.prototype.highlight.call(this,e,t,n,a)},downplay:function(e,t,n,a){var i=e.getData(),r=d.queryDataIndex(i,a);if(null!=r&&r>=0){var o=i.getItemGraphicEl(r);o&&(o.__temp?(i.setItemGraphicEl(r,null),this.group.remove(o)):o.downplay())}else g.prototype.downplay.call(this,e,t,n,a)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new h({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new f({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_updateAnimation:function(e,t,n,a,i,r){var o=this._polyline,s=this._polygon,l=e.hostModel,d=c(this._data,e,this._stackedOnPoints,t,this._coordSys,n,this._valueOrigin,r),p=d.current,h=d.stackedOnCurrent,f=d.next,g=d.stackedOnNext;if(i&&(p=S(d.current,n,i),h=S(d.stackedOnCurrent,n,i),f=S(d.next,n,i),g=S(d.stackedOnNext,n,i)),O(p,f)>3e3||s&&O(h,g)>3e3)return o.setShape({points:f}),void(s&&s.setShape({points:f,stackedOnPoints:g}));o.shape.__points=d.current,o.shape.points=p,u.updateProps(o,{shape:{points:f}},l),s&&(s.setShape({points:p,stackedOnPoints:h}),u.updateProps(s,{shape:{points:f,stackedOnPoints:g}},l));for(var m=[],v=d.status,b=0;b<v.length;b++){var y=v[b].cmd;if("="===y){var x=e.getItemGraphicEl(v[b].idx1);x&&m.push({el:x,ptIdx:b})}}o.animators&&o.animators.length&&o.animators[0].during((function(){for(var e=0;e<m.length;e++){var t=m[e].el;t.attr("position",o.shape.__points[m[e].ptIdx])}}))},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(e,a){e.__temp&&(t.remove(e),n.setItemGraphicEl(a,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});e.exports=I},f219:function(e,t){var n="#eee",a=function(){return{axisLine:{lineStyle:{color:n}},axisTick:{lineStyle:{color:n}},axisLabel:{textStyle:{color:n}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:n}}}},i=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],r={color:i,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:n},crossStyle:{color:n},label:{color:"#000"}}},legend:{textStyle:{color:n}},textStyle:{color:n},title:{textStyle:{color:n}},toolbox:{iconStyle:{normal:{borderColor:n}}},dataZoom:{textStyle:{color:n}},visualMap:{textStyle:{color:n}},timeline:{lineStyle:{color:n},itemStyle:{normal:{color:i[1]}},label:{normal:{textStyle:{color:n}}},controlStyle:{normal:{color:n,borderColor:n}}},timeAxis:a(),logAxis:a(),valueAxis:a(),categoryAxis:a(),line:{symbol:"circle"},graph:{color:i},gauge:{title:{textStyle:{color:n}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};r.categoryAxis.splitLine.show=!1;var o=r;e.exports=o},f231:function(e,t,n){"use strict";n("4aa1")},f273:function(e,t,n){var a=n("6d8b"),i=n("2306"),r=n("fab22"),o=n("6679"),s=n("0156"),l=n("58df"),c=l.rectCoordAxisBuildSplitArea,u=l.rectCoordAxisHandleRemove,d=["axisLine","axisTickLabel","axisName"],p=["splitArea","splitLine","minorSplitLine"],h=o.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,o){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new i.Group,this.group.add(this._axisGroup),e.get("show")){var c=e.getCoordSysModel(),u=s.layout(c,e),f=new r(e,u);a.each(d,f.add,f),this._axisGroup.add(f.getGroup()),a.each(p,(function(t){e.get(t+".show")&&this["_"+t](e,c)}),this),i.groupTransition(l,this._axisGroup,e),h.superCall(this,"render",e,t,n,o)}},remove:function(){u(this)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var r=e.getModel("splitLine"),o=r.getModel("lineStyle"),s=o.get("color");s=a.isArray(s)?s:[s];for(var l=t.coordinateSystem.getRect(),c=n.isHorizontal(),u=0,d=n.getTicksCoords({tickModel:r}),p=[],h=[],f=o.getLineStyle(),g=0;g<d.length;g++){var m=n.toGlobalCoord(d[g].coord);c?(p[0]=m,p[1]=l.y,h[0]=m,h[1]=l.y+l.height):(p[0]=l.x,p[1]=m,h[0]=l.x+l.width,h[1]=m);var v=u++%s.length,b=d[g].tickValue;this._axisGroup.add(new i.Line({anid:null!=b?"line_"+d[g].tickValue:null,subPixelOptimize:!0,shape:{x1:p[0],y1:p[1],x2:h[0],y2:h[1]},style:a.defaults({stroke:s[v]},f),silent:!0}))}}},_minorSplitLine:function(e,t){var n=e.axis,a=e.getModel("minorSplitLine"),r=a.getModel("lineStyle"),o=t.coordinateSystem.getRect(),s=n.isHorizontal(),l=n.getMinorTicksCoords();if(l.length)for(var c=[],u=[],d=r.getLineStyle(),p=0;p<l.length;p++)for(var h=0;h<l[p].length;h++){var f=n.toGlobalCoord(l[p][h].coord);s?(c[0]=f,c[1]=o.y,u[0]=f,u[1]=o.y+o.height):(c[0]=o.x,c[1]=f,u[0]=o.x+o.width,u[1]=f),this._axisGroup.add(new i.Line({anid:"minor_line_"+l[p][h].tickValue,subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:d,silent:!0}))}},_splitArea:function(e,t){c(this,this._axisGroup,e,t)}});h.extend({type:"xAxis"}),h.extend({type:"yAxis"})},f279:function(e,t,n){var a=n("9850"),i=n("e263"),r=n("401b"),o=n("0655");function s(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var a=this.getBoundingRect();n=[a.x+a.width/2,a.y+a.height/2]}this.center=n}s.prototype={constructor:s,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],o=[-t,-t],s=[],l=[],c=this.geometries,u=0;u<c.length;u++)if("polygon"===c[u].type){var d=c[u].exterior;i.fromPoints(d,s,l),r.min(n,n,s),r.max(o,o,l)}return 0===u&&(n[0]=n[1]=o[0]=o[1]=0),this._rect=new a(n[0],n[1],o[0]-n[0],o[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var a=0,i=n.length;a<i;a++)if("polygon"===n[a].type){var r=n[a].exterior,s=n[a].interiors;if(o.contain(r,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(o.contain(s[l]))continue e;return!0}}return!1},transformTo:function(e,t,n,i){var o=this.getBoundingRect(),s=o.width/o.height;n?i||(i=n/s):n=s*i;for(var l=new a(e,t,n,i),c=o.calculateTransform(l),u=this.geometries,d=0;d<u.length;d++)if("polygon"===u[d].type){for(var p=u[d].exterior,h=u[d].interiors,f=0;f<p.length;f++)r.applyTransform(p[f],p[f],c);for(var g=0;g<(h?h.length:0);g++)for(f=0;f<h[g].length;f++)r.applyTransform(h[g][f],h[g][f],c)}o=this._rect,o.copy(l),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(e){null==e&&(e=this.name);var t=new s(e,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}};var l=s;e.exports=l},f3c1:function(e,t){var n=800,a=16,i=Date.now;function r(e){var t=0,r=0;return function(){var o=i(),s=a-(o-r);if(r=o,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=r},f47d:function(e,t,n){var a=n("6d8b"),i=(a.assert,a.isArray),r=n("4e08");r.__DEV__;function o(e){return new s(e)}function s(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var l=s.prototype;l.perform=function(e){var t,n=this._upstream,a=e&&e.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!a&&(t=this._plan(this.context));var o,s=h(this._modBy),l=this._modDataCount||0,c=h(e&&e.modBy),p=e&&e.modDataCount||0;function h(e){return!(e>=1)&&(e=1),e}s===c&&l===p||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,o=d(this,a)),this._modBy=c,this._modDataCount=p;var f=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var g=this._dueIndex,m=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!a&&(o||g<m)){var v=this._progress;if(i(v))for(var b=0;b<v.length;b++)u(this,v[b],g,m,c,p);else u(this,v,g,m,c,p)}this._dueIndex=m;var y=null!=this._settedOutputEnd?this._settedOutputEnd:m;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var c=function(){var e,t,n,a,i,r={reset:function(l,c,u,d){t=l,e=c,n=u,a=d,i=Math.ceil(a/n),r.next=n>1&&a>0?s:o}};return r;function o(){return t<e?t++:null}function s(){var r=t%i*n+Math.ceil(t/i),o=t>=e?null:r<a?r:t;return t++,o}}();function u(e,t,n,a,i,r){c.reset(n,a,i,r),e._callingProgress=t,e._callingProgress({start:n,end:a,count:a-n,next:c.next},e.context)}function d(e,t){var n,a;e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null,!t&&e._reset&&(n=e._reset(e.context),n&&n.progress&&(a=n.forceFirstProgress,n=n.progress),i(n)&&!n.length&&(n=null)),e._progress=n,e._modBy=e._modDataCount=null;var r=e._downstream;return r&&r.dirty(),a}l.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},l.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},l.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},l.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},l.getUpstream=function(){return this._upstream},l.getDownstream=function(){return this._downstream},l.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t.createTask=o},f4d9:function(e,t){var n="\\ud800-\\udfff",a="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=a+i+r,s="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",c="\\xac\\xb1\\xd7\\xf7",u="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d="\\u2000-\\u206f",p=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",h="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\ufe0e\\ufe0f",g=c+u+d+p,m="['’]",v="["+g+"]",b="["+o+"]",y="\\d+",x="["+s+"]",w="["+l+"]",_="[^"+n+g+y+s+l+h+"]",O="\\ud83c[\\udffb-\\udfff]",D="(?:"+b+"|"+O+")",C="[^"+n+"]",S="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",T="["+h+"]",P="\\u200d",j="(?:"+w+"|"+_+")",I="(?:"+T+"|"+_+")",L="(?:"+m+"(?:d|ll|m|re|s|t|ve))?",M="(?:"+m+"(?:D|LL|M|RE|S|T|VE))?",A=D+"?",E="["+f+"]?",z="(?:"+P+"(?:"+[C,S,k].join("|")+")"+E+A+")*",R="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",F="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",B=E+A+z,$="(?:"+[x,S,k].join("|")+")"+B,q=RegExp([T+"?"+w+"+"+L+"(?="+[v,T,"$"].join("|")+")",I+"+"+M+"(?="+[v,T+j,"$"].join("|")+")",T+"?"+j+"+"+L,T+"+"+M,F,R,y,$].join("|"),"g");function N(e){return e.match(q)||[]}e.exports=N},f6d3:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"api-detail-response"},[n("data-params",e._b({attrs:{"header-name":"响应头","body-name":"响应体","has-query":!1,data:e.response,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(t){e.response=t}}},"data-params",e.$attrs,!1),[n("template",{slot:"body"},[n("el-form",[n("el-form-item",{attrs:{label:"内容类型",prop:"contentType"}},[n("el-radio-group",{model:{value:e.response.contentType,callback:function(t){e.$set(e.response,"contentType",t)},expression:"response.contentType"}},[n("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),n("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"application/xml"===e.response.contentType,expression:"response.contentType === 'application/xml'"}],staticClass:"key-tips"},[e._v("\n          按JSON配置，网关会把JSON转换为XML，请参考\n          "),n("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("XML和JSON间的转换规则")])],1)],1)],1)],1)],2),n("xml-info",{attrs:{visible:e.xmlInoVisible},on:{"update:visible":function(t){e.xmlInoVisible=t}}})],1)},i=[],r=n("942a"),o=n("921f"),s={name:"api-detail-response",data:function(){return{response:{},xmlInoVisible:!1}},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}},isDelScriptWithHttp:{type:Boolean,default:!0}},computed:{dataObj:function(){return{response:this.response}}},components:{dataParams:r["default"],xmlInfo:o["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},dataObj:{deep:!0,handler:function(){this.emitData()}}},methods:{emitData:function(){this.$emit("update:data",this.dataObj)},initData:function(e){e=e||this.data,this.response=e&&e.response||{},this.response.contentType||(this.response.contentType="application/json")}}},l=s,c=(n("1807"),n("2877")),u=Object(c["a"])(l,a,i,!1,null,"48f1059d",null);t["default"]=u.exports},f706:function(e,t,n){var a=n("2306"),i=n("1418"),r=n("6d8b"),o=r.isObject;function s(e){this.group=new a.Group,this._symbolCtor=e||i}var l=s.prototype;function c(e,t,n,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(n))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function u(e){return null==e||o(e)||(e={isIgnore:e}),e||{}}function d(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}l.updateData=function(e,t){t=u(t);var n=this.group,i=e.hostModel,r=this._data,o=this._symbolCtor,s=d(e);r||n.removeAll(),e.diff(r).add((function(a){var i=e.getItemLayout(a);if(c(e,i,a,t)){var r=new o(e,a,s);r.attr("position",i),e.setItemGraphicEl(a,r),n.add(r)}})).update((function(l,u){var d=r.getItemGraphicEl(u),p=e.getItemLayout(l);c(e,p,l,t)?(d?(d.updateData(e,l,s),a.updateProps(d,{position:p},i)):(d=new o(e,l),d.attr("position",p)),n.add(d),e.setItemGraphicEl(l,d)):n.remove(d)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&t.fadeOut((function(){n.remove(t)}))})).execute(),this._data=e},l.isPersistent=function(){return!0},l.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl((function(t,n){var a=e.getItemLayout(n);t.attr("position",a)}))},l.incrementalPrepareUpdate=function(e){this._seriesScope=d(e),this._data=null,this.group.removeAll()},l.incrementalUpdate=function(e,t,n){function a(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}n=u(n);for(var i=e.start;i<e.end;i++){var r=t.getItemLayout(i);if(c(t,r,i,n)){var o=new this._symbolCtor(t,i,this._seriesScope);o.traverse(a),o.attr("position",r),this.group.add(o),t.setItemGraphicEl(i,o)}}},l.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}))})):t.removeAll()};var p=s;e.exports=p},f72d:function(e,t,n){"use strict";n("ed02")},f7b7:function(e,t,n){"use strict";n("0dda")},f8af:function(e,t,n){var a=n("2474");function i(e){var t=new e.constructor(e.byteLength);return new a(t).set(new a(e)),t}e.exports=i},f909:function(e,t,n){var a=n("7e64"),i=n("b760"),r=n("72af"),o=n("4f50"),s=n("1a8c"),l=n("9934"),c=n("8adb");function u(e,t,n,d,p){e!==t&&r(t,(function(r,l){if(p||(p=new a),s(r))o(e,t,l,n,u,d,p);else{var h=d?d(c(e,l),r,l+"",e,t,p):void 0;void 0===h&&(h=r),i(e,l,h)}}),l)}e.exports=u},f934:function(e,t,n){var a=n("6d8b"),i=n("9850"),r=n("3842"),o=r.parsePercent,s=n("eda2"),l=a.each,c=["left","right","top","bottom","width","height"],u=[["width","left","right"],["height","top","bottom"]];function d(e,t,n,a,i){var r=0,o=0;null==a&&(a=1/0),null==i&&(i=1/0);var s=0;t.eachChild((function(l,c){var u,d,p=l.position,h=l.getBoundingRect(),f=t.childAt(c+1),g=f&&f.getBoundingRect();if("horizontal"===e){var m=h.width+(g?-g.x+h.x:0);u=r+m,u>a||l.newline?(r=0,u=m,o+=s+n,s=h.height):s=Math.max(s,h.height)}else{var v=h.height+(g?-g.y+h.y:0);d=o+v,d>i||l.newline?(r+=s+n,o=0,d=v,s=h.width):s=Math.max(s,h.width)}l.newline||(p[0]=r,p[1]=o,"horizontal"===e?r=u+n:o=d+n)}))}var p=d,h=a.curry(d,"vertical"),f=a.curry(d,"horizontal");function g(e,t,n){var a=t.width,i=t.height,r=o(e.x,a),l=o(e.y,i),c=o(e.x2,a),u=o(e.y2,i);return(isNaN(r)||isNaN(parseFloat(e.x)))&&(r=0),(isNaN(c)||isNaN(parseFloat(e.x2)))&&(c=a),(isNaN(l)||isNaN(parseFloat(e.y)))&&(l=0),(isNaN(u)||isNaN(parseFloat(e.y2)))&&(u=i),n=s.normalizeCssArray(n||0),{width:Math.max(c-r-n[1]-n[3],0),height:Math.max(u-l-n[0]-n[2],0)}}function m(e,t,n){n=s.normalizeCssArray(n||0);var a=t.width,r=t.height,l=o(e.left,a),c=o(e.top,r),u=o(e.right,a),d=o(e.bottom,r),p=o(e.width,a),h=o(e.height,r),f=n[2]+n[0],g=n[1]+n[3],m=e.aspect;switch(isNaN(p)&&(p=a-u-g-l),isNaN(h)&&(h=r-d-f-c),null!=m&&(isNaN(p)&&isNaN(h)&&(m>a/r?p=.8*a:h=.8*r),isNaN(p)&&(p=m*h),isNaN(h)&&(h=p/m)),isNaN(l)&&(l=a-u-p-g),isNaN(c)&&(c=r-d-h-f),e.left||e.right){case"center":l=a/2-p/2-n[3];break;case"right":l=a-p-g;break}switch(e.top||e.bottom){case"middle":case"center":c=r/2-h/2-n[0];break;case"bottom":c=r-h-f;break}l=l||0,c=c||0,isNaN(p)&&(p=a-g-l-(u||0)),isNaN(h)&&(h=r-f-c-(d||0));var v=new i(l+n[3],c+n[0],p,h);return v.margin=n,v}function v(e,t,n,r,o){var s=!o||!o.hv||o.hv[0],l=!o||!o.hv||o.hv[1],c=o&&o.boundingMode||"all";if(s||l){var u;if("raw"===c)u="group"===e.type?new i(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var d=e.getLocalTransform();u=u.clone(),u.applyTransform(d)}t=m(a.defaults({width:u.width,height:u.height},t),n,r);var p=e.position,h=s?t.x-u.x:0,f=l?t.y-u.y:0;e.attr("position","raw"===c?[h,f]:[p[0]+h,p[1]+f])}}function b(e,t){return null!=e[u[t][0]]||null!=e[u[t][1]]&&null!=e[u[t][2]]}function y(e,t,n){!a.isObject(n)&&(n={});var i=n.ignoreSize;!a.isArray(i)&&(i=[i,i]);var r=s(u[0],0),o=s(u[1],1);function s(n,a){var r={},o=0,s={},u=0,p=2;if(l(n,(function(t){s[t]=e[t]})),l(n,(function(e){c(t,e)&&(r[e]=s[e]=t[e]),d(r,e)&&o++,d(s,e)&&u++})),i[a])return d(t,n[1])?s[n[2]]=null:d(t,n[2])&&(s[n[1]]=null),s;if(u!==p&&o){if(o>=p)return r;for(var h=0;h<n.length;h++){var f=n[h];if(!c(r,f)&&c(e,f)){r[f]=e[f];break}}return r}return s}function c(e,t){return e.hasOwnProperty(t)}function d(e,t){return null!=e[t]&&"auto"!==e[t]}function p(e,t,n){l(e,(function(e){t[e]=n[e]}))}p(u[0],e,r),p(u[1],e,o)}function x(e){return w({},e)}function w(e,t){return t&&e&&l(c,(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}t.LOCATION_PARAMS=c,t.HV_NAMES=u,t.box=p,t.vbox=h,t.hbox=f,t.getAvailableSize=g,t.getLayoutRect=m,t.positionElement=v,t.sizeCalculable=b,t.mergeLayoutParam=y,t.getLayoutParams=x,t.copyLayoutParams=w},f982:function(e,t,n){},f9e9:function(e,t,n){},fa21:function(e,t,n){var a=n("7530"),i=n("2dcb"),r=n("eac5");function o(e){return"function"!=typeof e.constructor||r(e)?{}:a(i(e))}e.exports=o},fab22:function(e,t,n){var a=n("6d8b"),i=a.retrieve,r=a.defaults,o=a.extend,s=a.each,l=n("eda2"),c=n("2306"),u=n("4319"),d=n("3842"),p=d.isRadianAroundZero,h=d.remRadian,f=n("a15a"),g=f.createSymbol,m=n("1687"),v=n("401b"),b=v.applyTransform,y=n("697e"),x=y.shouldShowAllLabels,w=Math.PI,_=function(e,t){this.opt=t,this.axisModel=e,r(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new c.Group;var n=new c.Group({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};_.prototype={constructor:_,hasBuilder:function(e){return!!O[e]},add:function(e){O[e].call(this)},getGroup:function(){return this.group}};var O={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),a=this._transform,i=[n[0],0],r=[n[1],0];a&&(b(i,i,a),b(r,r,a));var l=o({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new c.Line({anid:"line",subPixelOptimize:!0,shape:{x1:i[0],y1:i[1],x2:r[0],y2:r[1]},style:l,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var u=t.get("axisLine.symbol"),d=t.get("axisLine.symbolSize"),p=t.get("axisLine.symbolOffset")||0;if("number"===typeof p&&(p=[p,p]),null!=u){"string"===typeof u&&(u=[u,u]),"string"!==typeof d&&"number"!==typeof d||(d=[d,d]);var h=d[0],f=d[1];s([{rotate:e.rotation+Math.PI/2,offset:p[0],r:0},{rotate:e.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}],(function(t,n){if("none"!==u[n]&&null!=u[n]){var a=g(u[n],-h/2,-f/2,h,f,l.stroke,!0),r=t.r+t.offset,o=[i[0]+r*Math.cos(e.rotation),i[1]-r*Math.sin(e.rotation)];a.attr({rotation:t.rotate,position:o,silent:!0,z2:11}),this.group.add(a)}}),this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=M(this,e,t),a=E(this,e,t);T(e,a,n),A(this,e,t)},axisName:function(){var e=this.opt,t=this.axisModel,n=i(e.axisName,t.get("name"));if(n){var a,r,s=t.get("nameLocation"),u=e.nameDirection,d=t.getModel("nameTextStyle"),p=t.get("nameGap")||0,h=this.axisModel.axis.getExtent(),f=h[0]>h[1]?-1:1,g=["start"===s?h[0]-f*p:"end"===s?h[1]+f*p:(h[0]+h[1])/2,I(s)?e.labelOffset+u*p:0],m=t.get("nameRotate");null!=m&&(m=m*w/180),I(s)?a=C(e.rotation,null!=m?m:e.rotation,u):(a=S(e,s,m||0,h),r=e.axisNameAvailableWidth,null!=r&&(r=Math.abs(r/Math.sin(a.rotation)),!isFinite(r)&&(r=null)));var v=d.getFont(),b=t.get("nameTruncate",!0)||{},y=b.ellipsis,x=i(e.nameTruncateMaxWidth,b.maxWidth,r),_=null!=y&&null!=x?l.truncateText(n,x,v,y,{minChar:2,placeholder:b.placeholder}):n,O=t.get("tooltip",!0),T=t.mainType,P={componentType:T,name:n,$vars:["name"]};P[T+"Index"]=t.componentIndex;var j=new c.Text({anid:"name",__fullText:n,__truncatedText:_,position:g,rotation:a.rotation,silent:k(t),z2:1,tooltip:O&&O.show?o({content:n,formatter:function(){return n},formatterParams:P},O):null});c.setTextStyle(j.style,d,{text:_,textFont:v,textFill:d.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:d.get("align")||a.textAlign,textVerticalAlign:d.get("verticalAlign")||a.textVerticalAlign}),t.get("triggerEvent")&&(j.eventData=D(t),j.eventData.targetType="axisName",j.eventData.name=n),this._dumbGroup.add(j),j.updateTransform(),this.group.add(j),j.decomposeTransform()}}},D=_.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},C=_.innerTextLayout=function(e,t,n){var a,i,r=h(t-e);return p(r)?(i=n>0?"top":"bottom",a="center"):p(r-w)?(i=n>0?"bottom":"top",a="center"):(i="middle",a=r>0&&r<w?n>0?"right":"left":n>0?"left":"right"),{rotation:r,textAlign:a,textVerticalAlign:i}};function S(e,t,n,a){var i,r,o=h(n-e.rotation),s=a[0]>a[1],l="start"===t&&!s||"start"!==t&&s;return p(o-w/2)?(r=l?"bottom":"top",i="center"):p(o-1.5*w)?(r=l?"top":"bottom",i="center"):(r="middle",i=o<1.5*w&&o>w/2?l?"left":"right":l?"right":"left"),{rotation:o,textAlign:i,textVerticalAlign:r}}var k=_.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};function T(e,t,n){if(!x(e.axis)){var a=e.get("axisLabel.showMinLabel"),i=e.get("axisLabel.showMaxLabel");t=t||[],n=n||[];var r=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],c=n[0],u=n[1],d=n[n.length-1],p=n[n.length-2];!1===a?(P(r),P(c)):j(r,o)&&(a?(P(o),P(u)):(P(r),P(c))),!1===i?(P(s),P(d)):j(l,s)&&(i?(P(l),P(p)):(P(s),P(d)))}}function P(e){e&&(e.ignore=!0)}function j(e,t,n){var a=e&&e.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(a&&i){var r=m.identity([]);return m.rotate(r,r,-e.rotation),a.applyTransform(m.mul([],r,e.getLocalTransform())),i.applyTransform(m.mul([],r,t.getLocalTransform())),a.intersect(i)}}function I(e){return"middle"===e||"center"===e}function L(e,t,n,a,i){for(var r=[],o=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=n,t&&(b(o,o,t),b(s,s,t));var d=new c.Line({anid:i+"_"+e[l].tickValue,subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:a,z2:2,silent:!0});r.push(d)}return r}function M(e,t,n){var a=t.axis,i=t.getModel("axisTick");if(i.get("show")&&!a.scale.isBlank()){for(var o=i.getModel("lineStyle"),s=n.tickDirection*i.get("length"),l=a.getTicksCoords(),c=L(l,e._transform,s,r(o.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),"ticks"),u=0;u<c.length;u++)e.group.add(c[u]);return c}}function A(e,t,n){var a=t.axis,i=t.getModel("minorTick");if(i.get("show")&&!a.scale.isBlank()){var o=a.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),l=n.tickDirection*i.get("length"),c=r(s.getLineStyle(),r(t.getModel("axisTick").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})),u=0;u<o.length;u++)for(var d=L(o[u],e._transform,l,c,"minorticks_"+u),p=0;p<d.length;p++)e.group.add(d[p])}}function E(e,t,n){var a=t.axis,r=i(n.axisLabelShow,t.get("axisLabel.show"));if(r&&!a.scale.isBlank()){var o=t.getModel("axisLabel"),l=o.get("margin"),d=a.getViewLabels(),p=(i(n.labelRotate,o.get("rotate"))||0)*w/180,h=C(n.rotation,p,n.labelDirection),f=t.getCategories&&t.getCategories(!0),g=[],m=k(t),v=t.get("triggerEvent");return s(d,(function(i,r){var s=i.tickValue,d=i.formattedLabel,p=i.rawLabel,b=o;f&&f[s]&&f[s].textStyle&&(b=new u(f[s].textStyle,o,t.ecModel));var y=b.getTextColor()||t.get("axisLine.lineStyle.color"),x=a.dataToCoord(s),w=[x,n.labelOffset+n.labelDirection*l],_=new c.Text({anid:"label_"+s,position:w,rotation:h.rotation,silent:m,z2:10});c.setTextStyle(_.style,b,{text:d,textAlign:b.getShallow("align",!0)||h.textAlign,textVerticalAlign:b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||h.textVerticalAlign,textFill:"function"===typeof y?y("category"===a.type?p:"value"===a.type?s+"":s,r):y}),v&&(_.eventData=D(t),_.eventData.targetType="axisLabel",_.eventData.value=p),e._dumbGroup.add(_),_.updateTransform(),g.push(_),e.group.add(_),_.decomposeTransform()})),g}}var z=_;e.exports=z},fb05:function(e,t,n){var a=n("6d8b"),i=a.each,r=a.isArray,o=a.isObject,s=n("26e1"),l=n("e0d3"),c=l.normalizeToArray;function u(e,t){t=t.split(",");for(var n=e,a=0;a<t.length;a++)if(n=n&&n[t[a]],null==n)break;return n}function d(e,t,n,a){t=t.split(",");for(var i,r=e,o=0;o<t.length-1;o++)i=t[o],null==r[i]&&(r[i]={}),r=r[i];(a||null==r[t[o]])&&(r[t[o]]=n)}function p(e){i(h,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}var h=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],f=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function g(e,t){s(e,t),e.series=c(e.series),i(e.series,(function(e){if(o(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t)null!=e.clockWise&&(e.clockwise=e.clockWise);else if("gauge"===t){var n=u(e,"pointer.color");null!=n&&d(e,"itemStyle.color",n)}p(e)}})),e.dataRange&&(e.visualMap=e.dataRange),i(f,(function(t){var n=e[t];n&&(r(n)||(n=[n]),i(n,(function(e){p(e)})))}))}e.exports=g},fb24:function(e,t,n){},fb37:function(e,t,n){"use strict";n("b278")},fba2:function(e,t,n){},fba5:function(e,t,n){var a=n("cb5a");function i(e){return a(this.__data__,e)>-1}e.exports=i},fba9:function(e,t,n){},fcb7:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return f}));n("8e6e"),n("ac6a"),n("456d");var a=n("ade3"),i=n("b5c6"),r=n("da71");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/lazy-list"),method:"get",params:s(s({},t),{},{parentId:e})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/submit"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/submit"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/detail"),method:"get",params:{id:e}})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/tree"),method:"get",params:{tenantId:e}})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/lazy-tree"),method:"get",params:{parentId:e}})}},fd63:function(e,t,n){var a=n("42e5"),i=n("6d8b"),r=i.isFunction,o={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),o=e.get(i),s=!r(o)||o instanceof a?null:o;o&&!s||(o=e.getColorFromPalette(e.name,null,t.getSeriesCount())),n.setVisual("color",o);var l=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),c=e.get(l);if(n.setVisual("borderColor",c),!t.isSeriesFiltered(e)){s&&n.each((function(t){n.setItemVisual(t,"color",s(e.getDataParams(t)))}));var u=function(e,t){var n=e.getItemModel(t),a=n.get(i,!0),r=n.get(l,!0);null!=a&&e.setItemVisual(t,"color",a),null!=r&&e.setItemVisual(t,"borderColor",r)};return{dataEach:n.hasItemOption?u:null}}}};e.exports=o},fd89:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"ScopedCSS",(function(){return dt})),n.d(a,"QiankunCSSRewriteAttr",(function(){return pt})),n.d(a,"process",(function(){return ht}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"add-component"},[n("add-component",{attrs:{data:e.requestForm.components,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm,"components",t)}}})],1),n("el-form",{ref:"requestForm",attrs:{size:"small",model:e.requestForm,rules:e.rules,disabled:e.disabled,"label-width":"110px"}},[n("el-form-item",{attrs:{label:"接口类型",prop:"type",required:""}},[n("el-radio-group",{on:{change:e.handleTypeChange},model:{value:e.requestForm.type,callback:function(t){e.$set(e.requestForm,"type",t)},expression:"requestForm.type"}},e._l(e.aggerateTypes,(function(t){return n("el-radio",{key:t.id,attrs:{label:t.id}},[e._v("\n            "+e._s(t.value)+"\n        ")])})),1)],1),e.isInlineType(e.requestForm.type)?["DUBBO"===e.requestForm.type||"GRPC"===e.requestForm.type?[n("el-form-item",{key:"serviceName",attrs:{label:"服务名",prop:"serviceName"}},[n("el-input",{staticStyle:{width:"50%","margin-right":"10px"},attrs:{placeholder:"请选择接口",disabled:""},model:{value:e.requestForm.serviceName,callback:function(t){e.$set(e.requestForm,"serviceName",t)},expression:"requestForm.serviceName"}}),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showRpcSelector=!0}}},[e._v("选择接口")]),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.showRpcAdd=!0}}},[e._v("新增接口")])],1),n("el-form-item",{key:"method",attrs:{label:"方法名",prop:"method"}},[n("el-input",{attrs:{disabled:""},model:{value:e.requestForm.method,callback:function(t){e.$set(e.requestForm,"method",t)},expression:"requestForm.method"}})],1),"DUBBO"===e.requestForm.type?[n("el-form-item",{attrs:{label:"版本",prop:"version"}},[n("el-input",{attrs:{disabled:""},model:{value:e.requestForm.version,callback:function(t){e.$set(e.requestForm,"version",t)},expression:"requestForm.version"}}),n("span",{staticClass:"key-tips"},[e._v("Dubbo服务的版本号")])],1),n("el-form-item",{attrs:{label:"分组",prop:"group"}},[n("el-input",{attrs:{disabled:""},model:{value:e.requestForm.group,callback:function(t){e.$set(e.requestForm,"group",t)},expression:"requestForm.group"}}),n("span",{staticClass:"key-tips"},[e._v("Dubbo服务的分组")])],1),n("el-form-item",{attrs:{label:"参数类型",prop:"paramTypes"}},[n("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.requestForm.paramTypes,callback:function(t){e.$set(e.requestForm,"paramTypes",t)},expression:"requestForm.paramTypes"}})],1)]:e._e()]:[n("el-form-item",{key:"method",attrs:{label:"请求方法",prop:"method"}},[n("el-select",{attrs:{placeholder:"请选择请求方法",clearable:""},model:{value:e.requestForm.method,callback:function(t){e.$set(e.requestForm,"method",t)},expression:"requestForm.method"}},e._l(e.apiMethod,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.showNewURL||e.newUrlTrigger?[n("el-form-item",{key:"protocol",attrs:{label:"协议",prop:"protocol"}},[n("el-select",{attrs:{placeholder:"请选择协议",clearable:""},model:{value:e.requestForm.protocol,callback:function(t){e.$set(e.requestForm,"protocol",t)},expression:"requestForm.protocol"}},[n("el-option",{attrs:{label:"HTTP",value:"http"}}),n("el-option",{attrs:{label:"HTTPS",value:"https"}})],1)],1),n("el-form-item",{key:"serviceType",attrs:{label:"服务类型",prop:"serviceType"}},[n("el-radio-group",{on:{change:e.serviceTypeChange},model:{value:e.requestForm.serviceType,callback:function(t){e.$set(e.requestForm,"serviceType",t)},expression:"requestForm.serviceType"}},[n("el-radio",{attrs:{label:1}},[e._v("服务发现")]),n("el-radio",{attrs:{label:2}},[e._v("HTTP服务\n                "),n("el-tooltip",{attrs:{placement:"top"}},[n("span",{attrs:{slot:"content"},slot:"content"},[e._v("RPC管理->服务声明里维护的HTTP服务实例")]),n("i",{staticClass:"el-icon-question"})])],1)],1)],1),1===e.requestForm.serviceType?[n("el-form-item",{key:"serviceName",attrs:{label:"服务名：",prop:"serviceName"}},[n("el-select",{attrs:{placeholder:"请选择服务名",filterable:"",clearable:""},model:{value:e.requestForm.serviceName,callback:function(t){e.$set(e.requestForm,"serviceName",t)},expression:"requestForm.serviceName"}},e._l(e.discoveryServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1)]:2===e.requestForm.serviceType?[n("el-form-item",{key:"serviceName",attrs:{label:"服务名：",prop:"serviceName"}},[n("el-select",{attrs:{placeholder:"请选择服务名",filterable:"",clearable:""},model:{value:e.requestForm.serviceName,callback:function(t){e.$set(e.requestForm,"serviceName",t)},expression:"requestForm.serviceName"}},e._l(e.httpServiceOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.service,value:e.service}})})),1),!e.disabled&&e.permissionList.serviceAddBtn?n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",plain:""},on:{click:function(t){e.showHttpServiceAdd=!0}}},[e._v("新增HTTP服务\n              ")]):e._e()],1)]:e._e(),n("el-form-item",{key:"path",attrs:{label:"API路径",prop:"path"}},[n("el-input",{attrs:{clearable:""},model:{value:e.requestForm.path,callback:function(t){e.$set(e.requestForm,"path",t)},expression:"requestForm.path"}}),n("span",{staticClass:"key-tips"},[e._v("输入接口路径，如：/api/getMebInfo； 路径支持引用参数，如：/user/{step1.request1.response.body.id}/info 或 /user/{step1.request1.response.body.id|123}，管道符|后为默认值")])],1)]:e._e(),e.showNewURL?e._e():n("fieldset",{staticStyle:{"margin-bottom":"10px"}},[n("legend",[e._v("接口URL(旧) -\n            "+e._s(e.newUrlTrigger?"请使用以上新的字段配置接口URL":"请使用新的字段配置接口URL")+"\n            "),e.newUrlTrigger?e._e():n("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){e.newUrlTrigger=!0}}},[e._v("使用URL新字段\n            ")])],1),n("el-form-item",{attrs:{label:"默认URL",prop:"url"}},[n("el-input",{attrs:{placeholder:"请输入默认URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.url,callback:function(t){e.$set(e.requestForm,"url",t)},expression:"requestForm.url"}},[n("el-tooltip",{attrs:{slot:"append",placement:"top"},slot:"append"},[n("span",{attrs:{slot:"content"},slot:"content"},[e._v("\n                  URL格式(支持http和https协议)："),n("br"),e._v("\n                  服务发现：http://service-name/path_to_api, 如：http://member-service/api/member/info"),n("br"),e._v("\n                  直接调用：http://IP[:port]/path_to_api, 如：http://10.2.3.101:8080/api/member/info"),n("br"),e._v("\n                  域名调用：http://FQDN[:port]/path_to_api, 如：http://member.abc.com/api/member/info"),n("br")]),n("el-button",{attrs:{icon:"el-icon-question"}})],1)],1)],1),n("el-form-item",{attrs:{label:"开发环境URL",prop:"devUrl"}},[n("el-input",{attrs:{placeholder:"请输入开发环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.devUrl,callback:function(t){e.$set(e.requestForm,"devUrl",t)},expression:"requestForm.devUrl"}})],1),n("el-form-item",{attrs:{label:"测试环境URL",prop:"testUrl"}},[n("el-input",{attrs:{placeholder:"请输入测试环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.testUrl,callback:function(t){e.$set(e.requestForm,"testUrl",t)},expression:"requestForm.testUrl"}})],1),n("el-form-item",{attrs:{label:"预生产环境URL",prop:"preUrl"}},[n("el-input",{attrs:{placeholder:"请输入预生产环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.preUrl,callback:function(t){e.$set(e.requestForm,"preUrl",t)},expression:"requestForm.preUrl"}})],1),n("el-form-item",{attrs:{label:"生产环境URL",prop:"prodUrl"}},[n("el-input",{attrs:{placeholder:"请输入生产环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.prodUrl,callback:function(t){e.$set(e.requestForm,"prodUrl",t)},expression:"requestForm.prodUrl"}})],1)],1)],n("el-form-item",{attrs:{label:"超时时间(毫秒)",prop:"timeout"}},[n("el-input",{attrs:{type:"number",placeholder:"例：2000",clearable:""},model:{value:e.requestForm.timeout,callback:function(t){e.$set(e.requestForm,"timeout",t)},expression:"requestForm.timeout"}})],1),n("el-form-item",{attrs:{label:"Fallback",prop:"fallback"}},[n("el-select",{attrs:{clearable:""},model:{value:e.requestForm.fallback.mode,callback:function(t){e.$set(e.requestForm.fallback,"mode",t)},expression:"requestForm.fallback.mode"}},[n("el-option",{attrs:{label:"stop",value:"stop"}}),n("el-option",{attrs:{label:"continue",value:"continue"}})],1)],1),e.requestForm.fallback&&"continue"===e.requestForm.fallback.mode?n("el-form-item",{attrs:{label:"Fallback响应Json",prop:"fallback.defaultResult"}},[n("el-input",{attrs:{type:"textarea",placeholder:"当Fallback=continue时填写"},model:{value:e.requestForm.fallback.defaultResult,callback:function(t){e.$set(e.requestForm.fallback,"defaultResult",t)},expression:"requestForm.fallback.defaultResult"}})],1):e._e(),n("el-form-item",{attrs:{label:"请求预处理",prop:"condition"}},[n("el-checkbox",{on:{change:e.conditionChange},model:{value:e.requestForm.conditionFlag,callback:function(t){e.$set(e.requestForm,"conditionFlag",t)},expression:"requestForm.conditionFlag"}},[e._v("设置预处理（预处理脚本返回true时才执行请求）\n        ")]),e.requestForm.conditionFlag?n("el-form-item",{attrs:{label:"脚本配置"}},[e.scriptId?n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openScript()}}},[e._v("\n              "+e._s("{ aggregate_config_script_id: "+e.scriptId+" }")+"\n            ")]),n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteScript(e.scriptId)}}},[e._v("\n              删除\n            ")])],1):n("el-button",{attrs:{type:"text",disabled:e.disabled},on:{click:function(t){return e.openScript()}}},[e._v("\n            "+e._s(e.disabled?"无":"新增")+"\n          ")]),n("script-dialog",{attrs:{visible:e.scriptVisible,callback:e.scriptCallback,"business-type":e.businessType,disabled:e.disabled,id:e.scriptId},on:{"update:visible":function(t){e.scriptVisible=t},"update:id":function(t){e.scriptId=t}}})],1):e._e()],1),"DUBBO"===e.requestForm.type?[n("el-form-item",{attrs:{label:"配置入参"}},[n("data-params",{staticClass:"highlight-border",attrs:{"header-name":"隐式参数","body-name":"方法参数","body-rules":e.dubboRules,"business-type":e.businessType,"has-query":!1,data:e.requestForm.dataMapping.request,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"request",t)}}},[n("template",{slot:"body"},[n("span",{staticClass:"key-tips"},[e._v("\n                Dubbo方法参数的字段名格式为pN，如: 第一个参数为p1, 第二个参数为p2; 如果参数是一个对象且要指定对象里某一个属性的值可输入pN.[attrName], 如：p1.userId\n              ")])])],2)],1),n("el-form-item",{attrs:{label:"配置响应"}},[n("data-params",{staticClass:"highlight-border",attrs:{"body-name":"响应","business-type":e.businessType,"has-query":!1,"has-header":!1,data:e.requestForm.dataMapping.response,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"response",t)}}})],1)]:"GRPC"===e.requestForm.type?[n("el-form-item",{attrs:{label:"配置入参"}},[n("data-params",{staticClass:"highlight-border",attrs:{"header-name":"元数据","body-name":"参数","business-type":e.businessType,"has-query":!1,data:e.requestForm.dataMapping.request,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"request",t)}}})],1),n("el-form-item",{attrs:{label:"配置响应"}},[n("data-params",{staticClass:"highlight-border",attrs:{"body-name":"响应","business-type":e.businessType,"has-header":!1,"has-query":!1,data:e.requestForm.dataMapping.response,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"response",t)}}})],1)]:[n("el-form-item",{attrs:{label:"配置入参"}},[n("data-params",{staticClass:"highlight-border",attrs:{"business-type":e.businessType,"has-body":"GET"!==e.requestForm.method,data:e.requestForm.dataMapping.request,"multiple-values":!0,"content-type":e.requestForm.dataMapping.request.contentType,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"request",t)}}},[n("template",{slot:"body"},[n("el-form-item",{attrs:{label:"内容类型",prop:"contentType"}},[n("el-radio-group",{model:{value:e.requestForm.dataMapping.request.contentType,callback:function(t){e.$set(e.requestForm.dataMapping.request,"contentType",t)},expression:"requestForm.dataMapping.request.contentType"}},[n("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),n("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")]),n("el-radio",{attrs:{label:"multipart/form-data"}},[e._v("form-data")]),n("el-radio",{attrs:{label:"application/x-www-form-urlencoded"}},[e._v("x-www-form-urlencoded")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"application/xml"===e.requestForm.dataMapping.request.contentType,expression:"requestForm.dataMapping.request.contentType === 'application/xml'"}],staticClass:"key-tips"},[e._v("\n                  入参按JSON配置，网关会把JSON转换为XML，请参考\n                  "),n("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("XML和JSON间的转换规则")])],1)],1)],1)],2)],1),n("el-form-item",{attrs:{label:"配置响应"}},[n("data-params",{staticClass:"highlight-border",attrs:{"header-name":"响应头","body-name":"响应体","business-type":e.businessType,"has-query":!1,data:e.requestForm.dataMapping.response,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"response",t)}}},[n("template",{slot:"body"},[n("el-form-item",{attrs:{label:"内容类型",prop:"contentType"}},[n("el-radio-group",{model:{value:e.requestForm.dataMapping.response.contentType,callback:function(t){e.$set(e.requestForm.dataMapping.response,"contentType",t)},expression:"requestForm.dataMapping.response.contentType"}},[n("el-radio",{attrs:{label:"auto"}},[e._v("Auto")]),n("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),n("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")]),n("el-radio",{attrs:{label:"text/plain"}},[e._v("Text")])],1),n("div",{staticClass:"key-tips"},[e._v("\n                  Content-Type类型，默认根据响应头自动识别，如果响应头的Content-Type和响应内容类型不匹配时可手动选择内容类型。\n                  当内容类型为XML时网关接收后会把它转换为JSON, 响应体按转换后的JSON格式配置即可\n                ")])],1),"application/xml"===e.requestForm.dataMapping.response.contentType?n("el-form-item",{attrs:{label:"数组节点路径",prop:"xmlArrPaths"}},[n("el-input",{attrs:{clearable:""},model:{value:e.requestForm.dataMapping.response.xmlArrPaths,callback:function(t){e.$set(e.requestForm.dataMapping.response,"xmlArrPaths",t)},expression:"requestForm.dataMapping.response.xmlArrPaths"}}),n("span",{staticClass:"key-tips"},[e._v("\n                  输入XML响应体里数组节点的路径, 多个路径用逗号分隔，如：/root/data/user 用于指明user标签可能有多个要转换成一个JSON数组，\n                  而不是转换成一个JSON对象。此字段仅在响应体为XML时有效。\n                  "),n("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("XML和JSON间的转换规则")])],1)],1):e._e()],1)],2)],1)]]:[n("div",{attrs:{id:this.requestFormHash}})]],2),n("rpc-api-selector",{ref:"rpcApiSelector",attrs:{visible:e.showRpcSelector,type:e.requestForm.type},on:{"update:visible":function(t){e.showRpcSelector=t},confirm:e.getRpcApi}}),n("rpc-api-detail",{attrs:{type:"add",title:"新增RPC接口",visible:e.showRpcAdd,callback:e.addRpcCallback},on:{"update:visible":function(t){e.showRpcAdd=t}}}),n("http-service-detail",{attrs:{type:"add",title:"新增HTTP服务","service-type":3,visible:e.showHttpServiceAdd,callback:e.getHttpServiceOptions},on:{"update:visible":function(t){e.showHttpServiceAdd=t}}}),n("xml-info",{attrs:{visible:e.xmlInoVisible},on:{"update:visible":function(t){e.xmlInoVisible=t}}})],1)},r=[],o=(n("8e6e"),n("456d"),n("c5f6"),n("8615"),n("ffc1"),n("ac6a"),n("5df3"),n("f400"),n("ade3")),s=n("2fa9"),l=n("942a"),c=n("921f"),u=n("5880"),d=n("16cd"),p=n("c54a"),h=n("7b22"),f=n("1763"),g=n("74a0"),m=n("b874"),v=n("c983"),b=n("53ca"),y=n("a34a"),x=n.n(y),w=n("bcdf"),_=n.n(w),O=n("2909");function D(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n}function C(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function o(e){try{l(a.next(e))}catch(t){r(t)}}function s(e){try{l(a["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):i(e.value).then(o,s)}l((a=a.apply(e,t||[])).next())}))}var S,k,T,P=n("25a2"),j=n("3482"),I=n.n(j),L=n("2411"),M=n.n(L),A=n("6cd4"),E=n.n(A),z=n("278c"),R=n.n(z),F=n("7037"),B=n.n(F),$="undefined"!==typeof navigator&&-1!==navigator.userAgent.indexOf("Trident");function q(e,t){if(!e.hasOwnProperty(t)||!isNaN(t)&&t<e.length)return!0;if(!$)return!1;try{return e[t]&&"undefined"!==typeof window&&e[t].parent===window}catch(n){return!0}}function N(e){var t,n=0,a=!1;for(var i in e)if(!q(e,i)){for(var r=0;r<window.frames.length&&!a;r++){var o=window.frames[r];if(o===e[i]){a=!0;break}}if(!a&&(0===n&&i!==S||1===n&&i!==k))return i;n++,t=i}if(t!==T)return t}function H(e){for(var t in S=k=void 0,e)q(e,t)||(S?k||(k=t):S=t,T=t);return T}function V(e){var t=e.indexOf(">")+1,n=e.lastIndexOf("<");return e.substring(t,n)}function U(e){if("object"===B()(e))return"/";try{var t=new URL(e.startsWith("//")?"".concat(location.protocol).concat(e):e,location.href),n=t.origin,a=t.pathname,i=a.split("/");return i.pop(),"".concat(n).concat(i.join("/"),"/")}catch(r){return console.warn(r),""}}function G(){var e=document.createElement("script");return"noModule"in e}var W=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)};function J(e,t){if(!t)return e.text();if(!e.headers)return e.text();var n=e.headers.get("Content-Type");if(!n)return e.text();var a="utf-8",i=n.split(";");if(2===i.length){var r=i[1].split("="),o=R()(r,2),s=o[1],l=s&&s.trim();l&&(a=l)}return"UTF-8"===a.toUpperCase()?e.text():e.blob().then((function(e){return new Promise((function(t,n){var i=new window.FileReader;i.onload=function(){t(i.result)},i.onerror=n,i.readAsText(e,a)}))}))}var Y=/(<script[\s\S]*?>)[\s\S]*?<\/script>/gi,X=/<(script)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+((?!type=('|')text\/ng\x2Dtemplate\3)[\s\S])*?>[\s\S]*?<\/\1>/i,Q=/.*\ssrc=('|")?([^>'"\s]+)/,K=/.*\stype=('|")?([^>'"\s]+)/,Z=/.*\sentry\s*.*/,ee=/.*\sasync\s*.*/,te=/.*\snomodule\s*.*/,ne=/.*\stype=('|")?module('|")?\s*.*/,ae=/<(link)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*?>/gi,ie=/\srel=('|")?(preload|prefetch)\1/,re=/.*\shref=('|")?([^>'"\s]+)/,oe=/.*\sas=('|")?font\1.*/,se=/<style[^>]*>[\s\S]*?<\/style>/gi,le=/\s+rel=('|")?stylesheet\1.*/,ce=/.*\shref=('|")?([^>'"\s]+)/,ue=/<!--([\s\S]*?)-->/g,de=/<link([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)ignore([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*|=[\s\S]*)>/i,pe=/<style([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)ignore([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*|=[\s\S]*)>/i,he=/<script([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)ignore([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+[\s\S]*|=[\s\S]*)>/i;function fe(e){return e.startsWith("//")||e.startsWith("http://")||e.startsWith("https://")}function ge(e,t){return new URL(e,t).toString()}function me(e){var t=["text/javascript","module","application/javascript","text/ecmascript","application/ecmascript"];return!e||-1!==t.indexOf(e)}var ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"\x3c!-- ".concat(t?"prefetch/preload":""," link ").concat(e," replaced by import-html-entry --\x3e")},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"\x3c!-- ".concat(t?"async":""," script ").concat(e," replaced by import-html-entry --\x3e")},ye="\x3c!-- inline scripts replaced by import-html-entry --\x3e",xe=function(e){return"\x3c!-- ignore asset ".concat(e||"file"," replaced by import-html-entry --\x3e")},we=function(e,t){return"\x3c!-- ".concat(t?"nomodule":"module"," script ").concat(e," ignored by import-html-entry --\x3e")};function _e(e,t){var n=[],a=[],i=null,r=G(),o=e.replace(ue,"").replace(ae,(function(e){var n=!!e.match(le);if(n){var i=e.match(ce),r=e.match(de);if(i){var o=i&&i[2],s=o;return o&&!fe(o)&&(s=ge(o,t)),r?xe(s):(a.push(s),ve(s))}}var l=e.match(ie)&&e.match(re)&&!e.match(oe);if(l){var c=e.match(re),u=R()(c,3),d=u[2];return ve(d,!0)}return e})).replace(se,(function(e){return pe.test(e)?xe("style file"):e})).replace(Y,(function(e,a){var o=a.match(he),s=r&&!!a.match(te)||!r&&!!a.match(ne),l=a.match(K),c=l&&l[2];if(!me(c))return e;if(X.test(e)&&a.match(Q)){var u=a.match(Z),d=a.match(Q),p=d&&d[2];if(i&&u)throw new SyntaxError("You should not set multiply entry script!");if(p&&!fe(p)&&(p=ge(p,t)),i=i||u&&p,o)return xe(p||"js file");if(s)return we(p||"js file",r);if(p){var h=!!a.match(ee);return n.push(h?{async:!0,src:p}:p),be(p,h)}return e}if(o)return xe("js file");if(s)return we("js file",r);var f=V(e),g=f.split(/[\r\n]+/).every((function(e){return!e.trim()||e.trim().startsWith("//")}));return g||n.push(e),ye}));return n=n.filter((function(e){return!!e})),{template:o,scripts:n,styles:a,entry:i||n[n.length-1]}}var Oe={},De={},Ce={};if(!window.fetch)throw new Error('[import-html-entry] Here is no "fetch" on the window env, you need to polyfill it');var Se=window.fetch.bind(window);function ke(e){return e}function Te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.fetch,i=void 0===a?Se:a,r=e;return Ie(t,i).then((function(e){return r=t.reduce((function(t,n,a){return t=t.replace(ve(n),"<style>/* ".concat(n," */").concat(e[a],"</style>")),t}),r),r}))}var Pe=function(e){return e.startsWith("<")};function je(e,t,n,a){var i=Pe(e)?"":"//# sourceURL=".concat(e,"\n"),r=(0,eval)("window");return r.proxy=n,a?";(function(window, self, globalThis){with(window){;".concat(t,"\n").concat(i,"}}).bind(window.proxy)(window.proxy, window.proxy, window.proxy);"):";(function(window, self, globalThis){;".concat(t,"\n").concat(i,"}).bind(window.proxy)(window.proxy, window.proxy, window.proxy);")}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se;return Promise.all(e.map((function(e){return Pe(e)?V(e):Oe[e]||(Oe[e]=t(e).then((function(e){return e.text()})))})))}function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=function(e){return De[e]||(De[e]=t(e).then((function(t){if(t.status>=400)throw n(),new Error("".concat(e," load failed with status ").concat(t.status));return t.text()})))};return Promise.all(e.map((function(e){if("string"===typeof e)return Pe(e)?V(e):a(e);var t=e.src,n=e.async;return n?{src:t,async:!0,content:new Promise((function(e,n){return W((function(){return a(t).then(e,n)}))}))}:a(t)})))}function Me(e,t){setTimeout((function(){throw console.error(t),e}))}"undefined"!==typeof performance&&"function"===typeof performance.mark&&"function"===typeof performance.clearMarks&&"function"===typeof performance.measure&&performance.clearMeasures;function Ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a.fetch,r=void 0===i?Se:i,o=a.strictGlobal,s=void 0!==o&&o,l=a.success,c=a.error,u=void 0===c?function(){}:c,d=a.beforeExec,p=void 0===d?function(){}:d,h=a.afterExec,f=void 0===h?function(){}:h;return Le(t,r,u).then((function(a){var i=function(e,t){var a=p(t,e)||t,i=je(e,a,n,s);(0,eval)(i),f(t,e)};function r(t,a,r){"Evaluating script ".concat(t),"Evaluating Time Consuming: ".concat(t);if(t===e){H(s?n:window);try{i(t,a);var o=n[N(s?n:window)]||{};r(o)}catch(l){throw console.error("[import-html-entry]: error occurs while executing entry script ".concat(t)),l}}else if("string"===typeof a)try{i(t,a)}catch(l){Me(l,"[import-html-entry]: error occurs while executing normal script ".concat(t))}else a.async&&(null===a||void 0===a||a.content.then((function(e){return i(a.src,e)}))["catch"]((function(e){Me(e,"[import-html-entry]: error occurs while executing async script ".concat(a.src))})))}function o(n,i){if(n<t.length){var s=t[n],l=a[n];r(s,l,i),e||n!==t.length-1?o(n+1,i):i()}}return new Promise((function(e){return o(0,l||e)}))}))}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Se,a=!1,i=U,r=ke;return"function"===typeof t?n=t:(t.fetch&&("function"===typeof t.fetch?n=t.fetch:(n=t.fetch.fn||Se,a=!!t.fetch.autoDecodeResponse)),i=t.getPublicPath||t.getDomain||U,r=t.getTemplate||ke),Ce[e]||(Ce[e]=n(e).then((function(e){return J(e,a)})).then((function(t){var a=i(e),o=_e(r(t),a),s=o.template,l=o.scripts,c=o.entry,u=o.styles;return Te(s,u,{fetch:n}).then((function(e){return{template:e,assetPublicPath:a,getExternalScripts:function(){return Le(l,n)},getExternalStyleSheets:function(){return Ie(u,n)},execScripts:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l.length?Ae(c,l,e,{fetch:n,strictGlobal:t,beforeExec:a.beforeExec,afterExec:a.afterExec}):Promise.resolve()}}}))})))}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fetch,a=void 0===n?Se:n,i=t.getTemplate,r=void 0===i?ke:i,o=t.getPublicPath||t.getDomain||U;if(!e)throw new SyntaxError("entry should not be empty!");if("string"===typeof e)return Ee(e,{fetch:a,getPublicPath:o,getTemplate:r});if(Array.isArray(e.scripts)||Array.isArray(e.styles)){var s=e.scripts,l=void 0===s?[]:s,c=e.styles,u=void 0===c?[]:c,d=e.html,p=void 0===d?"":d,h=function(e){return u.reduceRight((function(e,t){return"".concat(ve(t)).concat(e)}),e)},f=function(e){return l.reduce((function(e,t){return"".concat(e).concat(be(t))}),e)};return Te(r(f(h(p))),u,{fetch:a}).then((function(t){return{template:t,assetPublicPath:o(e),getExternalScripts:function(){return Le(l,a)},getExternalStyleSheets:function(){return Ie(u,a)},execScripts:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l.length?Ae(l[l.length-1],l,e,{fetch:a,strictGlobal:t,beforeExec:n.beforeExec,afterExec:n.afterExec}):Promise.resolve()}}}))}throw new SyntaxError("entry scripts or styles should be array!")}var Re=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=!1;return{beforeLoad:function(){return C(this,void 0,void 0,x.a.mark((function n(){return x.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.__INJECTED_PUBLIC_PATH_BY_QIANKUN__=t;case 1:case"end":return n.stop()}}),n)})))},beforeMount:function(){return C(this,void 0,void 0,x.a.mark((function a(){return x.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n&&(e.__INJECTED_PUBLIC_PATH_BY_QIANKUN__=t);case 1:case"end":return a.stop()}}),a)})))},beforeUnmount:function(){return C(this,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:void 0===Re?delete e.__INJECTED_PUBLIC_PATH_BY_QIANKUN__:e.__INJECTED_PUBLIC_PATH_BY_QIANKUN__=Re,n=!0;case 2:case"end":return t.stop()}}),t)})))}}}function Be(e){return{beforeLoad:function(){return C(this,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.__POWERED_BY_QIANKUN__=!0;case 1:case"end":return t.stop()}}),t)})))},beforeMount:function(){return C(this,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.__POWERED_BY_QIANKUN__=!0;case 1:case"end":return t.stop()}}),t)})))},beforeUnmount:function(){return C(this,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:delete e.__POWERED_BY_QIANKUN__;case 1:case"end":return t.stop()}}),t)})))}}}function $e(e,t){return M()({},Be(e),Fe(e,t),(function(e,t){return I()(null!==e&&void 0!==e?e:[],null!==t&&void 0!==t?t:[])}))}var qe=n("d4ec");function Ne(e,t){return Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ne(e,t)}function He(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}function Ue(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e,t){return!t||"object"!==B()(t)&&"function"!==typeof t?Ge(e):t}function Je(e){var t=Ue();return function(){var n,a=Ve(e);if(t){var i=Ve(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return We(this,n)}}function Ye(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function Xe(e,t,n){return Xe=Ue()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var i=Function.bind.apply(e,a),r=new i;return n&&Ne(r,n.prototype),r},Xe.apply(null,arguments)}function Qe(e){var t="function"===typeof Map?new Map:void 0;return Qe=function(e){if(null===e||!Ye(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Xe(e,arguments,Ve(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ne(n,e)},Qe(e)}var Ke,Ze=function(e){He(n,e);var t=Je(n);function n(e){return Object(qe["a"])(this,n),t.call(this,"[qiankun]: ".concat(e))}return n}(Qe(Error)),et=n("0644"),tt=n.n(et),nt={},at={};function it(e,t){Object.keys(at).forEach((function(n){at[n]instanceof Function&&at[n](tt()(e),tt()(t))}))}function rt(e,t){return{onGlobalStateChange:function(t,n){if(t instanceof Function){if(at[e]&&console.warn("[qiankun] '".concat(e,"' global listener already exists before this, new listener will overwrite it.")),at[e]=t,n){var a=tt()(nt);t(a,a)}}else console.error("[qiankun] callback must be function!")},setGlobalState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e===nt)return console.warn("[qiankun] state has not changed！"),!1;var n=[],a=tt()(nt);return nt=tt()(Object.keys(e).reduce((function(a,i){return t||a.hasOwnProperty(i)?(n.push(i),Object.assign(a,Object(o["a"])({},i,e[i]))):(console.warn("[qiankun] '".concat(i,"' not declared when init state！")),a)}),nt)),0===n.length?(console.warn("[qiankun] state has not changed！"),!1):(it(nt,a),!0)},offGlobalStateChange:function(){return delete at[e],!0}}}(function(e){e["Proxy"]="Proxy",e["Snapshot"]="Snapshot",e["LegacyProxy"]="LegacyProxy"})(Ke||(Ke={}));var ot,st=n("bee2");(function(e){e[e["STYLE"]=1]="STYLE",e[e["MEDIA"]=4]="MEDIA",e[e["SUPPORTS"]=12]="SUPPORTS",e[e["IMPORT"]=3]="IMPORT",e[e["FONT_FACE"]=5]="FONT_FACE",e[e["PAGE"]=6]="PAGE",e[e["KEYFRAMES"]=7]="KEYFRAMES",e[e["KEYFRAME"]=8]="KEYFRAME"})(ot||(ot={}));var lt,ct=function(e){return[].slice.call(e,0)},ut=HTMLBodyElement.prototype.appendChild,dt=function(){function e(){Object(qe["a"])(this,e);var t=document.createElement("style");ut.call(document.body,t),this.swapNode=t,this.sheet=t.sheet,this.sheet.disabled=!0}return Object(st["a"])(e,[{key:"process",value:function(t){var n,a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""!==t.textContent){var r=document.createTextNode(t.textContent||"");this.swapNode.appendChild(r);var o=this.swapNode.sheet,s=ct(null!==(n=null===o||void 0===o?void 0:o.cssRules)&&void 0!==n?n:[]),l=this.rewrite(s,i);return t.textContent=l,void this.swapNode.removeChild(r)}var c=new MutationObserver((function(n){for(var r,o=0;o<n.length;o+=1){var s=n[o];if(e.ModifiedTag in t)return;if("childList"===s.type){var l=t.sheet,c=ct(null!==(r=null===l||void 0===l?void 0:l.cssRules)&&void 0!==r?r:[]),u=a.rewrite(c,i);t.textContent=u,t[e.ModifiedTag]=!0}}}));c.observe(t,{childList:!0})}},{key:"rewrite",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return e.forEach((function(e){switch(e.type){case ot.STYLE:a+=t.ruleStyle(e,n);break;case ot.MEDIA:a+=t.ruleMedia(e,n);break;case ot.SUPPORTS:a+=t.ruleSupport(e,n);break;default:a+="".concat(e.cssText);break}})),a}},{key:"ruleStyle",value:function(e,t){var n=/((?:[^\w\-.#]|^)(body|html|:root))/gm,a=/(html[^\w{[]+)/gm,i=e.selectorText.trim(),r=e.cssText;if("html"===i||"body"===i||":root"===i)return r.replace(n,t);if(a.test(e.selectorText)){var o=/(html[^\w{]+)(\+|~)/gm;o.test(e.selectorText)||(r=r.replace(a,""))}return r=r.replace(/^[\s\S]+{/,(function(e){return e.replace(/(^|,\n?)([^,]+)/g,(function(e,a,i){return n.test(e)?e.replace(n,(function(e){var n=[",","("];return e&&n.includes(e[0])?"".concat(e[0]).concat(t):t})):"".concat(a).concat(t," ").concat(i.replace(/^ */,""))}))})),r}},{key:"ruleMedia",value:function(e,t){var n=this.rewrite(ct(e.cssRules),t);return"@media ".concat(e.conditionText," {").concat(n,"}")}},{key:"ruleSupport",value:function(e,t){var n=this.rewrite(ct(e.cssRules),t);return"@supports ".concat(e.conditionText," {").concat(n,"}")}}]),e}();dt.ModifiedTag="Symbol(style-modified-qiankun)";var pt="data-qiankun",ht=function(e,t,n){lt||(lt=new dt),"LINK"===t.tagName&&console.warn("Feature: sandbox.experimentalStyleIsolation is not support for link element yet.");var a=e;if(a){var i=(a.tagName||"").toLowerCase();if(i&&"STYLE"===t.tagName){var r="".concat(i,"[").concat(pt,'="').concat(n,'"]');lt.process(t,r)}}},ft=n("9520"),gt=n.n(ft),mt=HTMLHeadElement.prototype.appendChild,vt=HTMLHeadElement.prototype.removeChild,bt=HTMLBodyElement.prototype.appendChild,yt=HTMLBodyElement.prototype.removeChild,xt=HTMLHeadElement.prototype.insertBefore,wt=HTMLElement.prototype.removeChild,_t="SCRIPT",Ot="LINK",Dt="STYLE";function Ct(e){return(null===e||void 0===e?void 0:e.toUpperCase())===Ot||(null===e||void 0===e?void 0:e.toUpperCase())===Dt||(null===e||void 0===e?void 0:e.toUpperCase())===_t}function St(e){var t,n;return!e.textContent&&((null===(t=e.sheet)||void 0===t?void 0:t.cssRules.length)||(null===(n=Et(e))||void 0===n?void 0:n.length))}function kt(e,t){return Object.defineProperties(e,{srcElement:{get:t},target:{get:t}}),e}function Tt(e){var t=new CustomEvent("load"),n=kt(t,(function(){return e}));gt()(e.onload)?e.onload(n):e.dispatchEvent(n)}function Pt(e){var t=new CustomEvent("error"),n=kt(t,(function(){return e}));gt()(e.onerror)?e.onerror(n):e.dispatchEvent(n)}function jt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch,a=document.createElement("style"),i=e.href;return a.dataset.qiankunHref=i,n(i).then((function(e){return e.text()})).then((function(n){a.appendChild(document.createTextNode(n)),t(a),Tt(e)})).catch((function(){return Pt(e)})),a}var It=new WeakMap,Lt=new WeakMap,Mt=new WeakMap;function At(e){e.forEach((function(e){e instanceof HTMLStyleElement&&St(e)&&e.sheet&&It.set(e,e.sheet.cssRules)}))}function Et(e){return It.get(e)}function zt(e){return function(t,n){var a,i,r=t,o=e.rawDOMAppendOrInsertBefore,s=e.isInvokedByMicroApp,l=e.containerConfigGetter;if(!Ct(r.tagName)||!s(r))return o.call(this,r,n);if(r.tagName){var c=l(r),u=c.appName,d=c.appWrapperGetter,p=c.proxy,h=c.strictGlobal,f=c.dynamicStyleSheetElements,g=c.scopedCSS,m=c.excludeAssetFilter;switch(r.tagName){case Ot:case Dt:var v=t,b=v,y=b.href;if(m&&y&&m(y))return o.call(this,r,n);var x=d();if(g){var w=(null===(a=r.tagName)||void 0===a?void 0:a.toUpperCase())===Ot&&"stylesheet"===r.rel&&r.href;if(w){var _="function"===typeof aa.fetch?aa.fetch:null===(i=aa.fetch)||void 0===i?void 0:i.fn;v=jt(r,(function(e){return ht(x,e,u)}),_),Mt.set(r,v)}else ht(x,v,u)}f.push(v);var O=x.contains(n)?n:null;return o.call(x,v,O);case _t:var D=r,C=D.src,S=D.text;if(m&&C&&m(C))return o.call(this,r,n);var k=d(),T=aa.fetch,P=k.contains(n)?n:null;if(C){Ae(null,[C],p,{fetch:T,strictGlobal:h,beforeExec:function(){var e=function(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");return!e||e.configurable};e()&&Object.defineProperty(document,"currentScript",{get:function(){return r},configurable:!0})},success:function(){Tt(r),r=null},error:function(){Pt(r),r=null}});var j=document.createComment("dynamic script ".concat(C," replaced by qiankun"));return Lt.set(r,j),o.call(k,j,P)}Ae(null,["<script>".concat(S,"<\/script>")],p,{strictGlobal:h});var I=document.createComment("dynamic inline script replaced by qiankun");return Lt.set(r,I),o.call(k,I,P);default:break}}return o.call(this,r,n)}}function Rt(e,t){return function(n){var a=n.tagName;if(!Ct(a))return e.call(this,n);try{var i;switch(a){case Ot:i=Mt.get(n)||n;break;case _t:i=Lt.get(n)||n;break;default:i=n}var r=t(n),o=r();if(o.contains(i))return wt.call(o,i)}catch(s){console.warn(s)}return e.call(this,n)}}function Ft(e,t){return HTMLHeadElement.prototype.appendChild===mt&&HTMLBodyElement.prototype.appendChild===bt&&HTMLHeadElement.prototype.insertBefore===xt&&(HTMLHeadElement.prototype.appendChild=zt({rawDOMAppendOrInsertBefore:mt,containerConfigGetter:t,isInvokedByMicroApp:e}),HTMLBodyElement.prototype.appendChild=zt({rawDOMAppendOrInsertBefore:bt,containerConfigGetter:t,isInvokedByMicroApp:e}),HTMLHeadElement.prototype.insertBefore=zt({rawDOMAppendOrInsertBefore:xt,containerConfigGetter:t,isInvokedByMicroApp:e})),HTMLHeadElement.prototype.removeChild===vt&&HTMLBodyElement.prototype.removeChild===yt&&(HTMLHeadElement.prototype.removeChild=Rt(vt,(function(e){return t(e).appWrapperGetter})),HTMLBodyElement.prototype.removeChild=Rt(yt,(function(e){return t(e).appWrapperGetter}))),function(){HTMLHeadElement.prototype.appendChild=mt,HTMLHeadElement.prototype.removeChild=vt,HTMLBodyElement.prototype.appendChild=bt,HTMLBodyElement.prototype.removeChild=yt,HTMLHeadElement.prototype.insertBefore=xt}}function Bt(e,t){e.forEach((function(e){var n=t(e);if(n&&e instanceof HTMLStyleElement&&St(e)){var a=Et(e);if(a)for(var i=0;i<a.length;i++){var r=a[i],o=e.sheet;o.insertRule(r.cssText,o.cssRules.length)}}}))}var $t=0,qt=0;function Nt(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5?arguments[5]:void 0,o=[],s=Ft((function(){return Object(P["b"])(window.location).some((function(t){return t===e}))}),(function(){return{appName:e,appWrapperGetter:t,proxy:n,strictGlobal:!1,scopedCSS:i,dynamicStyleSheetElements:o,excludeAssetFilter:r}}));return a||$t++,a&&qt++,function(){a||0===$t||$t--,a&&qt--;var e=0===qt&&0===$t;return e&&s(),At(o),function(){Bt(o,(function(e){var n=t();return!n.contains(e)&&(document.head.appendChild.call(n,e),!0)})),a&&(o=[])}}}var Ht=n("efdf"),Vt=n.n(Ht);function Ut(e){return Array.isArray(e)?e:[e]}var Gt="function"===typeof window.Zone?setTimeout:function(e){return Promise.resolve().then(e)},Wt=!1;function Jt(e){Wt||(Wt=!0,Gt((function(){e(),Wt=!1})))}var Yt=new WeakMap;function Xt(e){var t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1;if(t)return!0;if(Yt.has(e))return Yt.get(e);var n=t;if(!n){var a=e.toString(),i=/^function\b\s[A-Z].*/,r=/^class\b/;n=i.test(a)||r.test(a)}return Yt.set(e,n),n}var Qt="function"===typeof document.all&&"undefined"===typeof document.all,Kt=new WeakMap,Zt=function(e){if(Kt.has(e))return!0;var t=Qt?"function"===typeof e&&"undefined"!==typeof e:"function"===typeof e;return t&&Kt.set(e,t),t},en=new WeakMap;function tn(e){if(en.has(e))return en.get(e);var t=0===e.name.indexOf("bound ")&&!e.hasOwnProperty("prototype");return en.set(e,t),t}function nn(e,t){return function(n){return'<div id="'.concat(an(e),'" data-name="').concat(t,'">').concat(n,"</div>")}}function an(e){return"__qiankun_microapp_wrapper_for_".concat(Vt()(e),"__")}function rn(e){var t=null!==e&&void 0!==e?e:{},n=t.bootstrap,a=t.mount,i=t.unmount;return gt()(n)&&gt()(a)&&gt()(i)}var on=function e(){var t=this;Object(qe["a"])(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};"undefined"!==typeof performance&&"function"===typeof performance.mark&&"function"===typeof performance.clearMarks&&"function"===typeof performance.measure&&"function"===typeof performance.clearMeasures&&performance.getEntriesByName;function sn(e){return"object"===Object(b["a"])(e)&&(!e.strictStyleIsolation&&!!e.experimentalStyleIsolation)}function ln(e,t){if(t.body.contains(e)){var n,a,i="",r=e;while(r!==t.documentElement){n=0,a=r;while(a)1===a.nodeType&&a.nodeName===r.nodeName&&(n+=1),a=a.previousSibling;i="*[name()='".concat(r.nodeName,"' and namespace-uri()='").concat(null===r.namespaceURI?"":r.namespaceURI,"'][").concat(n,"]/").concat(i),r=r.parentNode}return i="/*[name()='".concat(t.documentElement.nodeName,"' and namespace-uri()='").concat(null===r.namespaceURI?"":r.namespaceURI,"']/").concat(i),i=i.replace(/\/$/,""),i}}function cn(e){return"string"===typeof e?document.querySelector(e):e}var un=new Function("return this")();function dn(){return un.__currentRunningSandboxProxy__}function pn(e){un.__currentRunningSandboxProxy__=e}Object.defineProperty(un,"__currentRunningSandboxProxy__",{enumerable:!1,writable:!0});var hn=new WeakMap;function fn(e,t){if(Zt(t)&&!tn(t)&&!Xt(t)){var n=hn.get(t);if(n)return n;var a=Function.prototype.bind.call(t,e);for(var i in t)a[i]=t[i];return t.hasOwnProperty("prototype")&&!a.hasOwnProperty("prototype")&&Object.defineProperty(a,"prototype",{value:t.prototype,enumerable:!1,writable:!0}),hn.set(t,a),a}return t}new WeakMap;var gn=Document.prototype.createElement,mn=new WeakMap,vn=new WeakMap;function bn(){return Document.prototype.createElement===gn&&(Document.prototype.createElement=function(e,t){var n=gn.call(this,e,t);if(Ct(e)){var a=dn();if(a){var i=mn.get(a);i&&vn.set(n,i)}}return n}),function(){Document.prototype.createElement=gn}}var yn=0,xn=0;function wn(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5?arguments[5]:void 0,o=mn.get(n);o||(o={appName:e,proxy:n,appWrapperGetter:t,dynamicStyleSheetElements:[],strictGlobal:!0,excludeAssetFilter:r,scopedCSS:i},mn.set(n,o));var s=o,l=s.dynamicStyleSheetElements,c=bn(),u=Ft((function(e){return vn.has(e)}),(function(e){return vn.get(e)}));return a||yn++,a&&xn++,function(){a||0===yn||yn--,a&&xn--;var e=0===xn&&0===yn;return e&&(u(),c()),At(l),function(){Bt(l,(function(e){var n=t();return!n.contains(e)&&(mt.call(n,e),!0)}))}}}function _n(){var e=function(e){return _.a},t=[],n=[];return window.g_history&&gt()(window.g_history.listen)&&(e=window.g_history.listen.bind(window.g_history),window.g_history.listen=function(a){t.push(a);var i=e(a);return n.push(i),function(){i(),n.splice(n.indexOf(i),1),t.splice(t.indexOf(a),1)}}),function(){var a=_.a;return t.length&&(a=function(){t.forEach((function(e){return window.g_history.listen(e)}))}),n.forEach((function(e){return e()})),window.g_history&&gt()(window.g_history.listen)&&(window.g_history.listen=e),a}}var On=window.setInterval,Dn=window.clearInterval;function Cn(e){var t=[];return e.clearInterval=function(e){return t=t.filter((function(t){return t!==e})),Dn.call(window,e)},e.setInterval=function(e,n){for(var a=arguments.length,i=new Array(a>2?a-2:0),r=2;r<a;r++)i[r-2]=arguments[r];var o=On.apply(void 0,[e,n].concat(i));return t=[].concat(Object(O["a"])(t),[o]),o},function(){return t.forEach((function(t){return e.clearInterval(t)})),e.setInterval=On,e.clearInterval=Dn,_.a}}var Sn=window.addEventListener,kn=window.removeEventListener;function Tn(e){var t=new Map;return e.addEventListener=function(e,n,a){var i=t.get(e)||[];return t.set(e,[].concat(Object(O["a"])(i),[n])),Sn.call(window,e,n,a)},e.removeEventListener=function(e,n,a){var i=t.get(e);return i&&i.length&&-1!==i.indexOf(n)&&i.splice(i.indexOf(n),1),kn.call(window,e,n,a)},function(){return t.forEach((function(t,n){return Object(O["a"])(t).forEach((function(t){return e.removeEventListener(n,t)}))})),e.addEventListener=Sn,e.removeEventListener=kn,_.a}}function Pn(e,t,n,a,i){var r,s,l=[function(){return Cn(n.proxy)},function(){return Tn(n.proxy)},function(){return _n()}],c=(r={},Object(o["a"])(r,Ke.LegacyProxy,[].concat(l,[function(){return Nt(e,t,n.proxy,!0,a,i)}])),Object(o["a"])(r,Ke.Proxy,[].concat(l,[function(){return wn(e,t,n.proxy,!0,a,i)}])),Object(o["a"])(r,Ke.Snapshot,[].concat(l,[function(){return Nt(e,t,n.proxy,!0,a,i)}])),r);return null===(s=c[n.type])||void 0===s?void 0:s.map((function(e){return e()}))}function jn(e,t,n,a,i){var r,s,l=(r={},Object(o["a"])(r,Ke.LegacyProxy,[function(){return Nt(e,t,n.proxy,!1,a,i)}]),Object(o["a"])(r,Ke.Proxy,[function(){return wn(e,t,n.proxy,!1,a,i)}]),Object(o["a"])(r,Ke.Snapshot,[function(){return Nt(e,t,n.proxy,!1,a,i)}]),r);return null===(s=l[n.type])||void 0===s?void 0:s.map((function(e){return e()}))}function In(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||n.configurable}function Ln(e,t,n){void 0===t&&n?delete window[e]:In(window,e)&&"symbol"!==Object(b["a"])(e)&&(Object.defineProperty(window,e,{writable:!0,configurable:!0}),window[e]=t)}var Mn=function(){function e(t){var n=this;Object(qe["a"])(this,e),this.addedPropsMapInSandbox=new Map,this.modifiedPropsOriginalValueMapInSandbox=new Map,this.currentUpdatedPropsValueMap=new Map,this.sandboxRunning=!0,this.latestSetProp=null,this.name=t,this.type=Ke.LegacyProxy;var a=this.addedPropsMapInSandbox,i=this.modifiedPropsOriginalValueMapInSandbox,r=this.currentUpdatedPropsValueMap,o=window,s=Object.create(null),l=function(e,t,s){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return!n.sandboxRunning||(o.hasOwnProperty(e)?i.has(e)||i.set(e,s):a.set(e,t),r.set(e,t),l&&(o[e]=t),n.latestSetProp=e,!0)},c=new Proxy(s,{set:function(e,t,n){var a=o[t];return l(t,n,a,!0)},get:function(e,t){if("top"===t||"parent"===t||"window"===t||"self"===t)return c;var n=o[t];return fn(o,n)},has:function(e,t){return t in o},getOwnPropertyDescriptor:function(e,t){var n=Object.getOwnPropertyDescriptor(o,t);return n&&!n.configurable&&(n.configurable=!0),n},defineProperty:function(e,t,n){var a=o[t],i=Reflect.defineProperty(o,t,n),r=o[t];return l(t,r,a,!1),i}});this.proxy=c}return Object(st["a"])(e,[{key:"active",value:function(){this.sandboxRunning||this.currentUpdatedPropsValueMap.forEach((function(e,t){return Ln(t,e)})),this.sandboxRunning=!0}},{key:"inactive",value:function(){this.modifiedPropsOriginalValueMapInSandbox.forEach((function(e,t){return Ln(t,e)})),this.addedPropsMapInSandbox.forEach((function(e,t){return Ln(t,void 0,!0)})),this.sandboxRunning=!1}}]),e}();function An(e){return e.filter((function(e){return!(e in this)&&(this[e]=!0)}),Object.create(null))}var En=Object.defineProperty,zn=window.__QIANKUN_DEVELOPMENT__?["__REACT_ERROR_OVERLAY_GLOBAL_HOOK__"]:[],Rn=["System","__cjsWrapper"].concat(zn),Fn={undefined:!0,Array:!0,Object:!0,String:!0,Boolean:!0,Math:!0,Number:!0,Symbol:!0,parseFloat:!0,Float32Array:!0};function Bn(e){var t=new Map,n={};return Object.getOwnPropertyNames(e).filter((function(t){var n=Object.getOwnPropertyDescriptor(e,t);return!(null===n||void 0===n?void 0:n.configurable)})).forEach((function(a){var i=Object.getOwnPropertyDescriptor(e,a);if(i){var r=Object.prototype.hasOwnProperty.call(i,"get");"top"!==a&&"parent"!==a&&"self"!==a&&"window"!==a||(i.configurable=!0,r||(i.writable=!0)),r&&t.set(a,!0),En(n,a,Object.freeze(i))}})),{fakeWindow:n,propertiesWithGetter:t}}var $n=0,qn=function(){function e(t){var n=this;Object(qe["a"])(this,e),this.updatedValueSet=new Set,this.sandboxRunning=!0,this.latestSetProp=null,this.name=t,this.type=Ke.Proxy;var a=this.updatedValueSet,i=window,r=Bn(i),o=r.fakeWindow,s=r.propertiesWithGetter,l=new Map,c=function(e){return o.hasOwnProperty(e)||i.hasOwnProperty(e)},u=new Proxy(o,{set:function(e,t,r){if(n.sandboxRunning){if(!e.hasOwnProperty(t)&&i.hasOwnProperty(t)){var o=Object.getOwnPropertyDescriptor(i,t),s=o.writable,l=o.configurable,c=o.enumerable;s&&Object.defineProperty(e,t,{configurable:l,enumerable:c,writable:s,value:r})}else e[t]=r;return-1!==Rn.indexOf(t)&&(i[t]=r),a.add(t),n.latestSetProp=t,!0}return!0},get:function(e,t){if(pn(u),Jt((function(){return pn(null)})),t===Symbol.unscopables)return Fn;if("window"===t||"self"===t)return u;if("globalThis"===t)return u;if("top"===t||"parent"===t)return i===i.parent?u:i[t];if("hasOwnProperty"===t)return c;if("document"===t||"eval"===t)switch(t){case"document":return document;case"eval":return eval}var n=s.has(t)?i[t]:t in e?e[t]:i[t];return fn(i,n)},has:function(e,t){return t in Fn||t in e||t in i},getOwnPropertyDescriptor:function(e,t){if(e.hasOwnProperty(t)){var n=Object.getOwnPropertyDescriptor(e,t);return l.set(t,"target"),n}if(i.hasOwnProperty(t)){var a=Object.getOwnPropertyDescriptor(i,t);return l.set(t,"rawWindow"),a&&!a.configurable&&(a.configurable=!0),a}},ownKeys:function(e){return An(Reflect.ownKeys(i).concat(Reflect.ownKeys(e)))},defineProperty:function(e,t,n){var a=l.get(t);switch(a){case"rawWindow":return Reflect.defineProperty(i,t,n);default:return Reflect.defineProperty(e,t,n)}},deleteProperty:function(e,t){return!e.hasOwnProperty(t)||(delete e[t],a.delete(t),!0)},getPrototypeOf:function(){return Reflect.getPrototypeOf(i)}});this.proxy=u,$n++}return Object(st["a"])(e,[{key:"active",value:function(){this.sandboxRunning||$n++,this.sandboxRunning=!0}},{key:"inactive",value:function(){var e=this;0===--$n&&Rn.forEach((function(t){e.proxy.hasOwnProperty(t)&&delete window[t]})),this.sandboxRunning=!1}}]),e}();function Nn(e,t){for(var n in e)(e.hasOwnProperty(n)||"clearInterval"===n)&&t(n)}var Hn=function(){function e(t){Object(qe["a"])(this,e),this.sandboxRunning=!0,this.modifyPropsMap={},this.name=t,this.proxy=window,this.type=Ke.Snapshot}return Object(st["a"])(e,[{key:"active",value:function(){var e=this;this.windowSnapshot={},Nn(window,(function(t){e.windowSnapshot[t]=window[t]})),Object.keys(this.modifyPropsMap).forEach((function(t){window[t]=e.modifyPropsMap[t]})),this.sandboxRunning=!0}},{key:"inactive",value:function(){var e=this;this.modifyPropsMap={},Nn(window,(function(t){window[t]!==e.windowSnapshot[t]&&(e.modifyPropsMap[t]=window[t],window[t]=e.windowSnapshot[t])})),this.sandboxRunning=!1}}]),e}();function Vn(e,t,n,a,i){var r;r=window.Proxy?a?new Mn(e):new qn(e):new Hn(e);var o=jn(e,t,r,n,i),s=[],l=[];return{instance:r,mount:function(){return C(this,void 0,void 0,x.a.mark((function a(){var c,u;return x.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r.active(),c=l.slice(0,o.length),u=l.slice(o.length),c.length&&c.forEach((function(e){return e()})),s=Pn(e,t,r,n,i),u.length&&u.forEach((function(e){return e()})),l=[];case 7:case"end":return a.stop()}}),a)})))},unmount:function(){return C(this,void 0,void 0,x.a.mark((function e(){return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:l=[].concat(Object(O["a"])(o),Object(O["a"])(s)).map((function(e){return e()})),r.inactive();case 2:case"end":return e.stop()}}),e)})))}}}function Un(e,t){if(!e){if(t)throw new Ze(t);throw new Ze("element not existed!")}}function Gn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return e.length?e.reduce((function(e,a){return e.then((function(){return a(t,n)}))}),Promise.resolve()):Promise.resolve()}function Wn(e,t){return C(this,void 0,void 0,x.a.mark((function n(){return x.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return","function"===typeof e?e(t):!!e);case 1:case"end":return n.stop()}}),n)})))}var Jn=document.head.attachShadow||document.head.createShadowRoot;function Yn(e,t,n,i){var r=document.createElement("div");r.innerHTML=e;var o=r.firstChild;if(t)if(Jn){var s,l=o.innerHTML;o.innerHTML="",s=o.attachShadow?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.innerHTML=l}else console.warn("[qiankun]: As current browser not support shadow dom, your strictStyleIsolation configuration will be ignored!");if(n){var c=o.getAttribute(a.QiankunCSSRewriteAttr);c||o.setAttribute(a.QiankunCSSRewriteAttr,i);var u=o.querySelectorAll("style")||[];E()(u,(function(e){a.process(o,e,i)}))}return o}function Xn(e,t,n,a,i,r){return function(){if(n){if(a)throw new Ze("strictStyleIsolation can not be used with legacy render!");if(i)throw new Ze("experimentalStyleIsolation can not be used with legacy render!");var o=document.getElementById(an(t));return Un(o,"Wrapper element for ".concat(e," with instance ").concat(t," is not existed!")),o}var s=r();return Un(s,"Wrapper element for ".concat(e," with instance ").concat(t," is not existed!")),a&&Jn?s.shadowRoot:s}}var Qn,Kn=HTMLElement.prototype.appendChild,Zn=HTMLElement.prototype.removeChild;function ea(e,t,n){var a=function(a,i){var r=a.element,o=a.loading,s=a.container;if(n)return n({loading:o,appContent:r?t:""});var l=cn(s);if("unmounted"!==i){var c=function(){switch(i){case"loading":case"mounting":return"Target container with ".concat(s," not existed while ").concat(e," ").concat(i,"!");case"mounted":return"Target container with ".concat(s," not existed after ").concat(e," ").concat(i,"!");default:return"Target container with ".concat(s," not existed while ").concat(e," rendering!")}}();Un(l,c)}if(l&&!l.contains(r)){while(l.firstChild)Zn.call(l,l.firstChild);r&&Kn.call(l,r)}};return a}function ta(e,t,n,a){if(rn(e))return e;if(a){var i=n[a];if(rn(i))return i}var r=n[t];if(rn(r))return r;throw new Ze("You need to export lifecycle functions in ".concat(t," entry"))}function na(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return C(this,void 0,void 0,x.a.mark((function i(){var r,o,s,l,c,u,d,p,h,f,g,m,v,y,w,_,O,S,k,T,P,j,L,A,E,z,R,F,B,$,q,N,H,V,U,G,W,J,Y,X,Q,K,Z,ee,te,ne,ae,ie,re,oe=this;return x.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=e.entry,o=e.name,s="".concat(o,"_").concat(+new Date,"_").concat(Math.floor(1e3*Math.random())),"[qiankun] App ".concat(s," Loading"),l=n.singular,c=void 0!==l&&l,u=n.sandbox,d=void 0===u||u,p=n.excludeAssetFilter,h=D(n,["singular","sandbox","excludeAssetFilter"]),i.next=7,ze(r,h);case 7:return f=i.sent,g=f.template,m=f.execScripts,v=f.assetPublicPath,i.next=13,Wn(c,e);case 13:if(!i.sent){i.next=16;break}return i.next=16,Qn&&Qn.promise;case 16:return y=nn(s,o)(g),w="object"===Object(b["a"])(d)&&!!d.strictStyleIsolation,_=sn(d),O=Yn(y,w,_,o),S="container"in e?e.container:void 0,k="render"in e?e.render:void 0,T=ea(o,y,k),T({element:O,loading:!0,container:S},"loading"),P=Xn(o,s,!!k,w,_,(function(){return O})),j=window,L=function(){return Promise.resolve()},A=function(){return Promise.resolve()},E="object"===Object(b["a"])(d)&&!!d.loose,d&&(z=Vn(o,P,_,E,p),j=z.instance.proxy,L=z.mount,A=z.unmount),R=M()({},$e(j,v),a,(function(e,t){return I()(null!==e&&void 0!==e?e:[],null!==t&&void 0!==t?t:[])})),F=R.beforeUnmount,B=void 0===F?[]:F,$=R.afterUnmount,q=void 0===$?[]:$,N=R.afterMount,H=void 0===N?[]:N,V=R.beforeMount,U=void 0===V?[]:V,G=R.beforeLoad,W=void 0===G?[]:G,i.next=33,Gn(Ut(W),e,j);case 33:return i.next=35,m(j,d&&!E);case 35:return J=i.sent,Y=ta(J,o,j,null===(t=null===z||void 0===z?void 0:z.instance)||void 0===t?void 0:t.latestSetProp),X=Y.bootstrap,Q=Y.mount,K=Y.unmount,Z=Y.update,ee=rt(s),te=ee.onGlobalStateChange,ne=ee.setGlobalState,ae=ee.offGlobalStateChange,ie=function(e){return O=e},re=function(){var t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,i={name:s,bootstrap:X,mount:[function(){return C(oe,void 0,void 0,x.a.mark((function e(){return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}}),e)})))},function(){return C(oe,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wn(c,e);case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}t.t0=Qn;case 5:if(!t.t0){t.next=7;break}return t.abrupt("return",Qn.promise);case 7:return t.abrupt("return",void 0);case 8:case"end":return t.stop()}}),t)})))},function(){return C(oe,void 0,void 0,x.a.mark((function e(){return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=O,n=Xn(o,s,!!k,w,_,(function(){return t}));case 2:case"end":return e.stop()}}),e)})))},function(){return C(oe,void 0,void 0,x.a.mark((function e(){var n;return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=a!==S,!n&&t||(t=Yn(y,w,_,o),ie(t)),T({element:t,loading:!0,container:a},"mounting");case 3:case"end":return e.stop()}}),e)})))},L,function(){return C(oe,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Gn(Ut(U),e,j));case 1:case"end":return t.stop()}}),t)})))},function(e){return C(oe,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Q(Object.assign(Object.assign({},e),{container:n(),setGlobalState:ne,onGlobalStateChange:te})));case 1:case"end":return t.stop()}}),t)})))},function(){return C(oe,void 0,void 0,x.a.mark((function e(){return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",T({element:t,loading:!1,container:a},"mounted"));case 1:case"end":return e.stop()}}),e)})))},function(){return C(oe,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Gn(Ut(H),e,j));case 1:case"end":return t.stop()}}),t)})))},function(){return C(oe,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wn(c,e);case 2:if(!t.sent){t.next=4;break}Qn=new on;case 4:case"end":return t.stop()}}),t)})))},function(){return C(oe,void 0,void 0,x.a.mark((function e(){return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}}),e)})))}],unmount:[function(){return C(oe,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Gn(Ut(B),e,j));case 1:case"end":return t.stop()}}),t)})))},function(e){return C(oe,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",K(Object.assign(Object.assign({},e),{container:n()})));case 1:case"end":return t.stop()}}),t)})))},A,function(){return C(oe,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Gn(Ut(q),e,j));case 1:case"end":return t.stop()}}),t)})))},function(){return C(oe,void 0,void 0,x.a.mark((function e(){return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:T({element:null,loading:!1,container:a},"unmounted"),ae(s),t=null,ie(t);case 4:case"end":return e.stop()}}),e)})))},function(){return C(oe,void 0,void 0,x.a.mark((function t(){return x.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wn(c,e);case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}t.t0=Qn;case 5:if(!t.t0){t.next=7;break}Qn.resolve();case 7:case"end":return t.stop()}}),t)})))}]};return"function"===typeof Z&&(i.update=Z),i},i.abrupt("return",re);case 41:case"end":return i.stop()}}),i)})))}window.requestIdleCallback,!!navigator.connection&&(navigator.connection.saveData||"wifi"!==navigator.connection.type&&"ethernet"!==navigator.connection.type&&/(2|3)g/.test(navigator.connection.effectiveType));var aa={},ia=!1,ra=!0;new on;var oa=new Map,sa=new Map;function la(e,t,n){var a,i,r=this,o=e.props,s=e.name,l=function(e){var t=cn(e);if(t)return ln(t,document)},c=function(t){var n="container"in e?e.container:void 0,a=t;if(n){var o=l(n);if(o){var c=sa.get("".concat(s,"-").concat(o));if(null===c||void 0===c?void 0:c.length){var u=[function(){return C(r,void 0,void 0,x.a.mark((function e(){var t,n;return x.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c.slice(0,c.indexOf(i)),n=t.filter((function(e){return"LOAD_ERROR"!==e.getStatus()&&"SKIP_BECAUSE_BROKEN"!==e.getStatus()})),e.next=4,Promise.all(n.map((function(e){return e.unmountPromise})));case 4:case"end":return e.stop()}}),e)})))}].concat(Object(O["a"])(Ut(a.mount)));a=Object.assign(Object.assign({},t),{mount:u})}}}return Object.assign(Object.assign({},a),{bootstrap:function(){return Promise.resolve()}})},u=function(){return C(r,void 0,void 0,x.a.mark((function a(){var i,r,o,u,d,p,h,f;return x.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=null!==t&&void 0!==t?t:Object.assign(Object.assign({},aa),{singular:!1}),r=i.$$cacheLifecycleByAppName,o="container"in e?e.container:void 0,!o){a.next=23;break}if(!r){a.next=13;break}if(u=oa.get(s),!u){a.next=13;break}return a.t0=c,a.next=10,u;case 10:return a.t1=a.sent,a.t2=(0,a.t1)(o),a.abrupt("return",(0,a.t0)(a.t2));case 13:if(d=l(o),!d){a.next=23;break}if(p=oa.get("".concat(s,"-").concat(d)),!p){a.next=23;break}return a.t3=c,a.next=20,p;case 20:return a.t4=a.sent,a.t5=(0,a.t4)(o),a.abrupt("return",(0,a.t3)(a.t5));case 23:return h=na(e,i,n),o&&(r?oa.set(s,h):(f=l(o),f&&oa.set("".concat(s,"-").concat(f),h))),a.next=27,h;case 27:return a.t6=a.sent,a.abrupt("return",(0,a.t6)(o));case 29:case"end":return a.stop()}}),a)})))};ia||Object(P["f"])({urlRerouteOnly:null!==(a=aa.urlRerouteOnly)&&void 0!==a?a:ra}),i=Object(P["d"])(u,Object.assign({domElement:document.createElement("div")},o));var d="container"in e?e.container:void 0;if(d){var p=l(d);if(p){var h="".concat(s,"-").concat(p),f=sa.get(h)||[];f.push(i),sa.set(h,f),i.unmountPromise.finally((function(){var e=f.indexOf(i);f.splice(e,1),i=null}))}}return i}function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var da=[{id:"REQUEST",value:"REQUEST"},{id:"DUBBO",value:"Dubbo"},{id:"GRPC",value:"gRPC"}],pa={name:"step-request-item",data:function(){return{microApps:{},requestFormHash:"request"+parseInt(5*Math.random()),requestForm:{components:[]},rules:{method:[{required:!0,message:"必填",trigger:"change"}],serviceName:[{required:!0,message:"必填",trigger:"change"}],protocol:[{required:!0,message:"必填",trigger:"change"}],serviceType:[{required:!0,message:"必填",trigger:"change"}],path:[{required:!0,message:"必填",trigger:"blur"}],"fallback.defaultResult":[{validator:function(e,t,n){t&&!Object(p["i"])(t)?n(new Error("请输入正确格式的JSON")):n()},trigger:"blur"}]},scriptVisible:!1,scriptId:"",dubboRules:{key:[{pattern:/^p(\d)+(\.(([A-Za-z\d])+))?$/,message:"dubbo类型的接口参数格式为: pN",trigger:"blur"}]},showRpcSelector:!1,showRpcAdd:!1,newUrlTrigger:!1,showHttpServiceAdd:!1,httpServiceOptions:[],xmlInoVisible:!1}},computed:ua(ua({},Object(u["mapGetters"])(["apiMethod","permission","discoveryServiceOptions"])),{},{permissionList:function(){return{serviceAddBtn:this.vaildData(this.permission.rpc_service_add,!1)}},showNewURL:function(){return!(!this.requestForm.protocol&&(this.requestForm.url||this.requestForm.devUrl||this.requestForm.testUrl||this.requestForm.preUrl||this.requestForm.prodUrl))},aggerateTypes:function(){var e=[],t=new Map(Object.entries(Constant.aggregate.plugins));return t.forEach((function(t,n){e.push({id:n,value:n})})),[].concat(da,e)}}),props:{data:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},businessType:{type:String}},components:{scriptDialog:s["default"],dataParams:l["default"],rpcApiSelector:f["default"],rpcApiDetail:g["default"],httpServiceDetail:m["default"],xmlInfo:c["default"],addComponent:v["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(){this.initData()}}},created:function(){this.getDiscoveryServiceOptions(),this.getHttpServiceOptions()},methods:ua(ua({},Object(u["mapActions"])(["removeScript","getDiscoveryServiceOptions"])),{},{isInlineType:function(e){return-1!=da.flatMap((function(e){return e.id})).indexOf(e)},serviceTypeChange:function(){this.requestForm.serviceName&&this.$set(this.requestForm,"serviceName","")},getHttpServiceOptions:function(){var e=this;Object(h["b"])({type:3}).then((function(t){e.httpServiceOptions=t.data.data.records||[]}))},initData:function(){var e=this,t=this.data||{};this.scriptId&&(t.conditionFlag=!0),t.fallback||(t.fallback={}),t.dataMapping||(t.dataMapping={request:{},response:{}}),"REQUEST"===t.type&&(t.dataMapping.request&&!t.dataMapping.request.contentType&&this.$set(t.dataMapping.request,"contentType","application/json"),t.dataMapping.response&&!t.dataMapping.response.contentType&&this.$set(t.dataMapping.response,"contentType","auto")),t.condition||(t.condition={}),t.components||(t.components=[]);var n="string"===typeof t.condition?JSON.parse(t.condition):t.condition;this.scriptId=n&&n["aggregate_config_script_id"]||"",this.requestForm=t;var a=Constant.aggregate.plugins[this.requestForm.type];this.isInlineType(this.requestForm.type)?Object.values(this.microApps).forEach((function(e){e.unmount()})):this.microApps[this.requestFormHash+this.requestForm.type]=la(ua(ua({},a),{},{container:"#"+this.requestFormHash,props:{requestForm:this.requestForm,callback:function(t){e.requestForm=t}}}))},handleData:function(){return""===this.requestForm.timeout?delete this.requestForm.timeout:this.requestForm.timeout&&(this.requestForm.timeout=Number(this.requestForm.timeout)),this.requestForm.fallback&&""===this.requestForm.fallback.mode&&delete this.requestForm.fallback.mode,Object(d["b"])(this.requestForm)},emitData:function(){this.$emit("update:data",this.handleData())},validate:function(){var e=this;return this.emitData(),new Promise((function(t,n){e.$refs.requestForm.validate((function(e){e?t():n()}))}))},openScript:function(){this.scriptVisible=!0},conditionChange:function(e){e||(this.requestForm.condition={})},scriptCallback:function(){this.requestForm.condition=this.scriptId?{aggregate_config_script_id:this.scriptId}:{}},deleteScript:function(e){var t=this;this.$confirm("确定删除该脚本?",{type:"warning"}).then((function(){t.removeScript(e).then((function(){t.scriptId="",t.requestForm.condition={},t.$message.success("删除成功")}))}))},handleTypeChange:function(){this.requestForm.method&&this.$set(this.requestForm,"method",""),this.requestForm.serviceName&&this.$set(this.requestForm,"serviceName",""),this.requestForm.version&&this.$set(this.requestForm,"version",""),this.requestForm.group&&this.$set(this.requestForm,"group",""),this.requestForm.paramTypes&&this.$set(this.requestForm,"paramTypes","")},getRpcApi:function(e){var t=e[0]||{};this.$set(this.requestForm,"serviceName",t.service||""),this.$set(this.requestForm,"method",t.method||""),this.$set(this.requestForm,"version",t.version||""),this.$set(this.requestForm,"group",t.group||""),this.$set(this.requestForm,"paramTypes",t.paramTypes||"")},addRpcCallback:function(){this.$refs.rpcApiSelector.onLoad()}})},ha=pa,fa=(n("4765"),n("2877")),ga=Object(fa["a"])(ha,i,r,!1,null,"bbdf7528",null);t["default"]=ga.exports},fdde:function(e,t){var n={average:function(e){for(var t=0,n=0,a=0;a<e.length;a++)isNaN(e[a])||(t+=e[a],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},a=function(e,t){return Math.round(e.length/2)};function i(e){return{seriesType:e,modifyOutputEnd:!0,reset:function(e,t,i){var r=e.getData(),o=e.get("sampling"),s=e.coordinateSystem;if("cartesian2d"===s.type&&o){var l,c=s.getBaseAxis(),u=s.getOtherAxis(c),d=c.getExtent(),p=Math.abs(d[1]-d[0]),h=Math.round(r.count()/p);if(h>1)"string"===typeof o?l=n[o]:"function"===typeof o&&(l=o),l&&e.setData(r.downSample(r.mapDimension(u.dim),1/h,l,a))}}}}e.exports=i},fe21:function(e,t,n){var a=n("e86a"),i=n("2306"),r=["textStyle","color"],o={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(r):null)},getFont:function(){return i.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return a.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};e.exports=o},ff2e:function(e,t,n){var a=n("6d8b"),i=n("2306"),r=n("e86a"),o=n("eda2"),s=n("1687"),l=n("697e"),c=n("fab22");function u(e){var t,n=e.get("type"),a=e.getModel(n+"Style");return"line"===n?(t=a.getLineStyle(),t.fill=null):"shadow"===n&&(t=a.getAreaStyle(),t.stroke=null),t}function d(e,t,n,a,i){var s=n.get("value"),l=h(s,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),c=n.getModel("label"),u=o.normalizeCssArray(c.get("padding")||0),d=c.getFont(),f=r.getBoundingRect(l,d),g=i.position,m=f.width+u[1]+u[3],v=f.height+u[0]+u[2],b=i.align;"right"===b&&(g[0]-=m),"center"===b&&(g[0]-=m/2);var y=i.verticalAlign;"bottom"===y&&(g[1]-=v),"middle"===y&&(g[1]-=v/2),p(g,m,v,a);var x=c.get("backgroundColor");x&&"auto"!==x||(x=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:m,height:v,r:c.get("borderRadius")},position:g.slice(),style:{text:l,textFont:d,textFill:c.getTextColor(),textPosition:"inside",textPadding:u,fill:x,stroke:c.get("borderColor")||"transparent",lineWidth:c.get("borderWidth")||0,shadowBlur:c.get("shadowBlur"),shadowColor:c.get("shadowColor"),shadowOffsetX:c.get("shadowOffsetX"),shadowOffsetY:c.get("shadowOffsetY")},z2:10}}function p(e,t,n,a){var i=a.getWidth(),r=a.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,r)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function h(e,t,n,i,r){e=t.scale.parse(e);var o=t.scale.getLabel(e,{precision:r.precision}),s=r.formatter;if(s){var c={value:l.getAxisRawValue(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};a.each(i,(function(e){var t=n.getSeriesByIndex(e.seriesIndex),a=e.dataIndexInside,i=t&&t.getDataParams(a);i&&c.seriesData.push(i)})),a.isString(s)?o=s.replace("{value}",o):a.isFunction(s)&&(o=s(c))}return o}function f(e,t,n){var a=s.create();return s.rotate(a,a,n.rotation),s.translate(a,a,n.position),i.applyTransform([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],a)}function g(e,t,n,a,i,r){var o=c.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get("label.margin"),d(t,a,i,r,{position:f(a.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function m(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function v(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}function b(e,t,n,a,i,r){return{cx:e,cy:t,r0:n,r:a,startAngle:i,endAngle:r,clockwise:!0}}t.buildElStyle=u,t.buildLabelElOption=d,t.getValueLabel=h,t.getTransformedPosition=f,t.buildCartesianSingleLabelElOption=g,t.makeLineShape=m,t.makeRectShape=v,t.makeSectorShape=b}}]);