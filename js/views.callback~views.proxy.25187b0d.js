/*!
 * Fizz-Admin v2.2.3
 * (c) 2020-2021 Joker-Lee
 * AGPL v3 Licensed.
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["views.callback~views.proxy"],{1600:function(e,t,a){},"17e0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{"popper-class":"tooltip-dark",placement:"top",title:e.title}},[a("div",{staticClass:"content"},[e._v("\n    fizz-appid: 10001 "),a("br"),e._v("\n    fizz-sign: e4502ba3a71448bbbcecef22b305d2ba "),a("br"),e.ts?a("span",[e._v("fizz-ts: 1605255335977 ")]):e._e(),a("br")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("("+e._s(e.title)+")")])])},i=[],l={name:"tooltip-appid",props:{title:{type:String,default:"示例"},ts:{type:Boolean,default:!0}}},o=l,c=(a("7bd3"),a("2877")),s=Object(c["a"])(o,n,i,!1,null,null,null);t["default"]=s.exports},1884:function(e,t,a){"use strict";a("1600")},2627:function(e,t,a){},"4fda":function(e,t,a){"use strict";a("2627")},5558:function(e,t,a){"use strict";a("bb86")},"60cc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-collapse",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"plugin-config",model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.pluginData,(function(t,n){return a("el-collapse-item",{key:n,attrs:{name:t.id,title:t.chnName,disabled:!t.config}},[a("template",{slot:"title"},[a("div",{staticClass:"plugin-title"},[a("div",{staticClass:"plugin-title-left"},[a("span",[e._v(e._s(n+1)+"#  "+e._s(t.chnName))]),a("span",{staticStyle:{"margin-left":"20px"},on:{click:function(e){e.stopPropagation()}}},[a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("执行顺序")]),a("el-input-number",{attrs:{size:"mini","controls-position":"right",disabled:e.disabled},model:{value:t.order,callback:function(a){e.$set(t,"order",a)},expression:"item.order"}})],1)]),a("div",{staticClass:"plugin-title-right"},[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",disabled:e.disabled,circle:""},on:{click:function(a){return a.stopPropagation(),e.delPlugin(t,n)}}})],1)])]),a("plugin-form",{ref:"pluginForm",refInFor:!0,attrs:{disabled:e.disabled,config:t.config,order:t.order,name:t.chnName,data:t.apiPluginConfigs},on:{"update:data":function(a){return e.$set(t,"apiPluginConfigs",a)}}})],2)})),1)},i=[],l=(a("5df3"),a("ac6a"),a("6cdf")),o={data:function(){return{loading:!1,activeNames:[],pluginData:[]}},props:{config:{type:[Array,Object],required:!0,default:function(){return[]}},disabled:{default:!1,type:Boolean}},components:{pluginForm:l["default"]},watch:{config:{deep:!0,handler:function(){this.initPluginData()}}},methods:{addCollapseActive:function(e){var t=e.id,a=this.activeNames.some((function(e){return e===t}));!a&&e.config&&t&&this.activeNames.push(t)},delPlugin:function(e,t){this.activeNames.splice(this.activeNames.indexOf(e.id),1),this.pluginData.splice(t,1),this.emitData()},validate:function(e){if(this.emitData(),this.pluginData&&this.pluginData.length>0){var t=[];this.$refs.pluginForm.forEach((function(e){t.push(e.validate())})),Promise.all(t).then((function(){e(!0)})).catch((function(t){e(!1,t)}))}else e(!0)},emitData:function(){this.$emit("change",this.pluginData)},initPluginData:function(){var e=this;this.pluginData=[],this.config&&this.config.length&&(this.loading=!0,this.config.forEach((function(t){e.addCollapseActive(t),e.pluginData.push(Object.assign({},t))})),this.loading=!1)}}},c=o,s=(a("5558"),a("2877")),r=Object(s["a"])(c,n,i,!1,null,null,null);t["default"]=r.exports},"6cdf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"formData",staticClass:"plugin-form",attrs:{disabled:e.disabled,model:e.formData,size:"small"}},[e.pluginConfig.length?e._l(e.pluginConfig,(function(t,n){return a("el-form-item",{key:n,attrs:{label:t.label,prop:t.field,rules:t.rules}},["input"===t.component?[["number","long","double"].some((function(e){return e===t.dataType}))?a("el-input",{attrs:{type:"number",placeholder:t.placeholder+"??",autocomplete:"off",clearable:""},model:{value:e.formData[t.field],callback:function(a){e.$set(e.formData,t.field,e._n(a))},expression:"formData[comp.field]"}}):a("el-input",{attrs:{placeholder:t.placeholder,autocomplete:"off",clearable:""},model:{value:e.formData[t.field],callback:function(a){e.$set(e.formData,t.field,a)},expression:"formData[comp.field]"}})]:e._e(),"select"===t.component?[a("el-select",{attrs:{placeholder:t.placeholder,clearable:""},model:{value:e.formData[t.field],callback:function(a){e.$set(e.formData,t.field,a)},expression:"formData[comp.field]"}},e._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]:e._e(),"radio"===t.component?[a("el-radio-group",{model:{value:e.formData[t.field],callback:function(a){e.$set(e.formData,t.field,a)},expression:"formData[comp.field]"}},e._l(t.options,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),1)]:e._e(),"checkbox"===t.component?[a("el-checkbox-group",{model:{value:e.formData[t.field],callback:function(a){e.$set(e.formData,t.field,a)},expression:"formData[comp.field]"}},e._l(t.options,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),1)]:e._e(),"textarea"===t.component?[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},placeholder:t.placeholder,autocomplete:"off",clearable:""},model:{value:e.formData[t.field],callback:function(a){e.$set(e.formData,t.field,a)},expression:"formData[comp.field]"}})]:e._e(),a("div",{staticStyle:{color:"#999","font-size":"12px"}},[e._v(e._s(t.desc))])],2)})):[a("el-alert",{attrs:{title:"当前插件配置有误",type:"warning",closable:!1}})]],2)],1)},i=[],l=(a("7514"),a("ac6a"),a("456d"),a("7f7f"),a("c5f6"),a("16cd")),o={data:function(){return{formData:{}}},props:{disabled:{type:Boolean,default:!1},config:{type:[Array,String],required:!0},data:{type:[Array,Object]},order:{type:[String,Number]},name:{type:String}},computed:{pluginConfig:function(){var e=this.config||"";return e&&"string"===typeof e&&(e=JSON.parse(e)),e||[]},watchInit:function(){return{pluginConfig:this.pluginConfig,data:this.data}}},watch:{watchInit:{immediate:!0,deep:!0,handler:function(){this.initData()}}},methods:{validate:function(){var e=this;return this.handleData(),new Promise((function(t,a){e.$refs.formData.validate((function(n,i){if(e.order||a("插件【".concat(e.name,"】: 执行顺序不能为空")),n)t();else{if(i){var l=Object.keys(i)[0],o=i[l][0]["message"]||"未完善插件配置";a("插件【".concat(e.name,"】: ").concat(o))}a()}}))}))},resetForm:function(e){this.$refs[e].resetFields()},handleData:function(){var e=this,t=[],a=Object.assign({},this.formData);Object.keys(a).forEach((function(n){var i=e.pluginConfig.find((function(e){return e.field===n}))||{};if("checkbox"===i.component&&!a[n].length)return!1;var l={item:n,type:i.dataType,value:JSON.stringify(a[n])};t.push(l)})),this.$emit("update:data",Object(l["b"])(t))},initData:function(){var e=this,t={};this.pluginConfig.forEach((function(a){if("checkbox"===a.component&&(t[a.field]=[]),Object.keys(a).some((function(e){return"default"===e}))&&(t[a.field]=a.default),e.data&&e.data.length>0){var n=e.data.find((function(e){return e.item===a.field}));n&&(t[a.field]=JSON.parse(n.value))}})),this.formData=Object.assign({},this.formData,t)}}},c=o,s=(a("1884"),a("2877")),r=Object(s["a"])(c,n,i,!1,null,null,null);t["default"]=r.exports},7555:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plugin-list"},[a("el-checkbox",{staticStyle:{"padding-bottom":"10px","font-weight":"bold"},attrs:{indeterminate:e.isIndeterminate,disabled:e.disabled},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("\n    全选\n  ")]),a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.pluginData,(function(t,n){return a("el-collapse-item",{key:n,attrs:{name:n,title:t.chnName,disabled:!t.config}},[a("template",{slot:"title"},[a("div",{staticClass:"plugin-title"},[a("el-checkbox",{attrs:{label:t.chnName,disabled:e.disabled},on:{change:e.handleCheckbox},model:{value:t.check,callback:function(a){e.$set(t,"check",a)},expression:"item.check"}}),t.config?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("配置")]):e._e()],1)]),a("plugin-form",{ref:"pluginForm",refInFor:!0,attrs:{disabled:!0,config:t.config,order:t.order,name:t.chnName,data:t.apiPluginConfigs},on:{"update:data":function(a){return e.$set(t,"apiPluginConfigs",a)}}})],2)})),1)],1)},i=[],l=(a("ac6a"),a("6cdf")),o={data:function(){return{activeNames:[],pluginData:[],checkAll:!1,isIndeterminate:!1}},props:{config:{type:[Array,Object],required:!0,default:function(){return[]}},disabled:{default:!1,type:Boolean}},computed:{selection:function(){var e=[];return this.pluginData.forEach((function(t){t.check&&e.push(t)})),e}},components:{pluginForm:l["default"]},watch:{config:{immediate:!0,deep:!0,handler:function(){this.initPluginData()}},selection:{deep:!0,handler:function(){this.emitData()}}},methods:{handleCheckAllChange:function(e){this.pluginData.forEach((function(t){t.check=!!e})),this.isIndeterminate=!1},handleCheckbox:function(){this.checkAll=this.selection.length===this.pluginData.length,this.isIndeterminate=this.selection.length>0&&this.selection.length<this.pluginData.length},emitData:function(){this.$emit("change",this.selection)},initPluginData:function(){var e=this;this.pluginData=[],this.config&&this.config.length&&this.config.forEach((function(t){var a=Object.assign({},t,{plugin:t.id,check:!1});e.pluginData.push(Object.assign({},a))}))}}},c=o,s=(a("b709"),a("4fda"),a("2877")),r=Object(s["a"])(c,n,i,!1,null,"5d748ef2",null);t["default"]=r.exports},"7bd3":function(e,t,a){"use strict";a("f982")},"9b51":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"api-header"},[e.groupName?a("el-tag",[e._v("网关分组[ "+e._s(e.groupName)+" ]")]):e._e(),e._v(" \n  "),e.serviceName?a("el-tag",[e._v("服务[ "+e._s(e.serviceName)+" ]")]):e._e(),e._v(" \n  "),a("b",[e._v(e._s(e.pageName))])],1)},i=[],l=(a("7f7f"),{name:"index",props:{serviceName:{type:String,default:""},groupName:{type:String,default:""},pageName:{type:String,default:function(){return this.$route.name||""}}}}),o=l,c=a("2877"),s=Object(c["a"])(o,n,i,!1,null,"7c207ce7",null);t["default"]=s.exports},b709:function(e,t,a){"use strict";a("c3d1")},bb86:function(e,t,a){},c3d1:function(e,t,a){},c8b6:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("avue-crud",{ref:"crud",attrs:{id:"addAppidTable",data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"tags",fn:function(t){var a=t.row;return[e._v("\n    "+e._s(a.tags.join(","))+"\n  ")]}},{key:"tagsSearch",fn:function(t){return[a("el-input",{attrs:{placeholder:"标签",clearable:""},model:{value:e.search.tagCondition,callback:function(t){e.$set(e.search,"tagCondition",t)},expression:"search.tagCondition"}})]}}])})},i=[],l=(a("ac6a"),a("24a7")),o={data:function(){return{loading:!0,query:{},page:{pageSize:10,currentPage:1,total:0,pageSizes:[10,20,30,40,50,100,1e3,3e3,5e3]},search:{},option:{size:"mini",border:!0,selection:!0,tip:!1,columnBtn:!1,addBtn:!1,menu:!1,searchMenuSpan:12,column:[{label:"appID",prop:"app",search:!0,searchSpan:12},{label:"应用名",prop:"appName",search:!0,searchSpan:12},{label:"标签",prop:"tags",search:!0,searchSpan:12,searchslot:!0,slot:!0}]},data:[],selectionList:[]}},props:{selection:{type:[Object,Array]}},computed:{ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}},watch:{selectionList:{deep:!0,handler:function(){this.emitData()}}},methods:{emitData:function(){this.$emit("update:selection",this.selectionList)},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(l["e"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},c=o,s=a("2877"),r=Object(s["a"])(c,n,i,!1,null,null,null);t["default"]=r.exports},f982:function(e,t,a){}}]);