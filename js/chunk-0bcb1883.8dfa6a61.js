/*!
 * Fizz-Admin v2.6.6
 * (c) 2020-2022 Joker-Lee
 * AGPL v3 Licensed.
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bcb1883","views.aggregate~views.aggregateRecord","views.interface~views.publicNetWork","page","views.aggregate","views.aggregateRecord","views.gateway","views.info","views.interface","views.proxy","views.wel","chunk-2d0e4caf"],{"004f":function(e,t,a){var n=a("6d8b"),i=a("72b6"),r=a("2306"),o=a("a15a"),s=o.createSymbol,l=a("f934"),c=a("cbb0"),u=i.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,a=t.get("textGap"),i=t.textStyleModel,o=i.getFont(),s=i.getTextColor(),c=this._getItemAlign(),u=t.itemSize,d=this._getViewData(),p=d.endsText,h=n.retrieve(t.get("showLabel",!0),!p);function f(i){var l=i.piece,d=new r.Group;d.onclick=n.bind(this._onItemClick,this,l),this._enableHoverLink(d,i.indexInModelPieceList);var p=t.getRepresentValue(l);if(this._createItemSymbol(d,p,[0,0,u[0],u[1]]),h){var f=this.visualMapModel.getValueState(p);d.add(new r.Text({style:{x:"right"===c?-a:u[0]+a,y:u[1]/2,text:l.text,textVerticalAlign:"middle",textAlign:c,textFont:o,textFill:s,opacity:"outOfRange"===f?.5:1}}))}e.add(d)}p&&this._renderEndsText(e,p[0],u,h,c),n.each(d.viewPieceList,f,this),p&&this._renderEndsText(e,p[1],u,h,c),l.box(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function a(e){var a=this.visualMapModel;a.option.hoverLink&&this.api.dispatchAction({type:e,batch:c.makeHighDownBatch(a.findTargetDataIndices(t),a)})}e.on("mouseover",n.bind(a,this,"highlight")).on("mouseout",n.bind(a,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return c.getItemAlign(e,this.api,e.itemSize);var a=t.align;return a&&"auto"!==a||(a="left"),a},_renderEndsText:function(e,t,a,n,i){if(t){var o=new r.Group,s=this.visualMapModel.textStyleModel;o.add(new r.Text({style:{x:n?"right"===i?a[0]:0:a[0]/2,y:a[1]/2,textVerticalAlign:"middle",textAlign:n?i:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(o)}},_getViewData:function(){var e=this.visualMapModel,t=n.map(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),a=e.get("text"),i=e.get("orient"),r=e.get("inverse");return("horizontal"===i?r:!r)?t.reverse():a&&(a=a.slice().reverse()),{viewPieceList:t,endsText:a}},_createItemSymbol:function(e,t,a){e.add(s(this.getControllerVisual(t,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,a=t.option,i=n.clone(a.selected),r=t.getSelectedMapKey(e);"single"===a.selectedMode?(i[r]=!0,n.each(i,(function(e,t){i[t]=t===r}))):i[r]=!i[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}}),d=u;e.exports=d},"007d":function(e,t,a){var n=a("3eba");a("cb8f"),a("a96b"),a("42f6"),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))},"00a0":function(e,t,a){},"0144":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"设置 前端服务名描述","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"600px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"120px"}},[a("el-form-item",{attrs:{label:"前端服务名描述",prop:"description"}},[a("el-input",{attrs:{placeholder:"请输入 前端服务名描述",clearable:""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"所属团队:",prop:"team"}},[a("el-input",{attrs:{placeholder:"请输入 所属团队"},model:{value:e.form.team,callback:function(t){e.$set(e.form,"team",t)},expression:"form.team"}})],1)],1)],1),a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitHandle}},[e._v("\n      确 定")]),a("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("3bfd");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={name:"service-remark",props:{visible:{type:Boolean,default:!1},service:{type:String,default:""},detail:{type:Object,default:function(){return{description:"",service:"",team:""}}}},data:function(){return{form:{},rules:{description:[{required:!0,message:"必填",trigger:"blur"}]}}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}}},watch:{detail:{deep:!0,handler:function(){this.$set(this.form,"description",this.detail.description),this.$set(this.form,"team",this.detail.team)}}},methods:{submitHandle:function(){var e=this;this.$refs.form.validate((function(t){t?(e.dialogVisible=!1,e.$emit("emitData",l(l({},e.form),{},{service:e.service}))):e.$message.error("请完善表单信息！")}))},cancel:function(){this.dialogVisible=!1,this.form={}},handleSubmit:function(){this.form.description&&this.service&&Object(o["c"])(l(l({},this.form),{},{service:this.service}))}}},u=c,d=(a("21d4"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"270cf208",null);t["default"]=p.exports},"0156":function(e,t,a){var n=a("6d8b");function i(e,t,a){a=a||{};var i=e.coordinateSystem,r=t.axis,o={},s=r.getAxesOnZeroOf()[0],l=r.position,c=s?"onZero":l,u=r.dim,d=i.getRect(),p=[d.x,d.x+d.width,d.y,d.y+d.height],h={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,g="x"===u?[p[2]-f,p[3]+f]:[p[0]-f,p[1]+f];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));g[h.onZero]=Math.max(Math.min(m,g[1]),g[0])}o.position=["y"===u?g[h[c]]:p[0],"x"===u?g[h[c]]:p[3]],o.rotation=Math.PI/2*("x"===u?0:1);var b={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=b[l],o.labelOffset=s?g[h[l]]-g[h.onZero]:0,t.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),n.retrieve(a.labelInside,t.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var v=t.get("axisLabel.rotate");return o.labelRotate="top"===c?-v:v,o.z2=1,o}t.layout=i},"01ed":function(e,t,a){var n=a("3eba"),i=a("6d8b"),r=a("2306");a("5aa9"),a("af24"),n.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new r.Rect({shape:e.coordinateSystem.getRect(),style:i.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),n.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))},"0209":function(e,t,a){"use strict";a("5c4b")},"0352":function(e,t,a){var n=a("6cb7"),i=a("b12f"),r=a("0f99"),o=r.detectSourceFormat,s=a("93d0"),l=s.SERIES_LAYOUT_BY_COLUMN;n.extend({type:"dataset",defaultOption:{seriesLayoutBy:l,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){o(this)}}),i.extend({type:"dataset"})},"03dd":function(e,t,a){var n=a("eac5"),i=a("57a5"),r=Object.prototype,o=r.hasOwnProperty;function s(e){if(!n(e))return i(e);var t=[];for(var a in Object(e))o.call(e,a)&&"constructor"!=a&&t.push(a);return t}e.exports=s},"042a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"document-inter-main"},[a("div",{staticClass:"left-con tree-document"},[a("el-tree",{ref:"tree",staticClass:"tree",attrs:{data:e.treeData,props:e.defaultProps,"highlight-current":"","node-key":"key","default-expanded-keys":e.defaultExpandedKeys,"current-node-key":e.currentNodeKey},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node;t.data;return a("span",{staticClass:"span-ellipsis"},[a("span",{attrs:{title:n.label}},[e._v(e._s(n.label))])])}}])})],1),a("div",{staticClass:"right-con"},[a("interInfo",{attrs:{docJson:e.docJson,curJson:e.curJson,disabled:e.disabled,otherInfo:e.otherInfo,showOtherInfo:!0},on:{changeOtherInfo:e.changeOtherInfo}})],1)])])},i=[],r=(a("8e6e"),a("456d"),a("ade3")),o=(a("6762"),a("2fdb"),a("3835")),s=(a("ffc1"),a("8615"),a("ac6a"),a("5df3"),a("f400"),a("7f7f"),a("20d6"),a("862dd")),l=a("307b");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={isShow:1,isAuth:1,isSupportDebug:1,remark:""},p={name:"interface-info",components:{interInfo:s["default"]},props:{docJson:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},otherInfo:{type:Object,default:function(){return{}}}},data:function(){return{currentNodeKey:"",defaultExpandedKeys:[],defaultProps:{children:"children",label:"name"},treeData:[],curJson:{},formMap:{}}},computed:{tags:function(){return this.docJson.tags||{}},paths:function(){return this.docJson.paths||{}}},methods:{handleNodeClick:function(e){var t=-1;if(e.tags&&e.tags.length>0){var a=e.tags[0];t=this.tags.findIndex((function(e){return e.name===a}))}-1!==t?(this.curJson=e,this.currentNodeKey=e.key):this.$refs.tree.setCurrentKey(this.currentNodeKey)},emitData:function(){this.$emit("changeOtherInfo",this.formMap)},changeOtherInfo:function(e){this.formMap=e},renderTreeData:function(){var e=this,t=new Map,a=Object(l["a"])(this.tags);this.treeData=a||[],Object.values(a).forEach((function(a,n){e.treeData[n].key=a.name,Object.entries(e.paths).forEach((function(i){var r=Object(o["a"])(i,2),s=r[0],l=r[1];Object.entries(l).forEach((function(i){var r=Object(o["a"])(i,2),l=r[0],c=r[1];t.has("".concat(a.name,"_").concat(c.summary))||(t.set("".concat(a.name,"_").concat(c.summary)),c.tags.includes(a.name)&&(e.treeData[n].children||(e.treeData[n].children=[]),e.treeData[n].children.push(u(u({},c),{},{name:c.summary,path:s,method:l,key:"".concat(a.name,"_").concat(c.summary)}))))}))}))})),this.treeData.length>0&&(this.treeData[0].children.length>0?(this.defaultExpandedKeys=[this.treeData[0].children[0].key],this.currentNodeKey=this.treeData[0].children[0].key,this.curJson=this.treeData[0].children[0]):(this.defaultExpandedKeys=[this.treeData[0].key],this.currentNodeKey=this.treeData[0].key,this.curJson=this.treeData[0]),this.$nextTick((function(){e.$refs.tree.setCurrentKey(e.currentNodeKey)})))},renderTree:function(){var e=this;this.$nextTick((function(){e.curJson={},e.treeData=[],e.renderTreeData()}))}},mounted:function(){this.$emit("getDefaultOhterInfo",d)}},h=p,f=(a("dd78"),a("b978"),a("2877")),g=Object(f["a"])(h,n,i,!1,null,"4a75416d",null);t["default"]=g.exports},"0452":function(e,t,a){},"0479":function(e,t,a){"use strict";a("60dc")},"047b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"发布","append-to-body":"",visible:e.visible,"before-close":e.handleClose,width:"500px"},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"b-tip"},[e._v("确定发布【"+e._s(e.name)+"】此接口吗?")]),a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"sub-title",staticStyle:{width:"80px"}},[e._v("备注：")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入备注"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.confirmPublish}},[e._v("确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取 消")])],1)])},i=[],r=(a("c5f6"),a("708f")),o={name:"publish-dialog",data:function(){return{loading:!1,remark:""}},props:{visible:{type:Boolean,default:!1},name:{type:String,default:"*"},id:{type:[String,Number],required:!0},callback:{type:Function}},watch:{visible:function(e){e||(this.remark="")}},methods:{confirmPublish:function(){var e=this;if(this.id)return this.loading=!0,Object(r["k"])({id:this.id,remark:this.remark}).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("发布成功"),e.$emit("update:visible",!1)})).finally((function(){e.loading=!1}));this.$message.error("信息错误，请重新选择！")},handleClose:function(e){this.$emit("update:visible",!1),e&&e()}}},s=o,l=(a("8138"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"47ee163f",null);t["default"]=c.exports},"04a6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"auth-detail"},[a("el-card",{staticClass:"main"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.name?a("el-tag",[e._v(e._s(e.form.name))]):e._e(),e._v(" \r\n          "),a("b",[e._v(e._s(e.title))])],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("基础信息")]),a("el-form",{ref:"form",attrs:{disabled:e.disabled,model:e.form,rules:e.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入 名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("文档列表")]),e.showApi?a("api",{ref:"api",attrs:{data:e.openDocs,disabled:e.disabled},on:{"update:data":function(t){e.openDocs=t}}}):e._e(),e.disabled?e._e():a("footer",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check",loading:e.loading},on:{click:e.submitHandle}},[e._v(" 确 定 ")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.cancel}},[e._v(" 取 消 ")])],1)],1)],1)},i=[];a("6762"),a("2fdb");function r(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}function o(e,t){if(null==e)return{};var a,n,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}a("96cf");var s=a("1da1"),l=(a("ac6a"),a("5df3"),a("2620")),c=a("f38d"),u=["openDocs"],d={components:{api:c["default"]},data:function(){return{form:{},rules:{name:[{required:!0,message:"必填",trigger:"blur"}]},loading:!1,disabled:!1,activeTab:"api",openDocs:[],showApi:!1}},computed:{title:function(){var e="";switch(this.type){case"add":e="新增文档集";break;case"edit":e="修改文档集";break;case"view":e="文档集详情";break}return e},type:function(){return this.$route.query.type},id:function(){return this.$route.query.id}},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(a(),this.init())},methods:{submitHandle:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a=[e.$refs.api.validate()];Promise.all(a).then((function(){e.saveHandle()})).catch((function(t){e.$message.warning(t)}))}}))},handleParam:function(){this.$refs.api.emitData();var e={openDocs:this.openDocs};return Object.assign(this.form,e)},saveHandle:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="add"===this.type?l["a"]:l["e"],a=this.handleParam(),e.next=5,t(a).then((function(e){200===e.data.code?(n.$message({type:"success",message:"保存成功！"}),"add"===n.type?n.cancel():n.getDetail()):n.$message({type:"error",message:e.data.msg||"保存失败！"})}),(function(){n.loading=!1}));case 5:this.loading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDetail:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.showApi=!1,e.prev=1,e.next=4,Object(l["b"])(this.id).then((function(e){if(200===e.data.code){var a=e.data.data,n=a.openDocs,i=o(a,u);t.form=i,t.openDocs=n}else t.$message({type:"error",message:e.data.msg||"获取详情 失败！"})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0);case 9:this.showApi=!0;case 10:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/interface/collection"})},init:function(){["edit","view"].includes(this.type)?this.getDetail():this.showApi=!0,"view"===this.type&&(this.disabled=!0)}},mounted:function(){this.init()}},p=d,h=(a("e784"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,"53b1e608",null);t["default"]=f.exports},"04b4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:e.title,visible:e.drawerVisible,direction:"rtl","modal-append-to-body":!1,wrapperClosable:!1,size:"880px"},on:{"update:visible":function(t){e.drawerVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"small",disabled:e.disabled||"detail"===e.dialogType}},[a("el-form-item",{attrs:{label:"组件描述:",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"如：循环调用10次"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),a("div",{staticClass:"form-item-required"},[a("el-form-item",{attrs:{label:"循环数据源:"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"",prop:"dataSourceType"}},[a("el-select",{attrs:{placeholder:"固定值/引用值"},model:{value:e.form.dataSourceType,callback:function(t){e.$set(e.form,"dataSourceType",t)},expression:"form.dataSourceType"}},e._l(e.valueType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"",prop:"dataSource"}},["fixed"===e.form.dataSourceType?a("el-input",{attrs:{"controls-position":"right",clearable:"",placeholder:"值",min:1,oninput:"value=value.replace(/[^0-9]/g,'')",type:"number"},model:{value:e.form.dataSource,callback:function(t){e.$set(e.form,"dataSource",e._n(t))},expression:"form.dataSource"}}):a("el-input",{attrs:{placeholder:"值"},model:{value:e.form.dataSource,callback:function(t){e.$set(e.form,"dataSource",t)},expression:"form.dataSource"}})],1)],1),"ref"===e.form.dataSourceType?a("quote-tooltip",{staticClass:"tooltip"}):e._e()],1)],1),a("el-collapse",{staticClass:"info-con",attrs:{accordion:""},model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{title:"",name:"desc"}},[a("template",{slot:"title"},[a("div",{staticClass:"title"},[e._l(e.info.title,(function(t,n){return a("p",{key:n},[e._v(e._s(t))])})),a("span",{staticClass:"switch-text"},[e._v(e._s("desc"===e.activeCollapse?"收起":"展开"))])],2)]),e._l(e.info.body,(function(t,n){return a("div",{key:n,staticClass:"row"},e._l(t,(function(t,n){return a("p",{key:n},[e._v(e._s(t))])})),0)}))],2)],1)],1),a("div",{staticClass:"con"},[a("exec-break",{ref:"circleConditions",attrs:{data:e.execConditions,disabled:e.disabled||"detail"===e.dialogType,title:"循环条件",info:"条件为true时执行当次循环, 为false时跳过当次循环"},on:{"update:data":function(t){e.execConditions=t}}})],1),a("div",{staticClass:"con"},[a("exec-break",{ref:"breakConditions",attrs:{data:e.breakConditions,disabled:e.disabled||"detail"===e.dialogType,title:"退出条件",info:"条件为true时跳出循环, 退出条件在每次循环之后执行"},on:{"update:data":function(t){e.breakConditions=t}}})],1),a("footer",{staticClass:"drawer-footer"},[e.disabled||"detail"===e.dialogType?e._e():a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.drawerVisible=!1}}},[e._v(" \n      "+e._s(e.disabled||"detail"===e.dialogType?"关 闭":" 取 消")+"\n    ")])],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("5df3"),a("ade3")),o=(a("ac6a"),a("c5f6"),a("e683")),s=a("cc38"),l=a("9288");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"circle-dialog",components:{quoteTooltip:s["default"],execBreak:l["default"]},props:{visible:{type:Boolean,default:!1},disabled:Boolean,data:Object,dialogType:{type:String,default:"add",validator:function(e){return-1!==["add","detail","edit"].indexOf(e)}}},data:function(){return{activeCollapse:"",form:{type:"circle",desc:"",dataSourceType:"",dataSource:""},rules:{desc:[{required:!0,message:"请输入组件描述",trigger:"blur"}],dataSourceType:[{required:!0,message:"请选择【循环数据源】",trigger:"change"}],dataSource:[{required:!0,message:"请输入【值】",trigger:"blur"}]},valueType:o["c"],info:{title:[" 数据源是一个数组或数字(循环次数)，固定值只支持数字。","如：固定值10，引用值step1.request1.response.body.data，当数据源不为空时才执行循环；"],body:[["在请求的循环内可通stepN.requestM.item引用当次循环对象，如：","step2.request1.item.name可获取到循环对象name字段的值，数据源是数字时，item是以1开始的数字，step2.request1.index可得到当次循环对象的下标，下标从0开始","在步骤的循环内可通stepN.item引用当次循环对象，如：","step2.item.name可获取到循环对象name字段的值，数据源是数字时，item是以1开始的数字，step2.index可得到当次循环对象的下标；"],["循环调用的结果为一个数组，可通过引用值获取，如：","循环请求：","step2.request1.circle[0].response.body可得到第一次循环请求的结果，","step2.request1.circle[-1].response.body可得到前一次循环请求的结果,","step2.request1.circle[*].response.body可得到所有循环请求的响应结果;","循环步骤:","step2.circle[0].request1.response.body可得到第一次循环步骤的结果，","step2.circle[-1].request1.response.body可得到前一次循环步骤的结果,","step2.circle[*].request1.response.body可得到所有循环步骤的响应结果"]]},execConditions:[],breakConditions:[]}},computed:{drawerVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}},title:function(){var e="";switch(this.dialogType){case"add":e="新增 流程控制组件【循环组件 circle】";break;case"edit":e="编辑 流程控制组件【循环组件 circle】";break;case"detail":e="流程控制组件【循环组件 circle】 详情";break}return e}},methods:{emitData:function(){this.$emit("emitData",this.handleData())},handleData:function(){"fixed"===this.form.dataSourceType&&(this.form.dataSource=Number(this.form.dataSource));var e=[],t=[];return this.execConditions.forEach((function(t){delete t._uuid,e.push(t)})),this.breakConditions.forEach((function(e){delete e._uuid,t.push(e)})),u(u({},this.form),{},{execConditions:e,breakConditions:t})},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message({showClose:!0,message:"请完善信息！",type:"warning"}),!1;var a=[t.$refs.circleConditions.validate(),t.$refs.breakConditions.validate()];Promise.all(a).then((function(){t.emitData(),t.drawerVisible=!1})).catch((function(e){console.log(e)}))}))}},mounted:function(){this.data&&(this.form=Object.assign({},this.data),this.execConditions=Object.assign([],this.data.execConditions),this.breakConditions=Object.assign([],this.data.breakConditions))}},p=d,h=(a("1c84"),a("81d7"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,"83d19486",null);t["default"]=f.exports},"04f6":function(e,t){var a=32,n=7;function i(e){var t=0;while(e>=a)t|=1&e,e>>=1;return e+t}function r(e,t,a,n){var i=t+1;if(i===a)return 1;if(n(e[i++],e[t])<0){while(i<a&&n(e[i],e[i-1])<0)i++;o(e,t,i)}else while(i<a&&n(e[i],e[i-1])>=0)i++;return i-t}function o(e,t,a){a--;while(t<a){var n=e[t];e[t++]=e[a],e[a--]=n}}function s(e,t,a,n,i){for(n===t&&n++;n<a;n++){var r,o=e[n],s=t,l=n;while(s<l)r=s+l>>>1,i(o,e[r])<0?l=r:s=r+1;var c=n-s;switch(c){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:while(c>0)e[s+c]=e[s+c-1],c--}e[s]=o}}function l(e,t,a,n,i,r){var o=0,s=0,l=1;if(r(e,t[a+i])>0){s=n-i;while(l<s&&r(e,t[a+i+l])>0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{s=i+1;while(l<s&&r(e,t[a+i-l])<=0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s);var c=o;o=i-l,l=i-c}o++;while(o<l){var u=o+(l-o>>>1);r(e,t[a+u])>0?o=u+1:l=u}return l}function c(e,t,a,n,i,r){var o=0,s=0,l=1;if(r(e,t[a+i])<0){s=i+1;while(l<s&&r(e,t[a+i-l])<0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s);var c=o;o=i-l,l=i-c}else{s=n-i;while(l<s&&r(e,t[a+i+l])>=0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}o++;while(o<l){var u=o+(l-o>>>1);r(e,t[a+u])<0?l=u:o=u+1}return l}function u(e,t){var a,i,r=n,o=0,s=0;o=e.length;var u=[];function d(e,t){a[s]=e,i[s]=t,s+=1}function p(){while(s>1){var e=s-2;if(e>=1&&i[e-1]<=i[e]+i[e+1]||e>=2&&i[e-2]<=i[e]+i[e-1])i[e-1]<i[e+1]&&e--;else if(i[e]>i[e+1])break;f(e)}}function h(){while(s>1){var e=s-2;e>0&&i[e-1]<i[e+1]&&e--,f(e)}}function f(n){var r=a[n],o=i[n],u=a[n+1],d=i[n+1];i[n]=o+d,n===s-3&&(a[n+1]=a[n+2],i[n+1]=i[n+2]),s--;var p=c(e[u],e,r,o,0,t);r+=p,o-=p,0!==o&&(d=l(e[r+o-1],e,u,d,d-1,t),0!==d&&(o<=d?g(r,o,u,d):m(r,o,u,d)))}function g(a,i,o,s){var d=0;for(d=0;d<i;d++)u[d]=e[a+d];var p=0,h=o,f=a;if(e[f++]=e[h++],0!==--s)if(1!==i){var g,m,b,v=r;while(1){g=0,m=0,b=!1;do{if(t(e[h],u[p])<0){if(e[f++]=e[h++],m++,g=0,0===--s){b=!0;break}}else if(e[f++]=u[p++],g++,m=0,1===--i){b=!0;break}}while((g|m)<v);if(b)break;do{if(g=c(e[h],u,p,i,0,t),0!==g){for(d=0;d<g;d++)e[f+d]=u[p+d];if(f+=g,p+=g,i-=g,i<=1){b=!0;break}}if(e[f++]=e[h++],0===--s){b=!0;break}if(m=l(u[p],e,h,s,0,t),0!==m){for(d=0;d<m;d++)e[f+d]=e[h+d];if(f+=m,h+=m,s-=m,0===s){b=!0;break}}if(e[f++]=u[p++],1===--i){b=!0;break}v--}while(g>=n||m>=n);if(b)break;v<0&&(v=0),v+=2}if(r=v,r<1&&(r=1),1===i){for(d=0;d<s;d++)e[f+d]=e[h+d];e[f+s]=u[p]}else{if(0===i)throw new Error;for(d=0;d<i;d++)e[f+d]=u[p+d]}}else{for(d=0;d<s;d++)e[f+d]=e[h+d];e[f+s]=u[p]}else for(d=0;d<i;d++)e[f+d]=u[p+d]}function m(a,i,o,s){var d=0;for(d=0;d<s;d++)u[d]=e[o+d];var p=a+i-1,h=s-1,f=o+s-1,g=0,m=0;if(e[f--]=e[p--],0!==--i)if(1!==s){var b=r;while(1){var v=0,y=0,w=!1;do{if(t(u[h],e[p])<0){if(e[f--]=e[p--],v++,y=0,0===--i){w=!0;break}}else if(e[f--]=u[h--],y++,v=0,1===--s){w=!0;break}}while((v|y)<b);if(w)break;do{if(v=i-c(u[h],e,a,i,i-1,t),0!==v){for(f-=v,p-=v,i-=v,m=f+1,g=p+1,d=v-1;d>=0;d--)e[m+d]=e[g+d];if(0===i){w=!0;break}}if(e[f--]=u[h--],1===--s){w=!0;break}if(y=s-l(e[p],u,0,s,s-1,t),0!==y){for(f-=y,h-=y,s-=y,m=f+1,g=h+1,d=0;d<y;d++)e[m+d]=u[g+d];if(s<=1){w=!0;break}}if(e[f--]=e[p--],0===--i){w=!0;break}b--}while(v>=n||y>=n);if(w)break;b<0&&(b=0),b+=2}if(r=b,r<1&&(r=1),1===s){for(f-=i,p-=i,m=f+1,g=p+1,d=i-1;d>=0;d--)e[m+d]=e[g+d];e[f]=u[h]}else{if(0===s)throw new Error;for(g=f-(s-1),d=0;d<s;d++)e[g+d]=u[d]}}else{for(f-=i,p-=i,m=f+1,g=p+1,d=i-1;d>=0;d--)e[m+d]=e[g+d];e[f]=u[h]}else for(g=f-(s-1),d=0;d<s;d++)e[g+d]=u[d]}a=[],i=[],this.mergeRuns=p,this.forceMergeRuns=h,this.pushRun=d}function d(e,t,n,o){n||(n=0),o||(o=e.length);var l=o-n;if(!(l<2)){var c=0;if(l<a)return c=r(e,n,o,t),void s(e,n,o,n+c,t);var d=new u(e,t),p=i(l);do{if(c=r(e,n,o,t),c<p){var h=l;h>p&&(h=p),s(e,n,n+h,n+c,t),c=h}d.pushRun(n,c),d.mergeRuns(),l-=c,n+=c}while(0!==l);d.forceMergeRuns()}}e.exports=d},"0501":function(e,t,a){"use strict";a("fd18")},"0621":function(e,t,a){var n=a("9e69"),i=a("d370"),r=a("6747"),o=n?n.isConcatSpreadable:void 0;function s(e){return r(e)||i(e)||!!(o&&e&&e[o])}e.exports=s},"0644":function(e,t,a){var n=a("3818"),i=1,r=4;function o(e){return n(e,i|r)}e.exports=o},"0655":function(e,t,a){var n=a("8728"),i=1e-8;function r(e,t){return Math.abs(e-t)<i}function o(e,t,a){var i=0,o=e[0];if(!o)return!1;for(var s=1;s<e.length;s++){var l=e[s];i+=n(o[0],o[1],l[0],l[1],t,a),o=l}var c=e[0];return r(o[0],c[0])&&r(o[1],c[1])||(i+=n(o[0],o[1],c[0],c[1],t,a)),0!==i}t.contain=o},"069e":function(e,t,a){"use strict";a("18ba")},"06ad":function(e,t,a){var n=a("4436"),i=a("41ef"),r=a("6d8b"),o=r.isArrayLike,s=Array.prototype.slice;function l(e,t){return e[t]}function c(e,t,a){e[t]=a}function u(e,t,a){return(t-e)*a+e}function d(e,t,a){return a>.5?t:e}function p(e,t,a,n,i){var r=e.length;if(1===i)for(var o=0;o<r;o++)n[o]=u(e[o],t[o],a);else{var s=r&&e[0].length;for(o=0;o<r;o++)for(var l=0;l<s;l++)n[o][l]=u(e[o][l],t[o][l],a)}}function h(e,t,a){var n=e.length,i=t.length;if(n!==i){var r=n>i;if(r)e.length=i;else for(var o=n;o<i;o++)e.push(1===a?t[o]:s.call(t[o]))}var l=e[0]&&e[0].length;for(o=0;o<e.length;o++)if(1===a)isNaN(e[o])&&(e[o]=t[o]);else for(var c=0;c<l;c++)isNaN(e[o][c])&&(e[o][c]=t[o][c])}function f(e,t,a){if(e===t)return!0;var n=e.length;if(n!==t.length)return!1;if(1===a){for(var i=0;i<n;i++)if(e[i]!==t[i])return!1}else{var r=e[0].length;for(i=0;i<n;i++)for(var o=0;o<r;o++)if(e[i][o]!==t[i][o])return!1}return!0}function g(e,t,a,n,i,r,o,s,l){var c=e.length;if(1===l)for(var u=0;u<c;u++)s[u]=m(e[u],t[u],a[u],n[u],i,r,o);else{var d=e[0].length;for(u=0;u<c;u++)for(var p=0;p<d;p++)s[u][p]=m(e[u][p],t[u][p],a[u][p],n[u][p],i,r,o)}}function m(e,t,a,n,i,r,o){var s=.5*(a-e),l=.5*(n-t);return(2*(t-a)+s+l)*o+(-3*(t-a)-2*s-l)*r+s*i+t}function b(e){if(o(e)){var t=e.length;if(o(e[0])){for(var a=[],n=0;n<t;n++)a.push(s.call(e[n]));return a}return s.call(e)}return e}function v(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function y(e){var t=e[e.length-1].value;return o(t&&t[0])?2:1}function w(e,t,a,r,s,l){var c=e._getter,b=e._setter,w="spline"===t,_=r.length;if(_){var x,O=r[0].value,D=o(O),C=!1,k=!1,S=D?y(r):0;r.sort((function(e,t){return e.time-t.time})),x=r[_-1].time;for(var j=[],P=[],T=r[0].value,I=!0,L=0;L<_;L++){j.push(r[L].time/x);var z=r[L].value;if(D&&f(z,T,S)||!D&&z===T||(I=!1),T=z,"string"===typeof z){var $=i.parse(z);$?(z=$,C=!0):k=!0}P.push(z)}if(l||!I){var M=P[_-1];for(L=0;L<_-1;L++)D?h(P[L],M,S):!isNaN(P[L])||isNaN(M)||k||C||(P[L]=M);D&&h(c(e._target,s),M,S);var E,A,R,q,B,F,N=0,V=0;if(C)var H=[0,0,0,0];var U=function(e,t){var a;if(t<0)a=0;else if(t<V){for(E=Math.min(N+1,_-1),a=E;a>=0;a--)if(j[a]<=t)break;a=Math.min(a,_-2)}else{for(a=N;a<_;a++)if(j[a]>t)break;a=Math.min(a-1,_-2)}N=a,V=t;var n=j[a+1]-j[a];if(0!==n)if(A=(t-j[a])/n,w)if(q=P[a],R=P[0===a?a:a-1],B=P[a>_-2?_-1:a+1],F=P[a>_-3?_-1:a+2],D)g(R,q,B,F,A,A*A,A*A*A,c(e,s),S);else{if(C)i=g(R,q,B,F,A,A*A,A*A*A,H,1),i=v(H);else{if(k)return d(q,B,A);i=m(R,q,B,F,A,A*A,A*A*A)}b(e,s,i)}else if(D)p(P[a],P[a+1],A,c(e,s),S);else{var i;if(C)p(P[a],P[a+1],A,H,1),i=v(H);else{if(k)return d(P[a],P[a+1],A);i=u(P[a],P[a+1],A)}b(e,s,i)}},W=new n({target:e._target,life:x,loop:e._loop,delay:e._delay,onframe:U,ondestroy:a});return t&&"spline"!==t&&(W.easing=t),W}}}var _=function(e,t,a,n){this._tracks={},this._target=e,this._loop=t||!1,this._getter=a||l,this._setter=n||c,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};_.prototype={when:function(e,t){var a=this._tracks;for(var n in t)if(t.hasOwnProperty(n)){if(!a[n]){a[n]=[];var i=this._getter(this._target,n);if(null==i)continue;0!==e&&a[n].push({time:0,value:b(i)})}a[n].push({time:e,value:t[n]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,a=0;a<t;a++)e[a].call(this)},start:function(e,t){var a,n=this,i=0,r=function(){i--,i||n._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=w(this,e,r,this._tracks[o],o,t);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),a=s)}if(a){var l=a.onframe;a.onframe=function(e,t){l(e,t);for(var a=0;a<n._onframeList.length;a++)n._onframeList[a](e,t)}}return i||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,a=this.animation,n=0;n<t.length;n++){var i=t[n];e&&i.onframe(this._target,1),a&&a.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var x=_;e.exports=x},"06ea":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=a("eaea"),o=a("5f14"),s=a("60e3"),l=a("3842"),c=l.reformIntervals,u=r.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){u.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var a=this._mode=this._determineMode();d[this._mode].call(this),this._resetSelected(e,t);var n=this.option.categories;this.resetVisual((function(e,t){"categories"===a?(e.mappingMethod="category",e.categories=i.clone(n)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=i.map(this._pieceList,(function(e){e=i.clone(e);return"inRange"!==t&&(e.visual=null),e})))}))},completeVisualOption:function(){var e=this.option,t={},a=o.listVisualTypes(),n=this.isCategory();function l(e,t,a){return e&&e[t]&&(i.isObject(e[t])?e[t].hasOwnProperty(a):e[t]===a)}i.each(e.pieces,(function(e){i.each(a,(function(a){e.hasOwnProperty(a)&&(t[a]=1)}))})),i.each(t,(function(t,a){var r=0;i.each(this.stateList,(function(t){r|=l(e,t,a)||l(e.target,t,a)}),this),!r&&i.each(this.stateList,(function(t){(e[t]||(e[t]={}))[a]=s.get(a,"inRange"===t?"active":"inactive",n)}))}),this),r.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var a=this.option,n=this._pieceList,r=(t?a:e).selected||{};if(a.selected=r,i.each(n,(function(e,t){var a=this.getSelectedMapKey(e);r.hasOwnProperty(a)||(r[a]=!0)}),this),"single"===a.selectedMode){var o=!1;i.each(n,(function(e,t){var a=this.getSelectedMapKey(e);r[a]&&(o?r[a]=!1:o=!0)}),this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=i.clone(e)},getValueState:function(e){var t=o.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(a){var n=[],i=a.getData();i.each(this.getDataDimension(i),(function(t,a){var i=o.findPieceIndex(t,this._pieceList);i===e&&n.push(a)}),this),t.push({seriesId:a.id,dataIndex:n})}),this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var a=e.interval||[];t=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],a=[],n=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),o=r[r.length-1].interval[1],o!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var s=-1/0;return i.each(r,(function(e){var t=e.interval;t&&(t[0]>s&&l([s,t[0]],"outOfRange"),l(t.slice()),s=t[1])}),this),{stops:t,outerColors:a}}function l(i,r){var o=n.getRepresentValue({interval:i});r||(r=n.getValueState(o));var s=e(o,r);i[0]===-1/0?a[0]=s:i[1]===1/0?a[1]=s:t.push({value:i[0],color:s},{value:i[1],color:s})}}}),d={splitNumber:function(){var e=this.option,t=this._pieceList,a=Math.min(e.precision,20),n=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;var o=(n[1]-n[0])/r;while(+o.toFixed(a)!==o&&a<5)a++;e.precision=a,o=+o.toFixed(a),e.minOpen&&t.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,l=n[0];s<r;l+=o,s++){var u=s===r-1?n[1]:l+o;t.push({interval:[l,u],close:[1,1]})}e.maxOpen&&t.push({interval:[n[1],1/0],close:[0,0]}),c(t),i.each(t,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(){var e=this.option;i.each(e.categories,(function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})}),this),p(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;i.each(e.pieces,(function(e,a){i.isObject(e)||(e={value:e});var n={text:"",index:a};if(null!=e.label&&(n.text=e.label),e.hasOwnProperty("value")){var r=n.value=e.value;n.interval=[r,r],n.close=[1,1]}else{for(var s=n.interval=[],l=n.close=[0,0],c=[1,0,1],u=[-1/0,1/0],d=[],p=0;p<2;p++){for(var h=[["gte","gt","min"],["lte","lt","max"]][p],f=0;f<3&&null==s[p];f++)s[p]=e[h[f]],l[p]=c[f],d[p]=2===f;null==s[p]&&(s[p]=u[p])}d[0]&&s[1]===1/0&&(l[0]=0),d[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(n.value=s[0])}n.visual=o.retrieveVisuals(e),t.push(n)}),this),p(e,t),c(t),i.each(t,(function(e){var t=e.close,a=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,a)}),this)}};function p(e,t){var a=e.inverse;("vertical"===e.orient?!a:a)&&t.reverse()}var h=u;e.exports=h},"07c7":function(e,t){function a(){return!1}e.exports=a},"07d3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"json-schema-table"},[a("el-table",{ref:"jsonTable",staticClass:"json-table",attrs:{"row-key":"id",size:e.size,data:e.tableData,"cell-class-name":e.setCellClass,border:"","default-expand-all":""}},[a("el-table-column",{attrs:{prop:"name",label:"参数名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"scope-box",attrs:{size:e.size,disabled:e.disabled,placeholder:"参数名"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e.propType?e._e():[a("el-table-column",{attrs:{label:"类型",width:"121"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.root?a("el-select",{attrs:{size:e.size,disabled:e.disabled,placeholder:"类型",filterable:""},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},e._l(e.rootTypeOptions,(function(t){return e.rootNode&&e.rootNode===t.value?a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}}):e._e()})),1):e.propTypeOptions?a("el-select",{attrs:{size:e.size,disabled:e.disabled,placeholder:"类型",filterable:""},on:{change:function(a){return e.handleSelect(t.row)}},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},e._l(e.propTypeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):a("el-select",{attrs:{size:e.size,disabled:e.disabled,placeholder:"类型",filterable:""},on:{change:function(a){return e.handleSelect(t.row)}},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}],null,!1,1565571909)})],a("el-table-column",{attrs:{label:"必填",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{disabled:e.disabled||t.row.root},model:{value:t.row.required,callback:function(a){e.$set(t.row,"required",a)},expression:"scope.row.required"}})]}}])}),a("el-table-column",{attrs:{prop:"title",label:"中文标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"中文标题"},model:{value:t.row.title,callback:function(a){e.$set(t.row,"title",a)},expression:"scope.row.title"}})]}}])}),a("el-table-column",{attrs:{prop:"titleEn",label:"英文标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"英文标题"},model:{value:t.row.titleEn,callback:function(a){e.$set(t.row,"titleEn",a)},expression:"scope.row.titleEn"}})]}}])}),a("el-table-column",{attrs:{label:"说明"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"说明"},model:{value:t.row.description,callback:function(a){e.$set(t.row,"description",a)},expression:"scope.row.description"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:e.hasAddChildren?"220px":"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasAddChildren?[a("el-tooltip",{attrs:{content:"为Object或Array添加子层级的参数",placement:"top-start"}},[a("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(a){return e.handleAddChildren(t.row)}}},[e._v("添加子字段\n            ")])],1)]:e._e(),a("el-tooltip",{attrs:{content:"为参数补充更详细的信息",placement:"top-start"}},[a("el-button",{attrs:{size:e.size,type:"text"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("更多设置\n          ")])],1),t.row.root?e._e():[a("el-tooltip",{attrs:{content:"插入新的参数",placement:"top-start"}},[a("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("插入\n            ")])],1)],a("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])}),a("template",{slot:"empty"},[a("div",{staticStyle:{padding:"20px"}},[a("avue-empty"),a("el-button",{attrs:{type:"primary",size:e.size,disabled:e.disabled},on:{click:function(t){return e.initTableData()}}},[e._v("新增数据")])],1)])],2),a("el-dialog",{staticClass:"json-schema-dialog",attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[a("el-table",{attrs:{data:e.detailData,size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"参数名"}}),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"121"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.formatType(t.row.type))+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"required",label:"必填",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.required?"是":"否")+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"title",label:"中文标题"}}),a("el-table-column",{attrs:{prop:"titleEn",label:"英文标题"}}),a("el-table-column",{attrs:{prop:"description",label:"说明"}})],1),a("el-form",{ref:"detailForm",attrs:{model:e.detailForm,rules:e.rules,size:"small",disabled:e.disabled,"label-width":"100px"}},[e.showMoreRule?[a("el-form-item",{attrs:{label:"长度限制",prop:"length"}},[a("el-input-number",{attrs:{placeholder:"最小长度","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.minLength,callback:function(t){e.$set(e.detailForm,"minLength",t)},expression:"detailForm.minLength"}}),a("span",[e._v(" ~ ")]),a("el-input-number",{attrs:{placeholder:"最大长度","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.maxLength,callback:function(t){e.$set(e.detailForm,"maxLength",t)},expression:"detailForm.maxLength"}})],1),a("el-form-item",{attrs:{label:"格式限制",prop:"format"}},[a("el-select",{attrs:{placeholder:"格式限制",filterable:"",clearable:""},model:{value:e.detailForm.format,callback:function(t){e.$set(e.detailForm,"format",t)},expression:"detailForm.format"}},e._l(e.formatOptions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"正则限制",prop:"pattern"}},[a("el-input",{attrs:{placeholder:"正则限制",clearable:""},model:{value:e.detailForm.pattern,callback:function(t){e.$set(e.detailForm,"pattern",t)},expression:"detailForm.pattern"}})],1)]:e._e(),"number"===e.detailForm.type||"integer"===e.detailForm.type?[a("el-form-item",{attrs:{label:"数值范围",prop:"length"}},[a("el-input-number",{attrs:{placeholder:"最小值","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.minimum,callback:function(t){e.$set(e.detailForm,"minimum",t)},expression:"detailForm.minimum"}}),a("span",[e._v(" ~ ")]),a("el-input-number",{attrs:{placeholder:"最大值","controls-position":"right",min:0,precision:0},model:{value:e.detailForm.maximum,callback:function(t){e.$set(e.detailForm,"maximum",t)},expression:"detailForm.maximum"}})],1)]:e._e(),a("el-form-item",{attrs:{label:"参数值可能性",prop:"enum"}},[e._l(e.detailForm.enum,(function(t){return a("el-tag",{key:t,attrs:{"disable-transitions":!1,closable:""},on:{close:function(a){return e.handleClose(t)}}},[e._v("\n          "+e._s(t)+"\n        ")])})),e.tagInputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}},model:{value:e.tagInputValue,callback:function(t){e.tagInputValue=t},expression:"tagInputValue"}}):a("el-button",{attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 新枚举值")])],2),"array"!==e.detailForm.type||e.detailForm.children&&e.detailForm.children.length?e._e():[a("el-form-item",{attrs:{label:"子字段类型",prop:"subtype"}},[a("el-select",{attrs:{placeholder:"子字段类型",filterable:"",clearable:""},model:{value:e.detailForm.items.type,callback:function(t){e.$set(e.detailForm.items,"type",t)},expression:"detailForm.items.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]],2),e.disabled?e._e():a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitDetail}},[e._v("提 交\n      ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1)],1)],1)},i=[],r=(a("8e6e"),a("20d6"),a("4f7f"),a("5df3"),a("1c4c"),a("7f7f"),a("ade3")),o=(a("456d"),a("ac6a"),a("6b54"),a("c54a")),s=a("307b");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function e(t,a){var n=t.children;if(n&&n.length){for(var i,r=0;r<n.length;r++){if(n[r].id===a)return i=t,i;if(n[r].children&&n[r].children.length&&(i=e(n[r],a),i))return i}return i}},d={name:"json-schema-table",data:function(){return{tableData:[],typeOptions:[{value:"string",label:"string"},{value:"array",label:"array"},{value:"object",label:"object"},{value:"integer",label:"integer"},{value:"number",label:"number"},{value:"boolean",label:"boolean"}],rootTypeOptions:[{value:"object",label:"object"},{value:"array",label:"array"}],formatOptions:["date-time","time","date","email","ipv4","ipv6","uri"],id:1,detailDialog:{visible:!1,title:"详情",loading:!1},detailData:[],detailForm:{},tagInputVisible:!1,tagInputValue:""}},props:{disabled:{type:Boolean},size:{type:String,default:"mini"},rootType:{type:String},rootNode:{type:String},propType:{type:[String,Array]},propTypeOptions:{type:Array},data:{type:Object},subfields:{type:Boolean,default:!0},isHeaderParams:{type:Boolean,default:!1}},computed:{hasAddChildren:function(){return this.subfields&&!this.propType},showMoreRule:function(){return this.propType&&Array.isArray(this.propType)?this.propType.toString()===["array","string"].toString():"string"===this.detailForm.type}},watch:{data:{deep:!0,handler:function(){this.jsonToTableHandler()}}},created:function(){this.jsonToTableHandler()},methods:{formatType:function(e){return e instanceof Array?e.join(" / "):this.propType&&this.propType instanceof Array?this.propType.join(" / "):e},initTableData:function(){this.isHeaderParams?this.tableData=[{root:!!this.rootNode,required:!0,description:"",oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]}]:this.tableData=[{id:this.id++,name:"",root:!!this.rootNode,type:this.propType||this.rootNode||"string",required:!0,description:""}]},emitData:function(){var e=this.tableToJsonHandler();this.$emit("change",e),this.$emit("update:data",e)},jsonDataFilter:function(e){var t=this,a=[],n=e.items&&e.items.properties||e.properties,i=e.childRequired||e.items&&e.items.required||e.required;return n&&Object.keys(n).forEach((function(e){var r=Object.assign({name:e,id:t.id++},n[e]);if(Object(o["b"])(r.required)&&(r.childRequired=r.required),Object(o["b"])(r.type)){var s=r.type.indexOf("null");s>-1&&r.type.splice(s,1),1===r.type.length&&(r.type=r.type[0])}r.required=!(!Object(o["b"])(i)||!i.some((function(t){return t===e}))),(r.properties||r.items&&r.items.properties)&&(r.children=t.jsonDataFilter(r),delete r.items,delete r.properties,delete r.childRequired),a.push(r)})),a},jsonToTableHandler:function(){var e={},t=this.data.properties,a={};this.isHeaderParams?t&&Object.keys(t).forEach((function(e){t[e]&&(a[e]=c(c({},t[e]),t[e].items),a[e].type=["array","string"],delete a[e].oneOf)})):t&&Object.keys(t).forEach((function(e){t[e]&&(a[e]=Object(s["a"])(c(c({},t[e].items),t[e])),t[e].items&&"string"===t[e].items.type&&(Array.isArray(t[e].type)?a[e].type.push("string"):a[e].type=[t[e].type,"string"],delete a[e].items),delete a[e].oneOf)})),e=Object(s["a"])(Object.assign({},this.data,{properties:a})),this.isEmptyObj(e)?this.initTableData():(this.tableData=this.jsonDataFilter(e),this.rootNode&&this.tableData[0]&&(this.tableData[0].root=!0))},tableDataFilter:function(e){for(var t={},a=[],n=[],i=0;i<e.length;i++){var r=e[i];if(r.name){if(t.hasOwnProperty(r.name)&&n.push(r.name),t[r.name]=Object.assign({},r),r.children&&r.children.length>0){var s=this.tableDataFilter(r.children);t[r.name].properties=s.properties||s,t[r.name].required=s.required||[]}if("array"===t[r.name].type&&(this.isEmptyObj(t[r.name].properties)||(t[r.name].items={type:"object",properties:t[r.name].properties,required:t[r.name].required}),delete t[r.name].properties,delete t[r.name].required),r.required)a.push(r.name);else if(Object(o["b"])(t[r.name].type)){var l=["null"];l=l.concat(t[r.name].type),t[r.name].type=Array.from(new Set(l))}else if(t[r.name].type){var c=["null"];c.push(t[r.name].type),t[r.name].type=c}delete t[r.name].id,delete t[r.name].name,delete t[r.name].root,delete t[r.name].children,Object(o["b"])(t[r.name].required)||delete t[r.name].required}}return n&&n.length&&this.$message.warning("请注意参数[".concat(n.join(","),"]重复，后值覆盖前值")),{properties:t,required:a}},tableToJsonHandler:function(){if(this.tableData.map((function(e){return e.enum&&0===e.enum.length&&delete e.enum,e})),this.isHeaderParams){var e=["minLength","maxLength","pattern","format","enum"];this.tableData.map((function(t){var a={type:"string"};return e.forEach((function(e){t.hasOwnProperty(e)&&(a[e]=t[e],delete t[e],t.items&&delete t.items)})),t.type="array",t.items=a,delete t.oneOf,t}))}else if(this.propType&&this.propType.toString()===["array","string"].toString()){var t=["minLength","maxLength","pattern","format","enum"];this.tableData.map((function(e){var a={};return t.forEach((function(t){e.hasOwnProperty(t)&&(a[t]=e[t],e.items&&delete e.items)})),e.items=a,delete e.oneOf,e}))}var a=Object.assign({},this.tableDataFilter(this.tableData)),n=!a.required.length;return"array"===this.rootType?a={type:n?["array","null"]:["array"],items:Object.assign({type:"object"},a)}:"object"===this.rootType?a.type=n?["object","null"]:["object"]:a.type=n?["object","array","null"]:["object","array"],a},handleAdd:function(e){var t={id:this.id++,name:"",type:this.propType||"string",description:"",required:!0},a=u({id:0,children:this.tableData},e.id),n=a.children.findIndex((function(t){return t.id===e.id}));a.children.splice(n,0,t)},handleAddChildren:function(e){var t={id:this.id++,name:"",type:"string",description:"",required:!0};e.children||this.$set(e,"children",[]),"object"!==e.type&&"array"!==e.type&&this.$set(e,"type","object"),e.children.push(t)},handleDelete:function(e){var t=u({id:0,children:this.tableData},e.id),a=t.children.findIndex((function(t){return t.id===e.id}));t.children.splice(a,1)},handleSelect:function(e){!this.rootTypeOptions.some((function(t){return t.value===e.type}))&&e.children&&this.$set(e,"children",[])},handleEdit:function(e){this.detailData=[],this.detailData.push(e),this.detailForm=Object.assign({enum:[],items:{}},e),this.detailDialog.visible=!0},submitDetail:function(){var e=this;this.detailForm.enum.length||delete this.detailForm.enum,this.detailForm.items.type||delete this.detailForm.items.type;var t=u({id:0,children:this.tableData},this.detailForm.id),a=t.children.findIndex((function(t){return t.id===e.detailForm.id}));t.children[a]=Object.assign(t.children[a],this.detailForm),this.detailDialog.visible=!1},handleClose:function(e){this.detailForm.enum.splice(this.detailForm.enum.indexOf(e),1)},showInput:function(){var e=this;this.tagInputVisible=!0,this.$nextTick((function(){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){this.tagInputValue&&this.detailForm.enum.push(this.tagInputValue),this.tagInputVisible=!1,this.tagInputValue=""},isEmptyObj:function(e){var t=Object.assign({},e);return"{}"===JSON.stringify(t)},setCellClass:function(e){var t=e.columnIndex;if(0===t)return"flex-cell"}}},p=d,h=(a("a50b"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports},"07d7":function(e,t,a){var n=a("6d8b"),i=a("41ef"),r=a("607d"),o=a("65ed"),s=a("22d1"),l=a("eda2"),c=n.each,u=l.toCamelCase,d=["","-webkit-","-moz-","-o-"],p="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function h(e){var t="cubic-bezier(0.23, 1, 0.32, 1)",a="left "+e+"s "+t+",top "+e+"s "+t;return n.map(d,(function(e){return e+"transition:"+a})).join(";")}function f(e){var t=[],a=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont());var i=e.get("lineHeight");null==i&&(i=Math.round(3*a/2)),a&&t.push("line-height:"+i+"px");var r=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+r),c(["decoration","align"],(function(a){var n=e.get(a);n&&t.push("text-"+a+":"+n)})),t.join(";")}function g(e){var t=[],a=e.get("transitionDuration"),n=e.get("backgroundColor"),r=e.getModel("textStyle"),o=e.get("padding");return a&&t.push(h(a)),n&&(s.canvasSupported?t.push("background-Color:"+n):(t.push("background-Color:#"+i.toHex(n)),t.push("filter:alpha(opacity=70)"))),c(["width","color","radius"],(function(a){var n="border-"+a,i=u(n),r=e.get(i);null!=r&&t.push(n+":"+r+("color"===a?"":"px"))})),t.push(f(r)),null!=o&&t.push("padding:"+l.normalizeCssArray(o).join("px ")+"px"),t.join(";")+";"}function m(e,t,a,n,i){var r=t&&t.painter;if(a){var s=r&&r.getViewportRoot();s&&o.transformLocalCoord(e,s,document.body,n,i)}else{e[0]=n,e[1]=i;var l=r&&r.getViewportRootOffset();l&&(e[0]+=l.offsetLeft,e[1]+=l.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function b(e,t,a){if(s.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),o=this._appendToBody=a&&a.appendToBody;this._styleCoord=[0,0,0,0],m(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),o?document.body.appendChild(n):e.appendChild(n),this._container=e,this._show=!1,this._hideTimeout;var l=this;n.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!l._enterable){var t=i.handler,a=i.painter.getViewportRoot();r.normalizeEvent(a,e,!0),t.dispatch("mousemove",e)}},n.onmouseleave=function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}}b.prototype={constructor:b,_enterable:!0,update:function(e){var t=this._container,a=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==a.position&&(n.position="relative");var i=e.get("alwaysShowContent");i&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],a=e*this._zr.getWidth(),n=t*this._zr.getHeight();this.moveTo(a,n)},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,a=this._styleCoord;t.style.cssText=p+g(e)+";left:"+a[0]+"px;top:"+a[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var a=this._styleCoord;m(a,this._zr,this._appendToBody,e,t);var n=this.el.style;n.left=a[0]+"px",n.top=a[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(this.el);a&&(e+=parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10),t+=parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10))}return{width:e,height:t}}};var v=b;e.exports=v},"087d":function(e,t){function a(e,t){var a=-1,n=t.length,i=e.length;while(++a<n)e[i+a]=t[a];return e}e.exports=a},"095a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("basic-container",{staticClass:"info-con"},[a("el-tabs",{staticClass:"tab-con",on:{"tab-click":e.handleClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"个人信息",name:"info"}},[a("el-form",{ref:"infoForm",staticClass:"form",attrs:{model:e.infoForm,rules:e.infoRules,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"姓名",prop:"realName"}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入 姓名"},model:{value:e.infoForm.realName,callback:function(t){e.$set(e.infoForm,"realName",t)},expression:"infoForm.realName"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入 昵称"},model:{value:e.infoForm.name,callback:function(t){e.$set(e.infoForm,"name",t)},expression:"infoForm.name"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入 手机号"},model:{value:e.infoForm.phone,callback:function(t){e.$set(e.infoForm,"phone",t)},expression:"infoForm.phone"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入 邮箱"},model:{value:e.infoForm.email,callback:function(t){e.$set(e.infoForm,"email",t)},expression:"infoForm.email"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"修改密码",name:"password"}},[a("el-form",{ref:"passForm",staticClass:"form",attrs:{model:e.passForm,rules:e.passRules,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"原密码",prop:"oldPassword"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入 原密码"},model:{value:e.passForm.oldPassword,callback:function(t){e.$set(e.passForm,"oldPassword",t)},expression:"passForm.oldPassword"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入 新密码"},model:{value:e.passForm.newPassword,callback:function(t){e.$set(e.passForm,"newPassword",t)},expression:"passForm.newPassword"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"newPassword1"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入 确认密码"},model:{value:e.passForm.newPassword1,callback:function(t){e.$set(e.passForm,"newPassword1",t)},expression:"passForm.newPassword1"}})],1)],1)],1)],1),a("footer",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{icon:"el-icon-check",type:"primary",size:"small",loading:e.loading},on:{click:e.handleSubmit}},[e._v("提 交")]),a("el-button",{attrs:{icon:"el-icon-delete",size:"small"},on:{click:e.handleReset}},[e._v("清 空")])],1)],1)],1)},i=[],r=(a("96cf"),a("1da1")),o=(a("7f7f"),a("c54a")),s=a("c0c7"),l=function(e,t,a){t?Object(o["g"])(t)?a():a(new Error("密码必须包含大小写字母、数字")):a(new Error("请输入密码"))},c=function(e,t,a){t&&!Object(o["h"])(t)?a(new Error("请填写正确的邮箱")):a()},u={data:function(){return{loading:!1,activeTab:"info",infoForm:{},infoRules:{realName:[{required:!0,message:"姓名不能为空",trigger:"blur"}],name:[{required:!0,message:"昵称不能为空",trigger:"blur"}],email:[{validator:c,trigger:"blur"}]},passForm:{},passRules:{oldPassword:[{required:!0,message:"原密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{validator:l,trigger:"blur"},{min:6,message:"密码长度至少6个字符",trigger:"blur"}],newPassword1:[{required:!0,message:"确认密码不能为空",trigger:"blur"}]}}},methods:{handleClick:function(e){this.activeTab=e.name||"info",this.handleWitch()},handleWitch:function(){var e=this;"info"===this.activeTab&&Object(s["c"])().then((function(t){var a=t.data.data,n=a.id,i=a.avatar,r=a.name,o=a.realName,s=a.phone,l=a.email;e.infoForm={id:n,avatar:i,name:r,realName:o,phone:s,email:l}}))},infoSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(s["h"])(this.infoForm).then((function(e){e.data.success?t.$message({type:"success",message:"修改信息成功!"}):t.$message({type:"error",message:e.data.msg})}),(function(){t.loading=!1}));case 3:this.loading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),passSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.passForm.newPassword===this.passForm.newPassword1){e.next=3;break}return this.$message({type:"error",message:"两次输入密码不一致!"}),e.abrupt("return");case 3:return this.loading=!0,e.next=6,Object(s["i"])(this.passForm.oldPassword,this.passForm.newPassword,this.passForm.newPassword1).then((function(e){e.data.success?t.$message({type:"success",message:"修改密码成功!"}):t.$message({type:"error",message:e.data.msg})}),(function(){t.loading=!1}));case 6:this.loading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSubmit:function(){var e=this;"info"===this.activeTab?this.$refs["infoForm"].validate((function(t){t&&e.infoSubmit()})):this.$refs["passForm"].validate((function(t){t&&e.passSubmit()}))},handleReset:function(){"info"===this.activeTab?(this.infoForm.name="",this.infoForm.phone="",this.infoForm.email=""):this.$refs.passForm.resetFields()}},created:function(){this.handleWitch()}},d=u,p=(a("68af"),a("2877")),h=Object(p["a"])(d,n,i,!1,null,null,null);t["default"]=h.exports},"0983":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen,"before-close":e.beforeClose},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"isSealed",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(0===n.isSealed?"否":"是"))])]}},{key:"menu",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-check",size:"small"},on:{click:function(a){return a.stopPropagation(),e.handleAdd(t.row,t.index)}}},[e._v("新增子项\n      ")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permission.dict_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("7754"),s=a("5880");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={data:function(){return{form:{},selectionList:[],query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:300,dialogWidth:880,column:[{label:"字典编号",prop:"code",search:!0,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"上级字典",prop:"parentId",type:"tree",dicData:[],hide:!0,props:{label:"title"},rules:[{required:!1,message:"请选择上级字典",trigger:"click"}]},{label:"字典键值",prop:"dictKey",type:"number",rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"select",dicData:[{label:"否",value:0},{label:"是",value:1}],slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",search:!0,hide:!0}]},data:[]}},computed:c(c({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),viewBtn:this.vaildData(this.permission.dict_view,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),mounted:function(){var e=this;Object(o["d"])().then((function(t){var a=e.findObject(e.optionChild.column,"parentId");a.dicData=t.data.data}))},methods:{handleAdd:function(e){this.$refs.crud.value.code=e.code,this.$refs.crud.value.parentId=e.id,this.$refs.crud.option.column.filter((function(t){"code"===t.prop&&(t.value=e.code,t.addDisabled=!0),"parentId"===t.prop&&(t.value=e.id,t.addDisabled=!0)})),this.$refs.crud.rowAdd()},rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["i"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["c"])(this.form.id).then((function(e){a.form=e.data.data})),e()},beforeClose:function(e){this.$refs.crud.value.code="",this.$refs.crud.value.parentId="",this.$refs.crud.value.addDisabled=!1,this.$refs.crud.option.column.filter((function(e){"code"===e.prop&&(e.value="",e.addDisabled=!1),"parentId"===e.prop&&(e.value="",e.addDisabled=!1)})),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["f"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))}}},d=u,p=a("2877"),h=Object(p["a"])(d,n,i,!1,null,null,null);t["default"]=h.exports},"09a8":function(e,t,a){},"09e0f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,page:e.page,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permission.param_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("ade3")),o=a("b5c6"),s=a("da71");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(e,t,a){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/param/list"),method:"get",params:c(c({},a),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/param/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/param/submit"),method:"post",data:e})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/param/submit"),method:"post",data:e})},f=a("5880");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={data:function(){return{form:{},selectionList:[],query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,selection:!0,viewBtn:!0,dialogClickModal:!1,column:[{label:"参数名称",prop:"paramName",search:!0,span:24,rules:[{required:!0,message:"请输入参数名称",trigger:"blur"}]},{label:"参数键名",prop:"paramKey",search:!0,span:24,rules:[{required:!0,message:"请输入参数键名",trigger:"blur"}]},{label:"参数键值",prop:"paramValue",type:"textarea",span:24,minRows:6,rules:[{required:!0,message:"请输入参数键值",trigger:"blur"}]}]},data:[]}},computed:m(m({},Object(f["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.param_add,!1),viewBtn:this.vaildData(this.permission.param_view,!1),delBtn:this.vaildData(this.permission.param_delete,!1),editBtn:this.vaildData(this.permission.param_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,a){var n=this;p(e).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;h(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},v=b,y=a("2877"),w=Object(y["a"])(v,n,i,!1,null,null,null);t["default"]=w.exports},"0a0b":function(e,t,a){"use strict";a("2c36")},"0a6a":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return h}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/registry-config/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/registry-config/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/registry-config/save"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/registry-config/update"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/registry-config/detail/").concat(e),method:"get"})},h=function(){return Object(i["a"])({url:"".concat(r["a"],"/registry-config/registry-name-list"),method:"get"})}},"0a77":function(e,t,a){"use strict";a("79a5")},"0a91":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("api-header",{attrs:{"service-name":e.serviceName,"group-name":e.groupName,"page-name":e.pageName}})],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("基础信息")]),a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,size:"small",disabled:e.disabled,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"网关分组：",prop:"gatewayGroup"}},[a("el-select",{attrs:{placeholder:"请选择网关分组",filterable:"",clearable:""},model:{value:e.formData.gatewayGroup,callback:function(t){e.$set(e.formData,"gatewayGroup",t)},expression:"formData.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"回调方式：",prop:"callbackType"}},[a("el-radio-group",{model:{value:e.formData.callbackType,callback:function(t){e.$set(e.formData,"callbackType",t)},expression:"formData.callbackType"}},e._l(e.callbackMode,(function(t,n){return a("el-radio",{key:n,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"访问：",prop:"access"}},[a("el-radio-group",{model:{value:e.formData.access,callback:function(t){e.$set(e.formData,"access",t)},expression:"formData.access"}},e._l(e.accessType,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),"a"===e.formData.callbackType?[e._l(e.formData.callbackRespHeaders,(function(t,n){return a("div",{key:n,staticClass:"multiple-config"},[a("el-form-item",{attrs:{label:"响应头"+(n+1)+"：",prop:"callbackRespHeaders."+n+".key",rules:{required:!0,message:"字段名不能为空",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"字段名（例：content-type",clearable:""},model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"item.key"}})],1),a("el-form-item",{attrs:{"label-width":"10px",prop:"callbackRespHeaders."+n+".value",rules:{required:!0,message:"字段值不能为空",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"字段值（例：application/json",clearable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1),a("div",[n?e._e():a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addHeaders()}}}),n?a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteRow(n,e.formData.callbackRespHeaders)}}}):e._e()],1)],1)})),a("el-form-item",{attrs:{label:"响应体：",prop:"callbackRespBody"}},[a("el-input",{staticClass:"lg-input",attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"例：{ ''name'': ''wei'' }",clearable:""},model:{value:e.formData.callbackRespBody,callback:function(t){e.$set(e.formData,"callbackRespBody",t)},expression:"formData.callbackRespBody"}})],1)]:e._e(),a("el-form-item",{attrs:{label:"请求方法：",prop:"method"}},[a("el-select",{attrs:{placeholder:"请选择请求方法",clearable:""},model:{value:e.formData.method,callback:function(t){e.$set(e.formData,"method",t)},expression:"formData.method"}},e._l(e.apiMethod,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"前端服务名：",prop:"service"}},[a("el-input",{attrs:{placeholder:"请输入服务名",clearable:""},model:{value:e.formData.service,callback:function(t){e.$set(e.formData,"service",t)},expression:"formData.service"}})],1),a("el-form-item",{attrs:{label:"前端路径：",prop:"path"}},[a("el-input",{staticClass:"lg-input",attrs:{placeholder:"请输入前端路径",clearable:""},model:{value:e.formData.path,callback:function(t){e.$set(e.formData,"path",t)},expression:"formData.path"}}),a("div",{staticClass:"key-tips"},[e._v("调用方访问路径，不支持模糊匹配，如：/member/getMebInfo")])],1),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addBackendConfig()}}},[e._v("新增后端订阅者")]),e._l(e.formData.callbackReceivers,(function(t,n){return a("div",{key:n,staticClass:"multiple-config"},[a("el-form-item",{attrs:{label:"【后端订阅者"+(n+1)+"】类型：","label-width":"180px",required:""}},[a("el-radio-group",{on:{change:function(a){return e.changeType(t)}},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"item.type"}},[a("el-radio",{attrs:{label:1}},[e._v("服务编排")]),a("el-radio",{attrs:{label:2}},[e._v("服务发现")])],1)],1),2===t.type?a("el-form-item",{attrs:{label:"注册中心：","label-width":"92px",prop:"callbackReceivers."+n+".registryName",rules:[{required:!0,message:"注册中心不能为空",trigger:"change"}]}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择 注册中心",clearable:""},on:{change:function(a){return e.changeRegister(t)}},model:{value:t.registryName,callback:function(a){e.$set(t,"registryName",a)},expression:"item.registryName"}},e._l(e.registerList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"服务名：","label-width":"80px",prop:"callbackReceivers."+n+".service",rules:{required:!0,message:"服务名不能为空",trigger:"change"}}},[1===t.type?[a("el-select",{attrs:{filterable:"",placeholder:"请选择服务名",clearable:""},model:{value:t.service,callback:function(a){e.$set(t,"service",a)},expression:"item.service"}},e._l(e.aggregateServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]:2===t.type?[a("el-select",{attrs:{filterable:"",placeholder:"请选择服务名",clearable:""},model:{value:t.service,callback:function(a){e.$set(t,"service",a)},expression:"item.service"}},e._l(e.registerMap[t.registryName],(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]:e._e()],2),a("el-form-item",{attrs:{label:"路径：","label-width":"80px",prop:"callbackReceivers."+n+".path",rules:[{required:!0,message:"路径不能为空",trigger:"blur"},{pattern:/^(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,message:"请填写正确的路径",trigger:"blur"}]}},[a("el-input",{staticClass:"backend-path",attrs:{placeholder:"转发目标路径，不支持模糊匹配",clearable:""},model:{value:t.path,callback:function(a){e.$set(t,"path",a)},expression:"item.path"}})],1),a("div",[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteRow(n,e.formData.callbackReceivers)}}})],1)],1)})),a("el-form-item",{attrs:{label:"调用方(appID)：",prop:"appEnabled"}},[a("el-checkbox",{model:{value:e.formData.appEnabled,callback:function(t){e.$set(e.formData,"appEnabled",t)},expression:"formData.appEnabled"}},[e._v("启用")]),a("div",{staticClass:"key-tips"},[e._v("\n          限制调用方访问，请求URL需在请求头中加应用授权\n          "),a("tooltip-appid",{staticClass:"link",attrs:{title:"示例"}}),e._v("，不启用不限制\n        ")],1)],1),e.formData.appEnabled?a("div",{staticStyle:{margin:"0 0 18px 120px"}},[a("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){e.appidDrawer=!0}}},[e._v("添加")]),a("el-table",{attrs:{data:e.appidData,border:"",stripe:"",size:"mini","max-height":"240"}},[a("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleAppidCheckAll},model:{value:e.appidCheckAll,callback:function(t){e.appidCheckAll=t},expression:"appidCheckAll"}})]}},{key:"default",fn:function(t){return[a("el-checkbox",{on:{change:e.handleAppidCheck},model:{value:t.row.enabled,callback:function(a){e.$set(t.row,"enabled",a)},expression:"scope.row.enabled"}})]}}],null,!1,469018870)}),a("el-table-column",{attrs:{label:"appID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.appName)+" ("+e._s(t.row.app)+")\n            ")]}}],null,!1,3248570262)}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.appidData)}}},[e._v("\n                删除\n              ")])]}}],null,!1,1536003634)})],1)],1):e._e()],2),a("plugin-config-con",{ref:"pluginConfigCon",attrs:{disabled:e.disabled||"f"===e.formData.access,config:e.apiPlugins,groupConfig:e.groupPlugins,showType:""},on:{emitData:function(t){return e.apiPlugins=t}}}),e.disabled?e._e():a("footer",[a("el-button",{attrs:{size:"small",icon:"el-icon-circle-check",loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.handleClose}},[e._v("取消")])],1)],1),a("el-drawer",{ref:"appidDrawer",attrs:{"append-to-body":"",title:"添加调用方(appID)",size:"50%",visible:e.appidDrawer},on:{"update:visible":function(t){e.appidDrawer=t}}},[a("div",[a("div",{staticStyle:{"padding-bottom":"50px"}},[a("add-appid",{attrs:{selection:e.selectionAppid},on:{"update:selection":function(t){e.selectionAppid=t}}})],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleAppidDrawer()}}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.appidDrawer=!1}}},[e._v("取 消")])],1)])])],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("4f7f"),a("5df3"),a("1c4c"),a("ac6a"),a("7514"),a("7f7f"),a("28a5"),a("ade3")),o=a("5880"),s=a("27fc"),l=a("b30b"),c=a("0a6a"),u=a("0468"),d=a("3bfd"),p=a("9b51"),h=a("c8b6"),f=a("17e0"),g=a("378a");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={name:"detail",components:{apiHeader:p["default"],addAppid:h["default"],tooltipAppid:f["default"],pluginConfigCon:g["default"]},data:function(){return{loading:!1,formData:{},accessType:s["a"],callbackMode:s["c"],rules:{gatewayGroup:[{required:!0,message:"必填",trigger:"change"}],callbackType:[{required:!0,message:"必填",trigger:"change"}],access:[{required:!0,message:"必填",trigger:"change"}],service:[{required:!0,message:"必填",trigger:"blur"}],path:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,message:"请参照例子填写正确的路径",trigger:"blur"}],callbackRespBody:[{required:!0,message:"必填",trigger:"blur"}]},apiPlugins:[],appidDrawer:!1,selectionAppid:[],appidData:[],appidCheckAll:!1,isIndeterminate:!1,apiMethod:[{label:"AUTO",value:""},{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"PATCH",value:"PATCH"},{label:"HEAD",value:"HEAD"},{label:"OPTIONS",value:"OPTIONS"},{label:"TRACE",value:"TRACE"}],groupPlugins:[],registerList:[],registerMap:{}}},computed:b(b({},Object(o["mapGetters"])(["permission","aggregateServiceOptions","discoveryServiceOptions","groupOptions","pluginOptions"])),{},{permissionList:function(){return{publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1)}},originId:function(){return this.$route.query.originId||""},actionType:function(){var e=this.$route.path.split("/");return e[e.length-1]||"add"},disabled:function(){return"view"===this.actionType||!1},pageName:function(){return"add"===this.actionType?"新增回调配置":this.$route.name},groupName:function(){var e=this,t=this.groupOptions.find((function(t){return t.value===e.formData.gatewayGroup}));return t&&t.label||""},serviceName:function(){return this.formData.service||""}}),watch:{appidData:{deep:!0,handler:function(){this.handleAppidCheck()}},"formData.gatewayGroup":function(){this.getGroupDetail(this.formData.gatewayGroup)}},created:function(){this.getGroupOptions(),this.getAggregateServiceOptions(),this.getPluginOptions(),this.getRegisterNameList(),this.init()},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(a(),this.init())},methods:b(b({},Object(o["mapActions"])(["getAggregateServiceOptions","getGroupOptions","getPluginOptions"])),{},{deleteRow:function(e,t){t.splice(e,1)},addHeaders:function(){this.formData.callbackRespHeaders.push({key:"",value:""})},addBackendConfig:function(){this.formData.callbackReceivers.push({type:1,service:"",path:"",registryName:""})},addPlugin:function(e){var t=this.apiPlugins.concat(e);this.apiPlugins=t},initPlugins:function(e,t){var a=this,n=[];return e&&e.length&&e.forEach((function(e){var i=a.pluginOptions.find((function(t){return t.id===e.plugin}));i&&(t&&(e=b({apiPluginConfigs:e.gatewayGroupPluginConfigs},e),delete e.gatewayGroupPluginConfigs),n.push(Object.assign({},i,e)))})),n},addAppid:function(e){var t={},a=this.appidData.concat(e);a=Array.from(new Set(a)),a=a.reduce((function(e,a){var n=a.app;return t[n]||(t[n]=!0,e.push(a)),e}),[]),this.appidData=a.map((function(e){return{app:e.app,appName:e.appName,enabled:!1!==e.enabled}}))},handleAppidDrawer:function(){this.addAppid(this.selectionAppid),this.appidDrawer=!1},handleAppidCheck:function(){var e=this.appidData.filter((function(e){return!0===e.enabled})),t=e.length;this.appidCheckAll=t===this.appidData.length,this.isIndeterminate=t>0&&t<this.appidData.length},handleAppidCheckAll:function(e){this.appidData=this.appidData.map((function(t){return t.enabled=e,t})),this.isIndeterminate=!1},isRepeatReceivers:function(){var e=this.formData.callbackReceivers||[],t={};for(var a in e){if(t[e[a].path]&&t[e[a].type]&&t[e[a].service]&&t[e[a].registryName])return!0;t[e[a].path]=!0,t[e[a].type]=!0,t[e[a].service]=!0,t[e[a].registryName]=!0}return!1},handleSubmitData:function(){var e=Object.assign({},this.formData);return e.proxyMode=4,e.apiPlugins=this.apiPlugins,e.apps=this.appidData,"s"===e.callbackType&&(delete e.callbackRespHeaders,delete e.callbackRespBody),e},handleSubmit:function(){var e=this;this.$refs.formData.validate((function(t){if(t){var a=e.isRepeatReceivers();if(a)return e.$message.error("后端服务不可重复"),!1;e.$refs.pluginConfigCon.validate().then((function(){if(t){var a=e.handleSubmitData();"add"===e.actionType?e.add(a):e.update(a)}}),(function(t){e.$message.error(t)}))}else e.$message.error("请完善基础信息")}))},handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/callback/config"})},getDetail:function(){var e=this;this.originId?["edit","view"].includes(this.actionType)&&Object(l["b"])(this.originId).then((function(t){e.formData=t.data.data||{},e.formData.callbackRespHeaders&&e.formData.callbackRespHeaders.length||(e.formData.callbackRespHeaders=[{key:"",value:""}]),e.apiPlugins=e.initPlugins(e.formData.apiPlugins),e.appidData=e.formData.apps||[],e.formData.callbackReceivers.forEach((function(t){e.getDiscoveryServiceOptions(t.registryName)}))})):this.formData={callbackType:"s",access:"a",service:"",appEnabled:!1,method:"",callbackReceivers:[{type:1,service:"",path:"",registryName:""}],callbackRespHeaders:[{key:"",value:""}]}},add:function(e){var t=this;return this.loading=!0,Object(l["a"])(e).then((function(){t.$message.success("保存成功"),setTimeout((function(){t.handleClose()}),300)})).finally((function(){t.loading=!1}))},update:function(e){var t=this;return this.loading=!0,Object(l["e"])(e).then((function(){t.$message.success("修改成功"),t.init()})).finally((function(){t.loading=!1}))},init:function(){"add"===this.actionType&&(this.formData={},this.apiPlugins=[],this.appidData=[],this.groupPlugins=[]),this.getDetail()},getGroupDetail:function(e){var t=this;Object(u["d"])(e).then((function(e){if(200===e.data.code){var a=e.data.data.gatewayGroupPlugins;t.groupPlugins=t.initPlugins(a,!0)}}))},getRegisterNameList:function(){var e=this;Object(c["d"])().then((function(t){if(200===t.data.code){var a=t.data.data;a.forEach((function(t){e.registerList.push({label:t,value:t})}))}}))},changeRegister:function(e){e.service="",this.getDiscoveryServiceOptions(e.registryName)},getDiscoveryServiceOptions:function(e){var t=this;e&&Object(d["d"])({registryName:e}).then((function(a){var n=a.data.data||[],i=[];n.forEach((function(e){i.push({label:e,value:e})})),t.$set(t.registerMap,e,i)}))},changeType:function(e){e.service="",e.registryName=""}})},y=v,w=(a("aab6"),a("2877")),_=Object(w["a"])(y,n,i,!1,null,"4a906d97",null);t["default"]=_.exports},"0b07":function(e,t,a){var n=a("34ac"),i=a("3698");function r(e,t){var a=i(e,t);return n(a)?a:void 0}e.exports=r},"0b44":function(e,t,a){var n=a("607d"),i=function(){this._track=[]};function r(e){var t=e[1][0]-e[0][0],a=e[1][1]-e[0][1];return Math.sqrt(t*t+a*a)}function o(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}i.prototype={constructor:i,recognize:function(e,t,a){return this._doTrack(e,t,a),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,a){var i=e.touches;if(i){for(var r={points:[],touches:[],target:t,event:e},o=0,s=i.length;o<s;o++){var l=i[o],c=n.clientToLocal(a,l,{});r.points.push([c.zrX,c.zrY]),r.touches.push(l)}this._track.push(r)}},_recognize:function(e){for(var t in s)if(s.hasOwnProperty(t)){var a=s[t](this._track,e);if(a)return a}}};var s={pinch:function(e,t){var a=e.length;if(a){var n=(e[a-1]||{}).points,i=(e[a-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var s=r(n)/r(i);!isFinite(s)&&(s=1),t.pinchScale=s;var l=o(n);return t.pinchX=l[0],t.pinchY=l[1],{type:"pinch",target:e[0].target,event:t}}}}},l=i;e.exports=l},"0c50":function(e,t,a){},"0c59":function(e,t,a){},"0cde":function(e,t,a){var n=a("1687"),i=a("401b"),r=n.identity,o=5e-5;function s(e){return e>o||e<-o}var l=function(e){e=e||{},e.position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},c=l.prototype;c.transform=null,c.needLocalTransform=function(){return s(this.rotation)||s(this.position[0])||s(this.position[1])||s(this.scale[0]-1)||s(this.scale[1]-1)};var u=[];c.updateTransform=function(){var e=this.parent,t=e&&e.transform,a=this.needLocalTransform(),i=this.transform;if(a||t){i=i||n.create(),a?this.getLocalTransform(i):r(i),t&&(a?n.mul(i,e.transform,i):n.copy(i,e.transform)),this.transform=i;var o=this.globalScaleRatio;if(null!=o&&1!==o){this.getGlobalScale(u);var s=u[0]<0?-1:1,l=u[1]<0?-1:1,c=((u[0]-s)*o+s)/u[0]||0,d=((u[1]-l)*o+l)/u[1]||0;i[0]*=c,i[1]*=c,i[2]*=d,i[3]*=d}this.invTransform=this.invTransform||n.create(),n.invert(this.invTransform,i)}else i&&r(i)},c.getLocalTransform=function(e){return l.getLocalTransform(this,e)},c.setTransform=function(e){var t=this.transform,a=e.dpr||1;t?e.setTransform(a*t[0],a*t[1],a*t[2],a*t[3],a*t[4],a*t[5]):e.setTransform(a,0,0,a,0,0)},c.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var d=[],p=n.create();c.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],a=e[2]*e[2]+e[3]*e[3],n=this.position,i=this.scale;s(t-1)&&(t=Math.sqrt(t)),s(a-1)&&(a=Math.sqrt(a)),e[0]<0&&(t=-t),e[3]<0&&(a=-a),n[0]=e[4],n[1]=e[5],i[0]=t,i[1]=a,this.rotation=Math.atan2(-e[1]/a,e[0]/t)}},c.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(n.mul(d,e.invTransform,t),t=d);var a=this.origin;a&&(a[0]||a[1])&&(p[4]=a[0],p[5]=a[1],n.mul(d,t,p),d[4]-=a[0],d[5]-=a[1],t=d),this.setLocalTransform(t)}},c.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},c.transformCoordToLocal=function(e,t){var a=[e,t],n=this.invTransform;return n&&i.applyTransform(a,a,n),a},c.transformCoordToGlobal=function(e,t){var a=[e,t],n=this.transform;return n&&i.applyTransform(a,a,n),a},l.getLocalTransform=function(e,t){t=t||[],r(t);var a=e.origin,i=e.scale||[1,1],o=e.rotation||0,s=e.position||[0,0];return a&&(t[4]-=a[0],t[5]-=a[1]),n.scale(t,t,i),o&&n.rotate(t,t,o),a&&(t[4]+=a[0],t[5]+=a[1]),t[4]+=s[0],t[5]+=s[1],t};var h=l;e.exports=h},"0d24":function(e,t,a){(function(e){var n=a("2b3e"),i=a("07c7"),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||i;e.exports=u}).call(this,a("62e4")(e))},"0da8":function(e,t,a){var n=a("19eb"),i=a("9850"),r=a("6d8b"),o=a("5e76");function s(e){n.call(this,e)}s.prototype={constructor:s,type:"image",brush:function(e,t){var a=this.style,n=a.image;a.bind(e,this,t);var i=this._image=o.createOrUpdateImage(n,this._image,this,this.onload);if(i&&o.isImageReady(i)){var r=a.x||0,s=a.y||0,l=a.width,c=a.height,u=i.width/i.height;if(null==l&&null!=c?l=c*u:null==c&&null!=l?c=l/u:null==l&&null==c&&(l=i.width,c=i.height),this.setTransform(e),a.sWidth&&a.sHeight){var d=a.sx||0,p=a.sy||0;e.drawImage(i,d,p,a.sWidth,a.sHeight,r,s,l,c)}else if(a.sx&&a.sy){d=a.sx,p=a.sy;var h=l-d,f=c-p;e.drawImage(i,d,p,h,f,r,s,l,c)}else e.drawImage(i,r,s,l,c);null!=a.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new i(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},r.inherits(s,n);var l=s;e.exports=l},"0dda":function(e,t,a){},"0e3a":function(e,t,a){"use strict";a("e9cf")},"0e71":function(e,t,a){"use strict";a("d691")},"0ef3":function(e,t,a){},"0f0f":function(e,t,a){var n=a("8eeb"),i=a("9934");function r(e,t){return e&&n(t,i(t),e)}e.exports=r},"0f43":function(e,t,a){"use strict";a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"j",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"i",(function(){return h})),a.d(t,"g",(function(){return f})),a.d(t,"d",(function(){return g})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return b}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/listApply"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/detail/").concat(e),method:"get"})},u=function(e){var t=e.applyId,a=e.configId,n=e.remark;return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/revoke/").concat(t,"/").concat(a),method:"post",params:{remark:n}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/revoke/").concat(e),method:"post"})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/exec/").concat(e),method:"post"})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/rollback/").concat(e),method:"post"})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/resubmit"),method:"post",data:e})},g=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply-config-op-log/list/").concat(e),method:"get"})},m=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/change-approval-user"),method:"post",data:e})},b=function(){return Object(i["a"])({url:"".concat(r["a"],"/aggregate-apply/approval-by-oa"),method:"get"})}},"0f98":function(e,t,a){},"0f99":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("e0d3")),r=i.makeInner,o=i.getDataItemValue,s=a("6d8b"),l=s.createHashMap,c=s.each,u=s.map,d=s.isArray,p=s.isString,h=s.isObject,f=s.isTypedArray,g=s.isArrayLike,m=s.extend,b=(s.assert,a("ec6f")),v=a("93d0"),y=v.SOURCE_FORMAT_ORIGINAL,w=v.SOURCE_FORMAT_ARRAY_ROWS,_=v.SOURCE_FORMAT_OBJECT_ROWS,x=v.SOURCE_FORMAT_KEYED_COLUMNS,O=v.SOURCE_FORMAT_UNKNOWN,D=v.SOURCE_FORMAT_TYPED_ARRAY,C=v.SERIES_LAYOUT_BY_ROW,k={Must:1,Might:2,Not:3},S=r();function j(e){var t=e.option.source,a=O;if(f(t))a=D;else if(d(t)){0===t.length&&(a=w);for(var n=0,i=t.length;n<i;n++){var r=t[n];if(null!=r){if(d(r)){a=w;break}if(h(r)){a=_;break}}}}else if(h(t)){for(var o in t)if(t.hasOwnProperty(o)&&g(t[o])){a=x;break}}else if(null!=t)throw new Error("Invalid data");S(e).sourceFormat=a}function P(e){return S(e).source}function T(e){S(e).datasetMap=l()}function I(e){var t=e.option,a=t.data,n=f(a)?D:y,i=!1,r=t.seriesLayoutBy,o=t.sourceHeader,s=t.dimensions,l=R(e);if(l){var c=l.option;a=c.source,n=S(l).sourceFormat,i=!0,r=r||c.seriesLayoutBy,null==o&&(o=c.sourceHeader),s=s||c.dimensions}var u=L(a,n,r,o,s);S(e).source=new b({data:a,fromDataset:i,seriesLayoutBy:r,sourceFormat:n,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectCount:u.dimensionsDetectCount,encodeDefine:t.encode})}function L(e,t,a,n,i){if(!e)return{dimensionsDefine:z(i)};var r,s;if(t===w)"auto"===n||null==n?$((function(e){null!=e&&"-"!==e&&(p(e)?null==s&&(s=1):s=0)}),a,e,10):s=n?1:0,i||1!==s||(i=[],$((function(e,t){i[t]=null!=e?e:""}),a,e)),r=i?i.length:a===C?e.length:e[0]?e[0].length:null;else if(t===_)i||(i=M(e));else if(t===x)i||(i=[],c(e,(function(e,t){i.push(t)})));else if(t===y){var l=o(e[0]);r=d(l)&&l.length||1}return{startIndex:s,dimensionsDefine:z(i),dimensionsDetectCount:r}}function z(e){if(e){var t=l();return u(e,(function(e,a){if(e=m({},h(e)?e:{name:e}),null==e.name)return e;e.name+="",null==e.displayName&&(e.displayName=e.name);var n=t.get(e.name);return n?e.name+="-"+n.count++:t.set(e.name,{count:1}),e}))}}function $(e,t,a,n){if(null==n&&(n=1/0),t===C)for(var i=0;i<a.length&&i<n;i++)e(a[i]?a[i][0]:null,i);else{var r=a[0]||[];for(i=0;i<r.length&&i<n;i++)e(r[i],i)}}function M(e){var t,a=0;while(a<e.length&&!(t=e[a++]));if(t){var n=[];return c(t,(function(e,t){n.push(t)})),n}}function E(e,t,a){var n={},i=R(t);if(!i||!e)return n;var r,o,s=[],l=[],u=t.ecModel,d=S(u).datasetMap,p=i.uid+"_"+a.seriesLayoutBy;e=e.slice(),c(e,(function(t,a){!h(t)&&(e[a]={name:t}),"ordinal"===t.type&&null==r&&(r=a,o=m(e[a])),n[t.name]=[]}));var f=d.get(p)||d.set(p,{categoryWayDim:o,valueWayDim:0});function g(e,t,a){for(var n=0;n<a;n++)e.push(t+n)}function m(e){var t=e.dimsDef;return t?t.length:1}return c(e,(function(e,t){var a=e.name,i=m(e);if(null==r){var o=f.valueWayDim;g(n[a],o,i),g(l,o,i),f.valueWayDim+=i}else if(r===t)g(n[a],0,i),g(s,0,i);else{o=f.categoryWayDim;g(n[a],o,i),g(l,o,i),f.categoryWayDim+=i}})),s.length&&(n.itemName=s),l.length&&(n.seriesName=l),n}function A(e,t,a){var n={},i=R(e);if(!i)return n;var r,o=t.sourceFormat,s=t.dimensionsDefine;o!==_&&o!==x||c(s,(function(e,t){"name"===(h(e)?e.name:e)&&(r=t)}));var l=function(){for(var e={},n={},i=[],l=0,c=Math.min(5,a);l<c;l++){var u=B(t.data,o,t.seriesLayoutBy,s,t.startIndex,l);i.push(u);var d=u===k.Not;if(d&&null==e.v&&l!==r&&(e.v=l),(null==e.n||e.n===e.v||!d&&i[e.n]===k.Not)&&(e.n=l),p(e)&&i[e.n]!==k.Not)return e;d||(u===k.Might&&null==n.v&&l!==r&&(n.v=l),null!=n.n&&n.n!==n.v||(n.n=l))}function p(e){return null!=e.v&&null!=e.n}return p(e)?e:p(n)?n:null}();if(l){n.value=l.v;var u=null!=r?r:l.n;n.itemName=[u],n.seriesName=[u]}return n}function R(e){var t=e.option,a=t.data;if(!a)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function q(e,t){return B(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function B(e,t,a,n,i,r){var s,l,c,u=5;if(f(e))return k.Not;if(n){var g=n[r];h(g)?(l=g.name,c=g.type):p(g)&&(l=g)}if(null!=c)return"ordinal"===c?k.Must:k.Not;if(t===w)if(a===C){for(var m=e[r],b=0;b<(m||[]).length&&b<u;b++)if(null!=(s=S(m[i+b])))return s}else for(b=0;b<e.length&&b<u;b++){var v=e[i+b];if(v&&null!=(s=S(v[r])))return s}else if(t===_){if(!l)return k.Not;for(b=0;b<e.length&&b<u;b++){var O=e[b];if(O&&null!=(s=S(O[l])))return s}}else if(t===x){if(!l)return k.Not;m=e[l];if(!m||f(m))return k.Not;for(b=0;b<m.length&&b<u;b++)if(null!=(s=S(m[b])))return s}else if(t===y)for(b=0;b<e.length&&b<u;b++){O=e[b];var D=o(O);if(!d(D))return k.Not;if(null!=(s=S(D[r])))return s}function S(e){var t=p(e);return null!=e&&isFinite(e)&&""!==e?t?k.Might:k.Not:t&&"-"!==e?k.Must:void 0}return k.Not}t.BE_ORDINAL=k,t.detectSourceFormat=j,t.getSource=P,t.resetSourceDefaulter=T,t.prepareSource=I,t.makeSeriesEncodeForAxisCoordSys=E,t.makeSeriesEncodeForNameBased=A,t.guessOrdinal=q},"100c":function(e,t,a){},"100e":function(e,t,a){var n=a("cd9d"),i=a("2286"),r=a("c1c9");function o(e,t){return r(i(e,t,n),e+"")}e.exports=o},1041:function(e,t,a){var n=a("8eeb"),i=a("a029");function r(e,t){return n(e,i(e),t)}e.exports=r},"10b6":function(e,t,a){},"110c":function(e,t,a){},1120:function(e,t,a){},1191:function(e,t,a){"use strict";a("9129")},"11d7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"api-detail-request"},[a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e.hasHeader?a("el-tab-pane",{attrs:{label:"请求头",name:"header"}},[e.getParamsKeys(e.headersDef)>0?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{value:e.getParamsKeys(e.headersDef),max:10,type:"success"}},[e._v("请求头")])],1):e._e(),a("json-schema-table",{ref:"headersDef",attrs:{isHeaderParams:"",data:e.headersDef,disabled:e.disabled,"prop-type":["array","string"],"root-type":"object"},on:{"update:data":function(t){e.headersDef=t}}})],1):e._e(),e.hasBody?a("el-tab-pane",{attrs:{label:"请求体",name:"body"}},[e.isForm&&e.getParamsKeys(e.formBodyDef)>0?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{value:e.getParamsKeys(e.formBodyDef),max:10,type:"success"}},[e._v("请求体")])],1):e.isJSON&&e.checkBodyParams(e.bodyDef)||e.isXML&&e.checkBodyParams(e.xmlBodyDef)?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{"is-dot":""}},[e._v("请求体")])],1):e._e(),a("el-form",{attrs:{size:"mini"}},[a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:e.contentType,callback:function(t){e.contentType=t},expression:"contentType"}},[a("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),a("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")]),a("el-radio",{attrs:{label:"multipart/form-data"}},[e._v("form-data")]),a("el-radio",{attrs:{label:"application/x-www-form-urlencoded"}},[e._v("x-www-form-urlencoded")])],1)],1),e.isJSON?[a("el-form-item",{attrs:{label:"JSON根类型",prop:"bodyRootType"}},[a("el-select",{model:{value:e.bodyRootType,callback:function(t){e.bodyRootType=t},expression:"bodyRootType"}},[a("el-option",{attrs:{value:"object",label:"Object"}}),a("el-option",{attrs:{value:"array",label:"Array"}})],1)],1)]:e._e(),e.isXML?[a("el-form-item",{attrs:{label:"数组节点路径",prop:"xmlArrPaths"}},[a("el-input",{attrs:{clearable:""},model:{value:e.xmlArrPaths,callback:function(t){e.xmlArrPaths=t},expression:"xmlArrPaths"}}),a("span",{staticClass:"key-tips"},[e._v("输入XML响应体里数组节点的路径, 多个路径用逗号分隔，如：/root/data/user 用于指明user标签可能有多个要转换成一个JSON数组，而不是转换成一个JSON对象 。此字段仅在响应体为XML时有效。")])],1),a("div",{staticClass:"key-tips"},[e._v("\n            网关接收到XML后会把它转换为JSON，入参按转换后的JSON配置，"),a("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("请参考XML和JSON间的转换规则")]),e._v("。\n          ")],1)]:e._e()],2),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isJSON,expression:"isJSON"}]},[a("json-schema-table",{ref:"bodyDef",attrs:{data:e.bodyDef,disabled:e.disabled,"root-type":e.bodyRootType},on:{"update:data":function(t){e.bodyDef=t}}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isXML,expression:"isXML"}]},[a("json-schema-table",{ref:"xmlBodyDef",attrs:{data:e.xmlBodyDef,disabled:e.disabled,"prop-type-options":e.xmlTypeOptions,"root-node":"object"},on:{"update:data":function(t){e.xmlBodyDef=t}}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isForm,expression:"isForm"}]},[a("json-schema-table",{ref:"formBodyDef",attrs:{data:e.formBodyDef,disabled:e.disabled,"prop-type":["array","string"],"root-type":"object"},on:{"update:data":function(t){e.formBodyDef=t}}})],1)],1):e._e(),e.hasQuery?a("el-tab-pane",{attrs:{label:"Query参数",name:"params"}},[e.getParamsKeys(e.paramsDef)>0?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{value:e.getParamsKeys(e.paramsDef),max:10,type:"success"}},[e._v("Query参数")])],1):e._e(),a("json-schema-table",{ref:"paramsDef",attrs:{isHeaderParams:"",data:e.paramsDef,disabled:e.disabled,"prop-type":["array","string"],"root-type":"object"},on:{"update:data":function(t){e.paramsDef=t}}})],1):e._e(),e.hasScript?a("el-tab-pane",{attrs:{label:"脚本校验",name:"script"}},[e.scriptId?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{"is-dot":""}},[e._v("脚本校验")])],1):e._e(),a("el-form",{attrs:{"label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{label:"脚本配置"}},[e.scriptId?a("div",[e.scriptId?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openScript()}}},[e._v("\n              "+e._s("{ aggregate_config_script_id: "+e.scriptId+" }")+"\n            ")]):e._e(),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteScript(e.scriptId)}}},[e._v("\n              删除\n            ")])],1):a("el-button",{attrs:{type:"text",disabled:e.disabled},on:{click:function(t){return e.openScript()}}},[e._v("\n            "+e._s(e.disabled?"无":"新增")+"\n          ")]),a("script-dialog",{attrs:{default:"validate",visible:e.scriptVisible,content:e.scriptContent,"business-type":e.businessType,disabled:e.disabled,id:e.scriptId,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:visible":function(t){e.scriptVisible=t},"update:content":function(t){e.scriptContent=t},"update:id":function(t){e.scriptId=t}}})],1)],1)],1):e._e(),a("el-tab-pane",{attrs:{label:"语言配置",name:"lang"}},[e.langForm.key||e.langForm.zh||e.langForm.en?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{"is-dot":""}},[e._v("语言配置")])],1):e._e(),a("el-form",{ref:"langForm",attrs:{model:e.langForm,rules:e.langRules,size:"small",disabled:e.disabled,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"字段",prop:"key"}},[a("el-input",{attrs:{placeholder:"请输入入参字段（例：input.request.body.languageCode"},model:{value:e.langForm.key,callback:function(t){e.$set(e.langForm,"key",t)},expression:"langForm.key"}},[a("el-popover",{attrs:{slot:"append",trigger:"hover",content:"通过该入参字段设置提示语言"},slot:"append"},[a("el-button",{attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1),a("el-form-item",{attrs:{label:"中文",prop:"zh"}},[a("el-input",{attrs:{type:"number"===e.langForm.zhType?"number":"text",placeholder:"请输入字段值（例：0 或 zh"},model:{value:e.langForm.zh,callback:function(t){e.$set(e.langForm,"zh",t)},expression:"langForm.zh"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{slot:"prepend",placeholder:"请选择数据类型"},on:{change:function(t){return e.changeParamsType("zh")}},slot:"prepend",model:{value:e.langForm.zhType,callback:function(t){e.$set(e.langForm,"zhType",t)},expression:"langForm.zhType"}},e._l(e.langParamsType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-popover",{attrs:{slot:"append",trigger:"hover",content:"语言与入参字段值映射关系"},slot:"append"},[a("el-button",{attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1),a("el-form-item",{attrs:{label:"英文",prop:"en"}},[a("el-input",{attrs:{type:"number"===e.langForm.enType?"number":"text",placeholder:"请输入字段值（例：1 或 en"},model:{value:e.langForm.en,callback:function(t){e.$set(e.langForm,"en",t)},expression:"langForm.en"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{slot:"prepend",placeholder:"请选择数据类型"},on:{change:function(t){return e.changeParamsType("en")}},slot:"prepend",model:{value:e.langForm.enType,callback:function(t){e.$set(e.langForm,"enType",t)},expression:"langForm.enType"}},e._l(e.langParamsType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-popover",{attrs:{slot:"append",trigger:"hover",content:"语言与入参字段值映射关系"},slot:"append"},[a("el-button",{attrs:{slot:"reference",icon:"el-icon-question"},slot:"reference"})],1)],1)],1)],1)],1)],1),a("xml-info",{attrs:{visible:e.xmlInoVisible},on:{"update:visible":function(t){e.xmlInoVisible=t}}})],1)},i=[],r=(a("8e6e"),a("53ca")),o=(a("6762"),a("2fdb"),a("c5f6"),a("ac6a"),a("456d"),a("ade3")),s=a("4627"),l=a("2fa9"),c=a("07d3"),u=a("921f"),d=a("5880");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={name:"api-detail-request",data:function(){return{activeTab:"header",editorHeight:400,headersDef:{},bodyDef:{},xmlBodyDef:{},formBodyDef:{},paramsDef:{},scriptValidate:{},scriptVisible:!1,scriptId:"",scriptContent:"",langForm:{},langParamsType:[{label:"number",value:"number"},{label:"string",value:"string"}],bodyRootType:"object",contentType:"application/json",xmlArrPaths:"",xmlInoVisible:!1,xmlTypeOptions:[{value:"string",label:"string"},{value:"array",label:"array"},{value:"object",label:"object"}]}},props:{data:{type:Object,default:function(){return{}}},lang:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},hasHeader:{type:Boolean,default:!0},hasBody:{type:Boolean,default:!0},hasQuery:{type:Boolean,default:!0},hasScript:{type:Boolean,default:!0},businessType:{type:String},isDelScriptWithHttp:{type:Boolean,default:!0}},computed:h(h({},Object(d["mapGetters"])(["apiScriptType"])),{},{isJSON:function(){return"application/json"===this.contentType},isXML:function(){return"application/xml"===this.contentType},isForm:function(){return"multipart/form-data"===this.contentType||"application/x-www-form-urlencoded"===this.contentType},dataObj:function(){var e={};return this.hasHeader&&(e.headersDef=this.headersDef||{}),this.hasBody&&(this.isXML?e.bodyDef=this.xmlBodyDef||{}:this.isForm?e.bodyDef=this.formBodyDef||{}:e.bodyDef=this.bodyDef||{}),this.hasQuery&&(e.paramsDef=this.paramsDef||{}),this.hasScript&&(e.scriptValidate=this.scriptId?{aggregate_config_script_id:this.scriptId}:{}),e.contentType=this.contentType,e.xmlArrPaths=this.xmlArrPaths,e}}),components:{dataEditor:s["default"],scriptDialog:l["default"],jsonSchemaTable:c["default"],xmlInfo:u["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},lang:{immediate:!0,deep:!0,handler:function(e){this.initLangData(e)}},scriptValidate:{immediate:!0,deep:!0,handler:function(e){var t=e&&"string"===typeof e?JSON.parse(e):e;this.scriptId=t["aggregate_config_script_id"]||""}},dataObj:{deep:!0,handler:function(){this.emitData()}}},methods:h(h({},Object(d["mapActions"])(["removeScript"])),{},{getParamsKeys:function(e){var t=Object.keys(e.properties||{})||[];return t.length},checkBodyParams:function(e){var t=Object.keys(e.items&&e.items.properties||e.properties||e||{})||[];return!!t.length},getJson:function(){this.$refs.headersDef&&this.$refs.headersDef.emitData(),this.$refs.paramsDef&&this.$refs.paramsDef.emitData(),this.$refs.bodyDef&&this.$refs.bodyDef.emitData(),this.$refs.xmlBodyDef&&this.$refs.xmlBodyDef.emitData(),this.$refs.formBodyDef&&this.$refs.formBodyDef.emitData(),this.emitData()},emitData:function(){this.$emit("update:data",this.dataObj)},emitLangData:function(){var e={langParam:this.langForm.key,langMapping:{zh:"number"===this.langForm.zhType?Number(this.langForm.zh):this.langForm.zh,en:"number"===this.langForm.enType?Number(this.langForm.en):this.langForm.en}};this.$emit("update:lang",e)},initData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||this.data,this.contentType=e.contentType||"application/json",this.xmlArrPaths=e.xmlArrPaths||"",this.headersDef=e.headersDef||{},this.paramsDef=e.paramsDef||{},this.scriptValidate=e.scriptValidate||{},this.isXML?this.xmlBodyDef=e.bodyDef||{}:this.isForm?this.formBodyDef=e.bodyDef||{}:(this.bodyDef=e.bodyDef||{},this.bodyRootType=e.bodyDef&&e.bodyDef.items?"array":"object")},initLangData:function(){var e=Object.assign({langParam:"",langMapping:{zh:null,en:null}},this.lang||{}),t={key:e.langParam||"",zh:e.langMapping.zh,en:e.langMapping.en};t.zhType=["number","string"].includes(Object(r["a"])(t.zh))?Object(r["a"])(t.zh):"string",t.enType=["number","string"].includes(Object(r["a"])(t.en))?Object(r["a"])(t.en):"string",this.langForm=t},validateForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"langForm";this.emitLangData();var t=!0;return this.$refs[e].validate((function(e){t=e})),t},changeParamsType:function(e){if(!e)return!1;this.langForm[e]=""},openScript:function(){this.scriptVisible=!0},deleteScript:function(e){var t=this;this.$confirm("确定删除该脚本?",{type:"warning"}).then((function(){t.isDelScriptWithHttp?t.removeScript(e).then((function(){t.scriptId="",t.$message.success("删除成功")})):(t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),t.scriptId="",t.$message.success("删除成功"))}))}})},g=f,m=(a("beac"),a("f231"),a("2877")),b=Object(m["a"])(g,n,i,!1,null,"1d107bc7",null);t["default"]=b.exports},"11f5":function(e,t,a){"use strict";a("8065")},"11f5f":function(e,t,a){"use strict";a("3151")},"124f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"social-container"},[a("div",{staticClass:"box",on:{click:function(t){return e.handleClick("wechat")}}},[a("span",{staticClass:"container",style:{backgroundColor:"#6ba2d6"}},[a("i",{staticClass:"iconfont icon-weixin",attrs:{"icon-class":"wechat"}})]),a("p",{staticClass:"title"},[e._v(e._s(e.$t("login.wechat")))])]),a("div",{staticClass:"box",on:{click:function(t){return e.handleClick("tencent")}}},[a("span",{staticClass:"container",style:{backgroundColor:"#8dc349"}},[a("i",{staticClass:"iconfont icon-qq",attrs:{"icon-class":"qq"}})]),a("p",{staticClass:"title"},[e._v(e._s(e.$t("login.qq")))])])])},i=[],r=a("0e0b"),o={name:"thirdLogin",methods:{handleClick:function(e){var t,a,n,i;n=encodeURIComponent(window.location.origin+"/#/authredirect"),"wechat"===e?(t="xxxx",i="https://open.weixin.qq.com/connect/qrconnect?appid="+t+"&redirect_uri="+n+"&state=WX&response_type=code&scope=snsapi_login#wechat_redirect"):"tencent"===e&&(a="xxxx",i="https://graph.qq.com/oauth2.0/authorize?response_type=code&state=QQ&client_id="+a+"&redirect_uri="+n),Object(r["j"])(i,e,540,540)}}},s=o,l=(a("f7b7"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"4099c3a0",null);t["default"]=c.exports},1290:function(e,t){function a(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=a},1304:function(e,t,a){var n=a("cd9d");function i(e){return"function"==typeof e?e:n}e.exports=i},1330:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择前端服务名","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"700px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"select-service-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",size:"small",border:"","max-height":"500"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"前端服务名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.label))]}}])})],1)],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submitHandle}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("1da1")),o=a("2909"),s=a("ade3"),l=a("5880");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={label:"ALL",value:"ALL"},p={name:"select-service",props:{visible:{type:Boolean,default:!1}},computed:u(u({},Object(l["mapGetters"])(["frontendServiceOptions"])),{},{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDialog")}}}),data:function(){return{multipleSelection:[],tableData:[],loading:!0}},watch:{frontendServiceOptions:{deep:!0,handler:function(){this.tableData=[d].concat(Object(o["a"])(this.frontendServiceOptions))}}},methods:u(u({},Object(l["mapActions"])(["getFrontendServiceOptions"])),{},{handleSelectionChange:function(e){this.multipleSelection=e},submitHandle:function(){if(0!==this.multipleSelection.length){var e=this.multipleSelection.some((function(e){return"ALL"===e.value}));this.$emit("emitData",e?[d]:this.multipleSelection),this.dialogVisible=!1}else this.$message.warning("请选择数据!")}}),mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.getFrontendServiceOptions();case 3:this.loading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},h=p,f=(a("59ee"),a("2877")),g=Object(f["a"])(h,n,i,!1,null,"550b817c",null);t["default"]=g.exports},"133d":function(e,t,a){var n=a("6d8b"),i=a("e0d3");function r(e,t){var a,r=[],o=e.seriesIndex;if(null==o||!(a=t.getSeriesByIndex(o)))return{point:[]};var s=a.getData(),l=i.queryDataIndex(s,e);if(null==l||l<0||n.isArray(l))return{point:[]};var c=s.getItemGraphicEl(l),u=a.coordinateSystem;if(a.getTooltipPosition)r=a.getTooltipPosition(l)||[];else if(u&&u.dataToPoint)r=u.dataToPoint(s.getValues(n.map(u.dimensions,(function(e){return s.mapDimension(e)})),l,!0))||[];else if(c){var d=c.getBoundingRect().clone();d.applyTransform(c.transform),r=[d.x+d.width/2,d.y+d.height/2]}return{point:r,el:c}}e.exports=r},"134f":function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/listApproval"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/approve"),method:"post",data:e})}},1368:function(e,t,a){var n=a("da03"),i=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function r(e){return!!i&&i in e}e.exports=r},1371:function(e,t,a){},"13a3":function(e,t,a){},1401:function(e,t,a){"use strict";a("480a")},1418:function(e,t,a){var n=a("6d8b"),i=a("a15a"),r=i.createSymbol,o=a("2306"),s=a("3842"),l=s.parsePercent,c=a("c775f"),u=c.getDefaultLabel;function d(e,t,a){o.Group.call(this),this.updateData(e,t,a)}var p=d.prototype,h=d.getSymbolSize=function(e,t){var a=e.getItemVisual(t,"symbolSize");return a instanceof Array?a.slice():[+a,+a]};function f(e){return[e[0]/2,e[1]/2]}function g(e,t){this.parent.drift(e,t)}p._createSymbol=function(e,t,a,n,i){this.removeAll();var o=t.getItemVisual(a,"color"),s=r(e,-1,-1,2,2,o,i);s.attr({z2:100,culling:!0,scale:f(n)}),s.drift=g,this._symbolType=e,this.add(s)},p.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},p.getSymbolPath=function(){return this.childAt(0)},p.getScale=function(){return this.childAt(0).scale},p.highlight=function(){this.childAt(0).trigger("emphasis")},p.downplay=function(){this.childAt(0).trigger("normal")},p.setZ=function(e,t){var a=this.childAt(0);a.zlevel=e,a.z=t},p.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},p.updateData=function(e,t,a){this.silent=!1;var n=e.getItemVisual(t,"symbol")||"circle",i=e.hostModel,r=h(e,t),s=n!==this._symbolType;if(s){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(n,e,t,r,l)}else{var c=this.childAt(0);c.silent=!1,o.updateProps(c,{scale:f(r)},i,t)}if(this._updateCommon(e,t,r,a),s){c=this.childAt(0);var u=a&&a.fadeIn,d={scale:c.scale.slice()};u&&(d.style={opacity:c.style.opacity}),c.scale=[0,0],u&&(c.style.opacity=0),o.initProps(c,d,i,t)}this._seriesModel=i};var m=["itemStyle"],b=["emphasis","itemStyle"],v=["label"],y=["emphasis","label"];function w(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var a=this.__symbolOriginalScale,n=a[1]/a[0],i={scale:[Math.max(1.1*a[0],a[0]+3),Math.max(1.1*a[1],a[1]+3*n)]};this.animateTo(i,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}p._updateCommon=function(e,t,a,i){var r=this.childAt(0),s=e.hostModel,c=e.getItemVisual(t,"color");"image"!==r.type?r.useStyle({strokeNoScale:!0}):r.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var d=i&&i.itemStyle,p=i&&i.hoverItemStyle,h=i&&i.symbolOffset,g=i&&i.labelModel,_=i&&i.hoverLabelModel,x=i&&i.hoverAnimation,O=i&&i.cursorStyle;if(!i||e.hasItemOption){var D=i&&i.itemModel?i.itemModel:e.getItemModel(t);d=D.getModel(m).getItemStyle(["color"]),p=D.getModel(b).getItemStyle(),h=D.getShallow("symbolOffset"),g=D.getModel(v),_=D.getModel(y),x=D.getShallow("hoverAnimation"),O=D.getShallow("cursor")}else p=n.extend({},p);var C=r.style,k=e.getItemVisual(t,"symbolRotate");r.attr("rotation",(k||0)*Math.PI/180||0),h&&r.attr("position",[l(h[0],a[0]),l(h[1],a[1])]),O&&r.attr("cursor",O),r.setColor(c,i&&i.symbolInnerColor),r.setStyle(d);var S=e.getItemVisual(t,"opacity");null!=S&&(C.opacity=S);var j=e.getItemVisual(t,"liftZ"),P=r.__z2Origin;null!=j?null==P&&(r.__z2Origin=r.z2,r.z2+=j):null!=P&&(r.z2=P,r.__z2Origin=null);var T=i&&i.useNameLabel;function I(t,a){return T?e.getName(t):u(e,t)}o.setLabelStyle(C,p,g,_,{labelFetcher:s,labelDataIndex:t,defaultText:I,isRectText:!0,autoColor:c}),r.__symbolOriginalScale=f(a),r.hoverStyle=p,r.highDownOnUpdate=x&&s.isAnimationEnabled()?w:null,o.setHoverStyle(r)},p.fadeOut=function(e,t){var a=this.childAt(0);this.silent=a.silent=!0,(!t||!t.keepLabel)&&(a.style.text=null),o.updateProps(a,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},n.inherits(d,o.Group);var _=d;e.exports=_},"14a7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,page:e.page,permission:e.permissionList,"before-open":e.beforeOpen},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"accountNumber",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(n.accountNumber>0?n.accountNumber:"不限制"))])]}},{key:"expireTime",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(n.expireTime?n.expireTime:"不限制"))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permission.tenant_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e(),e.userInfo.role_name.includes("administrator")?a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-setting"},on:{click:e.handleSetting}},[e._v("授权配置\n      ")]):e._e()],1)],2),a("el-dialog",{attrs:{title:"租户授权配置","append-to-body":"",visible:e.box,width:"450px"},on:{"update:visible":function(t){e.box=t}}},[a("avue-form",{attrs:{option:e.settingOption},on:{submit:e.handleSubmit},model:{value:e.settingForm,callback:function(t){e.settingForm=t},expression:"settingForm"}})],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("ccbe"),s=a("5880"),l=a("da71");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={data:function(){return{form:{},selectionList:[],query:{},loading:!0,box:!1,page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,selection:!0,viewBtn:!0,dialogWidth:900,dialogClickModal:!1,column:[{label:"租户ID",prop:"tenantId",width:100,search:!0,addDisplay:!1,editDisplay:!1,span:24,rules:[{required:!0,message:"请输入租户ID",trigger:"blur"}]},{label:"租户名称",prop:"tenantName",search:!0,width:180,span:24,rules:[{required:!0,message:"请输入参数名称",trigger:"blur"}]},{label:"联系人",prop:"linkman",width:100,search:!0,rules:[{required:!0,message:"请输入联系人",trigger:"blur"}]},{label:"联系电话",prop:"contactNumber",width:150},{label:"联系地址",prop:"address",span:24,minRows:2,type:"textarea",hide:!0},{label:"账号额度",prop:"accountNumber",width:90,slot:!0,addDisplay:!1,editDisplay:!1},{label:"过期时间",prop:"expireTime",width:180,slot:!0,addDisplay:!1,editDisplay:!1},{label:"绑定域名",prop:"domain",span:24},{label:"系统背景",prop:"backgroundUrl",type:"upload",listType:"picture-img",action:"".concat(l["a"],"/blade-resource/oss/endpoint/put-file"),propsHttp:{res:"data",url:"link"},hide:!0,span:24}]},data:[],settingForm:{},settingOption:{column:[{label:"账号额度",prop:"accountNumber",type:"number",span:24},{label:"过期时间",prop:"expireTime",type:"date",format:"yyyy-MM-dd hh:mm:ss",valueFormat:"yyyy-MM-dd hh:mm:ss",span:24}]}}},computed:u(u({},Object(s["mapGetters"])(["userInfo","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.tenant_add,!1),viewBtn:this.vaildData(this.permission.tenant_view,!1),delBtn:this.vaildData(this.permission.tenant_delete,!1),editBtn:this.vaildData(this.permission.tenant_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["g"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},beforeOpen:function(e,t){var a=this;["view"].includes(t)&&Object(o["b"])(this.form.id).then((function(e){var t=e.data.data;t.accountNumber>0||(t.accountNumber="不限制"),t.expireTime||(t.expireTime="不限制"),a.form=t})),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},handleSetting:function(){var e=this;0!==this.selectionList.length?(1===this.selectionList.length?Object(o["b"])(this.selectionList[0].id).then((function(t){var a=t.data.data;e.settingForm.accountNumber=a.accountNumber,e.settingForm.expireTime=a.expireTime})):(this.settingForm.accountNumber=-1,this.settingForm.expireTime=""),this.box=!0):this.$message.warning("请选择至少一条数据")},handleSubmit:function(e,t,a){var n=this;Object(o["f"])(this.ids,e).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"配置成功!"}),t(),n.box=!1}),(function(e){window.console.log(e),a()}))},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},p=d,h=a("2877"),f=Object(h["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports},1548:function(e,t,a){var n=a("6d8b"),i=a("3301"),r=a("697e"),o=a("2023"),s=a("4319"),l=a("f934");l.getLayoutRect;t.getLayoutRect=l.getLayoutRect;var c=a("ee1a"),u=c.enableDataStack,d=c.isDimensionStacked,p=c.getStackedDimension,h=a("862d");t.completeDimensions=h;var f=a("b1d4");t.createDimensions=f;var g=a("a15a");function m(e){return i(e.getSource(),e)}t.createSymbol=g.createSymbol;var b={isDimensionStacked:d,enableDataStack:u,getStackedDimension:p};function v(e,t){var a=t;s.isInstance(t)||(a=new s(t),n.mixin(a,o));var i=r.createScaleByModel(a);return i.setExtent(e[0],e[1]),r.niceScaleExtent(i,a),i}function y(e){n.mixin(e,o)}t.createList=m,t.dataStack=b,t.createScale=v,t.mixinAxisModelCommonMethods=y},"156f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,page:e.page,permission:e.permissionList,"before-open":e.beforeOpen},on:{"update:page":function(t){e.page=t},"row-update":e.rowUpdate,"row-save":e.rowSave,"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"category",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(n.categoryName))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permission.post_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("74b1"),s=a("5880"),l=a("1ca4"),c=a("da71");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,viewBtn:!0,selection:!0,dialogClickModal:!1,column:[{label:"所属租户",prop:"tenantId",type:"tree",dicUrl:"".concat(c["a"],"/blade-system/tenant/select"),addDisplay:!1,editDisplay:!1,viewDisplay:l["a"].tenantMode,span:24,props:{label:"tenantName",value:"tenantId"},hide:!l["a"].tenantMode,rules:[{required:!0,message:"请输入所属租户",trigger:"click"}]},{label:"岗位类型",prop:"category",type:"select",dicUrl:"".concat(c["a"],"/blade-system/dict/dictionary?code=post_category"),props:{label:"dictValue",value:"dictKey"},dataType:"number",slot:!0,search:!0,rules:[{required:!0,message:"请选择岗位类型",trigger:"blur"}]},{label:"岗位编号",prop:"postCode",search:!0,rules:[{required:!0,message:"请输入岗位编号",trigger:"blur"}]},{label:"岗位名称",prop:"postName",search:!0,rules:[{required:!0,message:"请输入岗位名称",trigger:"blur"}]},{label:"岗位排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入岗位排序",trigger:"blur"}]},{label:"岗位描述",prop:"remark",type:"textarea",span:24,minRows:6,hide:!0}]},data:[]}},computed:d(d({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.post_add,!1),viewBtn:this.vaildData(this.permission.post_view,!1),delBtn:this.vaildData(this.permission.post_delete,!1),editBtn:this.vaildData(this.permission.post_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["f"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["b"])(this.form.id).then((function(e){a.form=e.data.data})),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,null,null);t["default"]=g.exports},"15c5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lock-container"},[a("div",{staticClass:"lock-form animated bounceInDown"},[a("div",{staticClass:"animated",class:{shake:e.passwdError,bounceOut:e.pass}},[a("h3",{staticClass:"title"},[e._v(e._s(e.userInfo.username))]),a("el-input",{staticClass:"input-with-select animated",attrs:{placeholder:"请输入登录密码",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}},[a("el-button",{attrs:{slot:"append",icon:"icon-bofangqi-suoping"},on:{click:e.handleLogin},slot:"append"}),a("el-button",{attrs:{slot:"append",icon:"icon-tuichu"},on:{click:e.handleLogout},slot:"append"})],1)],1)])])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={name:"lock",data:function(){return{passwd:"",passwdError:!1,pass:!1}},created:function(){},mounted:function(){},computed:l(l({},Object(o["mapState"])({userInfo:function(e){return e.user.userInfo}})),Object(o["mapGetters"])(["tag","lockPasswd"])),props:[],methods:{handleLogout:function(){var e=this;this.$confirm("是否退出系统, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$store.dispatch("LogOut").then((function(){e.$router.push({path:"/login"})}))}))},handleLogin:function(){var e=this;if(this.passwd!==this.lockPasswd)return this.passwd="",this.$message({message:"解锁密码错误,请重新输入",type:"error"}),this.passwdError=!0,void setTimeout((function(){e.passwdError=!1}),1e3);this.pass=!0,setTimeout((function(){e.$store.commit("CLEAR_LOCK"),e.$router.push({path:e.$router.$avueRouter.getPath({src:e.tag.value})})}),1e3)}},components:{}},u=c,d=(a("70dc"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},"163d":function(e,t,a){"use strict";a("5cf2")},"163d9":function(e,t,a){"use strict";a("1371")},1659:function(e,t,a){"use strict";a("1e3e")},1679:function(e,t,a){},1687:function(e,t){var a="undefined"===typeof Float32Array?Array:Float32Array;function n(){var e=new a(6);return i(e),e}function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(e,t,a){var n=t[0]*a[0]+t[2]*a[1],i=t[1]*a[0]+t[3]*a[1],r=t[0]*a[2]+t[2]*a[3],o=t[1]*a[2]+t[3]*a[3],s=t[0]*a[4]+t[2]*a[5]+t[4],l=t[1]*a[4]+t[3]*a[5]+t[5];return e[0]=n,e[1]=i,e[2]=r,e[3]=o,e[4]=s,e[5]=l,e}function s(e,t,a){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+a[0],e[5]=t[5]+a[1],e}function l(e,t,a){var n=t[0],i=t[2],r=t[4],o=t[1],s=t[3],l=t[5],c=Math.sin(a),u=Math.cos(a);return e[0]=n*u+o*c,e[1]=-n*c+o*u,e[2]=i*u+s*c,e[3]=-i*c+u*s,e[4]=u*r+c*l,e[5]=u*l-c*r,e}function c(e,t,a){var n=a[0],i=a[1];return e[0]=t[0]*n,e[1]=t[1]*i,e[2]=t[2]*n,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*i,e}function u(e,t){var a=t[0],n=t[2],i=t[4],r=t[1],o=t[3],s=t[5],l=a*o-r*n;return l?(l=1/l,e[0]=o*l,e[1]=-r*l,e[2]=-n*l,e[3]=a*l,e[4]=(n*s-o*i)*l,e[5]=(r*i-a*s)*l,e):null}function d(e){var t=n();return r(t,e),t}t.create=n,t.identity=i,t.copy=r,t.mul=o,t.translate=s,t.rotate=l,t.scale=c,t.invert=u,t.clone=d},1754:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"access",fn:function(t){var n=t.row;return["a"==n.access?a("el-tag",{attrs:{type:"success"}},[e._v("允许")]):e._e(),"f"==n.access?a("el-tag",{attrs:{type:"danger"}},[e._v("禁止")]):e._e()]}},{key:"gatewayGroupSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"网关分组",filterable:"",clearable:""},model:{value:e.search.gatewayGroup,callback:function(t){e.$set(e.search,"gatewayGroup",t)},expression:"search.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}},{key:"appSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择调用方",filterable:"",clearable:""},model:{value:e.search.app,callback:function(t){e.$set(e.search,"app",t)},expression:"search.app"}},e._l(e.appOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}},{key:"pluginNamesSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"插件",multiple:"",filterable:"",clearable:"","collapse-tags":""},model:{value:e.search.plugin,callback:function(t){e.$set(e.search,"plugin",t)},expression:"search.plugin"}},e._l(e.pluginOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.chnName,value:e.id}})})),1)]}},{key:"methodSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"请求方法",multiple:"",clearable:"","collapse-tags":""},model:{value:e.search.method,callback:function(t){e.$set(e.search,"method",t)},expression:"search.method"}},e._l(e.apiMethod,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("c54a"),l=a("27fc"),c=a("3bfd");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,viewBtn:!0,columnBtn:!1,menuPosition:"right",column:[{label:"网关分组",prop:"gatewayGroup",width:130,search:!0,searchslot:!0,overHidden:!0,type:"select",dicData:[]},{label:"路由类型",prop:"proxyMode",dicData:l["e"],width:80},{label:"是否专线路由",prop:"isDedicatedLine",dicData:[{label:"否",value:0},{label:"是",value:1}],width:100},{label:"前端服务名",prop:"service",search:!0,searchLabelWidth:90,overHidden:!0},{label:"前端API路径",prop:"path",search:!0,searchLabelWidth:100,overHidden:!0},{label:"请求方法",prop:"method",width:80,search:!0,type:"select",searchslot:!0},{label:"插件",prop:"pluginNames",search:!0,searchslot:!0,overHidden:!0,type:"select"},{label:"访问",prop:"access",width:70,slot:!0,search:!0,type:"select",dicData:l["a"]}]},data:[],search:{}}},computed:d(d({},Object(o["mapGetters"])(["permission","apiMethod","groupOptions","pluginOptions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.proxy_api_add,!1)&&this.isEdit,editBtn:this.vaildData(this.permission.proxy_api_edit,!1)&&this.isEdit,viewBtn:this.vaildData(this.permission.proxy_api_view,!1),delBtn:this.vaildData(this.permission.proxy_api_delete,!1)&&this.isEdit}},instanceId:function(){return this.$route.query.instanceId||""},isEdit:function(){return!this.instanceId}}),created:function(){this.getPluginOptions(),this.getGroupOptions()},watch:{groupOptions:function(e){var t=this.findObject(this.option.column,"gatewayGroup");t.dicData=e||[]}},methods:d(d({},Object(o["mapActions"])(["getGroupOptions","getPluginOptions"])),{},{beforeOpen:function(e,t){if("add"===t||this.form.id){var a="/proxy/detail/".concat(t);this.$router.push({path:a,query:{originId:this.form.id,instanceId:this.form.instanceId}})}else this.$message.error("数据缺失，无法操作！")},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(c["l"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.method&&Object(s["b"])(e.method)&&(e.method_in=e.method.join(",")||"",delete e.method),e.plugin&&Object(s["b"])(e.plugin)&&(e.pluginId_in=e.plugin.join(",")||"",delete e.plugin),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0;var n=this.instanceId?c["h"]:c["k"];n(e.currentPage,e.pageSize,Object.assign(a,this.query,{instanceId:this.instanceId||void 0})).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}})},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,null,null);t["default"]=g.exports},1763:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{ref:"apiDrawer",attrs:{"append-to-body":"","before-close":e.handleClose,title:"添加"+e.typeName+"接口",size:"50%",visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("div",{staticStyle:{"padding-bottom":"50px"}},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad}})],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleConfirm()}}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取 消")])],1)])])},i=[],r=(a("ac6a"),a("adc3")),o={data:function(){return{loading:!0,query:{},page:{pageSize:10,currentPage:1,total:0},option:{size:"mini",border:!0,selection:!0,tip:!1,columnBtn:!1,addBtn:!1,menu:!1,searchMenuSpan:12,column:[{label:"服务类型",prop:"type",type:"radio",dicData:[{label:"Dubbo",value:1},{label:"gRPC",value:2}],searchSpan:12,search:!1,hide:!0},{label:"服务名",prop:"service",search:!0,searchSpan:12},{label:"描述",prop:"description",search:!1},{label:"方法名",prop:"method",search:!0,searchSpan:12},{label:"接口名称",prop:"name",search:!0,searchSpan:12},{label:"版本",prop:"version",search:!0,searchSpan:12},{label:"分组",prop:"group",search:!0,searchSpan:12},{label:"参数类型",prop:"paramTypes",overHidden:!0,searchSpan:12},{label:"备注",prop:"note",overHidden:!0}]},data:[],selectionList:[]}},props:{visible:{type:Boolean,default:!1},type:{type:String,default:"DUBBO"},selection:{type:[Object,Array]}},computed:{ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},typeCode:function(){return("DUBBO"===this.type?1:"GRPC"===this.type&&2)||""},typeName:function(){return("DUBBO"===this.type?" Dubbo ":"GRPC"===this.type&&" gRPC ")||" RPC "}},watch:{typeCode:function(e,t){e!==t&&(this.onLoad(this.page),this.initOption())},visible:function(e){e||this.selectionClear()}},mounted:function(){this.initOption()},methods:{initOption:function(){var e=this;this.option.column=this.option.column.map((function(t){return"version"!==t.prop&&"group"!==t.prop&&"paramTypes"!==t.prop||(t.hide=2===e.typeCode),"type"===t.prop&&(t.hide=!!e.typeCode,t.search=!e.typeCode),t}))},handleClose:function(e){this.$emit("update:visible",!1),e&&e()},handleConfirm:function(){1===this.selectionList.length?(this.$emit("confirm",this.selectionList),this.handleClose()):this.$message.warning("只能选择一条数据")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,e=e||this.page,a.type=a.type||this.typeCode,Object(r["d"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},s=o,l=(a("a4a9"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"2079c476",null);t["default"]=c.exports},"179e":function(e,t,a){},"17d6":function(e,t,a){var n=a("6d8b"),i=a("22d1"),r=a("e0d3"),o=r.makeInner,s=o(),l=n.each;function c(e,t,a){if(!i.node){var n=t.getZr();s(n).records||(s(n).records={}),u(n,t);var r=s(n).records[e]||(s(n).records[e]={});r.handler=a}}function u(e,t){function a(a,n){e.on(a,(function(a){var i=f(t);l(s(e).records,(function(e){e&&n(e,a,i.dispatchAction)})),d(i.pendings,t)}))}s(e).initialized||(s(e).initialized=!0,a("click",n.curry(h,"click")),a("mousemove",n.curry(h,"mousemove")),a("globalout",p))}function d(e,t){var a,n=e.showTip.length,i=e.hideTip.length;n?a=e.showTip[n-1]:i&&(a=e.hideTip[i-1]),a&&(a.dispatchAction=null,t.dispatchAction(a))}function p(e,t,a){e.handler("leave",null,a)}function h(e,t,a,n){t.handler(e,a,n)}function f(e){var t={showTip:[],hideTip:[]},a=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=a,e.dispatchAction(n))};return{dispatchAction:a,pendings:t}}function g(e,t){if(!i.node){var a=t.getZr(),n=(s(a).records||{})[e];n&&(s(a).records[e]=null)}}t.register=c,t.unregister=g},"17e0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{"popper-class":"tooltip-dark",placement:"top",title:e.title}},[a("div",{staticClass:"content"},[e._v("\n    "+e._s(e.data.appIdKey)+": 10001 "),a("br"),e._v("\n    "+e._s(e.data.signKey)+": e4502ba3a71448bbbcecef22b305d2ba "),a("br"),e.ts?a("span",[e._v(e._s(e.data.timestampKey)+": 1605255335977 ")]):e._e(),a("br")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("("+e._s(e.title)+")")])])},i=[],r=a("24a7"),o={name:"tooltip-appid",props:{title:{type:String,default:"示例"},ts:{type:Boolean,default:!0}},data:function(){return{data:{}}},methods:{getCustomHeaderInfo:function(){var e=this;Object(r["d"])().then((function(t){if(200===t.data.code){var a=t.data.data;e.data={appIdKey:a.appIdKey||"fizz-appid",signKey:a.signKey||"fizz-sign",timestampKey:a.timestampKey||"fizz-ts"}}}))}},mounted:function(){this.getCustomHeaderInfo()}},s=o,l=(a("7bd3"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports},"18ba":function(e,t,a){},"18c0":function(e,t,a){var n=a("6d8b"),i=a("e0d8"),r=a("8e43"),o=i.prototype,s=i.extend({type:"ordinal",init:function(e,t){e&&!n.isArray(e)||(e=new r({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"===typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),o.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return o.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(o.scale.call(this,e))},getTicks:function(){var e=[],t=this._extent,a=t[0];while(a<=t[1])e.push(a),a++;return e},getLabel:function(e){if(!this.isBlank())return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:n.noop,niceExtent:n.noop});s.create=function(){return new s};var l=s;e.exports=l},"18df":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),e.visible?a("addressDetail",{attrs:{type:e.type,id:e.form.id,visible:e.visible},on:{doSearch:e.searchReset,changeDrawer:function(t){e.visible=!1}}}):e._e()],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("7f9e"),l=a("16cd"),c=a("a2ea");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"address",components:{addressDetail:s["default"]},data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:800,border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,column:[{label:"环境",prop:"env",search:!0,overHidden:!0},{label:"请求地址",prop:"reqUrl",search:!1,overHidden:!0}]},data:[],type:"",visible:!1}},computed:d(d({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.interface_address_add,!1),editBtn:this.vaildData(this.permission.interface_address_edit,!1),viewBtn:this.vaildData(this.permission.interface_address_view,!1),delBtn:this.vaildData(this.permission.interface_address_remove,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{handleSubmitData:function(e){return e=Object(l["b"])(e),e},rowDel:function(e){var t=this;this.$confirm("你确定要删除此环境信息吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(c["d"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.type=t,this.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(c["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,"2c295efa",null);t["default"]=g.exports},1941:function(e,t,a){},"19d7":function(e,t,a){},"19eb":function(e,t,a){var n=a("6d8b"),i=a("2b61"),r=a("d5b7"),o=a("9e2e");function s(e){for(var t in e=e||{},r.call(this,e),e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new i(e.style,this),this._rect=null,this.__clipPaths=null}s.prototype={constructor:s,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var a=this.transformCoordToLocal(e,t),n=this.getBoundingRect();return n.contain(a[0],a[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?r.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new i(e,this),this.dirty(!1),this},calculateTextPosition:null},n.inherits(s,r),n.mixin(s,o);var l=s;e.exports=l},"1a1f":function(e,t,a){"use strict";a.r(t);var n,i,r=a("0f43"),o={name:"apply",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},data:[],detailDialog:{visible:!1,data:[],id:""}}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowView:function(e){var t=this;this.detailDialog.id=e.id,Object(r["e"])(this.detailDialog.id).then((function(e){t.detailDialog.data=e.data.data,t.detailDialog.visible=!0}))},searchReset:function(){this.option.column=this.option.column.map((function(e){return delete e.searchValue,e})),this.query={},this.onLoad(this.page)},searchChange:function(e,t){if(e.createTime&&e.createTime.length>0&&(e.createTimeStart=e.createTime[0]||"",e.createTimeEnd=e.createTime[1]||"",delete e.createTime),new Date(e.createTimeStart)>new Date(e.createTimeEnd))return this.$message.error("请选择结束时间晚于开始时间"),!1;this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)}}},s=o,l=a("2877"),c=Object(l["a"])(s,n,i,!1,null,"562b71be",null);t["default"]=c.exports},"1a2d":function(e,t,a){var n=a("42a2"),i=a("1310"),r="[object Map]";function o(e){return i(e)&&n(e)==r}e.exports=o},"1a9b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择用户","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"700px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",size:"small",border:"","max-height":"400"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"用户名",prop:"name"}})],1)],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submitHandle}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("1da1")),o=a("ade3"),s=a("5880"),l=a("4c02");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"select-users",props:{visible:{type:Boolean,default:!1}},computed:u(u({},Object(s["mapGetters"])(["userInfo"])),{},{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDialog")}},isAdmin:function(){return this.userInfo.is_admin||!1}}),data:function(){return{multipleSelection:[],tableData:[],loading:!1}},methods:{handleSelectionChange:function(e){this.multipleSelection=e},submitHandle:function(){0!==this.multipleSelection.length?(this.$emit("emitData",this.multipleSelection),this.dialogVisible=!1):this.$message.warning("请选择数据!")},getUseList:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isAdmin){e.next=3;break}return this.tableData.push({id:this.userInfo.user_id,name:this.userInfo.nick_name||this.userInfo.user_name}),e.abrupt("return");case 3:return this.loading=!0,e.next=6,Object(l["d"])().then((function(e){200==e.data.code&&(t.tableData=e.data.data)}));case 6:this.loading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.getUseList()}},p=d,h=(a("8f7a"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,"34822b38",null);t["default"]=f.exports},"1bac":function(e,t,a){var n=a("7d1f"),i=a("a029"),r=a("9934");function o(e){return n(e,r,i)}e.exports=o},"1c28":function(e,t,a){"use strict";a("d4b0")},"1c4b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permissionList.importBtn?a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-upload2",plain:""},on:{click:e.handleImport}},[e._v("导 入\n      ")]):e._e(),e.permissionList.exportBtn?a("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-download",plain:""},on:{click:e.handleExport}},[e._v("导 出\n      ")]):e._e()],1)],2),a("el-dialog",{attrs:{title:"导入配置","append-to-body":"",visible:e.importDialog,"show-close":!1,width:"600px"},on:{"update:visible":function(t){e.importDialog=t}}},[a("div",[a("el-upload",{ref:"upload",attrs:{accept:".xlsx",limit:1,"file-list":e.fileList,"on-change":e.handleChange,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("导入的文件需要符合固定格式，具体可参考导出文件（限xlsx文件）")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticStyle:{padding:"12px 0"}},[a("el-checkbox",{model:{value:e.importData.force,callback:function(t){e.$set(e.importData,"force",t)},expression:"importData.force"}},[e._v("强制覆盖")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitUpload}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:e.closeImportDialog}},[e._v("取 消")])],1)]),a("api-detail",{attrs:{visible:e.detailDialog.visible,type:e.detailDialog.type,id:e.detailDialog.id,callback:e.onLoad},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}})],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("7f7f"),a("ac6a"),a("ade3")),o=a("adc3"),s=a("5880"),l=a("74a0");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{dialogWidth:900,labelWidth:100,border:!0,index:!0,selection:!0,tip:!1,columnBtn:!1,menuPosition:"right",viewBtn:!0,column:[{label:"服务类型",prop:"type",search:!0,type:"radio",dicData:[{label:"Dubbo",value:1},{label:"gRPC",value:2}]},{label:"服务名",prop:"service",search:!0},{label:"方法名",prop:"method",search:!0},{label:"接口名称",prop:"name",search:!0},{label:"版本",prop:"version",search:!0},{label:"分组",prop:"group",search:!0},{label:"参数类型",prop:"paramTypes",overHidden:!0},{label:"备注",prop:"note",overHidden:!0}]},data:[],detailDialog:{visible:!1,type:"",id:null},importDialog:!1,fileList:[],files:null,importData:{force:!1},importHeaders:{"Content-Type":"multipart/form-data"}}},computed:u(u({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.rpc_api_add,!1),editBtn:this.vaildData(this.permission.rpc_api_edit,!1),viewBtn:this.vaildData(this.permission.rpc_api_view,!1),delBtn:this.vaildData(this.permission.rpc_api_delete,!1),importBtn:this.vaildData(this.permission.rpc_api_import,!1),exportBtn:this.vaildData(this.permission.rpc_api_export,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},service:function(){return this.$route.query.service||""}}),components:{apiDetail:l["default"]},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(this.option.column=this.option.column.map((function(e){return e.searchValue&&(e.searchValue=""),e})),this.query={},a(),this.onLoad(this.page,Object.assign({},e.query)))},watch:{service:{immediate:!0,handler:function(e){e&&(this.query.service=e,this.option.column[1].searchValue=e)}},data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{handleImport:function(){this.importDialog=!0},handleChange:function(e,t){this.files=t&&t[0]},handleRemove:function(e,t){this.files=t&&t[0]},handleExceed:function(){this.$message.warning("文件超出个数限制，每次仅允许导入一个文件!")},closeImportDialog:function(){this.importDialog=!1,this.fileList=[],this.files=null},beforeUpload:function(e){var t=e&&e.raw,a=t&&t.name||"",n=t&&t.type||"";return!(!a||!n)||(this.$message.warning("请选择要上传的文件！"),!1)},submitUpload:function(){var e=this,t=this.beforeUpload(this.files);if(!t)return!1;var a=this.files.raw,n=a.name,i=new FormData;i.append("file",a,n),i.append("force",this.importData.force),Object(o["e"])(i).then((function(){e.$message.success("导入成功"),e.importDialog=!1,e.onLoad(e.page)}))},handleExport:function(){var e=this,t=this.ids?"确定将选择数据导出?":"没有选择数据，默认导出模板";this.$confirm(t,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"导出成功"}),e.$refs.crud.toggleSelection()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.detailDialog.type=t,["edit","view"].includes(t)?this.detailDialog.id=this.form.id:this.detailDialog.id="",this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,e=e||this.page,Object(o["d"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},p=d,h=(a("acef"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports},"1c84":function(e,t,a){"use strict";a("970c")},"1cd6":function(e,t,a){"use strict";a("bb83")},"1cec":function(e,t,a){var n=a("0b07"),i=a("2b3e"),r=n(i,"Promise");e.exports=r},"1d92":function(e,t,a){var n=a("e0ef");function i(e){return n(2,e)}e.exports=i},"1da2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,"before-close":e.beforeClose,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"name",fn:function(t){var n=t.row;return[e.permissionList.apiAuthority?a("span",{staticClass:"text-link",on:{click:function(t){return e.goApiList(n)}}},[e._v(e._s(n.name))]):a("span",[e._v(e._s(n.name))])]}},{key:"menu",fn:function(t){var n=t.row,i=t.type,r=t.size;return[e.permissionList.authorityBtn?a("el-button",{attrs:{icon:"el-icon-setting",size:r,type:i},on:{click:function(t){return e.handleAuthority(n)}}},[e._v("权限")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permissionList.delBtn?a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2),a("el-dialog",{attrs:{title:"["+e.authorityName+"]用户权限配置","append-to-body":"","custom-class":"authority-dialog",visible:e.authorityDialog,width:"400px"},on:{"update:visible":function(t){e.authorityDialog=t}}},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleUserCheckAll},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),a("el-checkbox-group",{on:{change:e.handleCheckedUser},model:{value:e.checkedUser,callback:function(t){e.checkedUser=t},expression:"checkedUser"}},e._l(e.userList,(function(t,n){return a("el-checkbox",{key:n,attrs:{label:t.userId}},[e._v(e._s(t.userName))])})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.authorityDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.authoritySubmit}},[e._v("确 定")])],1)],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("7f7f"),a("ac6a"),a("ade3")),o=a("a378"),s=a("5880");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={data:function(){return{form:{},query:{},loading:!0,treeProps:{label:"userName",value:"userId"},checkAll:!1,isIndeterminate:!0,authorityId:"",authorityName:"",authorityDialog:!1,userList:[],checkedUser:[],page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{dialogWidth:900,labelWidth:100,border:!0,tip:!1,index:!0,selection:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",column:[{label:"服务名",prop:"name",search:!0,slot:!0,rules:[{required:!0,message:"必填",trigger:"blur"}],placeholder:"请输入 服务名，如：user-service"},{label:"服务描述",prop:"title",search:!0,searchLabelWidth:88,rules:[{required:!0,message:"必填",trigger:"blur"}],placeholder:"请输入 服务描述，如：用户服务"},{label:"团队",prop:"team",search:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"负责人",prop:"personInCharge",search:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"备注",prop:"description",span:24,overHidden:!0,minRows:6,type:"textarea",placeholder:" "}]},data:[],historyRoute:null}},computed:c(c({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.aggregate_service_add,!1),delBtn:this.vaildData(this.permission.aggregate_service_delete,!1),editBtn:this.vaildData(this.permission.aggregate_service_edit,!1),authorityBtn:this.vaildData(this.permission.aggregate_service_authority,!1),apiAuthority:this.vaildData(this.permission.aggregate_api,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),beforeRouteEnter:function(e,t,a){a((function(a){e.query&&e.query.add&&(a.historyRoute=t,a.$refs.crud.rowAdd())}))},methods:{goApiList:function(e){e.name&&this.$router.push({path:"/aggregate/api",query:{serviceName:e.name}})},handleAuthority:function(e){var t=this;this.authorityId=e.id,this.authorityName=e.name,this.checkedUser=[],Object(o["e"])(this.authorityId).then((function(e){t.userList=e.data.data,t.userList.forEach((function(e){1===e.hasPrivilege&&t.checkedUser.push(e.userId)})),t.handleCheckedUser(t.checkedUser),t.authorityDialog=!0}))},handleUserCheckAll:function(e){if(e){var t=[];this.userList.forEach((function(e){t.push(e.userId)})),this.checkedUser=t}else this.checkedUser=[];this.isIndeterminate=!1},handleCheckedUser:function(e){var t=e.length;this.checkAll=t===this.userList.length,this.isIndeterminate=t>0&&t<this.userList.length},authoritySubmit:function(){var e=this,t={serviceId:this.authorityId,userIds:this.checkedUser};Object(o["f"])(t).then((function(){e.authorityDialog=!1,e.$message({type:"success",message:"操作成功!"})}))},rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){t(),n.$message({type:"success",message:"保存成功"}),n.$route.query&&n.$route.query.add?(n.$router.$avueRouter.closeTag(),n.$router.push("/aggregate/service")):n.onLoad(n.page)}),(function(e){a(),window.console.log(e)}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["h"])(e).then((function(){a(),i.onLoad(i.page),i.$message({type:"success",message:"修改成功"})}),(function(e){n(),window.console.log(e)}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"删除成功"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["c"])(this.form.id).then((function(e){a.form=e.data.data})),e()},beforeClose:function(e,t){e(),"add"===t&&this.$route.query&&this.$route.query.add&&(this.$router.$avueRouter.closeTag(),this.$router.push(this.historyRoute.fullPath))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["d"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},d=u,p=(a("9607"),a("2877")),h=Object(p["a"])(d,n,i,!1,null,null,null);t["default"]=h.exports},"1dbd":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/degrade-rule/path/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/degrade-rule/path/detail/").concat(e),method:"get",params:{id:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/degrade-rule/path/remove"),method:"post",params:{ids:e}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/degrade-rule/path/save"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/degrade-rule/path/update"),method:"post",data:e})}},"1e18":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r}));var n=[{label:"接口专线",value:1},{label:"网站专线",value:2}],i=[{label:"是",value:1},{label:"否",value:0}],r=[{label:"未配对",value:1},{label:"已配对",value:2},{label:"需重新配对",value:3}]},"1e3e":function(e,t,a){},"1e65":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"createTimeSearch",fn:function(t){var n=t.size;return[a("datetime-range",{attrs:{defaultValue:e.search.createTime,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",size:n,defaultTime:["00:00:00","00:00:00"]},on:{"update:defaultValue":function(t){return e.$set(e.search,"createTime",t)},"update:default-value":function(t){return e.$set(e.search,"createTime",t)},change:function(t){return e.search.createTime=t}}})]}},{key:"type",fn:function(t){var a=t.row;return[e._v("\n      "+e._s((0===a.type?"发布":1===a.type&&"下线")||a.type)+"\n    ")]}},{key:"status",fn:function(t){var n=t.row;return[1===n.status?a("span",{staticClass:"color-danger"},[e._v("审核不通过")]):2===n.status?a("span",{staticClass:"color-success"},[e._v("审核通过")]):a("span",[e._v(e._s(0===n.status?"待审核":3===n.status&&"撤回"))])]}},{key:"menu",fn:function(t){var n=t.row,i=t.type,r=t.size;t.index;return[a("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowView(n)}}},[e._v("查看")]),e.permissionList.auditBtn&&0===n.status?a("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowAudit(n)}}},[e._v("审核")]):e._e()]}}])}),a("audit-detail",{attrs:{visible:e.detailDialog.visible,audit:!0,id:e.detailDialog.id,data:e.detailDialog.data,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}}),a("el-dialog",{attrs:{title:"["+e.auditDialog.title+"]-审核","append-to-body":"",visible:e.auditDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.auditDialog,"visible",t)}}},[a("el-form",{attrs:{size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"审核结果：",required:""}},[a("el-radio-group",{model:{value:e.auditDialog.type,callback:function(t){e.$set(e.auditDialog,"type",t)},expression:"auditDialog.type"}},e._l(e.auditState,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"审核备注："}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"审核备注（选填）"},model:{value:e.auditDialog.remark,callback:function(t){e.$set(e.auditDialog,"remark",t)},expression:"auditDialog.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.auditDialog.loading},on:{click:e.auditConfirm}},[e._v("确 定\n      ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.auditDialog.visible=!1}}},[e._v("取 消")])],1)],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("134f"),s=a("cec1"),l=a("5880"),c=a("1a1f"),u=a("218b"),d=a("8e7d");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={data:function(){return{search:{},query:{status:0},option:{dialogWidth:900,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuWidth:100,menuPosition:"right",column:[{label:"申请时间",prop:"createTime",searchRange:!0,search:!0,searchslot:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"标题",prop:"title",search:!0,minWidth:180},{label:"操作类型",prop:"type",slot:!0,width:80},{label:"申请人",prop:"createBy"},{label:"审核状态",prop:"status",slot:!0,width:100,search:!0,type:"select",searchValue:0,dicData:s["a"]}]},auditDialog:{visible:!1,loading:!1,title:"",id:"",remark:""}}},mixins:[c["default"]],components:{auditDetail:u["default"],datetimeRange:d["default"]},computed:h(h({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{auditBtn:this.vaildData(this.permission.aggregate_apply_audit,!1),viewBtn:this.vaildData(this.permission.aggregateRecord_audit_view,!1)}},auditState:function(){return s["b"]}}),methods:{rowView:function(e){this.detailDialog.id=e.id;var t="/aggregateRecord/auditDetail";this.$router.push({path:t,query:{originId:e.id}})},rowAudit:function(e){this.auditDialog.id=e.id,this.auditDialog.title=e.title,this.auditDialog.visible=!0},auditConfirm:function(){var e=this;if(!this.auditDialog.type)return this.$message.error("请选择审核结果"),!1;var t={};return t.id=this.auditDialog.id,t.approvalResult=this.auditDialog.type,t.approvalRemark=this.auditDialog.remark,this.auditDialog.loading=!0,Object(o["a"])(t).then((function(){e.$message.success("审核成功"),e.onLoad(e.page),e.auditDialog.visible=!1,e.auditDialog.loading=!1})).catch((function(){e.auditDialog.loading=!1}))},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},g=f,m=a("2877"),b=Object(m["a"])(g,n,i,!1,null,null,null);t["default"]=b.exports},"1eab":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/auth-info/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/auth-info/save"),method:"post",data:e})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/auth-info/update"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/auth-info/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/auth-info/detail/").concat(e),method:"get"})}},"1efc":function(e,t){function a(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=a},"1fab":function(e,t){var a=Array.prototype.slice,n=function(e){this._$handlers={},this._$eventProcessor=e};function i(e,t){var a=e._$eventProcessor;return null!=t&&a&&a.normalizeQuery&&(t=a.normalizeQuery(t)),t}function r(e,t,a,n,r,o){var s=e._$handlers;if("function"===typeof a&&(r=n,n=a,a=null),!n||!t)return e;a=i(e,a),s[t]||(s[t]=[]);for(var l=0;l<s[t].length;l++)if(s[t][l].h===n)return e;var c={h:n,one:o,query:a,ctx:r||e,callAtLast:n.zrEventfulCallAtLast},u=s[t].length-1,d=s[t][u];return d&&d.callAtLast?s[t].splice(u,0,c):s[t].push(c),e}n.prototype={constructor:n,one:function(e,t,a,n){return r(this,e,t,a,n,!0)},on:function(e,t,a,n){return r(this,e,t,a,n,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var a=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(a[e]){for(var n=[],i=0,r=a[e].length;i<r;i++)a[e][i].h!==t&&n.push(a[e][i]);a[e]=n}a[e]&&0===a[e].length&&delete a[e]}else delete a[e];return this},trigger:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var i=arguments,r=i.length;r>3&&(i=a.call(i,1));for(var o=t.length,s=0;s<o;){var l=t[s];if(n&&n.filter&&null!=l.query&&!n.filter(e,l.query))s++;else{switch(r){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,i[1]);break;case 3:l.h.call(l.ctx,i[1],i[2]);break;default:l.h.apply(l.ctx,i);break}l.one?(t.splice(s,1),o--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var i=arguments,r=i.length;r>4&&(i=a.call(i,1,i.length-1));for(var o=i[i.length-1],s=t.length,l=0;l<s;){var c=t[l];if(n&&n.filter&&null!=c.query&&!n.filter(e,c.query))l++;else{switch(r){case 1:c.h.call(o);break;case 2:c.h.call(o,i[1]);break;case 3:c.h.call(o,i[1],i[2]);break;default:c.h.apply(o,i);break}c.one?(t.splice(l,1),s--):l++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this}};var o=n;e.exports=o},"1fc8":function(e,t,a){var n=a("4245");function i(e,t){var a=n(this,e),i=a.size;return a.set(e,t),this.size+=a.size==i?0:1,this}e.exports=i},2004:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("h3",[e._v("请打开浏览器控制台，然后点击下面的按钮")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.handleNewError}},[e._v("触发一个错误\n  ")])],1)},r=[],o={methods:{handleNewError:function(){window.console.log(a)}}},s=o,l=n("2877"),c=Object(l["a"])(s,i,r,!1,null,null,null);t["default"]=c.exports},2023:function(e,t,a){var n=a("6d8b"),i={getMin:function(e){var t=this.option,a=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=a&&"dataMin"!==a&&"function"!==typeof a&&!n.eqNaN(a)&&(a=this.axis.scale.parse(a)),a},getMax:function(e){var t=this.option,a=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=a&&"dataMax"!==a&&"function"!==typeof a&&!n.eqNaN(a)&&(a=this.axis.scale.parse(a)),a},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:n.noop,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};e.exports=i},2039:function(e,t,a){var n=a("6d8b"),i={};function r(){this._coordinateSystems=[]}r.prototype={constructor:r,create:function(e,t){var a=[];n.each(i,(function(n,i){var r=n.create(e,t);a=a.concat(r||[])})),this._coordinateSystems=a},update:function(e,t){n.each(this._coordinateSystems,(function(a){a.update&&a.update(e,t)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},r.register=function(e,t){i[e]=t},r.get=function(e){return i[e]};var o=r;e.exports=o},2087:function(e,t,a){},"20c8":function(e,t,a){var n=a("4a3f"),i=a("401b"),r=a("e263"),o=a("9850"),s=a("2cf4"),l=s.devicePixelRatio,c={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},u=[],d=[],p=[],h=[],f=Math.min,g=Math.max,m=Math.cos,b=Math.sin,v=Math.sqrt,y=Math.abs,w="undefined"!==typeof Float32Array,_=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};_.prototype={constructor:_,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,a){a=a||0,this._ux=y(a/l/e)||0,this._uy=y(a/l/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(c.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var a=y(e-this._xi)>this._ux||y(t-this._yi)>this._uy||this._len<5;return this.addData(c.L,e,t),this._ctx&&a&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),a&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,a,n,i,r){return this.addData(c.C,e,t,a,n,i,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,a,n,i,r):this._ctx.bezierCurveTo(e,t,a,n,i,r)),this._xi=i,this._yi=r,this},quadraticCurveTo:function(e,t,a,n){return this.addData(c.Q,e,t,a,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,a,n):this._ctx.quadraticCurveTo(e,t,a,n)),this._xi=a,this._yi=n,this},arc:function(e,t,a,n,i,r){return this.addData(c.A,e,t,a,a,n,i-n,0,r?0:1),this._ctx&&this._ctx.arc(e,t,a,n,i,r),this._xi=m(i)*a+e,this._yi=b(i)*a+t,this},arcTo:function(e,t,a,n,i){return this._ctx&&this._ctx.arcTo(e,t,a,n,i),this},rect:function(e,t,a,n){return this._ctx&&this._ctx.rect(e,t,a,n),this.addData(c.R,e,t,a,n),this},closePath:function(){this.addData(c.Z);var e=this._ctx,t=this._x0,a=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,a),e.closePath()),this._xi=t,this._yi=a,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,a=0;a<e.length;a++)t+=e[a];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length===t||!w||(this.data=new Float32Array(t));for(var a=0;a<t;a++)this.data[a]=e[a];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,a=0,n=this._len,i=0;i<t;i++)a+=e[i].len();w&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+a));for(i=0;i<t;i++)for(var r=e[i].data,o=0;o<r.length;o++)this.data[n++]=r[o];this._len=n},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var a=0;a<arguments.length;a++)t[this._len++]=arguments[a];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var a,n,i=this._dashSum,r=this._dashOffset,o=this._lineDash,s=this._ctx,l=this._xi,c=this._yi,u=e-l,d=t-c,p=v(u*u+d*d),h=l,m=c,b=o.length;u/=p,d/=p,r<0&&(r=i+r),r%=i,h-=r*u,m-=r*d;while(u>0&&h<=e||u<0&&h>=e||0===u&&(d>0&&m<=t||d<0&&m>=t))n=this._dashIdx,a=o[n],h+=u*a,m+=d*a,this._dashIdx=(n+1)%b,u>0&&h<l||u<0&&h>l||d>0&&m<c||d<0&&m>c||s[n%2?"moveTo":"lineTo"](u>=0?f(h,e):g(h,e),d>=0?f(m,t):g(m,t));u=h-e,d=m-t,this._dashOffset=-v(u*u+d*d)},_dashedBezierTo:function(e,t,a,i,r,o){var s,l,c,u,d,p=this._dashSum,h=this._dashOffset,f=this._lineDash,g=this._ctx,m=this._xi,b=this._yi,y=n.cubicAt,w=0,_=this._dashIdx,x=f.length,O=0;for(h<0&&(h=p+h),h%=p,s=0;s<1;s+=.1)l=y(m,e,a,r,s+.1)-y(m,e,a,r,s),c=y(b,t,i,o,s+.1)-y(b,t,i,o,s),w+=v(l*l+c*c);for(;_<x;_++)if(O+=f[_],O>h)break;s=(O-h)/w;while(s<=1)u=y(m,e,a,r,s),d=y(b,t,i,o,s),_%2?g.moveTo(u,d):g.lineTo(u,d),s+=f[_]/w,_=(_+1)%x;_%2!==0&&g.lineTo(r,o),l=r-u,c=o-d,this._dashOffset=-v(l*l+c*c)},_dashedQuadraticTo:function(e,t,a,n){var i=a,r=n;a=(a+2*e)/3,n=(n+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,a,n,i,r)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,w&&(this.data=new Float32Array(e)))},getBoundingRect:function(){u[0]=u[1]=p[0]=p[1]=Number.MAX_VALUE,d[0]=d[1]=h[0]=h[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,a=0,n=0,s=0,l=0;l<e.length;){var f=e[l++];switch(1===l&&(t=e[l],a=e[l+1],n=t,s=a),f){case c.M:n=e[l++],s=e[l++],t=n,a=s,p[0]=n,p[1]=s,h[0]=n,h[1]=s;break;case c.L:r.fromLine(t,a,e[l],e[l+1],p,h),t=e[l++],a=e[l++];break;case c.C:r.fromCubic(t,a,e[l++],e[l++],e[l++],e[l++],e[l],e[l+1],p,h),t=e[l++],a=e[l++];break;case c.Q:r.fromQuadratic(t,a,e[l++],e[l++],e[l],e[l+1],p,h),t=e[l++],a=e[l++];break;case c.A:var g=e[l++],v=e[l++],y=e[l++],w=e[l++],_=e[l++],x=e[l++]+_;l+=1;var O=1-e[l++];1===l&&(n=m(_)*y+g,s=b(_)*w+v),r.fromArc(g,v,y,w,_,x,O,p,h),t=m(x)*y+g,a=b(x)*w+v;break;case c.R:n=t=e[l++],s=a=e[l++];var D=e[l++],C=e[l++];r.fromLine(n,s,n+D,s+C,p,h);break;case c.Z:t=n,a=s;break}i.min(u,u,p),i.max(d,d,h)}return 0===l&&(u[0]=u[1]=d[0]=d[1]=0),new o(u[0],u[1],d[0]-u[0],d[1]-u[1])},rebuildPath:function(e){for(var t,a,n,i,r,o,s=this.data,l=this._ux,u=this._uy,d=this._len,p=0;p<d;){var h=s[p++];switch(1===p&&(n=s[p],i=s[p+1],t=n,a=i),h){case c.M:t=n=s[p++],a=i=s[p++],e.moveTo(n,i);break;case c.L:r=s[p++],o=s[p++],(y(r-n)>l||y(o-i)>u||p===d-1)&&(e.lineTo(r,o),n=r,i=o);break;case c.C:e.bezierCurveTo(s[p++],s[p++],s[p++],s[p++],s[p++],s[p++]),n=s[p-2],i=s[p-1];break;case c.Q:e.quadraticCurveTo(s[p++],s[p++],s[p++],s[p++]),n=s[p-2],i=s[p-1];break;case c.A:var f=s[p++],g=s[p++],v=s[p++],w=s[p++],_=s[p++],x=s[p++],O=s[p++],D=s[p++],C=v>w?v:w,k=v>w?1:v/w,S=v>w?w/v:1,j=Math.abs(v-w)>.001,P=_+x;j?(e.translate(f,g),e.rotate(O),e.scale(k,S),e.arc(0,0,C,_,P,1-D),e.scale(1/k,1/S),e.rotate(-O),e.translate(-f,-g)):e.arc(f,g,C,_,P,1-D),1===p&&(t=m(_)*v+f,a=b(_)*w+g),n=m(P)*v+f,i=b(P)*w+g;break;case c.R:t=n=s[p],a=i=s[p+1],e.rect(s[p++],s[p++],s[p++],s[p++]);break;case c.Z:e.closePath(),n=t,i=a}}}},_.CMD=c;var x=_;e.exports=x},2101:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.type,i=t.size,r=t.row;return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.delPermission(r.type),expression:"delPermission(row.type)"}],attrs:{icon:"el-icon-delete",size:i,type:n},on:{click:function(t){return e.rowDel(r)}}},[e._v("删除")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),a("el-dialog",{attrs:{"append-to-body":"",width:"900px",top:"20px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.rules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"插件名称",prop:"engName"}},[a("el-input",{attrs:{placeholder:"请输入插件名称",clearable:"",disabled:e.editDisabled},model:{value:e.dialogForm.engName,callback:function(t){e.$set(e.dialogForm,"engName",t)},expression:"dialogForm.engName"}}),a("span",[e._v("插件名称由英文字母、下划线或数字组成, 不能以数字开头，如：memberAuth,  member_auth_v1")])],1),a("el-form-item",{attrs:{label:"插件分类",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择插件分类",disabled:""},model:{value:e.dialogForm.type,callback:function(t){e.$set(e.dialogForm,"type",t)},expression:"dialogForm.type"}},e._l(e.pluginTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"插件描述",prop:"chnName"}},[a("el-input",{attrs:{placeholder:"请输入插件描述",clearable:"",disabled:e.editDisabled},model:{value:e.dialogForm.chnName,callback:function(t){e.$set(e.dialogForm,"chnName",t)},expression:"dialogForm.chnName"}}),a("span",[e._v("如：会员登录校验")])],1),a("el-form-item",{attrs:{label:"默认执行顺序",prop:"order"}},[a("el-input",{attrs:{placeholder:"请输入默认执行顺序",clearable:"",disabled:e.editDisabled},model:{value:e.dialogForm.order,callback:function(t){e.$set(e.dialogForm,"order",t)},expression:"dialogForm.order"}})],1),a("el-form-item",{attrs:{label:"表单定义",prop:"config"}},[a("data-editor",{attrs:{content:e.dialogForm.config,height:300,disabled:"view"===e.detailDialog.type||e.editDisabled},on:{"update:content":function(t){return e.$set(e.dialogForm,"config",t)}}}),a("span",[e._v("\n          路由级别的自定义属性，定义规范请参考：\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.showFormTips()}}},[e._v("表单规范说明")])],1)],1),a("el-form-item",{attrs:{label:"自定义配置",prop:"fixedConfig"}},[a("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.dialogForm.fixedConfig,callback:function(t){e.$set(e.dialogForm,"fixedConfig",t)},expression:"dialogForm.fixedConfig"}}),a("span",{staticClass:"key-tips"},[e._v("插件级别的自定义配置信息 "),a("tooltip-custom",{staticClass:"link",attrs:{title:"插件实例"}})],1)],1),a("el-form-item",{attrs:{label:"使用说明",prop:"instruction"}},[a("el-input",{attrs:{type:"textarea",clearable:"",disabled:e.editDisabled},model:{value:e.dialogForm.instruction,callback:function(t){e.$set(e.dialogForm,"instruction",t)},expression:"dialogForm.instruction"}})],1)],1),"view"!==e.detailDialog.type?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("保 存\n      ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e(),a("el-dialog",{attrs:{width:"600px",title:"插件表单规范说明",visible:e.tipsDialog.visible,"append-to-body":""},on:{"update:visible":function(t){return e.$set(e.tipsDialog,"visible",t)}}},[a("code-highlight",{attrs:{height:"400",code:e.tipsDialog.content}})],1)],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("ade3")),o=a("4df3"),s=a("dd62"),l=a("5880"),c=a("16cd"),u=a("c54a"),d=a("4627"),p=a("d480"),h={pluginFormJS:'/*\r\n* plugin_config_design\r\n* 动态插件参考结构\r\n* */\r\n\r\nconst pluginConfig = [\r\n  {\r\n    /* 必有字段 */\r\n    "field": "inputVal",\r\n    "label": "输入框",\r\n    "component": "input", // input, select, radio, checkbox, textarea\r\n    "dataType": "string", // number(long, double), string, boolean, array\r\n    /* 可选字段 */\r\n    "desc": "字段的说明文字",\r\n    "placeholder": "placeholder文字",\r\n    "default": "Aa123", // 初始默认值\r\n    "options": [ // for select, radio, checkbox\r\n      {\r\n        "label": "选项1",\r\n        "value": 1  // number(long, double), string, boolean,\r\n      },\r\n      {\r\n        "label": "选项2",\r\n        "value": 2\r\n      }\r\n    ],\r\n    "rules": [ // min|max / range / length / regex pattern\r\n      { "required": true, "message": "输入框不能为空", "trigger": "change" }, // required 必填\r\n      // { "min": 3, "ma x": 5, "message": "长度在 3 到 5 个字符", "trigger": "change" }, // range 长度范围（for dataType："string"）\r\n      // { "len": 8, "message": "长度需 8 个字符", "trigger": "change" }, // length 长度限制（for dataType："string"）\r\n      // { "type": "number", "message": "请输入数字类型"}, // for dataType："number" 校验数值\r\n      // { "type": "integer", "message": "请输入整数数值", "trigger": "change" }, // for dataType："long" 校验整数\r\n      // { "type": "float", "message": "请输入浮点数数值", "trigger": "change" }, // for dataType："double" 校验浮点数\r\n      { "pattern": "^[A-Za-z\\\\d]+$", "message": "只能是字母或数字", "trigger": "change" } // regex pattern正则\r\n    ]\r\n  },\r\n  {\r\n    "field": "selectVal",\r\n    "label": "选择器",\r\n    "component": "select",\r\n    "dataType": "number",\r\n    "options": [\r\n      {\r\n        "label": "选项1",\r\n        "value": 1\r\n      },\r\n      {\r\n        "label": "选项2",\r\n        "value": 2\r\n      },\r\n      {\r\n        "label": "选项3",\r\n        "value": 3\r\n      }\r\n    ],\r\n    "desc": "选择器的说明文字",\r\n    "placeholder": "请选择",\r\n    "rules": [\r\n      { "required": true, "message": "选择器不能为空", "trigger": "change" }\r\n    ]\r\n  },\r\n  {\r\n    "field": "radioVal",\r\n    "label": "单选框",\r\n    "component": "radio",\r\n    "dataType": "boolean",\r\n    "default": true,\r\n    "options": [\r\n      {\r\n        "label": "是",\r\n        "value": true\r\n      },\r\n      {\r\n        "label": "否",\r\n        "value": false\r\n      }\r\n    ],\r\n    "desc": "单选框的说明文字",\r\n    "rules": [\r\n      { "required": true, "message": "请选择单选框", "trigger": "change" }\r\n    ]\r\n  },\r\n  {\r\n    "field": "checkboxVal",\r\n    "label": "多选框",\r\n    "component": "checkbox",\r\n    "dataType": "array",\r\n    "options": [\r\n      {\r\n        "label": "选项1",\r\n        "value": 11\r\n      },\r\n      {\r\n        "label": "选项2",\r\n        "value": 22\r\n      },\r\n      {\r\n        "label": "选项3",\r\n        "value": 33\r\n      }\r\n    ],\r\n    "desc": "多选框的说明文字",\r\n    "rules": [\r\n      { "required": true, "message": "请选择多选框", "trigger": "change" }\r\n    ]\r\n  },\r\n  {\r\n    "field": "textVal",\r\n    "label": "文本框",\r\n    "component": "textarea",\r\n    "dataType": "string",\r\n    "desc": "文本框的说明文字",\r\n    "placeholder": "textarea文字",\r\n    "default": "一般放很长的文字",\r\n    "rules": [\r\n      {\r\n        "required": true,\r\n        "message": "文本框不能为空",\r\n        "trigger": "change"\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n// TODO 注意！！\r\n// [pluginConfig]数组注释仅为示例说明，实际数组JSON不可包含注释\r\n// 组件 "checkbox" 的dataType = "array"\r\n// 组件 "radio/select" 的实际值类型等于options内的value值类型\r\n\r\n\r\n'};function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={data:function(){return{pluginTypes:[{label:"内置插件",value:1},{label:"自定义插件",value:2}],form:{},dialogForm:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,viewBtn:!0,columnBtn:!1,menuPosition:"right",column:[{label:"ID",prop:"id",width:60},{label:"插件名称",prop:"engName",search:!0,overHidden:!0},{label:"插件描述",prop:"chnName",search:!0,overHidden:!0},{label:"默认执行顺序",prop:"order",hide:!0},{label:"表单定义",prop:"config",overHidden:!0},{label:"自定义配置",prop:"fixedConfig",overHidden:!0}]},data:[],rules:{engName:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[A-Za-z_][A-Za-z\d_]+$/,message:"格式有误",trigger:"blur"}],chnName:[{required:!0,message:"必填",trigger:"blur"}],order:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^\d+$/,message:"请输入自然数",trigger:"blur"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1},tipsDialog:{title:"js",visible:!1,content:"111"}}},computed:g(g({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.gateway_plugin_add,!1),editBtn:this.vaildData(this.permission.gateway_plugin_edit,!1),viewBtn:this.vaildData(this.permission.gateway_plugin_view,!1),delBtn:!1}},editDisabled:function(){return"edit"===this.detailDialog.type&&1==this.dialogForm.type}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},components:{dataEditor:d["default"],codeHighlight:p["default"],tooltipCustom:s["default"]},methods:{delPermission:function(e){return this.vaildData(this.permission.gateway_plugin_delete,!1)&&2===e},showFormTips:function(){this.tipsDialog.content=h.pluginFormJS,this.tipsDialog.visible=!0},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var a=Object(c["b"])(e.dialogForm),n=Object(u["k"])(a.config);if(a.config&&!n)return e.$message.error("表单定义配置JSON格式有误"),!1;if(a.config&&!(a.config instanceof Array))return e.$message.error("表单定义配置需为数组格式结构"),!1;var i=Object.assign({},a);a.config&&a.config.length?i.config=JSON.stringify(a.config):i.config="","edit"===e.detailDialog.type?e.rowUpdate(i):e.rowSave(i)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,Object(o["a"])(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,Object(o["f"])(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var a=this;switch(this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}this.dialogForm={type:2},["edit","view"].includes(t)&&Object(o["c"])(this.form.id).then((function(e){a.form=e.data.data,a.dialogForm=Object.assign({},e.data.data||{}),a.detailDialog.visible=!0})),this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["d"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},b=m,v=(a("76d3"),a("2877")),y=Object(v["a"])(b,n,i,!1,null,null,null);t["default"]=y.exports},"216a":function(e,t,a){var n=a("6d8b"),i=a("3842"),r=a("eda2"),o=a("944e"),s=a("89e3"),l=s.prototype,c=Math.ceil,u=Math.floor,d=1e3,p=60*d,h=60*p,f=24*h,g=function(e,t,a,n){while(a<n){var i=a+n>>>1;e[i][1]<t?a=i+1:n=i}return a},m=s.extend({type:"time",getLabel:function(e){var t=this._stepLvl,a=new Date(e);return r.formatTime(t[0],a,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=f,t[1]+=f),t[1]===-1/0&&t[0]===1/0){var a=new Date;t[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),t[0]=t[1]-f}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var n=this._interval;e.fixMin||(t[0]=i.round(u(t[0]/n)*n)),e.fixMax||(t[1]=i.round(c(t[1]/n)*n))},niceTicks:function(e,t,a){e=e||10;var n=this._extent,r=n[1]-n[0],s=r/e;null!=t&&s<t&&(s=t),null!=a&&s>a&&(s=a);var l=b.length,d=g(b,s,0,l),p=b[Math.min(d,l-1)],h=p[1];if("year"===p[0]){var f=r/h,m=i.nice(f/e,!0);h*=m}var v=this.getSetting("useUTC")?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,y=[Math.round(c((n[0]-v)/h)*h+v),Math.round(u((n[1]-v)/h)*h+v)];o.fixExtent(y,n),this._stepLvl=p,this._interval=h,this._niceExtent=y},parse:function(e){return+i.parseDate(e)}});n.each(["contain","normalize"],(function(e){m.prototype[e]=function(t){return l[e].call(this,this.parse(t))}}));var b=[["hh:mm:ss",d],["hh:mm:ss",5*d],["hh:mm:ss",10*d],["hh:mm:ss",15*d],["hh:mm:ss",30*d],["hh:mm\nMM-dd",p],["hh:mm\nMM-dd",5*p],["hh:mm\nMM-dd",10*p],["hh:mm\nMM-dd",15*p],["hh:mm\nMM-dd",30*p],["hh:mm\nMM-dd",h],["hh:mm\nMM-dd",2*h],["hh:mm\nMM-dd",6*h],["hh:mm\nMM-dd",12*h],["MM-dd\nyyyy",f],["MM-dd\nyyyy",2*f],["MM-dd\nyyyy",3*f],["MM-dd\nyyyy",4*f],["MM-dd\nyyyy",5*f],["MM-dd\nyyyy",6*f],["week",7*f],["MM-dd\nyyyy",10*f],["week",14*f],["week",21*f],["month",31*f],["week",42*f],["month",62*f],["week",70*f],["quarter",95*f],["month",31*f*4],["month",31*f*5],["half-year",380*f/2],["month",31*f*8],["month",31*f*10],["year",380*f]];m.create=function(e){return new m({useUTC:e.ecModel.get("useUTC")})};var v=m;e.exports=v},"217b8":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("3301")),r=a("4f85"),o=r.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return i(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});e.exports=o},"218b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"audit-detail",attrs:{title:e.title,"append-to-body":"",top:"5vh",width:"60%",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"apply-table-wrap"},[a("div",{staticClass:"b-tip"},[e._v("操作以下接口：")]),a("el-table",{attrs:{data:e.tableData,border:"",stripe:"",size:"mini","max-height":"200"}},[a("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),a("el-table-column",{attrs:{prop:"name",label:"接口名"}})],1)],1),a("el-form",{ref:"auditForm",staticClass:"data-form",attrs:{model:e.auditForm,rules:e.rules,disabled:!e.permissionList.auditBtn,size:"mini","label-width":"100px"}},[a("el-form-item",{attrs:{label:"标题："}},[e._v("\n      "+e._s(e.auditForm.title)+"\n    ")]),a("el-form-item",{attrs:{label:"申请类型："}},[e._v("\n      "+e._s((0===e.auditForm.type?"发布":1===e.auditForm.type&&"下线")||e.auditForm.type||"-")+"\n    ")]),a("el-form-item",{attrs:{label:"申请原因："}},[e._v("\n      "+e._s(e.auditForm.reason)+"\n    ")]),a("el-form-item",{attrs:{label:"申请人："}},[e._v("\n      "+e._s(e.auditForm.applyBy||e.auditForm.createBy)+"\n    ")]),a("el-form-item",{attrs:{label:"申请时间："}},[e._v("\n      "+e._s(e.auditForm.createTime)+"\n    ")]),e.auditPermission?[a("el-form-item",{attrs:{label:"审核结果：",prop:"approvalResult",required:""}},[a("el-radio-group",{model:{value:e.auditForm.approvalResult,callback:function(t){e.$set(e.auditForm,"approvalResult",t)},expression:"auditForm.approvalResult"}},e._l(e.auditState,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"审核备注：",prop:"approvalRemark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"审核备注（选填）"},model:{value:e.auditForm.approvalRemark,callback:function(t){e.$set(e.auditForm,"approvalRemark",t)},expression:"auditForm.approvalRemark"}})],1)]:[a("el-form-item",{attrs:{label:"审核人："}},[e._v("\n        "+e._s(e.auditForm.approvalBy)+"\n      ")]),a("el-form-item",{attrs:{label:"审核结果："}},[2===e.auditForm.approvalResult?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("审核通过")]):1===e.auditForm.approvalResult?a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("审核不通过")]):a("span",[e._v(e._s(e.auditForm.approvalResult))])],1),a("el-form-item",{attrs:{label:"审核备注："}},[e._v("\n        "+e._s(e.auditForm.approvalRemark)+"\n      ")]),a("el-form-item",{attrs:{label:"审核时间："}},[e._v("\n        "+e._s(e.auditForm.approvalTime)+"\n      ")])]],2),e.auditPermission?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.permissionList.auditBtn?a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.confirm}},[e._v("审核\n    ")]):e._e(),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取消")])],1):e._e()],1)},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("ade3")),o=(a("c5f6"),a("5880")),s=a("134f"),l=a("cec1");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"apply-detail",data:function(){return{loading:!1,tableData:[],auditForm:{type:"",remark:""}}},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"发布|下线审核"},audit:{type:Boolean,default:!1},id:{type:[String,Number],required:!0},data:{type:Object,required:!0},callback:{type:Function}},computed:u(u({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{auditBtn:this.vaildData(this.permission.aggregate_apply_audit,!1)}},auditState:function(){return l["b"]},auditPermission:function(){return this.permissionList.auditBtn&&this.audit&&0===this.auditForm.status||!1}}),components:{},watch:{data:{immediate:!0,handler:function(){this.init()}}},methods:{confirm:function(){var e=this;if(!this.auditForm.approvalResult)return this.$message.error("请选择审核结果"),!1;var t={};return t.id=this.auditForm.id,t.approvalResult=this.auditForm.approvalResult,t.approvalRemark=this.auditForm.approvalRemark,this.loading=!0,Object(s["a"])(t).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("审核成功"),e.$emit("update:visible",!1),e.loading=!1})).catch((function(){e.loading=!1}))},init:function(){this.auditForm=this.data;var e=[];(this.data.configs||[]).forEach((function(t){e.push(Object.assign({id:t.configId,name:t.configName},t))})),this.tableData=e},handleClose:function(e){this.$emit("update:visible",!1),e&&e()}}},p=d,h=(a("7fc3"),a("5d17"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,"2092a22f",null);t["default"]=f.exports},2190:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"api-detail-response"},[a("data-params",e._b({attrs:{"header-name":"响应头","body-name":"响应体","has-query":!1,data:e.response,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(t){e.response=t}}},"data-params",e.$attrs,!1))],1)},i=[],r=a("942a"),o={name:"api-detail-validate",data:function(){return{response:{}}},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{dataParams:r["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},response:{deep:!0,handler:function(){this.emitData()}}},methods:{emitData:function(){this.$emit("update:data",this.response)},initData:function(e){this.response=e||this.data||{}}}},s=o,l=a("2877"),c=Object(l["a"])(s,n,i,!1,null,"d220a3e4",null);t["default"]=c.exports},"21d4":function(e,t,a){"use strict";a("7b95")},"227d":function(e,t,a){},2286:function(e,t,a){var n=a("85e3"),i=Math.max;function r(e,t,a){return t=i(void 0===t?e.length-1:t,0),function(){var r=arguments,o=-1,s=i(r.length-t,0),l=Array(s);while(++o<s)l[o]=r[t+o];o=-1;var c=Array(t+1);while(++o<t)c[o]=r[o];return c[t]=a(l),n(e,this,c)}}e.exports=r},"22d1":function(e,t){var a={};a="object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"===typeof document&&"undefined"!==typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"===typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:i(navigator.userAgent);var n=a;function i(e){var t={},a={},n=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),r=e.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(e);return n&&(a.firefox=!0,a.version=n[1]),i&&(a.ie=!0,a.version=i[1]),r&&(a.edge=!0,a.version=r[1]),o&&(a.weChat=!0),{browser:a,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!==typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!a.ie&&!a.edge,pointerEventsSupported:"onpointerdown"in window&&(a.edge||a.ie&&a.version>=11),domSupported:"undefined"!==typeof document}}e.exports=n},2306:function(e,t,a){var n=a("6d8b"),i=a("342d"),r=a("41ef"),o=a("1687"),s=a("401b"),l=a("cbe5"),c=a("0cde"),u=a("0da8");t.Image=u;var d=a("e1fc");t.Group=d;var p=a("76a5");t.Text=p;var h=a("d9fc");t.Circle=h;var f=a("4aa2");t.Sector=f;var g=a("4573");t.Ring=g;var m=a("87b1");t.Polygon=m;var b=a("d498");t.Polyline=b;var v=a("c7a2");t.Rect=v;var y=a("cb11");t.Line=y;var w=a("ac0f");t.BezierCurve=w;var _=a("8d32");t.Arc=_;var x=a("d4c6");t.CompoundPath=x;var O=a("48a9");t.LinearGradient=O;var D=a("dded");t.RadialGradient=D;var C=a("9850");t.BoundingRect=C;var k=a("392f");t.IncrementalDisplayable=k;var S=a("9cf9"),j=Math.max,P=Math.min,T={},I=1,L={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},z="emphasis",$="normal",M=1,E={},A={};function R(e){return l.extend(e)}function q(e,t){return i.extendFromString(e,t)}function B(e,t){A[e]=t}function F(e){if(A.hasOwnProperty(e))return A[e]}function N(e,t,a,n){var r=i.createFromString(e,t);return a&&("center"===n&&(a=H(a,r.getBoundingRect())),W(r,a)),r}function V(e,t,a){var n=new u({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===a){var i={width:e.width,height:e.height};n.setStyle(H(t,i))}}});return n}function H(e,t){var a,n=t.width/t.height,i=e.height*n;i<=e.width?a=e.height:(i=e.width,a=i/n);var r=e.x+e.width/2,o=e.y+e.height/2;return{x:r-i/2,y:o-a/2,width:i,height:a}}var U=i.mergePath;function W(e,t){if(e.applyTransform){var a=e.getBoundingRect(),n=a.calculateTransform(t);e.applyTransform(n)}}function G(e){return S.subPixelOptimizeLine(e.shape,e.shape,e.style),e}function J(e){return S.subPixelOptimizeRect(e.shape,e.shape,e.style),e}var X=S.subPixelOptimize;function Y(e){return null!=e&&"none"!==e}var K=n.createHashMap(),Q=0;function Z(e){if("string"!==typeof e)return e;var t=K.get(e);return t||(t=r.lift(e,-.1),Q<1e4&&(K.set(e,t),Q++)),t}function ee(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(t){var a=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var n=e.style;for(var i in t)null!=t[i]&&(a[i]=n[i]);a.fill=n.fill,a.stroke=n.stroke}else e.__cachedNormalStl=e.__cachedNormalZ2=null}}function te(e){var t=e.__hoverStl;if(t&&!e.__highlighted){var a=e.__zr,n=e.useHoverLayer&&a&&"canvas"===a.painter.type;if(e.__highlighted=n?"layer":"plain",!(e.isGroup||!a&&e.useHoverLayer)){var i=e,r=e.style;n&&(i=a.addHover(e),r=i.style),De(r),n||ee(i),r.extendFrom(t),ae(r,t,"fill"),ae(r,t,"stroke"),Oe(r),n||(e.dirty(!1),e.z2+=I)}}}function ae(e,t,a){!Y(t[a])&&Y(e[a])&&(e[a]=Z(e[a]))}function ne(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if("layer"===t)e.__zr&&e.__zr.removeHover(e);else{var a=e.style,n=e.__cachedNormalStl;n&&(De(a),e.setStyle(n),Oe(a));var i=e.__cachedNormalZ2;null!=i&&e.z2-i===I&&(e.z2=i)}}function ie(e,t,a){var n,i=$,r=$;e.__highlighted&&(i=z,n=!0),t(e,a),e.__highlighted&&(r=z,n=!0),e.isGroup&&e.traverse((function(e){!e.isGroup&&t(e,a)})),n&&e.__highDownOnUpdate&&e.__highDownOnUpdate(i,r)}function re(e,t){t=e.__hoverStl=!1!==t&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,ne(e),te(e))}function oe(e){!ue(this,e)&&!this.__highByOuter&&ie(this,te)}function se(e){!ue(this,e)&&!this.__highByOuter&&ie(this,ne)}function le(e){this.__highByOuter|=1<<(e||0),ie(this,te)}function ce(e){!(this.__highByOuter&=~(1<<(e||0)))&&ie(this,ne)}function ue(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function de(e,t){pe(e,!0),ie(e,re,t)}function pe(e,t){var a=!1===t;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!a||e.__highDownDispatcher){var n=a?"off":"on";e[n]("mouseover",oe)[n]("mouseout",se),e[n]("emphasis",le)[n]("normal",ce),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!a}}function he(e){return!(!e||!e.__highDownDispatcher)}function fe(e){var t=E[e];return null==t&&M<=32&&(t=E[e]=M++),t}function ge(e,t,a,i,r,o,s){r=r||T;var l,c=r.labelFetcher,u=r.labelDataIndex,d=r.labelDimIndex,p=r.labelProp,h=a.getShallow("show"),f=i.getShallow("show");(h||f)&&(c&&(l=c.getFormattedLabel(u,"normal",null,d,p)),null==l&&(l=n.isFunction(r.defaultText)?r.defaultText(u,r):r.defaultText));var g=h?l:null,m=f?n.retrieve2(c?c.getFormattedLabel(u,"emphasis",null,d,p):null,l):null;null==g&&null==m||(be(e,a,o,r),be(t,i,s,r,!0)),e.text=g,t.text=m}function me(e,t,a){var i=e.style;t&&(De(i),e.setStyle(t),Oe(i)),i=e.__hoverStl,a&&i&&(De(i),n.extend(i,a),Oe(i))}function be(e,t,a,i,r){return ye(e,t,i,r),a&&n.extend(e,a),e}function ve(e,t,a){var n,i={isRectText:!0};!1===a?n=!0:i.autoColor=a,ye(e,t,i,n)}function ye(e,t,a,i){if(a=a||T,a.isRectText){var r;a.getTextPosition?r=a.getTextPosition(t,i):(r=t.getShallow("position")||(i?null:"inside"),"outside"===r&&(r="top")),e.textPosition=r,e.textOffset=t.getShallow("offset");var o=t.getShallow("rotate");null!=o&&(o*=Math.PI/180),e.textRotation=o,e.textDistance=n.retrieve2(t.getShallow("distance"),i?null:5)}var s,l=t.ecModel,c=l&&l.option.textStyle,u=we(t);if(u)for(var d in s={},u)if(u.hasOwnProperty(d)){var p=t.getModel(["rich",d]);_e(s[d]={},p,c,a,i)}return e.rich=s,_e(e,t,c,a,i,!0),a.forceRich&&!a.textStyle&&(a.textStyle={}),e}function we(e){var t;while(e&&e!==e.ecModel){var a=(e.option||T).rich;if(a)for(var n in t=t||{},a)a.hasOwnProperty(n)&&(t[n]=1);e=e.parentModel}return t}function _e(e,t,a,i,r,o){a=!r&&a||T,e.textFill=xe(t.getShallow("color"),i)||a.color,e.textStroke=xe(t.getShallow("textBorderColor"),i)||a.textBorderColor,e.textStrokeWidth=n.retrieve2(t.getShallow("textBorderWidth"),a.textBorderWidth),r||(o&&(e.insideRollbackOpt=i,Oe(e)),null==e.textFill&&(e.textFill=i.autoColor)),e.fontStyle=t.getShallow("fontStyle")||a.fontStyle,e.fontWeight=t.getShallow("fontWeight")||a.fontWeight,e.fontSize=t.getShallow("fontSize")||a.fontSize,e.fontFamily=t.getShallow("fontFamily")||a.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),o&&i.disableBox||(e.textBackgroundColor=xe(t.getShallow("backgroundColor"),i),e.textPadding=t.getShallow("padding"),e.textBorderColor=xe(t.getShallow("borderColor"),i),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||a.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||a.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||a.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||a.textShadowOffsetY}function xe(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function Oe(e){var t,a=e.textPosition,n=e.insideRollbackOpt;if(n&&null==e.textFill){var i=n.autoColor,r=n.isRectText,o=n.useInsideStyle,s=!1!==o&&(!0===o||r&&a&&"string"===typeof a&&a.indexOf("inside")>=0),l=!s&&null!=i;(s||l)&&(t={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),s&&(e.textFill="#fff",null==e.textStroke&&(e.textStroke=i,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),l&&(e.textFill=i)}e.insideRollback=t}function De(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function Ce(e,t){var a=t&&t.getModel("textStyle");return n.trim([e.fontStyle||a&&a.getShallow("fontStyle")||"",e.fontWeight||a&&a.getShallow("fontWeight")||"",(e.fontSize||a&&a.getShallow("fontSize")||12)+"px",e.fontFamily||a&&a.getShallow("fontFamily")||"sans-serif"].join(" "))}function ke(e,t,a,n,i,r){"function"===typeof i&&(r=i,i=null);var o=n&&n.isAnimationEnabled();if(o){var s=e?"Update":"",l=n.getShallow("animationDuration"+s),c=n.getShallow("animationEasing"+s),u=n.getShallow("animationDelay"+s);"function"===typeof u&&(u=u(i,n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null)),"function"===typeof l&&(l=l(i)),l>0?t.animateTo(a,l,u||0,c,r,!!r):(t.stopAnimation(),t.attr(a),r&&r())}else t.stopAnimation(),t.attr(a),r&&r()}function Se(e,t,a,n,i){ke(!0,e,t,a,n,i)}function je(e,t,a,n,i){ke(!1,e,t,a,n,i)}function Pe(e,t){var a=o.identity([]);while(e&&e!==t)o.mul(a,e.getLocalTransform(),a),e=e.parent;return a}function Te(e,t,a){return t&&!n.isArrayLike(t)&&(t=c.getLocalTransform(t)),a&&(t=o.invert([],t)),s.applyTransform([],e,t)}function Ie(e,t,a){var n=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),i=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),r=["left"===e?-n:"right"===e?n:0,"top"===e?-i:"bottom"===e?i:0];return r=Te(r,t,a),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function Le(e,t,a,i){if(e&&t){var r=o(e);t.traverse((function(e){if(!e.isGroup&&e.anid){var t=r[e.anid];if(t){var n=l(e);e.attr(l(t)),Se(e,n,a,e.dataIndex)}}}))}function o(e){var t={};return e.traverse((function(e){!e.isGroup&&e.anid&&(t[e.anid]=e)})),t}function l(e){var t={position:s.clone(e.position),rotation:e.rotation};return e.shape&&(t.shape=n.extend({},e.shape)),t}}function ze(e,t){return n.map(e,(function(e){var a=e[0];a=j(a,t.x),a=P(a,t.x+t.width);var n=e[1];return n=j(n,t.y),n=P(n,t.y+t.height),[a,n]}))}function $e(e,t){var a=j(e.x,t.x),n=P(e.x+e.width,t.x+t.width),i=j(e.y,t.y),r=P(e.y+e.height,t.y+t.height);if(n>=a&&r>=i)return{x:a,y:i,width:n-a,height:r-i}}function Me(e,t,a){t=n.extend({rectHover:!0},t);var i=t.style={strokeNoScale:!0};if(a=a||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),n.defaults(i,a),new u(t)):N(e.replace("path://",""),t,a,"center")}function Ee(e,t,a,n,i){for(var r=0,o=i[i.length-1];r<i.length;r++){var s=i[r];if(Ae(e,t,a,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function Ae(e,t,a,n,i,r,o,s){var l=a-e,c=n-t,u=o-i,d=s-r,p=Re(u,d,l,c);if(qe(p))return!1;var h=e-i,f=t-r,g=Re(h,f,l,c)/p;if(g<0||g>1)return!1;var m=Re(h,f,u,d)/p;return!(m<0||m>1)}function Re(e,t,a,n){return e*n-a*t}function qe(e){return e<=1e-6&&e>=-1e-6}B("circle",h),B("sector",f),B("ring",g),B("polygon",m),B("polyline",b),B("rect",v),B("line",y),B("bezierCurve",w),B("arc",_),t.Z2_EMPHASIS_LIFT=I,t.CACHED_LABEL_STYLE_PROPERTIES=L,t.extendShape=R,t.extendPath=q,t.registerShape=B,t.getShapeClass=F,t.makePath=N,t.makeImage=V,t.mergePath=U,t.resizePath=W,t.subPixelOptimizeLine=G,t.subPixelOptimizeRect=J,t.subPixelOptimize=X,t.setElementHoverStyle=re,t.setHoverStyle=de,t.setAsHighDownDispatcher=pe,t.isHighDownDispatcher=he,t.getHighlightDigit=fe,t.setLabelStyle=ge,t.modifyLabelStyle=me,t.setTextStyle=be,t.setText=ve,t.getFont=Ce,t.updateProps=Se,t.initProps=je,t.getTransform=Pe,t.applyTransform=Te,t.transformDirection=Ie,t.groupTransition=Le,t.clipPointsByRect=ze,t.clipRectByRect=$e,t.createIcon=Me,t.linePolygonIntersect=Ee,t.lineLineIntersect=Ae},2411:function(e,t,a){var n=a("f909"),i=a("2ec1"),r=i((function(e,t,a,i){n(e,t,a,i)}));e.exports=r},2420:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"api-detail-base"},[a("el-form",{ref:"baseForm",attrs:{model:e.baseForm,rules:e.rules,size:"small",disabled:e.disabled,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属服务",prop:"serviceId"}},[a("el-select",{attrs:{placeholder:"请选择所属服务",filterable:""},on:{change:e.getServiceName},model:{value:e.baseForm.serviceId,callback:function(t){e.$set(e.baseForm,"serviceId",t)},expression:"baseForm.serviceId"}},e._l(e.aggregateServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.id}})})),1),!e.disabled&&e.permissionList.serviceAddBtn?a("span",{staticClass:"add-service",on:{click:function(t){return e.goAddService()}}},[e._v("新增服务")]):e._e()],1),a("el-form-item",{attrs:{label:"接口描述",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入接口描述，如：用户详情接口"},model:{value:e.baseForm.name,callback:function(t){e.$set(e.baseForm,"name",t)},expression:"baseForm.name"}})],1),a("el-form-item",{attrs:{label:"方法",prop:"method"}},[a("el-select",{attrs:{placeholder:"请选择方法"},model:{value:e.baseForm.method,callback:function(t){e.$set(e.baseForm,"method",t)},expression:"baseForm.method"}},e._l(e.apiMethod,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"路径",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入接口路径（例：/member/getMebInfo"},model:{value:e.baseForm.path,callback:function(t){e.$set(e.baseForm,"path",t)},expression:"baseForm.path"}}),a("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("（例：/member/getMebInfo）")])],1),a("el-form-item",{attrs:{label:"开发人员",prop:"developer"}},[a("el-input",{attrs:{placeholder:"请输入开发人员"},model:{value:e.baseForm.developer,callback:function(t){e.$set(e.baseForm,"developer",t)},expression:"baseForm.developer"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:""},model:{value:e.baseForm.description,callback:function(t){e.$set(e.baseForm,"description",t)},expression:"baseForm.description"}})],1)],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7514"),a("ade3")),o=a("5880"),s=a("16cd");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={name:"api-detail-base",data:function(){return{baseForm:{},rules:{serviceId:[{required:!0,message:"请选择所属服务",trigger:"change"}],name:[{required:!0,message:"请输入接口描述",trigger:"blur"}],title:[{required:!0,message:"请输入接口中文名",trigger:"blur"}],method:[{required:!0,message:"请选择方法",trigger:"change"}],path:[{required:!0,message:"请输入路径",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"}]}}},props:{data:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},computed:c(c({},Object(o["mapGetters"])(["apiMethod","aggregateServiceOptions","permission"])),{},{permissionList:function(){return{serviceAddBtn:this.vaildData(this.permission.aggregate_service_add,!1)}}}),watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}}},created:function(){this.getAggregateServiceOptions()},methods:c(c({},Object(o["mapActions"])(["getAggregateServiceOptions"])),{},{goAddService:function(){this.$router.push({path:"/aggregate/service",query:{add:1}})},emitData:function(){this.$emit("update:data",Object(s["b"])(this.baseForm))},validateForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"baseForm";this.emitData();var t=!0;return this.$refs[e].validate((function(e){t=e})),t},getServiceName:function(e){e&&(this.baseForm.serviceName=this.aggregateServiceOptions.find((function(t){return t.id===e})).value||"")},initData:function(e){this.baseForm=e||this.data||{id:"",serviceId:"",name:"",title:"",method:"",path:"",developer:"",description:"",serviceName:""}}})},d=u,p=(a("8890"),a("2877")),h=Object(p["a"])(d,n,i,!1,null,"d68abc54",null);t["default"]=h.exports},"242e":function(e,t,a){var n=a("72af"),i=a("ec69");function r(e,t){return e&&n(e,t,i)}e.exports=r},2457:function(e,t,a){"use strict";t["a"]=[{label:"通用图标",list:["iconfont iconicon_roundadd","iconfont iconicon_compile","iconfont iconicon_glass","iconfont iconicon_roundclose","iconfont iconicon_roundreduce","iconfont iconicon_delete","iconfont iconicon_shakehands","iconfont iconicon_task_done","iconfont iconicon_voipphone","iconfont iconicon_safety","iconfont iconicon_work","iconfont iconicon_study","iconfont iconicon_task","iconfont iconicon_subordinate","iconfont iconicon_star","iconfont iconicon_setting","iconfont iconicon_sms","iconfont iconicon_share","iconfont iconicon_secret","iconfont iconicon_scan_namecard","iconfont iconicon_principal","iconfont iconicon_group","iconfont iconicon_send","iconfont iconicon_scan","iconfont iconicon_search","iconfont iconicon_refresh","iconfont iconicon_savememo","iconfont iconicon_QRcode","iconfont iconicon_im_keyboard","iconfont iconicon_redpacket","iconfont iconicon_photo","iconfont iconicon_qq","iconfont iconicon_wechat","iconfont iconicon_phone","iconfont iconicon_namecard","iconfont iconicon_notice","iconfont iconicon_next_arrow","iconfont iconicon_left","iconfont iconicon_more","iconfont iconicon_details","iconfont iconicon_message","iconfont iconicon_mobilephone","iconfont iconicon_im_voice","iconfont iconicon_GPS","iconfont iconicon_ding","iconfont iconicon_exchange","iconfont iconicon_cspace","iconfont iconicon_doc","iconfont iconicon_dispose","iconfont iconicon_discovery","iconfont iconicon_community_line","iconfont iconicon_cloud_history","iconfont iconicon_coinpurse_line","iconfont iconicon_airplay","iconfont iconicon_at","iconfont iconicon_addressbook","iconfont iconicon_boss","iconfont iconicon_addperson","iconfont iconicon_affiliations_li","iconfont iconicon_addmessage","iconfont iconicon_addresslist","iconfont iconicon_add","iconfont icongithub","iconfont icongitee2","el-icon-set-up","el-icon-s-data","el-icon-paperclip","el-icon-s-claim","el-icon-s-goods"]},{label:"系统图标",list:["iconfont icon-zhongyingwen","iconfont icon-caidan","iconfont icon-rizhi1","iconfont icon-zhuti","iconfont icon-suoping","iconfont icon-bug","iconfont icon-qq1","iconfont icon-weixin1","iconfont icon-shouji","iconfont icon-mima","iconfont icon-yonghu","iconfont icon-yanzhengma","iconfont icon-canshu","iconfont icon-dongtai","iconfont icon-iconset0265","iconfont icon-shujuzhanshi2","iconfont icon-tuichuquanping","iconfont icon-rizhi","iconfont icon-cuowutishitubiao","iconfont icon-debug","iconfont icon-iconset0216","iconfont icon-quanxian","iconfont icon-quanxian","iconfont icon-shuaxin","iconfont icon-bofangqi-suoping","iconfont icon-quanping","iconfont icon-navicon","iconfont icon-biaodan","iconfont icon-liuliangyunpingtaitubiao08","iconfont icon-caidanguanli","iconfont icon-cuowu","iconfont icon-wxbgongju","iconfont icon-tuichu","iconfont icon-daohanglanmoshi02","iconfont icon-changyonglogo27","iconfont icon-biaoge","iconfont icon-baidu1","iconfont icon-tubiao","iconfont icon-souhu","iconfont icon-msnui-360","iconfont icon-iframe","iconfont icon-huanyingye"]}]},2474:function(e,t,a){var n=a("2b3e"),i=n.Uint8Array;e.exports=i},2478:function(e,t,a){var n=a("4245");function i(e){return n(this,e).get(e)}e.exports=i},"247e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"apply-dialog",attrs:{title:e.title,"append-to-body":"",width:"80%",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"apply-table-wrap"},[a("div",{staticClass:"b-tip"},[e._v("\n      操作以下接口：\n      "),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){e.drawer=!0}}},[e._v("添加")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"",size:"mini","max-height":"240"}},[a("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),a("el-table-column",{attrs:{prop:"name",label:"接口名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.name||t.row.configName)+"\n        ")]}}])}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.tableData)}}},[e._v("\n            移除\n          ")])]}}])})],1)],1),a("el-form",{ref:"applyForm",attrs:{model:e.applyForm,rules:e.rules,size:"small","label-width":"120px"}},[a("el-form-item",{attrs:{label:"标题：",prop:"title"}},[a("el-input",{attrs:{placeholder:"发布|下线标题"},model:{value:e.applyForm.title,callback:function(t){e.$set(e.applyForm,"title",t)},expression:"applyForm.title"}})],1),a("el-form-item",{attrs:{label:"类型：",prop:"type"}},[a("el-radio-group",{model:{value:e.applyForm.type,callback:function(t){e.$set(e.applyForm,"type",t)},expression:"applyForm.type"}},[a("el-radio",{attrs:{label:0}},[e._v("发布")]),a("el-radio",{attrs:{label:1}},[e._v("下线")])],1)],1),a("el-form-item",{attrs:{label:"申请原因：",prop:"reason"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"申请原因"},model:{value:e.applyForm.reason,callback:function(t){e.$set(e.applyForm,"reason",t)},expression:"applyForm.reason"}})],1),e.isOA?e._e():a("el-form-item",{attrs:{label:"选择审核人：",prop:"approvalUser"}},[a("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.applyForm.approvalUser,callback:function(t){e.$set(e.applyForm,"approvalUser",t)},expression:"applyForm.approvalUser"}},e._l(e.approvalUsers,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.confirm}},[e._v("提交\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取 消")])],1),a("el-drawer",{ref:"drawer",attrs:{"append-to-body":"",title:"添加接口",size:"60%",visible:e.drawer},on:{"update:visible":function(t){e.drawer=t}}},[a("div",[a("div",{staticStyle:{"padding-bottom":"50px"}},[a("apply-api",{attrs:{selection:e.selectionApi},on:{"update:selection":function(t){e.selectionApi=t}}})],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleDrawerConfirm()}}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.drawer=!1}}},[e._v("取 消")])],1)])])],1)},i=[],r=(a("4f7f"),a("5df3"),a("1c4c"),a("456d"),a("ac6a"),a("c5f6"),a("708f")),o=a("0f43"),s=a("6d18"),l={name:"publish-dialog",data:function(){return{loading:!1,drawer:!1,selectionApi:[],tableData:[],applyForm:{title:"",type:"",reason:"",approvalUser:""},approvalUsers:[],rules:{title:[{required:!0,message:"请输入申请标题",trigger:"blur"}],type:[{required:!0,message:"请选择申请类型",trigger:"change"}],approvalUser:[{required:!0,message:"请选择审核人",trigger:"change"}]},isOA:!1}},props:{visible:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}},form:{type:Object,default:function(){return{}}},id:{type:[Number,String]},callback:{type:Function}},computed:{title:function(){return this.id?"发布|下线申请修改":"发布|下线申请"},ids:function(){var e=[];return this.tableData.forEach((function(t){e.push(t.id||t.configId)})),e}},components:{applyApi:s["default"]},watch:{visible:{handler:function(e){e||(this.applyForm={title:"",type:"",reason:"",approvalUser:""})}},list:{deep:!0,handler:function(){this.initData()}},form:{deep:!0,handler:function(e){var t=this;Object.keys(this.applyForm).forEach((function(a){t.applyForm[a]=e[a]}))}},ids:{handler:function(){this.getApprovalUsers()}}},methods:{handleDrawerConfirm:function(){this.$refs.drawer.closeDrawer(),this.addData(this.selectionApi)},getApprovalUsers:function(){var e=this;if(!this.ids||0===this.ids.length)return!1;Object(r["e"])({configIds:this.ids}).then((function(t){var a=t.data.data;e.approvalUsers=a.approvalUsers||[],e.applyForm.approvalUser&&!e.approvalUsers.some((function(t){return t.userId===e.applyForm.approvalUser}))&&(e.applyForm.approvalUser="")}))},confirm:function(){var e=this;if(!this.ids||0===this.ids.length)return this.$message.warning("请选择至少一个接口"),!1;this.$refs.applyForm.validate((function(t){if(t){var a={};a.configIds=e.ids,a.title=e.applyForm.title,a.approvalUser=e.applyForm.approvalUser,a.type=e.applyForm.type,a.reason=e.applyForm.reason,e.loading=!0,e.id?(a.applyId=e.id,e.updateApply(a)):e.addApply(a)}}))},addApply:function(e){var t=this;return Object(r["b"])(e).then((function(){t.callback&&"function"===typeof t.callback&&t.callback(),t.$message.success("申请成功"),t.$emit("update:visible",!1),t.loading=!1})).catch((function(){t.loading=!1}))},updateApply:function(e){var t=this;return Object(o["g"])(e).then((function(){t.callback&&"function"===typeof t.callback&&t.callback(),t.$message.success("修改成功"),t.$emit("update:visible",!1),t.loading=!1})).catch((function(){t.loading=!1}))},deleteRow:function(e,t){t.splice(e,1)},initData:function(){this.tableData=this.list||[].concat(this.list)},addData:function(e){var t={},a=this.tableData.concat(e);a=Array.from(new Set(a)),a=a.reduce((function(e,a){var n=a.id||a.configId;return t[n]||(t[n]=!0,e.push(a)),e}),[]),this.tableData=a},handleClose:function(e){this.$emit("update:visible",!1),e&&e()},approvalByOa:function(){var e=this;Object(o["a"])().then((function(t){200==t.data.code&&(e.isOA=t.data.data)}))}},created:function(){this.approvalByOa()}},c=l,u=(a("8cb1"),a("3bae"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"0f487c47",null);t["default"]=d.exports},"247e2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.reload?a("avue-crud",{staticClass:"values-table",attrs:{option:e.option,data:e.formData,"table-loading":e.loading},on:{"row-del":e.rowDel,"row-update":e.addUpdate},scopedSlots:e._u([{key:"key",fn:function(t){return[e.isUpload&&t.row.$cellEdit?a("el-input",{model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}},[a("el-select",{staticClass:"input-with-select",attrs:{slot:"append",placeholder:"请选择"},on:{change:function(e){t.row.value=""}},slot:"append",model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},[a("el-option",{attrs:{label:"Text",value:"Text"}}),a("el-option",{attrs:{label:"File",value:"File"}})],1)],1):!e.isUpload&&t.row.$cellEdit?a("el-input",{model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}}):a("span",[e._v(e._s(t.row.key))])]}},{key:"value",fn:function(t){var n=t.row;return[a("div",{staticClass:"value-row"},[e.isUpload&&n.$cellEdit&&"File"===n.type?a("div",[a("span",{staticClass:"upload"},[e._v("\n            Select Files\n            "),a("input",{staticClass:"upload-input",attrs:{type:"file",multiple:"multiplt"},on:{change:function(t){return e.getFile(t,n.$index)}}})])]):e._e(),"File"!==n.type&&n.$cellEdit?a("el-input",{staticClass:"value-input",model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"row.value"}}):a("span",[e._v(e._s(n.value))])],1)]}}],null,!1,882964910)}):e._e()],1)},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("ade3")),o=(a("7f7f"),a("c54a"));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={name:"values-table",props:{data:{type:[Object,Array],default:function(){return[]}},disabled:{type:Boolean,default:!1},isUpload:{type:Boolean,default:!1}},data:function(){return{reload:!1,loading:!1,formData:[],option:{addBtn:!1,editBtn:!1,cancelBtn:!1,refreshBtn:!1,columnBtn:!1,cellBtn:!0,addBtnText:"添加",addRowBtn:!this.disabled,menu:!this.disabled,column:[{label:"字段",prop:"key",cell:!0,slot:!this.disabled,rules:[{required:!0,message:"请输入字段",trigger:"blur"}]},{label:"值",prop:"value",cell:!0,slot:!this.disabled,rules:[{required:!0,message:"请输入字段值或上传文件",trigger:"blur"}]},{label:"类型",prop:"type",hide:!0,value:"Text"},{label:"文件列表",prop:"files",hide:!0}]}}},watch:{data:{immediate:!0,deep:!0,handler:function(){var e=this.data;Array.isArray(this.data)&&(e=this.data.length>=this.formData.length?this.data:this.formData),this.initData(e)}},disabled:function(e,t){e!==t&&(this.option.addRowBtn=!e,this.option.menu=!e)},isUpload:{immediate:!0,handler:function(){var e=this.data.length>=this.formData.length?this.data:this.formData;this.initData(e),this.emitData()}}},methods:{rowDel:function(e,t){this.formData.splice(t,1),this.emitData()},addUpdate:function(e,t,a,n){n(),a(),this.emitData()},getFile:function(e,t){for(var a=e.target.files,n=[],i=0;i<a.length;i++)n.push(a[i].name);this.formData.splice(t,1,l(l({},this.formData[t]),{},{value:n.join(","),files:a}))},initData:function(e){var t=this;if(this.reload=!1,Object(o["d"])(e,"object")){var a=[];Object.keys(e).forEach((function(t){a.push({key:t,value:e[t]})})),this.formData=a}else{var n=[];e.forEach((function(e){t.isUpload&&!e.type&&(e.type="Text"),(t.isUpload||"File"!==e.type)&&n.push(e)})),this.formData=n}this.reload=!0},handleData:function(){var e=this,t=[];return this.formData.forEach((function(a){var n=e.isUpload?{files:a.files,type:a.type}:{};t.push(l({key:a.key,value:a.value,$cellEdit:a.$cellEdit},n))})),t},emitData:function(){var e=this.handleData();this.$emit("update:data",e)}}},u=c,d=(a("cd67"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},2524:function(e,t,a){var n=a("6044"),i="__lodash_hash_undefined__";function r(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=n&&void 0===t?i:t,this}e.exports=r},"253c":function(e,t,a){var n=a("3729"),i=a("1310"),r="[object Arguments]";function o(e){return i(e)&&n(e)==r}e.exports=o},2620:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/open-doc-set/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc-set/detail/").concat(e),method:"get"})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc-set/save"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc-set/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc-set/update"),method:"post",data:e})}},"26e1":function(e,t,a){var n=a("6d8b"),i=a("e0d3"),r=n.each,o=n.isObject,s=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function l(e){var t=e&&e.itemStyle;if(t)for(var a=0,i=s.length;a<i;a++){var r=s[a],o=t.normal,l=t.emphasis;o&&o[r]&&(e[r]=e[r]||{},e[r].normal?n.merge(e[r].normal,o[r]):e[r].normal=o[r],o[r]=null),l&&l[r]&&(e[r]=e[r]||{},e[r].emphasis?n.merge(e[r].emphasis,l[r]):e[r].emphasis=l[r],l[r]=null)}}function c(e,t,a){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,r=e[t].emphasis;i&&(a?(e[t].normal=e[t].emphasis=null,n.defaults(e[t],i)):e[t]=i),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r)}}function u(e){c(e,"itemStyle"),c(e,"lineStyle"),c(e,"areaStyle"),c(e,"label"),c(e,"labelLine"),c(e,"upperLabel"),c(e,"edgeLabel")}function d(e,t){var a=o(e)&&e[t],n=o(a)&&a.textStyle;if(n)for(var r=0,s=i.TEXT_STYLE_OPTIONS.length;r<s;r++){t=i.TEXT_STYLE_OPTIONS[r];n.hasOwnProperty(t)&&(a[t]=n[t])}}function p(e){e&&(u(e),d(e,"label"),e.emphasis&&d(e.emphasis,"label"))}function h(e){if(o(e)){l(e),u(e),d(e,"label"),d(e,"upperLabel"),d(e,"edgeLabel"),e.emphasis&&(d(e.emphasis,"label"),d(e.emphasis,"upperLabel"),d(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(l(t),p(t));var a=e.markLine;a&&(l(a),p(a));var i=e.markArea;i&&p(i);var r=e.data;if("graph"===e.type){r=r||e.nodes;var s=e.links||e.edges;if(s&&!n.isTypedArray(s))for(var h=0;h<s.length;h++)p(s[h]);n.each(e.categories,(function(e){u(e)}))}if(r&&!n.isTypedArray(r))for(h=0;h<r.length;h++)p(r[h]);t=e.markPoint;if(t&&t.data){var f=t.data;for(h=0;h<f.length;h++)p(f[h])}a=e.markLine;if(a&&a.data){var g=a.data;for(h=0;h<g.length;h++)n.isArray(g[h])?(p(g[h][0]),p(g[h][1])):p(g[h])}"gauge"===e.type?(d(e,"axisLabel"),d(e,"title"),d(e,"detail")):"treemap"===e.type?(c(e.breadcrumb,"itemStyle"),n.each(e.levels,(function(e){u(e)}))):"tree"===e.type&&u(e.leaves)}}function f(e){return n.isArray(e)?e:e?[e]:[]}function g(e){return(n.isArray(e)?e[0]:e)||{}}function m(e,t){r(f(e.series),(function(e){o(e)&&h(e)}));var a=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&a.push("valueAxis","categoryAxis","logAxis","timeAxis"),r(a,(function(t){r(f(e[t]),(function(e){e&&(d(e,"axisLabel"),d(e.axisPointer,"label"))}))})),r(f(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;d(t,"axisLabel"),d(t&&t.axisPointer,"label")})),r(f(e.calendar),(function(e){c(e,"itemStyle"),d(e,"dayLabel"),d(e,"monthLabel"),d(e,"yearLabel")})),r(f(e.radar),(function(e){d(e,"name")})),r(f(e.geo),(function(e){o(e)&&(p(e),r(f(e.regions),(function(e){p(e)})))})),r(f(e.timeline),(function(e){p(e),c(e,"label"),c(e,"itemStyle"),c(e,"controlStyle",!0);var t=e.data;n.isArray(t)&&n.each(t,(function(e){n.isObject(e)&&(c(e,"label"),c(e,"itemStyle"))}))})),r(f(e.toolbox),(function(e){c(e,"iconStyle"),r(e.feature,(function(e){c(e,"iconStyle")}))})),d(g(e.axisPointer),"label"),d(g(e.tooltip).axisPointer,"label")}e.exports=m},"27ec":function(e,t,a){"use strict";a("1679")},"282b":function(e,t,a){var n=a("6d8b");function i(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(t,a,i){for(var r={},o=0;o<e.length;o++){var s=e[o][1];if(!(a&&n.indexOf(a,s)>=0||i&&n.indexOf(i,s)<0)){var l=t.getShallow(s);null!=l&&(r[e[o][0]]=l)}}return r}}e.exports=i},"28c9":function(e,t){function a(){this.__data__=[],this.size=0}e.exports=a},"29a8":function(e,t){var a={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};e.exports=a},"29a9":function(e,t,a){var n=a("3eba"),i=a("b336");a("bc5f"),a("ab05"),a("06ea"),a("004f"),a("d6ef"),n.registerPreprocessor(i)},"29e1":function(e,t,a){},"2b17":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=(i.isTypedArray,i.extend),o=(i.assert,i.each),s=i.isObject,l=a("e0d3"),c=l.getDataItemValue,u=l.isDataItemOption,d=a("3842"),p=d.parseDate,h=a("ec6f"),f=a("93d0"),g=f.SOURCE_FORMAT_TYPED_ARRAY,m=f.SOURCE_FORMAT_ARRAY_ROWS,b=f.SOURCE_FORMAT_ORIGINAL,v=f.SOURCE_FORMAT_OBJECT_ROWS;function y(e,t){h.isInstance(e)||(e=h.seriesDataToSource(e)),this._source=e;var a=this._data=e.data,n=e.sourceFormat;n===g&&(this._offset=0,this._dimSize=t,this._data=a);var i=_[n===m?n+"_"+e.seriesLayoutBy:n];r(this,i)}var w=y.prototype;w.pure=!1,w.persistent=!0,w.getSource=function(){return this._source};var _={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:D},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],a=this._data,n=0;n<a.length;n++){var i=a[n];t.push(i?i[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:x,getItem:O,appendData:D},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],a=this._source.dimensionsDefine,n=0;n<a.length;n++){var i=this._data[a[n].name];t.push(i?i[e]:null)}return t},appendData:function(e){var t=this._data;o(e,(function(e,a){for(var n=t[a]||(t[a]=[]),i=0;i<(e||[]).length;i++)n.push(e[i])}))}},original:{count:x,getItem:O,appendData:D},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e-=this._offset,t=t||[];for(var a=this._dimSize*e,n=0;n<this._dimSize;n++)t[n]=this._data[a+n];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function x(){return this._data.length}function O(e){return this._data[e]}function D(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var C={arrayRows:k,objectRows:function(e,t,a,n){return null!=a?e[n]:e},keyedColumns:k,original:function(e,t,a,n){var i=c(e);return null!=a&&i instanceof Array?i[a]:i},typedArray:k};function k(e,t,a,n){return null!=a?e[a]:e}var S={arrayRows:j,objectRows:function(e,t,a,n){return P(e[t],this._dimensionInfos[t])},keyedColumns:j,original:function(e,t,a,n){var i=e&&(null==e.value?e:e.value);return!this._rawData.pure&&u(e)&&(this.hasItemOption=!0),P(i instanceof Array?i[n]:i,this._dimensionInfos[t])},typedArray:function(e,t,a,n){return e[n]}};function j(e,t,a,n){return P(e[n],this._dimensionInfos[t])}function P(e,t){var a=t&&t.type;if("ordinal"===a){var n=t&&t.ordinalMeta;return n?n.parseAndCollect(e):e}return"time"===a&&"number"!==typeof e&&null!=e&&"-"!==e&&(e=+p(e)),null==e||""===e?NaN:+e}function T(e,t,a){if(e){var n=e.getRawDataItem(t);if(null!=n){var i,r,o=e.getProvider().getSource().sourceFormat,s=e.getDimensionInfo(a);return s&&(i=s.name,r=s.index),C[o](n,t,r,i)}}}function I(e,t,a){if(e){var n=e.getProvider().getSource().sourceFormat;if(n===b||n===v){var i=e.getRawDataItem(t);return n!==b||s(i)||(i=null),i?i[a]:void 0}}}t.DefaultDataProvider=y,t.defaultDimValueGetters=S,t.retrieveRawValue=T,t.retrieveRawAttr=I},"2b3f":function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return u}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config-history/aggregateconfighistory/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config-history/aggregateconfighistory/detail"),method:"get",params:{id:e}})},u=function(e){var t=e.id,a=e.remark;return Object(i["a"])({url:"".concat(r["a"],"/aggregate/rollbackSpecific"),method:"post",params:{id:t,remark:a}})}},"2b61":function(e,t,a){var n=a("7d6d"),i=a("82eb"),r=i.ContextCachedBy,o=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],s=function(e){this.extendFrom(e,!1)};function l(e,t,a){var n=null==t.x?0:t.x,i=null==t.x2?1:t.x2,r=null==t.y?0:t.y,o=null==t.y2?0:t.y2;t.global||(n=n*a.width+a.x,i=i*a.width+a.x,r=r*a.height+a.y,o=o*a.height+a.y),n=isNaN(n)?0:n,i=isNaN(i)?1:i,r=isNaN(r)?0:r,o=isNaN(o)?0:o;var s=e.createLinearGradient(n,r,i,o);return s}function c(e,t,a){var n=a.width,i=a.height,r=Math.min(n,i),o=null==t.x?.5:t.x,s=null==t.y?.5:t.y,l=null==t.r?.5:t.r;t.global||(o=o*n+a.x,s=s*i+a.y,l*=r);var c=e.createRadialGradient(o,s,0,o,s,l);return c}s.prototype={constructor:s,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,a){var i=this,s=a&&a.style,l=!s||e.__attrCachedBy!==r.STYLE_BIND;e.__attrCachedBy=r.STYLE_BIND;for(var c=0;c<o.length;c++){var u=o[c],d=u[0];(l||i[d]!==s[d])&&(e[d]=n(e,d,i[d]||u[1]))}if((l||i.fill!==s.fill)&&(e.fillStyle=i.fill),(l||i.stroke!==s.stroke)&&(e.strokeStyle=i.stroke),(l||i.opacity!==s.opacity)&&(e.globalAlpha=null==i.opacity?1:i.opacity),(l||i.blend!==s.blend)&&(e.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()){var p=i.lineWidth;e.lineWidth=p/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var a in e)!e.hasOwnProperty(a)||!0!==t&&(!1===t?this.hasOwnProperty(a):null==e[a])||(this[a]=e[a])},set:function(e,t){"string"===typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,a){for(var n="radial"===t.type?c:l,i=n(e,t,a),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}};for(var u=s.prototype,d=0;d<o.length;d++){var p=o[d];p[0]in u||(u[p[0]]=p[1])}s.getGradient=u.getGradient;var h=s;e.exports=h},"2b8c":function(e,t,a){var n=a("6d8b"),i=a("5f14"),r=n.each;function o(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function s(e,t,a){var o={};return r(t,(function(t){var l=o[t]=s();r(e[t],(function(e,r){if(i.isValidType(r)){var o={type:r,visual:e};a&&a(o,t),l[r]=new i(o),"opacity"===r&&(o=n.clone(o),o.type="colorAlpha",l.__hidden.__alphaForOpacity=new i(o))}}))})),o;function s(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function l(e,t,a){var i;n.each(a,(function(e){t.hasOwnProperty(e)&&o(t[e])&&(i=!0)})),i&&n.each(a,(function(a){t.hasOwnProperty(a)&&o(t[a])?e[a]=n.clone(t[a]):delete e[a]}))}function c(e,t,a,r,o,s){var l,c={};function u(e){return a.getItemVisual(l,e)}function d(e,t){a.setItemVisual(l,e,t)}function p(e,n){l=null==s?e:n;var i=a.getRawDataItem(l);if(!i||!1!==i.visualMap)for(var p=r.call(o,e),h=t[p],f=c[p],g=0,m=f.length;g<m;g++){var b=f[g];h[b]&&h[b].applyVisual(e,u,d)}}n.each(e,(function(e){var a=i.prepareVisualTypes(t[e]);c[e]=a})),null==s?a.each(p):a.each([s],p)}function u(e,t,a,r){var o={};function s(e,n){function i(e){return n.getItemVisual(l,e)}function s(e,t){n.setItemVisual(l,e,t)}var l;null!=r&&(r=n.getDimension(r));while(null!=(l=e.next())){var c=n.getRawDataItem(l);if(!c||!1!==c.visualMap)for(var u=null!=r?n.get(r,l,!0):l,d=a(u),p=t[d],h=o[d],f=0,g=h.length;f<g;f++){var m=h[f];p[m]&&p[m].applyVisual(u,i,s)}}}return n.each(e,(function(e){var a=i.prepareVisualTypes(t[e]);o[e]=a})),{progress:s}}t.createVisualMappings=s,t.replaceVisualOption=l,t.applyVisual=c,t.incrementalApplyVisual=u},"2c36":function(e,t,a){},"2cf4":function(e,t){var a=1;"undefined"!==typeof window&&(a=Math.max(window.devicePixelRatio||1,1));var n=0,i=a;t.debugMode=n,t.devicePixelRatio=i},"2d7c":function(e,t){function a(e,t){var a=-1,n=null==e?0:e.length,i=0,r=[];while(++a<n){var o=e[a];t(o,a,e)&&(r[i++]=o)}return r}e.exports=a},"2d92":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"路径测试","append-to-body":"",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{attrs:{size:"small","label-width":"160px"}},[a("el-form-item",{staticStyle:{color:"#999"},attrs:{label:"前端API路径："}},[e._v("\n      "+e._s(e.frontendPath)+"\n    ")]),a("el-form-item",{staticStyle:{color:"#999"},attrs:{label:"后端API路径："}},[e._v("\n      "+e._s(e.backendPath)+"\n    ")]),a("el-form-item",{attrs:{label:"API路径："}},[a("el-input",{staticStyle:{width:"78%","margin-right":"10px"},attrs:{placeholder:"请输入应用名",clearable:""},model:{value:e.reqPath,callback:function(t){e.reqPath=t},expression:"reqPath"}}),a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading,disabled:!e.reqPath},on:{click:e.checkPath}},[e._v("\n        测试\n      ")])],1),a("el-divider"),a("el-form-item",{attrs:{label:"匹配结果："}},[!0===e.response.match?a("span",{staticClass:"color-success"},[e._v("匹配通过")]):!1===e.response.match?a("span",{staticClass:"color-danger"},[e._v("匹配不通过")]):e._e()]),a("el-form-item",{attrs:{label:"后端API路径转换结果："}},[e._v("\n      "+e._s(e.response.result)+"\n    ")]),a("el-form-item",{attrs:{label:"变量："}},e._l(e.response.variables,(function(t,n){return a("div",{key:n},[e._v("\n        "+e._s(n)+": "+e._s(t)+"\n      ")])})),0)],1)],1)},i=[],r=a("3bfd"),o={name:"test-path",data:function(){return{loading:!1,reqPath:"/",response:{}}},props:{visible:{type:Boolean,default:!1},frontendPath:{type:String,required:!0},backendPath:{type:String,required:!0}},watch:{visible:function(e){e||(this.response={})},reqPath:function(e){e||(this.response={})}},methods:{checkPath:function(){var e=this;return this.loading=!0,Object(r["o"])({backendPath:this.backendPath,frontendPath:this.frontendPath,reqPath:this.reqPath}).then((function(t){e.response=t.data.data||{}})).finally((function(){e.loading=!1}))},handleClose:function(e){this.$emit("update:visible",!1),e&&e()}}},s=o,l=(a("379d"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"440134e0",null);t["default"]=c.exports},"2db3":function(e,t,a){},"2dcb":function(e,t,a){var n=a("91e9"),i=n(Object.getPrototypeOf,Object);e.exports=i},"2de0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.name?a("el-tag",[e._v(e._s(e.form.name))]):e._e(),e._v(" \n      "),a("b",[e._v(e._s(e.title))])],1),a("el-form",{ref:"form",attrs:{disabled:e.disabled,model:e.form,rules:e.rules,size:"small","label-width":"100px"}},[a("el-form-item",{attrs:{label:"主题",prop:"subject"}},[a("el-input",{attrs:{placeholder:"请输入 主题"},model:{value:e.form.subject,callback:function(t){e.$set(e.form,"subject",t)},expression:"form.subject"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 描述"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),a("el-form-item",{attrs:{label:"前端服务名",prop:"services"}},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addService}},[e._v("添加服务")]),a("el-table",{staticStyle:{width:"500px"},attrs:{data:e.serviceList,border:"",size:"small","max-height":"300"}},[a("el-table-column",{attrs:{prop:"value",label:"服务名"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index;return[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.delService(n)}}},[e._v("删除")])]}}])})],1)],1),a("el-form-item",{attrs:{label:"订阅告警",prop:"type"}},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeList,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value,name:"type"}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"用户",prop:"userIds"}},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addUser}},[e._v("添加用户")]),a("div",{staticClass:"key-tips"},[e._v("告警邮件发送到个人资料里填写的邮箱")]),a("el-table",{staticStyle:{width:"500px"},attrs:{data:e.userList,border:"",size:"small","max-height":"300"}},[a("el-table-column",{attrs:{prop:"name",label:"用户名"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index,i=t.row;return[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete",disabled:e.disabled||i.id!==e.userInfo.user_id&&!e.isAdmin},on:{click:function(t){return e.delUser(n)}}},[e._v("删除")])]}}])})],1)],1)],1),e.disabled?e._e():a("footer",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check",loading:e.loading},on:{click:e.submitHandle}},[e._v("\n        确 定\n      ")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.cancel}},[e._v("\n        取 消\n      ")])],1),e.serviceVisible?a("selectSreviceDialog",{attrs:{visible:e.serviceVisible},on:{changeDialog:function(t){e.serviceVisible=!1},emitData:e.selectService}}):e._e(),e.usersVisible?a("selectUsersDialog",{attrs:{visible:e.usersVisible},on:{changeDialog:function(t){e.usersVisible=!1},emitData:e.selectUsrs}}):e._e()],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("3835")),o=(a("ffc1"),a("ac6a"),a("ade3")),s=a("5880"),l=a("1330"),c=a("1a9b"),u=a("4c02");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={components:{selectSreviceDialog:l["default"],selectUsersDialog:c["default"]},data:function(){return{loading:!1,form:{type:[],services:[],userIds:[]},rules:{subject:[{required:!0,message:"请输入 主题",trigger:"blur"}],services:[{required:!0,message:"请选择 前端服务名",trigger:"change"}],type:[{required:!0,message:"请选择 订阅告警",trigger:"change"}]},typeList:[{label:"接口错误",value:"1"},{label:"接口超时",value:"2"},{label:"限流",value:"3"},{label:"熔断",value:"4"}],checkAll:!1,isIndeterminate:!0,serviceList:[],userList:[],serviceVisible:!1,usersVisible:!1}},computed:p(p({},Object(s["mapGetters"])(["userInfo"])),{},{title:function(){var e="";switch(this.type){case"add":e="新增告警订阅";break;case"edit":e="修改告警订阅";break;case"view":e="告警订阅详情";break}return e},type:function(){return this.$route.query.type},id:function(){return this.$route.query.id},isAdmin:function(){return this.userInfo.is_admin||!1}}),methods:{submitHandle:function(){var e=this;this.form.services=[],this.form.userIds=[],this.serviceList.forEach((function(t){e.form.services.push(t.value)})),this.userList.forEach((function(t){e.form.userIds.push(t.id)})),this.$refs.form.validate((function(t){if(t){var a="add"===e.type?u["a"]:u["f"];e.loading=!0,a(e.handleData()).then((function(t){200==t.data.code&&(e.$message.success("操作成功！"),e.cancel()),e.loading=!1})).catch((function(){e.loading=!1}))}else e.$message.warning("请完善表单信息！")}))},handleData:function(){var e=[];return e=this.form.type.length===this.typeList.length?["0"]:this.form.type,{id:this.form.id,desc:this.form.desc,services:this.form.services,subject:this.form.subject,types:e,userIds:this.form.userIds}},cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/alarm/subscription"})},handleCheckAllChange:function(e){var t=[];this.typeList.forEach((function(e){t.push(e.value)})),this.form.type=e?t:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.typeList.length,this.isIndeterminate=t>0&&t<this.typeList.length},addUser:function(){this.usersVisible=!0},addService:function(){this.serviceVisible=!0},delService:function(e){var t=this;this.$confirm("确定删除该服务名?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.serviceList.splice(e,1)}))},delUser:function(e){var t=this;this.$confirm("确定删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.userList.splice(e,1)}))},selectService:function(e){var t=this,a={};this.serviceList.forEach((function(e){a[e.value]=!0})),e.forEach((function(e){a[e.value]||t.serviceList.push(e)}))},selectUsrs:function(e){var t=this,a={};this.userList.forEach((function(e){a[e.id]=!0})),e.forEach((function(e){a[e.id]||t.userList.push(e)}))},getDetail:function(){var e=this;Object(u["b"])(this.id).then((function(t){200==t.data.code&&(e.form=Object.assign({},e.form,t.data.data),Object.entries(e.form.userId2NameMap).forEach((function(t){var a=Object(r["a"])(t,2),n=a[0],i=a[1];e.userList.push({id:n,name:i})})),e.form.services.forEach((function(t){e.serviceList.push({label:t,value:t})})),e.typeList.forEach((function(t){(e.form.types.indexOf("0")>-1||e.form.types.indexOf(t.value)>-1)&&e.form.type.push(t.value)})),e.checkAll=e.form.type.length===e.typeList.length,e.isIndeterminate=e.form.type.length>0&&e.form.type.length<e.typeList.length)}))}},mounted:function(){"view"===this.type&&(this.disabled=!0),"add"!==this.type&&this.getDetail()}},f=h,g=(a("6c8c"),a("2877")),m=Object(g["a"])(f,n,i,!1,null,"72c8e8a7",null);t["default"]=m.exports},"2ec1":function(e,t,a){var n=a("100e"),i=a("9aff");function r(e){return n((function(t,a){var n=-1,r=a.length,o=r>1?a[r-1]:void 0,s=r>2?a[2]:void 0;o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&i(a[0],a[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);while(++n<r){var l=a[n];l&&e(t,l,n,o)}return t}))}e.exports=r},"2f32":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return f}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/save"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/update"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/detail/").concat(e),method:"get"})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/pair-code/detail/").concat(e),method:"get"})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line/pair-code/regenerate"),method:"post",data:e})}},"2f45":function(e,t,a){var n=a("6d8b"),i=n.each,r=n.createHashMap,o=(n.assert,a("4e08")),s=(o.__DEV__,r(["tooltip","label","itemName","itemId","seriesName"]));function l(e){var t={},a=t.encode={},n=r(),o=[],l=[],u=t.userOutput={dimensionNames:e.dimensions.slice(),encode:{}};i(e.dimensions,(function(t){var i=e.getDimensionInfo(t),r=i.coordDim;if(r){var p=i.coordDimIndex;c(a,r)[p]=t,i.isExtraCoord||(n.set(r,1),d(i.type)&&(o[0]=t),c(u.encode,r)[p]=i.index),i.defaultTooltip&&l.push(t)}s.each((function(e,t){var n=c(a,t),r=i.otherDims[t];null!=r&&!1!==r&&(n[r]=i.name)}))}));var p=[],h={};n.each((function(e,t){var n=a[t];h[t]=n[0],p=p.concat(n)})),t.dataDimsOnCoord=p,t.encodeFirstDimNotExtra=h;var f=a.label;f&&f.length&&(o=f.slice());var g=a.tooltip;return g&&g.length?l=g.slice():l.length||(l=o.slice()),a.defaultedLabel=o,a.defaultedTooltip=l,t}function c(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function u(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function d(e){return!("ordinal"===e||"time"===e)}t.OTHER_DIMENSIONS=s,t.summarizeDimensions=l,t.getDimensionTypeByAxis=u},"2fa9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,"append-to-body":"",visible:e.visible,"before-close":e.handleClose,width:"900px"},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"tips-area"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openTipsDialog("common")}}},[e._v("common.js")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openTipsDialog("context")}}},[e._v("context.js")])],1),a("el-form",{ref:"scriptForm",attrs:{model:e.scriptForm,"label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{label:"脚本类型",required:""}},[a("el-select",{attrs:{placeholder:"请选择脚本类型",disabled:e.disabled||e.type},on:{change:e.changeType},model:{value:e.script.type,callback:function(t){e.$set(e.script,"type",t)},expression:"script.type"}},e._l(e.apiScriptType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:"javascript"===e.script.type,expression:"script.type === 'javascript'"}],staticClass:"warn-msg",attrs:{closable:!1,type:"warning","show-icon":"",title:"注意：只支持 ES5 语法，不支持ES6及以上语法"}})],1),a("el-form-item",{attrs:{label:"脚本内容",required:""}},[a("code-editor",{attrs:{height:e.editorHeight,content:e.script.source},on:{"update:content":function(t){return e.$set(e.script,"source",t)},change:e.changeCode}})],1),e.disabled?e._e():a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFn()}}},[e._v("确定")]),e.id?a("el-button",{on:{click:function(t){return e.deleteFn()}}},[e._v("删除")]):e._e()],1)],1),a("el-dialog",{attrs:{width:"600px",title:e.tipsDialog.title,visible:e.tipsDialog.visible,"append-to-body":""},on:{"update:visible":function(t){return e.$set(e.tipsDialog,"visible",t)}}},[a("code-highlight",{attrs:{height:e.editorHeight,code:e.tipsDialog.content}})],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=(a("c5f6"),a("5880")),s=a("c735"),l=a("9470"),c=a("d480"),u={commonJS:"/**\r\n * context 上下文便捷操作函数\r\n *\r\n */\r\n var common = {\r\n  /* *********** private function begin *********** */\r\n\r\n  /**\r\n   * 获取上下文中客户端请求对象\r\n   * @param {*} ctx 上下文 【必填】\r\n   */\r\n  getInputReq: function (ctx){\r\n      if(!ctx || !ctx['input'] || !ctx['input']['request']){\r\n          return {};\r\n      }\r\n      return ctx['input']['request']\r\n  },\r\n\r\n  /**\r\n   * 获取上下文步骤中请求接口的请求对象\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名称 【必填】\r\n   * @param {*} requestName 请求名称 【必填】\r\n   */\r\n  getStepReq: function (ctx, stepName, requestName){\r\n      if(!ctx || !stepName || !requestName){\r\n          return {};\r\n      }\r\n      if(!ctx[stepName] || !ctx[stepName]['requests'] || !ctx[stepName]['requests'][requestName] ||\r\n          !ctx[stepName]['requests'][requestName]['request']){\r\n          return {};\r\n      }\r\n      return ctx[stepName]['requests'][requestName]['request'];\r\n  },\r\n\r\n  /**\r\n   * 获取上下文步骤中请求接口的响应对象\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名称 【必填】\r\n   * @param {*} requestName 请求名称 【必填】\r\n   */\r\n  getStepResp: function (ctx, stepName, requestName){\r\n      if(!ctx || !stepName || !requestName){\r\n          return {};\r\n      }\r\n      if(!ctx[stepName] || !ctx[stepName]['requests'] || !ctx[stepName]['requests'][requestName] ||\r\n          !ctx[stepName]['requests'][requestName]['response']){\r\n          return {};\r\n      }\r\n      return ctx[stepName]['requests'][requestName]['response'];\r\n  },\r\n\r\n  /* *********** private function end *********** */\r\n\r\n  /* *********** input begin ************ */\r\n\r\n  /**\r\n   * 获取客户端请求头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} headerName 请求头字段名 【选填】，不传时返回所有请求头\r\n   */\r\n  getInputReqHeader: function (ctx, headerName){\r\n      var req = this.getInputReq(ctx);\r\n      var headers = req['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取客户端URL请求参数（query string）\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} paramName URL参数名 【选填】，不传时返回所有请求参数\r\n   */\r\n  getInputReqParam: function (ctx, paramName){\r\n      var req = this.getInputReq(ctx);\r\n      var params = req['params'] || {};\r\n      return paramName ? params[paramName] : params;\r\n  },\r\n\r\n  /**\r\n   * 获取客户端请求体\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个请求体\r\n   */\r\n  getInputReqBody: function (ctx, field){\r\n      var req = this.getInputReq(ctx);\r\n      var body = req['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /**\r\n   * 获取返回给客户端的响应头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} headerName 响应头字段名 【选填】，不传时返回所有响应头\r\n   */\r\n  getInputRespHeader: function (ctx, headerName){\r\n      var req = this.getInputReq(ctx);\r\n      var headers = req['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取返回给客户端的响应体\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个响应体\r\n   */\r\n  getInputRespBody: function (ctx, field){\r\n      var req = this.getInputReq(ctx);\r\n      var body = req['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /* *********** input begin ************ */\r\n\r\n  /* *********** step request begin ************ */\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的请求头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} headerName 请求头字段名 【选填】，不传时返回所有请求头\r\n   */\r\n  getStepReqHeader: function (ctx, stepName, requestName, headerName){\r\n      var req = this.getStepReq(ctx, stepName, requestName);\r\n      var headers = req['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的URL参数\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} paramName URL参数名 【选填】，不传时返回所有URL参数\r\n   */\r\n  getStepReqParam: function (ctx, stepName, requestName, paramName){\r\n      var req = this.getStepReq(ctx, stepName, requestName);\r\n      var params = req['params'] || {};\r\n      return paramName ? params[paramName] : params;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的请求体\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个请求体\r\n   */\r\n  getStepReqBody: function (ctx, stepName, requestName, field){\r\n      var req = this.getStepReq(ctx, stepName, requestName);\r\n      var body = req['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的响应头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} headerName 响应头字段名 【选填】，不传时返回所有响应头\r\n   */\r\n  getStepRespHeader: function (ctx, stepName, requestName, headerName){\r\n      var resp = this.getStepResp(ctx, stepName, requestName);\r\n      var headers = resp['headers'] || {};\r\n      return headerName ? headers[headerName.toUpperCase()] : headers;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤中调用的接口的响应头\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} requestName 请求的接口名 【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个响应头\r\n   */\r\n  getStepRespBody: function (ctx, stepName, requestName, field){\r\n      var resp = this.getStepResp(ctx, stepName, requestName);\r\n      var body = resp['body'] || {};\r\n      return field ? body[field] : body;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤结果\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   * @param {*} field 字段名 【选填】，不传时返回整个步骤结果对象\r\n   */\r\n  getStepResult: function (ctx, stepName, field){\r\n      if(!ctx || !stepName || !ctx[stepName]){\r\n          return {};\r\n      }\r\n      var result = ctx[stepName]['result'] || {};\r\n      return field ? result[field] : result;\r\n  },\r\n\r\n  /**\r\n   * 获取步骤循环结果\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   */\r\n  getStepCircle: function (ctx, stepName){\r\n      if(!ctx || !stepName || !ctx[stepName]){\r\n          return null;\r\n      }\r\n      // 返回循环结果数组\r\n      return ctx[stepName]['circle'];\r\n  },\r\n\r\n  /**\r\n   * 获取请求的循环结果\r\n   * @param {*} ctx 上下文 【必填】\r\n   * @param {*} stepName 步骤名【必填】\r\n   */\r\n  getRequestCircle: function (ctx, stepName, requestName){\r\n      if(!ctx || !stepName || !requestName){\r\n          return null;\r\n      }\r\n      if(!ctx[stepName] || !ctx[stepName]['requests'] || !ctx[stepName]['requests'][requestName] ||\r\n          !ctx[stepName]['requests'][requestName]['request']){\r\n          return null;\r\n      }\r\n      // 返回循环结果数组\r\n      return ctx[stepName]['requests'][requestName]['circle'];\r\n  }\r\n\r\n  /* *********** step request end ************ */\r\n\r\n  ,/**\r\n     ** 乘法函数，用来得到精确的乘法结果\r\n     ** 说明：javascript的乘法结果会有误差，在两个浮点数相乘的时候会比较明显。这个函数返回较为精确的乘法结果。\r\n     ** 调用：accMul(arg1,arg2)\r\n     ** 返回值：arg1乘以 arg2的精确结果\r\n     **/\r\n    accMul:function (arg1, arg2) {\r\n    var m = 0, s1 = arg1.toString(), s2 = arg2.toString();\r\n    try {\r\n      m += s1.split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    try {\r\n      m += s2.split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    return Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\"))\r\n      / Math.pow(10, m);\r\n  },\r\n\r\n    /**\r\n     ** 除法函数，用来得到精确的除法结果\r\n     ** 说明：javascript的除法结果会有误差，在两个浮点数相除的时候会比较明显。这个函数返回较为精确的除法结果。\r\n     ** 调用：accDiv(arg1,arg2)\r\n     ** 返回值：arg1除以arg2的精确结果\r\n     **/\r\n    accDiv:function (arg1, arg2) {\r\n    var t1 = 0, t2 = 0, r1, r2;\r\n    try {\r\n      t1 = arg1.toString().split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    try {\r\n      t2 = arg2.toString().split(\".\")[1].length;\r\n    } catch (e) {\r\n    }\r\n    with (Math) {\r\n      r1 = Number(arg1.toString().replace(\".\", \"\"));\r\n      r2 = Number(arg2.toString().replace(\".\", \"\"));\r\n      return (r1 / r2) * pow(10, t2 - t1);\r\n    }\r\n  }\r\n\r\n\r\n};\r\n\r\n\r\n",contextJS:'// 上下文数据结构设计\r\n// 上下文，用于保存客户输入输出和每个步骤的输入与输出结果\r\nvar context = {\r\n\t// 是否DEBUG模式\r\n\tdebug:false,\r\n\t\t\r\n\t// 各个操作的耗时\r\n\telapsedTimes: [{\r\n\t\t[actionName]: 123, // 操作名称:耗时\r\n\t}],\r\n\t\r\n\t// exception info\r\n\texceptionMessage: "",\r\n\texceptionStacks: "",\r\n\texceptionData: "", // such as script source code that cause exception\r\n\t\r\n\t\t\r\n    // 客户输入和接口的返回结果\r\n    input: {\r\n        request:{\r\n        \tpath: "",\r\n            method: "GET/POST",\r\n            headers: {},\r\n            body: {},\r\n            params: {}\r\n        },\r\n        response: { // 聚合接口的响应\r\n            headers: {},\r\n            body: {}\r\n        }\r\n    },\r\n\r\n    // 步骤\r\n    step1: {\r\n        requests: {\r\n        \t// 接口1\r\n            request1: {\r\n            \t// 请求相关参数\r\n                request:{\r\n                    url: "",\r\n                    method: "GET/POST",\r\n                    headers: {},\r\n                    body: {}\r\n                },\r\n                // 根据转换规则转换后的接口响应\r\n                response: {\r\n                    headers: {},\r\n                    body: {}\r\n                },\r\n                // 请求循环组件当前循环对象\r\n                item: null,\r\n                // 请求循环组件当前循环对象的下标\r\n                index: null,\r\n                // 请求循环的结果\r\n                circle: [{\r\n                    // 循环对象\r\n                    item: null,\r\n                    // 循环对象的下标\r\n                    index: null,\r\n                    // 请求相关参数\r\n                    request:{\r\n                        url: "",\r\n                        method: "GET/POST",\r\n                        headers: {},\r\n                        body: {}\r\n                    },\r\n                    // 根据转换规则转换后的接口响应\r\n                    response: {\r\n                        headers: {},\r\n                        body: {}\r\n                    }\r\n                }],\r\n                // 条件组件的执行结果\r\n                conditionResults: [\r\n                \t{\'我的条件1\': true}\r\n                ]\r\n            },\r\n            // 接口2\r\n            request2: {\r\n                request:{\r\n                    url: "",\r\n                    method: "GET/POST",\r\n                    headers: {},\r\n                    body: {}\r\n                },\r\n                response: {\r\n                headers: {},\r\n                    body: {}\r\n                },\r\n                // 请求循环组件当前循环对象\r\n                item: null,\r\n                // 请求循环组件当前循环对象的下标\r\n                index: null,\r\n                // 请求循环的结果\r\n                circle: [{\r\n                    // 循环对象\r\n                    item: null,\r\n                    // 循环对象的下标\r\n                    index: null,\r\n                    // 请求相关参数\r\n                    request:{\r\n                        url: "",\r\n                        method: "GET/POST",\r\n                        headers: {},\r\n                        body: {}\r\n                    },\r\n                    // 根据转换规则转换后的接口响应\r\n                    response: {\r\n                        headers: {},\r\n                        body: {}\r\n                    }\r\n                }],\r\n                // 条件组件的执行结果\r\n                conditionResults: [\r\n                \t{\'我的条件1\': true}\r\n                ]\r\n            }\r\n            //...\r\n        },\r\n\r\n        // 步骤结果\r\n        result: {},\r\n\t\t// 步骤循环组件当前循环对象\r\n        item: null,\r\n        // 步骤循环组件当前循环对象的下标\r\n        index: null,\r\n        // 步骤循环的结果\r\n        circle:[{\r\n            // 循环对象\r\n            item: null,\r\n            // 循环对象的下标\r\n            index: null,\r\n            // 步骤结果\r\n            result: {}\r\n        }] \r\n    }\r\n}',defaultGroovyJS:"// context为内置的上下文变量，详情请参考we.fizz.StepContext类实现\r\n// def data = context.getStepRespBody('step2', 'request1', 'data')\r\n\r\n// do something\r\n\r\n// 自定义返回结果，如果返回的Object里含有_stopAndResponse=true字段时将会终止请求并把脚本结果响应给客户端（主要用于有异常情况要终止请求的场景）\r\ndef result = [\r\n    // _stopAndResponse: true,\r\n    msgCode: '0',\r\n    message: '',\r\n    data: null\r\n]\r\n\r\n// 将处理结果返回\r\nreturn result",defaultScriptJS:"// javascript脚本函数名不能修改\r\nfunction dyFunc(paramsJsonStr) {\r\n  // 上下文, 数据结构请参考 context.js\r\n  var context = JSON.parse(paramsJsonStr)['context'];\r\n  // common为内置的上下文便捷操作工具类，详情请参考common.js；例如：\r\n  // var data = common.getStepRespBody(context, 'step2', 'request1', 'data');\r\n\r\n  // do something\r\n\r\n\r\n  // 自定义返回结果，如果返回的Object里含有_stopAndResponse=true字段时将会终止请求并把脚本结果响应给客户端（主要用于有异常情况要终止请求的场景）\r\n  var result = {\r\n    // _stopAndResponse: true,\r\n    msgCode: '0',\r\n    message: '',\r\n    data: null\r\n  };\r\n  // 返回结果为Array或Object时要先转为json字符串\r\n  return JSON.stringify(result);\r\n}\r\n",validateGroovyJS:"// context为内置的上下文变量，详情请参考we.fizz.StepContext类实现\r\n// 获取聚合接口用户输入的数据\r\n// 获取请求体中account数据\r\ndef account = context.getInputReqBody('account')\r\n// 获取请求体中password数据\r\ndef password = context.getInputReqBody('password')\r\ndef validate = []\r\n\r\n// 校验请求参数\r\nif (account == null || account.trim().isEmpty()) {\r\n    // 将校验不通过的错误信息add到validate中\r\n    validate << '账号不能为空'\r\n}\r\n\r\nif (password == null || password.trim().isEmpty()) {\r\n    validate << '密码不能为空'\r\n}\r\n\r\n// 空数组表示校验通过，非空表示校验不通过\r\nreturn validate",validateScriptJS:"// javascript脚本函数名不能修改\r\nfunction dyFunc(paramsJsonStr) {\r\n  // 上下文, 数据结构请参考 context.js\r\n  var context = JSON.parse(paramsJsonStr)['context'];\r\n  // common为内置的上下文便捷操作工具类，详情请参考common.js；例如：\r\n  // var account = common.getInputReqBody(context, 'account');\r\n  // var password = common.getInputReqBody(context, 'password');\r\n\r\n  // 入参校验结果，空字符串列表表示校验成功\r\n  var result = [];\r\n\r\n  // do something\r\n  // if (account == null) {\r\n  //    result.push(\"账号不能为空\");\r\n  // }\r\n  // if (password == null) {\r\n  //    result.push(\"密码不能为空\");\r\n  // }\r\n\r\n  // 返回结果为Array或Object时要先转为json字符串\r\n  return JSON.stringify(result);\r\n}\r\n"};function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={name:"script-dialog",data:function(){return{editorHeight:400,scriptForm:{},script:{type:this.type||"javascript",source:""},tipsDialog:{title:"js",visible:!1,content:""},scriptModule:"",groovyModule:""}},props:{type:{type:String},businessType:{type:String,default:"default"},id:{type:[String,Number]},visible:{type:Boolean,default:!1},content:{type:[Object,String]},disabled:{type:Boolean,default:!1},callback:{type:Function},default:{type:String,default:"default"},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{codeEditor:l["default"],codeHighlight:c["default"]},computed:p(p({},Object(o["mapGetters"])(["apiScriptType"])),{},{title:function(){return"脚本配置"+(this.id?" ID-"+this.id:"")}}),watch:{visible:function(e){e?this.getDetail():this.script.source=""}},methods:{openTipsDialog:function(e){this.tipsDialog.visible=!0,this.tipsDialog.title=e+".js",this.tipsDialog.content="common"===e?u.commonJS:u.contextJS},getDetail:function(){var e=this;this.scriptModule=u[this.default+"ScriptJS"]||"",this.groovyModule=u[this.default+"GroovyJS"]||"",this.id?"history"===this.businessType?Object(s["b"])(this.id).then((function(t){e.renderSource(t.data)})):"log"===this.businessType?Object(s["c"])(this.id).then((function(t){e.renderSource(t.data)})):Object(s["a"])(this.id).then((function(t){e.renderSource(t.data)})):this.script.source=u[this.default+"ScriptJS"]||""},renderSource:function(e){var t=e.data&&e.data.script||{};if("{}"===JSON.stringify(t))return this.$message({showClose:!0,message:e.msg,duration:5e3,type:"warning"}),this.id="",void(this.script.source=u[this.default+"ScriptJS"]||"");this.script="string"===typeof t?JSON.parse(t):t,"javascript"===this.script.type?this.scriptModule=this.script.source:"groovy"===this.script.type&&(this.groovyModule=this.script.source)},submitFn:function(){var e=this;if(!this.script.type||!this.script.source)return this.$message.error("请完善脚本数据再提交"),!1;var t=this.script;Object(s["e"])({id:this.id,script:JSON.stringify(t)}).then((function(t){e.$emit("update:id",t.data.data),e.callback&&"function"===typeof e.callback&&e.callback(),e.$message({type:"success",message:"脚本保存成功!"})}),(function(e){window.console.log(e)})),this.$emit("update:content",JSON.stringify(t)),this.$emit("update:visible",!1)},deleteFn:function(e){var t=this;if(e=e||this.id||"",!e)return!1;this.$confirm("确定删除该脚本?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return t.isDelScriptWithHttp?Object(s["d"])(e).then((function(){t.delCallback()})):(t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),void t.delCallback())}))},delCallback:function(){this.$emit("update:id",""),this.$emit("update:visible",!1),this.$message({type:"success",message:"删除成功!"}),this.callback&&"function"===typeof this.callback&&this.callback()},handleClose:function(e){this.$emit("update:visible",!1),e()},changeType:function(e){this.script.source="javascript"===e?this.scriptModule:this.groovyModule},changeCode:function(e){"javascript"===this.script.type?this.scriptModule=e:this.groovyModule=e}}},f=h,g=(a("fa97"),a("2877")),m=Object(g["a"])(f,n,i,!1,null,"7c2dc2f2",null);t["default"]=m.exports},"2fcc":function(e,t){function a(e){var t=this.__data__,a=t["delete"](e);return this.size=t.size,a}e.exports=a},"2ffa":function(e,t,a){"use strict";a("4dde")},"300a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-container"},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("b",[e._v("最近24小时 TOP 10")]),a("span",{staticClass:"header-tips"},[e._v("最后更新时间："+e._s(e.topData.lastUpdateTime))])]),e.isEmpty?a("div",[a("avue-empty")],1):a("el-row",{staticClass:"top-data data-display",attrs:{span:24}},e._l(e.data,(function(t,n){return a("el-col",{key:n,staticClass:"item",attrs:{sm:6,xs:24}},[a("div",{staticClass:"title",style:{color:t.color}},[e._v(e._s(t.title))]),t.data.length?e._e():a("div",[a("i",[e._v("无")])]),e._l(t.data,(function(n,i){return a("div",{key:i},[a("b",[e._v(e._s(++i)+". ")]),a("i",[e._v(e._s(n.count)+e._s(t.unit)+" ["+e._s(n.service)+"]")])])}))],2)})),1)],1)],1)},i=[],r=a("ee6e"),o={name:"top-data",data:function(){return{topData:{}}},computed:{data:function(){return[{title:"Top 10 慢服务",color:"#E6A23C",data:this.topData.slowTops||[],unit:"ms"},{title:"Top 10 异常服务",color:"#F56C6C",data:this.topData.errorTops||[],unit:"个错误"},{title:"Top 10 活跃服务",color:"#67C23A",data:this.topData.totalTops||[],unit:"次访问"},{title:"Top 10 AppID",color:"#409EFF",data:this.topData.appTops||[],unit:"次访问"}]},isEmpty:function(){return this.topData.slowTops&&!this.topData.slowTops.length&&this.topData.errorTops&&!this.topData.errorTops.length&&this.topData.totalTops&&!this.topData.totalTops.length||!1}},created:function(){this.getTopData()},methods:{getTopData:function(){var e=this;Object(r["h"])({tops:10}).then((function(t){e.topData=t.data.data||{}}))}}},s=o,l=(a("4683"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"59839f8a",null);t["default"]=c.exports},3041:function(e,t,a){var n=a("e1fc"),i=a("0da8"),r=a("76a5"),o=a("d9fc"),s=a("c7a2"),l=a("ae69"),c=a("cb11"),u=a("cbe5"),d=a("87b1"),p=a("d498"),h=a("48a9"),f=a("2b61"),g=a("1687"),m=a("342d"),b=m.createFromString,v=a("6d8b"),y=v.isString,w=v.extend,_=v.defaults,x=v.trim,O=v.each,D=/[\s,]+/;function C(e){if(y(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}9===e.nodeType&&(e=e.firstChild);while("svg"!==e.nodeName.toLowerCase()||1!==e.nodeType)e=e.nextSibling;return e}function k(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}k.prototype.parse=function(e,t){t=t||{};var a=C(e);if(!a)throw new Error("Illegal svg");var i=new n;this._root=i;var r=a.getAttribute("viewBox")||"",o=parseFloat(a.getAttribute("width")||t.width),l=parseFloat(a.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),z(a,i,null,!0);var c,u,d=a.firstChild;while(d)this._parseNode(d,i),d=d.nextSibling;if(r){var p=x(r).split(D);p.length>=4&&(c={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(c&&null!=o&&null!=l&&(u=B(c,o,l),!t.ignoreViewBox)){var h=i;i=new n,i.add(h),h.scale=u.scale.slice(),h.position=u.position.slice()}return t.ignoreRootClip||null==o||null==l||i.setClipPath(new s({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:c,viewBoxTransform:u}},k.prototype._parseNode=function(e,t){var a,n=e.nodeName.toLowerCase();if("defs"===n?this._isDefine=!0:"text"===n&&(this._isText=!0),this._isDefine){var i=j[n];if(i){var r=i.call(this,e),o=e.getAttribute("id");o&&(this._defs[o]=r)}}else{i=S[n];i&&(a=i.call(this,e,t),t.add(a))}var s=e.firstChild;while(s)1===s.nodeType&&this._parseNode(s,a),3===s.nodeType&&this._isText&&this._parseText(s,a),s=s.nextSibling;"defs"===n?this._isDefine=!1:"text"===n&&(this._isText=!1)},k.prototype._parseText=function(e,t){if(1===e.nodeType){var a=e.getAttribute("dx")||0,n=e.getAttribute("dy")||0;this._textX+=parseFloat(a),this._textY+=parseFloat(n)}var i=new r({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});T(t,i),z(e,i,this._defs);var o=i.style.fontSize;o&&o<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=o/9,i.scale[1]*=o/9);var s=i.getBoundingRect();return this._textX+=s.width,t.add(i),i};var S={g:function(e,t){var a=new n;return T(t,a),z(e,a,this._defs),a},rect:function(e,t){var a=new s;return T(t,a),z(e,a,this._defs),a.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),a},circle:function(e,t){var a=new o;return T(t,a),z(e,a,this._defs),a.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),a},line:function(e,t){var a=new c;return T(t,a),z(e,a,this._defs),a.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),a},ellipse:function(e,t){var a=new l;return T(t,a),z(e,a,this._defs),a.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),a},polygon:function(e,t){var a=e.getAttribute("points");a&&(a=I(a));var n=new d({shape:{points:a||[]}});return T(t,n),z(e,n,this._defs),n},polyline:function(e,t){var a=new u;T(t,a),z(e,a,this._defs);var n=e.getAttribute("points");n&&(n=I(n));var i=new p({shape:{points:n||[]}});return i},image:function(e,t){var a=new i;return T(t,a),z(e,a,this._defs),a.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),a},text:function(e,t){var a=e.getAttribute("x")||0,i=e.getAttribute("y")||0,r=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0;this._textX=parseFloat(a)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o);var s=new n;return T(t,s),z(e,s,this._defs),s},tspan:function(e,t){var a=e.getAttribute("x"),i=e.getAttribute("y");null!=a&&(this._textX=parseFloat(a)),null!=i&&(this._textY=parseFloat(i));var r=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0,s=new n;return T(t,s),z(e,s,this._defs),this._textX+=r,this._textY+=o,s},path:function(e,t){var a=e.getAttribute("d")||"",n=b(a);return T(t,n),z(e,n,this._defs),n}},j={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),a=parseInt(e.getAttribute("y1")||0,10),n=parseInt(e.getAttribute("x2")||10,10),i=parseInt(e.getAttribute("y2")||0,10),r=new h(t,a,n,i);return P(e,r),r},radialgradient:function(e){}};function P(e,t){var a=e.firstChild;while(a){if(1===a.nodeType){var n=a.getAttribute("offset");n=n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var i=a.getAttribute("stop-color")||"#000000";t.addColorStop(n,i)}a=a.nextSibling}}function T(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),_(t.__inheritedStyle,e.__inheritedStyle))}function I(e){for(var t=x(e).split(D),a=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),r=parseFloat(t[n+1]);a.push([i,r])}return a}var L={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function z(e,t,a,n){var i=t.__inheritedStyle||{},r="text"===t.type;if(1===e.nodeType&&(A(e,t),w(i,q(e)),!n))for(var o in L)if(L.hasOwnProperty(o)){var s=e.getAttribute(o);null!=s&&(i[L[o]]=s)}var l=r?"textFill":"fill",c=r?"textStroke":"stroke";t.style=t.style||new f;var u=t.style;null!=i.fill&&u.set(l,M(i.fill,a)),null!=i.stroke&&u.set(c,M(i.stroke,a)),O(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){var t="lineWidth"===e&&r?"textStrokeWidth":e;null!=i[e]&&u.set(t,parseFloat(i[e]))})),i.textBaseline&&"auto"!==i.textBaseline||(i.textBaseline="alphabetic"),"alphabetic"===i.textBaseline&&(i.textBaseline="bottom"),"start"===i.textAlign&&(i.textAlign="left"),"end"===i.textAlign&&(i.textAlign="right"),O(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(e){null!=i[e]&&u.set(e,i[e])})),i.lineDash&&(t.style.lineDash=x(i.lineDash).split(D)),u[c]&&"none"!==u[c]&&(t[c]=!0),t.__inheritedStyle=i}var $=/url\(\s*#(.*?)\)/;function M(e,t){var a=t&&e&&e.match($);if(a){var n=x(a[1]),i=t[n];return i}return e}var E=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function A(e,t){var a=e.getAttribute("transform");if(a){a=a.replace(/,/g," ");var n=null,i=[];a.replace(E,(function(e,t,a){i.push(t,a)}));for(var r=i.length-1;r>0;r-=2){var o=i[r],s=i[r-1];switch(n=n||g.create(),s){case"translate":o=x(o).split(D),g.translate(n,n,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=x(o).split(D),g.scale(n,n,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=x(o).split(D),g.rotate(n,n,parseFloat(o[0]));break;case"skew":o=x(o).split(D),console.warn("Skew transform is not supported yet");break;case"matrix":o=x(o).split(D);n[0]=parseFloat(o[0]),n[1]=parseFloat(o[1]),n[2]=parseFloat(o[2]),n[3]=parseFloat(o[3]),n[4]=parseFloat(o[4]),n[5]=parseFloat(o[5]);break}}t.setLocalTransform(n)}}var R=/([^\s:;]+)\s*:\s*([^:;]+)/g;function q(e){var t=e.getAttribute("style"),a={};if(!t)return a;var n,i={};R.lastIndex=0;while(null!=(n=R.exec(t)))i[n[1]]=n[2];for(var r in L)L.hasOwnProperty(r)&&null!=i[r]&&(a[L[r]]=i[r]);return a}function B(e,t,a){var n=t/e.width,i=a/e.height,r=Math.min(n,i),o=[r,r],s=[-(e.x+e.width/2)*r+t/2,-(e.y+e.height/2)*r+a/2];return{scale:o,position:s}}function F(e,t){var a=new k;return a.parse(e,t)}t.parseXML=C,t.makeViewBoxTransform=B,t.parseSVG=F},"307a":function(e,t,a){var n=a("6d8b"),i=a("eaea"),r=a("3842"),o=[20,140],s=i.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){s.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},resetItemSize:function(){s.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=o[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=o[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):n.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){i.prototype.completeVisualOption.apply(this,arguments),n.each(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)}),this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=r.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,a=this.getExtent();return(t[0]<=a[0]||t[0]<=e)&&(t[1]>=a[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(a){var n=[],i=a.getData();i.each(this.getDataDimension(i),(function(t,a){e[0]<=t&&t<=e[1]&&n.push(a)}),this),t.push({seriesId:a.id,dataIndex:n})}),this),t},getVisualMeta:function(e){var t=l(this,"outOfRange",this.getExtent()),a=l(this,"inRange",this.option.range.slice()),n=[];function i(t,a){n.push({value:t,color:e(t,a)})}for(var r=0,o=0,s=a.length,c=t.length;o<c&&(!a.length||t[o]<=a[0]);o++)t[o]<a[r]&&i(t[o],"outOfRange");for(var u=1;r<s;r++,u=0)u&&n.length&&i(a[r],"outOfRange"),i(a[r],"inRange");for(u=1;o<c;o++)(!a.length||a[a.length-1]<t[o])&&(u&&(n.length&&i(n[n.length-1].value,"outOfRange"),u=0),i(t[o],"outOfRange"));var d=n.length;return{stops:n,outerColors:[d?n[0].color:"transparent",d?n[d-1].color:"transparent"]}}});function l(e,t,a){if(a[0]===a[1])return a.slice();for(var n=200,i=(a[1]-a[0])/n,r=a[0],o=[],s=0;s<=n&&r<a[1];s++)o.push(r),r+=i;return o.push(a[1]),o}var c=s;e.exports=c},"307b":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("53ca"),i=function(e){if("object"===Object(n["a"])(e))return JSON.parse(JSON.stringify(e))}},"30a3":function(e,t,a){var n=a("6d8b"),i=a("607d"),r=i.Dispatcher,o=a("98b7"),s=a("06ad"),l=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,r.call(this)};l.prototype={constructor:l,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),a=0;a<t.length;a++)this.addClip(t[a])},removeClip:function(e){var t=n.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),a=0;a<t.length;a++)this.removeClip(t[a]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,a=this._clips,n=a.length,i=[],r=[],o=0;o<n;o++){var s=a[o],l=s.step(e,t);l&&(i.push(l),r.push(s))}for(o=0;o<n;)a[o]._needsRemove?(a[o]=a[n-1],a.pop(),n--):o++;n=i.length;for(o=0;o<n;o++)r[o].fire(i[o]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;function t(){e._running&&(o(t),!e._paused&&e._update())}this._running=!0,o(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var a=new s(e,t.loop,t.getter,t.setter);return this.addAnimator(a),a}},n.mixin(l,r);var c=l;e.exports=c},"30c9":function(e,t,a){var n=a("9520"),i=a("b218");function r(e){return null!=e&&i(e.length)&&!n(e)}e.exports=r},"30eb":function(e,t,a){"use strict";a("b3b6")},3151:function(e,t,a){},"329b":function(e,t,a){"use strict";a("ec8f")},"32b3":function(e,t,a){var n=a("872a"),i=a("9638"),r=Object.prototype,o=r.hasOwnProperty;function s(e,t,a){var r=e[t];o.call(e,t)&&i(r,a)&&(void 0!==a||t in e)||n(e,t,a)}e.exports=s},"32f4":function(e,t,a){var n=a("2d7c"),i=a("d327"),r=Object.prototype,o=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=l},3301:function(e,t,a){var n=a("6d8b"),i=a("6179"),r=a("b1d4"),o=a("93d0"),s=o.SOURCE_FORMAT_ORIGINAL,l=a("2f45"),c=l.getDimensionTypeByAxis,u=a("e0d3"),d=u.getDataItemValue,p=a("2039"),h=a("8b7f"),f=h.getCoordSysInfoBySeries,g=a("ec6f"),m=a("ee1a"),b=m.enableDataStack,v=a("0f99"),y=v.makeSeriesEncodeForAxisCoordSys;function w(e,t,a){a=a||{},g.isInstance(e)||(e=g.seriesDataToSource(e));var o,s=t.get("coordinateSystem"),l=p.get(s),u=f(t);u&&(o=n.map(u.coordSysDims,(function(e){var t={name:e},a=u.axisMap.get(e);if(a){var n=a.get("type");t.type=c(n)}return t}))),o||(o=l&&(l.getDimensionsInfo?l.getDimensionsInfo():l.dimensions.slice())||["x","y"]);var d,h,m=r(e,{coordDimensions:o,generateCoord:a.generateCoord,encodeDefaulter:a.useEncodeDefaulter?n.curry(y,o,t):null});u&&n.each(m,(function(e,t){var a=e.coordDim,n=u.categoryAxisMap.get(a);n&&(null==d&&(d=t),e.ordinalMeta=n.getOrdinalMeta()),null!=e.otherDims.itemName&&(h=!0)})),h||null==d||(m[d].otherDims.itemName=0);var v=b(t,m),w=new i(m,t);w.setCalculationInfo(v);var x=null!=d&&_(e)?function(e,t,a,n){return n===d?a:this.defaultDimValueGetter(e,t,a,n)}:null;return w.hasItemOption=!1,w.initData(e,null,x),w}function _(e){if(e.sourceFormat===s){var t=x(e.data||[]);return null!=t&&!n.isArray(d(t))}}function x(e){var t=0;while(t<e.length&&null==e[t])t++;return e[t]}var O=w;e.exports=O},"340c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"audit-detail"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("b",[e._v("发布|下线审核详情")])]),a("div",{staticClass:"apply-table-wrap"},[a("div",{staticClass:"b-tip"},[e._v("操作以下接口：")]),a("el-table",{attrs:{data:e.tableData,border:"",stripe:"",size:"mini","max-height":"200"}},[a("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),a("el-table-column",{attrs:{prop:"name",label:"接口名"}})],1)],1),a("el-form",{ref:"auditForm",staticClass:"data-form",attrs:{model:e.auditForm,rules:e.rules,disabled:!e.permissionList.auditBtn,size:"mini","label-width":"100px"}},[a("el-form-item",{attrs:{label:"标题："}},[e._v("\n        "+e._s(e.auditForm.title)+"\n      ")]),a("el-form-item",{attrs:{label:"申请类型："}},[e._v("\n        "+e._s((0===e.auditForm.type?"发布":1===e.auditForm.type&&"下线")||e.auditForm.type||"-")+"\n      ")]),a("el-form-item",{attrs:{label:"申请原因："}},[e._v("\n        "+e._s(e.auditForm.reason)+"\n      ")]),a("el-form-item",{attrs:{label:"申请人："}},[e._v("\n        "+e._s(e.auditForm.applyBy||e.auditForm.createBy)+"\n      ")]),a("el-form-item",{attrs:{label:"申请时间："}},[e._v("\n        "+e._s(e.auditForm.createTime)+"\n      ")]),e.auditPermission?[a("el-form-item",{attrs:{label:"审核结果：",prop:"approvalResult",required:""}},[a("el-radio-group",{model:{value:e.auditForm.approvalResult,callback:function(t){e.$set(e.auditForm,"approvalResult",t)},expression:"auditForm.approvalResult"}},e._l(e.auditState,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"审核备注：",prop:"approvalRemark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"审核备注（选填）"},model:{value:e.auditForm.approvalRemark,callback:function(t){e.$set(e.auditForm,"approvalRemark",t)},expression:"auditForm.approvalRemark"}})],1)]:[a("el-form-item",{attrs:{label:"审核人："}},[e._v("\n          "+e._s(e.auditForm.approvalBy)+"\n        ")]),a("el-form-item",{attrs:{label:"审核结果："}},[2===e.auditForm.approvalResult?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("审核通过")]):1===e.auditForm.approvalResult?a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("审核不通过")]):a("span",[e._v(e._s(e.auditForm.approvalResult))])],1),a("el-form-item",{attrs:{label:"审核备注："}},[e._v("\n          "+e._s(e.auditForm.approvalRemark)+"\n        ")]),a("el-form-item",{attrs:{label:"审核时间："}},[e._v("\n          "+e._s(e.auditForm.approvalTime)+"\n        ")])]],2),e.auditPermission?a("footer",[e.permissionList.auditBtn?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-circle-check",loading:e.loading},on:{click:e.confirm}},[e._v("审核\n      ")]):e._e(),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:function(t){return e.handleClose()}}},[e._v("取消")])],1):e._e()],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("ade3")),o=a("5880"),s=a("134f"),l=a("cec1"),c=a("0f43");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"audit-detail",data:function(){return{loading:!1,tableData:[],auditForm:{type:"",remark:""}}},computed:d(d({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{auditBtn:this.vaildData(this.permission.aggregate_apply_audit,!1)}},auditState:function(){return l["b"]},auditPermission:function(){return this.permissionList.auditBtn&&0===this.auditForm.status||!1},originId:function(){return this.$route.query.originId||""}}),components:{},watch:{originId:{immediate:!0,handler:function(e){e&&this.init()}}},methods:{init:function(){var e=this;Object(c["e"])(this.originId).then((function(t){var a=t.data.data,n=[];e.auditForm=a,(a.configs||[]).forEach((function(e){n.push(Object.assign({id:e.configId,name:e.configName},e))})),e.tableData=n}))},confirm:function(){var e=this;if(!this.auditForm.approvalResult)return this.$message.error("请选择审核结果"),!1;var t={};return t.id=this.auditForm.id,t.approvalResult=this.auditForm.approvalResult,t.approvalRemark=this.auditForm.approvalRemark,this.loading=!0,Object(s["a"])(t).then((function(){e.init(),e.$message.success("审核成功"),e.loading=!1})).catch((function(){e.loading=!1}))},handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/aggregateRecord/audit"})}}},h=p,f=(a("39cf"),a("3b96"),a("2877")),g=Object(f["a"])(h,n,i,!1,null,"5382e071",null);t["default"]=g.exports},"342d":function(e,t,a){var n=a("cbe5"),i=a("20c8"),r=a("ee84"),o=Math.sqrt,s=Math.sin,l=Math.cos,c=Math.PI,u=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},d=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(u(e)*u(t))},p=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(d(e,t))};function h(e,t,a,n,i,r,u,h,f,g,m){var b=f*(c/180),v=l(b)*(e-a)/2+s(b)*(t-n)/2,y=-1*s(b)*(e-a)/2+l(b)*(t-n)/2,w=v*v/(u*u)+y*y/(h*h);w>1&&(u*=o(w),h*=o(w));var _=(i===r?-1:1)*o((u*u*(h*h)-u*u*(y*y)-h*h*(v*v))/(u*u*(y*y)+h*h*(v*v)))||0,x=_*u*y/h,O=_*-h*v/u,D=(e+a)/2+l(b)*x-s(b)*O,C=(t+n)/2+s(b)*x+l(b)*O,k=p([1,0],[(v-x)/u,(y-O)/h]),S=[(v-x)/u,(y-O)/h],j=[(-1*v-x)/u,(-1*y-O)/h],P=p(S,j);d(S,j)<=-1&&(P=c),d(S,j)>=1&&(P=0),0===r&&P>0&&(P-=2*c),1===r&&P<0&&(P+=2*c),m.addData(g,D,C,u,h,k,P,b,r)}var f=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,g=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function m(e){if(!e)return new i;for(var t,a=0,n=0,r=a,o=n,s=new i,l=i.CMD,c=e.match(f),u=0;u<c.length;u++){for(var d,p=c[u],m=p.charAt(0),b=p.match(g)||[],v=b.length,y=0;y<v;y++)b[y]=parseFloat(b[y]);var w=0;while(w<v){var _,x,O,D,C,k,S,j=a,P=n;switch(m){case"l":a+=b[w++],n+=b[w++],d=l.L,s.addData(d,a,n);break;case"L":a=b[w++],n=b[w++],d=l.L,s.addData(d,a,n);break;case"m":a+=b[w++],n+=b[w++],d=l.M,s.addData(d,a,n),r=a,o=n,m="l";break;case"M":a=b[w++],n=b[w++],d=l.M,s.addData(d,a,n),r=a,o=n,m="L";break;case"h":a+=b[w++],d=l.L,s.addData(d,a,n);break;case"H":a=b[w++],d=l.L,s.addData(d,a,n);break;case"v":n+=b[w++],d=l.L,s.addData(d,a,n);break;case"V":n=b[w++],d=l.L,s.addData(d,a,n);break;case"C":d=l.C,s.addData(d,b[w++],b[w++],b[w++],b[w++],b[w++],b[w++]),a=b[w-2],n=b[w-1];break;case"c":d=l.C,s.addData(d,b[w++]+a,b[w++]+n,b[w++]+a,b[w++]+n,b[w++]+a,b[w++]+n),a+=b[w-2],n+=b[w-1];break;case"S":_=a,x=n;var T=s.len(),I=s.data;t===l.C&&(_+=a-I[T-4],x+=n-I[T-3]),d=l.C,j=b[w++],P=b[w++],a=b[w++],n=b[w++],s.addData(d,_,x,j,P,a,n);break;case"s":_=a,x=n;T=s.len(),I=s.data;t===l.C&&(_+=a-I[T-4],x+=n-I[T-3]),d=l.C,j=a+b[w++],P=n+b[w++],a+=b[w++],n+=b[w++],s.addData(d,_,x,j,P,a,n);break;case"Q":j=b[w++],P=b[w++],a=b[w++],n=b[w++],d=l.Q,s.addData(d,j,P,a,n);break;case"q":j=b[w++]+a,P=b[w++]+n,a+=b[w++],n+=b[w++],d=l.Q,s.addData(d,j,P,a,n);break;case"T":_=a,x=n;T=s.len(),I=s.data;t===l.Q&&(_+=a-I[T-4],x+=n-I[T-3]),a=b[w++],n=b[w++],d=l.Q,s.addData(d,_,x,a,n);break;case"t":_=a,x=n;T=s.len(),I=s.data;t===l.Q&&(_+=a-I[T-4],x+=n-I[T-3]),a+=b[w++],n+=b[w++],d=l.Q,s.addData(d,_,x,a,n);break;case"A":O=b[w++],D=b[w++],C=b[w++],k=b[w++],S=b[w++],j=a,P=n,a=b[w++],n=b[w++],d=l.A,h(j,P,a,n,k,S,O,D,C,d,s);break;case"a":O=b[w++],D=b[w++],C=b[w++],k=b[w++],S=b[w++],j=a,P=n,a+=b[w++],n+=b[w++],d=l.A,h(j,P,a,n,k,S,O,D,C,d,s);break}}"z"!==m&&"Z"!==m||(d=l.Z,s.addData(d),a=r,n=o),t=d}return s.toStatic(),s}function b(e,t){var a=m(e);return t=t||{},t.buildPath=function(e){if(e.setData){e.setData(a.data);var t=e.getContext();t&&e.rebuildPath(t)}else{t=e;a.rebuildPath(t)}},t.applyTransform=function(e){r(a,e),this.dirty(!0)},t}function v(e,t){return new n(b(e,t))}function y(e,t){return n.extend(b(e,t))}function w(e,t){for(var a=[],i=e.length,r=0;r<i;r++){var o=e[r];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),a.push(o.path)}var s=new n(t);return s.createPathProxy(),s.buildPath=function(e){e.appendPath(a);var t=e.getContext();t&&e.rebuildPath(t)},s}t.createFromString=v,t.extendFromString=y,t.mergePath=w},"343b":function(e,t,a){"use strict";a("ff7c")},3482:function(e,t,a){var n=a("087d"),i=a("5c69"),r=a("4359"),o=a("6747");function s(){var e=arguments.length;if(!e)return[];var t=Array(e-1),a=arguments[0],s=e;while(s--)t[s-1]=arguments[s];return n(o(a)?r(a):[a],i(t,1))}e.exports=s},"34ac":function(e,t,a){var n=a("9520"),i=a("1368"),r=a("1a8c"),o=a("dc57"),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,p=u.hasOwnProperty,h=RegExp("^"+d.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(e){if(!r(e)||i(e))return!1;var t=n(e)?h:l;return t.test(o(e))}e.exports=f},3528:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"h",(function(){return h})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return g}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/menu/grant-tree"),method:"get"})},u=function(e,t,a,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/grant"),method:"post",data:{roleIds:e,menuIds:t,dataScopeIds:a,apiScopeIds:n}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/submit"),method:"post",data:e})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/submit"),method:"post",data:e})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/menu/role-tree-keys"),method:"get",params:{roleIds:e}})},g=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/role/tree"),method:"get",params:{tenantId:e}})}},3657:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"auto","show-message":!1}},[a("el-table",{staticClass:"request-table",attrs:{data:e.form.data,size:e.size,border:"","default-expand-all":""}},[a("el-table-column",{attrs:{prop:"name",label:"参数名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"data."+t.$index+".name",rules:e.form.rules.name}},[a("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"参数名"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"required",label:"必填",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"data."+t.$index+".required",rules:e.form.rules.required}},[a("el-checkbox",{attrs:{size:e.size,disabled:e.disabled},model:{value:t.row.required,callback:function(a){e.$set(t.row,"required",a)},expression:"scope.row.required"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"description",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"data."+t.$index+".description",rules:e.form.rules.description}},[a("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"描述"},model:{value:t.row.description,callback:function(a){e.$set(t.row,"description",a)},expression:"scope.row.description"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"example",label:"示例值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"data."+t.$index+".example",rules:e.form.rules.example}},[a("el-input",{attrs:{size:e.size,disabled:e.disabled,placeholder:"示例值"},model:{value:t.row.example,callback:function(a){e.$set(t.row,"example",a)},expression:"scope.row.example"}})],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:"插入新的参数",placement:"top-start"}},[a("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("插入\n          ")])],1),a("el-button",{attrs:{size:e.size,disabled:e.disabled,type:"text"},on:{click:function(a){return e.handleDelete(t.$index)}}},[e._v("删除\n        ")])]}}])}),a("template",{slot:"empty"},[a("div",{staticStyle:{padding:"20px"}},[a("avue-empty"),a("el-button",{attrs:{type:"primary",size:e.size,disabled:e.disabled},on:{click:function(t){return e.initTableData()}}},[e._v("新增数据")])],1)])],2)],1)},i=[],r={name:"request-table",props:{disabled:{type:Boolean,default:!1},size:{type:String,default:"mini"},data:{type:Array,default:function(){return[]}}},watch:{data:{deep:!0,handler:function(){this.form.data=this.data}}},data:function(){return{activeTab:"header",form:{data:[],rules:{name:[{required:!0,trigger:"blur"}]}}}},methods:{handleAdd:function(){this.form.data.splice(0,0,{name:"",required:!0,description:"",example:""})},handleDelete:function(e){this.form.data.splice(e,1)},initTableData:function(){this.form.data.push({name:"",required:!0,description:"",example:""})},validate:function(){var e=this;return new Promise((function(t,a){e.$refs.form.validate((function(n){n?(e.emitData(),t()):(e.$message({showClose:!0,message:"请完善信息！",type:"warning"}),a("请完善信息"))}))}))},emitData:function(){this.$emit("emitData",this.form.data),this.$emit("update:data",this.form.data)}}},o=r,s=(a("aab0"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},3698:function(e,t){function a(e,t){return null==e?void 0:e[t]}e.exports=a},"36a5":function(e,t,a){"use strict";a("98f3")},"36f2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"auth-page"},[a("div",{staticClass:"main"},[a("p",{staticClass:"title"},[e._v("商业授权")]),a("ul",{staticClass:"list"},[a("li",{staticClass:"list-item"},[a("span",{staticClass:"label"},[e._v("授权方式：")]),a("span",{staticClass:"value"},[e._v("标准版")])]),a("li",{staticClass:"list-item"},[a("span",{staticClass:"label"},[e._v("授权编号：")]),a("span",{staticClass:"value"})]),a("li",{staticClass:"list-item"},[a("span",{staticClass:"label"},[e._v("软件集成商：")]),a("span",{staticClass:"value"},[e._v("XXX")])]),a("li",{staticClass:"list-item"},[a("span",{staticClass:"label"},[e._v("授权机构：")]),a("span",{staticClass:"value"},[e._v("JJ方便")])]),a("li",{staticClass:"list-item"},[a("span",{staticClass:"label"},[e._v("授权邮箱：")]),a("span",{staticClass:"value"},[e._v("ssss")])]),a("li",{staticClass:"list-item"},[a("span",{staticClass:"label"},[e._v("授权到期时间：")]),a("span",{staticClass:"value"},[e._v("CCCCCC")])])]),a("footer",[a("p",{staticClass:"contact"},[e._v("商业授权请联系： sale@fizzgate.com")]),a("p",{staticClass:"document"},[e._v("使用文档")]),a("el-button",{staticClass:"update-btn",attrs:{size:"small",type:"primary"},on:{click:e.update}},[e._v("更新授权")])],1)]),a("active-code-dialog",{attrs:{visible:e.visible},on:{changeVisible:function(t){e.visible=!1}}})],1)},i=[],r=a("d65e"),o={name:"authPage",components:{activeCodeDialog:r["default"]},data:function(){return{visible:!1}},methods:{update:function(){this.visible=!0}}},s=o,l=(a("e58c"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"427edfcd",null);t["default"]=c.exports},"36fc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("real-time-data"),a("flow-data"),a("top-data"),a("interface-data")],1)},i=[],r=a("87a9"),o=a("b599"),s=a("68a2"),l=a("300a"),c={name:"gateway-data",data:function(){return{}},components:{realTimeData:r["default"],flowData:o["default"],interfaceData:s["default"],topData:l["default"]},methods:{}},u=c,d=a("2877"),p=Object(d["a"])(u,n,i,!1,null,"909aafa8",null);t["default"]=p.exports},"379d":function(e,t,a){"use strict";a("fba9")},"37ea":function(e,t,a){},3818:function(e,t,a){var n=a("7e64"),i=a("8057"),r=a("32b3"),o=a("5b01"),s=a("0f0f"),l=a("e538"),c=a("4359"),u=a("54eb"),d=a("1041"),p=a("a994"),h=a("1bac"),f=a("42a2"),g=a("c87c"),m=a("c2b6"),b=a("fa21"),v=a("6747"),y=a("0d24"),w=a("cc45"),_=a("1a8c"),x=a("d7ee"),O=a("ec69"),D=a("9934"),C=1,k=2,S=4,j="[object Arguments]",P="[object Array]",T="[object Boolean]",I="[object Date]",L="[object Error]",z="[object Function]",$="[object GeneratorFunction]",M="[object Map]",E="[object Number]",A="[object Object]",R="[object RegExp]",q="[object Set]",B="[object String]",F="[object Symbol]",N="[object WeakMap]",V="[object ArrayBuffer]",H="[object DataView]",U="[object Float32Array]",W="[object Float64Array]",G="[object Int8Array]",J="[object Int16Array]",X="[object Int32Array]",Y="[object Uint8Array]",K="[object Uint8ClampedArray]",Q="[object Uint16Array]",Z="[object Uint32Array]",ee={};function te(e,t,a,P,T,I){var L,M=t&C,E=t&k,R=t&S;if(a&&(L=T?a(e,P,T,I):a(e)),void 0!==L)return L;if(!_(e))return e;var q=v(e);if(q){if(L=g(e),!M)return c(e,L)}else{var B=f(e),F=B==z||B==$;if(y(e))return l(e,M);if(B==A||B==j||F&&!T){if(L=E||F?{}:b(e),!M)return E?d(e,s(L,e)):u(e,o(L,e))}else{if(!ee[B])return T?e:{};L=m(e,B,M)}}I||(I=new n);var N=I.get(e);if(N)return N;I.set(e,L),x(e)?e.forEach((function(n){L.add(te(n,t,a,n,e,I))})):w(e)&&e.forEach((function(n,i){L.set(i,te(n,t,a,i,e,I))}));var V=R?E?h:p:E?D:O,H=q?void 0:V(e);return i(H||e,(function(n,i){H&&(i=n,n=e[i]),r(L,i,te(n,t,a,i,e,I))})),L}ee[j]=ee[P]=ee[V]=ee[H]=ee[T]=ee[I]=ee[U]=ee[W]=ee[G]=ee[J]=ee[X]=ee[M]=ee[E]=ee[A]=ee[R]=ee[q]=ee[B]=ee[F]=ee[Y]=ee[K]=ee[Q]=ee[Z]=!0,ee[L]=ee[z]=ee[N]=!1,e.exports=te},3835:function(e,t,a){"use strict";function n(e){if(Array.isArray(e))return e}function i(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,i,r=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(n=a.next()).done);o=!0)if(r.push(n.value),t&&r.length===t)break}catch(l){s=!0,i=l}finally{try{o||null==a["return"]||a["return"]()}finally{if(s)throw i}}return r}}a.d(t,"a",(function(){return s}));var r=a("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return n(e)||i(e,t)||Object(r["a"])(e,t)||o()}},3842:function(e,t,a){var n=a("6d8b"),i=1e-4;function r(e){return e.replace(/^\s+|\s+$/g,"")}function o(e,t,a,n){var i=t[1]-t[0],r=a[1]-a[0];if(0===i)return 0===r?a[0]:(a[0]+a[1])/2;if(n)if(i>0){if(e<=t[0])return a[0];if(e>=t[1])return a[1]}else{if(e>=t[0])return a[0];if(e<=t[1])return a[1]}else{if(e===t[0])return a[0];if(e===t[1])return a[1]}return(e-t[0])/i*r+a[0]}function s(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return"string"===typeof e?r(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function l(e,t,a){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),a?e:+e}function c(e){return e.sort((function(e,t){return e-t})),e}function u(e){if(e=+e,isNaN(e))return 0;var t=1,a=0;while(Math.round(e*t)/t!==e)t*=10,a++;return a}function d(e){var t=e.toString(),a=t.indexOf("e");if(a>0){var n=+t.slice(a+1);return n<0?-n:0}var i=t.indexOf(".");return i<0?0:t.length-1-i}function p(e,t){var a=Math.log,n=Math.LN10,i=Math.floor(a(e[1]-e[0])/n),r=Math.round(a(Math.abs(t[1]-t[0]))/n),o=Math.min(Math.max(-i+r,0),20);return isFinite(o)?o:20}function h(e,t,a){if(!e[t])return 0;var i=n.reduce(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===i)return 0;var r=Math.pow(10,a),o=n.map(e,(function(e){return(isNaN(e)?0:e)/i*r*100})),s=100*r,l=n.map(o,(function(e){return Math.floor(e)})),c=n.reduce(l,(function(e,t){return e+t}),0),u=n.map(o,(function(e,t){return e-l[t]}));while(c<s){for(var d=Number.NEGATIVE_INFINITY,p=null,h=0,f=u.length;h<f;++h)u[h]>d&&(d=u[h],p=h);++l[p],u[p]=0,++c}return l[t]/r}var f=9007199254740991;function g(e){var t=2*Math.PI;return(e%t+t)%t}function m(e){return e>-i&&e<i}var b=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function v(e){if(e instanceof Date)return e;if("string"===typeof e){var t=b.exec(e);if(!t)return new Date(NaN);if(t[8]){var a=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(a-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,a,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))}function y(e){return Math.pow(10,w(e))}function w(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function _(e,t){var a,n=w(e),i=Math.pow(10,n),r=e/i;return a=t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10,e=a*i,n>=-20?+e.toFixed(n<0?-n:0):e}function x(e,t){var a=(e.length-1)*t+1,n=Math.floor(a),i=+e[n-1],r=a-n;return r?i+r*(e[n]-i):i}function O(e){e.sort((function(e,t){return s(e,t,0)?-1:1}));for(var t=-1/0,a=1,n=0;n<e.length;){for(var i=e[n].interval,r=e[n].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,r[o]=o?1:1-a),t=i[o],a=r[o];i[0]===i[1]&&r[0]*r[1]!==1?e.splice(n,1):n++}return e;function s(e,t,a){return e.interval[a]<t.interval[a]||e.interval[a]===t.interval[a]&&(e.close[a]-t.close[a]===(a?-1:1)||!a&&s(e,t,1))}}function D(e){return e-parseFloat(e)>=0}t.linearMap=o,t.parsePercent=s,t.round=l,t.asc=c,t.getPrecision=u,t.getPrecisionSafe=d,t.getPixelPrecision=p,t.getPercentWithPrecision=h,t.MAX_SAFE_INTEGER=f,t.remRadian=g,t.isRadianAroundZero=m,t.parseDate=v,t.quantity=y,t.quantityExponent=w,t.nice=_,t.quantile=x,t.reformIntervals=O,t.isNumeric=D},"38a2":function(e,t,a){var n=a("2b17"),i=n.retrieveRawValue,r=a("eda2"),o=r.getTooltipMarker,s=r.formatTpl,l=a("e0d3"),c=l.getTooltipRenderMode,u=/\{@(.+?)\}/g,d={getDataParams:function(e,t){var a=this.getData(t),n=this.getRawValue(e,t),i=a.getRawIndex(e),r=a.getName(e),s=a.getRawDataItem(e),l=a.getItemVisual(e,"color"),u=a.getItemVisual(e,"borderColor"),d=this.ecModel.getComponent("tooltip"),p=d&&d.get("renderMode"),h=c(p),f=this.mainType,g="series"===f,m=a.userOutput;return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:g?this.subType:null,seriesIndex:this.seriesIndex,seriesId:g?this.id:null,seriesName:g?this.name:null,name:r,dataIndex:i,data:s,dataType:t,value:n,color:l,borderColor:u,dimensionNames:m?m.dimensionNames:null,encode:m?m.encode:null,marker:o({color:l,renderMode:h}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,a,n,r){t=t||"normal";var o=this.getData(a),l=o.getItemModel(e),c=this.getDataParams(e,a);null!=n&&c.value instanceof Array&&(c.value=c.value[n]);var d=l.get("normal"===t?[r||"label","formatter"]:[t,r||"label","formatter"]);if("function"===typeof d)return c.status=t,c.dimensionIndex=n,d(c);if("string"===typeof d){var p=s(d,c);return p.replace(u,(function(t,a){var n=a.length;return"["===a.charAt(0)&&"]"===a.charAt(n-1)&&(a=+a.slice(1,n-1)),i(o,e,a)}))}},getRawValue:function(e,t){return i(this.getData(t),e)},formatTooltip:function(){}};e.exports=d},"38e0":function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"ScopedCSS",(function(){return Z})),a.d(n,"QiankunCSSRewriteAttr",(function(){return ee})),a.d(n,"process",(function(){return te}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"preview"},[a("el-card",{staticClass:"preview-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.documentName?a("el-tag",[e._v(e._s(e.documentName))]):e._e(),e._v(" \r\n        "),a("b",[e._v(e._s(e.title))])],1),a("div",{attrs:{id:"micro"}})])],1)},r=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),s=a("a34a"),l=a.n(s),c=a("bcdf"),u=a.n(c),d=a("2909"),p=a("53ca"),h=a("9ab4"),f=a("25a2"),g=a("3482"),m=a.n(g),b=a("2411"),v=a.n(b),y=a("6cd4"),w=a.n(y),_=a("50b2"),x=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",a=!1;return{beforeLoad:function(){return Object(h["a"])(this,void 0,void 0,l.a.mark((function a(){return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.__INJECTED_PUBLIC_PATH_BY_QIANKUN__=t;case 1:case"end":return a.stop()}}),a)})))},beforeMount:function(){return Object(h["a"])(this,void 0,void 0,l.a.mark((function n(){return l.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a&&(e.__INJECTED_PUBLIC_PATH_BY_QIANKUN__=t);case 1:case"end":return n.stop()}}),n)})))},beforeUnmount:function(){return Object(h["a"])(this,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:void 0===x?delete e.__INJECTED_PUBLIC_PATH_BY_QIANKUN__:e.__INJECTED_PUBLIC_PATH_BY_QIANKUN__=x,a=!0;case 2:case"end":return t.stop()}}),t)})))}}}function D(e){return{beforeLoad:function(){return Object(h["a"])(this,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.__POWERED_BY_QIANKUN__=!0;case 1:case"end":return t.stop()}}),t)})))},beforeMount:function(){return Object(h["a"])(this,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.__POWERED_BY_QIANKUN__=!0;case 1:case"end":return t.stop()}}),t)})))},beforeUnmount:function(){return Object(h["a"])(this,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:delete e.__POWERED_BY_QIANKUN__;case 1:case"end":return t.stop()}}),t)})))}}}function C(e,t){return v()({},D(e),O(e,t),(function(e,t){return m()(null!==e&&void 0!==e?e:[],null!==t&&void 0!==t?t:[])}))}var k=a("d4ec");function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var I=a("7037"),L=a.n(I);function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t){if(t&&("object"===L()(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function M(e){var t=T();return function(){var a,n=P(e);if(t){var i=P(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return $(this,a)}}function E(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function A(e,t,a){return A=T()?Reflect.construct:function(e,t,a){var n=[null];n.push.apply(n,t);var i=Function.bind.apply(e,n),r=new i;return a&&S(r,a.prototype),r},A.apply(null,arguments)}function R(e){var t="function"===typeof Map?new Map:void 0;return R=function(e){if(null===e||!E(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return A(e,arguments,P(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),S(a,e)},R(e)}var q,B=function(e){j(a,e);var t=M(a);function a(e){return Object(k["a"])(this,a),t.call(this,"[qiankun]: ".concat(e))}return a}(R(Error)),F=a("0644"),N=a.n(F),V={},H={};function U(e,t){Object.keys(H).forEach((function(a){H[a]instanceof Function&&H[a](N()(e),N()(t))}))}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e===V)console.warn("[qiankun] state has not changed！");else{var t=N()(V);V=N()(e),U(V,t)}return G("global-".concat(+new Date),!0)}function G(e,t){return{onGlobalStateChange:function(t,a){if(t instanceof Function){if(H[e]&&console.warn("[qiankun] '".concat(e,"' global listener already exists before this, new listener will overwrite it.")),H[e]=t,a){var n=N()(V);t(n,n)}}else console.error("[qiankun] callback must be function!")},setGlobalState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e===V)return console.warn("[qiankun] state has not changed！"),!1;var a=[],n=N()(V);return V=N()(Object.keys(e).reduce((function(n,i){return t||n.hasOwnProperty(i)?(a.push(i),Object.assign(n,Object(o["a"])({},i,e[i]))):(console.warn("[qiankun] '".concat(i,"' not declared when init state！")),n)}),V)),0===a.length?(console.warn("[qiankun] state has not changed！"),!1):(U(V,n),!0)},offGlobalStateChange:function(){return delete H[e],!0}}}(function(e){e["Proxy"]="Proxy",e["Snapshot"]="Snapshot",e["LegacyProxy"]="LegacyProxy"})(q||(q={}));var J,X=a("bee2");(function(e){e[e["STYLE"]=1]="STYLE",e[e["MEDIA"]=4]="MEDIA",e[e["SUPPORTS"]=12]="SUPPORTS",e[e["IMPORT"]=3]="IMPORT",e[e["FONT_FACE"]=5]="FONT_FACE",e[e["PAGE"]=6]="PAGE",e[e["KEYFRAMES"]=7]="KEYFRAMES",e[e["KEYFRAME"]=8]="KEYFRAME"})(J||(J={}));var Y,K=function(e){return[].slice.call(e,0)},Q=HTMLBodyElement.prototype.appendChild,Z=function(){function e(){Object(k["a"])(this,e);var t=document.createElement("style");Q.call(document.body,t),this.swapNode=t,this.sheet=t.sheet,this.sheet.disabled=!0}return Object(X["a"])(e,[{key:"process",value:function(t){var a,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""!==t.textContent){var r=document.createTextNode(t.textContent||"");this.swapNode.appendChild(r);var o=this.swapNode.sheet,s=K(null!==(a=null===o||void 0===o?void 0:o.cssRules)&&void 0!==a?a:[]),l=this.rewrite(s,i);return t.textContent=l,void this.swapNode.removeChild(r)}var c=new MutationObserver((function(a){for(var r,o=0;o<a.length;o+=1){var s=a[o];if(e.ModifiedTag in t)return;if("childList"===s.type){var l=t.sheet,c=K(null!==(r=null===l||void 0===l?void 0:l.cssRules)&&void 0!==r?r:[]),u=n.rewrite(c,i);t.textContent=u,t[e.ModifiedTag]=!0}}}));c.observe(t,{childList:!0})}},{key:"rewrite",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";return e.forEach((function(e){switch(e.type){case J.STYLE:n+=t.ruleStyle(e,a);break;case J.MEDIA:n+=t.ruleMedia(e,a);break;case J.SUPPORTS:n+=t.ruleSupport(e,a);break;default:n+="".concat(e.cssText);break}})),n}},{key:"ruleStyle",value:function(e,t){var a=/((?:[^\w\-.#]|^)(body|html|:root))/gm,n=/(html[^\w{[]+)/gm,i=e.selectorText.trim(),r=e.cssText;if("html"===i||"body"===i||":root"===i)return r.replace(a,t);if(n.test(e.selectorText)){var o=/(html[^\w{]+)(\+|~)/gm;o.test(e.selectorText)||(r=r.replace(n,""))}return r=r.replace(/^[\s\S]+{/,(function(e){return e.replace(/(^|,\n?)([^,]+)/g,(function(e,n,i){return a.test(e)?e.replace(a,(function(e){var a=[",","("];return e&&a.includes(e[0])?"".concat(e[0]).concat(t):t})):"".concat(n).concat(t," ").concat(i.replace(/^ */,""))}))})),r}},{key:"ruleMedia",value:function(e,t){var a=this.rewrite(K(e.cssRules),t);return"@media ".concat(e.conditionText," {").concat(a,"}")}},{key:"ruleSupport",value:function(e,t){var a=this.rewrite(K(e.cssRules),t);return"@supports ".concat(e.conditionText," {").concat(a,"}")}}]),e}();Z.ModifiedTag="Symbol(style-modified-qiankun)";var ee="data-qiankun",te=function(e,t,a){Y||(Y=new Z),"LINK"===t.tagName&&console.warn("Feature: sandbox.experimentalStyleIsolation is not support for link element yet.");var n=e;if(n){var i=(n.tagName||"").toLowerCase();if(i&&"STYLE"===t.tagName){var r="".concat(i,"[").concat(ee,'="').concat(a,'"]');Y.process(t,r)}}},ae=a("9520"),ne=a.n(ae),ie=HTMLHeadElement.prototype.appendChild,re=HTMLHeadElement.prototype.removeChild,oe=HTMLBodyElement.prototype.appendChild,se=HTMLBodyElement.prototype.removeChild,le=HTMLHeadElement.prototype.insertBefore,ce=HTMLElement.prototype.removeChild,ue="SCRIPT",de="LINK",pe="STYLE";function he(e){return(null===e||void 0===e?void 0:e.toUpperCase())===de||(null===e||void 0===e?void 0:e.toUpperCase())===pe||(null===e||void 0===e?void 0:e.toUpperCase())===ue}function fe(e){var t,a;return!e.textContent&&((null===(t=e.sheet)||void 0===t?void 0:t.cssRules.length)||(null===(a=Oe(e))||void 0===a?void 0:a.length))}function ge(e,t){return Object.defineProperties(e,{srcElement:{get:t},target:{get:t}}),e}function me(e){var t=new CustomEvent("load"),a=ge(t,(function(){return e}));ne()(e.onload)?e.onload(a):e.dispatchEvent(a)}function be(e){var t=new CustomEvent("error"),a=ge(t,(function(){return e}));ne()(e.onerror)?e.onerror(a):e.dispatchEvent(a)}function ve(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch,n=document.createElement("style"),i=e.href;return n.dataset.qiankunHref=i,a(i).then((function(e){return e.text()})).then((function(a){n.appendChild(document.createTextNode(a)),t(n),me(e)})).catch((function(){return be(e)})),n}var ye=new WeakMap,we=new WeakMap,_e=new WeakMap;function xe(e){e.forEach((function(e){e instanceof HTMLStyleElement&&fe(e)&&e.sheet&&ye.set(e,e.sheet.cssRules)}))}function Oe(e){return ye.get(e)}function De(e){return function(t){var a,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t,o=e.rawDOMAppendOrInsertBefore,s=e.isInvokedByMicroApp,l=e.containerConfigGetter;if(!he(r.tagName)||!s(r))return o.call(this,r,i);if(r.tagName){var c=l(r),u=c.appName,d=c.appWrapperGetter,p=c.proxy,h=c.strictGlobal,f=c.dynamicStyleSheetElements,g=c.scopedCSS,m=c.excludeAssetFilter;switch(r.tagName){case de:case pe:var b=t,v=b,y=v.href;if(m&&y&&m(y))return o.call(this,r,i);var w=d();if(g){var x=(null===(a=r.tagName)||void 0===a?void 0:a.toUpperCase())===de&&"stylesheet"===r.rel&&r.href;if(x){var O="function"===typeof Kt.fetch?Kt.fetch:null===(n=Kt.fetch)||void 0===n?void 0:n.fn;b=ve(r,(function(e){return te(w,e,u)}),O),_e.set(r,b)}else te(w,b,u)}f.push(b);var D=w.contains(i)?i:null;return o.call(w,b,D);case ue:var C=r,k=C.src,S=C.text;if(m&&k&&m(k))return o.call(this,r,i);var j=d(),P=Kt.fetch,T=j.contains(i)?i:null;if(k){Object(_["a"])(null,[k],p,{fetch:P,strictGlobal:h,beforeExec:function(){var e=function(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");return!e||e.configurable};e()&&Object.defineProperty(document,"currentScript",{get:function(){return r},configurable:!0})},success:function(){me(r),r=null},error:function(){be(r),r=null}});var I=document.createComment("dynamic script ".concat(k," replaced by qiankun"));return we.set(r,I),o.call(j,I,T)}Object(_["a"])(null,["<script>".concat(S,"<\/script>")],p,{strictGlobal:h});var L=document.createComment("dynamic inline script replaced by qiankun");return we.set(r,L),o.call(j,L,T);default:break}}return o.call(this,r,i)}}function Ce(e,t){return function(a){var n=a.tagName;if(!he(n))return e.call(this,a);try{var i;switch(n){case de:i=_e.get(a)||a;break;case ue:i=we.get(a)||a;break;default:i=a}var r=t(a),o=r();if(o.contains(i))return ce.call(o,i)}catch(s){console.warn(s)}return e.call(this,a)}}function ke(e,t){return HTMLHeadElement.prototype.appendChild===ie&&HTMLBodyElement.prototype.appendChild===oe&&HTMLHeadElement.prototype.insertBefore===le&&(HTMLHeadElement.prototype.appendChild=De({rawDOMAppendOrInsertBefore:ie,containerConfigGetter:t,isInvokedByMicroApp:e}),HTMLBodyElement.prototype.appendChild=De({rawDOMAppendOrInsertBefore:oe,containerConfigGetter:t,isInvokedByMicroApp:e}),HTMLHeadElement.prototype.insertBefore=De({rawDOMAppendOrInsertBefore:le,containerConfigGetter:t,isInvokedByMicroApp:e})),HTMLHeadElement.prototype.removeChild===re&&HTMLBodyElement.prototype.removeChild===se&&(HTMLHeadElement.prototype.removeChild=Ce(re,(function(e){return t(e).appWrapperGetter})),HTMLBodyElement.prototype.removeChild=Ce(se,(function(e){return t(e).appWrapperGetter}))),function(){HTMLHeadElement.prototype.appendChild=ie,HTMLHeadElement.prototype.removeChild=re,HTMLBodyElement.prototype.appendChild=oe,HTMLBodyElement.prototype.removeChild=se,HTMLHeadElement.prototype.insertBefore=le}}function Se(e,t){e.forEach((function(e){var a=t(e);if(a&&e instanceof HTMLStyleElement&&fe(e)){var n=Oe(e);if(n)for(var i=0;i<n.length;i++){var r=n[i],o=e.sheet;o.insertRule(r.cssText,o.cssRules.length)}}}))}var je=0,Pe=0;function Te(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5?arguments[5]:void 0,o=[],s=ke((function(){return Object(f["b"])(window.location).some((function(t){return t===e}))}),(function(){return{appName:e,appWrapperGetter:t,proxy:a,strictGlobal:!1,scopedCSS:i,dynamicStyleSheetElements:o,excludeAssetFilter:r}}));return n||je++,n&&Pe++,function(){n||0===je||je--,n&&Pe--;var e=0===Pe&&0===je;return e&&s(),xe(o),function(){Se(o,(function(e){var a=t();return!a.contains(e)&&(document.head.appendChild.call(a,e),!0)})),n&&(o=[])}}}var Ie=a("1d92"),Le=a.n(Ie),ze=a("efdf"),$e=a.n(ze),Me="2.6.3";function Ee(e){return Array.isArray(e)?e:[e]}var Ae="function"===typeof window.Zone?setTimeout:function(e){return Promise.resolve().then(e)},Re=!1;function qe(e){Re||(Re=!0,Ae((function(){e(),Re=!1})))}var Be=new WeakMap;function Fe(e){var t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1;if(t)return!0;if(Be.has(e))return Be.get(e);var a=t;if(!a){var n=e.toString(),i=/^function\b\s[A-Z].*/,r=/^class\b/;a=i.test(n)||r.test(n)}return Be.set(e,a),a}var Ne="function"===typeof document.all&&"undefined"===typeof document.all,Ve=new WeakMap,He=function(e){if(Ve.has(e))return!0;var t=Ne?"function"===typeof e&&"undefined"!==typeof e:"function"===typeof e;return t&&Ve.set(e,t),t},Ue=new WeakMap;function We(e){if(Ue.has(e))return Ue.get(e);var t=0===e.name.indexOf("bound ")&&!e.hasOwnProperty("prototype");return Ue.set(e,t),t}function Ge(e){return function(t){return'<div id="'.concat(Je(e),'" data-name="').concat(e,'" data-version="').concat(Me,'">').concat(t,"</div>")}}function Je(e){return"__qiankun_microapp_wrapper_for_".concat($e()(e),"__")}var Xe=new Function("return this")(),Ye=Le()((function(){return Xe.hasOwnProperty("__app_instance_name_map__")||Object.defineProperty(Xe,"__app_instance_name_map__",{enumerable:!1,configurable:!0,writable:!0,value:{}}),Xe.__app_instance_name_map__})),Ke=function(e){var t=Ye();return e in t?(t[e]++,"".concat(e,"_").concat(t[e])):(Xe.__app_instance_name_map__[e]=0,e)};function Qe(e){var t=null!==e&&void 0!==e?e:{},a=t.bootstrap,n=t.mount,i=t.unmount;return ne()(a)&&ne()(n)&&ne()(i)}var Ze=function e(){var t=this;Object(k["a"])(this,e),this.promise=new Promise((function(e,a){t.resolve=e,t.reject=a}))};"undefined"!==typeof performance&&"function"===typeof performance.mark&&"function"===typeof performance.clearMarks&&"function"===typeof performance.measure&&"function"===typeof performance.clearMeasures&&performance.getEntriesByName;function et(e){return"object"===Object(p["a"])(e)&&(!e.strictStyleIsolation&&!!e.experimentalStyleIsolation)}function tt(e,t){if(t.body.contains(e)){var a,n,i="",r=e;while(r!==t.documentElement){a=0,n=r;while(n)1===n.nodeType&&n.nodeName===r.nodeName&&(a+=1),n=n.previousSibling;i="*[name()='".concat(r.nodeName,"'][").concat(a,"]/").concat(i),r=r.parentNode}return i="/*[name()='".concat(t.documentElement.nodeName,"']/").concat(i),i=i.replace(/\/$/,""),i}}function at(e){return"string"===typeof e?document.querySelector(e):e}function nt(e){if(e){var t=at(e);if(t)return tt(t,document)}}var it=null;function rt(){return it}function ot(e){it=e}var st=new WeakMap;function lt(e,t){if(He(t)&&!We(t)&&!Fe(t)){var a=st.get(t);if(a)return a;var n=Function.prototype.bind.call(t,e);for(var i in t)n[i]=t[i];if(t.hasOwnProperty("prototype")&&!n.hasOwnProperty("prototype")&&Object.defineProperty(n,"prototype",{value:t.prototype,enumerable:!1,writable:!0}),"function"===typeof t.toString){var r=t.hasOwnProperty("toString")&&!n.hasOwnProperty("toString"),o=n.toString===Function.prototype.toString;if(r||o){var s=Object.getOwnPropertyDescriptor(r?t:Function.prototype,"toString");Object.defineProperty(n,"toString",Object.assign(Object.assign({},s),(null===s||void 0===s?void 0:s.get)?null:{value:function(){return t.toString()}}))}}return st.set(t,n),n}return t}new WeakMap;Object.defineProperty(Xe,"__proxyAttachContainerConfigMap__",{enumerable:!1,writable:!0}),Xe.__proxyAttachContainerConfigMap__=Xe.__proxyAttachContainerConfigMap__||new WeakMap;var ct=Xe.__proxyAttachContainerConfigMap__,ut=new WeakMap,dt=new WeakMap;function pt(){var e=dt.get(document.createElement);if(!e){var t=document.createElement;Document.prototype.createElement=function(e,a){var n=t.call(this,e,a);if(he(e)){var i=rt()||{},r=i.window;if(r){var o=ct.get(r);o&&ut.set(n,o)}}return n},document.hasOwnProperty("createElement")&&(document.createElement=Document.prototype.createElement),dt.set(Document.prototype.createElement,t)}return function(){e&&(Document.prototype.createElement=e,document.createElement=e)}}var ht=0,ft=0;function gt(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5?arguments[5]:void 0,o=ct.get(a);o||(o={appName:e,proxy:a,appWrapperGetter:t,dynamicStyleSheetElements:[],strictGlobal:!0,excludeAssetFilter:r,scopedCSS:i},ct.set(a,o));var s=o,l=s.dynamicStyleSheetElements,c=pt(),u=ke((function(e){return ut.has(e)}),(function(e){return ut.get(e)}));return n||ht++,n&&ft++,function(){n||0===ht||ht--,n&&ft--;var e=0===ft&&0===ht;return e&&(u(),c()),xe(l),function(){Se(l,(function(e){var a=t();return!a.contains(e)&&(ie.call(a,e),!0)}))}}}function mt(){var e=function(e){return u.a},t=[],a=[];return window.g_history&&ne()(window.g_history.listen)&&(e=window.g_history.listen.bind(window.g_history),window.g_history.listen=function(n){t.push(n);var i=e(n);return a.push(i),function(){i(),a.splice(a.indexOf(i),1),t.splice(t.indexOf(n),1)}}),function(){var n=u.a;return t.length&&(n=function(){t.forEach((function(e){return window.g_history.listen(e)}))}),a.forEach((function(e){return e()})),window.g_history&&ne()(window.g_history.listen)&&(window.g_history.listen=e),n}}var bt=window.setInterval,vt=window.clearInterval;function yt(e){var t=[];return e.clearInterval=function(e){return t=t.filter((function(t){return t!==e})),vt.call(window,e)},e.setInterval=function(e,a){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=bt.apply(void 0,[e,a].concat(i));return t=[].concat(Object(d["a"])(t),[o]),o},function(){return t.forEach((function(t){return e.clearInterval(t)})),e.setInterval=bt,e.clearInterval=vt,u.a}}var wt=window.addEventListener,_t=window.removeEventListener;function xt(e){var t=new Map;return e.addEventListener=function(e,a,n){var i=t.get(e)||[];return t.set(e,[].concat(Object(d["a"])(i),[a])),wt.call(window,e,a,n)},e.removeEventListener=function(e,a,n){var i=t.get(e);return i&&i.length&&-1!==i.indexOf(a)&&i.splice(i.indexOf(a),1),_t.call(window,e,a,n)},function(){return t.forEach((function(t,a){return Object(d["a"])(t).forEach((function(t){return e.removeEventListener(a,t)}))})),e.addEventListener=wt,e.removeEventListener=_t,u.a}}function Ot(e,t,a,n,i){var r,s,l=[function(){return yt(a.proxy)},function(){return xt(a.proxy)},function(){return mt()}],c=(r={},Object(o["a"])(r,q.LegacyProxy,[].concat(l,[function(){return Te(e,t,a.proxy,!0,n,i)}])),Object(o["a"])(r,q.Proxy,[].concat(l,[function(){return gt(e,t,a.proxy,!0,n,i)}])),Object(o["a"])(r,q.Snapshot,[].concat(l,[function(){return Te(e,t,a.proxy,!0,n,i)}])),r);return null===(s=c[a.type])||void 0===s?void 0:s.map((function(e){return e()}))}function Dt(e,t,a,n,i){var r,s,l=(r={},Object(o["a"])(r,q.LegacyProxy,[function(){return Te(e,t,a.proxy,!1,n,i)}]),Object(o["a"])(r,q.Proxy,[function(){return gt(e,t,a.proxy,!1,n,i)}]),Object(o["a"])(r,q.Snapshot,[function(){return Te(e,t,a.proxy,!1,n,i)}]),r);return null===(s=l[a.type])||void 0===s?void 0:s.map((function(e){return e()}))}function Ct(e,t){var a=Object.getOwnPropertyDescriptor(e,t);return!a||a.configurable}var kt=function(){function e(t){var a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Object(k["a"])(this,e),this.addedPropsMapInSandbox=new Map,this.modifiedPropsOriginalValueMapInSandbox=new Map,this.currentUpdatedPropsValueMap=new Map,this.sandboxRunning=!0,this.latestSetProp=null,this.name=t,this.globalContext=n,this.type=q.LegacyProxy;var i=this.addedPropsMapInSandbox,r=this.modifiedPropsOriginalValueMapInSandbox,o=this.currentUpdatedPropsValueMap,s=n,l=Object.create(null),c=function(e,t,n){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return!a.sandboxRunning||(s.hasOwnProperty(e)?r.has(e)||r.set(e,n):i.set(e,t),o.set(e,t),l&&(s[e]=t),a.latestSetProp=e,!0)},u=new Proxy(l,{set:function(e,t,a){var n=s[t];return c(t,a,n,!0)},get:function(e,t){if("top"===t||"parent"===t||"window"===t||"self"===t)return u;var a=s[t];return lt(s,a)},has:function(e,t){return t in s},getOwnPropertyDescriptor:function(e,t){var a=Object.getOwnPropertyDescriptor(s,t);return a&&!a.configurable&&(a.configurable=!0),a},defineProperty:function(e,t,a){var n=s[t],i=Reflect.defineProperty(s,t,a),r=s[t];return c(t,r,n,!1),i}});this.proxy=u}return Object(X["a"])(e,[{key:"setWindowProp",value:function(e,t,a){void 0===t&&a?delete this.globalContext[e]:Ct(this.globalContext,e)&&"symbol"!==Object(p["a"])(e)&&(Object.defineProperty(this.globalContext,e,{writable:!0,configurable:!0}),this.globalContext[e]=t)}},{key:"active",value:function(){var e=this;this.sandboxRunning||this.currentUpdatedPropsValueMap.forEach((function(t,a){return e.setWindowProp(a,t)})),this.sandboxRunning=!0}},{key:"inactive",value:function(){var e=this;this.modifiedPropsOriginalValueMapInSandbox.forEach((function(t,a){return e.setWindowProp(a,t)})),this.addedPropsMapInSandbox.forEach((function(t,a){return e.setWindowProp(a,void 0,!0)})),this.sandboxRunning=!1}}]),e}();function St(e){return e.filter((function(e){return!(e in this)&&(this[e]=!0)}),Object.create(null))}var jt=Object.defineProperty,Pt=window.__QIANKUN_DEVELOPMENT__?["__REACT_ERROR_OVERLAY_GLOBAL_HOOK__"]:[],Tt=["System","__cjsWrapper"].concat(Pt),It={undefined:!0,Array:!0,Object:!0,String:!0,Boolean:!0,Math:!0,Number:!0,Symbol:!0,parseFloat:!0,Float32Array:!0,isNaN:!0,Infinity:!0,Reflect:!0,Float64Array:!0,Function:!0,Map:!0,NaN:!0,Promise:!0,Proxy:!0,Set:!0,parseInt:!0,requestAnimationFrame:!0},Lt=new Map([["fetch",!0],["mockDomAPIInBlackList",!1]]);function zt(e){var t=new Map,a={};return Object.getOwnPropertyNames(e).filter((function(t){var a=Object.getOwnPropertyDescriptor(e,t);return!(null===a||void 0===a?void 0:a.configurable)})).forEach((function(n){var i=Object.getOwnPropertyDescriptor(e,n);if(i){var r=Object.prototype.hasOwnProperty.call(i,"get");"top"!==n&&"parent"!==n&&"self"!==n&&"window"!==n||(i.configurable=!0,r||(i.writable=!0)),r&&t.set(n,!0),jt(a,n,Object.freeze(i))}})),{fakeWindow:a,propertiesWithGetter:t}}var $t=0,Mt=function(){function e(t){var a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Object(k["a"])(this,e),this.updatedValueSet=new Set,this.sandboxRunning=!0,this.latestSetProp=null,this.name=t,this.globalContext=n,this.type=q.Proxy;var i=this.updatedValueSet,r=zt(n),o=r.fakeWindow,s=r.propertiesWithGetter,l=new Map,c=function(e){return o.hasOwnProperty(e)||n.hasOwnProperty(e)},u=new Proxy(o,{set:function(e,r,o){if(a.sandboxRunning){if(a.registerRunningApp(t,u),!e.hasOwnProperty(r)&&n.hasOwnProperty(r)){var s=Object.getOwnPropertyDescriptor(n,r),l=s.writable,c=s.configurable,d=s.enumerable;l&&Object.defineProperty(e,r,{configurable:c,enumerable:d,writable:l,value:o})}else e[r]=o;return-1!==Tt.indexOf(r)&&(n[r]=o),i.add(r),a.latestSetProp=r,!0}return!0},get:function(e,i){if(a.registerRunningApp(t,u),i===Symbol.unscopables)return It;if("window"===i||"self"===i)return u;if("globalThis"===i)return u;if("top"===i||"parent"===i)return n===n.parent?u:n[i];if("hasOwnProperty"===i)return c;if("document"===i)return document;if("eval"===i)return eval;var r=s.has(i)?n[i]:i in e?e[i]:n[i],o=Lt.get(i)?Xe:n;return lt(o,r)},has:function(e,t){return t in It||t in e||t in n},getOwnPropertyDescriptor:function(e,t){if(e.hasOwnProperty(t)){var a=Object.getOwnPropertyDescriptor(e,t);return l.set(t,"target"),a}if(n.hasOwnProperty(t)){var i=Object.getOwnPropertyDescriptor(n,t);return l.set(t,"globalContext"),i&&!i.configurable&&(i.configurable=!0),i}},ownKeys:function(e){return St(Reflect.ownKeys(n).concat(Reflect.ownKeys(e)))},defineProperty:function(e,t,a){var i=l.get(t);switch(i){case"globalContext":return Reflect.defineProperty(n,t,a);default:return Reflect.defineProperty(e,t,a)}},deleteProperty:function(e,n){return a.registerRunningApp(t,u),!e.hasOwnProperty(n)||(delete e[n],i.delete(n),!0)},getPrototypeOf:function(){return Reflect.getPrototypeOf(n)}});this.proxy=u,$t++}return Object(X["a"])(e,[{key:"registerRunningApp",value:function(e,t){if(this.sandboxRunning){var a=rt();a&&a.name===e||ot({name:e,window:t}),qe((function(){ot(null)}))}}},{key:"active",value:function(){this.sandboxRunning||$t++,this.sandboxRunning=!0}},{key:"inactive",value:function(){var e=this;0===--$t&&Tt.forEach((function(t){e.proxy.hasOwnProperty(t)&&delete e.globalContext[t]})),this.sandboxRunning=!1}}]),e}();function Et(e,t){for(var a in e)(e.hasOwnProperty(a)||"clearInterval"===a)&&t(a)}var At=function(){function e(t){Object(k["a"])(this,e),this.sandboxRunning=!0,this.modifyPropsMap={},this.name=t,this.proxy=window,this.type=q.Snapshot}return Object(X["a"])(e,[{key:"active",value:function(){var e=this;this.windowSnapshot={},Et(window,(function(t){e.windowSnapshot[t]=window[t]})),Object.keys(this.modifyPropsMap).forEach((function(t){window[t]=e.modifyPropsMap[t]})),this.sandboxRunning=!0}},{key:"inactive",value:function(){var e=this;this.modifyPropsMap={},Et(window,(function(t){window[t]!==e.windowSnapshot[t]&&(e.modifyPropsMap[t]=window[t],window[t]=e.windowSnapshot[t])})),this.sandboxRunning=!1}}]),e}();function Rt(e,t,a,n,i,r){var o;o=window.Proxy?n?new kt(e,r):new Mt(e,r):new At(e);var s=Dt(e,t,o,a,i),c=[],u=[];return{instance:o,mount:function(){return Object(h["a"])(this,void 0,void 0,l.a.mark((function n(){var r,d;return l.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o.active(),r=u.slice(0,s.length),d=u.slice(s.length),r.length&&r.forEach((function(e){return e()})),c=Ot(e,t,o,a,i),d.length&&d.forEach((function(e){return e()})),u=[];case 7:case"end":return n.stop()}}),n)})))},unmount:function(){return Object(h["a"])(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u=[].concat(Object(d["a"])(s),Object(d["a"])(c)).map((function(e){return e()})),o.inactive();case 2:case"end":return e.stop()}}),e)})))}}}function qt(e,t){if(!e){if(t)throw new B(t);throw new B("element not existed!")}}function Bt(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return e.length?e.reduce((function(e,n){return e.then((function(){return n(t,a)}))}),Promise.resolve()):Promise.resolve()}function Ft(e,t){return Object(h["a"])(this,void 0,void 0,l.a.mark((function a(){return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return","function"===typeof e?e(t):!!e);case 1:case"end":return a.stop()}}),a)})))}var Nt=document.head.attachShadow||document.head.createShadowRoot;function Vt(e,t,a,i){var r=document.createElement("div");r.innerHTML=e;var o=r.firstChild;if(t)if(Nt){var s,l=o.innerHTML;o.innerHTML="",s=o.attachShadow?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.innerHTML=l}else console.warn("[qiankun]: As current browser not support shadow dom, your strictStyleIsolation configuration will be ignored!");if(a){var c=o.getAttribute(n.QiankunCSSRewriteAttr);c||o.setAttribute(n.QiankunCSSRewriteAttr,i);var u=o.querySelectorAll("style")||[];w()(u,(function(e){n.process(o,e,i)}))}return o}function Ht(e,t,a,n,i){return function(){if(t){if(a)throw new B("strictStyleIsolation can not be used with legacy render!");if(n)throw new B("experimentalStyleIsolation can not be used with legacy render!");var r=document.getElementById(Je(e));return qt(r,"Wrapper element for ".concat(e," is not existed!")),r}var o=i();return qt(o,"Wrapper element for ".concat(e," is not existed!")),a&&Nt?o.shadowRoot:o}}var Ut,Wt=HTMLElement.prototype.appendChild,Gt=HTMLElement.prototype.removeChild;function Jt(e,t,a){var n=function(n,i){var r=n.element,o=n.loading,s=n.container;if(a)return a({loading:o,appContent:r?t:""});var l=at(s);if("unmounted"!==i){var c=function(){switch(i){case"loading":case"mounting":return"Target container with ".concat(s," not existed while ").concat(e," ").concat(i,"!");case"mounted":return"Target container with ".concat(s," not existed after ").concat(e," ").concat(i,"!");default:return"Target container with ".concat(s," not existed while ").concat(e," rendering!")}}();qt(l,c)}if(l&&!l.contains(r)){while(l.firstChild)Gt.call(l,l.firstChild);r&&Wt.call(l,r)}};return n}function Xt(e,t,a,n){if(Qe(e))return e;if(n){var i=a[n];if(Qe(i))return i}var r=a[t];if(Qe(r))return r;throw new B("You need to export lifecycle functions in ".concat(t," entry"))}function Yt(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Object(h["a"])(this,void 0,void 0,l.a.mark((function i(){var r,o,s,c,u,d,f,g,b,y,w,x,O,D,k,S,j,P,T,I,L,z,$,M,E,A,R,q,B,F,N,V,H,U,W,J,X,Y,K,Q,Z,ee,te,ae,ne,ie,re,oe,se,le,ce,ue=this;return l.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=e.entry,o=e.name,s=Ke(o),"[qiankun] App ".concat(s," Loading"),c=a.singular,u=void 0!==c&&c,d=a.sandbox,f=void 0===d||d,g=a.excludeAssetFilter,b=a.globalContext,y=void 0===b?window:b,w=Object(h["b"])(a,["singular","sandbox","excludeAssetFilter","globalContext"]),i.next=7,Object(_["b"])(r,w);case 7:return x=i.sent,O=x.template,D=x.execScripts,k=x.assetPublicPath,i.next=13,Ft(u,e);case 13:if(!i.sent){i.next=16;break}return i.next=16,Ut&&Ut.promise;case 16:return S=Ge(s)(O),j="object"===Object(p["a"])(f)&&!!f.strictStyleIsolation,P=et(f),T=Vt(S,j,P,s),I="container"in e?e.container:void 0,L="render"in e?e.render:void 0,z=Jt(s,S,L),z({element:T,loading:!0,container:I},"loading"),$=Ht(s,!!L,j,P,(function(){return T})),M=y,E=function(){return Promise.resolve()},A=function(){return Promise.resolve()},R="object"===Object(p["a"])(f)&&!!f.loose,f&&(q=Rt(s,$,P,R,g,M),M=q.instance.proxy,E=q.mount,A=q.unmount),B=v()({},C(M,k),n,(function(e,t){return m()(null!==e&&void 0!==e?e:[],null!==t&&void 0!==t?t:[])})),F=B.beforeUnmount,N=void 0===F?[]:F,V=B.afterUnmount,H=void 0===V?[]:V,U=B.afterMount,W=void 0===U?[]:U,J=B.beforeMount,X=void 0===J?[]:J,Y=B.beforeLoad,K=void 0===Y?[]:Y,i.next=34,Bt(Ee(K),e,M);case 34:return i.next=36,D(M,f&&!R);case 36:return Q=i.sent,Z=Xt(Q,o,M,null===(t=null===q||void 0===q?void 0:q.instance)||void 0===t?void 0:t.latestSetProp),ee=Z.bootstrap,te=Z.mount,ae=Z.unmount,ne=Z.update,ie=G(s),re=ie.onGlobalStateChange,oe=ie.setGlobalState,se=ie.offGlobalStateChange,le=function(e){return T=e},ce=function(){var t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,i={name:s,bootstrap:ee,mount:[function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}}),e)})))},function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ft(u,e);case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}t.t0=Ut;case 5:if(!t.t0){t.next=7;break}return t.abrupt("return",Ut.promise);case 7:return t.abrupt("return",void 0);case 8:case"end":return t.stop()}}),t)})))},function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=T,a=Ht(s,!!L,j,P,(function(){return t}));case 2:case"end":return e.stop()}}),e)})))},function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function e(){var a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=n!==I,!a&&t||(t=Vt(S,j,P,s),le(t)),z({element:t,loading:!0,container:n},"mounting");case 3:case"end":return e.stop()}}),e)})))},E,function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Bt(Ee(X),e,M));case 1:case"end":return t.stop()}}),t)})))},function(e){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",te(Object.assign(Object.assign({},e),{container:a(),setGlobalState:oe,onGlobalStateChange:re})));case 1:case"end":return t.stop()}}),t)})))},function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",z({element:t,loading:!1,container:n},"mounted"));case 1:case"end":return e.stop()}}),e)})))},function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Bt(Ee(W),e,M));case 1:case"end":return t.stop()}}),t)})))},function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ft(u,e);case 2:if(!t.sent){t.next=4;break}Ut=new Ze;case 4:case"end":return t.stop()}}),t)})))},function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}}),e)})))}],unmount:[function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Bt(Ee(N),e,M));case 1:case"end":return t.stop()}}),t)})))},function(e){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",ae(Object.assign(Object.assign({},e),{container:a()})));case 1:case"end":return t.stop()}}),t)})))},A,function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Bt(Ee(H),e,M));case 1:case"end":return t.stop()}}),t)})))},function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:z({element:null,loading:!1,container:n},"unmounted"),se(s),t=null,le(t);case 4:case"end":return e.stop()}}),e)})))},function(){return Object(h["a"])(ue,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ft(u,e);case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}t.t0=Ut;case 5:if(!t.t0){t.next=7;break}Ut.resolve();case 7:case"end":return t.stop()}}),t)})))}]};return"function"===typeof ne&&(i.update=ne),i},i.abrupt("return",ce);case 42:case"end":return i.stop()}}),i)})))}a("6036");var Kt={},Qt=!1,Zt=!0,ea=(new Ze,function(e){var t=e.sandbox,a=e.singular;return t&&!window.Proxy?(console.warn("[qiankun] Miss window.Proxy, proxySandbox will degenerate into snapshotSandbox"),!1===a&&console.warn("[qiankun] Setting singular as false may cause unexpected behavior while your browser not support window.Proxy"),Object.assign(Object.assign({},e),{sandbox:"object"===Object(p["a"])(t)?Object.assign(Object.assign({},t),{loose:!0}):{loose:!0}})):e});var ta=new Map,aa=new Map;function na(e,t,a){var n,i,r=this,o=e.props,s=e.name,c="container"in e?e.container:void 0,u=nt(c),p="".concat(s,"-").concat(u),g=function(e){var t=e;if(c&&u){var a=aa.get(p);if(null===a||void 0===a?void 0:a.length){var n=[function(){return Object(h["a"])(r,void 0,void 0,l.a.mark((function e(){var t,n;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.slice(0,a.indexOf(i)),n=t.filter((function(e){return"LOAD_ERROR"!==e.getStatus()&&"SKIP_BECAUSE_BROKEN"!==e.getStatus()})),e.next=4,Promise.all(n.map((function(e){return e.unmountPromise})));case 4:case"end":return e.stop()}}),e)})))}].concat(Object(d["a"])(Ee(t.mount)));t=Object.assign(Object.assign({},e),{mount:n})}}return Object.assign(Object.assign({},t),{bootstrap:function(){return Promise.resolve()}})},m=function(){return Object(h["a"])(r,void 0,void 0,l.a.mark((function n(){var i,r,o,d,h;return l.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=ea(null!==t&&void 0!==t?t:Object.assign(Object.assign({},Kt),{singular:!1})),r=i.$$cacheLifecycleByAppName,!c){n.next=21;break}if(!r){n.next=12;break}if(o=ta.get(s),!o){n.next=12;break}return n.t0=g,n.next=9,o;case 9:return n.t1=n.sent,n.t2=(0,n.t1)(c),n.abrupt("return",(0,n.t0)(n.t2));case 12:if(!u){n.next=21;break}if(d=ta.get(p),!d){n.next=21;break}return n.t3=g,n.next=18,d;case 18:return n.t4=n.sent,n.t5=(0,n.t4)(c),n.abrupt("return",(0,n.t3)(n.t5));case 21:return h=Yt(e,i,a),c&&(r?ta.set(s,h):u&&ta.set(p,h)),n.next=25,h;case 25:return n.t6=n.sent,n.abrupt("return",(0,n.t6)(c));case 27:case"end":return n.stop()}}),n)})))};if(Qt||!1===(null===t||void 0===t?void 0:t.autoStart)||Object(f["f"])({urlRerouteOnly:null!==(n=Kt.urlRerouteOnly)&&void 0!==n?n:Zt}),i=Object(f["d"])(m,Object.assign({domElement:document.createElement("div")},o)),c&&u){var b=aa.get(p)||[];b.push(i),aa.set(p,b);var v=function(){var e=b.indexOf(i);b.splice(e,1),i=null};i.unmountPromise.then(v).catch(v)}return i}var ia=a("1ca4"),ra=a("27ae"),oa=a("0a5a");function sa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function la(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ca={name:"preview",data:function(){return{app:null}},computed:{id:function(){return this.$route.query.id},documentName:function(){return this.$route.query.documentName},type:function(){return this.$route.query.type},pageType:function(){return this.$route.query.pageType},title:function(){return"interface"===this.pageType?"接口文档预览":"document"===this.pageType?"文档集预览":""},pairId:function(){return this.$route.query.pairId},dedicatedLineBizId:function(){return this.$route.query.dedicatedLineBizId}},watch:{$route:{deep:!0,handler:function(){this.app&&(this.app.unmount(),this.actions.offGlobalStateChange(),this.loadApp())}}},methods:{loadApp:function(){var e=this;if(this.id&&Constant.document&&Constant.document.plugins&&Constant.document.plugins.openDocument){var t={pairId:this.pairId,documentId:this.id,dedicatedLineBizId:this.dedicatedLineBizId,type:this.type,headers:{Authorization:"Basic ".concat(ra["Base64"].encode("".concat(ia["a"].clientId,":").concat(ia["a"].clientSecret))),"Blade-Auth":"bearer "+Object(oa["a"])()}};this.app=na(la(la({},Constant.document.plugins.openDocument),{},{container:"#micro",props:t}));var a=this.actions=W(t),n=a.onGlobalStateChange;this.actions.setGlobalState(t),n((function(t){e.actions.setGlobalState(t)}))}}},mounted:function(){this.loadApp()},beforeDestroy:function(){this.app.unmount(),this.actions.offGlobalStateChange()}},ua=ca,da=(a("cadc"),a("2877")),pa=Object(da["a"])(ua,i,r,!1,null,null,null);t["default"]=pa.exports},3901:function(e,t,a){var n=a("282b"),i=n([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getLineStyle:function(e){var t=i(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),a=Math.max(e,2),n=4*e;return"solid"!==t&&null!=t&&("dashed"===t?[n,n]:[a,a])}};e.exports=r},"392f":function(e,t,a){var n=a("6d8b"),i=n.inherits,r=a("19eb"),o=a("9850");function s(e){r.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}s.prototype.incremental=!0,s.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},s.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},s.prototype.addDisplayables=function(e,t){t=t||!1;for(var a=0;a<e.length;a++)this.addDisplayable(e[a],t)},s.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},s.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(e=0;e<this._temporaryDisplayables.length;e++){t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}},s.prototype.brush=function(e,t){for(var a=this._cursor;a<this._displayables.length;a++){var n=this._displayables[a];n.beforeBrush&&n.beforeBrush(e),n.brush(e,a===this._cursor?null:this._displayables[a-1]),n.afterBrush&&n.afterBrush(e)}this._cursor=a;for(a=0;a<this._temporaryDisplayables.length;a++){n=this._temporaryDisplayables[a];n.beforeBrush&&n.beforeBrush(e),n.brush(e,0===a?null:this._temporaryDisplayables[a-1]),n.afterBrush&&n.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var l=[];s.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new o(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var a=this._displayables[t],n=a.getBoundingRect().clone();a.needLocalTransform()&&n.applyTransform(a.getLocalTransform(l)),e.union(n)}this._rect=e}return this._rect},s.prototype.contain=function(e,t){var a=this.transformCoordToLocal(e,t),n=this.getBoundingRect();if(n.contain(a[0],a[1]))for(var i=0;i<this._displayables.length;i++){var r=this._displayables[i];if(r.contain(e,t))return!0}return!1},i(s,r);var c=s;e.exports=c},"39cf":function(e,t,a){"use strict";a("849e")},"39ff":function(e,t,a){var n=a("0b07"),i=a("2b3e"),r=n(i,"WeakMap");e.exports=r},"3a1d":function(e,t,a){},"3a57":function(e,t,a){},"3b4a":function(e,t,a){var n=a("0b07"),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},"3b96":function(e,t,a){"use strict";a("9542")},"3bae":function(e,t,a){"use strict";a("c640")},"3c73":function(e,t,a){},"3cd6":function(e,t,a){var n=a("6d8b"),i=a("48a9"),r=a("607d"),o=a("72b6"),s=a("2306"),l=a("3842"),c=a("ef6a"),u=a("cbb0"),d=a("e0d3"),p=l.linearMap,h=n.each,f=Math.min,g=Math.max,m=12,b=6,v=o.extend({type:"visualMap.continuous",init:function(){v.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,a,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var a=e.get("text");this._renderEndsText(t,a,0),this._renderEndsText(t,a,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,a){if(t){var n=t[1-a];n=null!=n?n+"":"";var i=this.visualMapModel,r=i.get("textGap"),o=i.itemSize,l=this._shapes.barGroup,c=this._applyTransform([o[0]/2,0===a?-r:o[1]+r],l),u=this._applyTransform(0===a?"bottom":"top",l),d=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new s.Text({style:{x:c[0],y:c[1],textVerticalAlign:"horizontal"===d?"middle":u,textAlign:"horizontal"===d?u:"center",text:n,textFont:p.getFont(),textFill:p.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,a=this._shapes,i=t.itemSize,r=this._orient,o=this._useHandle,s=u.getItemAlign(t,this.api,i),l=a.barGroup=this._createBarGroup(s);l.add(a.outOfRange=y()),l.add(a.inRange=y(null,o?D(this._orient):null,n.bind(this._dragHandle,this,"all",!1),n.bind(this._dragHandle,this,"all",!0)));var c=t.textStyleModel.getTextRect("国"),d=g(c.width,c.height);o&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(l,0,i,d,r,s),this._createHandle(l,1,i,d,r,s)),this._createIndicator(l,i,d,r),e.add(l)},_createHandle:function(e,t,a,i,o){var l=n.bind(this._dragHandle,this,t,!1),c=n.bind(this._dragHandle,this,t,!0),u=y(w(t,i),D(this._orient),l,c);u.position[0]=a[0],e.add(u);var d=this.visualMapModel.textStyleModel,p=new s.Text({draggable:!0,drift:l,onmousemove:function(e){r.stop(e.event)},ondragend:c,style:{x:0,y:0,text:"",textFont:d.getFont(),textFill:d.getTextColor()}});this.group.add(p);var h=["horizontal"===o?i/2:1.5*i,"horizontal"===o?0===t?-1.5*i:1.5*i:0===t?-i/2:i/2],f=this._shapes;f.handleThumbs[t]=u,f.handleLabelPoints[t]=h,f.handleLabels[t]=p},_createIndicator:function(e,t,a,n){var i=y([[0,0]],"move");i.position[0]=t[0],i.attr({invisible:!0,silent:!0}),e.add(i);var r=this.visualMapModel.textStyleModel,o=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:r.getFont(),textFill:r.getTextColor()}});this.group.add(o);var l=["horizontal"===n?a/2:b+3,0],c=this._shapes;c.indicator=i,c.indicatorLabel=o,c.indicatorLabelPoint=l},_dragHandle:function(e,t,a,n){if(this._useHandle){if(this._dragging=!t,!t){var i=this._applyTransform([a,n],this._shapes.barGroup,!0);this._updateInterval(e,i[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():O(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),a=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[p(t[0],a,n,!0),p(t[1],a,n,!0)]},_updateInterval:function(e,t){t=t||0;var a=this.visualMapModel,n=this._handleEnds,i=[0,a.itemSize[1]];c(t,n,i,e,0);var r=a.getExtent();this._dataInterval=[p(n[0],i,r,!0),p(n[1],i,r,!0)]},_updateView:function(e){var t=this.visualMapModel,a=t.getExtent(),n=this._shapes,i=[0,t.itemSize[1]],r=e?i:this._handleEnds,o=this._createBarVisual(this._dataInterval,a,r,"inRange"),s=this._createBarVisual(a,a,i,"outOfRange");n.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(r,o)},_createBarVisual:function(e,t,a,n){var r={forceState:n,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,r),s=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],l=this._createBarPoints(a,s);return{barColor:new i(0,0,0,1,o),barPoints:l,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(e,t){var a=100,n=[],i=(e[1]-e[0])/a;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<a;r++){var o=e[0]+i*r;if(o>e[1])break;n.push({color:this.getControllerVisual(o,"color",t),offset:r/a})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},_createBarPoints:function(e,t){var a=this.visualMapModel.itemSize;return[[a[0]-t[0],e[0]],[a[0],e[0]],[a[0],e[1]],[a[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,a=this.visualMapModel.get("inverse");return new s.Group("horizontal"!==t||a?"horizontal"===t&&a?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||a?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var a=this._shapes,n=this.visualMapModel,i=a.handleThumbs,r=a.handleLabels;h([0,1],(function(o){var l=i[o];l.setStyle("fill",t.handlesColor[o]),l.position[1]=e[o];var c=s.applyTransform(a.handleLabelPoints[o],s.getTransform(l,this.group));r[o].setStyle({x:c[0],y:c[1],text:n.formatValueText(this._dataInterval[o]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===o?"bottom":"top":"left",a.barGroup)})}),this)}},_showIndicator:function(e,t,a,n){var i=this.visualMapModel,r=i.getExtent(),o=i.itemSize,l=[0,o[1]],c=p(e,r,l,!0),u=this._shapes,d=u.indicator;if(d){d.position[1]=c,d.attr("invisible",!1),d.setShape("points",_(!!a,n,c,o[1]));var h={convertOpacityToAlpha:!0},f=this.getControllerVisual(e,"color",h);d.setStyle("fill",f);var g=s.applyTransform(u.indicatorLabelPoint,s.getTransform(d,this.group)),m=u.indicatorLabel;m.attr("invisible",!1);var b=this._applyTransform("left",u.barGroup),v=this._orient;m.setStyle({text:(a||"")+i.formatValueText(t),textVerticalAlign:"horizontal"===v?b:"middle",textAlign:"horizontal"===v?"center":b,x:g[0],y:g[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var a=e.visualMapModel.itemSize,n=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);n[1]=f(g(0,n[1]),a[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=a[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var a=this.visualMapModel,n=a.itemSize;if(a.option.hoverLink){var i=[0,n[1]],r=a.getExtent();e=f(g(i[0],e),i[1]);var o=x(a,r,i),s=[e-o,e+o],l=p(e,i,r,!0),c=[p(s[0],i,r,!0),p(s[1],i,r,!0)];s[0]<i[0]&&(c[0]=-1/0),s[1]>i[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",o):c[1]===1/0?this._showIndicator(l,c[0],"> ",o):this._showIndicator(l,l,"≈ ",o));var h=this._hoverLinkDataIndices,m=[];(t||O(a))&&(m=this._hoverLinkDataIndices=a.findTargetDataIndices(c));var b=d.compressBatches(h,m);this._dispatchHighDown("downplay",u.makeHighDownBatch(b[0],a)),this._dispatchHighDown("highlight",u.makeHighDownBatch(b[1],a))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,a=this.visualMapModel;if(t&&null!=t.dataIndex){var n=this.ecModel.getSeriesByIndex(t.seriesIndex);if(a.isTargetSeries(n)){var i=n.getData(t.dataType),r=i.get(a.getDataDimension(i),t.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",u.makeHighDownBatch(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,a,i){var r=s.getTransform(t,i?null:this.group);return s[n.isArray(e)?"applyTransform":"transformDirection"](e,r,a)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function y(e,t,a,n){return new s.Polygon({shape:{points:e},draggable:!!a,cursor:t,drift:a,onmousemove:function(e){r.stop(e.event)},ondragend:n})}function w(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function _(e,t,a,n){return e?[[0,-f(t,g(a,0))],[b,0],[0,f(t,g(n-a,0))]]:[[0,0],[5,-5],[5,5]]}function x(e,t,a){var n=m/2,i=e.get("hoverLinkDataSize");return i&&(n=p(i,t,a,!0)/2),n}function O(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function D(e){return"vertical"===e?"ns-resize":"ew-resize"}var C=v;e.exports=C},"3d86":function(e,t,a){},"3e31":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"添加路由",direction:"rtl","modal-append-to-body":!1,"append-to-body":!0,size:"900px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"gatewayGroupSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"网关分组",filterable:"",clearable:""},model:{value:e.search.gatewayGroup,callback:function(t){e.$set(e.search,"gatewayGroup",t)},expression:"search.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}},{key:"appSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择调用方",filterable:"",clearable:""},model:{value:e.search.app,callback:function(t){e.$set(e.search,"app",t)},expression:"search.app"}},e._l(e.appOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}},{key:"methodSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"请求方法",multiple:"",clearable:"","collapse-tags":""},model:{value:e.search.method,callback:function(t){e.$set(e.search,"method",t)},expression:"search.method"}},e._l(e.apiMethod,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleDrawerConfirm()}}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("\n      取 消\n    ")])],1)])},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("ade3")),o=a("5880"),s=a("c54a"),l=a("27fc"),c=a("3bfd");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={props:{visible:{type:Boolean,default:!1},app:{type:String,default:""}},data:function(){return{selections:[],form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{selection:!0,dialogWidth:600,border:!0,index:!0,viewBtn:!0,columnBtn:!1,menuPosition:"right",menu:!1,column:[{label:"网关分组",prop:"gatewayGroup",width:130,search:!0,searchslot:!0,overHidden:!0,type:"select",dicData:[],searchSpan:12,searchLabelWidth:100},{label:"路由类型",prop:"proxyMode",dicData:l["e"],width:80},{label:"前端服务名",prop:"service",search:!0,overHidden:!0,searchSpan:12,searchLabelWidth:100},{label:"前端API路径",prop:"path",search:!0,overHidden:!0,searchSpan:12,searchLabelWidth:100},{label:"请求方法",prop:"method",width:80,search:!0,type:"select",searchslot:!0,searchSpan:12,searchLabelWidth:100},{label:"访问",prop:"access",width:70,slot:!0,search:!0,type:"select",dicData:l["a"],searchSpan:12,searchLabelWidth:100}]},data:[],search:{}}},computed:d(d({},Object(o["mapGetters"])(["permission","apiMethod","groupOptions","pluginOptions"])),{},{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}}}),created:function(){this.getPluginOptions(),this.getGroupOptions()},watch:{groupOptions:function(e){var t=this.findObject(this.option.column,"gatewayGroup");t.dicData=e||[]}},methods:d(d({},Object(o["mapActions"])(["getGroupOptions","getPluginOptions"])),{},{searchReset:function(){this.query={},this.onLoad(this.page)},selectionChange:function(e){this.selections=e},searchChange:function(e,t){e.method&&Object(s["b"])(e.method)&&(e.method_in=e.method.join(",")||"",delete e.method),e.plugin&&Object(s["b"])(e.plugin)&&(e.pluginId_in=e.plugin.join(",")||"",delete e.plugin),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(c["k"])(e.currentPage,e.pageSize,Object.assign(a,this.query,{noAppCondition:this.app})).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},handleDrawerConfirm:function(){var e=this;if(0!==this.selections.length){var t=[];this.selections.forEach((function(e){t.push(e.id)})),Object(c["b"])({appId:this.app,ids:t.join(",")}).then((function(t){200===t.data.code?(e.$emit("doSearch"),e.dialogVisible=!1,e.$message({type:"success",message:"添加路由成功！"})):e.$message({type:"error",message:t.data.msg||"获取详情 失败！"})}))}else this.$message({message:"请选择数据！",type:"warning"})}})},h=p,f=(a("9201"),a("2877")),g=Object(f["a"])(h,n,i,!1,null,"761ab8be",null);t["default"]=g.exports},"3eba":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("697e7")),r=a("6d8b"),o=a("41ef"),s=a("22d1"),l=a("04f6"),c=a("1fab"),u=a("7e63"),d=a("843e"),p=a("2039"),h=a("ca98"),f=a("fb05"),g=a("d15d0"),m=a("6cb7"),b=a("4f85"),v=a("b12f"),y=a("e887"),w=a("2306"),_=a("e0d3"),x=a("88b3"),O=x.throttle,D=a("fd63"),C=a("b809"),k=a("998c"),S=a("69ff"),j=a("c533"),P=a("f219");a("0352");var T=a("ec34"),I=r.assert,L=r.each,z=r.isFunction,$=r.isObject,M=m.parseClassType,E="4.9.0",A={zrender:"4.3.2"},R=1,q=1e3,B=800,F=900,N=5e3,V=1e3,H=1100,U=2e3,W=3e3,G=3500,J=4e3,X=5e3,Y={PROCESSOR:{FILTER:q,SERIES_FILTER:B,STATISTIC:N},VISUAL:{LAYOUT:V,PROGRESSIVE_LAYOUT:H,GLOBAL:U,CHART:W,POST_CHART_LAYOUT:G,COMPONENT:J,BRUSH:X}},K="__flagInMainProcess",Q="__optionUpdated",Z=/^[a-zA-Z0-9_]+$/;function ee(e,t){return function(a,n,i){t||!this._disposed?(a=a&&a.toLowerCase(),c.prototype[e].call(this,a,n,i)):we(this.id)}}function te(){c.call(this)}function ae(e,t,a){a=a||{},"string"===typeof t&&(t=Le[t]),this.id,this.group,this._dom=e;var n="canvas",o=this._zr=i.init(e,{renderer:a.renderer||n,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height});this._throttledZrFlush=O(r.bind(o.flush,o),17);t=r.clone(t);t&&f(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new p;var s=this._api=De(this);function u(e,t){return e.__prio-t.__prio}l(Ie,u),l(je,u),this._scheduler=new S(this,s,je,Ie),c.call(this,this._ecEventProcessor=new Ce),this._messageCenter=new te,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),pe(o,this),r.setAsPrimitive(this)}te.prototype.on=ee("on",!0),te.prototype.off=ee("off",!0),te.prototype.one=ee("one",!0),r.mixin(te,c);var ne=ae.prototype;function ie(e,t,a){if(this._disposed)we(this.id);else{var n,i=this._model,r=this._coordSysMgr.getCoordinateSystems();t=_.parseFinder(i,t);for(var o=0;o<r.length;o++){var s=r[o];if(s[e]&&null!=(n=s[e](i,t,a)))return n}}}ne._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[Q]){var t=this[Q].silent;this[K]=!0,oe(this),re.update.call(this),this[K]=!1,this[Q]=!1,ue.call(this,t),de.call(this,t)}else if(e.unfinished){var a=R,n=this._model,i=this._api;e.unfinished=!1;do{var r=+new Date;e.performSeriesTasks(n),e.performDataProcessorTasks(n),le(this,n),e.performVisualTasks(n),be(this,this._model,i,"remain"),a-=+new Date-r}while(a>0&&e.unfinished);e.unfinished||this._zr.flush()}}},ne.getDom=function(){return this._dom},ne.getZr=function(){return this._zr},ne.setOption=function(e,t,a){if(this._disposed)we(this.id);else{var n;if($(t)&&(a=t.lazyUpdate,n=t.silent,t=t.notMerge),this[K]=!0,!this._model||t){var i=new h(this._api),r=this._theme,o=this._model=new u;o.scheduler=this._scheduler,o.init(null,null,r,i)}this._model.setOption(e,Pe),a?(this[Q]={silent:n},this[K]=!1):(oe(this),re.update.call(this),this._zr.flush(),this[Q]=!1,this[K]=!1,ue.call(this,n),de.call(this,n))}},ne.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},ne.getModel=function(){return this._model},ne.getOption=function(){return this._model&&this._model.getOption()},ne.getWidth=function(){return this._zr.getWidth()},ne.getHeight=function(){return this._zr.getHeight()},ne.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},ne.getRenderedCanvas=function(e){if(s.canvasSupported){e=e||{},e.pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr;return t.painter.getRenderedCanvas(e)}},ne.getSvgDataURL=function(){if(s.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return r.each(t,(function(e){e.stopAnimation(!0)})),e.painter.toDataURL()}},ne.getDataURL=function(e){if(!this._disposed){e=e||{};var t=e.excludeComponents,a=this._model,n=[],i=this;L(t,(function(e){a.eachComponent({mainType:e},(function(e){var t=i._componentsMap[e.__viewId];t.group.ignore||(n.push(t),t.group.ignore=!0)}))}));var r="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return L(n,(function(e){e.group.ignore=!1})),r}we(this.id)},ne.getConnectedDataURL=function(e){if(this._disposed)we(this.id);else if(s.canvasSupported){var t="svg"===e.type,a=this.group,n=Math.min,o=Math.max,l=1/0;if(Me[a]){var c=l,u=l,d=-l,p=-l,h=[],f=e&&e.pixelRatio||1;r.each($e,(function(i,s){if(i.group===a){var l=t?i.getZr().painter.getSvgDom().innerHTML:i.getRenderedCanvas(r.clone(e)),f=i.getDom().getBoundingClientRect();c=n(f.left,c),u=n(f.top,u),d=o(f.right,d),p=o(f.bottom,p),h.push({dom:l,left:f.left,top:f.top})}})),c*=f,u*=f,d*=f,p*=f;var g=d-c,m=p-u,b=r.createCanvas(),v=i.init(b,{renderer:t?"svg":"canvas"});if(v.resize({width:g,height:m}),t){var y="";return L(h,(function(e){var t=e.left-c,a=e.top-u;y+='<g transform="translate('+t+","+a+')">'+e.dom+"</g>"})),v.painter.getSvgRoot().innerHTML=y,e.connectedBackgroundColor&&v.painter.setBackgroundColor(e.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}return e.connectedBackgroundColor&&v.add(new w.Rect({shape:{x:0,y:0,width:g,height:m},style:{fill:e.connectedBackgroundColor}})),L(h,(function(e){var t=new w.Image({style:{x:e.left*f-c,y:e.top*f-u,image:e.dom}});v.add(t)})),v.refreshImmediately(),b.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},ne.convertToPixel=r.curry(ie,"convertToPixel"),ne.convertFromPixel=r.curry(ie,"convertFromPixel"),ne.containPixel=function(e,t){if(!this._disposed){var a,n=this._model;return e=_.parseFinder(n,e),r.each(e,(function(e,n){n.indexOf("Models")>=0&&r.each(e,(function(e){var i=e.coordinateSystem;if(i&&i.containPoint)a|=!!i.containPoint(t);else if("seriesModels"===n){var r=this._chartsMap[e.__viewId];r&&r.containPoint&&(a|=r.containPoint(t,e))}}),this)}),this),!!a}we(this.id)},ne.getVisual=function(e,t){var a=this._model;e=_.parseFinder(a,e,{defaultMainType:"series"});var n=e.seriesModel,i=n.getData(),r=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?i.indexOfRawIndex(e.dataIndex):null;return null!=r?i.getItemVisual(r,t):i.getVisual(t)},ne.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},ne.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var re={prepareAndUpdate:function(e){oe(this),re.update.call(this,e)},update:function(e){var t=this._model,a=this._api,n=this._zr,i=this._coordSysMgr,r=this._scheduler;if(t){r.restoreData(t,e),r.performSeriesTasks(t),i.create(t,a),r.performDataProcessorTasks(t,e),le(this,t),i.update(t,a),fe(t),r.performVisualTasks(t,e),ge(this,t,a,e);var l=t.get("backgroundColor")||"transparent";if(s.canvasSupported)n.setBackgroundColor(l);else{var c=o.parse(l);l=o.stringify(c,"rgb"),0===c[3]&&(l="transparent")}ve(t,a)}},updateTransform:function(e){var t=this._model,a=this,n=this._api;if(t){var i=[];t.eachComponent((function(r,o){var s=a.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(o,t,n,e);l&&l.update&&i.push(s)}else i.push(s)}));var o=r.createHashMap();t.eachSeries((function(i){var r=a._chartsMap[i.__viewId];if(r.updateTransform){var s=r.updateTransform(i,t,n,e);s&&s.update&&o.set(i.uid,1)}else o.set(i.uid,1)})),fe(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:o}),be(a,t,n,e,o),ve(t,this._api)}},updateView:function(e){var t=this._model;t&&(y.markUpdateMethod(e,"updateView"),fe(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),ge(this,this._model,this._api,e),ve(t,this._api))},updateVisual:function(e){re.update.call(this,e)},updateLayout:function(e){re.update.call(this,e)}};function oe(e){var t=e._model,a=e._scheduler;a.restorePipelines(t),a.prepareStageTasks(),he(e,"component",t,a),he(e,"chart",t,a),a.plan()}function se(e,t,a,n,i){var o=e._model;if(n){var s={};s[n+"Id"]=a[n+"Id"],s[n+"Index"]=a[n+"Index"],s[n+"Name"]=a[n+"Name"];var l={mainType:n,query:s};i&&(l.subType=i);var c=a.excludeSeriesId;null!=c&&(c=r.createHashMap(_.normalizeToArray(c))),o&&o.eachComponent(l,(function(t){c&&null!=c.get(t.id)||u(e["series"===n?"_chartsMap":"_componentsMap"][t.__viewId])}),e)}else L(e._componentsViews.concat(e._chartsViews),u);function u(n){n&&n.__alive&&n[t]&&n[t](n.__model,o,e._api,a)}}function le(e,t){var a=e._chartsMap,n=e._scheduler;t.eachSeries((function(e){n.updateStreamModes(e,a[e.__viewId])}))}function ce(e,t){var a=e.type,n=e.escapeConnect,i=ke[a],o=i.actionInfo,s=(o.update||"update").split(":"),l=s.pop();s=null!=s[0]&&M(s[0]),this[K]=!0;var c=[e],u=!1;e.batch&&(u=!0,c=r.map(e.batch,(function(t){return t=r.defaults(r.extend({},t),e),t.batch=null,t})));var d,p=[],h="highlight"===a||"downplay"===a;L(c,(function(e){d=i.action(e,this._model,this._api),d=d||r.extend({},e),d.type=o.event||d.type,p.push(d),h?se(this,l,e,"series"):s&&se(this,l,e,s.main,s.sub)}),this),"none"===l||h||s||(this[Q]?(oe(this),re.update.call(this,e),this[Q]=!1):re[l].call(this,e)),d=u?{type:o.event||a,escapeConnect:n,batch:p}:p[0],this[K]=!1,!t&&this._messageCenter.trigger(d.type,d)}function ue(e){var t=this._pendingActions;while(t.length){var a=t.shift();ce.call(this,a,e)}}function de(e){!e&&this.trigger("updated")}function pe(e,t){e.on("rendered",(function(){t.trigger("rendered"),!e.animation.isFinished()||t[Q]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))}function he(e,t,a,n){for(var i="component"===t,r=i?e._componentsViews:e._chartsViews,o=i?e._componentsMap:e._chartsMap,s=e._zr,l=e._api,c=0;c<r.length;c++)r[c].__alive=!1;function u(e){var t="_ec_"+e.id+"_"+e.type,c=o[t];if(!c){var u=M(e.type),d=i?v.getClass(u.main,u.sub):y.getClass(u.sub);c=new d,c.init(a,l),o[t]=c,r.push(c),s.add(c.group)}e.__viewId=c.__id=t,c.__alive=!0,c.__model=e,c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!i&&n.prepareView(c,e,a,l)}i?a.eachComponent((function(e,t){"series"!==e&&u(t)})):a.eachSeries(u);for(c=0;c<r.length;){var d=r[c];d.__alive?c++:(!i&&d.renderTask.dispose(),s.remove(d.group),d.dispose(a,l),r.splice(c,1),delete o[d.__id],d.__id=d.group.__ecComponentInfo=null)}}function fe(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))}function ge(e,t,a,n){me(e,t,a,n),L(e._chartsViews,(function(e){e.__alive=!1})),be(e,t,a,n),L(e._chartsViews,(function(e){e.__alive||e.remove(t,a)}))}function me(e,t,a,n,i){L(i||e._componentsViews,(function(e){var i=e.__model;e.render(i,t,a,n),Oe(i,e)}))}function be(e,t,a,n,i){var r,o=e._scheduler;t.eachSeries((function(t){var a=e._chartsMap[t.__viewId];a.__alive=!0;var s=a.renderTask;o.updatePayload(s,n),i&&i.get(t.uid)&&s.dirty(),r|=s.perform(o.getPerformArgs(s)),a.group.silent=!!t.get("silent"),Oe(t,a),xe(t,a)})),o.unfinished|=r,_e(e,t),C(e._zr.dom,t)}function ve(e,t){L(Te,(function(a){a(e,t)}))}ne.resize=function(e){if(this._disposed)we(this.id);else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var a=t.resetOption("media"),n=e&&e.silent;this[K]=!0,a&&oe(this),re.update.call(this),this[K]=!1,ue.call(this,n),de.call(this,n)}}},ne.showLoading=function(e,t){if(this._disposed)we(this.id);else if($(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),ze[e]){var a=ze[e](this._api,t),n=this._zr;this._loadingFX=a,n.add(a)}},ne.hideLoading=function(){this._disposed?we(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},ne.makeActionFromEvent=function(e){var t=r.extend({},e);return t.type=Se[e.type],t},ne.dispatchAction=function(e,t){this._disposed?we(this.id):($(t)||(t={silent:!!t}),ke[e.type]&&this._model&&(this[K]?this._pendingActions.push(e):(ce.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&s.browser.weChat&&this._throttledZrFlush(),ue.call(this,t.silent),de.call(this,t.silent))))},ne.appendData=function(e){if(this._disposed)we(this.id);else{var t=e.seriesIndex,a=this.getModel(),n=a.getSeriesByIndex(t);n.appendData(e),this._scheduler.unfinished=!0}},ne.on=ee("on",!1),ne.off=ee("off",!1),ne.one=ee("one",!1);var ye=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function we(e){}function _e(e,t){var a=e._zr,n=a.storage,i=0;n.traverse((function(e){i++})),i>t.get("hoverLayerThreshold")&&!s.node&&t.eachSeries((function(t){if(!t.preventUsingHoverLayer){var a=e._chartsMap[t.__viewId];a.__alive&&a.group.traverse((function(e){e.useHoverLayer=!0}))}}))}function xe(e,t){var a=e.get("blendMode")||null;t.group.traverse((function(e){e.isGroup||e.style.blend!==a&&e.setStyle("blend",a),e.eachPendingDisplayable&&e.eachPendingDisplayable((function(e){e.setStyle("blend",a)}))}))}function Oe(e,t){var a=e.get("z"),n=e.get("zlevel");t.group.traverse((function(e){"group"!==e.type&&(null!=a&&(e.z=a),null!=n&&(e.zlevel=n))}))}function De(e){var t=e._coordSysMgr;return r.extend(new d(e),{getCoordinateSystems:r.bind(t.getCoordinateSystems,t),getComponentByElement:function(t){while(t){var a=t.__ecComponentInfo;if(null!=a)return e._model.getComponent(a.mainType,a.index);t=t.parent}}})}function Ce(){this.eventInfo}ne._initEvents=function(){L(ye,(function(e){var t=function(t){var a,n=this.getModel(),i=t.target,o="globalout"===e;if(o)a={};else if(i&&null!=i.dataIndex){var s=i.dataModel||n.getSeriesByIndex(i.seriesIndex);a=s&&s.getDataParams(i.dataIndex,i.dataType,i)||{}}else i&&i.eventData&&(a=r.extend({},i.eventData));if(a){var l=a.componentType,c=a.componentIndex;"markLine"!==l&&"markPoint"!==l&&"markArea"!==l||(l="series",c=a.seriesIndex);var u=l&&null!=c&&n.getComponent(l,c),d=u&&this["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];a.event=t,a.type=e,this._ecEventProcessor.eventInfo={targetEl:i,packedEvent:a,model:u,view:d},this.trigger(e,a)}};t.zrEventfulCallAtLast=!0,this._zr.on(e,t,this)}),this),L(Se,(function(e,t){this._messageCenter.on(t,(function(e){this.trigger(t,e)}),this)}),this)},ne.isDisposed=function(){return this._disposed},ne.clear=function(){this._disposed?we(this.id):this.setOption({series:[]},!0)},ne.dispose=function(){if(this._disposed)we(this.id);else{this._disposed=!0,_.setAttribute(this.getDom(),Re,"");var e=this._api,t=this._model;L(this._componentsViews,(function(a){a.dispose(t,e)})),L(this._chartsViews,(function(a){a.dispose(t,e)})),this._zr.dispose(),delete $e[this.id]}},r.mixin(ae,c),Ce.prototype={constructor:Ce,normalizeQuery:function(e){var t={},a={},n={};if(r.isString(e)){var i=M(e);t.mainType=i.main||null,t.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};r.each(e,(function(e,i){for(var r=!1,l=0;l<o.length;l++){var c=o[l],u=i.lastIndexOf(c);if(u>0&&u===i.length-c.length){var d=i.slice(0,u);"data"!==d&&(t.mainType=d,t[c.toLowerCase()]=e,r=!0)}}s.hasOwnProperty(i)&&(a[i]=e,r=!0),r||(n[i]=e)}))}return{cptQuery:t,dataQuery:a,otherQuery:n}},filter:function(e,t,a){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,r=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,o,"mainType")&&u(l,o,"subType")&&u(l,o,"index","componentIndex")&&u(l,o,"name")&&u(l,o,"id")&&u(c,r,"name")&&u(c,r,"dataIndex")&&u(c,r,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,i,r));function u(e,t,a,n){return null==e[a]||t[n||a]===e[a]}},afterTrigger:function(){this.eventInfo=null}};var ke={},Se={},je=[],Pe=[],Te=[],Ie=[],Le={},ze={},$e={},Me={},Ee=new Date-0,Ae=new Date-0,Re="_echarts_instance_";function qe(e){var t=0,a=1,n=2,i="__connectUpdateStatus";function r(e,t){for(var a=0;a<e.length;a++){var n=e[a];n[i]=t}}L(Se,(function(o,s){e._messageCenter.on(s,(function(o){if(Me[e.group]&&e[i]!==t){if(o&&o.escapeConnect)return;var s=e.makeActionFromEvent(o),l=[];L($e,(function(t){t!==e&&t.group===e.group&&l.push(t)})),r(l,t),L(l,(function(e){e[i]!==a&&e.dispatchAction(s)})),r(l,n)}}))}))}function Be(e,t,a){var n=Ue(e);if(n)return n;var i=new ae(e,t,a);return i.id="ec_"+Ee++,$e[i.id]=i,_.setAttribute(e,Re,i.id),qe(i),i}function Fe(e){if(r.isArray(e)){var t=e;e=null,L(t,(function(t){null!=t.group&&(e=t.group)})),e=e||"g_"+Ae++,L(t,(function(t){t.group=e}))}return Me[e]=!0,e}function Ne(e){Me[e]=!1}var Ve=Ne;function He(e){"string"===typeof e?e=$e[e]:e instanceof ae||(e=Ue(e)),e instanceof ae&&!e.isDisposed()&&e.dispose()}function Ue(e){return $e[_.getAttribute(e,Re)]}function We(e){return $e[e]}function Ge(e,t){Le[e]=t}function Je(e){Pe.push(e)}function Xe(e,t){at(je,e,t,q)}function Ye(e){Te.push(e)}function Ke(e,t,a){"function"===typeof t&&(a=t,t="");var n=$(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,I(Z.test(n)&&Z.test(t)),ke[n]||(ke[n]={action:a,actionInfo:e}),Se[t]=n}function Qe(e,t){p.register(e,t)}function Ze(e){var t=p.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function et(e,t){at(Ie,e,t,V,"layout")}function tt(e,t){at(Ie,e,t,W,"visual")}function at(e,t,a,n,i){(z(t)||$(t))&&(a=t,t=n);var r=S.wrapStageHandler(a,i);return r.__prio=t,r.__raw=a,e.push(r),r}function nt(e,t){ze[e]=t}function it(e){return m.extend(e)}function rt(e){return v.extend(e)}function ot(e){return b.extend(e)}function st(e){return y.extend(e)}function lt(e){r.$override("createCanvas",e)}function ct(e,t,a){T.registerMap(e,t,a)}function ut(e){var t=T.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}}tt(U,D),Je(f),Xe(F,g),nt("default",k),Ke({type:"highlight",event:"highlight",update:"highlight"},r.noop),Ke({type:"downplay",event:"downplay",update:"downplay"},r.noop),Ge("light",j),Ge("dark",P);var dt={};t.version=E,t.dependencies=A,t.PRIORITY=Y,t.init=Be,t.connect=Fe,t.disConnect=Ne,t.disconnect=Ve,t.dispose=He,t.getInstanceByDom=Ue,t.getInstanceById=We,t.registerTheme=Ge,t.registerPreprocessor=Je,t.registerProcessor=Xe,t.registerPostUpdate=Ye,t.registerAction=Ke,t.registerCoordinateSystem=Qe,t.getCoordinateSystemDimensions=Ze,t.registerLayout=et,t.registerVisual=tt,t.registerLoading=nt,t.extendComponentModel=it,t.extendComponentView=rt,t.extendSeriesModel=ot,t.extendChartView=st,t.setCanvasCreator=lt,t.registerMap=ct,t.getMap=ut,t.dataTool=dt;var pt=a("b719");(function(){for(var e in pt)pt.hasOwnProperty(e)&&(t[e]=pt[e])})()},"3ec6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"添加文档",direction:"rtl","modal-append-to-body":!1,"append-to-body":!0,size:"900px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"selection-change":e.selectionChange},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.confirm()}}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=a("16cd"),o=a("52f7"),s={props:{visible:{type:Boolean,default:!1},app:{type:String,default:""}},data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{selection:!0,border:!0,index:!0,dialogClickModal:!1,menu:!1,menuPosition:"right",labelWidth:100,menuWidth:360,addBtn:!1,tip:!1,column:[{label:"服务名称",prop:"name",search:!0,searchSpan:12},{label:"描述",prop:"description",search:!0,searchSpan:12},{label:"版本",prop:"version",search:!1}]},data:[],selectionList:[]}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}}},methods:{selectionChange:function(e){this.selectionList=e},andleSubmitData:function(e){return e=Object(r["b"])(e),e},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["e"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},confirm:function(){0!==this.selectionList.length?(this.$emit("emitData",this.selectionList),this.dialogVisible=!1):this.$message.warning("请选择数据！")}}},l=s,c=(a("7e02"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,"6b20132e",null);t["default"]=u.exports},"401b":function(e,t){var a="undefined"===typeof Float32Array?Array:Float32Array;function n(e,t){var n=new a(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n}function i(e,t){return e[0]=t[0],e[1]=t[1],e}function r(e){var t=new a(2);return t[0]=e[0],t[1]=e[1],t}function o(e,t,a){return e[0]=t,e[1]=a,e}function s(e,t,a){return e[0]=t[0]+a[0],e[1]=t[1]+a[1],e}function l(e,t,a,n){return e[0]=t[0]+a[0]*n,e[1]=t[1]+a[1]*n,e}function c(e,t,a){return e[0]=t[0]-a[0],e[1]=t[1]-a[1],e}function u(e){return Math.sqrt(p(e))}var d=u;function p(e){return e[0]*e[0]+e[1]*e[1]}var h=p;function f(e,t,a){return e[0]=t[0]*a[0],e[1]=t[1]*a[1],e}function g(e,t,a){return e[0]=t[0]/a[0],e[1]=t[1]/a[1],e}function m(e,t){return e[0]*t[0]+e[1]*t[1]}function b(e,t,a){return e[0]=t[0]*a,e[1]=t[1]*a,e}function v(e,t){var a=u(t);return 0===a?(e[0]=0,e[1]=0):(e[0]=t[0]/a,e[1]=t[1]/a),e}function y(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var w=y;function _(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var x=_;function O(e,t){return e[0]=-t[0],e[1]=-t[1],e}function D(e,t,a,n){return e[0]=t[0]+n*(a[0]-t[0]),e[1]=t[1]+n*(a[1]-t[1]),e}function C(e,t,a){var n=t[0],i=t[1];return e[0]=a[0]*n+a[2]*i+a[4],e[1]=a[1]*n+a[3]*i+a[5],e}function k(e,t,a){return e[0]=Math.min(t[0],a[0]),e[1]=Math.min(t[1],a[1]),e}function S(e,t,a){return e[0]=Math.max(t[0],a[0]),e[1]=Math.max(t[1],a[1]),e}t.create=n,t.copy=i,t.clone=r,t.set=o,t.add=s,t.scaleAndAdd=l,t.sub=c,t.len=u,t.length=d,t.lenSquare=p,t.lengthSquare=h,t.mul=f,t.div=g,t.dot=m,t.scale=b,t.normalize=v,t.distance=y,t.dist=w,t.distanceSquare=_,t.distSquare=x,t.negate=O,t.lerp=D,t.applyTransform=C,t.min=k,t.max=S},4067:function(e,t,a){"use strict";a("5b71")},"419b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"gateway-dict"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,search:e.query,page:e.page,permission:e.permissionList,option:e.option,"table-loading":e.loading},on:{"update:search":function(t){e.query=t},"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("c597"),l=a("dd69");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"dict-history",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,editBtn:!1,delBtn:!1,addBtn:!1,columnBtn:!1,menuPosition:"right",labelWidth:100,menuWidth:100,dialogWidth:800,column:[{label:"键(Key)",prop:"key",search:!0},{label:"值(Value)",prop:"value",search:!0},{label:"数据类型",prop:"type",type:"select",dicData:l["a"]},{label:"修改时间",prop:"createTime"}]},data:[],visible:!1}},computed:u(u({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{viewBtn:this.vaildData(this.permission.gateway_history_dict_view,!1)}},gatewayParamId:function(){return this.$route.query.id||""}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(s["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query,{gatewayParamId:this.gatewayParamId})).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},handleHistory:function(){}}},p=d,h=(a("e565"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,"69ae7a3e",null);t["default"]=f.exports},"41c3":function(e,t,a){var n=a("1a8c"),i=a("eac5"),r=a("ec8c"),o=Object.prototype,s=o.hasOwnProperty;function l(e){if(!n(e))return r(e);var t=i(e),a=[];for(var o in e)("constructor"!=o||!t&&s.call(e,o))&&a.push(o);return a}e.exports=l},"41cf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("h3",[e._v("表格例子")]),a("avue-crud",{attrs:{option:e.option,page:e.page,data:e.data},on:{"update:page":function(t){e.page=t}}})],1)},i=[],r={data:function(){return{page:{total:122},data:[{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"}],option:{column:[{label:"用户名",prop:"username",span:14,row:!0},{label:"姓名",prop:"name",span:14,row:!0},{label:"密码",prop:"password",type:"password",span:14,row:!0},{label:"确认密码",prop:"newpassword",type:"password",hide:!0,span:14,row:!0},{label:"申请日期",prop:"date",type:"date",span:14,row:!0},{label:"个性签名",prop:"textarea",type:"textarea",minRows:8,span:24,overHidden:!0,row:!0}]}}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},"41ef":function(e,t,a){var n=a("d51b"),i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return e=Math.round(e),e<0?0:e>255?255:e}function o(e){return e=Math.round(e),e<0?0:e>360?360:e}function s(e){return e<0?0:e>1?1:e}function l(e){return e.length&&"%"===e.charAt(e.length-1)?r(parseFloat(e)/100*255):r(parseInt(e,10))}function c(e){return e.length&&"%"===e.charAt(e.length-1)?s(parseFloat(e)/100):s(parseFloat(e))}function u(e,t,a){return a<0?a+=1:a>1&&(a-=1),6*a<1?e+(t-e)*a*6:2*a<1?t:3*a<2?e+(t-e)*(2/3-a)*6:e}function d(e,t,a){return e+(t-e)*a}function p(e,t,a,n,i){return e[0]=t,e[1]=a,e[2]=n,e[3]=i,e}function h(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var f=new n(20),g=null;function m(e,t){g&&h(g,t),g=f.put(e,g||t.slice())}function b(e,t){if(e){t=t||[];var a=f.get(e);if(a)return h(t,a);e+="";var n=e.replace(/ /g,"").toLowerCase();if(n in i)return h(t,i[n]),m(e,t),t;if("#"!==n.charAt(0)){var r=n.indexOf("("),o=n.indexOf(")");if(-1!==r&&o+1===n.length){var s=n.substr(0,r),u=n.substr(r+1,o-(r+1)).split(","),d=1;switch(s){case"rgba":if(4!==u.length)return void p(t,0,0,0,1);d=c(u.pop());case"rgb":return 3!==u.length?void p(t,0,0,0,1):(p(t,l(u[0]),l(u[1]),l(u[2]),d),m(e,t),t);case"hsla":return 4!==u.length?void p(t,0,0,0,1):(u[3]=c(u[3]),v(u,t),m(e,t),t);case"hsl":return 3!==u.length?void p(t,0,0,0,1):(v(u,t),m(e,t),t);default:return}}p(t,0,0,0,1)}else{if(4===n.length){var g=parseInt(n.substr(1),16);return g>=0&&g<=4095?(p(t,(3840&g)>>4|(3840&g)>>8,240&g|(240&g)>>4,15&g|(15&g)<<4,1),m(e,t),t):void p(t,0,0,0,1)}if(7===n.length){g=parseInt(n.substr(1),16);return g>=0&&g<=16777215?(p(t,(16711680&g)>>16,(65280&g)>>8,255&g,1),m(e,t),t):void p(t,0,0,0,1)}}}}function v(e,t){var a=(parseFloat(e[0])%360+360)%360/360,n=c(e[1]),i=c(e[2]),o=i<=.5?i*(n+1):i+n-i*n,s=2*i-o;return t=t||[],p(t,r(255*u(s,o,a+1/3)),r(255*u(s,o,a)),r(255*u(s,o,a-1/3)),1),4===e.length&&(t[3]=e[3]),t}function y(e){if(e){var t,a,n=e[0]/255,i=e[1]/255,r=e[2]/255,o=Math.min(n,i,r),s=Math.max(n,i,r),l=s-o,c=(s+o)/2;if(0===l)t=0,a=0;else{a=c<.5?l/(s+o):l/(2-s-o);var u=((s-n)/6+l/2)/l,d=((s-i)/6+l/2)/l,p=((s-r)/6+l/2)/l;n===s?t=p-d:i===s?t=1/3+u-p:r===s&&(t=2/3+d-u),t<0&&(t+=1),t>1&&(t-=1)}var h=[360*t,a,c];return null!=e[3]&&h.push(e[3]),h}}function w(e,t){var a=b(e);if(a){for(var n=0;n<3;n++)a[n]=t<0?a[n]*(1-t)|0:(255-a[n])*t+a[n]|0,a[n]>255?a[n]=255:e[n]<0&&(a[n]=0);return j(a,4===a.length?"rgba":"rgb")}}function _(e){var t=b(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function x(e,t,a){if(t&&t.length&&e>=0&&e<=1){a=a||[];var n=e*(t.length-1),i=Math.floor(n),o=Math.ceil(n),l=t[i],c=t[o],u=n-i;return a[0]=r(d(l[0],c[0],u)),a[1]=r(d(l[1],c[1],u)),a[2]=r(d(l[2],c[2],u)),a[3]=s(d(l[3],c[3],u)),a}}var O=x;function D(e,t,a){if(t&&t.length&&e>=0&&e<=1){var n=e*(t.length-1),i=Math.floor(n),o=Math.ceil(n),l=b(t[i]),c=b(t[o]),u=n-i,p=j([r(d(l[0],c[0],u)),r(d(l[1],c[1],u)),r(d(l[2],c[2],u)),s(d(l[3],c[3],u))],"rgba");return a?{color:p,leftIndex:i,rightIndex:o,value:n}:p}}var C=D;function k(e,t,a,n){if(e=b(e),e)return e=y(e),null!=t&&(e[0]=o(t)),null!=a&&(e[1]=c(a)),null!=n&&(e[2]=c(n)),j(v(e),"rgba")}function S(e,t){if(e=b(e),e&&null!=t)return e[3]=s(t),j(e,"rgba")}function j(e,t){if(e&&e.length){var a=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(a+=","+e[3]),t+"("+a+")"}}t.parse=b,t.lift=w,t.toHex=_,t.fastLerp=x,t.fastMapToColor=O,t.lerp=D,t.mapToColor=C,t.modifyHSL=k,t.modifyAlpha=S,t.stringify=j},"421d":function(e,t,a){},4245:function(e,t,a){var n=a("1290");function i(e,t){var a=e.__data__;return n(t)?a["string"==typeof t?"string":"hash"]:a.map}e.exports=i},"42a2":function(e,t,a){var n=a("b5a7"),i=a("79bc"),r=a("1cec"),o=a("c869"),s=a("39ff"),l=a("3729"),c=a("dc57"),u="[object Map]",d="[object Object]",p="[object Promise]",h="[object Set]",f="[object WeakMap]",g="[object DataView]",m=c(n),b=c(i),v=c(r),y=c(o),w=c(s),_=l;(n&&_(new n(new ArrayBuffer(1)))!=g||i&&_(new i)!=u||r&&_(r.resolve())!=p||o&&_(new o)!=h||s&&_(new s)!=f)&&(_=function(e){var t=l(e),a=t==d?e.constructor:void 0,n=a?c(a):"";if(n)switch(n){case m:return g;case b:return u;case v:return p;case y:return h;case w:return f}return t}),e.exports=_},"42e5":function(e,t){var a=function(e){this.colorStops=e||[]};a.prototype={constructor:a,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var n=a;e.exports=n},"42f6":function(e,t,a){var n=a("3eba"),i=a("6d8b"),r=a("22d1"),o=a("07d7"),s=a("82f9"),l=a("eda2"),c=a("3842"),u=a("2306"),d=a("133d"),p=a("f934"),h=a("4319"),f=a("17d6"),g=a("697e"),m=a("ff2e"),b=a("e0d3"),v=b.getTooltipRenderMode,y=i.bind,w=i.each,_=c.parsePercent,x=new u.Rect({shape:{x:-1,y:-1,width:2,height:2}}),O=n.extendComponentView({type:"tooltip",init:function(e,t){if(!r.node){var a,n=e.getComponent("tooltip"),i=n.get("renderMode");this._renderMode=v(i),"html"===this._renderMode?(a=new o(t.getDom(),t,{appendToBody:n.get("appendToBody",!0)}),this._newLine="<br/>"):(a=new s(t),this._newLine="\n"),this._tooltipContent=a}},render:function(e,t,a){if(!r.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=a,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var n=this._tooltipContent;n.update(e),n.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel,t=e.get("triggerOn");f.register("itemTooltip",this._api,y((function(e,a,n){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(a,n):"leave"===e&&this._hide(n))}),this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,a=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!a.isDisposed()&&n.manuallyShowTip(e,t,a,{x:n._lastX,y:n._lastY})}))}},manuallyShowTip:function(e,t,a,n){if(n.from!==this.uid&&!r.node){var i=C(n,a);this._ticket="";var o=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var s=x;s.position=[n.x,n.y],s.update(),s.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:s},i)}else if(o)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},i);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(e,t,a,n))return;var l=d(n,t),c=l.point[0],u=l.point[1];null!=c&&null!=u&&this._tryShow({offsetX:c,offsetY:u,position:n.position,target:l.el},i)}else null!=n.x&&null!=n.y&&(a.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:a.getZr().findHover(n.x,n.y).target},i))}},manuallyHideTip:function(e,t,a,n){var i=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&i.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(C(n,a))},_manuallyAxisShowTip:function(e,t,a,n){var i=n.seriesIndex,r=n.dataIndex,o=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=r&&null!=o){var s=t.getSeriesByIndex(i);if(s){var l=s.getData();e=D([l.getItemModel(r),s,(s.coordinateSystem||{}).model,e]);if("axis"===e.get("trigger"))return a.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:r,position:n.position}),!0}}},_tryShow:function(e,t){var a=e.target,n=this._tooltipModel;if(n){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):a&&null!=a.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,a,t)):a&&a.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,a,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var a=e.get("showDelay");t=i.bind(t,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(t,a):t()},_showAxisTooltip:function(e,t){var a=this._ecModel,n=this._tooltipModel,r=[t.offsetX,t.offsetY],o=[],s=[],c=D([t.tooltipOption,n]),u=this._renderMode,d=this._newLine,p={};w(e,(function(e){w(e.dataByAxis,(function(e){var t=a.getComponent(e.axisDim+"Axis",e.axisIndex),n=e.value,r=[];if(t&&null!=n){var c=m.getValueLabel(n,t.axis,a,e.seriesDataIndices,e.valueLabelOpt);i.each(e.seriesDataIndices,(function(o){var l=a.getSeriesByIndex(o.seriesIndex),d=o.dataIndexInside,h=l&&l.getDataParams(d);if(h.axisDim=e.axisDim,h.axisIndex=e.axisIndex,h.axisType=e.axisType,h.axisId=e.axisId,h.axisValue=g.getAxisRawValue(t.axis,n),h.axisValueLabel=c,h){s.push(h);var f,m=l.formatTooltip(d,!0,null,u);if(i.isObject(m)){f=m.html;var b=m.markers;i.merge(p,b)}else f=m;r.push(f)}}));var h=c;"html"!==u?o.push(r.join(d)):o.push((h?l.encodeHTML(h)+d:"")+r.join(d))}}))}),this),o.reverse(),o=o.join(this._newLine+this._newLine);var h=t.position;this._showOrMove(c,(function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(c,h,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(c,o,s,Math.random(),r[0],r[1],h,void 0,p)}))},_showSeriesItemTooltip:function(e,t,a){var n=this._ecModel,r=t.seriesIndex,o=n.getSeriesByIndex(r),s=t.dataModel||o,l=t.dataIndex,c=t.dataType,u=s.getData(c),d=D([u.getItemModel(l),s,o&&(o.coordinateSystem||{}).model,this._tooltipModel]),p=d.get("trigger");if(null==p||"item"===p){var h,f,g=s.getDataParams(l,c),m=s.formatTooltip(l,!1,c,this._renderMode);i.isObject(m)?(h=m.html,f=m.markers):(h=m,f=null);var b="item_"+s.name+"_"+l;this._showOrMove(d,(function(){this._showTooltipContent(d,h,g,b,e.offsetX,e.offsetY,e.position,e.target,f)})),a({type:"showTip",dataIndexInside:l,dataIndex:u.getRawIndex(l),seriesIndex:r,from:this.uid})}},_showComponentItemTooltip:function(e,t,a){var n=t.tooltip;if("string"===typeof n){var i=n;n={content:i,formatter:i}}var r=new h(n,this._tooltipModel,this._ecModel),o=r.get("content"),s=Math.random();this._showOrMove(r,(function(){this._showTooltipContent(r,o,r.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t)})),a({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,a,n,i,r,o,s,c){if(this._ticket="",e.get("showContent")&&e.get("show")){var u=this._tooltipContent,d=e.get("formatter");o=o||e.get("position");var p=t;if(d&&"string"===typeof d)p=l.formatTpl(d,a,!0);else if("function"===typeof d){var h=y((function(t,n){t===this._ticket&&(u.setContent(n,c,e),this._updatePosition(e,o,i,r,u,a,s))}),this);this._ticket=n,p=d(a,n,h)}u.setContent(p,c,e),u.show(e),this._updatePosition(e,o,i,r,u,a,s)}},_updatePosition:function(e,t,a,n,r,o,s){var l=this._api.getWidth(),c=this._api.getHeight();t=t||e.get("position");var u=r.getSize(),d=e.get("align"),h=e.get("verticalAlign"),f=s&&s.getBoundingRect().clone();if(s&&f.applyTransform(s.transform),"function"===typeof t&&(t=t([a,n],o,r.el,f,{viewSize:[l,c],contentSize:u.slice()})),i.isArray(t))a=_(t[0],l),n=_(t[1],c);else if(i.isObject(t)){t.width=u[0],t.height=u[1];var g=p.getLayoutRect(t,{width:l,height:c});a=g.x,n=g.y,d=null,h=null}else if("string"===typeof t&&s){var m=j(t,f,u);a=m[0],n=m[1]}else{m=k(a,n,r,l,c,d?null:20,h?null:20);a=m[0],n=m[1]}if(d&&(a-=P(d)?u[0]/2:"right"===d?u[0]:0),h&&(n-=P(h)?u[1]/2:"bottom"===h?u[1]:0),e.get("confine")){m=S(a,n,r,l,c);a=m[0],n=m[1]}r.moveTo(a,n)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,a=!!t&&t.length===e.length;return a&&w(t,(function(t,n){var i=t.dataByAxis||{},r=e[n]||{},o=r.dataByAxis||[];a&=i.length===o.length,a&&w(i,(function(e,t){var n=o[t]||{},i=e.seriesDataIndices||[],r=n.seriesDataIndices||[];a&=e.value===n.value&&e.axisType===n.axisType&&e.axisId===n.axisId&&i.length===r.length,a&&w(i,(function(e,t){var n=r[t];a&=e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex}))}))})),this._lastDataByCoordSys=e,!!a},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){r.node||(this._tooltipContent.dispose(),f.unregister("itemTooltip",t))}});function D(e){var t=e.pop();while(e.length){var a=e.pop();a&&(h.isInstance(a)&&(a=a.get("tooltip",!0)),"string"===typeof a&&(a={formatter:a}),t=new h(a,t,t.ecModel))}return t}function C(e,t){return e.dispatchAction||i.bind(t.dispatchAction,t)}function k(e,t,a,n,i,r,o){var s=a.getOuterSize(),l=s.width,c=s.height;return null!=r&&(e+l+r>n?e-=l+r:e+=r),null!=o&&(t+c+o>i?t-=c+o:t+=o),[e,t]}function S(e,t,a,n,i){var r=a.getOuterSize(),o=r.width,s=r.height;return e=Math.min(e+o,n)-o,t=Math.min(t+s,i)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function j(e,t,a){var n=a[0],i=a[1],r=5,o=0,s=0,l=t.width,c=t.height;switch(e){case"inside":o=t.x+l/2-n/2,s=t.y+c/2-i/2;break;case"top":o=t.x+l/2-n/2,s=t.y-i-r;break;case"bottom":o=t.x+l/2-n/2,s=t.y+c+r;break;case"left":o=t.x-n-r,s=t.y+c/2-i/2;break;case"right":o=t.x+l+r,s=t.y+c/2-i/2}return[o,s]}function P(e){return"center"===e||"middle"===e}e.exports=O},4301:function(e,t,a){},4319:function(e,t,a){var n=a("6d8b"),i=a("22d1"),r=a("e0d3"),o=r.makeInner,s=a("625e"),l=s.enableClassExtend,c=s.enableClassCheck,u=a("3901"),d=a("9bdb"),p=a("fe21"),h=a("551f"),f=n.mixin,g=o();function m(e,t,a){this.parentModel=t,this.ecModel=a,this.option=e}function b(e,t,a){for(var n=0;n<t.length;n++)if(t[n]&&(e=e&&"object"===typeof e?e[t[n]]:null,null==e))break;return null==e&&a&&(e=a.get(t)),e}function v(e,t){var a=g(e).getParent;return a?a.call(e,t):e.parentModel}m.prototype={constructor:m,init:null,mergeOption:function(e){n.merge(this.option,e,!0)},get:function(e,t){return null==e?this.option:b(this.option,this.parsePath(e),!t&&v(this,e))},getShallow:function(e,t){var a=this.option,n=null==a?a:a[e],i=!t&&v(this,e);return null==n&&i&&(n=i.getShallow(e)),n},getModel:function(e,t){var a,n=null==e?this.option:b(this.option,e=this.parsePath(e));return t=t||(a=v(this,e))&&a.getModel(e),new m(n,t,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var e=this.constructor;return new e(n.clone(this.option))},setReadOnly:function(e){},parsePath:function(e){return"string"===typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){g(this).getParent=e},isAnimationEnabled:function(){if(!i.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},l(m),c(m),f(m,u),f(m,d),f(m,p),f(m,h);var y=m;e.exports=y},4359:function(e,t){function a(e,t){var a=-1,n=e.length;t||(t=Array(n));while(++a<n)t[a]=e[a];return t}e.exports=a},4436:function(e,t,a){var n=a("74cb");function i(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}i.prototype={constructor:i,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var a=(e-this._startTime-this._pausedTime)/this._life;if(!(a<0)){a=Math.min(a,1);var i=this.easing,r="string"===typeof i?n[i]:i,o="function"===typeof r?r(a):a;return this.fire("frame",o),1===a?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var r=i;e.exports=r},"44d0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:e.title,visible:e.drawerVisible,direction:"rtl","modal-append-to-body":!1,wrapperClosable:!1,size:"780px"},on:{"update:visible":function(t){e.drawerVisible=t}}},[a("compare-form",{ref:"compareForm",attrs:{data:e.form,disabled:e.disabled||"detail"===e.dialogType,rule:e.rule},on:{"update:data":function(t){e.form=t}}}),a("footer",{staticClass:"drawer-footer"},[e.disabled||"detail"===e.dialogType?e._e():a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.drawerVisible=!1}}},[e._v("\n       "+e._s(e.disabled||"detail"===e.dialogType?"关 闭":" 取 消")+"\n    ")])],1)],1)},i=[],r=a("e815"),o={name:"condition-dialog",components:{compareForm:r["default"]},props:{visible:{type:Boolean,default:!1},disabled:Boolean,data:Object,dialogType:{type:String,default:"add",validator:function(e){return-1!==["add","detail","edit"].indexOf(e)}}},data:function(){return{form:{},rule:{desc:[{required:!0,message:"请输入条件描述",trigger:"blur"}]}}},computed:{drawerVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}},title:function(){var e="";switch(this.dialogType){case"add":e="新增 流程控制组件【判断条件 if】";break;case"edit":e="编辑 流程控制组件【判断条件 if】";break;case"detail":e="流程控制组件【判断条件 if】 详情";break}return e}},methods:{submitForm:function(){var e=this;this.$refs.compareForm.validate().then((function(){e.$emit("emitData",e.form),e.drawerVisible=!1}),(function(){e.$message({showClose:!0,message:"请完善信息！",type:"warning"})}))}},mounted:function(){this.data&&(this.form=Object.assign({},this.data))}},s=o,l=(a("6c43"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"e0afe214",null);t["default"]=c.exports},"44f7":function(e,t,a){},4573:function(e,t,a){var n=a("cbe5"),i=n.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var a=t.cx,n=t.cy,i=2*Math.PI;e.moveTo(a+t.r,n),e.arc(a,n,t.r,0,i,!1),e.moveTo(a+t.r0,n),e.arc(a,n,t.r0,0,i,!0)}});e.exports=i},"45d5":function(e,t,a){"use strict";a("37ea")},"45ff":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"collection"},[a("input",{ref:"urlInput",staticClass:"url-input"}),a("el-alert",{staticClass:"link-con",attrs:{type:"warning"}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"label"},[e._v("快速集成开放文档：")]),a("el-link",{attrs:{type:"primary",href:"http://fizzgate.com/guide/manager/manager_open_document_use.html",target:"_blank"}},[e._v("\n        http://fizzgate.com/guide/manager/manager_open_document_use.html\n      ")])],1)]),a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[e.permissionList.previewBtn?a("el-button",{attrs:{icon:"el-icon-view",size:"small",type:"text"},on:{click:function(t){return e.handlePreview(n)}}},[e._v("预览")]):e._e(),a("el-button",{attrs:{icon:"el-icon-copy-document",size:"small",type:"text"},on:{click:function(t){return e.copyUrl(n.url)}}},[e._v("复制地址")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("96cf"),a("1da1")),o=(a("6762"),a("2fdb"),a("ade3")),s=a("2620"),l=a("52f7"),c=a("5880");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"collection",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,editBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,menuWidth:320,column:[{label:"名称",prop:"name",search:!0,width:150},{label:"描述",prop:"description",search:!0},{label:"地址",prop:"url",labelWidth:300}]},data:[],defaultOpenUrl:""}},computed:d(d({},Object(c["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.interface_collection_add,!1),editBtn:this.vaildData(this.permission.interface_collection_edit,!1),delBtn:this.vaildData(this.permission.interface_collection_remove,!1),viewBtn:this.vaildData(this.permission.interface_collection_view,!1),previewBtn:this.vaildData(this.permission.interface_collection_preview,!1)}}}),methods:{handleSubmitData:function(e){return e},rowDel:function(e){var t=this;this.$confirm("你确定要删除此文档集吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["d"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){["add","edit","view"].includes(t)&&this.$router.push({path:"/interface/collection/".concat(t),query:{id:this.form.id,type:t}})},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=i.length>1&&void 0!==i[1]?i[1]:{},this.loading=!0,this.defaultOpenUrl){e.next=5;break}return e.next=5,this.getOpenDocDefaultUrl();case 5:Object(s["c"])(t.currentPage,t.pageSize,Object.assign(a,this.query)).then((function(e){var t=e.data.data;n.page.total=t.total,n.loading=!1,n.data=t.records.map((function(e){return e.url="".concat(n.defaultOpenUrl,"?id=").concat(e.id),e}))}));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getOpenDocDefaultUrl:function(){var e=this;return Object(l["f"])().then((function(t){200===t.data.code?e.defaultOpenUrl=t.data.data:e.$message({type:"error",message:t.data.msg||"获取开放文档默认地址 失败！"})}))},copyUrl:function(e){this.$refs.urlInput.value=e,this.$refs.urlInput.select(),document.execCommand("copy"),this.$message({message:"地址已复制到粘贴板！",type:"success"})},handlePreview:function(e){this.$router.push({path:"/interface/document/preview",query:{id:e.id,documentName:e.name,pageType:"document"}})}}},h=p,f=(a("e954"),a("2877")),g=Object(f["a"])(h,n,i,!1,null,"2f37faaa",null);t["default"]=g.exports},4637:function(e,t,a){"use strict";a("f1bc")},4683:function(e,t,a){"use strict";a("29e1")},"480a":function(e,t,a){},"480d":function(e,t,a){"use strict";a("100c")},"48a0":function(e,t,a){var n=a("242e"),i=a("950a"),r=i(n);e.exports=r},"48a9":function(e,t,a){var n=a("6d8b"),i=a("42e5"),r=function(e,t,a,n,r,o){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==a?1:a,this.y2=null==n?0:n,this.type="linear",this.global=o||!1,i.call(this,r)};r.prototype={constructor:r},n.inherits(r,i);var o=r;e.exports=o},"48ac":function(e,t,a){var n=a("3eba"),i=n.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),r=i;e.exports=r},"48c7":function(e,t,a){var n=a("6d8b"),i=a("6cb7"),r=a("9e47"),o=a("2023"),s=i.extend({type:"cartesian2dAxis",axis:null,init:function(){s.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){s.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function l(e,t){return t.type||(t.data?"category":"value")}n.merge(s.prototype,o);var c={offset:0};r("x",s,l,c),r("y",s,l,c);var u=s;e.exports=u},4942:function(e,t,a){var n=a("2cf4"),i=n.debugMode,r=function(){};1===i&&(r=console.error);var o=r;e.exports=o},"49f4":function(e,t,a){var n=a("6044");function i(){this.__data__=n?n(null):{},this.size=0}e.exports=i},"4a3f":function(e,t,a){var n=a("401b"),i=n.create,r=n.distSquare,o=Math.pow,s=Math.sqrt,l=1e-8,c=1e-4,u=s(3),d=1/3,p=i(),h=i(),f=i();function g(e){return e>-l&&e<l}function m(e){return e>l||e<-l}function b(e,t,a,n,i){var r=1-i;return r*r*(r*e+3*i*t)+i*i*(i*n+3*r*a)}function v(e,t,a,n,i){var r=1-i;return 3*(((t-e)*r+2*(a-t)*i)*r+(n-a)*i*i)}function y(e,t,a,n,i,r){var l=n+3*(t-a)-e,c=3*(a-2*t+e),p=3*(t-e),h=e-i,f=c*c-3*l*p,m=c*p-9*l*h,b=p*p-3*c*h,v=0;if(g(f)&&g(m))if(g(c))r[0]=0;else{var y=-p/c;y>=0&&y<=1&&(r[v++]=y)}else{var w=m*m-4*f*b;if(g(w)){var _=m/f,x=(y=-c/l+_,-_/2);y>=0&&y<=1&&(r[v++]=y),x>=0&&x<=1&&(r[v++]=x)}else if(w>0){var O=s(w),D=f*c+1.5*l*(-m+O),C=f*c+1.5*l*(-m-O);D=D<0?-o(-D,d):o(D,d),C=C<0?-o(-C,d):o(C,d);y=(-c-(D+C))/(3*l);y>=0&&y<=1&&(r[v++]=y)}else{var k=(2*f*c-3*l*m)/(2*s(f*f*f)),S=Math.acos(k)/3,j=s(f),P=Math.cos(S),T=(y=(-c-2*j*P)/(3*l),x=(-c+j*(P+u*Math.sin(S)))/(3*l),(-c+j*(P-u*Math.sin(S)))/(3*l));y>=0&&y<=1&&(r[v++]=y),x>=0&&x<=1&&(r[v++]=x),T>=0&&T<=1&&(r[v++]=T)}}return v}function w(e,t,a,n,i){var r=6*a-12*t+6*e,o=9*t+3*n-3*e-9*a,l=3*t-3*e,c=0;if(g(o)){if(m(r)){var u=-l/r;u>=0&&u<=1&&(i[c++]=u)}}else{var d=r*r-4*o*l;if(g(d))i[0]=-r/(2*o);else if(d>0){var p=s(d),h=(u=(-r+p)/(2*o),(-r-p)/(2*o));u>=0&&u<=1&&(i[c++]=u),h>=0&&h<=1&&(i[c++]=h)}}return c}function _(e,t,a,n,i,r){var o=(t-e)*i+e,s=(a-t)*i+t,l=(n-a)*i+a,c=(s-o)*i+o,u=(l-s)*i+s,d=(u-c)*i+c;r[0]=e,r[1]=o,r[2]=c,r[3]=d,r[4]=d,r[5]=u,r[6]=l,r[7]=n}function x(e,t,a,n,i,o,l,u,d,g,m){var v,y,w,_,x,O=.005,D=1/0;p[0]=d,p[1]=g;for(var C=0;C<1;C+=.05)h[0]=b(e,a,i,l,C),h[1]=b(t,n,o,u,C),_=r(p,h),_<D&&(v=C,D=_);D=1/0;for(var k=0;k<32;k++){if(O<c)break;y=v-O,w=v+O,h[0]=b(e,a,i,l,y),h[1]=b(t,n,o,u,y),_=r(h,p),y>=0&&_<D?(v=y,D=_):(f[0]=b(e,a,i,l,w),f[1]=b(t,n,o,u,w),x=r(f,p),w<=1&&x<D?(v=w,D=x):O*=.5)}return m&&(m[0]=b(e,a,i,l,v),m[1]=b(t,n,o,u,v)),s(D)}function O(e,t,a,n){var i=1-n;return i*(i*e+2*n*t)+n*n*a}function D(e,t,a,n){return 2*((1-n)*(t-e)+n*(a-t))}function C(e,t,a,n,i){var r=e-2*t+a,o=2*(t-e),l=e-n,c=0;if(g(r)){if(m(o)){var u=-l/o;u>=0&&u<=1&&(i[c++]=u)}}else{var d=o*o-4*r*l;if(g(d)){u=-o/(2*r);u>=0&&u<=1&&(i[c++]=u)}else if(d>0){var p=s(d),h=(u=(-o+p)/(2*r),(-o-p)/(2*r));u>=0&&u<=1&&(i[c++]=u),h>=0&&h<=1&&(i[c++]=h)}}return c}function k(e,t,a){var n=e+a-2*t;return 0===n?.5:(e-t)/n}function S(e,t,a,n,i){var r=(t-e)*n+e,o=(a-t)*n+t,s=(o-r)*n+r;i[0]=e,i[1]=r,i[2]=s,i[3]=s,i[4]=o,i[5]=a}function j(e,t,a,n,i,o,l,u,d){var g,m=.005,b=1/0;p[0]=l,p[1]=u;for(var v=0;v<1;v+=.05){h[0]=O(e,a,i,v),h[1]=O(t,n,o,v);var y=r(p,h);y<b&&(g=v,b=y)}b=1/0;for(var w=0;w<32;w++){if(m<c)break;var _=g-m,x=g+m;h[0]=O(e,a,i,_),h[1]=O(t,n,o,_);y=r(h,p);if(_>=0&&y<b)g=_,b=y;else{f[0]=O(e,a,i,x),f[1]=O(t,n,o,x);var D=r(f,p);x<=1&&D<b?(g=x,b=D):m*=.5}}return d&&(d[0]=O(e,a,i,g),d[1]=O(t,n,o,g)),s(b)}t.cubicAt=b,t.cubicDerivativeAt=v,t.cubicRootAt=y,t.cubicExtrema=w,t.cubicSubdivide=_,t.cubicProjectPoint=x,t.quadraticAt=O,t.quadraticDerivativeAt=D,t.quadraticRootAt=C,t.quadraticExtremum=k,t.quadraticSubdivide=S,t.quadraticProjectPoint=j},"4a9d":function(e,t,a){var n=a("dcb3"),i=a("ff2e"),r=a("0156"),o=a("6679"),s=n.extend({makeElOption:function(e,t,a,n,o){var s=a.axis,u=s.grid,d=n.get("type"),p=l(u,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(t,!0));if(d&&"none"!==d){var f=i.buildElStyle(n),g=c[d](s,h,p);g.style=f,e.graphicKey=g.type,e.pointer=g}var m=r.layout(u.model,a);i.buildCartesianSingleLabelElOption(t,e,m,a,n,o)},getHandleTransform:function(e,t,a){var n=r.layout(t.axis.grid.model,t,{labelInside:!1});return n.labelMargin=a.get("handle.margin"),{position:i.getTransformedPosition(t.axis,e,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,a,n){var i=a.axis,r=i.grid,o=i.getGlobalExtent(!0),s=l(r,i).getOtherAxis(i).getGlobalExtent(),c="x"===i.dim?0:1,u=e.position;u[c]+=t[c],u[c]=Math.min(o[1],u[c]),u[c]=Math.max(o[0],u[c]);var d=(s[1]+s[0])/2,p=[d,d];p[c]=u[c];var h=[{verticalAlign:"middle"},{align:"center"}];return{position:u,rotation:e.rotation,cursorPoint:p,tooltipOption:h[c]}}});function l(e,t){var a={};return a[t.dim+"AxisIndex"]=t.index,e.getCartesian(a)}var c={line:function(e,t,a){var n=i.makeLineShape([t,a[0]],[t,a[1]],u(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,a){var n=Math.max(1,e.getBandWidth()),r=a[1]-a[0];return{type:"Rect",shape:i.makeRectShape([t-n/2,a[0]],[n,r],u(e))}}};function u(e){return"x"===e.dim?0:1}o.registerAxisPointerClass("CartesianAxisPointer",s);var d=s;e.exports=d},"4aa1":function(e,t,a){},"4aa2":function(e,t,a){var n=a("cbe5"),i=a("897a"),r=n.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:i(n.prototype.brush),buildPath:function(e,t){var a=t.cx,n=t.cy,i=Math.max(t.r0||0,0),r=Math.max(t.r,0),o=t.startAngle,s=t.endAngle,l=t.clockwise,c=Math.cos(o),u=Math.sin(o);e.moveTo(c*i+a,u*i+n),e.lineTo(c*r+a,u*r+n),e.arc(a,n,r,o,s,!l),e.lineTo(Math.cos(s)*i+a,Math.sin(s)*i+n),0!==i&&e.arc(a,n,i,s,o,l),e.closePath()}});e.exports=r},"4b17":function(e,t,a){var n=a("6428");function i(e){var t=n(e),a=t%1;return t===t?a?t-a:t:0}e.exports=i},"4b9f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("div",{staticClass:"wel"},[a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-platform-eleme",text:"开始菜单1",time:"1",background:"/img/bg/bg3.jpg",color:"#d56259"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-eleme",text:"开始菜单2",time:"2",background:"/img/bg/bg2.jpg",color:"#419ce7"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-delete-solid",text:"开始菜单3",time:"3",color:"#56b69b"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-delete",text:"开始菜单4",time:"4",color:"#d44858"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-tools",text:"开始菜单5",time:"5",color:"#3a1f7e"}}),a("basic-block",{attrs:{width:410,height:e.height,icon:"el-icon-setting",text:"开始菜单6",time:"6",background:"/img/bg/bg1.jpg",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#422829"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-user-solid",text:"开始菜单7",time:"7",color:"#613cbd"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-star-off",text:"开始菜单8",time:"8",color:"#da542e"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-goods",text:"开始菜单9",time:"9",color:"#2e8aef"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-circle-check",text:"开始菜单10",time:"10",color:"#3d17b8"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-platform",text:"开始菜单11",time:"11",color:"#e31462"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-fold",text:"开始菜单12",time:"12",color:"#d9532d"}}),a("basic-block",{attrs:{width:410,height:e.height,icon:"el-icon-s-open",text:"开始菜单13",time:"13",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#b72147"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-flag",text:"开始菜单14",time:"14",color:"#01a100"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-data",text:"开始菜单15",time:"15",color:"#0c56bf"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-grid",text:"开始菜单16",time:"16",color:"#0098a9"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-release",text:"开始菜单17",time:"17",background:"/img/bg/bg2.jpg",color:"#209bdf"}}),a("basic-block",{attrs:{width:e.width,height:e.height,icon:"el-icon-s-home",text:"开始菜单18",time:"18",background:"/img/bg/bg3.jpg",color:"#603bbc"}}),a("basic-block",{attrs:{width:515,height:e.height,icon:"el-icon-s-promotion",text:"开始菜单19",time:"19",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#009bad"}}),a("basic-block",{attrs:{width:515,height:e.height,icon:"el-icon-s-custom",text:"开始菜单20",time:"20",background:"/img/bg/bg4.jpg",dept:"这是一段很长的很长很长很长的描述这是一段很长的很长很长很长的描述",color:"#d74e2a"}})],1)])},i=[],r={data:function(){return{width:200,height:120}}},o=r,s=(a("e5fd"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},"4bae":function(e,t,a){},"4c02":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"d",(function(){return h}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/detail/").concat(e),method:"get"})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/remove"),method:"post",params:{ids:e}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/save"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/update"),method:"post",data:e})},h=function(){return Object(i["a"])({url:"".concat(r["a"],"/alarm-subscription/simple-user-list"),method:"get"})}},"4c07":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"exec-condition"},[a("el-checkbox",{attrs:{disabled:e.disabled},model:{value:e.step.stop,callback:function(t){e.$set(e.step,"stop",t)},expression:"step.stop"}},[e._v("是否执行完此步骤后结束")])],1),a("step-requests",e._b({ref:"stepRequests",attrs:{data:e.stepRequestsData,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(t){e.stepRequestsData=t}}},"step-requests",e.$attrs,!1)),a("h2",[e._v("\n    配置步骤结果 "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.showResult=!e.showResult}}},[e._v(e._s(e.showResult?"收起":"展开"))])],1),a("div",[e.showResult?a("data-params",e._b({staticClass:"highlight-border",attrs:{"body-name":"结果","has-query":!1,"has-header":!1,data:e.step.dataMapping.response,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(t){return e.$set(e.step.dataMapping,"response",t)}}},"data-params",e.$attrs,!1)):e._e()],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5e9f"),s=a("942a"),l=a("5880");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"step-item",data:function(){return{stepRequestsData:{requests:[],components:[]},step:{},showResult:!1}},inheritAttrs:!1,props:{data:{type:Array,default:function(){return{}}},disabled:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{stepRequests:o["default"],dataParams:s["default"]},computed:{},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},stepRequestsData:{immediate:!0,deep:!0,handler:function(e){this.$set(this.step,"requests",e.requests||[]),this.$set(this.step,"components",e.components||[])}}},methods:u(u({},Object(l["mapActions"])(["updateValidateStep"])),{},{initData:function(){this.step=this.data||{name:"Step 1",stop:!1,requests:[],components:[],dataMapping:{}},this.$set(this.stepRequestsData,"requests",this.step.requests),this.$set(this.stepRequestsData,"components",this.step.components)},validate:function(){var e=this;return this.emitData(),new Promise((function(t,a){e.$refs.stepRequests.validate((function(e){e?t():a()}))}))},emitData:function(){this.$emit("update:data",this.step)}})},p=d,h=(a("60e9"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,"134990aa",null);t["default"]=f.exports},"4c19":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"access",fn:function(t){var n=t.row;return["a"==n.access?a("el-tag",{attrs:{type:"success"}},[e._v("允许")]):e._e(),"f"==n.access?a("el-tag",{attrs:{type:"danger"}},[e._v("禁止")]):e._e()]}},{key:"gatewayGroupSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"网关分组",filterable:"",clearable:""},model:{value:e.search.gatewayGroup,callback:function(t){e.$set(e.search,"gatewayGroup",t)},expression:"search.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}},{key:"pluginNamesSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"插件",multiple:"",filterable:"",clearable:"","collapse-tags":""},model:{value:e.search.plugin,callback:function(t){e.$set(e.search,"plugin",t)},expression:"search.plugin"}},e._l(e.pluginOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.chnName,value:e.id}})})),1)]}},{key:"methodSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"请求方法",multiple:"",clearable:"","collapse-tags":""},model:{value:e.search.method,callback:function(t){e.$set(e.search,"method",t)},expression:"search.method"}},e._l(e.apiMethod,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("c54a"),l=a("27fc"),c=a("b30b");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,viewBtn:!0,columnBtn:!1,menuPosition:"right",column:[{label:"网关分组",prop:"gatewayGroup",search:!0,searchslot:!0,overHidden:!0,type:"select",dicData:[]},{label:"回调方式",prop:"callbackType",dicData:l["c"],search:!0,type:"select"},{label:"前端服务名",prop:"service",search:!0,searchLabelWidth:90,overHidden:!0},{label:"前端路径",prop:"path",search:!0,searchLabelWidth:100,overHidden:!0},{label:"请求方法",prop:"method",search:!0,type:"select",searchslot:!0},{label:"插件",prop:"pluginNames",search:!0,searchslot:!0,overHidden:!0,type:"select"},{label:"访问",prop:"access",width:70,slot:!0,search:!0,type:"select",dicData:l["a"]}]},data:[],search:{}}},computed:d(d({},Object(o["mapGetters"])(["permission","apiMethod","groupOptions","pluginOptions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.proxy_api_add,!1),editBtn:this.vaildData(this.permission.proxy_api_edit,!1),viewBtn:this.vaildData(this.permission.proxy_api_view,!1),delBtn:this.vaildData(this.permission.proxy_api_delete,!1)}}}),created:function(){this.getPluginOptions(),this.getGroupOptions()},watch:{groupOptions:function(e){var t=this.findObject(this.option.column,"gatewayGroup");t.dicData=e||[]}},methods:d(d({},Object(o["mapActions"])(["getGroupOptions","getPluginOptions"])),{},{beforeOpen:function(e,t){if("add"===t||this.form.id){var a="/callback/detail/".concat(t);this.$router.push({path:a,query:{originId:this.form.id}})}else this.$message.error("数据缺失，无法操作！")},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(c["d"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.method&&Object(s["b"])(e.method)&&(e.method_in=e.method.join(",")||"",delete e.method),e.plugin&&Object(s["b"])(e.plugin)&&(e.pluginId_in=e.plugin.join(",")||"",delete e.plugin),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(c["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}})},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,null,null);t["default"]=g.exports},"4c3b":function(e,t,a){"use strict";a("ce64")},"4c67":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"history"},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("b",[e._v("文档历史版本")])]),a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[e.permissionList.previewBtn?a("el-button",{attrs:{icon:"el-icon-view",size:"small",type:"text"},on:{click:function(t){return e.handlePreview(n)}}},[e._v("预览")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("ade3")),o=a("5880"),s=a("b5c6"),l=a("da71");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e,t,a){return Object(s["a"])({url:"".concat(l["a"],"/open-doc/open-doc-history/list"),method:"get",params:u(u({},a),{},{current:e,size:t})})},p=function(e){return Object(s["a"])({url:"".concat(l["a"],"/open-doc/open-doc-history/remove"),method:"post",params:{ids:e}})};function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={name:"document-history",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:800,border:!0,index:!0,dialogClickModal:!1,viewBtn:!1,editBtn:!1,addBtn:!1,columnBtn:!1,menuPosition:"right",labelWidth:100,column:[{label:"名称",prop:"name",search:!0},{label:"描述",prop:"description",search:!0},{label:"版本",prop:"version",search:!1}]},data:[]}},computed:f(f({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{delBtn:this.vaildData(this.permission.interface_document_history_remove,!1),previewBtn:this.vaildData(this.permission.interface_document_history_preview,!1)}},id:function(){return this.$route.query.id}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowDel:function(e){var t=this;this.$confirm("你确定要删除此历史版本吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,d(e.currentPage,e.pageSize,Object.assign(a,this.query,{openDocId:this.id})).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},handlePreview:function(e){this.$router.push({path:"/interface/document/preview",query:{id:e.id,documentName:e.name,type:"history"}})}}},m=g,b=a("2877"),v=Object(b["a"])(m,n,i,!1,null,"0fb01072",null);t["default"]=v.exports},"4c7d":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/callback-request/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-request/detail/").concat(e),method:"get"})},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])({url:"".concat(r["a"],"/callback-request/replay"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-request/callback-receivers/").concat(e),method:"get"})}},"4caa":function(e,t,a){var n=a("a919"),i=a("76dd"),r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",l="\\u20d0-\\u20ff",c=o+s+l,u="["+c+"]",d=RegExp(u,"g");function p(e){return e=i(e),e&&e.replace(r,n).replace(d,"")}e.exports=p},"4dde":function(e,t,a){},"4e08":function(e,t,a){(function(e){var a;"undefined"!==typeof window?a=window.__DEV__:"undefined"!==typeof e&&(a=e.__DEV__),"undefined"===typeof a&&(a=!0);var n=a;t.__DEV__=n}).call(this,a("c8ba"))},"4e3c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wel-index"},[a("gateway-data"),a("licensed-footer")],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("36fc"),l=a("d322");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"wel",data:function(){return{}},computed:u({},Object(o["mapGetters"])(["userInfo"])),components:{gatewayData:s["default"],licensedFooter:l["default"]},created:function(){},methods:{}},p=d,h=a("2877"),f=Object(h["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports},"4e62":function(e,t,a){"use strict";a("7364")},"4f1c":function(e,t,a){"use strict";a("3d86")},"4f50":function(e,t,a){var n=a("b760"),i=a("e538"),r=a("c8fe"),o=a("4359"),s=a("fa21"),l=a("d370"),c=a("6747"),u=a("dcbe"),d=a("0d24"),p=a("9520"),h=a("1a8c"),f=a("60ed"),g=a("73ac"),m=a("8adb"),b=a("8de2");function v(e,t,a,v,y,w,_){var x=m(e,a),O=m(t,a),D=_.get(O);if(D)n(e,a,D);else{var C=w?w(x,O,a+"",e,t,_):void 0,k=void 0===C;if(k){var S=c(O),j=!S&&d(O),P=!S&&!j&&g(O);C=O,S||j||P?c(x)?C=x:u(x)?C=o(x):j?(k=!1,C=i(O,!0)):P?(k=!1,C=r(O,!0)):C=[]:f(O)||l(O)?(C=x,l(x)?C=b(x):h(x)&&!p(x)||(C=s(O))):k=!1}k&&(_.set(O,C),y(C,O,v,w,_),_["delete"](O)),n(e,a,C)}}e.exports=v},"4f85":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=a("22d1"),o=a("eda2"),s=o.formatTime,l=o.encodeHTML,c=o.addCommas,u=o.getTooltipMarker,d=a("e0d3"),p=a("6cb7"),h=a("e47b"),f=a("38a2"),g=a("f934"),m=g.getLayoutParams,b=g.mergeLayoutParam,v=a("f47d"),y=v.createTask,w=a("0f99"),_=w.prepareSource,x=w.getSource,O=a("2b17"),D=O.retrieveRawValue,C=d.makeInner(),k=p.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,a,n){this.seriesIndex=this.componentIndex,this.dataTask=y({count:P,reset:T}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,a),_(this);var i=this.getInitialData(e,a);L(i,this),this.dataTask.context.data=i,C(this).dataBeforeProcessed=i,S(this)},mergeDefaultAndTheme:function(e,t){var a=this.layoutMode,n=a?m(e):{},r=this.subType;p.hasClass(r)&&(r+="Series"),i.merge(e,t.getTheme().get(this.subType)),i.merge(e,this.getDefaultOption()),d.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),a&&b(e,n,a)},mergeOption:function(e,t){e=i.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var a=this.layoutMode;a&&b(this.option,e,a),_(this);var n=this.getInitialData(e,t);L(n,this),this.dataTask.dirty(),this.dataTask.context.data=n,C(this).dataBeforeProcessed=n,S(this)},fillDataTextStyle:function(e){if(e&&!i.isTypedArray(e))for(var t=["show"],a=0;a<e.length;a++)e[a]&&e[a].label&&d.defaultEmphasis(e[a],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=$(this);if(t){var a=t.context.data;return null==e?a:a.getLinkedData(e)}return C(this).data},setData:function(e){var t=$(this);if(t){var a=t.context;a.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),a.outputData=e,t!==this.dataTask&&(a.data=e)}C(this).data=e},getSource:function(){return x(this)},getRawData:function(){return C(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,a,n){var r=this;n=n||"html";var o="html"===n?"<br/>":"\n",p="richText"===n,h={},f=0;function g(a){var o=i.reduce(a,(function(e,t,a){var n=b.getDimensionInfo(a);return e|(n&&!1!==n.tooltip&&null!=n.displayName)}),0),d=[];function g(e,a){var i=b.getDimensionInfo(a);if(i&&!1!==i.otherDims.tooltip){var g=i.type,m="sub"+r.seriesIndex+"at"+f,v=u({color:x,type:"subItem",renderMode:n,markerId:m}),y="string"===typeof v?v:v.content,w=(o?y+l(i.displayName||"-")+": ":"")+l("ordinal"===g?e+"":"time"===g?t?"":s("yyyy/MM/dd hh:mm:ss",e):c(e));w&&d.push(w),p&&(h[m]=x,++f)}}v.length?i.each(v,(function(t){g(D(b,e,t),t)})):i.each(a,g);var m=o?p?"\n":"<br/>":"",y=m+d.join(m||", ");return{renderMode:n,content:y,style:h}}function m(e){return{renderMode:n,content:l(c(e)),style:h}}var b=this.getData(),v=b.mapDimension("defaultedTooltip",!0),y=v.length,w=this.getRawValue(e),_=i.isArray(w),x=b.getItemVisual(e,"color");i.isObject(x)&&x.colorStops&&(x=(x.colorStops[0]||{}).color),x=x||"transparent";var O=y>1||_&&!y?g(w):m(y?D(b,e,v[0]):_?w[0]:w),C=O.content,k=r.seriesIndex+"at"+f,S=u({color:x,type:"item",renderMode:n,markerId:k});h[k]=x,++f;var j=b.getName(e),P=this.name;d.isNameSpecified(this)||(P=""),P=P?l(P)+(t?": ":o):"";var T="string"===typeof S?S:S.content,I=t?T+P+C:P+T+(j?l(j)+": "+C:C);return{html:I,markers:h}},isAnimationEnabled:function(){if(r.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,a){var n=this.ecModel,i=h.getColorFromPalette.call(this,e,t,a);return i||(i=n.getColorFromPalette(e,t,a)),i},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function S(e){var t=e.name;d.isNameSpecified(e)||(e.name=j(e)||t)}function j(e){var t=e.getRawData(),a=t.mapDimension("seriesName",!0),n=[];return i.each(a,(function(e){var a=t.getDimensionInfo(e);a.displayName&&n.push(a.displayName)})),n.join(" ")}function P(e){return e.model.getRawData().count()}function T(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),I}function I(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function L(e,t){i.each(e.CHANGABLE_METHODS,(function(a){e.wrapMethod(a,i.curry(z,t))}))}function z(e){var t=$(e);t&&t.setOutputEnd(this.count())}function $(e){var t=(e.ecModel||{}).scheduler,a=t&&t.getPipeline(e.uid);if(a){var n=a.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(e.uid))}return n}}i.mixin(k,f),i.mixin(k,h);var M=k;e.exports=M},"4fac":function(e,t,a){var n=a("620b"),i=a("9c2c");function r(e,t,a){var r=t.points,o=t.smooth;if(r&&r.length>=2){if(o&&"spline"!==o){var s=i(r,o,a,t.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var l=r.length,c=0;c<(a?l:l-1);c++){var u=s[2*c],d=s[2*c+1],p=r[(c+1)%l];e.bezierCurveTo(u[0],u[1],d[0],d[1],p[0],p[1])}}else{"spline"===o&&(r=n(r,a)),e.moveTo(r[0][0],r[0][1]);c=1;for(var h=r.length;c<h;c++)e.lineTo(r[c][0],r[c][1])}a&&e.closePath()}}t.buildPath=r},"50d2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"网关实例","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"500px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"con"},[a("div",{staticClass:"con-header"},[a("el-radio-group",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-radio",{attrs:{label:1,disabled:!e.isShowIP}},[e._v("按实例IP")]),a("el-radio",{attrs:{label:2}},[e._v("按服务名")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"list-table",staticStyle:{width:"100%"},attrs:{data:e.ipList,border:"",size:"small","max-height":"400"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),1===e.type?a("el-table-column",{attrs:{prop:"name",label:"IP"}}):e._e(),2===e.type?a("el-table-column",{attrs:{prop:"name",label:"服务名"}}):e._e()],1),0!==e.ipList.length||e.loading?e._e():a("p",{staticClass:"empty-text"},[a("i",{staticClass:"el-icon-warning"}),e._v("无可选的网关实例，请先启动网关节点\n    ")])],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",disabled:0===e.ipList.length},on:{click:e.submitHandle}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("4f7f"),a("5df3"),a("1c4c"),a("7f7f"),a("ac6a"),a("e5ec")),o={name:"dictDetail",props:{visible:{type:Boolean,default:!1},id:{type:String},isShowIP:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}}},data:function(){return{loading:!1,ipList:[],multipleSelection:[],type:1,data:[]}},watch:{type:function(){this.renderTable()},data:function(){this.renderTable()}},methods:{submitHandle:function(){if(0!==this.multipleSelection.length){var e=[];this.multipleSelection.forEach((function(t){e.push(t.name)})),this.$emit("emitData",e),this.dialogVisible=!1}else this.$message.warning("请勾选数据！")},handleSelectionChange:function(e){this.multipleSelection=e},getHostList:function(){var e=this;this.loading=!0,Object(r["c"])().then((function(t){e.data=t.data.data,e.loading=!1})).catch((function(){e.loading=!1}))},renderTable:function(){var e=this;this.ipList.splice(0,this.ipList.length);var t=[];this.data.forEach((function(a){t.push(1===e.type?a.ip:a.serviceName)})),t=Array.from(new Set(t)),t.forEach((function(t){e.ipList.push({name:t})}))}},mounted:function(){this.getHostList(),this.type=this.isShowIP?1:2}},s=o,l=(a("1cd6"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"3fd5eb7c",null);t["default"]=c.exports},"50d8":function(e,t){function a(e,t){var a=-1,n=Array(e);while(++a<e)n[a]=t(a);return n}e.exports=a},"50eb":function(e,t,a){},"51a5":function(e,t,a){"use strict";a("de3f")},"51c0":function(e,t,a){},"522c":function(e,t,a){},"52f7":function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return f})),a.d(t,"f",(function(){return g}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/save"),method:"post",data:e,timeout:4e4})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/update"),method:"post",data:e,timeout:4e4})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/detail/").concat(e),method:"get"})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/get-api-docs-by-service"),method:"get",params:e})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/get-api-docs-by-api"),method:"get",params:e})},g=function(){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/open-doc/open-doc-default-url"),method:"get"})}},5321:function(e,t,a){"use strict";a("00a0")},5375:function(e,t,a){},5442:function(e,t,a){"use strict";a("10b6")},5450:function(e,t,a){a("7419"),a("29a9")},"54b2":function(e,t,a){},"54eb":function(e,t,a){var n=a("8eeb"),i=a("32f4");function r(e,t){return n(e,i(e),t)}e.exports=r},"551f":function(e,t,a){var n=a("282b"),i=n([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),r={getItemStyle:function(e,t){var a=i(this,e,t),n=this.getBorderLineDash();return n&&(a.lineDash=n),a},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}};e.exports=r},5589:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("h3",[e._v("表单例子")]),a("avue-form",{attrs:{option:e.option},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r={data:function(){return{form:{},option:{labelWidth:110,column:[{label:"用户名",prop:"username",row:!0},{label:"密码",prop:"password",type:"password",row:!0},{label:"再次输入密码",prop:"password",type:"newpassword",row:!0},{label:"申请日期",prop:"date",type:"date",row:!0},{label:"个性签名",prop:"textarea",type:"textarea",minRows:8,row:!0}]}}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},5596:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrapper"},[a("div",{ref:"login",staticClass:"login-container",nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}}},[a("top-color",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]}),e._m(0),a("div",{staticClass:"login-weaper animated bounceInDown"},[a("div",{staticClass:"login-left"},[a("img",{staticClass:"img",attrs:{src:e.loginPageImg||"/img/logo.png",alt:""}})]),a("div",{staticClass:"login-border"},[a("div",{staticClass:"login-main"},[a("h4",{staticClass:"login-title"},[e._v("\n            "+e._s(e.$t("login.title"))+"\n            ")]),"user"===e.activeName?a("userLogin"):"code"===e.activeName?a("codeLogin"):"third"===e.activeName?a("thirdLogin"):e._e()],1)])])],1),a("div",{staticClass:"login-footer"},[a("licensed-footer")],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"phone-logo"},[a("img",{attrs:{src:"/img/phone-logo.png",alt:""}})])}],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("7c05"),s=a("acd4"),l=a("124f"),c=a("5880"),u=a("c54a"),d=a("c7cc"),p=a("44b2"),h=a("d322");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={name:"login",components:{userLogin:o["default"],codeLogin:s["default"],thirdLogin:l["default"],topLang:d["default"],topColor:p["default"],licensedFooter:h["default"]},data:function(){return{activeName:"user",socialForm:{}}},watch:{$route:function(){var e=this.$route.query;if(this.socialForm.state=e.state,this.socialForm.code=e.code,!Object(u["o"])(this.socialForm.state)){var t=this.$loading({lock:!0,text:"".concat("WX"===this.socialForm.state?"微信":"QQ","登录中,请稍后。。。"),spinner:"el-icon-loading"});setTimeout((function(){t.close()}),2e3)}}},computed:g({},Object(c["mapGetters"])(["website","loginPageImg"])),props:[]},b=m,v=(a("5442"),a("2877")),y=Object(v["a"])(b,n,i,!1,null,null,null);t["default"]=y.exports},"55a3":function(e,t){function a(e){return this.__data__.has(e)}e.exports=a},"55d7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"document-detail"},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[e.baseForm.name?a("el-tag",[e._v(e._s(e.baseForm.name))]):e._e(),e._v(" \n        "),a("b",[e._v(e._s(e.title))])],1),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.tabClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{staticClass:"base-con",attrs:{label:"基本信息",name:"base"}},[a("document-base",{ref:"base",attrs:{disabled:e.disabled,data:e.baseForm},on:{"update:data":function(t){e.baseForm=t},goInter:e.goInter}})],1),a("el-tab-pane",{attrs:{label:"接口信息",name:"interface",disabled:e.interTabDisabled}},[a("document-inter",{ref:"interface",attrs:{disabled:e.disabled,docJson:e.docJson,otherInfo:e.otherInfo},on:{"update:otherInfo":function(t){e.otherInfo=t},"update:other-info":function(t){e.otherInfo=t},changeOtherInfo:e.changeOtherInfo,getDefaultOhterInfo:function(t){return e.defaultOtherInfo=t}}})],1)],1),e.disabled?e._e():a("footer",[a("el-button",{attrs:{icon:"el-icon-circle-check",type:"primary",size:"small",loading:e.loading},on:{click:e.submit}},[e._v("保 存")]),a("el-button",{attrs:{icon:"el-icon-circle-close",size:"small"},on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],r=(a("8e6e"),a("6762"),a("2fdb"),a("96cf"),a("1da1")),o=(a("456d"),a("ade3")),s=(a("8615"),a("3835")),l=(a("ffc1"),a("ac6a"),a("7f7f"),a("52f7")),c=a("042a"),u=a("a9ec"),d=a("307b");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={components:{documentBase:u["default"],documentInter:c["default"]},data:function(){return{baseForm:{},loading:!1,docJson:{},openDocApis:[],otherInfo:{},defaultOtherInfo:{isShow:0,isAuth:0,isSupportDebug:0,remark:""},activeTab:"base",interTabDisabled:!0}},computed:{id:function(){return this.$route.query.id},disabled:function(){return"view"===this.$route.params.actionType},pageType:function(){return this.$route.params.actionType},title:function(){return"add"===this.pageType?"新增接口文档":"view"===this.pageType?"接口文档详情":"edit"===this.pageType?"编辑接口文档":void 0}},watch:{activeTab:function(){"interface"===this.activeTab&&this.$refs.interface.renderTree()}},methods:{tabClick:function(e){this.activeTab=e.name},goInter:function(e){this.docJson=Object(d["a"])(e),this.activeTab="interface",this.interTabDisabled=!1},renderOpenDocApis:function(){var e=[],t=this;return this.docJson&&this.docJson.paths&&Object.entries(this.docJson.paths).forEach((function(a){var n=Object(s["a"])(a,2),i=n[0],r=n[1];Object.values(r).forEach((function(a){var n=t.otherInfo[i]?t.otherInfo[i]:t.defaultOtherInfo;n.id&&delete n.id,e.push(h(h({content:JSON.stringify({curJson:h(h({},r),{},{path:i})}),module:a.tags.join(","),name:a.summary},n),{},{method:Object.entries(r)[0][0]||"",path:i}))}))})),e},renderOtherInfo:function(e){var t=this;e.forEach((function(e){if(e.content){var a=JSON.parse(e.content)||{},n=a.curJson.path;n&&(t.otherInfo[n]={},Object.keys(t.defaultOtherInfo).forEach((function(a){t.otherInfo[n][a]=e[a]})),t.otherInfo[n].id=e.id)}}))},changeOtherInfo:function(e){this.otherInfo=e},getDetail:function(){var e=this;Object(l["b"])(this.id).then((function(t){200===t.data.code?(e.baseForm=t.data.data,e.openDocApis=e.baseForm.openDocApis,e.docJson=JSON.parse(e.baseForm.content||{}),delete e.baseForm.openDocApis,e.interTabDisabled=!1,e.openDocApis&&e.renderOtherInfo(e.openDocApis||[])):e.$message({type:"error",message:t.data.msg||"获取详情 失败！"})}))},handleContent:function(){var e=this.docJson.definitions||{},t={swagger:this.docJson.swagger,info:{version:this.docJson.info.version},host:this.docJson.host,tags:this.docJson.tags,paths:this.docJson.paths,securityDefinitions:this.docJson.securityDefinitions,definitions:e};return t},handleSave:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="add"===this.pageType?l["a"]:l["h"],a=h(h({},this.baseForm),{},{content:JSON.stringify(this.handleContent()),openDocApis:this.renderOpenDocApis()||this.openDocApis}),this.loading=!0,e.next=5,t(a).then((function(e){200===e.data.code?(n.$message({type:"success",message:e.data.msg||"保存成功！"}),n.cancel()):n.$message({type:"error",message:e.data.msg||"保存失败！"})}),(function(){n.loading=!1}));case 5:this.loading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/interface/document"})},submit:function(){var e=this;this.$refs.interface.emitData(),this.$refs.base.validate().then((function(){if("add"===e.pageType&&(e.openDocApis=e.renderOpenDocApis()),e.openDocApis&&e.openDocApis.length>0)e.handleSave();else{var t="";switch(parseInt(e.baseForm.sourceType)){case 1:t="请点击 '获取' 按钮获取服务数据！";break;case 2:t="请点击 '获取' 按钮获取服务数据！";break;case 3:t="请点击 '加载' 按钮获取服务数据！";break}e.$message({type:"warning",message:t})}}))}},mounted:function(){["edit","view"].includes(this.pageType)&&this.getDetail()}},g=f,m=(a("a746"),a("d2bf"),a("2877")),b=Object(m["a"])(g,n,i,!1,null,"7ba92ec6",null);t["default"]=b.exports},"55fd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"serviceSearch",fn:function(t){return[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),a("el-dialog",{attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.dialogRules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"155px"}},[a("el-form-item",{attrs:{label:"前端服务名",prop:"service"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:""},model:{value:e.dialogForm.service,callback:function(t){e.$set(e.dialogForm,"service",t)},expression:"dialogForm.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"前端API路径",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入前端API路径",clearable:""},model:{value:e.dialogForm.path,callback:function(t){e.$set(e.dialogForm,"path",t)},expression:"dialogForm.path"}}),a("span",{staticClass:"key-tips"},[e._v("如果接口URL为http://网关IP:port/proxy/user-service/user/list, 则输入/user/list，如果不配置路径则按服务限流")])],1),a("el-form-item",{attrs:{label:"集群共享QPS",prop:"qps"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.qps*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.qps,callback:function(t){e.$set(e.dialogForm,"qps",t)},expression:"dialogForm.qps"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),a("el-form-item",{attrs:{label:"集群共享并发数",prop:"concurrent"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.concurrent*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.concurrent,callback:function(t){e.$set(e.dialogForm,"concurrent",t)},expression:"dialogForm.concurrent"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),a("el-form-item",{attrs:{label:"限流响应ContentType:",prop:"responseContentType"}},[a("el-input",{attrs:{placeholder:"请输入ContentType",clearable:""},model:{value:e.dialogForm.responseContentType,callback:function(t){e.$set(e.dialogForm,"responseContentType",t)},expression:"dialogForm.responseContentType"}}),a("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应ContentType")])],1),a("el-form-item",{attrs:{label:"限流响应报文：",prop:"responseContent"}},[a("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入响应报文",clearable:""},model:{value:e.dialogForm.responseContent,callback:function(t){e.$set(e.dialogForm,"responseContent",t)},expression:"dialogForm.responseContent"}}),a("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应报文")])],1)],1),"view"!==e.detailDialog.type?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("ade3")),o=a("b5c6"),s=a("da71");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(e,t,a){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/path/list"),method:"get",params:c(c({},a),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/path/detail/").concat(e),method:"get"})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/path/remove"),method:"post",params:{ids:e}})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/path/save"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/path/update"),method:"post",data:e})},g=a("6be7"),m=a("5880"),b=a("16cd");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={name:"flow-api",data:function(){return{form:{},search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",searchLabelWidth:95,column:[{label:"前端服务名",prop:"service",search:!0,searchslot:!0,searchSpan:8},{label:"前端API路径",prop:"path",search:!0},{label:"单机QPS",prop:"qps"},{label:"单机并发数",prop:"concurrent"}]},data:[],globalData:{},dialogForm:{},dialogRules:{service:[{required:!0,message:"必填",trigger:"change"}],path:[{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}],qps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],concurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1}}},computed:y(y({},Object(m["mapGetters"])(["permission","frontendServiceOptions"])),{},{machineCount:function(){return this.globalData.machineCount||0}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},created:function(){this.getGlobalRule(),this.getFrontendServiceOptions()},methods:y(y({},Object(m["mapActions"])(["getFrontendServiceOptions"])),{},{getGlobalRule:function(){var e=this;Object(g["a"])().then((function(t){var a=t.data.data;e.globalData=a||{}}))},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var a=Object(b["b"])(e.dialogForm);if(!a.qps&&!a.concurrent)return e.$message.error("单机QPS、单机并发数，请至少填写一个"),!1;"edit"===e.detailDialog.type?e.rowUpdate(a):e.rowSave(a)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,h(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,f(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("你确定要删除此流控规则吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var a=this;switch(this.dialogForm={},this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}["edit","view"].includes(t)?d(this.form.id).then((function(e){a.form=e.data.data,a.dialogForm=Object.assign({},e.data.data||{}),a.detailDialog.visible=!0})):this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}})},_=w,x=(a("c42a"),a("2877")),O=Object(x["a"])(_,n,i,!1,null,"0c30ecab",null);t["default"]=O.exports},5614:function(e,t,a){},"561f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("h3",[e._v("数据展示")]),a("avue-data-pay",{attrs:{option:e.option}})],1)},i=[],r={data:function(){var e=this;return{option:{span:8,data:[{title:"后台模版",src:"/img/bg/vip1.png",money:"299",dismoney:"199",tip:"/永久",color:"#808695",subtext:"购买",click:function(){e.box=!0},list:[{title:"点击体验",href:"https://cli1.avue.top",check:!0},{title:"面向全屏幕尺寸的响应式适配能力",check:!0},{title:"支持IE9+等系列浏览器",check:!0},{title:"全新的前端错误日志监控机制",check:!0},{title:"基于最新的avuex底层开发",check:!0},{title:"前端路由动态服务端加载",check:!0},{title:"灵活的多款主题自由配置",check:!0},{title:"模块的可拆卸化,达到开箱即用",check:!0},{title:"免费的私人git私服"},{title:"专属会员群"},{title:"前端最新干货分享"},{title:"赠送 Avue-cli脚手架文档（价值¥59.99）",href:"https://www.kancloud.cn/smallwei/avue"},{title:"赠送 Avue 修仙系列视频教程",href:"https://www.bilibili.com/video/av24644922",check:!0}]},{title:"Avuex源码",src:"/img/bg/vip2.png",color:"#ffa820",money:"999",dismoney:"399",tip:"/永久",subtext:"购买",click:function(){e.box=!0},list:[{title:"一键集成表格的导出excel,打印,等功能",check:!0},{title:"底层代码可重用轻松对接多个UI框架",check:!0},{title:"底层更加完善的开发错误调试机制",check:!0},{title:"一套代码多个终端自适应",check:!0},{title:"一键集成表格的导出excel，打印，等常用功能",check:!0},{title:"表格的批量操作,表单的级联操作更加便捷",check:!0},{title:"新增大量常用组件（搜索，选项卡）",check:!0},{title:"新增大量全新可配置的骚属性",check:!0},{title:"丰富的数据展示模版组件包",check:!0},{title:"专属的开发者文档，助你快速掌握",check:!0},{title:"赠送 Avue-cli脚手架文档（价值¥59.99）",href:"https://www.kancloud.cn/smallwei/avue",check:!0},{title:"赠送 Avue 修仙系列视频教程",href:"https://www.bilibili.com/video/av24644922",check:!0}]},{title:"全家桶",src:"/img/bg/vip3.png",color:"#ef4868",money:"999.99",dismoney:"399.99",tip:"/永久",subtext:"购买",click:function(){e.box=!0},list:[{title:"授权商业化开发,永久更新授权使用",check:!0},{title:"后期更新和新产品将全部免费",check:!0},{title:"拥有avuex系列的全部特权和全部源码",check:!0},{title:"免费的私人git私服",check:!0},{title:"专属会员群",check:!0},{title:"前端最新干货分享",check:!0},{title:"赠送 Avue-cli脚手架文档（价值¥59.99）",href:"https://www.kancloud.cn/smallwei/avue",check:!0},{title:"赠送 Avue 修仙系列视频教程",href:"https://www.bilibili.com/video/av24644922",check:!0}]}]}}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},"562e":function(e,t,a){var n=a("6d8b");function i(e){null!=e&&n.extend(this,e),this.otherDims={}}var r=i;e.exports=r},5693:function(e,t){function a(e,t){var a,n,i,r,o,s=t.x,l=t.y,c=t.width,u=t.height,d=t.r;c<0&&(s+=c,c=-c),u<0&&(l+=u,u=-u),"number"===typeof d?a=n=i=r=d:d instanceof Array?1===d.length?a=n=i=r=d[0]:2===d.length?(a=i=d[0],n=r=d[1]):3===d.length?(a=d[0],n=r=d[1],i=d[2]):(a=d[0],n=d[1],i=d[2],r=d[3]):a=n=i=r=0,a+n>c&&(o=a+n,a*=c/o,n*=c/o),i+r>c&&(o=i+r,i*=c/o,r*=c/o),n+i>u&&(o=n+i,n*=u/o,i*=u/o),a+r>u&&(o=a+r,a*=u/o,r*=u/o),e.moveTo(s+a,l),e.lineTo(s+c-n,l),0!==n&&e.arc(s+c-n,l+n,n,-Math.PI/2,0),e.lineTo(s+c,l+u-i),0!==i&&e.arc(s+c-i,l+u-i,i,0,Math.PI/2),e.lineTo(s+r,l+u),0!==r&&e.arc(s+r,l+u-r,r,Math.PI/2,Math.PI),e.lineTo(s,l+a),0!==a&&e.arc(s+a,l+a,a,Math.PI,1.5*Math.PI)}t.buildPath=a},"56c5":function(e,t,a){"use strict";a("2087")},5789:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("basic-container",[a("h3",[e._v("表格权限控制")]),a("avue-crud",{ref:"crud",attrs:{permission:e.permission,option:e.option,data:e.data},scopedSlots:e._u([{key:"expand",fn:function(t){return[e._v("\n        "+e._s(t)+"\n      ")]}}])})],1),a("basic-container",[e._v("\n    权限开关\n    "),a("el-switch",{attrs:{"active-value":!1,"inactive-value":!0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),a("p",[e._v(" 具体参考"),a("a",{attrs:{href:"https://avuex.avue.top/#/doc/crud-permission"}},[e._v("https://avuex.avue.top/#/doc/crud-permission")])])],1)],1)},i=[],r={data:function(){return{text:!1,permission:{},option:{expand:!0,column:[{label:"姓名",prop:"name"},{label:"年龄",prop:"sex"}]},data:[{id:1,name:"张三",sex:12},{id:2,name:"李四",sex:20}]}},watch:{text:function(){!0===this.text?this.permission={delBtn:!1,addBtn:!1}:this.permission={delBtn:!0,addBtn:!0}}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},"57a5":function(e,t,a){var n=a("91e9"),i=n(Object.keys,Object);e.exports=i},"588e":function(e,t,a){"use strict";a("62d6")},"588ee":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[e.permissionList.previewBtn?a("el-button",{attrs:{icon:"el-icon-view",size:"small",type:"text"},on:{click:function(t){return e.handlePreview(n)}}},[e._v("预览")]):e._e(),e.permissionList.historyBtn?a("el-button",{attrs:{icon:"el-icon-bank-card",size:"small",type:"text"},on:{click:function(t){return e.handleHistory(n.id)}}},[e._v("历史版本")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("6762"),a("2fdb"),a("ade3")),o=a("5880"),s=a("16cd"),l=a("52f7");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"document",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,editBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,menuWidth:360,column:[{label:"服务名称",prop:"name",search:!0},{label:"描述",prop:"description",search:!0},{label:"版本",prop:"version",search:!1}]},data:[]}},computed:u(u({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.interface_document_add,!1),editBtn:this.vaildData(this.permission.interface_document_edit,!1),delBtn:this.vaildData(this.permission.interface_document_remove,!1),viewBtn:this.vaildData(this.permission.interface_document_view,!1),previewBtn:this.vaildData(this.permission.interface_document_preview,!1),historyBtn:this.vaildData(this.permission.interface_document_history,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{handleSubmitData:function(e){return e=Object(s["b"])(e),e},rowDel:function(e){var t=this;this.$confirm("你确定要删除此接口文档吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["g"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){["add","edit","view"].includes(t)&&this.$router.push({path:"/interface/document/".concat(t),query:{id:this.form.id}}),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(l["e"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},handleHistory:function(e){this.$router.push({path:"/interface/document/history",query:{id:e}})},handlePreview:function(e){this.$router.push({path:"/interface/interface/preview",query:{id:e.id,documentName:e.name,type:"real",pageType:"interface"}})}}},p=d,h=a("2877"),f=Object(h["a"])(p,n,i,!1,null,"4326bcce",null);t["default"]=f.exports},"58a2":function(e,t,a){},"58df":function(e,t,a){var n=a("6d8b"),i=a("2306");function r(e,t,a,r){var o=a.axis;if(!o.scale.isBlank()){var s=a.getModel("splitArea"),l=s.getModel("areaStyle"),c=l.get("color"),u=r.coordinateSystem.getRect(),d=o.getTicksCoords({tickModel:s,clamp:!0});if(d.length){var p=c.length,h=e.__splitAreaColors,f=n.createHashMap(),g=0;if(h)for(var m=0;m<d.length;m++){var b=h.get(d[m].tickValue);if(null!=b){g=(b+(p-1)*m)%p;break}}var v=o.toGlobalCoord(d[0].coord),y=l.getAreaStyle();c=n.isArray(c)?c:[c];for(m=1;m<d.length;m++){var w,_,x,O,D=o.toGlobalCoord(d[m].coord);o.isHorizontal()?(w=v,_=u.y,x=D-w,O=u.height,v=w+x):(w=u.x,_=v,x=u.width,O=D-_,v=_+O);var C=d[m-1].tickValue;null!=C&&f.set(C,g),t.add(new i.Rect({anid:null!=C?"area_"+C:null,shape:{x:w,y:_,width:x,height:O},style:n.defaults({fill:c[g]},y),silent:!0})),g=(g+1)%p}e.__splitAreaColors=f}}}function o(e){e.__splitAreaColors=null}t.rectCoordAxisBuildSplitArea=r,t.rectCoordAxisHandleRemove=o},"59df":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"查看配对码","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"600px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:10,disabled:""},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),a("input",{ref:"input",staticClass:"hidden-input"}),e.disabled?e._e():a("footer",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleCopy}},[e._v("\n      复制配对码\n    ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.renderCode}},[e._v("\n      重新生成\n    ")])],1)],1)},i=[],r=(a("c5f6"),a("2f32")),o={name:"matchCodeDialog",data:function(){return{code:""}},props:{visible:{type:Boolean,default:!1},id:{type:String|Number}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}}},methods:{handleCopy:function(){this.$refs.input.value=this.code,this.$refs.input.select(),document.execCommand("copy"),this.$message({message:"配对码已复制到粘贴板！",type:"success"})},getDetail:function(){var e=this;this.id&&Object(r["d"])(this.id).then((function(t){200===t.data.code?e.code=t.data.data.pairCode:e.$message({type:"error",message:t.data.msg||"配对码查询失败！"})}))},renderCode:function(){var e=this;this.$confirm("重新生成配对码后旧的配对码失效（已配对的请求将在新配对码配对成功后失败），确认重新生成？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["e"])({id:e.id,pairCode:e.code}).then((function(t){200===t.data.code?(e.$message.success("配对码已重新生成"),e.getDetail(),e.$emit("doSearch")):e.$message({type:"error",message:t.data.msg||"配对码查询失败！"})}))}))}},mounted:function(){this.getDetail()}},s=o,l=(a("fcd9"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"f3ed6558",null);t["default"]=c.exports},"59ee":function(e,t,a){"use strict";a("50eb")},"5a57":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"api-state-tag"},[a("el-badge",{attrs:{value:1===e.isModified?"改":""}},[0==e.currentState?a("el-tag",{attrs:{size:"small"}},[e._v("未发布")]):1==e.currentState?a("el-tag",{attrs:{size:"small",type:"success"}},[e._v("已发布")]):2==e.currentState?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v("已下线")]):e._e()],1),a("div",{staticClass:"color-warning"},[e._v(e._s(e.getApprovalStateName(e.approvalState)))])],1)},i=[],r=(a("7514"),a("c5f6"),a("f874")),o={name:"api-state-tag",props:{currentState:{required:!0,type:[String,Number]},approvalState:{required:!0,type:[String,Number]},isModified:{type:[String,Number]}},methods:{getApprovalStateName:function(e){if([0,5,6,7].some((function(t){return t===e})))return"";var t=r["b"].find((function(t){return parseInt(t.value)===e}));return t&&t.label||""}}},s=o,l=(a("a8eb"),a("795c"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"4014e4cc",null);t["default"]=c.exports},"5aa9":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=i.isObject,o=i.each,s=i.map,l=i.indexOf,c=(i.retrieve,a("f934")),u=c.getLayoutRect,d=a("697e"),p=d.createScaleByModel,h=d.ifAxisCrossZero,f=d.niceScaleExtent,g=d.estimateLabelUnionRect,m=a("cbe9"),b=a("ec02"),v=a("2039"),y=a("ee1a"),w=y.getStackedDimension;function _(e,t,a){return e.getCoordSysModel()===t}function x(e,t,a){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,a),this.model=e}a("8ed2");var O=x.prototype;function D(e,t,a,n){a.getAxesOnZeroOf=function(){return i?[i]:[]};var i,r=e[t],o=a.model,s=o.get("axisLine.onZero"),l=o.get("axisLine.onZeroAxisIndex");if(s){if(null!=l)C(r[l])&&(i=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&C(r[c])&&!n[u(r[c])]){i=r[c];break}i&&(n[u(i)]=!0)}function u(e){return e.dim+"_"+e.index}}function C(e){return e&&"category"!==e.type&&"time"!==e.type&&h(e)}function k(e,t){var a=e.getExtent(),n=a[0]+a[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return n-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return n-e+t}}O.type="grid",O.axisPointerEnabled=!0,O.getRect=function(){return this._rect},O.update=function(e,t){var a=this._axesMap;this._updateScale(e,this.model),o(a.x,(function(e){f(e.scale,e.model)})),o(a.y,(function(e){f(e.scale,e.model)}));var n={};o(a.x,(function(e){D(a,"y",e,n)})),o(a.y,(function(e){D(a,"x",e,n)})),this.resize(this.model,t)},O.resize=function(e,t,a){var n=u(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=n;var i=this._axesList;function r(){o(i,(function(e){var t=e.isHorizontal(),a=t?[0,n.width]:[0,n.height],i=e.inverse?1:0;e.setExtent(a[i],a[1-i]),k(e,t?n.x:n.y)}))}r(),!a&&e.get("containLabel")&&(o(i,(function(e){if(!e.model.get("axisLabel.inside")){var t=g(e);if(t){var a=e.isHorizontal()?"height":"width",i=e.model.get("axisLabel.margin");n[a]-=t[a]+i,"top"===e.position?n.y+=t.height+i:"left"===e.position&&(n.x+=t.width+i)}}})),r())},O.getAxis=function(e,t){var a=this._axesMap[e];if(null!=a){if(null==t)for(var n in a)if(a.hasOwnProperty(n))return a[n];return a[t]}},O.getAxes=function(){return this._axesList.slice()},O.getCartesian=function(e,t){if(null!=e&&null!=t){var a="x"+e+"y"+t;return this._coordsMap[a]}r(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===e||i[n].getAxis("y").index===t)return i[n]},O.getCartesians=function(){return this._coordsList.slice()},O.convertToPixel=function(e,t,a){var n=this._findConvertTarget(e,t);return n.cartesian?n.cartesian.dataToPoint(a):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(a)):null},O.convertFromPixel=function(e,t,a){var n=this._findConvertTarget(e,t);return n.cartesian?n.cartesian.pointToData(a):n.axis?n.axis.coordToData(n.axis.toLocalCoord(a)):null},O._findConvertTarget=function(e,t){var a,n,i=t.seriesModel,r=t.xAxisModel||i&&i.getReferringComponents("xAxis")[0],o=t.yAxisModel||i&&i.getReferringComponents("yAxis")[0],s=t.gridModel,c=this._coordsList;if(i)a=i.coordinateSystem,l(c,a)<0&&(a=null);else if(r&&o)a=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)n=this.getAxis("x",r.componentIndex);else if(o)n=this.getAxis("y",o.componentIndex);else if(s){var u=s.coordinateSystem;u===this&&(a=this._coordsList[0])}return{cartesian:a,axis:n}},O.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},O._initCartesian=function(e,t,a){var n={left:!1,right:!1,top:!1,bottom:!1},i={x:{},y:{}},r={x:0,y:0};if(t.eachComponent("xAxis",s("x"),this),t.eachComponent("yAxis",s("y"),this),!r.x||!r.y)return this._axesMap={},void(this._axesList=[]);function s(a){return function(o,s){if(_(o,e,t)){var l=o.get("position");"x"===a?"top"!==l&&"bottom"!==l&&(l=n.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=n.left?"right":"left"),n[l]=!0;var c=new b(a,p(o),[0,0],o.get("type"),l),u="category"===c.type;c.onBand=u&&o.get("boundaryGap"),c.inverse=o.get("inverse"),o.axis=c,c.model=o,c.grid=this,c.index=s,this._axesList.push(c),i[a][s]=c,r[a]++}}}this._axesMap=i,o(i.x,(function(t,a){o(i.y,(function(n,i){var r="x"+a+"y"+i,o=new m(r);o.grid=this,o.model=e,this._coordsMap[r]=o,this._coordsList.push(o),o.addAxis(t),o.addAxis(n)}),this)}),this)},O._updateScale=function(e,t){function a(e,t,a){o(e.mapDimension(t.dim,!0),(function(a){t.scale.unionExtentFromData(e,w(e,a))}))}o(this._axesList,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeries((function(n){if(P(n)){var i=j(n,e),r=i[0],o=i[1];if(!_(r,t,e)||!_(o,t,e))return;var s=this.getCartesian(r.componentIndex,o.componentIndex),l=n.getData(),c=s.getAxis("x"),u=s.getAxis("y");"list"===l.type&&(a(l,c,n),a(l,u,n))}}),this)},O.getTooltipAxes=function(e){var t=[],a=[];return o(this.getCartesians(),(function(n){var i=null!=e&&"auto"!==e?n.getAxis(e):n.getBaseAxis(),r=n.getOtherAxis(i);l(t,i)<0&&t.push(i),l(a,r)<0&&a.push(r)})),{baseAxes:t,otherAxes:a}};var S=["xAxis","yAxis"];function j(e,t){return s(S,(function(t){var a=e.getReferringComponents(t)[0];return a}))}function P(e){return"cartesian2d"===e.get("coordinateSystem")}x.create=function(e,t){var a=[];return e.eachComponent("grid",(function(n,i){var r=new x(n,e,t);r.name="grid_"+i,r.resize(n,t,!0),n.coordinateSystem=r,a.push(r)})),e.eachSeries((function(t){if(P(t)){var a=j(t,e),n=a[0],i=a[1],r=n.getCoordSysModel(),o=r.coordinateSystem;t.coordinateSystem=o.getCartesian(n.componentIndex,i.componentIndex)}})),a},x.dimensions=x.prototype.dimensions=m.prototype.dimensions,v.register("cartesian2d",x);var T=x;e.exports=T},"5ad20":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("h3",[e._v("标签")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.push("/test/index")}}},[e._v("打开一个页面\n  ")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.$avueRouter.closeTag("/test/index")}}},[e._v("关闭打开的页面\n  ")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.$avueRouter.closeTag()}}},[e._v("关闭本标签\n  ")])],1)},i=[],r={methods:{}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},"5b01":function(e,t,a){var n=a("8eeb"),i=a("ec69");function r(e,t){return e&&n(t,i(t),e)}e.exports=r},"5b71":function(e,t,a){},"5c4b":function(e,t,a){},"5c69":function(e,t,a){var n=a("087d"),i=a("0621");function r(e,t,a,o,s){var l=-1,c=e.length;a||(a=i),s||(s=[]);while(++l<c){var u=e[l];t>0&&a(u)?t>1?r(u,t-1,a,o,s):n(s,u):o||(s[s.length]=u)}return s}e.exports=r},"5cf2":function(e,t,a){},"5d17":function(e,t,a){"use strict";a("c2ee")},"5d89":function(e,t,a){var n=a("f8af");function i(e,t){var a=t?n(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}e.exports=i},"5d8a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen,"before-close":e.beforeClose},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"tree-load":e.treeLoad},scopedSlots:e._u([{key:"menu",fn:function(t){return[e.userInfo.role_name.includes("admin")?a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(a){return a.stopPropagation(),e.handleAdd(t.row,t.index)}}},[e._v("新增子项\n      ")]):e._e()]}},{key:"source",fn:function(e){var t=e.row;return[a("div",{staticStyle:{"text-align":"center"}},[a("i",{class:t.source})])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permission.menu_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("a6dc"),s=a("5880"),l=a("2457"),c=a("d9a3");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,selectionList:[],parentId:0,page:{pageSize:10,currentPage:1,total:0},option:{lazy:!0,tip:!1,simplePage:!0,searchShow:!0,searchMenuSpan:6,dialogWidth:"60%",tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:300,dialogClickModal:!1,column:[{label:"菜单名称",prop:"name",search:!0,rules:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},{label:"路由地址",prop:"path",rules:[{required:!0,message:"请输入路由地址",trigger:"blur"}]},{label:"上级菜单",prop:"parentId",type:"tree",dicData:[],hide:!0,props:{label:"title"},rules:[{required:!1,message:"请选择上级菜单",trigger:"click"}]},{label:"菜单图标",prop:"source",type:"icon",slot:!0,iconList:l["a"],rules:[{required:!0,message:"请输入菜单图标",trigger:"click"}]},{label:"菜单编号",prop:"code",search:!0,rules:[{required:!0,message:"请输入菜单编号",trigger:"blur"}]},{label:"菜单类型",prop:"category",type:"radio",dicData:[{label:"菜单",value:1},{label:"按钮",value:2}],hide:!0,rules:[{required:!0,message:"请选择菜单类型",trigger:"blur"}]},{label:"菜单别名",prop:"alias",search:!0,rules:[{required:!0,message:"请输入菜单别名",trigger:"blur"}]},{label:"菜单排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入菜单排序",trigger:"blur"}]},{label:"菜单备注",prop:"remark",type:"textarea",span:24,minRows:2,hide:!0}]},data:[]}},watch:{"form.category":function(){var e=c["a"].toInt(this.form.category);this.$refs.crud.option.column.filter((function(t){"path"===t.prop&&(t.rules[0].required=1===e)}))}},computed:d(d({},Object(s["mapGetters"])(["userInfo","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.menu_add,!1),viewBtn:this.vaildData(this.permission.menu_view,!1),delBtn:this.vaildData(this.permission.menu_delete,!1),editBtn:this.vaildData(this.permission.menu_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{initData:function(){var e=this;Object(o["e"])().then((function(t){var a=e.findObject(e.option.column,"parentId");a.dicData=t.data.data}))},handleAdd:function(e){this.form={parentId:e.id};var t=this.findObject(this.option.column,"parentId");t.addDisabled=!0,this.$refs.crud.rowAdd()},rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(a){n.onLoad(n.page);var i=a.data.data;e.id=i.id,n.$message({type:"success",message:"操作成功!"}),t(e)}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["i"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a(e)}),(function(e){window.console.log(e),n()}))},rowDel:function(e,t,a){var n=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),a(e)}))},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.data=[],e.parentId=0,e.$refs.crud.refreshTable(),e.$refs.crud.toggleSelection(),e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"})})):this.$message.warning("请选择至少一条数据")},searchReset:function(){this.query={},this.parentId=0,this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.parentId="",this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},beforeOpen:function(e,t){var a=this;["add","edit"].includes(t)&&this.initData(),["edit","view"].includes(t)&&Object(o["d"])(this.form.id).then((function(e){a.form=e.data.data})),e()},beforeClose:function(e){this.form={};var t=this.findObject(this.option.column,"parentId");t.addDisabled=!1,e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(this.parentId,Object.assign(a,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))},treeLoad:function(e,t,a){var n=e.id;Object(o["b"])(n).then((function(e){a(e.data.data)}))}}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,null,null);t["default"]=g.exports},"5e2e":function(e,t,a){var n=a("28c9"),i=a("69d5"),r=a("b4c0"),o=a("fba5"),s=a("67ca");function l(e){var t=-1,a=null==e?0:e.length;this.clear();while(++t<a){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype["delete"]=i,l.prototype.get=r,l.prototype.has=o,l.prototype.set=s,e.exports=l},"5e68":function(e,t,a){var n=a("6d8b"),i=a("2cf4"),r=i.devicePixelRatio,o=a("2b61"),s=a("dc2f");function l(){return!1}function c(e,t,a){var i=n.createCanvas(),r=t.getWidth(),o=t.getHeight(),s=i.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=r+"px",s.height=o+"px",i.setAttribute("data-zr-dom-id",e)),i.width=r*a,i.height=o*a,i}var u=function(e,t,a){var i;a=a||r,"string"===typeof e?i=c(e,t,a):n.isObject(e)&&(i=e,e=i.id),this.id=e,this.dom=i;var o=i.style;o&&(i.onselectstart=l,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o["padding"]=0,o["margin"]=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=a};u.prototype={constructor:u,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=c("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},resize:function(e,t){var a=this.dpr,n=this.dom,i=n.style,r=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),n.width=e*a,n.height=t*a,r&&(r.width=e*a,r.height=t*a,1!==a&&this.ctxBack.scale(a,a))},clear:function(e,t){var a,n=this.dom,i=this.ctx,r=n.width,l=n.height,c=(t=t||this.clearColor,this.motionBlur&&!e),u=this.lastFrameAlpha,d=this.dpr;(c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,r/d,l/d)),i.clearRect(0,0,r,l),t&&"transparent"!==t)&&(t.colorStops?(a=t.__canvasGradient||o.getGradient(i,t,{x:0,y:0,width:r,height:l}),t.__canvasGradient=a):t.image&&(a=s.prototype.getCanvasPattern.call(t,i)),i.save(),i.fillStyle=a||t,i.fillRect(0,0,r,l),i.restore());if(c){var p=this.domBack;i.save(),i.globalAlpha=u,i.drawImage(p,0,0,r,l),i.restore()}}};var d=u;e.exports=d},"5e76":function(e,t,a){var n=a("d51b"),i=new n(50);function r(e){if("string"===typeof e){var t=i.get(e);return t&&t.image}return e}function o(e,t,a,n,r){if(e){if("string"===typeof e){if(t&&t.__zrImageSrc===e||!a)return t;var o=i.get(e),c={hostEl:a,cb:n,cbPayload:r};return o?(t=o.image,!l(t)&&o.pending.push(c)):(t=new Image,t.onload=t.onerror=s,i.put(e,t.__cachedImgObj={image:t,pending:[c]}),t.src=t.__zrImageSrc=e),t}return e}return t}function s(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var a=e.pending[t],n=a.cb;n&&n(this,a.cbPayload),a.hostEl.dirty()}e.pending.length=0}function l(e){return e&&e.width&&e.height}t.findExistImage=r,t.createOrUpdateImage=o,t.isImageReady=l},"5e9f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"requests-con"},[a("add-component",{staticClass:"add-component-con",attrs:{data:e.components,disabled:e.disabled},on:{"update:data":function(t){e.components=t}}}),a("div",{staticClass:"add-request-btn"},[e.disabled?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addTab()}}},[e._v("\n      添加请求\n    ")])],1),a("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.requestList.length>0,expression:"requestList.length > 0"}],staticClass:"tabs-con",attrs:{"tab-position":"left"},on:{"tab-remove":e.removeTab},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.requestList,(function(t){return a("el-tab-pane",{key:t.name,attrs:{name:t.name,label:t.name,closable:e.requestList&&!e.disabled}},[a("request-item",e._b({ref:"requestItem",refInFor:!0,attrs:{data:t,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(e){t=e}}},"request-item",e.$attrs,!1))],1)})),1)],1)},i=[],r=(a("20d6"),a("5df3"),a("ac6a"),a("28a5"),a("c5f6"),a("7f7f"),a("fd89")),o=a("c983"),s="request",l={name:"step-requests",data:function(){return{currentTab:"",requestList:[],maxIndex:0,components:[]}},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{requests:[],components:[]}}},disabled:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{requestItem:r["default"],addComponent:o["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(){var e=this,t=this.data||{},a=t.requests,n=t.components;this.components=n||[],a&&0!==a.length||0!==this.requestList.length?a&&a.length>0&&(this.requestList=a,this.currentTab=this.requestList.filter((function(t){return t.name===e.currentTab})).length>0?this.currentTab:this.requestList[0].name,this.maxIndex=Number(a[a.length-1].name.split(s)[1])||0):this.maxIndex=0}}},methods:{validate:function(e){if(this.emitData(),this.requestList&&this.requestList.length>0){var t=[];this.$refs.requestItem.forEach((function(e){t.push(e.validate())})),Promise.all(t).then((function(){e(!0)})).catch((function(){e(!1)}))}else e(!0)},emitData:function(){this.$emit("update:data",{requests:this.requestList,components:this.components})},addTab:function(){this.currentTab="".concat(s).concat(++this.maxIndex),this.requestList.push({name:this.currentTab,type:"REQUEST",fallback:{},condition:{},dataMapping:{request:{contentType:"application/json"},response:{contentType:"auto"}},conditionFlag:!1})},removeTab:function(e){var t=this;this.$confirm("确定删除请求".concat(e,"?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=t.requestList.findIndex((function(t){return t.name==e}));a>-1&&(t.requestList.splice(a,1),t.requestList.length>0&&t.currentTab===e?t.currentTab=t.requestList[t.requestList.length-1].name:0===t.requestList.length&&(t.currentTab="".concat(s).concat(t.maxIndex+1)))}))}}},c=l,u=(a("069e"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"5f880930",null);t["default"]=d.exports},"5f14":function(e,t,a){var n=a("6d8b"),i=a("41ef"),r=a("3842"),o=r.linearMap,s=n.each,l=n.isObject,c=-1,u=function(e){var t=e.mappingMethod,a=e.type,i=this.option=n.clone(e);this.type=a,this.mappingMethod=t,this._normalizeData=O[t];var r=d[a];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[t],"piecewise"===t?(f(i),p(i)):"category"===t?i.categories?h(i):f(i,!0):(n.assert("linear"!==t||i.dataExtent),f(i))};u.prototype={constructor:u,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return n.bind(this._normalizeData,this)}};var d=u.visualHandlers={color:{applyVisual:b("color"),getColorMapper:function(){var e=this.option;return n.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),v.call(this,e)}:function(t,a,n){var r=!!n;return!a&&(t=this._normalizeData(t)),n=i.fastLerp(t,e.parsedVisual,n),r?n:i.stringify(n,"rgba")},this)},_doMap:{linear:function(e){return i.stringify(i.fastLerp(e,this.option.parsedVisual),"rgba")},category:v,piecewise:function(e,t){var a=_.call(this,t);return null==a&&(a=i.stringify(i.fastLerp(e,this.option.parsedVisual),"rgba")),a},fixed:y}},colorHue:g((function(e,t){return i.modifyHSL(e,t)})),colorSaturation:g((function(e,t){return i.modifyHSL(e,null,t)})),colorLightness:g((function(e,t){return i.modifyHSL(e,null,null,t)})),colorAlpha:g((function(e,t){return i.modifyAlpha(e,t)})),opacity:{applyVisual:b("opacity"),_doMap:w([0,1])},liftZ:{applyVisual:b("liftZ"),_doMap:{linear:y,category:y,piecewise:y,fixed:y}},symbol:{applyVisual:function(e,t,a){var i=this.mapValueToVisual(e);if(n.isString(i))a("symbol",i);else if(l(i))for(var r in i)i.hasOwnProperty(r)&&a(r,i[r])},_doMap:{linear:m,category:v,piecewise:function(e,t){var a=_.call(this,t);return null==a&&(a=m.call(this,e)),a},fixed:y}},symbolSize:{applyVisual:b("symbolSize"),_doMap:w([0,1])}};function p(e){var t=e.pieceList;e.hasSpecialVisual=!1,n.each(t,(function(t,a){t.originIndex=a,null!=t.visual&&(e.hasSpecialVisual=!0)}))}function h(e){var t=e.categories,a=e.visual,i=e.categoryMap={};if(s(t,(function(e,t){i[e]=t})),!n.isArray(a)){var r=[];n.isObject(a)?s(a,(function(e,t){var a=i[t];r[null!=a?a:c]=e})):r[c]=a,a=x(e,r)}for(var o=t.length-1;o>=0;o--)null==a[o]&&(delete i[t[o]],t.pop())}function f(e,t){var a=e.visual,i=[];n.isObject(a)?s(a,(function(e){i.push(e)})):null!=a&&i.push(a);var r={color:1,symbol:1};t||1!==i.length||r.hasOwnProperty(e.type)||(i[1]=i[0]),x(e,i)}function g(e){return{applyVisual:function(t,a,n){t=this.mapValueToVisual(t),n("color",e(a("color"),t))},_doMap:w([0,1])}}function m(e){var t=this.option.visual;return t[Math.round(o(e,[0,1],[0,t.length-1],!0))]||{}}function b(e){return function(t,a,n){n(e,this.mapValueToVisual(t))}}function v(e){var t=this.option.visual;return t[this.option.loop&&e!==c?e%t.length:e]}function y(){return this.option.visual[0]}function w(e){return{linear:function(t){return o(t,e,this.option.visual,!0)},category:v,piecewise:function(t,a){var n=_.call(this,a);return null==n&&(n=o(t,e,this.option.visual,!0)),n},fixed:y}}function _(e){var t=this.option,a=t.pieceList;if(t.hasSpecialVisual){var n=u.findPieceIndex(e,a),i=a[n];if(i&&i.visual)return i.visual[this.type]}}function x(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=n.map(t,(function(e){return i.parse(e)}))),t}var O={linear:function(e){return o(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,a=u.findPieceIndex(e,t,!0);if(null!=a)return o(a,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?c:t},fixed:n.noop};function D(e,t,a){return e?t<=a:t<a}u.listVisualTypes=function(){var e=[];return n.each(d,(function(t,a){e.push(a)})),e},u.addVisualHandler=function(e,t){d[e]=t},u.isValidType=function(e){return d.hasOwnProperty(e)},u.eachVisual=function(e,t,a){n.isObject(e)?n.each(e,t,a):t.call(a,e)},u.mapVisual=function(e,t,a){var i,r=n.isArray(e)?[]:n.isObject(e)?{}:(i=!0,null);return u.eachVisual(e,(function(e,n){var o=t.call(a,e,n);i?r=o:r[n]=o})),r},u.retrieveVisuals=function(e){var t,a={};return e&&s(d,(function(n,i){e.hasOwnProperty(i)&&(a[i]=e[i],t=!0)})),t?a:null},u.prepareVisualTypes=function(e){if(l(e)){var t=[];s(e,(function(e,a){t.push(a)})),e=t}else{if(!n.isArray(e))return[];e=e.slice()}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},u.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},u.findPieceIndex=function(e,t,a){for(var n,i=1/0,r=0,o=t.length;r<o;r++){var s=t[r].value;if(null!=s){if(s===e||"string"===typeof s&&s===e+"")return r;a&&d(s,r)}}for(r=0,o=t.length;r<o;r++){var l=t[r],c=l.interval,u=l.close;if(c){if(c[0]===-1/0){if(D(u[1],e,c[1]))return r}else if(c[1]===1/0){if(D(u[0],c[0],e))return r}else if(D(u[0],c[0],e)&&D(u[1],e,c[1]))return r;a&&d(c[0],r),a&&d(c[1],r)}}if(a)return e===1/0?t.length-1:e===-1/0?0:n;function d(t,a){var r=Math.abs(t-e);r<i&&(i=r,n=a)}};var C=u;e.exports=C},6044:function(e,t,a){var n=a("0b07"),i=n(Object,"create");e.exports=i},"607d":function(e,t,a){var n=a("1fab");t.Dispatcher=n;var i=a("22d1"),r=a("65ed"),o=r.isCanvasEl,s=r.transformCoordWithViewport,l="undefined"!==typeof window&&!!window.addEventListener,c=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,u=[];function d(e,t,a,n){return a=a||{},n||!i.canvasSupported?p(e,t,a):i.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(a.zrX=t.layerX,a.zrY=t.layerY):null!=t.offsetX?(a.zrX=t.offsetX,a.zrY=t.offsetY):p(e,t,a),a}function p(e,t,a){if(i.domSupported&&e.getBoundingClientRect){var n=t.clientX,r=t.clientY;if(o(e)){var l=e.getBoundingClientRect();return a.zrX=n-l.left,void(a.zrY=r-l.top)}if(s(u,e,n,r))return a.zrX=u[0],void(a.zrY=u[1])}a.zrX=a.zrY=0}function h(e){return e||window.event}function f(e,t,a){if(t=h(t),null!=t.zrX)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var r="touchend"!==n?t.targetTouches[0]:t.changedTouches[0];r&&d(e,r,t,a)}else d(e,t,t,a),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var o=t.button;return null==t.which&&void 0!==o&&c.test(t.type)&&(t.which=1&o?1:2&o?3:4&o?2:0),t}function g(e,t,a,n){l?e.addEventListener(t,a,n):e.attachEvent("on"+t,a)}function m(e,t,a,n){l?e.removeEventListener(t,a,n):e.detachEvent("on"+t,a)}var b=l?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function v(e){return 2===e.which||3===e.which}function y(e){return e.which>1}t.clientToLocal=d,t.getNativeEvent=h,t.normalizeEvent=f,t.addEventListener=g,t.removeEventListener=m,t.stop=b,t.isMiddleOrRightButtonOnMouseUpDown=v,t.notLeftMouse=y},6093:function(e,t,a){"use strict";a("cb79")},"60dc":function(e,t,a){},"60e3":function(e,t,a){var n=a("6d8b"),i={get:function(e,t,a){var i=n.clone((r[e]||{})[t]);return a&&n.isArray(i)?i[i.length-1]:i}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},o=i;e.exports=o},"60e9":function(e,t,a){"use strict";a("8352")},"60ed":function(e,t,a){var n=a("3729"),i=a("2dcb"),r=a("1310"),o="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object);function p(e){if(!r(e)||n(e)!=o)return!1;var t=i(e);if(null===t)return!0;var a=u.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&c.call(a)==d}e.exports=p},"60f8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permission.role_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e(),e.userInfo.role_name.includes("admin")?a("el-button",{attrs:{size:"small",icon:"el-icon-setting",plain:""},on:{click:e.handleRole}},[e._v("权限设置\n      ")]):e._e()],1)],2),a("el-dialog",{attrs:{title:"角色权限配置","append-to-body":"",visible:e.box,width:"345px"},on:{"update:visible":function(t){e.box=t}}},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"菜单权限"}},[a("el-tree",{ref:"treeMenu",attrs:{data:e.menuGrantList,"show-checkbox":"","node-key":"id","default-checked-keys":e.menuTreeObj,props:e.props}})],1),a("el-tab-pane",{attrs:{label:"数据权限"}},[a("el-tree",{ref:"treeDataScope",attrs:{data:e.dataScopeGrantList,"show-checkbox":"","node-key":"id","default-checked-keys":e.dataScopeTreeObj,props:e.props}})],1),a("el-tab-pane",{attrs:{label:"接口权限"}},[a("el-tree",{ref:"treeApiScope",attrs:{data:e.apiScopeGrantList,"show-checkbox":"","node-key":"id","default-checked-keys":e.apiScopeTreeObj,props:e.props}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.box=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("3528"),s=a("5880"),l=a("1ca4"),c=a("da71");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={data:function(){return{form:{},box:!1,props:{label:"title",value:"key"},menuGrantList:[],dataScopeGrantList:[],apiScopeGrantList:[],apiGrantList:[],menuTreeObj:[],dataScopeTreeObj:[],apiScopeTreeObj:[],selectionList:[],query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,simplePage:!0,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,dialogWidth:900,dialogClickModal:!1,column:[{label:"角色名称",prop:"roleName",search:!0,span:24,rules:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},{label:"所属租户",prop:"tenantId",type:"tree",dicUrl:"".concat(c["a"],"/blade-system/tenant/select"),addDisplay:!1,editDisplay:!1,viewDisplay:l["a"].tenantMode,span:24,props:{label:"tenantName",value:"tenantId"},hide:!l["a"].tenantMode,search:l["a"].tenantMode,rules:[{required:!0,message:"请输入所属租户",trigger:"click"}]},{label:"角色别名",prop:"roleAlias",search:!0,span:24,rules:[{required:!0,message:"请输入角色别名",trigger:"blur"}]},{label:"上级角色",prop:"parentId",dicData:[],type:"tree",hide:!0,span:24,props:{label:"title"},rules:[{required:!1,message:"请选择上级角色",trigger:"click"}]},{label:"角色排序",prop:"sort",type:"number",span:24,rules:[{required:!0,message:"请输入角色排序",trigger:"blur"}]}]},data:[]}},computed:d(d({},Object(s["mapGetters"])(["userInfo","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.role_add,!1),viewBtn:this.vaildData(this.permission.role_view,!1),delBtn:this.vaildData(this.permission.role_delete,!1),editBtn:this.vaildData(this.permission.role_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},idsArray:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e}}),methods:{initData:function(){var e=this;Object(o["d"])().then((function(t){var a=e.findObject(e.option.column,"parentId");a.dicData=t.data.data}))},submit:function(){var e=this,t=this.$refs.treeMenu.getCheckedKeys(),a=this.$refs.treeDataScope.getCheckedKeys(),n=this.$refs.treeApiScope.getCheckedKeys();Object(o["e"])(this.idsArray,t,a,n).then((function(){e.box=!1,e.$message({type:"success",message:"操作成功!"}),e.onLoad(e.page)}))},rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["h"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},beforeOpen:function(e,t){["add","edit"].includes(t)&&this.initData(),e()},handleRole:function(){var e=this;1===this.selectionList.length?(this.menuTreeObj=[],this.dataScopeTreeObj=[],this.apiScopeTreeObj=[],Object(o["f"])().then((function(t){e.menuGrantList=t.data.data.menu,e.dataScopeGrantList=t.data.data.dataScope,e.apiScopeGrantList=t.data.data.apiScope,Object(o["c"])(e.ids).then((function(t){e.menuTreeObj=t.data.data.menu,e.dataScopeTreeObj=t.data.data.dataScope,e.apiScopeTreeObj=t.data.data.apiScope,e.box=!0}))}))):this.$message.warning("只能选择一条数据")},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))}}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,null,null);t["default"]=g.exports},"611b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-page"},[a("div",{staticClass:"img",staticStyle:{"background-image":"url('/img/bg/500.svg')"}}),a("div",{staticClass:"content"},[a("h1",[e._v("500")]),a("div",{staticClass:"desc"},[e._v("抱歉，服务器出错了")]),a("div",{staticClass:"actions"},[a("router-link",{attrs:{to:{path:"/"}}},[a("el-button",{attrs:{type:"primary"}},[e._v("返回首页")])],1)],1)])])},i=[],r={name:"error-500"},o=r,s=(a("a0ad"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"55c86129",null);t["default"]=l.exports},6179:function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=a("4319"),o=a("80f0"),s=a("ec6f"),l=a("2b17"),c=l.defaultDimValueGetters,u=l.DefaultDataProvider,d=a("2f45"),p=d.summarizeDimensions,h=a("562e"),f=i.isObject,g="undefined",m=-1,b="e\0\0",v={float:typeof Float64Array===g?Array:Float64Array,int:typeof Int32Array===g?Array:Int32Array,ordinal:Array,number:Array,time:Array},y=typeof Uint32Array===g?Array:Uint32Array,w=typeof Int32Array===g?Array:Int32Array,_=typeof Uint16Array===g?Array:Uint16Array;function x(e){return e._rawCount>65535?y:_}function O(e){var t=e.constructor;return t===Array?e.slice():new t(e)}var D=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],C=["_extent","_approximateExtent","_rawExtent"];function k(e,t){i.each(D.concat(t.__wrappedMethods||[]),(function(a){t.hasOwnProperty(a)&&(e[a]=t[a])})),e.__wrappedMethods=t.__wrappedMethods,i.each(C,(function(a){e[a]=i.clone(t[a])})),e._calculationInfo=i.extend(t._calculationInfo)}var S=function(e,t){e=e||["x","y"];for(var a={},n=[],r={},o=0;o<e.length;o++){var s=e[o];i.isString(s)?s=new h({name:s}):s instanceof h||(s=new h(s));var l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0),s.otherDims=s.otherDims||{},n.push(l),a[l]=s,s.index=o,s.createInvertedIndices&&(r[l]=[])}this.dimensions=n,this._dimensionInfos=a,this.hostModel=t,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=p(this),this._invertedIndicesMap=r,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},j=S.prototype;function P(e,t,a,n,i){var r=v[t.type],o=n-1,s=t.name,l=e[s][o];if(l&&l.length<a){for(var c=new r(Math.min(i-o*a,a)),u=0;u<l.length;u++)c[u]=l[u];e[s][o]=c}for(var d=n*a;d<i;d+=a)e[s].push(new r(Math.min(i-d,a)))}function T(e){var t=e._invertedIndicesMap;i.each(t,(function(a,n){var i=e._dimensionInfos[n],r=i.ordinalMeta;if(r){a=t[n]=new w(r.categories.length);for(var o=0;o<a.length;o++)a[o]=m;for(o=0;o<e._count;o++)a[e.get(n,o)]=o}}))}function I(e,t,a){var n;if(null!=t){var i=e._chunkSize,r=Math.floor(a/i),o=a%i,s=e.dimensions[t],l=e._storage[s][r];if(l){n=l[o];var c=e._dimensionInfos[s].ordinalMeta;c&&c.categories.length&&(n=c.categories[n])}}return n}function L(e){return e}function z(e){return e<this._count&&e>=0?this._indices[e]:-1}function $(e,t){var a=e._idList[t];return null==a&&(a=I(e,e._idDimIdx,t)),null==a&&(a=b+t),a}function M(e){return i.isArray(e)||(e=[e]),e}function E(e,t){var a=e.dimensions,n=new S(i.map(a,e.getDimensionInfo,e),e.hostModel);k(n,e);for(var r=n._storage={},o=e._storage,s=0;s<a.length;s++){var l=a[s];o[l]&&(i.indexOf(t,l)>=0?(r[l]=A(o[l]),n._rawExtent[l]=R(),n._extent[l]=null):r[l]=o[l])}return n}function A(e){for(var t=new Array(e.length),a=0;a<e.length;a++)t[a]=O(e[a]);return t}function R(){return[1/0,-1/0]}j.type="list",j.hasItemOption=!0,j.getDimension=function(e){return"number"!==typeof e&&(isNaN(e)||this._dimensionInfos.hasOwnProperty(e))||(e=this.dimensions[e]),e},j.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},j.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},j.mapDimension=function(e,t){var a=this._dimensionsSummary;if(null==t)return a.encodeFirstDimNotExtra[e];var n=a.encode[e];return!0===t?(n||[]).slice():n&&n[t]},j.initData=function(e,t,a){var n=s.isInstance(e)||i.isArrayLike(e);n&&(e=new u(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},a||(this.hasItemOption=!1),this.defaultDimValueGetter=c[this._rawData.getSource().sourceFormat],this._dimValueGetter=a=a||this.defaultDimValueGetter,this._dimValueGetterArrayRows=c.arrayRows,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},j.getProvider=function(){return this._rawData},j.appendData=function(e){var t=this._rawData,a=this.count();t.appendData(e);var n=t.count();t.persistent||(n+=a),this._initDataFromProvider(a,n)},j.appendValues=function(e,t){for(var a=this._chunkSize,n=this._storage,i=this.dimensions,r=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(e.length,t?t.length:0),c=this._chunkCount,u=0;u<r;u++){var d=i[u];o[d]||(o[d]=R()),n[d]||(n[d]=[]),P(n,this._dimensionInfos[d],a,c,l),this._chunkCount=n[d].length}for(var p=new Array(r),h=s;h<l;h++){for(var f=h-s,g=Math.floor(h/a),m=h%a,b=0;b<r;b++){d=i[b];var v=this._dimValueGetterArrayRows(e[f]||p,d,f,b);n[d][g][m]=v;var y=o[d];v<y[0]&&(y[0]=v),v>y[1]&&(y[1]=v)}t&&(this._nameList[h]=t[f])}this._rawCount=this._count=l,this._extent={},T(this)},j._initDataFromProvider=function(e,t){if(!(e>=t)){for(var a,n=this._chunkSize,i=this._rawData,r=this._storage,o=this.dimensions,s=o.length,l=this._dimensionInfos,c=this._nameList,u=this._idList,d=this._rawExtent,p=this._nameRepeatCount={},h=this._chunkCount,f=0;f<s;f++){var g=o[f];d[g]||(d[g]=R());var m=l[g];0===m.otherDims.itemName&&(a=this._nameDimIdx=f),0===m.otherDims.itemId&&(this._idDimIdx=f),r[g]||(r[g]=[]),P(r,m,n,h,t),this._chunkCount=r[g].length}for(var b=new Array(s),v=e;v<t;v++){b=i.getItem(v,b);for(var y=Math.floor(v/n),w=v%n,_=0;_<s;_++){g=o[_];var x=r[g][y],O=this._dimValueGetter(b,g,v,_);x[w]=O;var D=d[g];O<D[0]&&(D[0]=O),O>D[1]&&(D[1]=O)}if(!i.pure){var C=c[v];if(b&&null==C)if(null!=b.name)c[v]=C=b.name;else if(null!=a){var k=o[a],S=r[k][y];if(S){C=S[w];var j=l[k].ordinalMeta;j&&j.categories.length&&(C=j.categories[C])}}var I=null==b?null:b.id;null==I&&null!=C&&(p[C]=p[C]||0,I=C,p[C]>0&&(I+="__ec__"+p[C]),p[C]++),null!=I&&(u[v]=I)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent={},T(this)}},j.count=function(){return this._count},j.getIndices=function(){var e=this._indices;if(e){var t=e.constructor,a=this._count;if(t===Array){i=new t(a);for(var n=0;n<a;n++)i[n]=e[n]}else i=new t(e.buffer,0,a)}else{t=x(this);var i=new t(this.count());for(n=0;n<i.length;n++)i[n]=n}return i},j.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var a=this._storage;if(!a[e])return NaN;t=this.getRawIndex(t);var n=Math.floor(t/this._chunkSize),i=t%this._chunkSize,r=a[e][n],o=r[i];return o},j.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var a=this._storage[e];if(!a)return NaN;var n=Math.floor(t/this._chunkSize),i=t%this._chunkSize,r=a[n];return r[i]},j._getFast=function(e,t){var a=Math.floor(t/this._chunkSize),n=t%this._chunkSize,i=this._storage[e][a];return i[n]},j.getValues=function(e,t){var a=[];i.isArray(e)||(t=e,e=this.dimensions);for(var n=0,r=e.length;n<r;n++)a.push(this.get(e[n],t));return a},j.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,a=0,n=t.length;a<n;a++)if(isNaN(this.get(t[a],e)))return!1;return!0},j.getDataExtent=function(e){e=this.getDimension(e);var t=this._storage[e],a=R();if(!t)return a;var n,i=this.count(),r=!this._indices;if(r)return this._rawExtent[e].slice();if(n=this._extent[e],n)return n.slice();n=a;for(var o=n[0],s=n[1],l=0;l<i;l++){var c=this._getFast(e,this.getRawIndex(l));c<o&&(o=c),c>s&&(s=c)}return n=[o,s],this._extent[e]=n,n},j.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},j.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},j.getCalculationInfo=function(e){return this._calculationInfo[e]},j.setCalculationInfo=function(e,t){f(e)?i.extend(this._calculationInfo,e):this._calculationInfo[e]=t},j.getSum=function(e){var t=this._storage[e],a=0;if(t)for(var n=0,i=this.count();n<i;n++){var r=this.get(e,n);isNaN(r)||(a+=r)}return a},j.getMedian=function(e){var t=[];this.each(e,(function(e,a){isNaN(e)||t.push(e)}));var a=[].concat(t).sort((function(e,t){return e-t})),n=this.count();return 0===n?0:n%2===1?a[(n-1)/2]:(a[n/2]+a[n/2-1])/2},j.rawIndexOf=function(e,t){var a=e&&this._invertedIndicesMap[e],n=a[t];return null==n||isNaN(n)?m:n},j.indexOfName=function(e){for(var t=0,a=this.count();t<a;t++)if(this.getName(t)===e)return t;return-1},j.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,a=t[e];if(null!=a&&a<this._count&&a===e)return e;var n=0,i=this._count-1;while(n<=i){var r=(n+i)/2|0;if(t[r]<e)n=r+1;else{if(!(t[r]>e))return r;i=r-1}}return-1},j.indicesOfNearest=function(e,t,a){var n=this._storage,i=n[e],r=[];if(!i)return r;null==a&&(a=1/0);for(var o=1/0,s=-1,l=0,c=0,u=this.count();c<u;c++){var d=t-this.get(e,c),p=Math.abs(d);p<=a&&((p<o||p===o&&d>=0&&s<0)&&(o=p,s=d,l=0),d===s&&(r[l++]=c))}return r.length=l,r},j.getRawIndex=L,j.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],a=0;a<this.dimensions.length;a++){var n=this.dimensions[a];t.push(this.get(n,e))}return t},j.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||I(this,this._nameDimIdx,t)||""},j.getId=function(e){return $(this,this.getRawIndex(e))},j.each=function(e,t,a,n){"use strict";if(this._count){"function"===typeof e&&(n=a,a=t,t=e,e=[]),a=a||n||this,e=i.map(M(e),this.getDimension,this);for(var r=e.length,o=0;o<this.count();o++)switch(r){case 0:t.call(a,o);break;case 1:t.call(a,this.get(e[0],o),o);break;case 2:t.call(a,this.get(e[0],o),this.get(e[1],o),o);break;default:for(var s=0,l=[];s<r;s++)l[s]=this.get(e[s],o);l[s]=o,t.apply(a,l)}}},j.filterSelf=function(e,t,a,n){"use strict";if(this._count){"function"===typeof e&&(n=a,a=t,t=e,e=[]),a=a||n||this,e=i.map(M(e),this.getDimension,this);for(var r=this.count(),o=x(this),s=new o(r),l=[],c=e.length,u=0,d=e[0],p=0;p<r;p++){var h,f=this.getRawIndex(p);if(0===c)h=t.call(a,p);else if(1===c){var g=this._getFast(d,f);h=t.call(a,g,p)}else{for(var m=0;m<c;m++)l[m]=this._getFast(d,f);l[m]=p,h=t.apply(a,l)}h&&(s[u++]=f)}return u<r&&(this._indices=s),this._count=u,this._extent={},this.getRawIndex=this._indices?z:L,this}},j.selectRange=function(e){"use strict";if(this._count){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);var n=t.length;if(n){var i=this.count(),r=x(this),o=new r(i),s=0,l=t[0],c=e[l][0],u=e[l][1],d=!1;if(!this._indices){var p=0;if(1===n){for(var h=this._storage[t[0]],f=0;f<this._chunkCount;f++)for(var g=h[f],m=Math.min(this._count-f*this._chunkSize,this._chunkSize),b=0;b<m;b++){var v=g[b];(v>=c&&v<=u||isNaN(v))&&(o[s++]=p),p++}d=!0}else if(2===n){h=this._storage[l];var y=this._storage[t[1]],w=e[t[1]][0],_=e[t[1]][1];for(f=0;f<this._chunkCount;f++){g=h[f];var O=y[f];for(m=Math.min(this._count-f*this._chunkSize,this._chunkSize),b=0;b<m;b++){v=g[b];var D=O[b];(v>=c&&v<=u||isNaN(v))&&(D>=w&&D<=_||isNaN(D))&&(o[s++]=p),p++}}d=!0}}if(!d)if(1===n)for(b=0;b<i;b++){var C=this.getRawIndex(b);v=this._getFast(l,C);(v>=c&&v<=u||isNaN(v))&&(o[s++]=C)}else for(b=0;b<i;b++){var k=!0;for(C=this.getRawIndex(b),f=0;f<n;f++){var S=t[f];v=this._getFast(a,C);(v<e[S][0]||v>e[S][1])&&(k=!1)}k&&(o[s++]=this.getRawIndex(b))}return s<i&&(this._indices=o),this._count=s,this._extent={},this.getRawIndex=this._indices?z:L,this}}},j.mapArray=function(e,t,a,n){"use strict";"function"===typeof e&&(n=a,a=t,t=e,e=[]),a=a||n||this;var i=[];return this.each(e,(function(){i.push(t&&t.apply(this,arguments))}),a),i},j.map=function(e,t,a,n){"use strict";a=a||n||this,e=i.map(M(e),this.getDimension,this);var r=E(this,e);r._indices=this._indices,r.getRawIndex=r._indices?z:L;for(var o=r._storage,s=[],l=this._chunkSize,c=e.length,u=this.count(),d=[],p=r._rawExtent,h=0;h<u;h++){for(var f=0;f<c;f++)d[f]=this.get(e[f],h);d[c]=h;var g=t&&t.apply(a,d);if(null!=g){"object"!==typeof g&&(s[0]=g,g=s);for(var m=this.getRawIndex(h),b=Math.floor(m/l),v=m%l,y=0;y<g.length;y++){var w=e[y],_=g[y],x=p[w],O=o[w];O&&(O[b][v]=_),_<x[0]&&(x[0]=_),_>x[1]&&(x[1]=_)}}}return r},j.downSample=function(e,t,a,n){for(var i=E(this,[e]),r=i._storage,o=[],s=Math.floor(1/t),l=r[e],c=this.count(),u=this._chunkSize,d=i._rawExtent[e],p=new(x(this))(c),h=0,f=0;f<c;f+=s){s>c-f&&(s=c-f,o.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(f+g),b=Math.floor(m/u),v=m%u;o[g]=l[b][v]}var y=a(o),w=this.getRawIndex(Math.min(f+n(o,y)||0,c-1)),_=Math.floor(w/u),O=w%u;l[_][O]=y,y<d[0]&&(d[0]=y),y>d[1]&&(d[1]=y),p[h++]=w}return i._count=h,i._indices=p,i.getRawIndex=z,i},j.getItemModel=function(e){var t=this.hostModel;return new r(this.getRawDataItem(e),t,t&&t.ecModel)},j.diff=function(e){var t=this;return new o(e?e.getIndices():[],this.getIndices(),(function(t){return $(e,t)}),(function(e){return $(t,e)}))},j.getVisual=function(e){var t=this._visual;return t&&t[e]},j.setVisual=function(e,t){if(f(e))for(var a in e)e.hasOwnProperty(a)&&this.setVisual(a,e[a]);else this._visual=this._visual||{},this._visual[e]=t},j.setLayout=function(e,t){if(f(e))for(var a in e)e.hasOwnProperty(a)&&this.setLayout(a,e[a]);else this._layout[e]=t},j.getLayout=function(e){return this._layout[e]},j.getItemLayout=function(e){return this._itemLayouts[e]},j.setItemLayout=function(e,t,a){this._itemLayouts[e]=a?i.extend(this._itemLayouts[e]||{},t):t},j.clearItemLayouts=function(){this._itemLayouts.length=0},j.getItemVisual=function(e,t,a){var n=this._itemVisuals[e],i=n&&n[t];return null!=i||a?i:this.getVisual(t)},j.setItemVisual=function(e,t,a){var n=this._itemVisuals[e]||{},i=this.hasItemVisual;if(this._itemVisuals[e]=n,f(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r],i[r]=!0);else n[t]=a,i[t]=!0},j.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var q=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};j.setItemGraphicEl=function(e,t){var a=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=a&&a.seriesIndex,"group"===t.type&&t.traverse(q,t)),this._graphicEls[e]=t},j.getItemGraphicEl=function(e){return this._graphicEls[e]},j.eachItemGraphicEl=function(e,t){i.each(this._graphicEls,(function(a,n){a&&e&&e.call(t,a,n)}))},j.cloneShallow=function(e){if(!e){var t=i.map(this.dimensions,this.getDimensionInfo,this);e=new S(t,this.hostModel)}if(e._storage=this._storage,k(e,this),this._indices){var a=this._indices.constructor;e._indices=new a(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?z:L,e},j.wrapMethod=function(e,t){var a=this[e];"function"===typeof a&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=a.apply(this,arguments);return t.apply(this,[e].concat(i.slice(arguments)))})},j.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],j.CHANGABLE_METHODS=["filterSelf","selectRange"];var B=S;e.exports=B},"61cb":function(e,t,a){},"620b":function(e,t,a){var n=a("401b"),i=n.distance;function r(e,t,a,n,i,r,o){var s=.5*(a-e),l=.5*(n-t);return(2*(t-a)+s+l)*o+(-3*(t-a)-2*s-l)*r+s*i+t}function o(e,t){for(var a=e.length,n=[],o=0,s=1;s<a;s++)o+=i(e[s-1],e[s]);var l=o/2;l=l<a?a:l;for(s=0;s<l;s++){var c,u,d,p=s/(l-1)*(t?a:a-1),h=Math.floor(p),f=p-h,g=e[h%a];t?(c=e[(h-1+a)%a],u=e[(h+1)%a],d=e[(h+2)%a]):(c=e[0===h?h:h-1],u=e[h>a-2?a-1:h+1],d=e[h>a-3?a-1:h+2]);var m=f*f,b=f*m;n.push([r(c[0],g[0],u[0],d[0],f,m,b),r(c[1],g[1],u[1],d[1],f,m,b)])}return n}e.exports=o},"625e":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=".",o="___EC__COMPONENT__CONTAINER___";function s(e){var t={main:"",sub:""};return e&&(e=e.split(r),t.main=e[0]||"",t.sub=e[1]||""),t}function l(e){i.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function c(e,t){e.$constructor=e,e.extend=function(e){var t=this,a=function(){e.$constructor?e.$constructor.apply(this,arguments):t.apply(this,arguments)};return i.extend(a.prototype,e),a.extend=this.extend,a.superCall=p,a.superApply=h,i.inherits(a,this),a.superClass=t,a}}var u=0;function d(e){var t=["__\0is_clz",u++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}}function p(e,t){var a=i.slice(arguments,2);return this.superClass.prototype[t].apply(e,a)}function h(e,t,a){return this.superClass.prototype[t].apply(e,a)}function f(e,t){t=t||{};var a={};function n(e){var t=a[e.main];return t&&t[o]||(t=a[e.main]={},t[o]=!0),t}if(e.registerClass=function(e,t){if(t)if(l(t),t=s(t),t.sub){if(t.sub!==o){var i=n(t);i[t.sub]=e}}else a[t.main]=e;return e},e.getClass=function(e,t,n){var i=a[e];if(i&&i[o]&&(i=t?i[t]:null),n&&!i)throw new Error(t?"Component "+e+"."+(t||"")+" not exists. Load it first.":e+".type should be specified.");return i},e.getClassesByMainType=function(e){e=s(e);var t=[],n=a[e.main];return n&&n[o]?i.each(n,(function(e,a){a!==o&&t.push(e)})):t.push(n),t},e.hasClass=function(e){return e=s(e),!!a[e.main]},e.getAllClassMainTypes=function(){var e=[];return i.each(a,(function(t,a){e.push(a)})),e},e.hasSubTypes=function(e){e=s(e);var t=a[e.main];return t&&t[o]},e.parseClassType=s,t.registerWhenExtend){var r=e.extend;r&&(e.extend=function(t){var a=r.call(this,t);return e.registerClass(a,t.type)})}return e}function g(e,t){}t.parseClassType=s,t.enableClassExtend=c,t.enableClassCheck=d,t.enableClassManagement=f,t.setReadOnly=g},"627c":function(e,t,a){var n=a("6d8b"),i=a("3eba"),r=a("2306"),o=a("f934"),s=o.getLayoutRect,l=a("eda2"),c=l.windowOpen;i.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),i.extendComponentView({type:"title",render:function(e,t,a){if(this.group.removeAll(),e.get("show")){var i=this.group,o=e.getModel("textStyle"),l=e.getModel("subtextStyle"),u=e.get("textAlign"),d=n.retrieve2(e.get("textBaseline"),e.get("textVerticalAlign")),p=new r.Text({style:r.setTextStyle({},o,{text:e.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),h=p.getBoundingRect(),f=e.get("subtext"),g=new r.Text({style:r.setTextStyle({},l,{text:f,textFill:l.getTextColor(),y:h.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=e.get("link"),b=e.get("sublink"),v=e.get("triggerEvent",!0);p.silent=!m&&!v,g.silent=!b&&!v,m&&p.on("click",(function(){c(m,"_"+e.get("target"))})),b&&g.on("click",(function(){c(b,"_"+e.get("subtarget"))})),p.eventData=g.eventData=v?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(p),f&&i.add(g);var y=i.getBoundingRect(),w=e.getBoxLayoutParams();w.width=y.width,w.height=y.height;var _=s(w,{width:a.getWidth(),height:a.getHeight()},e.get("padding"));u||(u=e.get("left")||e.get("right"),"middle"===u&&(u="center"),"right"===u?_.x+=_.width:"center"===u&&(_.x+=_.width/2)),d||(d=e.get("top")||e.get("bottom"),"center"===d&&(d="middle"),"bottom"===d?_.y+=_.height:"middle"===d&&(_.y+=_.height/2),d=d||"top"),i.attr("position",[_.x,_.y]);var x={textAlign:u,textVerticalAlign:d};p.setStyle(x),g.setStyle(x),y=i.getBoundingRect();var O=_.margin,D=e.getItemStyle(["color","opacity"]);D.fill=e.get("backgroundColor");var C=new r.Rect({shape:{x:y.x-O[3],y:y.y-O[0],width:y.width+O[1]+O[3],height:y.height+O[0]+O[2],r:e.get("borderRadius")},style:D,subPixelOptimize:!0,silent:!0});i.add(C)}}})},"62bb":function(e,t,a){},"62bb0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"audit-detail"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("b",[e._v("发布|下线申请详情")])]),a("div",{staticClass:"apply-table-wrap"},[a("div",{staticClass:"b-tip"},[e._v("操作以下接口：")]),a("el-table",{attrs:{data:e.tableData,border:"",stripe:"",size:"mini","max-height":"200"}},[a("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),a("el-table-column",{attrs:{prop:"name",label:"接口名"}}),a("el-table-column",{attrs:{align:"center",label:"状态",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.formData.id===t.row.applyId?[e._v("\n              "+e._s(e.getApprovalStateName(t.row.approvalState))+"\n            ")]:[e._v("-")]]}}])}),2===e.formData.status?a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.formData.id===t.row.applyId?[e.permissionList.publishBtn&&2===t.row.approvalState?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.publish(t.row)}}},[e._v("\n                发布\n              ")]):e._e(),e.permissionList.offlineBtn&&3===t.row.approvalState?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.offline(t.row)}}},[e._v("\n                下线\n              ")]):e._e(),!e.permissionList.revokeBtn||2!==t.row.approvalState&&3!==t.row.approvalState?e._e():a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.rowRevoke(t.row)}}},[e._v("\n                撤回\n              ")])]:e._e()]}}],null,!1,945224970)}):e._e()],1)],1),a("el-form",{staticClass:"data-form",attrs:{size:"mini","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"标题："}},[e._v("\n            "+e._s(e.formData.title)+"\n          ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请人："}},[e._v("\n            "+e._s(e.formData.createBy)+"\n          ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核人："}},[e._v("\n            "+e._s(e.formData.approvalBy)+"\n          ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请类型："}},[e._v("\n            "+e._s((0===e.formData.type?"发布":1===e.formData.type&&"下线")||e.formData.type||"-")+"\n          ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核结果："}},[1===e.formData.approvalResult?a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("审核不通过")]):2===e.formData.approvalResult?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("审核通过")]):a("span",[e._v(e._s(e.formData.approvalResult))])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请原因："}},[e._v("\n            "+e._s(e.formData.reason)+"\n          ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核备注："}},[e._v("\n            "+e._s(e.formData.approvalRemark)+"\n          ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请时间："}},[e._v("\n            "+e._s(e.formData.createTime)+"\n          ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核时间："}},[e._v("\n            "+e._s(e.formData.approvalTime)+"\n          ")])],1)],1)],1),e.logData&&0!==e.logData.length?[a("el-divider",[e._v("操作日志")]),a("el-table",{attrs:{data:e.logData,border:"",stripe:"",size:"mini","max-height":"300"}},[a("el-table-column",{attrs:{align:"center",label:"操作类型",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.getOpTypeName(t.row.opType))+"\n          ")]}}],null,!1,3264585741)}),a("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),a("el-table-column",{attrs:{prop:"name",label:"接口名"}}),a("el-table-column",{attrs:{prop:"opBy",label:"操作人"}}),a("el-table-column",{attrs:{prop:"opTime",label:"操作时间"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1)]:e._e(),0===e.formData.status||2===e.formData.status?a("footer",[2===e.formData.status?[e.permissionList.rollback?a("el-button",{attrs:{type:"primary",size:"small",loading:e.rollbackLoading,plain:""},on:{click:e.rollback}},[e._v("\n          批量回滚\n        ")]):e._e(),0===e.formData.type&&e.permissionList.batchPublishBtn||1===e.formData.type&&e.permissionList.batchOfflineBtn?a("el-button",{attrs:{type:"primary",size:"small",loading:e.executeLoading,plain:""},on:{click:e.execute}},[e._v("\n          "+e._s((0===e.formData.type?"批量发布":1===e.formData.type&&"批量下线")||"批量执行")+"\n        ")]):e._e()]:e._e(),0!==e.formData.status||e.isOA?e._e():[e.permissionList.applyBtn?a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.changeAudit}},[e._v("\n          修改审核人\n        ")]):e._e(),e.permissionList.revokeBtn?a("el-button",{attrs:{type:"primary",size:"small",loading:e.revokeLoading},on:{click:e.revoke}},[e._v("撤回\n        ")]):e._e()],a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("返回")])],2):e._e(),a("revoke-dialog",{attrs:{visible:e.revokeDialog.visible,form:e.revokeDialog.form,id:e.revokeDialog.id,callback:e.init},on:{"update:visible":function(t){return e.$set(e.revokeDialog,"visible",t)}}}),a("publish-dialog",{attrs:{visible:e.publishDialog.visible,name:e.publishDialog.name,id:e.publishDialog.id,callback:e.init},on:{"update:visible":function(t){return e.$set(e.publishDialog,"visible",t)}}}),a("el-dialog",{attrs:{"append-to-body":"",title:"修改审核人",visible:e.auditDialogVisible},on:{"update:visible":function(t){e.auditDialogVisible=t}}},[a("el-form",{attrs:{model:e.auditForm,size:"small"}},[a("el-form-item",{attrs:{label:"审核人"}},[a("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.auditForm.approvalUser,callback:function(t){e.$set(e.auditForm,"approvalUser",t)},expression:"auditForm.approvalUser"}},e._l(e.approvalUsers,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleAuditChange}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.auditDialogVisible=!1}}},[e._v("取 消")])],1)],1)],2)],1)},i=[],r=(a("8e6e"),a("456d"),a("7f7f"),a("7514"),a("ac6a"),a("ade3")),o=a("0f43"),s=a("708f"),l=a("f874"),c=a("cec1"),u=a("5880"),d=a("047b"),p=a("c43f");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={name:"apply-detail",data:function(){return{revokeLoading:!1,executeLoading:!1,rollbackLoading:!1,tableData:[],logData:[],approvalUsers:[],formData:{},publishDialog:{visible:!1,title:"接口",name:"",id:""},revokeDialog:{visible:!1,form:{},id:""},auditForm:{applyId:"",approvalUser:""},auditDialogVisible:!1,isOA:!1}},computed:f(f({},Object(u["mapGetters"])(["permission"])),{},{permissionList:function(){return{applyBtn:this.vaildData(this.permission.aggregate_api_apply,!1),publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1),offlineBtn:this.vaildData(this.permission.aggregate_api_offline,!1),batchPublishBtn:this.vaildData(this.permission.aggregate_apply_batchPublish,!1),batchOfflineBtn:this.vaildData(this.permission.aggregate_apply_batchOffline,!1),revokeBtn:this.vaildData(this.permission.aggregate_apply_revoke,!1),rollback:this.vaildData(this.permission.aggregate_apply_rollback,!1)}},ids:function(){var e=[];return this.tableData.forEach((function(t){e.push(t.id||t.configId)})),e},originId:function(){return this.$route.query.originId||""}}),components:{publishDialog:d["default"],revokeDialog:p["default"]},watch:{originId:{immediate:!0,handler:function(e){e&&this.init()}}},methods:{getOpTypeName:function(e){var t=c["c"].find((function(t){return parseInt(t.value)===e}));return t&&t.label||e},getApprovalStateName:function(e){var t=l["b"].find((function(t){return parseInt(t.value)===e}));return t&&t.label||""},getApprovalUsers:function(){var e=this;if(!this.ids||0===this.ids.length)return!1;Object(s["e"])({configIds:this.ids}).then((function(t){var a=t.data.data;e.approvalUsers=a.approvalUsers||[]}))},handleAuditChange:function(){var e=this;this.auditDialogVisible=!1;var t={};return t.applyId=this.auditForm.applyId,t.approvalUserId=this.auditForm.approvalUser,Object(o["b"])(t).then((function(){e.$message.success("修改成功"),e.init(),e.auditDialogVisible=!1}))},changeAudit:function(){this.getApprovalUsers(),this.auditForm.applyId=this.formData.id,this.auditForm.approvalUser=this.formData.approvalUser,this.auditDialogVisible=!0},rowRevoke:function(e){this.revokeDialog.id=this.originId,this.revokeDialog.visible=!0,this.revokeDialog.form=e},revoke:function(){var e=this;this.$confirm("确定撤回该申请?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.revokeLoading=!0,Object(o["h"])(e.originId).then((function(){e.$message.success("撤回成功"),e.init(),e.revokeLoading=!1})).catch((function(){e.revokeLoading=!1}))}))},execute:function(){var e=this;this.$confirm("确定批量执行该申请的操作?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.executeLoading=!0,Object(o["c"])(e.originId).then((function(){e.$message.success("操作成功"),e.init(),e.executeLoading=!1})).catch((function(){e.executeLoading=!1}))}))},rollback:function(){var e=this;this.$confirm("确定批量回滚该申请的操作?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.rollbackLoading=!0,Object(o["i"])(e.originId).then((function(){e.init(),e.$message.success("回滚成功"),e.rollbackLoading=!1})).catch((function(){e.rollbackLoading=!1}))}))},offline:function(e){var t=this;this.$confirm("确定下线【".concat(e.name,"】此接口吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["i"])(e.id)})).then((function(){t.$message.success("下线成功"),t.init()}))},publish:function(e){e.id?(this.publishDialog.visible=!0,this.publishDialog.name=e.name,this.publishDialog.id=e.id):this.$message.error("数据缺失，无法发布！")},handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/aggregateRecord/apply"})},getApplyLog:function(){var e=this;return this.logData=[],Object(o["d"])(this.originId).then((function(t){e.logData=t.data.data}))},getDetail:function(){var e=this;Object(o["e"])(this.originId).then((function(t){var a=t.data.data,n=[];e.formData=a,(a.configs||[]).forEach((function(e){n.push(Object.assign({id:e.configId,name:e.configName},e))})),e.tableData=n}))},init:function(){this.getDetail(),this.getApplyLog()},approvalByOa:function(){var e=this;Object(o["a"])().then((function(t){200==t.data.code&&(e.isOA=t.data.data)}))}},created:function(){this.approvalByOa()}},m=g,b=(a("0e71"),a("480d"),a("2877")),v=Object(b["a"])(m,n,i,!1,null,"424fed57",null);t["default"]=v.exports},"62d6":function(e,t,a){},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"630e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{data:e.data,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"search-change":e.searchChange,"search-reset":e.searchReset,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"status",fn:function(t){return[t.row.status?a("el-tag",{attrs:{type:1===t.row.status?"success":"danger"}},[e._v("\n        "+e._s(e.renderStatus(t.row.status))+"\n      ")]):e._e()]}},{key:"menu",fn:function(t){var n=t.row;return[e.permissionList.routeBtn?a("el-button",{attrs:{icon:"el-icon-c-scale-to-original",size:"small",type:"text"},on:{click:function(t){return e.showRoute(n)}}},[e._v("查看路由列表")]):e._e(),e.permissionList.serviceBtn?a("el-button",{attrs:{icon:"el-icon-s-operation",size:"small",type:"text"},on:{click:function(t){return e.showService(n)}}},[e._v("服务编排配置")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("1da1")),o=a("ade3"),s=a("5880"),l=a("e5ec");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"instance",components:{},data:function(){return{form:{},query:{},loading:!0,option:{border:!0,index:!0,dialogClickModal:!1,viewBtn:!1,editBtn:!1,addBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",labelWidth:100,column:[{label:"服务名",prop:"serviceName"},{label:"实例IP",prop:"ip"},{label:"端口",prop:"port"},{label:"状态",prop:"status",slot:!0},{label:"心跳时间",prop:"lastUpdateTime"},{label:"启动时间",prop:"startTime"}]},data:[]}},computed:u(u({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{routeBtn:this.vaildData(this.permission.gateway_instance_route,!1),serviceBtn:this.vaildData(this.permission.gateway_instance_service,!1)}}}),methods:{renderStatus:function(e){var t="";return 1===e?t="正常":2===e&&(t="异常"),t},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.onLoad(e),t()},refreshChange:function(){this.onLoad(this.query)},onLoad:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=this,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:{},this.loading=!0,Object(l["c"])(Object.assign(t,this.query)).then((function(e){a.loading=!1,a.data=e.data.data}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showService:function(e){this.$router.push({path:"/gateway/config",query:{originId:e.instanceId}})},showRoute:function(e){this.$router.push({path:"/proxy/api",query:{instanceId:e.instanceId}})}}},p=d,h=a("2877"),f=Object(h["a"])(p,n,i,!1,null,"22f0c684",null);t["default"]=f.exports},6356:function(e,t,a){"use strict";a("b3f0")},6385:function(e,t,a){},"640f":function(e,t,a){},6428:function(e,t,a){var n=a("b4b0"),i=1/0,r=17976931348623157e292;function o(e){if(!e)return 0===e?e:0;if(e=n(e),e===i||e===-i){var t=e<0?-1:1;return t*r}return e===e?e:0}e.exports=o},"646e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"tree-load":e.treeLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[e.permission.api_scope_setting?a("el-button",{staticStyle:{border:"0","background-color":"transparent !important"},attrs:{type:"text",icon:"el-icon-setting",size:"small",plain:""},on:{click:function(t){return t.stopPropagation(),e.handleDataScope(n)}}},[e._v("权限配置\n      ")]):e._e()]}},{key:"source",fn:function(e){var t=e.row;return[a("div",{staticStyle:{"text-align":"center"}},[a("i",{class:t.source})])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),a("el-drawer",{attrs:{"append-to-body":"",title:"["+e.scopeMenuName+"] 接口权限配置",visible:e.drawerVisible,direction:e.direction,"before-close":e.handleDrawerClose,size:"1000px"},on:{"update:visible":function(t){e.drawerVisible=t}}},[a("basic-container",[a("avue-crud",{ref:"crudScope",attrs:{option:e.optionScope,data:e.dataScope,page:e.pageScope,"table-loading":e.scopeLoading,"before-open":e.beforeOpenScope},on:{"row-del":e.rowDelScope,"row-update":e.rowUpdateScope,"row-save":e.rowSaveScope,"search-change":e.searchChangeScope,"search-reset":e.searchResetScope,"selection-change":e.selectionChangeScope,"current-change":e.currentChangeScope,"size-change":e.sizeChangeScope,"on-load":e.onLoadScope},scopedSlots:e._u([{key:"scopeType",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(n.scopeTypeName))])]}}]),model:{value:e.formScope,callback:function(t){e.formScope=t},expression:"formScope"}},[a("template",{slot:"menuLeft"},[a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDeleteScope}},[e._v("删 除\n          ")])],1)],2)],1)],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("7f7f"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("a6dc"),s=a("7e26"),l=a("5880"),c=a("2457"),u=a("da71");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={data:function(){return{form:{},selectionList:[],query:{},loading:!0,parentId:0,page:{pageSize:10,currentPage:1,total:0},drawerVisible:!1,direction:"rtl",scopeLoading:!1,scopeMenuId:0,scopeMenuName:"菜单",menu:!0,option:{lazy:!0,tip:!1,simplePage:!0,searchShow:!0,searchMenuSpan:6,dialogWidth:"60%",tree:!0,border:!0,index:!0,selection:!0,viewBtn:!1,editBtn:!1,addBtn:!1,delBtn:!1,menuWidth:150,dialogClickModal:!1,column:[{label:"菜单名称",prop:"name",search:!0,rules:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},{label:"路由地址",prop:"path",rules:[{required:!0,message:"请输入路由地址",trigger:"blur"}]},{label:"上级菜单",prop:"parentId",type:"tree",dicUrl:"".concat(u["a"],"/blade-system/menu/tree"),hide:!0,props:{label:"title"},rules:[{required:!1,message:"请选择上级菜单",trigger:"click"}]},{label:"菜单图标",prop:"source",type:"icon",slot:!0,width:80,iconList:c["a"],rules:[{required:!0,message:"请输入菜单图标",trigger:"click"}]},{label:"菜单编号",prop:"code",search:!0,rules:[{required:!0,message:"请输入菜单编号",trigger:"blur"}]},{label:"菜单类型",prop:"category",type:"radio",dicData:[{label:"菜单",value:1},{label:"按钮",value:2}],hide:!0,rules:[{required:!0,message:"请选择菜单类型",trigger:"blur"}]},{label:"菜单别名",prop:"alias",rules:[{required:!0,message:"请输入菜单别名",trigger:"blur"}]},{label:"按钮功能",prop:"action",type:"radio",dicData:[{label:"工具栏",value:0},{label:"操作栏",value:1},{label:"工具操作栏",value:2}],hide:!0,rules:[{required:!0,message:"请选择按钮功能",trigger:"blur"}]},{label:"菜单排序",prop:"sort",type:"number",width:80,rules:[{required:!0,message:"请输入菜单排序",trigger:"blur"}]},{label:"新窗口",prop:"isOpen",type:"radio",dicData:[{label:"否",value:0},{label:"是",value:1}],hide:!0},{label:"菜单备注",prop:"remark",type:"textarea",span:24,minRows:6,hide:!0}]},data:[],formScope:{},selectionListScope:[],pageScope:{pageSize:10,currentPage:1,total:0},optionScope:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,viewBtn:!0,selection:!0,menuWidth:200,dialogWidth:900,dialogClickModal:!1,column:[{label:"权限名称",prop:"scopeName",search:!0,rules:[{required:!0,message:"请输入数据权限名称",trigger:"blur"}]},{label:"权限编号",prop:"resourceCode",search:!0,width:180,rules:[{required:!0,message:"请输入数据权限编号",trigger:"blur"}]},{label:"权限路径",prop:"scopePath",width:180,rules:[{required:!0,message:"请输入数据权限编号",trigger:"blur"}]},{label:"接口类型",type:"select",dicUrl:"".concat(u["a"],"/blade-system/dict/dictionary?code=api_scope_type"),props:{label:"dictValue",value:"dictKey"},dataType:"number",slot:!0,width:100,prop:"scopeType",rules:[{required:!0,message:"请输入通知类型",trigger:"blur"}]},{label:"备注",prop:"remark",span:24,hide:!0}]},dataScope:[]}},computed:p(p({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.menu_add,!1),viewBtn:this.vaildData(this.permission.menu_view,!1),delBtn:this.vaildData(this.permission.menu_delete,!1),editBtn:this.vaildData(this.permission.menu_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},scopeIds:function(){var e=[];return this.selectionListScope.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["i"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.parentId=0,this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.parentId="",this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["d"])(this.form.id).then((function(e){a.form=e.data.data})),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["c"])(this.parentId,Object.assign(a,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))},treeLoad:function(e,t,a){var n=e.id;Object(o["c"])(n).then((function(e){a(e.data.data)}))},handleDataScope:function(e){this.drawerVisible=!0,this.scopeMenuId=e.id,this.scopeMenuName=e.name,this.onLoadScope(this.pageScope)},handleDrawerClose:function(e){e()},rowSaveScope:function(e,t,a){var n=this;e=p(p({},e),{},{menuId:this.scopeMenuId}),Object(s["a"])(e).then((function(){n.onLoadScope(n.pageScope),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdateScope:function(e,t,a,n){var i=this;e=p(p({},e),{},{menuId:this.scopeMenuId}),Object(s["i"])(e).then((function(){i.onLoadScope(i.pageScope),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDelScope:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["g"])(e.id)})).then((function(){t.onLoadScope(t.pageScope),t.$message({type:"success",message:"操作成功!"})}))},handleDeleteScope:function(){var e=this;0!==this.selectionListScope.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["g"])(e.scopeIds)})).then((function(){e.onLoadScope(e.pageScope),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudScope.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenScope:function(e,t){var a=this;["edit","view"].includes(t)&&Object(s["e"])(this.formScope.id).then((function(e){a.formScope=e.data.data})),e()},searchResetScope:function(){this.onLoadScope(this.pageScope)},searchChangeScope:function(e,t){this.onLoadScope(this.pageScope,e),t()},selectionChangeScope:function(e){this.selectionListScope=e},currentChangeScope:function(e){this.pageScope.currentPage=e},sizeChangeScope:function(e){this.pageScope.pageSize=e},onLoadScope:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.scopeLoading=!0;var n=p(p({},a),{},{menuId:this.scopeMenuId});Object(s["c"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var a=e.data.data;t.pageScope.total=a.total,t.dataScope=a.records,t.selectionListScope=[],t.scopeLoading=!1}))}}},f=h,g=a("2877"),m=Object(g["a"])(f,n,i,!1,null,null,null);t["default"]=m.exports},6486:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("basic-container",[a("el-row",[a("el-col",{attrs:{span:12}},[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.dataParent,page:e.pageParent,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"row-click":e.handleRowClick,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoadParent},scopedSlots:e._u([{key:"isSealed",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:e.formParent,callback:function(t){e.formParent=t},expression:"formParent"}},[a("template",{slot:"menuLeft"},[e.permission.dict_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n            ")]):e._e()],1)],2)],1),a("el-col",{attrs:{span:12}},[a("avue-crud",{ref:"crudChild",attrs:{option:e.option,"table-loading":e.loading,data:e.dataChild,page:e.pageChild,permission:e.permissionList,"before-open":e.beforeOpenChild},on:{"row-del":e.rowDelChild,"row-update":e.rowUpdateChild,"row-save":e.rowSaveChild,"search-change":e.searchChangeChild,"search-reset":e.searchResetChild,"selection-change":e.selectionChangeChild,"current-change":e.currentChangeChild,"size-change":e.sizeChangeChild,"refresh-change":e.refreshChangeChild,"on-load":e.onLoadChild},scopedSlots:e._u([{key:"isSealed",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:e.formChild,callback:function(t){e.formChild=t},expression:"formChild"}},[a("template",{slot:"menuLeft"},[e.permission.dict_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n            ")]):e._e()],1)],2)],1)],1)],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("7754"),s=a("5880");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={data:function(){return{parentId:0,formParent:{},formChild:{},selectionList:[],query:{},loading:!0,pageParent:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},pageChild:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},dataParent:[],dataChild:[],option:{tip:!1,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:300,dialogWidth:880,column:[{label:"字典编号",prop:"code",search:!0,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典键值",prop:"dictKey",type:"number",rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"select",dicData:[{label:"否",value:0},{label:"是",value:1}],slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",search:!0,hide:!0}]}}},computed:c(c({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),viewBtn:this.vaildData(this.permission.dict_view,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoadParent(n.pageParent),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["i"])(e).then((function(){i.onLoadParent(i.pageParent),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadParent(t.pageParent),t.$message({type:"success",message:"操作成功!"})}))},handleRowClick:function(e){this.parentId=e.id,this.onLoadChild(this.pageChild)},searchReset:function(){this.query={},this.onLoadParent(this.pageParent)},searchChange:function(e,t){this.query=e,this.pageParent.currentPage=1,this.onLoadParent(this.pageParent,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadParent(e.pageParent),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["c"])(this.formParent.id).then((function(e){a.formParent=e.data.data})),e()},currentChange:function(e){this.pageParent.currentPage=e},sizeChange:function(e){this.pageParent.pageSize=e},refreshChange:function(){this.onLoadParent(this.page,this.query)},rowSaveChild:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoadChild(n.pageChild),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdateChild:function(e,t,a,n){var i=this;Object(o["i"])(e).then((function(){i.onLoadChild(i.pageChild),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDelChild:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadChild(t.pageChild),t.$message({type:"success",message:"操作成功!"})}))},searchResetChild:function(){this.query={},this.onLoadChild(this.pageChild)},searchChangeChild:function(e,t){this.query=e,this.pageChild.currentPage=1,this.onLoadChild(this.pageChild,e),t()},selectionChangeChild:function(e){this.selectionList=e},selectionClearChild:function(){this.selectionList=[],this.$refs.crudChild.toggleSelection()},handleDeleteChild:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadChild(e.pageChild),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudChild.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenChild:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["c"])(this.formChild.id).then((function(e){a.formChild=e.data.data})),e()},currentChangeChild:function(e){this.pageChild.currentPage=e},sizeChangeChild:function(e){this.pageChild.pageSize=e},refreshChangeChild:function(){this.onLoadChild(this.pageChild,this.query)},onLoadParent:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["g"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.pageParent.total=a.total,t.dataParent=a.records,t.loading=!1,t.selectionClear()}))},onLoadChild:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,this.parentId,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.pageChild.total=a.total,t.dataChild=a.records,t.loading=!1,t.selectionClear()}))}}},d=u,p=a("2877"),h=Object(p["a"])(d,n,i,!1,null,null,null);t["default"]=h.exports},"655d":function(e,t,a){"use strict";a("775d")},6580:function(e,t,a){"use strict";a("e546")},6583:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("ade3")),o=a("5880"),s=a("7485"),l=a("1e18");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"business",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,editBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,menuWidth:200,column:[{label:"专线业务",prop:"name",search:!0},{label:"专线类型",prop:"type",search:!0,dicData:l["a"],type:"select",width:90},{label:"是否公开",prop:"isPublic",dicData:l["b"],width:80},{label:"文档集",prop:"docSetName"},{label:"联系邮箱",prop:"email"},{label:"创建时间",prop:"createTime",width:130},{label:"更新时间",prop:"updateTime",width:130}]},data:[]}},computed:u(u({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.publicNetwork_business_add,!1),editBtn:this.vaildData(this.permission.publicNetwork_business_edit,!1),delBtn:this.vaildData(this.permission.publicNetwork_business_remove,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowDel:function(e){var t=this;this.$confirm("你确定要删除此专线业务吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["d"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){["add","edit","view"].includes(t)&&this.$router.push({path:"/public-network/business/".concat(t),query:{id:this.form.id}})},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(s["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},p=d,h=a("2877"),f=Object(h["a"])(p,n,i,!1,null,"035c1258",null);t["default"]=f.exports},"65d4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"aggregate-api-detail"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"api-header-wrapper clearfix",attrs:{slot:"header"},slot:"header"},[a("api-header",{staticStyle:{display:"inline-block"},attrs:{"service-name":e.serviceName,"api-name":e.apiName,"page-name":e.pageName}}),"default"===e.businessType?a("div",[e.originId&&e.permissionList.publishBtn&&2===e.formData.approvalState?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.publish}},[e._v("发布")]):e._e(),e.originId?a("el-button",{attrs:{size:"small",type:"primary",plain:"",loading:e.testLoading},on:{click:e.testFn}},[e._v("测试")]):e._e()],1):e._e()],1),a("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeTabs,callback:function(t){e.activeTabs=t},expression:"activeTabs"}},[a("el-tab-pane",{attrs:{label:"基础信息",name:"0"}},[a("api-base",{ref:"baseForm",attrs:{data:e.baseConfigs,disabled:e.disabled},on:{"update:data":function(t){e.baseConfigs=t}}})],1),a("el-tab-pane",{attrs:{label:"配置输入",name:"1",lazy:!0}},[a("api-request",{ref:"requestConfigs",attrs:{data:e.requestConfigs,lang:e.langConfigs,"business-type":e.businessType,"has-body":"GET"!==e.baseConfigs.method,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.requestConfigs=t},"update:lang":function(t){e.langConfigs=t}}})],1),a("el-tab-pane",{attrs:{label:"配置步骤",name:"2"}},[a("api-step",{ref:"stepForm",attrs:{"business-type":e.businessType,data:e.stepConfigs,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.stepConfigs=t}}})],1),a("el-tab-pane",{attrs:{label:"配置输出",name:"3"}},[a("api-response",{ref:"responseForm",attrs:{"business-type":e.businessType,data:e.responseConfigs,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.responseConfigs=t}}})],1),a("el-tab-pane",{attrs:{label:"校验结果",name:"4"}},[a("api-validate",{attrs:{"business-type":e.businessType,data:e.validateResponse,disabled:e.disabled,isDelScriptWithHttp:!1},on:{"update:data":function(t){e.validateResponse=t}}})],1),"add"!==e.actionType?a("el-tab-pane",{attrs:{label:"Config Json",lazy:!0,name:"5"}},[a("el-alert",{attrs:{title:"只读 Read Only",type:"warning"}}),a("code-highlight",{attrs:{language:"json",code:e.jsonCode,height:500}})],1):e._e()],1),a("footer",[e.disabled?e._e():a("div",[a("el-button",{attrs:{size:"small",icon:"el-icon-circle-check",loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.handleClose}},[e._v("取消")])],1)])],1),a("publish-dialog",{attrs:{visible:e.publishDialog,name:e.baseConfigs.name,id:e.originId},on:{"update:visible":function(t){e.publishDialog=t}}})],1)},i=[],r=(a("8e6e"),a("6b54"),a("53ca")),o=(a("456d"),a("ac6a"),a("a481"),a("6762"),a("2fdb"),a("96cf"),a("1da1")),s=(a("7f7f"),a("28a5"),a("ade3")),l=a("708f"),c=a("5880"),u=a("936b"),d=a("2420"),p=a("11d7"),h=a("78e6"),f=a("f6d3"),g=a("2190"),m=a("047b"),b=a("d480");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={name:"detail",data:function(){return{activeTabs:"0",loading:!1,testLoading:!1,debug:!1,formData:{},baseConfigs:{},requestConfigs:{},responseConfigs:{},stepConfigs:[],validateResponse:{},langConfigs:{},publishDialog:!1,businessType:"default"}},computed:y(y({},Object(c["mapGetters"])(["permission"])),{},{permissionList:function(){return{publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1)}},originId:function(){return this.$route.query.originId||""},actionType:function(){var e=this.$route.path.split("/");return e[e.length-1]||"add"},disabled:function(){return"view"===this.actionType||!1},pageName:function(){return"add"===this.actionType?"新增接口":this.$route.name},serviceName:function(){return this.formData.serviceName||""},apiName:function(){return this.formData.name||""},apiConfig:function(){var e=this.formData&&this.formData.config||{};if("string"===typeof this.formData.config)try{e=JSON.parse(this.formData.config)}catch(t){console.warn("[error in config]",t)}return e||{}},jsonCode:function(){return JSON.stringify(this.apiConfig,null,"    ")}}),components:{apiHeader:u["default"],apiBase:d["default"],apiRequest:p["default"],apiStep:h["default"],apiResponse:f["default"],apiValidate:g["default"],publishDialog:m["default"],codeHighlight:b["default"]},created:function(){this.init()},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(a(),this.init())},watch:{apiConfig:{deep:!0,handler:function(e){this.initConfig(e)}}},methods:y(y({},Object(c["mapActions"])(["removeScript"])),{},{add:function(e,t){var a=this;return this.loading=!0,Object(l["a"])(e).then((function(){a.$message.success("接口保存成功"),a.loading=!1;var e=setTimeout((function(){a.$router.$avueRouter.closeTag(),a.$router.push({path:"/aggregate/api"}),clearTimeout(e),t&&"function"===typeof t&&t()}),300)})).catch((function(){a.loading=!1}))},update:function(e,t){var a=this;return this.loading=!0,Object(l["m"])(e).then((function(){a.$message.success("接口修改成功"),a.loading=!1,a.getDetail(),t&&"function"===typeof t&&t()})).catch((function(){a.loading=!1}))},publish:function(){this.originId?this.publishDialog=!0:this.$message.error("数据缺失，无法发布！")},testPublish:function(){this.$router.$avueRouter.closeTag();var e=this.$route;this.$router.push({path:"/aggregate/test",query:{originId:this.originId,redirect:encodeURIComponent(e.fullPath)}})},testFn:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validateConfigs();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",!1);case 5:if(this.testLoading=!0,a=this.handleSubmitData(),n=this.checkChange(a),!n){e.next=12;break}this.$confirm("配置内容已修改，是否保存后跳转测试页面?",{confirmButtonText:"保存后跳转测试",cancelButtonText:"不保存直接测试",distinguishCancelAndClose:!0,type:"warning"}).then((function(){i.update(a,(function(){return i.testLoading=!1,i.testPublish(a)}))})).catch((function(e){if(i.testLoading=!1,"cancel"===e)return i.testPublish(a)})),e.next=13;break;case 12:return e.abrupt("return",this.testPublish(a));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||this.apiConfig,this.debug=e.debug||!1;var t=e,a=t.headersDef,n=t.paramsDef,i=t.bodyDef,r=t.scriptValidate,o=t.langDef,s=t.dataMapping,l=t.stepConfigs,c=t.validateResponse,u=t.contentType,d=t.xmlArrPaths;this.requestConfigs={headersDef:a,paramsDef:n,bodyDef:i,scriptValidate:r,contentType:u,xmlArrPaths:d},this.langConfigs=o||{},this.responseConfigs=s||{},this.stepConfigs=l||[],this.validateResponse=c||{body:{errorMsg:"string validateMsg"}}},getDetail:function(){var e=this;if(!this.originId)return this.formData={},void(this.baseConfigs={});["edit","view"].includes(this.actionType)&&Object(l["f"])(this.originId).then((function(t){e.formData=t.data.data||{};var a=Object.assign({},e.formData),n=a.id,i=void 0===n?"":n,r=a.serviceId,o=void 0===r?"":r,s=a.name,l=void 0===s?"":s,c=a.method,u=void 0===c?"":c,d=a.path,p=void 0===d?"":d,h=a.developer,f=void 0===h?"":h,g=a.description,m=void 0===g?"":g,b=a.serviceName,v=void 0===b?"":b;p=p.replace("/proxy/".concat(v,"/"),"/"),e.baseConfigs={id:i,serviceId:o,name:l,method:u,path:p,developer:f,description:m,serviceName:v}}))},handleConfig:function(){this.$refs.requestConfigs&&this.$refs.requestConfigs.getJson();var e=Object.assign({},this.requestConfigs);return e.name=this.baseConfigs.name,e.debug=this.debug,e.type="REQUEST",e.method=this.baseConfigs.method,e.path="/proxy/".concat(this.baseConfigs.serviceName)+this.baseConfigs.path,e.validateResponse=this.validateResponse,e.stepConfigs=this.stepConfigs,e.dataMapping=this.responseConfigs,e.langDef=this.langConfigs,JSON.stringify(e)},validateConfigs:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,a=this.$refs.baseForm.validateForm(),this.$refs.requestConfigs&&this.$refs.requestConfigs.validateForm(),a){e.next=7;break}return t=!1,this.$message.error("请完善基础信息"),e.abrupt("return",!1);case 7:if(e.t0=this.$refs.stepForm,!e.t0){e.next=12;break}return e.next=11,this.$refs.stepForm.validate();case 11:e.t0=e.sent;case 12:if(n=e.t0,n){e.next=17;break}return this.$message.error("请完善步骤信息"),t=!1,e.abrupt("return",!1);case 17:if(e.t1=this.$refs.responseForm,!e.t1){e.next=22;break}return e.next=21,this.$refs.responseForm.validate();case 21:e.t1=e.sent;case 22:if(i=e.t1,i.validate){e.next=27;break}return this.$message.error(i.message),t=!1,e.abrupt("return",!1);case 27:return e.abrupt("return",t);case 28:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSubmitData:function(){var e=Object.assign({},this.baseConfigs);return e.path="/proxy/".concat(e.serviceName)+e.path,e.config=this.handleConfig(),e},handleSubmit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.validateConfigs();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return",!1);case 5:a=this.handleSubmitData(),n="add"===this.actionType?this.add:this.update,n(a,(function(){var e=i.$store.state.api.willDelScriptIds||[];e.length>0&&i.removeScript(e.join(",")).then((function(){i.$store.commit("CLEAR_WILL_DEL_SCRIPT_IDS")}))}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/aggregate/api"})},checkChange:function(e){var t=this;if(!e)return!0;var a=!1;return Object.keys(e).forEach((function(n){if("config"!==n&&e[n]!==t.formData[n]&&(a=!0),"config"===n)try{var i=t.deepEqual(JSON.parse(e[n]),JSON.parse(t.formData[n]));a=!i||a}catch(r){console.log(r)}})),a},deepEqual:function(e,t){var a=["fixedHeaders","headers","fixedBody","body","fixedParams","params"];if(e===t)return!0;if("object"==Object(r["a"])(e)&&null!=e&&"object"==Object(r["a"])(t)&&null!=t){if(Object.keys(e).length<Object.keys(t).length)return!1;for(var n in e)if(t.hasOwnProperty(n)){if("[object Array]"===Object.prototype.toString.call(e[n])&&"[object Object]"===Object.prototype.toString.call(t[n])&&a.includes(n)){if(!this.checkJSONArray(e[n],t[n]))return!1}else if(!this.deepEqual(e[n],t[n]))return!1}else if("[]"!==JSON.stringify(e[n])&&"{}"!==JSON.stringify(e[n])&&("contentType"!==n||!e[n]||t[n]))return!1;return!0}return!1},checkJSONArray:function(e,t){for(var a=0;a<e.length;a++)if("object"==Object(r["a"])(e)&&null!=e[a].value||"object"==Object(r["a"])(e)&&null!=t[e[a].key]){if(!this.deepEqual(e[a].value,t[e[a].key]))return!1}else if(e[a].value!==t[e[a].key])return!1;return!0},init:function(){"add"===this.actionType&&(this.formData={}),this.getDetail()}}),beforeDestroy:function(){this.$store.commit("CLEAR_WILL_DEL_SCRIPT_IDS")}},_=w,x=(a("1401"),a("2877")),O=Object(x["a"])(_,n,i,!1,null,"33b7cdd6",null);t["default"]=O.exports},"65ed":function(e,t,a){var n=a("22d1"),i=a("84ec"),r=i.buildTransformer,o="___zrEVENTSAVED",s=[];function l(e,t,a,n,i){return c(s,t,n,i,!0)&&c(e,a,s[0],s[1])}function c(e,t,a,i,r){if(t.getBoundingClientRect&&n.domSupported&&!p(t)){var s=t[o]||(t[o]={}),l=u(t,s),c=d(l,s,r);if(c)return c(e,a,i),!0}return!1}function u(e,t){var a=t.markers;if(a)return a;a=t.markers=[];for(var n=["left","right"],i=["top","bottom"],r=0;r<4;r++){var o=document.createElement("div"),s=o.style,l=r%2,c=(r>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[c]+":0",n[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),e.appendChild(o),a.push(o)}return a}function d(e,t,a){for(var n=a?"invTrans":"trans",i=t[n],o=t.srcCoords,s=!0,l=[],c=[],u=0;u<4;u++){var d=e[u].getBoundingClientRect(),p=2*u,h=d.left,f=d.top;l.push(h,f),s=s&&o&&h===o[p]&&f===o[p+1],c.push(e[u].offsetLeft,e[u].offsetTop)}return s&&i?i:(t.srcCoords=l,t[n]=a?r(c,l):r(l,c))}function p(e){return"CANVAS"===e.nodeName.toUpperCase()}t.transformLocalCoord=l,t.transformCoordWithViewport=c,t.isCanvasEl=p},6679:function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("3eba")),r=a("cd33"),o=i.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,a,n){this.axisPointerClass&&r.fixValue(e),o.superApply(this,"render",arguments),s(this,e,t,a,n,!0)},updateAxisPointer:function(e,t,a,n,i){s(this,e,t,a,n,!1)},remove:function(e,t){var a=this._axisPointer;a&&a.remove(t),o.superApply(this,"remove",arguments)},dispose:function(e,t){l(this,t),o.superApply(this,"dispose",arguments)}});function s(e,t,a,n,i,s){var c=o.getAxisPointerClass(e.axisPointerClass);if(c){var u=r.getAxisPointerModel(t);u?(e._axisPointer||(e._axisPointer=new c)).render(t,u,n,s):l(e,n)}}function l(e,t,a){var n=e._axisPointer;n&&n.dispose(t,a),e._axisPointer=null}var c=[];o.registerAxisPointerClass=function(e,t){c[e]=t},o.getAxisPointerClass=function(e){return e&&c[e]};var u=o;e.exports=u},6747:function(e,t){var a=Array.isArray;e.exports=a},"67ca":function(e,t,a){var n=a("cb5a");function i(e,t){var a=this.__data__,i=n(a,e);return i<0?(++this.size,a.push([e,t])):a[i][1]=t,this}e.exports=i},"684b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paginationSelect"},[a("el-select",{attrs:{disabled:e.disabled,filterable:"",multiple:e.multiple,placeholder:e.placeholder,"filter-method":e.filterMethod,loading:e.loading,clearable:e.clearable},on:{clear:e.selectClear,change:e.updateValue,focus:e.focusMethod},model:{value:e.copyValue,callback:function(t){e.copyValue=t},expression:"copyValue"}},[e._l(e.dataList,(function(t){return a("el-option",{key:t[e.valueKey],attrs:{label:t[e.labelKey],value:t[e.valueKey]}})})),e.showPagination?a("div",{staticClass:"pagination-con"},[a("el-pagination",{attrs:{"current-page":e.pageInfo.pageNo,"page-size":e.pageInfo.pageSize,layout:" prev, pager, next,total",total:e.pageInfo.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()],2)],1)},i=[],r={name:"paginationSelect",props:{value:{type:String,default:""},dataList:{type:Array,default:function(){return[]}},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},pageInfo:{type:Object,default:function(){return{pageNo:1,pageSize:10}}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},elSelectClass:Boolean,placeholder:{type:String,default:"请选择"},showPagination:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0}},watch:{value:{handler:function(e){this.copyValue=e},deep:!0}},data:function(){return{copyValue:this.value}},methods:{updateValue:function(){this.$emit("selectChange",this.copyValue),this.$emit("update:value",this.copyValue)},filterMethod:function(e){this.$emit("selectPageChange",1,this.pageInfo.pageSize,e)},focusMethod:function(){(!this.dataList||this.dataList&&0==this.dataList.length)&&this.filterMethod()},selectClear:function(){this.$emit("selectPageChange",1,this.pageInfo.pageSize,"")},handleCurrentChange:function(e){this.$emit("selectPageChange",e,this.pageInfo.pageSize)}}},o=r,s=(a("6ff4"),a("0a0b"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"4549380d",null);t["default"]=l.exports},"685e":function(e,t,a){"use strict";a("0c59")},"68a2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{attrs:{inline:"true",size:"small"}},[a("el-form-item",{attrs:{label:"网关分组"}},[a("el-select",{attrs:{placeholder:"全部",clearable:""},on:{change:e.handleInterfaceSearch},model:{value:e.searchGroup,callback:function(t){e.searchGroup=t},expression:"searchGroup"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sm-hidden",attrs:{label:"日期范围"}},[a("datetime-range",{attrs:{defaultValue:e.searchDaterange,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"date","value-format":"yyyy-MM-dd",clearable:!1,notMaxtTodayStart:!1,notMaxtTodayEnd:!1},on:{"update:defaultValue":function(t){e.searchDaterange=t},"update:default-value":function(t){e.searchDaterange=t},change:e.handleDateTimePicker}})],1)],1),a("el-row",{staticClass:"chart-area",attrs:{span:24}},[a("el-col",{attrs:{sm:12,xs:24}},[a("div",{staticClass:"chart-item"},[a("interface-echart-line",{ref:"apiChart",attrs:{id:"apiChart",lineColor:"#37a2da",title:e.apiChart.title,xData:e.apiChart.xData,seriesData:e.apiChart.seriesData}})],1)]),a("el-col",{attrs:{sm:12,xs:24}},[a("div",{staticClass:"chart-item"},[a("interface-echart-line",{ref:"visitChart",attrs:{id:"visitChart",lineColor:"#c23531",title:e.visitChart.title,xData:e.visitChart.xData,seriesData:e.visitChart.seriesData}})],1)])],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("ee6e"),l=a("84df"),c=a("ed00"),u=a("8e7d");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={name:"interface-data",components:{interfaceEchartLine:c["default"],datetimeRange:u["default"]},data:function(){return{loading:!0,apiChart:{},visitChart:{},searchGroup:"",searchDaterange:[],interfaceData:[],accessData:[]}},computed:p({},Object(o["mapGetters"])(["groupOptions"])),created:function(){var e=new Date,t=new Date;t.setTime(t.getTime()-864e6),this.searchDaterange=[Object(l["b"])(t,"yyyy-MM-dd"),Object(l["b"])(e,"yyyy-MM-dd")],this.getInterfaceData(),this.getGroupOptions()},methods:p(p({},Object(o["mapActions"])(["getGroupOptions"])),{},{handleDateTimePicker:function(e){this.searchDaterange=e,this.getInterfaceData()},handleInterfaceSearch:function(){this.getInterfaceData()},getInterfaceData:function(){var e=this,t={startDate:this.searchDaterange[0]||"",endDate:this.searchDaterange[1]||"",gatewayGroup:this.searchGroup||""};Object(s["f"])(t).then((function(t){e.loading=!1;var a=t.data.data;e.interfaceData=a.interfaceCountDatum||[],e.accessData=a.accessCountDatum||[],e.renderApiChart(),e.renderAccessChart()}))},renderAccessChart:function(){var e=this,t=this.accessData.map((function(e){return e["statDate"]})),a=this.accessData.map((function(e){return e["count"]}));this.visitChart={title:"访问次数",xData:t,seriesData:a},this.$nextTick((function(){e.$refs.visitChart&&e.$refs.visitChart.init()}))},renderApiChart:function(){var e=this,t=this.interfaceData.map((function(e){return e["statDate"]})),a=this.interfaceData.map((function(e){return e["count"]}));this.apiChart={title:"接口总数",xData:t,seriesData:a},this.$nextTick((function(){e.$refs.apiChart.init()}))}})},f=h,g=(a("4f1c"),a("2877")),m=Object(g["a"])(f,n,i,!1,null,"3fc00303",null);t["default"]=m.exports},"68ab":function(e,t,a){var n=a("4a3f"),i=n.quadraticProjectPoint;function r(e,t,a,n,r,o,s,l,c){if(0===s)return!1;var u=s;if(c>t+u&&c>n+u&&c>o+u||c<t-u&&c<n-u&&c<o-u||l>e+u&&l>a+u&&l>r+u||l<e-u&&l<a-u&&l<r-u)return!1;var d=i(e,t,a,n,r,o,l,c,null);return d<=u/2}t.containStroke=r},"68af":function(e,t,a){"use strict";a("0c50")},"692e":function(e,t,a){var n={"./App.vue":"3dfd","./components/basic-block/main.vue":"c0fb","./components/basic-container/main.vue":"dc8a","./components/breadcrumb-header/main.vue":"3af7","./components/code-editor/index.vue":"9470","./components/code-highlight/index.vue":"d480","./components/code/index.vue":"fb4e","./components/data-editor/index.vue":"4627","./components/datetime-range/index.vue":"8e7d","./components/error-page/403.vue":"a8d0d","./components/error-page/404.vue":"a5fa","./components/error-page/500.vue":"611b","./components/iframe/main.vue":"c1a1","./components/licensed-footer/main.vue":"d322","./components/pagination-select/main.vue":"684b","./page/index/index.vue":"9cc4","./page/index/layout.vue":"9277","./page/index/logo.vue":"7d3a","./page/index/search.vue":"76c2","./page/index/sidebar/index.vue":"20bf","./page/index/sidebar/sidebarItem.vue":"7505","./page/index/tags.vue":"5ddc","./page/index/top/index.vue":"195f","./page/index/top/top-color.vue":"44b2","./page/index/top/top-lang.vue":"c7cc","./page/index/top/top-license.vue":"1866","./page/index/top/top-lock.vue":"14cd","./page/index/top/top-logs.vue":"0f22","./page/index/top/top-menu.vue":"286c","./page/index/top/top-notice.vue":"ad51","./page/index/top/top-search.vue":"9812","./page/index/top/top-theme.vue":"107f","./page/lock/index.vue":"15c5","./page/login/authredirect.vue":"84a6","./page/login/codelogin.vue":"acd4","./page/login/index.vue":"5596","./page/login/thirdlogin.vue":"124f","./page/login/userlogin.vue":"7c05","./page/logs/index.vue":"08ae","./views/aggregate-record/apply-detail.vue":"62bb0","./views/aggregate-record/apply.vue":"8fe7","./views/aggregate-record/audit-detail.vue":"340c","./views/aggregate-record/audit-log.vue":"e4d1","./views/aggregate-record/audit.vue":"1e65","./views/aggregate-record/components/apply-detail.vue":"7079","./views/aggregate-record/components/apply.vue":"1a1f","./views/aggregate-record/components/audit-detail.vue":"218b","./views/aggregate-record/components/revoke-dialog.vue":"c43f","./views/aggregate/api-detail.vue":"65d4","./views/aggregate/api.vue":"8602","./views/aggregate/components/api-detail/addComponent/circle.dialog.vue":"04b4","./views/aggregate/components/api-detail/addComponent/compareForm.vue":"e815","./views/aggregate/components/api-detail/addComponent/condition.dialog.vue":"44d0","./views/aggregate/components/api-detail/addComponent/execBreak.vue":"9288","./views/aggregate/components/api-detail/addComponent/index.vue":"c983","./views/aggregate/components/api-detail/base.vue":"2420","./views/aggregate/components/api-detail/request.vue":"11d7","./views/aggregate/components/api-detail/response.vue":"f6d3","./views/aggregate/components/api-detail/step/request-item.vue":"fd89","./views/aggregate/components/api-detail/step/requests.vue":"5e9f","./views/aggregate/components/api-detail/step/step-item.vue":"4c07","./views/aggregate/components/api-detail/steps.vue":"78e6","./views/aggregate/components/api-detail/validate.vue":"2190","./views/aggregate/components/api-state-tag.vue":"5a57","./views/aggregate/components/apply-api.vue":"6d18","./views/aggregate/components/apply-dialog.vue":"247e","./views/aggregate/components/data-params.vue":"942a","./views/aggregate/components/header.vue":"936b","./views/aggregate/components/json-schema-table.vue":"07d3","./views/aggregate/components/params-table.vue":"83b0","./views/aggregate/components/publish-dialog.vue":"047b","./views/aggregate/components/quoteTooltip.vue":"cc38","./views/aggregate/components/script-dialog.vue":"2fa9","./views/aggregate/components/test-item.vue":"efcc","./views/aggregate/components/values-table.vue":"247e2","./views/aggregate/components/valuesTable.vue":"8c58","./views/aggregate/components/xml-info.vue":"921f","./views/aggregate/history-detail.vue":"e931","./views/aggregate/history.vue":"ba11","./views/aggregate/log-detail.vue":"892a","./views/aggregate/operation-log.vue":"9aa2","./views/aggregate/service.vue":"1da2","./views/aggregate/test.vue":"e282","./views/alarm/list.vue":"84c4","./views/alarm/select-service.dialog.vue":"1330","./views/alarm/select-users.dialog.vue":"1a9b","./views/alarm/subscription-detail.vue":"2de0","./views/alarm/subscription.vue":"d2bc","./views/auth-page/active-code.dialog.vue":"d65e","./views/auth-page/auth.vue":"36f2","./views/authority/apiscope.vue":"646e","./views/authority/datascope.vue":"879d","./views/authority/role.vue":"60f8","./views/callback/components/playback-dialog.vue":"d4b8","./views/callback/config.vue":"4c19","./views/callback/detail.vue":"0a91","./views/callback/log.vue":"7de4","./views/callback/playback.vue":"7fb3","./views/flow/api.vue":"55fd","./views/flow/appid.vue":"859b","./views/flow/default.vue":"980c4","./views/flow/ip.vue":"d2bd","./views/fuse/default-rule.vue":"bd5b","./views/fuse/inter-detail.dialog.vue":"8078","./views/fuse/interface.vue":"877e","./views/gateway/components/echart-line.vue":"8517","./views/gateway/components/flow-data.vue":"b599","./views/gateway/components/gateway-data.vue":"36fc","./views/gateway/components/interface-data.vue":"68a2","./views/gateway/components/interface-echart-line.vue":"ed00","./views/gateway/components/real-time-data.vue":"87a9","./views/gateway/components/top-data.vue":"300a","./views/gateway/config.vue":"84cd","./views/gateway/dict-detail.dialog.vue":"b084","./views/gateway/dict-history.vue":"419b","./views/gateway/dict.vue":"df14","./views/gateway/gateway-ip.dialog.vue":"50d2","./views/gateway/group-detail.vue":"745d","./views/gateway/group.vue":"d7d1","./views/gateway/instance.vue":"630e","./views/gateway/list.vue":"b76d","./views/gateway/log.vue":"e3f0","./views/gateway/plugin.dialog.vue":"6a3e","./views/gateway/plugin.vue":"2101","./views/gateway/setting.vue":"97ce","./views/interface/address-detail.dialog.vue":"7f9e","./views/interface/address.vue":"18df","./views/interface/auth-detail.vue":"c363","./views/interface/authentication.vue":"8a56","./views/interface/collection-detail.vue":"04a6","./views/interface/collection.vue":"45ff","./views/interface/components/document-base.vue":"a9ec","./views/interface/components/inter-info.vue":"862dd","./views/interface/components/interface-match/api.vue":"f38d","./views/interface/components/request-table.vue":"3657","./views/interface/document-detail.vue":"55d7","./views/interface/document-history.vue":"4c67","./views/interface/document-inter.vue":"042a","./views/interface/document.dialog.vue":"3ec6","./views/interface/document.vue":"588ee","./views/interface/preview.vue":"38e0","./views/proxy/addRoute.dialog.vue":"3e31","./views/proxy/api.vue":"1754","./views/proxy/appid.vue":"828f","./views/proxy/components/add-appid.vue":"c8b6","./views/proxy/components/header.vue":"9b51","./views/proxy/components/plugin-config-con.vue":"378a","./views/proxy/components/plugin-config.vue":"60cc","./views/proxy/components/plugin-form.vue":"6cdf","./views/proxy/components/plugin-list.vue":"7555","./views/proxy/components/test-path.vue":"2d92","./views/proxy/components/tooltip-appid.vue":"17e0","./views/proxy/components/tooltip-custom.vue":"dd62","./views/proxy/components/tooltip-md5.vue":"8fdd","./views/proxy/components/tooltip-path.vue":"ccdc","./views/proxy/config-detail.dialog.vue":"d15d","./views/proxy/config.vue":"8514","./views/proxy/detail.vue":"e3ca","./views/proxy/ip.vue":"cbe6","./views/proxy/plugin.drawer.vue":"0149","./views/proxy/routeList.dialog.vue":"ccbc","./views/proxy/service-remark.dialog.vue":"0144","./views/public-network/add-business.dialog.vue":"dedb","./views/public-network/add-route.dialog.vue":"9a2a","./views/public-network/appid.dialog.vue":"bf76","./views/public-network/business-detail.vue":"7ab8","./views/public-network/business.vue":"6583","./views/public-network/dedicated-line-detail.vue":"e077","./views/public-network/dedicated-line.vue":"e20e","./views/public-network/match-code.dialog.vue":"59df","./views/public-network/pair-code.dialog.vue":"776d","./views/public-network/pair.vue":"ccb2","./views/public-network/set-gateway.dialog.vue":"d5ef","./views/public-network/usage.dialog.vue":"6e09","./views/rpc/api.vue":"1c4b","./views/rpc/components/api-detail.vue":"74a0","./views/rpc/components/api-selector.vue":"1763","./views/rpc/components/service-detail.vue":"b874","./views/rpc/components/tooltip-service.vue":"fee70","./views/rpc/service.vue":"b5fd","./views/system/client.vue":"9765","./views/system/dept.vue":"88b69","./views/system/dict.vue":"6bce","./views/system/dictbiz.vue":"b74c","./views/system/menu.vue":"5d8a","./views/system/param.vue":"09e0f","./views/system/post.vue":"156f","./views/system/tenant.vue":"14a7","./views/system/user.vue":"b979","./views/system/userinfo.vue":"095a","./views/util/affix.vue":"9b9b","./views/util/cache.vue":"f100","./views/util/crud-form.vue":"7eb6","./views/util/data.vue":"561f","./views/util/demo/dict-classic.vue":"0983","./views/util/demo/dict-horizontal.vue":"6486","./views/util/demo/dict-vertical.vue":"dd4b","./views/util/form-detail.vue":"a597","./views/util/form.vue":"5589","./views/util/logs.vue":"2004","./views/util/permission.vue":"5789","./views/util/store.vue":"88b0","./views/util/table.vue":"41cf","./views/util/tags.vue":"5ad20","./views/util/test.vue":"ab5c","./views/util/top.vue":"d4c8","./views/wel/dashboard.vue":"4b9f","./views/wel/index.vue":"4e3c"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="692e"},6940:function(e,t,a){},"697e":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=a("18c0"),o=a("89e3"),s=a("e0d8"),l=a("3842"),c=a("9d57"),u=c.prepareLayoutBarSeries,d=c.makeColumnLayout,p=c.retrieveColumnLayout,h=a("9850");function f(e,t){var a,n,r,o=e.type,s=t.getMin(),c=t.getMax(),p=e.getExtent();"ordinal"===o?a=t.getCategories().length:(n=t.get("boundaryGap"),i.isArray(n)||(n=[n||0,n||0]),"boolean"===typeof n[0]&&(n=[0,0]),n[0]=l.parsePercent(n[0],1),n[1]=l.parsePercent(n[1],1),r=p[1]-p[0]||Math.abs(p[0])),"dataMin"===s?s=p[0]:"function"===typeof s&&(s=s({min:p[0],max:p[1]})),"dataMax"===c?c=p[1]:"function"===typeof c&&(c=c({min:p[0],max:p[1]}));var h=null!=s,f=null!=c;null==s&&(s="ordinal"===o?a?0:NaN:p[0]-n[0]*r),null==c&&(c="ordinal"===o?a?a-1:NaN:p[1]+n[1]*r),(null==s||!isFinite(s))&&(s=NaN),(null==c||!isFinite(c))&&(c=NaN),e.setBlank(i.eqNaN(s)||i.eqNaN(c)||"ordinal"===o&&!e.getOrdinalMeta().categories.length),t.getNeedCrossZero()&&(s>0&&c>0&&!h&&(s=0),s<0&&c<0&&!f&&(c=0));var m=t.ecModel;if(m&&"time"===o){var b,v=u("bar",m);if(i.each(v,(function(e){b|=e.getBaseAxis()===t.axis})),b){var y=d(v),w=g(s,c,t,y);s=w.min,c=w.max}}return{extent:[s,c],fixMin:h,fixMax:f}}function g(e,t,a,n){var r=a.axis.getExtent(),o=r[1]-r[0],s=p(n,a.axis);if(void 0===s)return{min:e,max:t};var l=1/0;i.each(s,(function(e){l=Math.min(e.offset,l)}));var c=-1/0;i.each(s,(function(e){c=Math.max(e.offset+e.width,c)})),l=Math.abs(l),c=Math.abs(c);var u=l+c,d=t-e,h=1-(l+c)/o,f=d/h-d;return t+=f*(c/u),e-=f*(l/u),{min:e,max:t}}function m(e,t){var a=f(e,t),n=a.extent,i=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var r=e.type;e.setExtent(n[0],n[1]),e.niceExtent({splitNumber:i,fixMin:a.fixMin,fixMax:a.fixMax,minInterval:"interval"===r||"time"===r?t.get("minInterval"):null,maxInterval:"interval"===r||"time"===r?t.get("maxInterval"):null});var o=t.get("interval");null!=o&&e.setInterval&&e.setInterval(o)}function b(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new r(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new o;default:return(s.getClass(t)||o).create(e)}}function v(e){var t=e.scale.getExtent(),a=t[0],n=t[1];return!(a>0&&n>0||a<0&&n<0)}function y(e){var t=e.getLabelModel().get("formatter"),a="category"===e.type?e.scale.getExtent()[0]:null;return"string"===typeof t?(t=function(t){return function(a){return a=e.scale.getLabel(a),t.replace("{value}",null!=a?a:"")}}(t),t):"function"===typeof t?function(n,i){return null!=a&&(i=n-a),t(w(e,n),i)}:function(t){return e.scale.getLabel(t)}}function w(e,t){return"category"===e.type?e.scale.getLabel(t):t}function _(e){var t=e.model,a=e.scale;if(t.get("axisLabel.show")&&!a.isBlank()){var n,i,r="category"===e.type,o=a.getExtent();r?i=a.count():(n=a.getTicks(),i=n.length);var s,l=e.getLabelModel(),c=y(e),u=1;i>40&&(u=Math.ceil(i/40));for(var d=0;d<i;d+=u){var p=n?n[d]:o[0]+d,h=c(p),f=l.getTextRect(h),g=x(f,l.get("rotate")||0);s?s.union(g):s=g}return s}}function x(e,t){var a=t*Math.PI/180,n=e.plain(),i=n.width,r=n.height,o=i*Math.abs(Math.cos(a))+Math.abs(r*Math.sin(a)),s=i*Math.abs(Math.sin(a))+Math.abs(r*Math.cos(a)),l=new h(n.x,n.y,o,s);return l}function O(e){var t=e.get("interval");return null==t?"auto":t}function D(e){return"category"===e.type&&0===O(e.getLabelModel())}a("216a"),a("8c2a"),t.getScaleExtent=f,t.niceScaleExtent=m,t.createScaleByModel=b,t.ifAxisCrossZero=v,t.makeLabelFormatter=y,t.getAxisRawValue=w,t.estimateLabelUnionRect=_,t.getOptionCategoryInterval=O,t.shouldShowAllLabels=D},"697e7":function(e,t,a){var n=a("de00"),i=a("22d1"),r=a("6d8b"),o=a("d2cf"),s=a("afa0"),l=a("ed21"),c=a("30a3"),u=a("cdaa"),d=!i.canvasSupported,p={canvas:l},h={},f="4.3.2";function g(e,t){var a=new w(n(),e,t);return h[a.id]=a,a}function m(e){if(e)e.dispose();else{for(var t in h)h.hasOwnProperty(t)&&h[t].dispose();h={}}return this}function b(e){return h[e]}function v(e,t){p[e]=t}function y(e){delete h[e]}var w=function(e,t,a){a=a||{},this.dom=t,this.id=e;var n=this,l=new s,h=a.renderer;if(d){if(!p.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");h="vml"}else h&&p[h]||(h="canvas");var f=new p[h](t,l,a,e);this.storage=l,this.painter=f;var g=i.node||i.worker?null:new u(f.getViewportRoot(),f.root);this.handler=new o(l,f,g,f.root),this.animation=new c({stage:{update:r.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var m=l.delFromStorage,b=l.addToStorage;l.delFromStorage=function(e){m.call(l,e),e&&e.removeSelfFromZr(n)},l.addToStorage=function(e){b.call(l,e),e.addSelfToZr(n)}};w.prototype={constructor:w,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var a=this.painter.addHover(e,t);return this.refreshHover(),a}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,a){this.handler.on(e,t,a)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,y(this.id)}},t.version=f,t.init=g,t.dispose=m,t.getInstance=b,t.registerPainter=v},"69d5":function(e,t,a){var n=a("cb5a"),i=Array.prototype,r=i.splice;function o(e){var t=this.__data__,a=n(t,e);if(a<0)return!1;var i=t.length-1;return a==i?t.pop():r.call(t,a,1),--this.size,!0}e.exports=o},"69ff":function(e,t,a){var n=a("6d8b"),i=n.each,r=n.map,o=n.isFunction,s=n.createHashMap,l=n.noop,c=a("f47d"),u=c.createTask,d=a("8918"),p=d.getUID,h=a("7e63"),f=a("843e"),g=a("e0d3"),m=g.normalizeToArray;function b(e,t,a,n){this.ecInstance=e,this.api=t,this.unfinished;a=this._dataProcessorHandlers=a.slice(),n=this._visualHandlers=n.slice();this._allHandlers=a.concat(n),this._stageTaskMap=s()}var v=b.prototype;function y(e,t,a,n,r){var o;function s(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}r=r||{},i(t,(function(t,i){if(!r.visualType||r.visualType===t.visualType){var l=e._stageTaskMap.get(t.uid),c=l.seriesTaskMap,u=l.overallTask;if(u){var d,p=u.agentStubMap;p.each((function(e){s(r,e)&&(e.dirty(),d=!0)})),d&&u.dirty(),w(u,n);var h=e.getPerformArgs(u,r.block);p.each((function(e){e.perform(h)})),o|=u.perform(h)}else c&&c.each((function(i,l){s(r,i)&&i.dirty();var c=e.getPerformArgs(i,r.block);c.skip=!t.performRawSeries&&a.isSeriesFiltered(i.context.model),w(i,n),o|=i.perform(c)}))}})),e.unfinished|=o}v.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))},v.getPerformArgs=function(e,t){if(e.__pipeline){var a=this._pipelineMap.get(e.__pipeline.id),n=a.context,i=!t&&a.progressiveEnabled&&(!n||n.progressiveRender)&&e.__idxInPipeline>a.blockIndex,r=i?a.step:null,o=n&&n.modDataCount,s=null!=o?Math.ceil(o/r):null;return{step:r,modBy:s,modDataCount:o}}},v.getPipeline=function(e){return this._pipelineMap.get(e)},v.updateStreamModes=function(e,t){var a=this._pipelineMap.get(e.uid),n=e.getData(),i=n.count(),r=a.progressiveEnabled&&t.incrementalPrepareRender&&i>=a.threshold,o=e.get("large")&&i>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=a.context={progressiveRender:r,modDataCount:s,large:o}},v.restorePipelines=function(e){var t=this,a=t._pipelineMap=s();e.eachSeries((function(e){var n=e.getProgressive(),i=e.uid;a.set(i,{id:i,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:n&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(n||700),count:0}),L(t,e,e.dataTask)}))},v.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),a=this.api;i(this._allHandlers,(function(n){var i=e.get(n.uid)||e.set(n.uid,[]);n.reset&&_(this,n,i,t,a),n.overallReset&&x(this,n,i,t,a)}),this)},v.prepareView=function(e,t,a,n){var i=e.renderTask,r=i.context;r.model=t,r.ecModel=a,r.api=n,i.__block=!e.incrementalPrepareRender,L(this,t,i)},v.performDataProcessorTasks=function(e,t){y(this,this._dataProcessorHandlers,e,t,{block:!0})},v.performVisualTasks=function(e,t,a){y(this,this._visualHandlers,e,t,a)},v.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t|=e.dataTask.perform()})),this.unfinished|=t},v.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))};var w=v.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)};function _(e,t,a,n,i){var r=a.seriesTaskMap||(a.seriesTaskMap=s()),o=t.seriesType,l=t.getTargetSeries;function c(a){var o=a.uid,s=r.get(o)||r.set(o,u({plan:S,reset:j,count:I}));s.context={model:a,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},L(e,a,s)}t.createOnAllSeries?n.eachRawSeries(c):o?n.eachRawSeriesByType(o,c):l&&l(n,i).each(c);var d=e._pipelineMap;r.each((function(e,t){d.get(t)||(e.dispose(),r.removeKey(t))}))}function x(e,t,a,n,r){var o=a.overallTask=a.overallTask||u({reset:O});o.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:e};var l=o.agentStubMap=o.agentStubMap||s(),c=t.seriesType,d=t.getTargetSeries,p=!0,h=t.modifyOutputEnd;function f(t){var a=t.uid,n=l.get(a);n||(n=l.set(a,u({reset:D,onDirty:k})),o.dirty()),n.context={model:t,overallProgress:p,modifyOutputEnd:h},n.agent=o,n.__block=p,L(e,t,n)}c?n.eachRawSeriesByType(c,f):d?d(n,r).each(f):(p=!1,i(n.getSeries(),f));var g=e._pipelineMap;l.each((function(e,t){g.get(t)||(e.dispose(),o.dirty(),l.removeKey(t))}))}function O(e){e.overallReset(e.ecModel,e.api,e.payload)}function D(e,t){return e.overallProgress&&C}function C(){this.agent.dirty(),this.getDownstream().dirty()}function k(){this.agent&&this.agent.dirty()}function S(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function j(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=m(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?r(t,(function(e,t){return T(t)})):P}var P=T(0);function T(e){return function(t,a){var n=a.data,i=a.resetDefines[e];if(i&&i.dataEach)for(var r=t.start;r<t.end;r++)i.dataEach(n,r);else i&&i.progress&&i.progress(t,n)}}function I(e){return e.data.count()}function L(e,t,a){var n=t.uid,i=e._pipelineMap.get(n);!i.head&&(i.head=a),i.tail&&i.tail.pipe(a),i.tail=a,a.__idxInPipeline=i.count++,a.__pipeline=i}function z(e){$=null;try{e(M,E)}catch(t){}return $}b.wrapStageHandler=function(e,t){return o(e)&&(e={overallReset:e,seriesType:z(e)}),e.uid=p("stageHandler"),t&&(e.visualType=t),e};var $,M={},E={};function A(e,t){for(var a in t.prototype)e[a]=l}A(M,h),A(E,f),M.eachSeriesByType=M.eachRawSeriesByType=function(e){$=e},M.eachComponent=function(e){"series"===e.mainType&&e.subType&&($=e.subType)};var R=b;e.exports=R},"6a3e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{ref:"appidDrawer",attrs:{"append-to-body":"",title:"添加插件",size:"50%",visible:e.drawerVisible,"modal-append-to-body":!1,wrapperClosable:!1},on:{"update:visible":function(t){e.drawerVisible=t}}},[a("div",[a("div",{staticStyle:{"padding-bottom":"50px"}},[a("plugin-list",{attrs:{config:e.pluginOptions},on:{change:e.getSelectionPlugins}})],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handlePluginDrawer}},[e._v("添 加")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.pluginDrawer=!1}}},[e._v("取 消")])],1)])])},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("4f7f"),a("5df3"),a("1c4c"),a("ade3")),o=a("c8b6"),s=a("5880");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={name:"pluginDialog",components:{addAppid:o["default"]},props:{visible:{type:Boolean,default:!1}},computed:c(c({},Object(s["mapGetters"])(["pluginOptions"])),{},{drawerVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}}}),data:function(){return{selectionPlugins:[],apiPlugins:[]}},methods:c(c({},Object(s["mapActions"])(["getPluginOptions"])),{},{getSelectionPlugins:function(e){this.selectionPlugins=e},handlePluginDrawer:function(){this.addPlugin(this.selectionPlugins),this.pluginDrawer=!1,this.$emit("emitData",this.apiPlugins)},addPlugin:function(e){var t={},a=this.apiPlugins.concat(e);a=Array.from(new Set(a)),a=a.reduce((function(e,a){var n=a.id||a.plugin;return t[n]||(t[n]=!0,e.push(a)),e}),[]),this.apiPlugins=a}}),created:function(){this.getPluginOptions()}},d=u,p=(a("4637"),a("2877")),h=Object(p["a"])(d,n,i,!1,null,"6bc8488b",null);t["default"]=h.exports},"6ac0":function(e,t){function a(e,t,a,n){var i=-1,r=null==e?0:e.length;n&&r&&(a=e[++i]);while(++i<r)a=t(a,e[i],i,e);return a}e.exports=a},"6b32":function(e,t,a){},"6bce":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:11}},[a("basic-container",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("字典列表")])]),a("div",{staticClass:"clearfix"},[a("avue-crud",{ref:"crud",attrs:{option:e.optionParent,"table-loading":e.loading,data:e.dataParent,page:e.pageParent,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"row-click":e.handleRowClick,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoadParent},scopedSlots:e._u([{key:"isSealed",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:e.formParent,callback:function(t){e.formParent=t},expression:"formParent"}},[a("template",{slot:"menuLeft"},[e.permission.dict_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n              ")]):e._e()],1)],2)],1)])],1)],1),a("el-col",{attrs:{span:13}},[a("basic-container",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("["+e._s(e.dictValue)+"] 字典详情")])]),a("div",{staticClass:"clearfix"},[a("avue-crud",{ref:"crudChild",attrs:{option:e.optionChild,"table-loading":e.loadingChild,data:e.dataChild,page:e.pageChild,permission:e.permissionList,"before-open":e.beforeOpenChild},on:{"row-del":e.rowDelChild,"row-update":e.rowUpdateChild,"row-save":e.rowSaveChild,"search-change":e.searchChangeChild,"search-reset":e.searchResetChild,"selection-change":e.selectionChangeChild,"current-change":e.currentChangeChild,"size-change":e.sizeChangeChild,"refresh-change":e.refreshChangeChild,"on-load":e.onLoadChild},scopedSlots:e._u([{key:"isSealed",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:e.formChild,callback:function(t){e.formChild=t},expression:"formChild"}},[a("template",{slot:"menuLeft"},[e.permission.dict_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n              ")]):e._e()],1)],2)],1)])],1)],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("7754"),s={tip:!1,searchShow:!0,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:150,dialogWidth:880,dialogClickModal:!1,menuPosition:"right",column:[{label:"字典编号",prop:"code",search:!0,searchSpan:12,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,searchSpan:12,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",align:"right",width:80,hide:!0,rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"switch",align:"center",width:80,dicData:[{label:"否",value:0},{label:"是",value:1}],value:0,slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",hide:!0}]},l={tip:!1,searchShow:!0,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:150,dialogWidth:880,dialogClickModal:!1,menuPosition:"right",column:[{label:"字典编号",prop:"code",addDisabled:!0,editDisabled:!0,search:!0,searchSpan:12,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,searchSpan:12,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"上级字典",prop:"parentId",type:"tree",dicData:[],hide:!0,props:{label:"title"},addDisabled:!0,editDisabled:!0,rules:[{required:!1,message:"请选择上级字典",trigger:"click"}]},{label:"字典键值",prop:"dictKey",width:80,rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",align:"right",width:80,rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"switch",align:"center",width:80,dicData:[{label:"否",value:0},{label:"是",value:1}],value:0,slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",hide:!0}]},c=a("5880");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={data:function(){return{dictValue:"暂无",parentId:-1,formParent:{},formChild:{},selectionList:[],query:{},loading:!0,loadingChild:!0,pageParent:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},pageChild:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},dataParent:[],dataChild:[],optionParent:s,optionChild:l}},computed:d(d({},Object(c["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1),viewBtn:!1}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),mounted:function(){var e=this;Object(o["d"])().then((function(t){var a=e.findObject(e.optionChild.column,"parentId");a.dicData=t.data.data}))},methods:{rowSave:function(e,t,a){var n=this,i=d(d({},e),{},{dictKey:-1});Object(o["a"])(i).then((function(){n.onLoadParent(n.pageParent),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["i"])(e).then((function(){i.onLoadParent(i.pageParent),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadParent(t.pageParent),t.$message({type:"success",message:"操作成功!"})}))},handleRowClick:function(e){this.parentId=e.id,this.dictValue=e.dictValue,this.$refs.crudChild.value.code=e.code,this.$refs.crudChild.value.parentId=e.id,this.$refs.crudChild.option.column.filter((function(t){"code"===t.prop&&(t.value=e.code),"parentId"===t.prop&&(t.value=e.id)})),this.onLoadChild(this.pageChild)},searchReset:function(){this.query={},this.onLoadParent(this.pageParent)},searchChange:function(e,t){this.query=e,this.pageParent.currentPage=1,this.onLoadParent(this.pageParent,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadParent(e.pageParent),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["c"])(this.formParent.id).then((function(e){a.formParent=e.data.data})),e()},currentChange:function(e){this.pageParent.currentPage=e},sizeChange:function(e){this.pageParent.pageSize=e},refreshChange:function(){this.onLoadParent(this.pageParent,this.query)},rowSaveChild:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoadChild(n.pageChild),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdateChild:function(e,t,a,n){var i=this;Object(o["i"])(e).then((function(){i.onLoadChild(i.pageChild),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDelChild:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadChild(t.pageChild),t.$message({type:"success",message:"操作成功!"})}))},searchResetChild:function(){this.query={},this.onLoadChild(this.pageChild)},searchChangeChild:function(e,t){this.query=e,this.pageChild.currentPage=1,this.onLoadChild(this.pageChild,e),t()},selectionChangeChild:function(e){this.selectionList=e},selectionClearChild:function(){this.selectionList=[],this.$refs.crudChild.toggleSelection()},handleDeleteChild:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadChild(e.pageChild),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudChild.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenChild:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["c"])(this.formChild.id).then((function(e){a.formChild=e.data.data})),e()},currentChangeChild:function(e){this.pageChild.currentPage=e},sizeChangeChild:function(e){this.pageChild.pageSize=e},refreshChangeChild:function(){this.onLoadChild(this.pageChild,this.query)},onLoadParent:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["g"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.pageParent.total=a.total,t.dataParent=a.records,t.loading=!1,t.selectionClear()}))},onLoadChild:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loadingChild=!0,Object(o["b"])(e.currentPage,e.pageSize,this.parentId,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.pageChild.total=a.total,t.dataChild=a.records,t.loadingChild=!1,t.selectionClear()}))}}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,null,null);t["default"]=g.exports},"6be7":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a("b5c6"),i=a("da71"),r=function(){return Object(n["a"])({url:"".concat(i["a"],"/flow-control-rule/get-global-rule"),method:"get"})},o=function(e){return Object(n["a"])({url:"".concat(i["a"],"/flow-control-rule/save-global-rule"),method:"post",data:e})}},"6c43":function(e,t,a){"use strict";a("522c")},"6c8c":function(e,t,a){"use strict";a("d9b3")},"6cb7":function(e,t,a){var n=a("6d8b"),i=a("4319"),r=a("8918"),o=a("625e"),s=o.enableClassManagement,l=o.parseClassType,c=a("e0d3"),u=c.makeInner,d=a("f934"),p=a("de1c"),h=u(),f=i.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,a,n){i.call(this,e,t,a,n),this.uid=r.getUID("ec_cpt_model")},init:function(e,t,a,n){this.mergeDefaultAndTheme(e,a)},mergeDefaultAndTheme:function(e,t){var a=this.layoutMode,i=a?d.getLayoutParams(e):{},r=t.getTheme();n.merge(e,r.get(this.mainType)),n.merge(e,this.getDefaultOption()),a&&d.mergeLayoutParam(e,i,a)},mergeOption:function(e,t){n.merge(this.option,e,!0);var a=this.layoutMode;a&&d.mergeLayoutParam(this.option,e,a)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=h(this);if(!e.defaultOption){var t=[],a=this.constructor;while(a){var i=a.prototype.defaultOption;i&&t.push(i),a=a.superClass}for(var r={},o=t.length-1;o>=0;o--)r=n.merge(r,t[o],!0);e.defaultOption=r}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});function g(e){var t=[];return n.each(f.getClassesByMainType(e),(function(e){t=t.concat(e.prototype.dependencies||[])})),t=n.map(t,(function(e){return l(e).main})),"dataset"!==e&&n.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}s(f,{registerWhenExtend:!0}),r.enableSubTypeDefaulter(f),r.enableTopologicalTravel(f,g),n.mixin(f,p);var m=f;e.exports=m},"6cd4":function(e,t,a){var n=a("8057"),i=a("48a0"),r=a("1304"),o=a("6747");function s(e,t){var a=o(e)?n:i;return a(e,r(t))}e.exports=s},"6d18":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"apply-api"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,"cell-class-name":"api-cell"},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"currentState",fn:function(e){var t=e.row;return[a("api-state-tag",{attrs:{"is-modified":t.isModified,"current-state":t.currentState,"approval-state":t.approvalState}})]}}])})],1)},i=[],r=(a("ac6a"),a("708f")),o=a("f874"),s=a("5a57"),l={data:function(){return{query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{size:"mini",border:!0,selection:!0,tip:!1,columnBtn:!1,addBtn:!1,menu:!1,menuPosition:"right",searchGutter:"0",selectable:function(e){return![1,2,3].some((function(t){return e.approvalState===t}))},column:[{label:"所属服务",prop:"serviceName",search:!0,searchSpan:12},{label:"接口名",prop:"name",minWidth:120,search:!0,searchSpan:12},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120,search:!0,searchSpan:12},{label:"开发人员",prop:"developer"},{label:"状态",prop:"currentState",slot:!0,width:100,align:"center",search:!0,type:"select",dicData:o["a"],searchSpan:12}]},data:[]}},props:{selection:{type:[Object,Array]}},components:{apiStateTag:s["default"]},computed:{ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}},watch:{selectionList:{deep:!0,handler:function(){this.emitData()}}},methods:{emitData:function(){this.$emit("update:selection",this.selectionList)},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(r["g"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},c=l,u=(a("dbd4"),a("78bb"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"71d8cb96",null);t["default"]=d.exports},"6d8b":function(e,t){var a={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},n={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},i=Object.prototype.toString,r=Array.prototype,o=r.forEach,s=r.filter,l=r.slice,c=r.map,u=r.reduce,d={};function p(e,t){"createCanvas"===e&&(v=null),d[e]=t}function h(e){if(null==e||"object"!==typeof e)return e;var t=e,r=i.call(e);if("[object Array]"===r){if(!X(e)){t=[];for(var o=0,s=e.length;o<s;o++)t[o]=h(e[o])}}else if(n[r]){if(!X(e)){var l=e.constructor;if(e.constructor.from)t=l.from(e);else{t=new l(e.length);for(o=0,s=e.length;o<s;o++)t[o]=h(e[o])}}}else if(!a[r]&&!X(e)&&!R(e))for(var c in t={},e)e.hasOwnProperty(c)&&(t[c]=h(e[c]));return t}function f(e,t,a){if(!M(t)||!M(e))return a?h(t):e;for(var n in t)if(t.hasOwnProperty(n)){var i=e[n],r=t[n];!M(r)||!M(i)||L(r)||L(i)||R(r)||R(i)||E(r)||E(i)||X(r)||X(i)?!a&&n in e||(e[n]=h(t[n],!0)):f(i,r,a)}return e}function g(e,t){for(var a=e[0],n=1,i=e.length;n<i;n++)a=f(a,e[n],t);return a}function m(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function b(e,t,a){for(var n in t)t.hasOwnProperty(n)&&(a?null!=t[n]:null==e[n])&&(e[n]=t[n]);return e}var v,y=function(){return d.createCanvas()};function w(){return v||(v=y().getContext("2d")),v}function _(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var a=0,n=e.length;a<n;a++)if(e[a]===t)return a}return-1}function x(e,t){var a=e.prototype;function n(){}for(var i in n.prototype=t.prototype,e.prototype=new n,a)a.hasOwnProperty(i)&&(e.prototype[i]=a[i]);e.prototype.constructor=e,e.superClass=t}function O(e,t,a){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,b(e,t,a)}function D(e){if(e)return"string"!==typeof e&&"number"===typeof e.length}function C(e,t,a){if(e&&t)if(e.forEach&&e.forEach===o)e.forEach(t,a);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(a,e[n],n,e);else for(var r in e)e.hasOwnProperty(r)&&t.call(a,e[r],r,e)}function k(e,t,a){if(e&&t){if(e.map&&e.map===c)return e.map(t,a);for(var n=[],i=0,r=e.length;i<r;i++)n.push(t.call(a,e[i],i,e));return n}}function S(e,t,a,n){if(e&&t){if(e.reduce&&e.reduce===u)return e.reduce(t,a,n);for(var i=0,r=e.length;i<r;i++)a=t.call(n,a,e[i],i,e);return a}}function j(e,t,a){if(e&&t){if(e.filter&&e.filter===s)return e.filter(t,a);for(var n=[],i=0,r=e.length;i<r;i++)t.call(a,e[i],i,e)&&n.push(e[i]);return n}}function P(e,t,a){if(e&&t)for(var n=0,i=e.length;n<i;n++)if(t.call(a,e[n],n,e))return e[n]}function T(e,t){var a=l.call(arguments,2);return function(){return e.apply(t,a.concat(l.call(arguments)))}}function I(e){var t=l.call(arguments,1);return function(){return e.apply(this,t.concat(l.call(arguments)))}}function L(e){return"[object Array]"===i.call(e)}function z(e){return"function"===typeof e}function $(e){return"[object String]"===i.call(e)}function M(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function E(e){return!!a[i.call(e)]}function A(e){return!!n[i.call(e)]}function R(e){return"object"===typeof e&&"number"===typeof e.nodeType&&"object"===typeof e.ownerDocument}function q(e){return e!==e}function B(e){for(var t=0,a=arguments.length;t<a;t++)if(null!=arguments[t])return arguments[t]}function F(e,t){return null!=e?e:t}function N(e,t,a){return null!=e?e:null!=t?t:a}function V(){return Function.call.apply(l,arguments)}function H(e){if("number"===typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function U(e,t){if(!e)throw new Error(t)}function W(e){return null==e?null:"function"===typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}d.createCanvas=function(){return document.createElement("canvas")};var G="__ec_primitive__";function J(e){e[G]=!0}function X(e){return e[G]}function Y(e){var t=L(e);this.data={};var a=this;function n(e,n){t?a.set(e,n):a.set(n,e)}e instanceof Y?e.each(n):e&&C(e,n)}function K(e){return new Y(e)}function Q(e,t){for(var a=new e.constructor(e.length+t.length),n=0;n<e.length;n++)a[n]=e[n];var i=e.length;for(n=0;n<t.length;n++)a[n+i]=t[n];return a}function Z(){}Y.prototype={constructor:Y,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){for(var a in void 0!==t&&(e=T(e,t)),this.data)this.data.hasOwnProperty(a)&&e(this.data[a],a)},removeKey:function(e){delete this.data[e]}},t.$override=p,t.clone=h,t.merge=f,t.mergeAll=g,t.extend=m,t.defaults=b,t.createCanvas=y,t.getContext=w,t.indexOf=_,t.inherits=x,t.mixin=O,t.isArrayLike=D,t.each=C,t.map=k,t.reduce=S,t.filter=j,t.find=P,t.bind=T,t.curry=I,t.isArray=L,t.isFunction=z,t.isString=$,t.isObject=M,t.isBuiltInObject=E,t.isTypedArray=A,t.isDom=R,t.eqNaN=q,t.retrieve=B,t.retrieve2=F,t.retrieve3=N,t.slice=V,t.normalizeCssArray=H,t.assert=U,t.trim=W,t.setAsPrimitive=J,t.isPrimitive=X,t.createHashMap=K,t.concatArray=Q,t.noop=Z},"6e09":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"访问方法","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"500px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dialog-main"},[e._l(e.services,(function(t,n){return a("p",{key:n,staticClass:"url"},[e._v("http://网关IP:8601/"+e._s(t)+"/**")])})),a("p",{staticClass:"registry"},[e._v("如果使用注册中心，可通过fizz-dedicated-line服务访问：")]),e._l(e.services,(function(t,n){return a("p",{key:n,staticClass:"url"},[e._v("http://fizz-dedicated-line/"+e._s(t)+"/**")])})),a("p",{staticClass:"tips"},[e._v("(**为具体的接口路径)")])],2)])},i=[],r=(a("c5f6"),{name:"usageDialog",data:function(){return{code:""}},props:{visible:{type:Boolean,default:!1},id:{type:String|Number},services:{type:Array,default:function(){return[]}}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}}},methods:{},mounted:function(){}}),o=r,s=(a("5321"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"22d97184",null);t["default"]=l.exports},"6ee0":function(e,t,a){"use strict";a("deff")},"6f6c":function(e,t){var a=/\w*$/;function n(e){var t=new e.constructor(e.source,a.exec(e));return t.lastIndex=e.lastIndex,t}e.exports=n},"6fcd":function(e,t,a){var n=a("50d8"),i=a("d370"),r=a("6747"),o=a("0d24"),s=a("c098"),l=a("73ac"),c=Object.prototype,u=c.hasOwnProperty;function d(e,t){var a=r(e),c=!a&&i(e),d=!a&&!c&&o(e),p=!a&&!c&&!d&&l(e),h=a||c||d||p,f=h?n(e.length,String):[],g=f.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||f.push(m);return f}e.exports=d},"6ff4":function(e,t,a){"use strict";a("c096")},7050:function(e,t,a){"use strict";a("94a6")},7079:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"apply-detail",attrs:{title:"发布|下线申请","append-to-body":"",top:"5vh",width:"70%",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"apply-table-wrap"},[a("div",{staticClass:"b-tip"},[e._v("操作以下接口：")]),a("el-table",{attrs:{data:e.tableData,border:"",stripe:"",size:"mini","max-height":"200"}},[a("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),a("el-table-column",{attrs:{prop:"name",label:"接口名"}}),a("el-table-column",{attrs:{align:"center",label:"状态",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.formData.id===t.row.applyId?[e._v("\n            "+e._s(e.getApprovalStateName(t.row.approvalState))+"\n          ")]:[e._v("-")]]}}])}),2===e.formData.status?a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.formData.id===t.row.applyId?[e.permissionList.publishBtn&&2===t.row.approvalState?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.publish(t.row)}}},[e._v("\n              发布\n            ")]):e._e(),e.permissionList.offlineBtn&&3===t.row.approvalState?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.offline(t.row)}}},[e._v("\n              下线\n            ")]):e._e(),!e.permissionList.revokeBtn||2!==t.row.approvalState&&3!==t.row.approvalState?e._e():a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.rowRevoke(t.row)}}},[e._v("\n              撤回\n            ")])]:e._e()]}}],null,!1,4163813898)}):e._e()],1)],1),a("el-form",{staticClass:"data-form",attrs:{size:"mini","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"标题："}},[e._v("\n          "+e._s(e.formData.title)+"\n        ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请人："}},[e._v("\n          "+e._s(e.formData.createBy)+"\n        ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核人："}},[e._v("\n          "+e._s(e.formData.approvalBy)+"\n        ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请类型："}},[e._v("\n          "+e._s((0===e.formData.type?"发布":1===e.formData.type&&"下线")||e.formData.type||"-")+"\n        ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核结果："}},[1===e.formData.approvalResult?a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("审核不通过")]):2===e.formData.approvalResult?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("审核通过")]):a("span",[e._v(e._s(e.formData.approvalResult))])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请原因："}},[e._v("\n          "+e._s(e.formData.reason)+"\n        ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核备注："}},[e._v("\n          "+e._s(e.formData.approvalRemark)+"\n        ")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"申请时间："}},[e._v("\n          "+e._s(e.formData.createTime)+"\n        ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"审核时间："}},[e._v("\n          "+e._s(e.formData.approvalTime)+"\n        ")])],1)],1)],1),e.logData&&0!==e.logData.length?[a("el-divider",[e._v("操作日志")]),a("el-table",{attrs:{data:e.logData,border:"",stripe:"",size:"mini","max-height":"300"}},[a("el-table-column",{attrs:{align:"center",label:"操作类型",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.getOpTypeName(t.row.opType))+"\n        ")]}}],null,!1,3314202637)}),a("el-table-column",{attrs:{prop:"serviceName",label:"所属服务"}}),a("el-table-column",{attrs:{prop:"name",label:"接口名"}}),a("el-table-column",{attrs:{prop:"opBy",label:"操作人"}}),a("el-table-column",{attrs:{prop:"opTime",label:"操作时间"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1)]:e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[2===e.formData.status?[e.permissionList.rollback?a("el-button",{attrs:{type:"primary",size:"small",loading:e.rollbackLoading,plain:""},on:{click:e.rollback}},[e._v("\n        批量回滚\n      ")]):e._e(),0===e.formData.type&&e.permissionList.batchPublishBtn||1===e.formData.type&&e.permissionList.batchOfflineBtn?a("el-button",{attrs:{type:"primary",size:"small",loading:e.executeLoading,plain:""},on:{click:e.execute}},[e._v("\n        "+e._s((0===e.formData.type?"批量发布":1===e.formData.type&&"批量下线")||"批量执行")+"\n      ")]):e._e()]:e._e(),0===e.formData.status?[e.permissionList.applyBtn?a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.changeAudit}},[e._v("\n        修改审核人\n      ")]):e._e(),e.permissionList.revokeBtn?a("el-button",{attrs:{type:"primary",size:"small",loading:e.revokeLoading},on:{click:e.revoke}},[e._v("撤回\n      ")]):e._e()]:e._e(),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取消")])],2),a("revoke-dialog",{attrs:{visible:e.revokeDialog.visible,form:e.revokeDialog.form,id:e.revokeDialog.id,callback:e.revokeCallback},on:{"update:visible":function(t){return e.$set(e.revokeDialog,"visible",t)}}}),a("publish-dialog",{attrs:{visible:e.publishDialog.visible,name:e.publishDialog.name,id:e.publishDialog.id,callback:e.publishCallback},on:{"update:visible":function(t){return e.$set(e.publishDialog,"visible",t)}}}),a("el-dialog",{attrs:{"append-to-body":"",title:"修改审核人",visible:e.auditDialogVisible},on:{"update:visible":function(t){e.auditDialogVisible=t}}},[a("el-form",{attrs:{model:e.auditForm,size:"small"}},[a("el-form-item",{attrs:{label:"审核人"}},[a("el-select",{attrs:{placeholder:"请选择审核人"},model:{value:e.auditForm.approvalUser,callback:function(t){e.$set(e.auditForm,"approvalUser",t)},expression:"auditForm.approvalUser"}},e._l(e.approvalUsers,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleAuditChange}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.auditDialogVisible=!1}}},[e._v("取 消")])],1)],1)],2)},i=[],r=(a("8e6e"),a("456d"),a("7f7f"),a("7514"),a("ac6a"),a("ade3")),o=(a("c5f6"),a("0f43")),s=a("708f"),l=a("4870"),c=a("5880"),u=a("047b"),d=a("c43f");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={name:"apply-detail",data:function(){return{revokeLoading:!1,executeLoading:!1,rollbackLoading:!1,tableData:[],logData:[],approvalUsers:[],formData:{},publishDialog:{visible:!1,title:"接口",name:"",id:""},revokeDialog:{visible:!1,form:{},id:""},auditForm:{applyId:"",approvalUser:""},auditDialogVisible:!1}},props:{visible:{type:Boolean,default:!1},id:{type:[String,Number],required:!0},data:{type:Object,required:!0},callback:{type:Function}},computed:h(h({},Object(c["mapGetters"])(["permission"])),{},{permissionList:function(){return{applyBtn:this.vaildData(this.permission.aggregate_api_apply,!1),publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1),offlineBtn:this.vaildData(this.permission.aggregate_api_offline,!1),batchPublishBtn:this.vaildData(this.permission.aggregate_apply_batchPublish,!1),batchOfflineBtn:this.vaildData(this.permission.aggregate_apply_batchOffline,!1),revokeBtn:this.vaildData(this.permission.aggregate_apply_revoke,!1),rollback:this.vaildData(this.permission.aggregate_apply_rollback,!1)}},ids:function(){var e=[];return this.tableData.forEach((function(t){e.push(t.id||t.configId)})),e}}),components:{publishDialog:u["default"],revokeDialog:d["default"]},watch:{visible:function(e){e&&this.getApplyLog()},data:{immediate:!0,handler:function(){this.init()}}},methods:{getOpTypeName:function(e){var t=l["e"].find((function(t){return parseInt(t.value)===e}));return t&&t.label||e},getApprovalStateName:function(e){var t=l["d"].find((function(t){return parseInt(t.value)===e}));return t&&t.label||""},getApprovalUsers:function(){var e=this;if(!this.ids||0===this.ids.length)return!1;Object(s["e"])({configIds:this.ids}).then((function(t){var a=t.data.data;e.approvalUsers=a.approvalUsers||[]}))},handleAuditChange:function(){var e=this;this.auditDialogVisible=!1;var t={};return t.applyId=this.auditForm.applyId,t.approvalUserId=this.auditForm.approvalUser,Object(o["b"])(t).then((function(){e.$message.success("修改成功"),e.auditDialogVisible=!1,setTimeout((function(){e.handleClose(),e.callback&&"function"===typeof e.callback&&e.callback()}),300)}))},changeAudit:function(){this.getApprovalUsers(),this.auditForm.applyId=this.formData.id,this.auditForm.approvalUser=this.formData.approvalUser,this.auditDialogVisible=!0},rowRevoke:function(e){this.revokeDialog.id=this.id,this.revokeDialog.visible=!0,this.revokeDialog.form=e},revoke:function(){var e=this;this.$confirm("确定撤回该申请?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.revokeLoading=!0,Object(o["h"])(e.id).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("撤回成功"),e.$emit("update:visible",!1),e.revokeLoading=!1})).catch((function(){e.revokeLoading=!1}))}))},revokeCallback:function(){this.changeState(this.revokeDialog.form.id,7),this.getApplyLog()},execute:function(){var e=this;this.$confirm("确定批量执行该申请的操作?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.executeLoading=!0,Object(o["c"])(e.id).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("操作成功"),e.$emit("update:visible",!1),e.executeLoading=!1})).catch((function(){e.executeLoading=!1}))}))},rollback:function(){var e=this;this.$confirm("确定批量回滚该申请的操作?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.rollbackLoading=!0,Object(o["i"])(e.id).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("回滚成功"),e.$emit("update:visible",!1),e.rollbackLoading=!1})).catch((function(){e.rollbackLoading=!1}))}))},offline:function(e){var t=this;this.$confirm("确定下线【".concat(e.name,"】此接口吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["i"])(e.id)})).then((function(){t.$message({type:"success",message:"下线成功"}),t.changeState(e.id)}))},publish:function(e){e.id?(this.publishDialog.visible=!0,this.publishDialog.name=e.name,this.publishDialog.id=e.id):this.$message.error("数据缺失，无法发布！")},publishCallback:function(){this.changeState(this.publishDialog.id)},changeState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;this.tableData.map((function(a){if(a.id===e)return a.approvalState=t,a}))},init:function(){this.formData=this.data;var e=[];(this.data.configs||[]).forEach((function(t){e.push(Object.assign({id:t.configId,name:t.configName},t))})),this.tableData=e},handleClose:function(e){this.$emit("update:visible",!1),e&&e()},getApplyLog:function(){var e=this;return this.logData=[],Object(o["d"])(this.id).then((function(t){e.logData=t.data.data}))}}},g=f,m=(a("6356"),a("163d"),a("2877")),b=Object(m["a"])(g,n,i,!1,null,"0c56b194",null);t["default"]=b.exports},"708f":function(e,t,a){"use strict";a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"l",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"m",(function(){return p})),a.d(t,"k",(function(){return h})),a.d(t,"i",(function(){return f})),a.d(t,"b",(function(){return g})),a.d(t,"e",(function(){return m})),a.d(t,"d",(function(){return b})),a.d(t,"h",(function(){return v})),a.d(t,"j",(function(){return y})),a.d(t,"c",(function(){return w}));a("8e6e"),a("ac6a"),a("456d"),a("a481");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config/aggregateconfig/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config/aggregateconfig/detail"),method:"get",params:{id:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config/aggregateconfig/remove"),method:"post",params:{ids:e}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config/aggregateconfig/save"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config/aggregateconfig/update"),method:"post",data:e})},h=function(e){var t=e.id,a=void 0===t?"":t,n=e.remark,o=void 0===n?"":n;return Object(i["a"])({url:"".concat(r["a"],"/aggregate/publish"),method:"post",params:{id:a,remark:o}})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/aggregate/offline"),method:"post",params:{ids:e}})},g=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/save"),method:"post",data:e})},m=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-apply/getApprovalUsers"),method:"post",data:e})},b=function(e){return Object(i["a"])({url:"".concat(r["a"],"/aggregate/export"),method:"post",params:{ids:e},responseType:"blob"}).then((function(e){var t=new Blob([e.data],{type:"application/json;charset=utf-8"});if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(t,unescape(e.headers.filename.replace(/\\u/g,"%u")));else{var a=document.createElement("a"),n=window.URL.createObjectURL(t);a.href=n,a.download=unescape(e.headers.filename.replace(/\\u/g,"%u")),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}}))},v=function(e){return Object(i["a"])({url:"".concat(r["a"],"/aggregate/import"),method:"post",data:e})},y=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config/aggregateconfig/turn-on-debug-mode"),method:"post",params:{ids:e}})},w=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-config/aggregateconfig/turn-off-debug-mode"),method:"post",params:{ids:e}})}},"70dc":function(e,t,a){"use strict";a("5375")},7162:function(e,t,a){"use strict";a("1941")},"71ad":function(e,t,a){var n=a("6d8b"),i={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=n.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},i),r.valueAxis=n.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},i),r.timeAxis=n.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=n.defaults({scale:!0,logBase:10},r.valueAxis);var o=r;e.exports=o},"72af":function(e,t,a){var n=a("99cd"),i=n();e.exports=i},"72b6":function(e,t,a){var n=a("3eba"),i=a("6d8b"),r=a("2306"),o=a("eda2"),s=a("f934"),l=a("5f14"),c=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,a,n){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,a=o.normalizeCssArray(t.get("padding")||0),n=e.getBoundingRect();e.add(new r.Rect({z2:-1,silent:!0,shape:{x:n.x-a[3],y:n.y-a[0],width:n.width+a[3]+a[1],height:n.height+a[0]+a[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,a){a=a||{};var n=a.forceState,r=this.visualMapModel,o={};if("symbol"===t&&(o.symbol=r.get("itemSymbol")),"color"===t){var s=r.get("contentColor");o.color=s}function c(e){return o[e]}function u(e,t){o[e]=t}var d=r.controllerVisuals[n||r.getValueState(e)],p=l.prepareVisualTypes(d);return i.each(p,(function(n){var i=d[n];a.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",i=d.__alphaForOpacity),l.dependsOn(n,t)&&i&&i.applyVisual(e,c,u)})),o[t]},positionGroup:function(e){var t=this.visualMapModel,a=this.api;s.positionElement(e,t.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},doRender:i.noop});e.exports=c},"72f0":function(e,t){function a(e){return function(){return e}}e.exports=a},"731d":function(e,t,a){},7325:function(e,t,a){},7364:function(e,t,a){},"73ac":function(e,t,a){var n=a("743f"),i=a("b047"),r=a("99d3"),o=r&&r.isTypedArray,s=o?i(o):n;e.exports=s},7419:function(e,t,a){var n=a("3eba"),i=a("b336");a("bc5f"),a("ab05"),a("307a"),a("3cd6"),a("d6ef"),n.registerPreprocessor(i)},"743f":function(e,t,a){var n=a("3729"),i=a("b218"),r=a("1310"),o="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",p="[object Map]",h="[object Number]",f="[object Object]",g="[object RegExp]",m="[object Set]",b="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",x="[object Float64Array]",O="[object Int8Array]",D="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",j="[object Uint16Array]",P="[object Uint32Array]",T={};function I(e){return r(e)&&i(e.length)&&!!T[n(e)]}T[_]=T[x]=T[O]=T[D]=T[C]=T[k]=T[S]=T[j]=T[P]=!0,T[o]=T[s]=T[y]=T[l]=T[w]=T[c]=T[u]=T[d]=T[p]=T[h]=T[f]=T[g]=T[m]=T[b]=T[v]=!1,e.exports=I},"745d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.groupName?a("el-tag",[e._v(e._s(e.form.groupName))]):e._e(),e._v(" \n        "),a("b",[e._v(e._s(e.title))])],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("基础信息")]),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"small",disabled:e.disabled}},[a("el-form-item",{attrs:{label:"分组ID",prop:"groupId"}},[a("el-input",{attrs:{placeholder:"请输入 分组ID",disabled:"add"!==e.pageType},model:{value:e.form.groupId,callback:function(t){e.$set(e.form,"groupId",t)},expression:"form.groupId"}})],1),a("el-form-item",{attrs:{label:"分组名称",prop:"groupName"}},[a("el-input",{attrs:{placeholder:"请输入 分组名称"},model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}})],1),a("el-form-item",{attrs:{label:"容器部署",prop:"containerDeploy"}},[a("el-radio-group",{on:{change:e.changeConDeploy},model:{value:e.form.containerDeploy,callback:function(t){e.$set(e.form,"containerDeploy",t)},expression:"form.containerDeploy"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"网关实例",prop:"instanceIps"}},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",icon:"el-icon-plus",type:"primary"},on:{click:e.showIPDialog}},[e._v("添加")]),a("el-table",{staticStyle:{width:"400px"},attrs:{data:e.instanceIpsList,border:"",size:"small"}},[a("el-table-column",{attrs:{prop:"name",label:"ip/服务名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.name)+"\n                ")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick(t.$index)}}},[e._v("删除")])]}}])})],1)],1)],1),a("plugin-config-con",{ref:"pluginConfigCon",attrs:{disabled:e.disabled,config:e.apiPlugins,showGroupTip:""},on:{emitData:function(t){return e.apiPlugins=t}}}),e.disabled?e._e():a("footer",[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submitHandle}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:e.handleClose}},[e._v(" 取 消 ")])],1)],1),e.ipVisible?a("gatewayIPDialog",{attrs:{visible:e.ipVisible,isShowIP:0===e.form.containerDeploy},on:{emitData:e.changeIPInstance,changeVisible:function(t){e.ipVisible=!1}}}):e._e()],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("7514"),a("28a5"),a("ade3")),o=(a("7f7f"),a("ac6a"),a("5880")),s=a("16cd"),l=a("0468"),c=a("378a"),u=a("50d2");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={name:"gropDetail",components:{pluginConfigCon:c["default"],gatewayIPDialog:u["default"]},props:{type:{type:String,default:""}},watch:{instanceIpsList:{deep:!0,handler:function(){var e=[];this.instanceIpsList.forEach((function(t){e.push(t.name)})),this.$set(this.form,"instanceIps",e.join(","))}}},computed:p(p({},Object(o["mapGetters"])(["pluginOptions"])),{},{title:function(){var e="";switch(this.pageType){case"add":e="新增网关分组";break;case"edit":e="修改网关分组";break;case"view":e="网关分组详情";break}return e},id:function(){return this.$route.query.id},disabled:function(){return"view"===this.$route.params.actionType},pageType:function(){return this.$route.params.actionType}}),data:function(){return{loading:!1,form:{code:"",containerDeploy:0},rules:{groupId:[{required:!0,message:"必填",trigger:"blur"}],groupName:[{required:!0,message:"必填",trigger:"blur"}],instanceIps:[{required:!0,message:"必填",trigger:"blur"}],containerDeploy:[{required:!0,message:"必填",trigger:"change"}]},apiPlugins:[],ipVisible:!1,instanceIpsList:[]}},methods:p(p({},Object(o["mapActions"])(["getPluginOptions"])),{},{getDetail:function(){var e=this;Object(l["c"])(this.id).then((function(t){e.form=t.data.data,e.form.instanceIps&&e.form.instanceIps.split(",").forEach((function(t){e.instanceIpsList.push({name:t})})),e.initApiPlugins()}))},initApiPlugins:function(){var e=this;this.apiPlugins=[],this.form.gatewayGroupPlugins&&this.form.gatewayGroupPlugins.length&&this.form.gatewayGroupPlugins.forEach((function(t){var a=e.pluginOptions.find((function(e){return e.id===t.plugin}));a&&(t=p({apiPluginConfigs:t.gatewayGroupPluginConfigs},t),delete t.gatewayGroupPluginConfigs,e.apiPlugins.push(Object.assign({},a,t)))}))},handleClose:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/gateway/group"})},handleSubmitData:function(e){e=Object(s["b"])(e);var t=e.instanceIps.split(",");return t=t.map((function(e){return Object(s["a"])(e)})),t=t.join(","),e.instanceIps=t,e.gatewayGroupPlugins=[],this.apiPlugins.forEach((function(t){var a=p({gatewayGroupPluginConfigs:t.apiPluginConfigs},t);delete a.apiPluginConfigs,e.gatewayGroupPlugins.push(a)})),e},submitService:function(){var e=this,t="edit"===this.pageType?l["g"]:l["a"],a=this.handleSubmitData(this.form);this.loading=!0,t(a).then((function(){e.loading=!1,e.$message({type:"success",message:"保存成功"}),"add"===e.pageType&&e.handleClose()}),(function(t){e.loading=!1,window.console.log(t)}))},submitHandle:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$refs.pluginConfigCon.validate().then((function(){e.submitService()}),(function(t){e.$message.error(t)}))}))},showIPDialog:function(){this.ipVisible=!0},changeIPInstance:function(e){var t=this,a={};this.instanceIpsList.forEach((function(e){a[e.name]=!0})),e.forEach((function(e){a[e]||t.instanceIpsList.push({name:e})}))},handleClick:function(e){this.instanceIpsList.splice(e,1)},changeConDeploy:function(){this.instanceIpsList=[]}}),created:function(){this.getPluginOptions()},mounted:function(){var e=this;this.getPluginOptions().then((function(){["edit","view"].includes(e.pageType)&&e.getDetail()}))}},f=h,g=(a("d44f"),a("2877")),m=Object(g["a"])(f,n,i,!1,null,"dd98ca92",null);t["default"]=m.exports},7476:function(e,t,a){"use strict";a("0452")},7485:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"b",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line-biz/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line-biz/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line-biz/save"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line-biz/update"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/dedicated-line-biz/detail/").concat(e),method:"get"})}},"74b1":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"f",(function(){return h}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/select"),method:"get",params:{tenantId:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/detail"),method:"get",params:{id:e}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/submit"),method:"post",data:e})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/post/submit"),method:"post",data:e})}},"74cb":function(e,t){var a={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,a=.1,n=.4;return 0===e?0:1===e?1:(!a||a<1?(a=1,t=n/4):t=n*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},elasticOut:function(e){var t,a=.1,n=.4;return 0===e?0:1===e?1:(!a||a<1?(a=1,t=n/4):t=n*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,a=.1,n=.4;return 0===e?0:1===e?1:(!a||a<1?(a=1,t=n/4):t=n*Math.asin(1/a)/(2*Math.PI),(e*=2)<1?a*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:a*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-a.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*a.bounceIn(2*e):.5*a.bounceOut(2*e-1)+.5}},n=a;e.exports=n},"74fd":function(e,t,a){},7530:function(e,t,a){var n=a("1a8c"),i=Object.create,r=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();e.exports=r},7539:function(e,t,a){"use strict";a("44f7")},7559:function(e,t){var a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function n(e){return e.match(a)||[]}e.exports=n},7631:function(e,t,a){},"768d":function(e,t,a){},"76a5":function(e,t,a){var n=a("19eb"),i=a("6d8b"),r=a("e86a"),o=a("a73c"),s=a("82eb"),l=s.ContextCachedBy,c=function(e){n.call(this,e)};c.prototype={constructor:c,type:"text",brush:function(e,t){var a=this.style;this.__dirty&&o.normalizeTextStyle(a,!0),a.fill=a.stroke=a.shadowBlur=a.shadowColor=a.shadowOffsetX=a.shadowOffsetY=null;var n=a.text;null!=n&&(n+=""),o.needDrawText(n,a)?(this.setTransform(e),o.renderText(this,e,n,a,null,t),this.restoreTransform(e)):e.__attrCachedBy=l.NONE},getBoundingRect:function(){var e=this.style;if(this.__dirty&&o.normalizeTextStyle(e,!0),!this._rect){var t=e.text;null!=t?t+="":t="";var a=r.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(a.x+=e.x||0,a.y+=e.y||0,o.getStroke(e.textStroke,e.textStrokeWidth)){var n=e.textStrokeWidth;a.x-=n/2,a.y-=n/2,a.width+=n,a.height+=n}this._rect=a}return this._rect}},i.inherits(c,n);var u=c;e.exports=u},"76d3":function(e,t,a){"use strict";a("dd4f")},"76dd":function(e,t,a){var n=a("ce86");function i(e){return null==e?"":n(e)}e.exports=i},"76ed":function(e,t,a){"use strict";a("19d7")},"775d":function(e,t,a){},"776d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"配对","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"600px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请复制配对码到此处"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e.disabled?e._e():a("footer",[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submitHandle}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)},i=[],r=(a("96cf"),a("1da1")),o=(a("c5f6"),a("d462")),s={name:"matchCodeDialog",data:function(){return{code:"",loading:!1}},props:{visible:{type:Boolean,default:!1},id:{type:String|Number}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}}},methods:{submitHandle:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,r,s,l,c,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,Object(o["d"])({pairCode:this.code});case 4:if(t=e.sent,a=t.data,200!==a.code){e.next=22;break}if(!a.data||!a.data.sign){e.next=21;break}return n=a.data,i=n.pairCodeId,r=n.reqUrl,s=n.sign,l=n.timestamp,c={"fizz-dl-id":i,"fizz-dl-sign":s,"fizz-dl-ts":l},e.next=12,Object(o["b"])(c,r);case 12:if(u=e.sent,200!==u.status){e.next=19;break}return e.next=16,Object(o["c"])({pairCode:this.code,pairRespContent:JSON.stringify(u.data)});case 16:d=e.sent,p=d.data,200===p.code&&this.matchSuccess();case 19:e.next=22;break;case 21:this.matchSuccess();case 22:this.loading=!1,e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](1),console.log(e.t0),this.loading=!1;case 29:case"end":return e.stop()}}),e,this,[[1,25]])})));function t(){return e.apply(this,arguments)}return t}(),matchSuccess:function(){this.$message.success("配对成功！"),this.dialogVisible=!1,this.$emit("doSearch")},submitHandle2:function(){var e=this;Object(o["d"])({pairCode:this.code}).then((function(t){if(200===t.data.code){var a=t.data.data;if(a&&a.sign){var n=a.appId,i=a.reqUrl,r=a.sign,s=a.timestamp,l={"fizz-appid":n,"fizz-sign":r,"fizz-ts":s};Object(o["b"])(l,i).then((function(t){200===t.status&&Object(o["c"])({pairCode:e.code,pairRespContent:JSON.stringify(t.data)}).then((function(t){200===t.data.code&&e.$message.success("配对成功！")}))}))}else e.$message.success("配对成功！"),e.dialogVisible=!1,e.$emit("doSearch")}}))}}},l=s,c=(a("7f32"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,"11799ef3",null);t["default"]=u.exports},"78bb":function(e,t,a){"use strict";a("92c9")},"78e6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"api-detail-step"},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{size:"mini",type:"primary",disabled:e.disabled},on:{click:function(t){return e.handleAdd()}}},[e._v("\n      添加步骤\n    ")]),a("div",{staticClass:"step-tip"},[e._v("\n      注意：可拖拽步骤进行排序, 网关从左到右依次执行步骤\n    ")])],1),a("div",{staticClass:"tab-sort",attrs:{id:"tabSort"}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-remove":e.handleDelete},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.stepList,(function(t){return a("el-tab-pane",{key:t.name,attrs:{label:t.name,name:t.name,closable:!e.disabled}},[a("step-item",e._b({ref:"stepItem",refInFor:!0,attrs:{data:t,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:data":function(e){t=e}}},"step-item",e.$attrs,!1))],1)})),1)],1)])},i=[],r=(a("20d6"),a("5df3"),a("96cf"),a("1da1")),o=(a("7f7f"),a("28a5"),a("c5f6"),a("ac6a"),a("4c07"));
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(this,arguments)}function p(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}function h(e,t){if(null==e)return{};var a,n,i=p(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var f="1.14.0";function g(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var m=g(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),b=g(/Edge/i),v=g(/firefox/i),y=g(/safari/i)&&!g(/chrome/i)&&!g(/android/i),w=g(/iP(ad|od|hone)/i),_=g(/chrome/i)&&g(/android/i),x={capture:!1,passive:!1};function O(e,t,a){e.addEventListener(t,a,!m&&x)}function D(e,t,a){e.removeEventListener(t,a,!m&&x)}function C(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(a){return!1}return!1}}function k(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function S(e,t,a,n){if(e){a=a||document;do{if(null!=t&&(">"===t[0]?e.parentNode===a&&C(e,t):C(e,t))||n&&e===a)return e;if(e===a)break}while(e=k(e))}return null}var j,P=/\s+/g;function T(e,t,a){if(e&&t)if(e.classList)e.classList[a?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(P," ").replace(" "+t+" "," ");e.className=(n+(a?" "+t:"")).replace(P," ")}}function I(e,t,a){var n=e&&e.style;if(n){if(void 0===a)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(a=e.currentStyle),void 0===t?a:a[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=a+("string"===typeof a?"":"px")}}function L(e,t){var a="";if("string"===typeof e)a=e;else do{var n=I(e,"transform");n&&"none"!==n&&(a=n+" "+a)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(a)}function z(e,t,a){if(e){var n=e.getElementsByTagName(t),i=0,r=n.length;if(a)for(;i<r;i++)a(n[i],i);return n}return[]}function $(){var e=document.scrollingElement;return e||document.documentElement}function M(e,t,a,n,i){if(e.getBoundingClientRect||e===window){var r,o,s,l,c,u,d;if(e!==window&&e.parentNode&&e!==$()?(r=e.getBoundingClientRect(),o=r.top,s=r.left,l=r.bottom,c=r.right,u=r.height,d=r.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||a)&&e!==window&&(i=i||e.parentNode,!m))do{if(i&&i.getBoundingClientRect&&("none"!==I(i,"transform")||a&&"static"!==I(i,"position"))){var p=i.getBoundingClientRect();o-=p.top+parseInt(I(i,"border-top-width")),s-=p.left+parseInt(I(i,"border-left-width")),l=o+r.height,c=s+r.width;break}}while(i=i.parentNode);if(n&&e!==window){var h=L(i||e),f=h&&h.a,g=h&&h.d;h&&(o/=g,s/=f,d/=f,u/=g,l=o+u,c=s+d)}return{top:o,left:s,bottom:l,right:c,width:d,height:u}}}function E(e,t,a){var n=N(e,!0),i=M(e)[t];while(n){var r=M(n)[a],o=void 0;if(o="top"===a||"left"===a?i>=r:i<=r,!o)return n;if(n===$())break;n=N(n,!1)}return!1}function A(e,t,a,n){var i=0,r=0,o=e.children;while(r<o.length){if("none"!==o[r].style.display&&o[r]!==Ke.ghost&&(n||o[r]!==Ke.dragged)&&S(o[r],a.draggable,e,!1)){if(i===t)return o[r];i++}r++}return null}function R(e,t){var a=e.lastElementChild;while(a&&(a===Ke.ghost||"none"===I(a,"display")||t&&!C(a,t)))a=a.previousElementSibling;return a||null}function q(e,t){var a=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ke.clone||t&&!C(e,t)||a++;return a}function B(e){var t=0,a=0,n=$();if(e)do{var i=L(e),r=i.a,o=i.d;t+=e.scrollLeft*r,a+=e.scrollTop*o}while(e!==n&&(e=e.parentNode));return[t,a]}function F(e,t){for(var a in e)if(e.hasOwnProperty(a))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[a][n])return Number(a);return-1}function N(e,t){if(!e||!e.getBoundingClientRect)return $();var a=e,n=!1;do{if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var i=I(a);if(a.clientWidth<a.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!a.getBoundingClientRect||a===document.body)return $();if(n||t)return a;n=!0}}}while(a=a.parentNode);return $()}function V(e,t){if(e&&t)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function H(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function U(e,t){return function(){if(!j){var a=arguments,n=this;1===a.length?e.call(n,a[0]):e.apply(n,a),j=setTimeout((function(){j=void 0}),t)}}}function W(e,t,a){e.scrollLeft+=t,e.scrollTop+=a}function G(e){var t=window.Polymer,a=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):a?a(e).clone(!0)[0]:e.cloneNode(!0)}var J="Sortable"+(new Date).getTime();function X(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==I(e,"display")&&e!==Ke.ghost){t.push({target:e,rect:M(e)});var a=l({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=L(e,!0);n&&(a.top-=n.f,a.left-=n.e)}e.fromRect=a}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(F(t,{target:e}),1)},animateAll:function(a){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof a&&a());var i=!1,r=0;t.forEach((function(e){var t=0,a=e.target,o=a.fromRect,s=M(a),l=a.prevFromRect,c=a.prevToRect,u=e.rect,d=L(a,!0);d&&(s.top-=d.f,s.left-=d.e),a.toRect=s,a.thisAnimationDuration&&H(l,s)&&!H(o,s)&&(u.top-s.top)/(u.left-s.left)===(o.top-s.top)/(o.left-s.left)&&(t=K(u,l,c,n.options)),H(s,o)||(a.prevFromRect=o,a.prevToRect=s,t||(t=n.options.animation),n.animate(a,u,s,t)),t&&(i=!0,r=Math.max(r,t),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout((function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null}),t),a.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof a&&a()}),r):"function"===typeof a&&a(),t=[]},animate:function(e,t,a,n){if(n){I(e,"transition",""),I(e,"transform","");var i=L(this.el),r=i&&i.a,o=i&&i.d,s=(t.left-a.left)/(r||1),l=(t.top-a.top)/(o||1);e.animatingX=!!s,e.animatingY=!!l,I(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=Y(e),I(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),I(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){I(e,"transition",""),I(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}function Y(e){return e.offsetWidth}function K(e,t,a,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-a.top,2)+Math.pow(t.left-a.left,2))*n.animation}var Q=[],Z={initializeByDefault:!0},ee={mount:function(e){for(var t in Z)Z.hasOwnProperty(t)&&!(t in e)&&(e[t]=Z[t]);Q.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Q.push(e)},pluginEvent:function(e,t,a){var n=this;this.eventCanceled=!1,a.cancel=function(){n.eventCanceled=!0};var i=e+"Global";Q.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][i]&&t[n.pluginName][i](l({sortable:t},a)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](l({sortable:t},a)))}))},initializePlugins:function(e,t,a,n){for(var i in Q.forEach((function(n){var i=n.pluginName;if(e.options[i]||n.initializeByDefault){var r=new n(e,t,e.options);r.sortable=e,r.options=e.options,e[i]=r,d(a,r.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof r&&(e.options[i]=r)}},getEventProperties:function(e,t){var a={};return Q.forEach((function(n){"function"===typeof n.eventProperties&&d(a,n.eventProperties.call(t[n.pluginName],e))})),a},modifyOption:function(e,t,a){var n;return Q.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(n=i.optionListeners[t].call(e[i.pluginName],a))})),n}};function te(e){var t=e.sortable,a=e.rootEl,n=e.name,i=e.targetEl,r=e.cloneEl,o=e.toEl,s=e.fromEl,c=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,p=e.newDraggableIndex,h=e.originalEvent,f=e.putSortable,g=e.extraEventProperties;if(t=t||a&&a[J],t){var v,y=t.options,w="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||m||b?(v=document.createEvent("Event"),v.initEvent(n,!0,!0)):v=new CustomEvent(n,{bubbles:!0,cancelable:!0}),v.to=o||a,v.from=s||a,v.item=i||a,v.clone=r,v.oldIndex=c,v.newIndex=u,v.oldDraggableIndex=d,v.newDraggableIndex=p,v.originalEvent=h,v.pullMode=f?f.lastPutMode:void 0;var _=l(l({},g),ee.getEventProperties(n,t));for(var x in _)v[x]=_[x];a&&a.dispatchEvent(v),y[w]&&y[w].call(t,v)}}var ae=["evt"],ne=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.evt,i=h(a,ae);ee.pluginEvent.bind(Ke)(e,t,l({dragEl:re,parentEl:oe,ghostEl:se,rootEl:le,nextEl:ce,lastDownEl:ue,cloneEl:de,cloneHidden:pe,dragStarted:Ce,putSortable:ve,activeSortable:Ke.active,originalEvent:n,oldIndex:he,oldDraggableIndex:ge,newIndex:fe,newDraggableIndex:me,hideGhostForTarget:Ge,unhideGhostForTarget:Je,cloneNowHidden:function(){pe=!0},cloneNowShown:function(){pe=!1},dispatchSortableEvent:function(e){ie({sortable:t,name:e,originalEvent:n})}},i))};function ie(e){te(l({putSortable:ve,cloneEl:de,targetEl:re,rootEl:le,oldIndex:he,oldDraggableIndex:ge,newIndex:fe,newDraggableIndex:me},e))}var re,oe,se,le,ce,ue,de,pe,he,fe,ge,me,be,ve,ye,we,_e,xe,Oe,De,Ce,ke,Se,je,Pe,Te=!1,Ie=!1,Le=[],ze=!1,$e=!1,Me=[],Ee=!1,Ae=[],Re="undefined"!==typeof document,qe=w,Be=b||m?"cssFloat":"float",Fe=Re&&!_&&!w&&"draggable"in document.createElement("div"),Ne=function(){if(Re){if(m)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ve=function(e,t){var a=I(e),n=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),i=A(e,0,t),r=A(e,1,t),o=i&&I(i),s=r&&I(r),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+M(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+M(r).width;if("flex"===a.display)return"column"===a.flexDirection||"column-reverse"===a.flexDirection?"vertical":"horizontal";if("grid"===a.display)return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o["float"]&&"none"!==o["float"]){var u="left"===o["float"]?"left":"right";return!r||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=n&&"none"===a[Be]||r&&"none"===a[Be]&&l+c>n)?"vertical":"horizontal"},He=function(e,t,a){var n=a?e.left:e.top,i=a?e.right:e.bottom,r=a?e.width:e.height,o=a?t.left:t.top,s=a?t.right:t.bottom,l=a?t.width:t.height;return n===o||i===s||n+r/2===o+l/2},Ue=function(e,t){var a;return Le.some((function(n){var i=n[J].options.emptyInsertThreshold;if(i&&!R(n)){var r=M(n),o=e>=r.left-i&&e<=r.right+i,s=t>=r.top-i&&t<=r.bottom+i;return o&&s?a=n:void 0}})),a},We=function(e){function t(e,a){return function(n,i,r,o){var s=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==e&&(a||s))return!0;if(null==e||!1===e)return!1;if(a&&"clone"===e)return e;if("function"===typeof e)return t(e(n,i,r,o),a)(n,i,r,o);var l=(a?n:i).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var a={},n=e.group;n&&"object"==c(n)||(n={name:n}),a.name=n.name,a.checkPull=t(n.pull,!0),a.checkPut=t(n.put),a.revertClone=n.revertClone,e.group=a},Ge=function(){!Ne&&se&&I(se,"display","none")},Je=function(){!Ne&&se&&I(se,"display","")};Re&&document.addEventListener("click",(function(e){if(Ie)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ie=!1,!1}),!0);var Xe=function(e){if(re){e=e.touches?e.touches[0]:e;var t=Ue(e.clientX,e.clientY);if(t){var a={};for(var n in e)e.hasOwnProperty(n)&&(a[n]=e[n]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[J]._onDragOver(a)}}},Ye=function(e){re&&re.parentNode[J]._isOutsideThisEl(e.target)};function Ke(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=d({},t),e[J]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ve(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ke.supportPointer&&"PointerEvent"in window&&!y,emptyInsertThreshold:5};for(var n in ee.initializePlugins(this,e,a),a)!(n in t)&&(t[n]=a[n]);for(var i in We(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Fe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?O(e,"pointerdown",this._onTapStart):(O(e,"mousedown",this._onTapStart),O(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(O(e,"dragover",this),O(e,"dragenter",this)),Le.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),d(this,X())}function Qe(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ze(e,t,a,n,i,r,o,s){var l,c,u=e[J],d=u.options.onMove;return!window.CustomEvent||m||b?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=a,l.draggedRect=n,l.related=i||t,l.relatedRect=r||M(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),d&&(c=d.call(u,l,o)),c}function et(e){e.draggable=!1}function tt(){Ee=!1}function at(e,t,a){var n=M(A(a.el,0,a.options,!0)),i=10;return t?e.clientX<n.left-i||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-i||e.clientY<n.bottom&&e.clientX<n.left}function nt(e,t,a){var n=M(R(a.el,a.options.draggable)),i=10;return t?e.clientX>n.right+i||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+i}function it(e,t,a,n,i,r,o,s){var l=n?e.clientY:e.clientX,c=n?a.height:a.width,u=n?a.top:a.left,d=n?a.bottom:a.right,p=!1;if(!o)if(s&&je<c*i){if(!ze&&(1===Se?l>u+c*r/2:l<d-c*r/2)&&(ze=!0),ze)p=!0;else if(1===Se?l<u+je:l>d-je)return-Se}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return rt(t);return p=p||o,p&&(l<u+c*r/2||l>d-c*r/2)?l>u+c/2?1:-1:0}function rt(e){return q(re)<q(e)?1:-1}function ot(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,a=t.length,n=0;while(a--)n+=t.charCodeAt(a);return n.toString(36)}function st(e){Ae.length=0;var t=e.getElementsByTagName("input"),a=t.length;while(a--){var n=t[a];n.checked&&Ae.push(n)}}function lt(e){return setTimeout(e,0)}function ct(e){return clearTimeout(e)}Ke.prototype={constructor:Ke,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ke=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,re):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,n=this.options,i=n.preventOnFilter,r=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=n.filter;if(st(a),!re&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!y||!s||"SELECT"!==s.tagName.toUpperCase())&&(s=S(s,n.draggable,a,!1),(!s||!s.animated)&&ue!==s)){if(he=q(s),ge=q(s,n.draggable),"function"===typeof c){if(c.call(this,e,s,this))return ie({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:a,fromEl:a}),ne("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=S(l,n.trim(),a,!1),n)return ie({sortable:t,rootEl:n,name:"filter",targetEl:s,fromEl:a,toEl:a}),ne("filter",t,{evt:e}),!0})),c))return void(i&&e.cancelable&&e.preventDefault());n.handle&&!S(l,n.handle,a,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,a){var n,i=this,r=i.el,o=i.options,s=r.ownerDocument;if(a&&!re&&a.parentNode===r){var l=M(a);if(le=r,re=a,oe=re.parentNode,ce=re.nextSibling,ue=a,be=o.group,Ke.dragged=re,ye={target:re,clientX:(t||e).clientX,clientY:(t||e).clientY},Oe=ye.clientX-l.left,De=ye.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,re.style["will-change"]="all",n=function(){ne("delayEnded",i,{evt:e}),Ke.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!v&&i.nativeDraggable&&(re.draggable=!0),i._triggerDragStart(e,t),ie({sortable:i,name:"choose",originalEvent:e}),T(re,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){z(re,e.trim(),et)})),O(s,"dragover",Xe),O(s,"mousemove",Xe),O(s,"touchmove",Xe),O(s,"mouseup",i._onDrop),O(s,"touchend",i._onDrop),O(s,"touchcancel",i._onDrop),v&&this.nativeDraggable&&(this.options.touchStartThreshold=4,re.draggable=!0),ne("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(b||m))n();else{if(Ke.eventCanceled)return void this._onDrop();O(s,"mouseup",i._disableDelayedDrag),O(s,"touchend",i._disableDelayedDrag),O(s,"touchcancel",i._disableDelayedDrag),O(s,"mousemove",i._delayedDragTouchMoveHandler),O(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&O(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(n,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){re&&et(re),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._disableDelayedDrag),D(e,"touchend",this._disableDelayedDrag),D(e,"touchcancel",this._disableDelayedDrag),D(e,"mousemove",this._delayedDragTouchMoveHandler),D(e,"touchmove",this._delayedDragTouchMoveHandler),D(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?O(document,"pointermove",this._onTouchMove):O(document,t?"touchmove":"mousemove",this._onTouchMove):(O(re,"dragend",this),O(le,"dragstart",this._onDragStart));try{document.selection?lt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(e,t){if(Te=!1,le&&re){ne("dragStarted",this,{evt:t}),this.nativeDraggable&&O(document,"dragover",Ye);var a=this.options;!e&&T(re,a.dragClass,!1),T(re,a.ghostClass,!0),Ke.active=this,e&&this._appendGhost(),ie({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(we){this._lastX=we.clientX,this._lastY=we.clientY,Ge();var e=document.elementFromPoint(we.clientX,we.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(we.clientX,we.clientY),e===t)break;t=e}if(re.parentNode[J]._isOutsideThisEl(e),t)do{if(t[J]){var a=void 0;if(a=t[J]._onDragOver({clientX:we.clientX,clientY:we.clientY,target:e,rootEl:t}),a&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Je()}},_onTouchMove:function(e){if(ye){var t=this.options,a=t.fallbackTolerance,n=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=se&&L(se,!0),o=se&&r&&r.a,s=se&&r&&r.d,l=qe&&Pe&&B(Pe),c=(i.clientX-ye.clientX+n.x)/(o||1)+(l?l[0]-Me[0]:0)/(o||1),u=(i.clientY-ye.clientY+n.y)/(s||1)+(l?l[1]-Me[1]:0)/(s||1);if(!Ke.active&&!Te){if(a&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(se){r?(r.e+=c-(_e||0),r.f+=u-(xe||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");I(se,"webkitTransform",d),I(se,"mozTransform",d),I(se,"msTransform",d),I(se,"transform",d),_e=c,xe=u,we=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!se){var e=this.options.fallbackOnBody?document.body:le,t=M(re,!0,qe,!0,e),a=this.options;if(qe){Pe=e;while("static"===I(Pe,"position")&&"none"===I(Pe,"transform")&&Pe!==document)Pe=Pe.parentNode;Pe!==document.body&&Pe!==document.documentElement?(Pe===document&&(Pe=$()),t.top+=Pe.scrollTop,t.left+=Pe.scrollLeft):Pe=$(),Me=B(Pe)}se=re.cloneNode(!0),T(se,a.ghostClass,!1),T(se,a.fallbackClass,!0),T(se,a.dragClass,!0),I(se,"transition",""),I(se,"transform",""),I(se,"box-sizing","border-box"),I(se,"margin",0),I(se,"top",t.top),I(se,"left",t.left),I(se,"width",t.width),I(se,"height",t.height),I(se,"opacity","0.8"),I(se,"position",qe?"absolute":"fixed"),I(se,"zIndex","100000"),I(se,"pointerEvents","none"),Ke.ghost=se,e.appendChild(se),I(se,"transform-origin",Oe/parseInt(se.style.width)*100+"% "+De/parseInt(se.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,n=e.dataTransfer,i=a.options;ne("dragStart",this,{evt:e}),Ke.eventCanceled?this._onDrop():(ne("setupClone",this),Ke.eventCanceled||(de=G(re),de.draggable=!1,de.style["will-change"]="",this._hideClone(),T(de,this.options.chosenClass,!1),Ke.clone=de),a.cloneId=lt((function(){ne("clone",a),Ke.eventCanceled||(a.options.removeCloneOnHide||le.insertBefore(de,re),a._hideClone(),ie({sortable:a,name:"clone"}))})),!t&&T(re,i.dragClass,!0),t?(Ie=!0,a._loopId=setInterval(a._emulateDragOver,50)):(D(document,"mouseup",a._onDrop),D(document,"touchend",a._onDrop),D(document,"touchcancel",a._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(a,n,re)),O(document,"drop",a),I(re,"transform","translateZ(0)")),Te=!0,a._dragStartId=lt(a._dragStarted.bind(a,t,e)),O(document,"selectstart",a),Ce=!0,y&&I(document.body,"user-select","none"))},_onDragOver:function(e){var t,a,n,i,r=this.el,o=e.target,s=this.options,c=s.group,u=Ke.active,d=be===c,p=s.sort,h=ve||u,f=this,g=!1;if(!Ee){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),o=S(o,s.draggable,r,!0),z("dragOver"),Ke.eventCanceled)return g;if(re.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||f._ignoreWhileAnimating===o)return B(!1);if(Ie=!1,u&&!s.disabled&&(d?p||(n=oe!==le):ve===this||(this.lastPutMode=be.checkPull(this,u,re,e))&&c.checkPut(this,u,re,e))){if(i="vertical"===this._getDirection(e,o),t=M(re),z("dragOverValid"),Ke.eventCanceled)return g;if(n)return oe=le,$(),this._hideClone(),z("revert"),Ke.eventCanceled||(ce?le.insertBefore(re,ce):le.appendChild(re)),B(!0);var m=R(r,s.draggable);if(!m||nt(e,i,this)&&!m.animated){if(m===re)return B(!1);if(m&&r===e.target&&(o=m),o&&(a=M(o)),!1!==Ze(le,r,re,t,o,a,e,!!o))return $(),r.appendChild(re),oe=r,F(),B(!0)}else if(m&&at(e,i,this)){var b=A(r,0,s,!0);if(b===re)return B(!1);if(o=b,a=M(o),!1!==Ze(le,r,re,t,o,a,e,!1))return $(),r.insertBefore(re,b),oe=r,F(),B(!0)}else if(o.parentNode===r){a=M(o);var v,y,w=0,_=re.parentNode!==r,x=!He(re.animated&&re.toRect||t,o.animated&&o.toRect||a,i),O=i?"top":"left",D=E(o,"top","top")||E(re,"top","top"),C=D?D.scrollTop:void 0;if(ke!==o&&(v=a[O],ze=!1,$e=!x&&s.invertSwap||_),w=it(e,o,a,i,x?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,$e,ke===o),0!==w){var k=q(re);do{k-=w,y=oe.children[k]}while(y&&("none"===I(y,"display")||y===se))}if(0===w||y===o)return B(!1);ke=o,Se=w;var j=o.nextElementSibling,P=!1;P=1===w;var L=Ze(le,r,re,t,o,a,e,P);if(!1!==L)return 1!==L&&-1!==L||(P=1===L),Ee=!0,setTimeout(tt,30),$(),P&&!j?r.appendChild(re):o.parentNode.insertBefore(re,P?j:o),D&&W(D,0,C-D.scrollTop),oe=re.parentNode,void 0===v||$e||(je=Math.abs(v-M(o)[O])),F(),B(!0)}if(r.contains(re))return B(!1)}return!1}function z(s,c){ne(s,f,l({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:n,dragRect:t,targetRect:a,canSort:p,fromSortable:h,target:o,completed:B,onMove:function(a,n){return Ze(le,r,re,t,a,M(a),e,n)},changed:F},c))}function $(){z("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function B(t){return z("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==h&&(T(re,ve?ve.options.ghostClass:u.options.ghostClass,!1),T(re,s.ghostClass,!0)),ve!==f&&f!==Ke.active?ve=f:f===Ke.active&&ve&&(ve=null),h===f&&(f._ignoreWhileAnimating=o),f.animateAll((function(){z("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(o===re&&!re.animated||o===r&&!o.animated)&&(ke=null),s.dragoverBubble||e.rootEl||o===document||(re.parentNode[J]._isOutsideThisEl(e.target),!t&&Xe(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function F(){fe=q(re),me=q(re,s.draggable),ie({sortable:f,name:"change",toEl:r,newIndex:fe,newDraggableIndex:me,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){D(document,"mousemove",this._onTouchMove),D(document,"touchmove",this._onTouchMove),D(document,"pointermove",this._onTouchMove),D(document,"dragover",Xe),D(document,"mousemove",Xe),D(document,"touchmove",Xe)},_offUpEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._onDrop),D(e,"touchend",this._onDrop),D(e,"pointerup",this._onDrop),D(e,"touchcancel",this._onDrop),D(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;fe=q(re),me=q(re,a.draggable),ne("drop",this,{evt:e}),oe=re&&re.parentNode,fe=q(re),me=q(re,a.draggable),Ke.eventCanceled||(Te=!1,$e=!1,ze=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ct(this.cloneId),ct(this._dragStartId),this.nativeDraggable&&(D(document,"drop",this),D(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),y&&I(document.body,"user-select",""),I(re,"transform",""),e&&(Ce&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),se&&se.parentNode&&se.parentNode.removeChild(se),(le===oe||ve&&"clone"!==ve.lastPutMode)&&de&&de.parentNode&&de.parentNode.removeChild(de),re&&(this.nativeDraggable&&D(re,"dragend",this),et(re),re.style["will-change"]="",Ce&&!Te&&T(re,ve?ve.options.ghostClass:this.options.ghostClass,!1),T(re,this.options.chosenClass,!1),ie({sortable:this,name:"unchoose",toEl:oe,newIndex:null,newDraggableIndex:null,originalEvent:e}),le!==oe?(fe>=0&&(ie({rootEl:oe,name:"add",toEl:oe,fromEl:le,originalEvent:e}),ie({sortable:this,name:"remove",toEl:oe,originalEvent:e}),ie({rootEl:oe,name:"sort",toEl:oe,fromEl:le,originalEvent:e}),ie({sortable:this,name:"sort",toEl:oe,originalEvent:e})),ve&&ve.save()):fe!==he&&fe>=0&&(ie({sortable:this,name:"update",toEl:oe,originalEvent:e}),ie({sortable:this,name:"sort",toEl:oe,originalEvent:e})),Ke.active&&(null!=fe&&-1!==fe||(fe=he,me=ge),ie({sortable:this,name:"end",toEl:oe,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ne("nulling",this),le=re=oe=se=ce=de=ue=pe=ye=we=Ce=fe=me=he=ge=ke=Se=ve=be=Ke.dragged=Ke.ghost=Ke.clone=Ke.active=null,Ae.forEach((function(e){e.checked=!0})),Ae.length=_e=xe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":re&&(this._onDragOver(e),Qe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],a=this.el.children,n=0,i=a.length,r=this.options;n<i;n++)e=a[n],S(e,r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||ot(e));return t},sort:function(e,t){var a={},n=this.el;this.toArray().forEach((function(e,t){var i=n.children[t];S(i,this.options.draggable,n,!1)&&(a[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){a[e]&&(n.removeChild(a[e]),n.appendChild(a[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return S(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(void 0===t)return a[e];var n=ee.modifyOption(this,e,t);a[e]="undefined"!==typeof n?n:t,"group"===e&&We(a)},destroy:function(){ne("destroy",this);var e=this.el;e[J]=null,D(e,"mousedown",this._onTapStart),D(e,"touchstart",this._onTapStart),D(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(D(e,"dragover",this),D(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Le.splice(Le.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!pe){if(ne("hideClone",this),Ke.eventCanceled)return;I(de,"display","none"),this.options.removeCloneOnHide&&de.parentNode&&de.parentNode.removeChild(de),pe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(pe){if(ne("showClone",this),Ke.eventCanceled)return;re.parentNode!=le||this.options.group.revertClone?ce?le.insertBefore(de,ce):le.appendChild(de):le.insertBefore(de,re),this.options.group.revertClone&&this.animate(re,de),I(de,"display",""),pe=!1}}else this._hideClone()}},Re&&O(document,"touchmove",(function(e){(Ke.active||Te)&&e.cancelable&&e.preventDefault()})),Ke.utils={on:O,off:D,css:I,find:z,is:function(e,t){return!!S(e,t,e,!1)},extend:V,throttle:U,closest:S,toggleClass:T,clone:G,index:q,nextTick:lt,cancelNextTick:ct,detectDirection:Ve,getChild:A},Ke.get=function(e){return e[J]},Ke.mount=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ke.utils=l(l({},Ke.utils),e.utils)),ee.mount(e)}))},Ke.create=function(e,t){return new Ke(e,t)},Ke.version=f;var ut,dt,pt,ht=[];function ft(){ht.forEach((function(e){clearInterval(e.pid)})),ht=[]}U((function(e,t,a,n){if(t.scroll){var i,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=$(),u=!1;dt!==a&&(dt=a,ft(),ut=t.scroll,i=t.scrollFn,!0===ut&&(ut=N(a,!0)));var d=0,p=ut;do{var h=p,f=M(h),g=f.top,m=f.bottom,b=f.left,v=f.right,y=f.width,w=f.height,_=void 0,x=void 0,O=h.scrollWidth,D=h.scrollHeight,C=I(h),k=h.scrollLeft,S=h.scrollTop;h===c?(_=y<O&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),x=w<D&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(_=y<O&&("auto"===C.overflowX||"scroll"===C.overflowX),x=w<D&&("auto"===C.overflowY||"scroll"===C.overflowY));var j=_&&(Math.abs(v-r)<=s&&k+y<O)-(Math.abs(b-r)<=s&&!!k),P=x&&(Math.abs(m-o)<=s&&S+w<D)-(Math.abs(g-o)<=s&&!!S);if(!ht[d])for(var T=0;T<=d;T++)ht[T]||(ht[T]={});ht[d].vx==j&&ht[d].vy==P&&ht[d].el===h||(ht[d].el=h,ht[d].vx=j,ht[d].vy=P,clearInterval(ht[d].pid),0==j&&0==P||(u=!0,ht[d].pid=setInterval(function(){n&&0===this.layer&&Ke.active._onTouchMove(pt);var t=ht[this.layer].vy?ht[this.layer].vy*l:0,a=ht[this.layer].vx?ht[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call(Ke.dragged.parentNode[J],a,t,e,pt,ht[this.layer].el)||W(ht[this.layer].el,a,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=N(p,!1)));u}}),30);var gt=function(e){var t=e.originalEvent,a=e.putSortable,n=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=a||i;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(r("spill"),this.onSpill({dragEl:n,putSortable:a}))}};function mt(){}function bt(){}mt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var n=A(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:gt},d(mt,{pluginName:"revertOnSpill"}),bt.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable,n=a||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:gt},d(bt,{pluginName:"removeOnSpill"});var vt=Ke,yt="step",wt={name:"api-detail-step",data:function(){return{tabIndex:0,stepList:[],currentTab:"",maxIndex:0}},inheritAttrs:!1,props:{data:{type:Array,default:function(){return{}}},disabled:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{stepItem:o["default"]},computed:{tabCount:function(){return this.stepList&&this.stepList.length||0},originId:function(){return this.$route.query.originId}},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},originId:function(){this.maxIndex=0}},methods:{initData:function(){var e=this;if(this.stepList=this.data||[],this.stepList.length>0){var t=[];this.stepList.forEach((function(e){t.push(Number(e.name.split(yt)[1]))}));var a=Math.max.apply(Math,t);this.maxIndex=this.maxIndex>a?this.maxIndex:a,this.currentTab=this.stepList.filter((function(t){return t.name===e.currentTab})).length>0?this.currentTab:this.stepList[0].name}else this.currentTab=""},emitData:function(){this.$emit("update:data",this.stepList)},validate:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.emitData(),t=!0,!(this.stepList&&this.stepList.length>0)){e.next=9;break}return a=[],this.$refs.stepItem.forEach((function(e){a.push(e.validate())})),e.next=7,Promise.all(a).then((function(){t=!0})).catch((function(){t=!1}));case 7:e.next=10;break;case 9:t=!0;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.currentTab="".concat(yt).concat(++this.maxIndex),this.stepList.push({name:this.currentTab,stop:!1,dataMapping:{},requests:[]})},handleDelete:function(e){var t=this;this.$confirm("确定删除步骤【".concat(e,"】?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=t.stepList.findIndex((function(t){return t.name==e}));a>-1&&(t.stepList.splice(a,1),t.stepList.length>0&&t.currentTab===e?t.currentTab=t.stepList[t.stepList.length-1].name:0===t.stepList.length&&(t.currentTab="".concat(yt).concat(t.maxIndex+1)))}))}},mounted:function(){var e=this;vt.create(document.querySelector("#tabSort .el-tabs__nav"),{animation:150,easing:"cubic-bezier(1, 0, 0, 1)",dragClass:"sortable-chosen",onEnd:function(t){var a=e.stepList.splice(t.oldIndex,1)[0];e.stepList.splice(t.newIndex,0,a)}})}},_t=wt,xt=(a("da31"),a("2877")),Ot=Object(xt["a"])(_t,n,i,!1,null,null,null);t["default"]=Ot.exports},7948:function(e,t){function a(e,t){var a=-1,n=null==e?0:e.length,i=Array(n);while(++a<n)i[a]=t(e[a],a,e);return i}e.exports=a},"795c":function(e,t,a){"use strict";a("58a2")},7964:function(e,t,a){},"79a5":function(e,t,a){},"79bc":function(e,t,a){var n=a("0b07"),i=a("2b3e"),r=n(i,"Map");e.exports=r},"7a48":function(e,t,a){var n=a("6044"),i=Object.prototype,r=i.hasOwnProperty;function o(e){var t=this.__data__;return n?void 0!==t[e]:r.call(t,e)}e.exports=o},"7a50":function(e,t,a){"use strict";a("8cbd")},"7ab8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"business-detail"},[a("el-card",{staticClass:"main"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.name?a("el-tag",[e._v(e._s(e.form.name))]):e._e(),e._v(" \n      "),a("b",[e._v(e._s(e.title))])],1),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled,"label-width":"110px",size:"small"}},[a("el-form-item",{attrs:{label:"专线业务",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入 专线业务"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("div",{staticClass:"key-tips"},[e._v("专线业务名称")])],1),a("el-form-item",{attrs:{label:"业务描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 业务描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"业务类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择 业务类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.dedicatedLineType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"是否公开",prop:"isPublic"}},[a("el-radio-group",{model:{value:e.form.isPublic,callback:function(t){e.$set(e.form,"isPublic",t)},expression:"form.isPublic"}},e._l(e.isPublic,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1),a("div",{staticClass:"key-tips"},[e._v("公开的业务会出现在推荐列表里")])],1),a("el-form-item",{attrs:{label:"联系邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入 联系邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),a("div",{staticClass:"key-tips"},[e._v("邮箱用于接收商务合作邮件")])],1),1===e.form.type?[a("el-form-item",{attrs:{label:"绑定文档集",prop:"bind"}},[a("el-radio-group",{model:{value:e.form.bind,callback:function(t){e.$set(e.form,"bind",t)},expression:"form.bind"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),1===e.form.bind?a("el-form-item",{staticClass:"form-item-required",attrs:{label:"文档集"}},[a("paginationSelect",{attrs:{dataList:e.docSetList,loading:e.docSetLoading,labelKey:e.docSetLabelKey,valueKey:e.docSetValueKey,disabled:e.disabled,value:e.form.openDocSetId,clearable:!0,showPagination:!1},on:{selectChange:e.docSetSelectChange}}),a("el-table",{staticClass:"table",attrs:{data:e.docList,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"openDocName",label:"文档名称"}}),a("el-table-column",{attrs:{prop:"service",label:"路由"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n                "+e._s(a.service||"")+"\n              ")]}}],null,!1,1367134722)}),a("el-table-column",{attrs:{prop:"",label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index;return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.showRoute(n,"doc")}}},[e._v("选择路由")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.addRouteLine}},[e._v("新增专线路由")])]}}],null,!1,1796623092)})],1)],1):e._e()]:e._e(),0===e.form.bind||2===e.form.type?a("el-form-item",{staticClass:"form-item-required line",attrs:{label:"专线路由"}},[e.disabled?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.showRoute(-1,"route")}}},[e._v("选择路由")]),e.disabled?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addRouteLine}},[e._v("新增专线路由")]),a("div",{staticClass:"key-tips"},[e._v("\n          路由要求：前端API路径统一为/**, 后端API路径统一为/{$1},\n          且不启用AppID\n        ")]),a("el-table",{staticClass:"table",attrs:{data:e.websiteRoute,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"service",label:"路由"}}),a("el-table-column",{attrs:{prop:"",label:"操作",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index;return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.delRoute(n)}}},[e._v("删除")])]}}],null,!1,2293877295)})],1)],1):e._e(),2===e.form.type?a("el-form-item",{attrs:{label:"网站入口路径",prop:"entrancePath"}},[a("el-input",{attrs:{placeholder:"请输入 网站入口路径"},model:{value:e.form.entrancePath,callback:function(t){e.$set(e.form,"entrancePath",t)},expression:"form.entrancePath"}}),a("div",{staticClass:"key-tips"},[e._v("请填写入口URL的路径部分")])],1):e._e(),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],2),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check",loading:e.loading},on:{click:e.submitHandle}},[e._v("保 存")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.cancel}},[e._v(" 取 消 ")])],1)],1),e.routeVisible?a("routeDidalog",{attrs:{visible:e.routeVisible,multiple:"route"===e.route.type},on:{changeDrawer:function(t){e.routeVisible=!1},emitData:e.routeChange}}):e._e()],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("96cf"),a("1da1")),o=a("ade3"),s=(a("20d6"),a("ac6a"),a("c54a")),l=a("bf76"),c=a("9a2a"),u=a("684b"),d=a("7485"),p=a("1e18"),h=a("2620");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m=function(e,t,a){t&&!Object(s["h"])(t)?a(new Error("邮箱 格式不正确！")):a()},b={name:"businessDetail",components:{appidDialog:l["default"],routeDidalog:c["default"],paginationSelect:u["default"]},data:function(){return{dedicatedLineType:p["a"],isPublic:p["b"],form:{isPublic:1,bind:1,openDocSetId:""},rules:{name:[{required:!0,message:"请输入 专线业务",trigger:"blur"}],description:[{required:!0,message:"请输入 业务描述",trigger:"blur"}],type:[{required:!0,message:"请选择 业务类型",trigger:"change"}],isPublic:[{required:!0,message:"请输入 是否公开",trigger:"change"}],email:[{required:!0,message:"请输入 联系邮箱",trigger:"blur"},{validator:m,trigger:"blur"}],bind:[{required:!0,message:"请选择 是否绑定文档集",trigger:"change"}],entrancePath:[{required:!0,message:"请输入 网站入口路径",trigger:"blur"}]},websiteRoute:[],docSetList:[],docSetLoading:!1,docSetLabelKey:"name",docSetValueKey:"id",docList:[],routeVisible:!1,route:{type:"",index:-1}}},computed:{title:function(){var e="";switch(this.type){case"add":e="新增专线业务";break;case"edit":e="修改专线业务";break;case"view":e="专线业务详情";break}return e},type:function(){return this.$route.params.actionType},id:function(){return this.$route.query.id}},methods:{delRoute:function(e){this.websiteRoute.splice(e,1)},showRoute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;this.routeVisible=!0,this.route={type:t,index:e}},routeChange:function(e){var t=this;if("route"===this.route.type){var a=[];e.forEach((function(e){var n=t.websiteRoute.findIndex((function(t){return t.id===e.id}));-1===n&&a.push(g(g({},e),{},{apiAuthId:e.id}))})),this.websiteRoute=this.websiteRoute.concat(a)}else this.docList.splice(this.route.index,1,g(g({},this.docList[this.route.index]),{},{service:e.service,apiAuthId:e.id}))},addRouteLine:function(){this.$router.push({path:"/proxy/detail/add",query:{isDedicatedLine:!0}})},getParams:function(){var e=this,t=[],a=1===this.form.bind&&1===this.form.type?this.docList:this.websiteRoute;return a.forEach((function(a){t.push({apiAuthId:a.apiAuthId,openDocSetRelationId:1===e.form.bind?a.openDocSetRelationId||a.id:void 0,service:a.service})})),1===this.form.type&&1===this.form.bind||delete this.form.openDocSetId,g(g({},this.form),{},{apis:t})},validateAgain:function(){var e=!0;return 1===this.form.type&&1===this.form.bind?(this.docList.forEach((function(t){t.apiAuthId||(e=!1)})),e||this.$message.warning("文档路由的服务名不能为空！"),0===this.docList.length&&(e=!1,this.$message.warning("请选择文档！"))):(1===this.form.type&&0===this.form.bind||2===this.form.type)&&0===this.websiteRoute.length&&(e=!1,this.$message.warning("专线路由列表不能为空！")),e},cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/public-network/business"})},submitHandle:function(){var e=this;this.$refs.form.validate((function(t){t&&e.validateAgain()&&e.saveHandle()}))},saveHandle:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="add"===this.type?d["a"]:d["e"],a=this.getParams(),e.next=5,t(a).then((function(e){200===e.data.code?(n.$message({type:"success",message:e.data.msg||"保存成功！"}),"add"===n.type?n.cancel():n.init()):n.$message({type:"error",message:e.data.msg||"保存失败！"}),n.loading=!1}),(function(){n.loading=!1}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getDetail:function(){var e=this;Object(d["b"])(this.id).then((function(t){if(200===t.data.code){var a=t.data.data;e.form=t.data.data,e.$set(e.form,"bind",e.form.openDocSetId&&1===e.form.type?1:0),1===e.form.bind&&1===e.form.type?e.getApiList(e.form.openDocSetId).then((function(){a.apis.forEach((function(t){var a=e.docList.findIndex((function(e){return e.openDocSetRelationId===t.id}));-1===a?e.docList.push(t):e.docList.splice(a,1,t)}))})):a.apis.forEach((function(t){e.websiteRoute.push(g(g({},t),{},{id:t.apiAuthId}))}))}}))},getDocSetList:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.docSetLoading=!0,Object(h["c"])(10,-1,{name:t||""}).then((function(e){var t=e.data.data;a.docSetLoading=!1,a.docSetList=t.records.map((function(e){return e.url="".concat(a.defaultOpenUrl,"?id=").concat(e.id),e}))}),(function(){a.docSetLoading=!1}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),docSetSelectChange:function(e){this.form.openDocSetId=e,this.getApiList(e)},getApiList:function(e){var t=this;return Object(h["b"])(e).then((function(e){200===e.data.code&&(t.docList=e.data.data.openDocs||[])}))},init:function(){this.docList=[],this.websiteRoute=[],["edit","view"].includes(this.type)&&this.getDetail(),"view"===this.type&&(this.disabled=!0)}},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(a(),this.init())},mounted:function(){this.init(),this.getDocSetList()}},v=b,y=(a("f0bf"),a("baa8"),a("2877")),w=Object(y["a"])(v,n,i,!1,null,"c772ecd0",null);t["default"]=w.exports},"7b83":function(e,t,a){var n=a("7c64"),i=a("93ed"),r=a("2478"),o=a("a524"),s=a("1fc8");function l(e){var t=-1,a=null==e?0:e.length;this.clear();while(++t<a){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype["delete"]=i,l.prototype.get=r,l.prototype.has=o,l.prototype.set=s,e.exports=l},"7b95":function(e,t,a){},"7bd3":function(e,t,a){"use strict";a("f982")},"7c05":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.loginForm,"label-width":"0"}},[e.tenantMode?a("el-form-item",{attrs:{prop:"tenantId"}},[a("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.tenantId")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.tenantId,callback:function(t){e.$set(e.loginForm,"tenantId",t)},expression:"loginForm.tenantId"}},[a("i",{staticClass:"icon-quanxian",attrs:{slot:"prefix"},slot:"prefix"})])],1):e._e(),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.username")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[a("i",{staticClass:"icon-yonghu",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{size:"small",type:e.passwordType,"auto-complete":"off",placeholder:e.$t("login.password")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[a("i",{staticClass:"el-icon-view el-input__icon",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"}),a("i",{staticClass:"icon-mima",attrs:{slot:"prefix"},slot:"prefix"})])],1),this.website.captchaMode?a("el-form-item",{attrs:{prop:"code"}},[a("el-row",{attrs:{span:24}},[a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.code")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[a("i",{staticClass:"icon-yanzhengma",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"login-code"},[a("img",{staticClass:"login-code-img",attrs:{src:e.loginForm.image},on:{click:e.refreshCode}})])])],1)],1):e._e(),a("el-form-item",[a("el-button",{staticClass:"login-submit",attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v(e._s(e.$t("login.submit"))+"\n    ")])],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("a481"),a("ade3")),o=a("5880"),s=a("ccbe"),l=a("c24f"),c=a("b5c6");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"userlogin",data:function(){return{tenantMode:this.website.tenantMode,loginForm:{tenantId:"000000",username:"",password:"",type:"account",code:"",key:"",image:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},loginRules:{tenantId:[{required:!1,message:"请输入租户ID",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,message:"密码长度最少为6位",trigger:"blur"}]},passwordType:"password"}},created:function(){this.getTenant(),this.refreshCode()},mounted:function(){},computed:d({},Object(o["mapGetters"])(["tagWel"])),props:[],methods:{refreshCode:function(){var e=this;this.loginForm.code="",Object(l["e"])().then((function(t){var a=t.data;e.loginForm.key=a.key,e.loginForm.image=a.image}))},showPassword:function(){""===this.passwordType?this.passwordType="password":this.passwordType=""},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(t){var a=e.$loading({lock:!0,text:"登录中,请稍后。。。",spinner:"el-icon-loading"});e.$store.dispatch("LoginByUsername",e.loginForm).then((function(t){var n=decodeURIComponent(e.$route.query.redirect);e.$route.query.redirect&&n?e.$router.replace(n):e.$router.push({path:e.tagWel.value}),e.$store.dispatch("GetLicense"),e.getEGifInfo(),200!==t.status&&e.refreshCode(),a.close()})).catch((function(){a.close(),e.refreshCode()}))}}))},getEGifInfo:function(){Object(l["g"])({a:window.btoa(window.location.href)}).then((function(e){if(200===e.data.code){var t=e.data.data;t&&"{}"!==JSON.stringify(t)&&Object(c["a"])({url:t.reqUrl,method:"get",params:{a:t.a}}).catch((function(e){console.log(e)}))}}))},getTenant:function(){var e=this,t=window.location.href.split("/#/")[0];Object(s["d"])(t).then((function(t){var a=t.data;a.success&&a.data.tenantId&&(e.tenantMode=!1,e.loginForm.tenantId=a.data.tenantId,e.$parent.$refs.login.style.backgroundImage="url(".concat(a.data.backgroundUrl,")"))}))},redirectFn:function(){var e=decodeURIComponent(this.$route.query.redirect);this.$route.query.redirect&&e?this.$router.replace(e):this.$router.push({path:"/"})}}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,null,null);t["default"]=g.exports},"7c64":function(e,t,a){var n=a("e24b"),i=a("5e2e"),r=a("79bc");function o(){this.size=0,this.__data__={hash:new n,map:new(r||i),string:new n}}e.exports=o},"7c76":function(e,t,a){},"7d1f":function(e,t,a){var n=a("087d"),i=a("6747");function r(e,t,a){var r=t(e);return i(e)?r:n(r,a(e))}e.exports=r},"7d6d":function(e,t){var a={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function n(e,t,n){return a.hasOwnProperty(t)?n*e.dpr:n}e.exports=n},"7de4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{search:e.search,"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:search":function(t){e.search=t},"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"createTimeSearch",fn:function(t){var n=t.size;return[a("datetime-range",{attrs:{defaultValue:e.search.createTime,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",size:n,defaultTime:["00:00:00","00:00:00"]},on:{"update:defaultValue":function(t){return e.$set(e.search,"createTime",t)},"update:default-value":function(t){return e.$set(e.search,"createTime",t)},change:function(t){return e.search.createTime=t}}})]}},{key:"recvTimeSearch",fn:function(t){var n=t.size;return[a("datetime-range",{attrs:{defaultValue:e.search.recvTime,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",size:n,defaultTime:["00:00:00","00:00:00"]},on:{"update:defaultValue":function(t){return e.$set(e.search,"recvTime",t)},"update:default-value":function(t){return e.$set(e.search,"recvTime",t)},change:function(t){return e.search.recvTime=t}}})]}},{key:"result",fn:function(t){var n=t.row;return[1===n.result?a("span",{staticClass:"color-success"},[e._v("成功")]):2===n.result?a("span",{staticClass:"color-danger"},[e._v("失败")]):a("span",[e._v(e._s(n.result))])]}},{key:"receiversLabel",fn:function(t){return[a("span",[e._v("\n        "+e._s((1===t.row.mode?"按原路径回放时的部署":2===t.row.mode&&"接收回放的服务")||"回放部署或服务")+"\n        :\n      ")])]}},{key:"receiversForm",fn:function(t){var n=t.row;return[a("div",[1===n.mode?a("div",e._l(e.handleHeaders(n.receivers),(function(t,n){return a("div",{key:n},[a("b",[e._v(e._s(t.key)+":")]),t.value.ip?a("span",[e._v(e._s(t.value.ip)+":"+e._s(t.value.port))]):a("span",[e._v(e._s(t.value))])])})),0):2===n.mode?a("div",[a("el-table",{attrs:{data:JSON.parse(n.receivers),border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{label:"服务类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s((1===t.row.type?"服务编排":2===t.row.type&&"服务发现")||t.row.type)+"\n              ")]}}],null,!0)}),a("el-table-column",{attrs:{prop:"service",label:"服务名"}}),a("el-table-column",{attrs:{prop:"path",label:"路径"}})],1)],1):a("div",[e._v(e._s(n.receivers))])])]}},{key:"headersForm",fn:function(t){return[a("div",e._l(e.handleHeaders(e.form.headers),(function(t,n){return a("div",{key:n},[a("b",[e._v(e._s(t.key)+"：")]),e._v(" "+e._s(t.value.join("; "))+"\n        ")])})),0)]}},{key:"bodyForm",fn:function(t){return[a("el-input",{staticClass:"playback-body",attrs:{type:"textarea",resize:"none",autosize:{minRows:3,maxRows:6},readonly:""},model:{value:t.row.body,callback:function(a){e.$set(t.row,"body",a)},expression:"scope.row.body"}})]}},{key:"resultForm",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:"success"}},[e._v("成功")]),1===t.row.result?a("el-tag",{attrs:{size:"small",type:"success"}},[e._v("成功")]):2===t.row.result?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v("失败")]):a("span",[e._v(e._s(t.row.result))])]}},{key:"errMsgForm",fn:function(t){return[a("el-input",{staticClass:"playback-body",attrs:{type:"textarea",resize:"none",autosize:{minRows:3,maxRows:6},readonly:""},model:{value:t.row.errMsg,callback:function(a){e.$set(t.row,"errMsg",a)},expression:"scope.row.errMsg"}})]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("6762"),a("2fdb"),a("456d"),a("ac6a"),a("ade3")),o=a("5880"),s=a("27fc"),l=a("b5c6"),c=a("da71");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p=function(e,t,a){return Object(l["a"])({url:"".concat(c["a"],"/callback-request-replay-log/list"),method:"get",params:d(d({},a),{},{current:e,size:t})})},h=function(e){return Object(l["a"])({url:"".concat(c["a"],"/callback-request-replay-log/detail/").concat(e),method:"get"})},f=a("8e7d");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=[{label:"成功",value:1},{label:"失败",value:2}],v={components:{datetimeRange:f["default"]},data:function(){return{search:{},form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,viewBtn:!0,addBtn:!1,delBtn:!1,editBtn:!1,columnBtn:!1,menuPosition:"right",menuWidth:80,searchLabelWidth:90,labelWidth:160,column:[{label:"回放ID",prop:"id"},{label:"回放时间",prop:"createTime",search:!0,searchslot:!0,searchRange:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss",width:150},{label:"操作人",prop:"createBy",search:!0,overHidden:!0},{label:"请求ID",prop:"callbackRequestId",search:!0},{label:"请求源IP",prop:"origin",search:!0},{label:"请求时间",prop:"recvTime",search:!0,searchslot:!0,searchRange:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss",width:150},{label:"请求方法",prop:"method",search:!0,type:"select",dicData:s["b"]},{label:"前端服务名",prop:"service",search:!0,overHidden:!0},{label:"前端路径",prop:"path",search:!0,overHidden:!0},{label:"查询字符串",prop:"query",search:!0,overHidden:!0},{label:"回放方式",prop:"mode",search:!0,type:"select",dicData:s["d"],overHidden:!0},{label:"回放部署或服务",prop:"receivers",hide:!0,formslot:!0,labelslot:!0,span:24},{label:"请求头",prop:"headers",hide:!0,formslot:!0,span:24},{label:"请求体",prop:"body",hide:!0,formslot:!0,span:24},{label:"回放结果",prop:"result",search:!0,slot:!0,formslot:!0,type:"select",dicData:b},{label:"回放失败信息",prop:"errMsg",hide:!0,formslot:!0,display:!1,span:24}]},data:[]}},computed:m(m({},Object(o["mapGetters"])(["permission"])),{},{callbackRequestId:function(){return this.$route.query.callbackRequestId||""}}),beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(this.option.column=this.option.column.map((function(e){return e.searchValue&&(e.searchValue=""),e})),this.query={},a(),this.onLoad(this.page,Object.assign({},e.query)))},watch:{callbackRequestId:{immediate:!0,handler:function(e){if(e){this.query.callbackRequestId=e;var t=this.findObject(this.option.column,"callbackRequestId");t.searchValue=e}}},data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{handleHeaders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return"string"===typeof e&&(e=JSON.parse(e)),Object.keys(e).forEach((function(a){t.push({key:a,value:e[a]})})),t},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&h(this.form.id).then((function(e){if(a.form=e.data.data,2===a.form.result){var t=a.findObject(a.option.column,"errMsg");t.display=!0}})),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.createTime&&(e.createTimeStart=e.createTime[0]||"",e.createTimeEnd=e.createTime[1]||"",delete e.createTime),e.recvTime&&(e.recvTimeStart=e.recvTime[0]||"",e.recvTimeEnd=e.recvTime[1]||"",delete e.recvTime),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,p(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},y=v,w=(a("d9c3"),a("2877")),_=Object(w["a"])(y,n,i,!1,null,null,null);t["default"]=_.exports},"7e02":function(e,t,a){"use strict";a("825b")},"7e26":function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"c",(function(){return h})),a.d(t,"g",(function(){return f})),a.d(t,"a",(function(){return g})),a.d(t,"i",(function(){return m})),a.d(t,"e",(function(){return b}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/data-scope/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/data-scope/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/data-scope/submit"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/data-scope/submit"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/data-scope/detail"),method:"get",params:{id:e}})},h=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/api-scope/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/api-scope/remove"),method:"post",params:{ids:e}})},g=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/api-scope/submit"),method:"post",data:e})},m=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/api-scope/submit"),method:"post",data:e})},b=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/api-scope/detail"),method:"get",params:{id:e}})}},"7e63":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=i.each,o=i.filter,s=i.map,l=i.isArray,c=i.indexOf,u=i.isObject,d=i.isString,p=i.createHashMap,h=i.assert,f=i.clone,g=i.merge,m=i.extend,b=i.mixin,v=a("e0d3"),y=a("4319"),w=a("6cb7"),_=a("8971"),x=a("e47b"),O=a("0f99"),D=O.resetSourceDefaulter,C="\0_ec_inner",k=y.extend({init:function(e,t,a,n){a=a||{},this.option=null,this._theme=new y(a),this._optionManager=n},setOption:function(e,t){h(!(C in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,a=this._optionManager;if(!e||"recreate"===e){var n=a.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(n)):P.call(this,n),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var i=a.getTimelineOption(this);i&&(this.mergeOption(i),t=!0)}if(!e||"recreate"===e||"media"===e){var o=a.getMediaOption(this,this._api);o.length&&r(o,(function(e){this.mergeOption(e,t=!0)}),this)}return t},mergeOption:function(e){var t=this.option,a=this._componentsMap,n=[];function i(n,i){var o=v.normalizeToArray(e[n]),s=v.mappingToExists(a.get(n),o);v.makeIdAndName(s),r(s,(function(e,t){var a=e.option;u(a)&&(e.keyInfo.mainType=n,e.keyInfo.subType=I(n,a,e.exist))}));var l=T(a,i);t[n]=[],a.set(n,[]),r(s,(function(e,i){var r=e.exist,o=e.option;if(h(u(o)||r,"Empty component definition"),o){var s=w.getClass(n,e.keyInfo.subType,!0);if(r&&r.constructor===s)r.name=e.keyInfo.name,r.mergeOption(o,this),r.optionUpdated(o,!1);else{var c=m({dependentModels:l,componentIndex:i},e.keyInfo);r=new s(o,this,this,c),m(r,c),r.init(o,this,this,c),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);a.get(n)[i]=r,t[n][i]=r.option}),this),"series"===n&&L(this,a.get("series"))}D(this),r(e,(function(e,a){null!=e&&(w.hasClass(a)?a&&n.push(a):t[a]=null==t[a]?f(e):g(t[a],e,!0))})),w.topologicalTravel(n,w.getAllClassMainTypes(),i,this),this._seriesIndicesMap=p(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=f(this.option);return r(e,(function(t,a){if(w.hasClass(a)){t=v.normalizeToArray(t);for(var n=t.length-1;n>=0;n--)v.isIdInner(t[n])&&t.splice(n,1);e[a]=t}})),delete e[C],e},getTheme:function(){return this._theme},getComponent:function(e,t){var a=this._componentsMap.get(e);if(a)return a[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var a,n=e.index,i=e.id,r=e.name,u=this._componentsMap.get(t);if(!u||!u.length)return[];if(null!=n)l(n)||(n=[n]),a=o(s(n,(function(e){return u[e]})),(function(e){return!!e}));else if(null!=i){var d=l(i);a=o(u,(function(e){return d&&c(i,e.id)>=0||!d&&e.id===i}))}else if(null!=r){var p=l(r);a=o(u,(function(e){return p&&c(r,e.name)>=0||!p&&e.name===r}))}else a=u.slice();return z(a,e)},findComponents:function(e){var t=e.query,a=e.mainType,n=r(t),i=n?this.queryComponents(n):this._componentsMap.get(a);return s(z(i,e));function r(e){var t=a+"Index",n=a+"Id",i=a+"Name";return!e||null==e[t]&&null==e[n]&&null==e[i]?null:{mainType:a,index:e[t],id:e[n],name:e[i]}}function s(t){return e.filter?o(t,e.filter):t}},eachComponent:function(e,t,a){var n=this._componentsMap;if("function"===typeof e)a=t,t=e,n.each((function(e,n){r(e,(function(e,i){t.call(a,n,e,i)}))}));else if(d(e))r(n.get(e),t,a);else if(u(e)){var i=this.findComponents(e);r(i,t,a)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return o(t,(function(t){return t.name===e}))},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return o(t,(function(t){return t.subType===e}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){$(this),r(this._seriesIndices,(function(a){var n=this._componentsMap.get("series")[a];e.call(t,n,a)}),this)},eachRawSeries:function(e,t){r(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,a){$(this),r(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];i.subType===e&&t.call(a,i,n)}),this)},eachRawSeriesByType:function(e,t,a){return r(this.getSeriesByType(e),t,a)},isSeriesFiltered:function(e){return $(this),null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){$(this);var a=o(this._componentsMap.get("series"),e,t);L(this,a)},restoreData:function(e){var t=this._componentsMap;L(this,t.get("series"));var a=[];t.each((function(e,t){a.push(t)})),w.topologicalTravel(a,w.getAllClassMainTypes(),(function(a,n){r(t.get(a),(function(t){("series"!==a||!S(t,e))&&t.restoreData()}))}))}});function S(e,t){if(t){var a=t.seiresIndex,n=t.seriesId,i=t.seriesName;return null!=a&&e.componentIndex!==a||null!=n&&e.id!==n||null!=i&&e.name!==i}}function j(e,t){var a=e.color&&!e.colorLayer;r(t,(function(t,n){"colorLayer"===n&&a||w.hasClass(n)||("object"===typeof t?e[n]=e[n]?g(e[n],t,!1):f(t):null==e[n]&&(e[n]=t))}))}function P(e){e=e,this.option={},this.option[C]=1,this._componentsMap=p({series:[]}),this._seriesIndices,this._seriesIndicesMap,j(e,this._theme.option),g(e,_,!1),this.mergeOption(e)}function T(e,t){l(t)||(t=t?[t]:[]);var a={};return r(t,(function(t){a[t]=(e.get(t)||[]).slice()})),a}function I(e,t,a){var n=t.type?t.type:a?a.subType:w.determineSubType(e,t);return n}function L(e,t){e._seriesIndicesMap=p(e._seriesIndices=s(t,(function(e){return e.componentIndex}))||[])}function z(e,t){return t.hasOwnProperty("subType")?o(e,(function(e){return e.subType===t.subType})):e}function $(e){}b(k,x);var M=k;e.exports=M},"7e64":function(e,t,a){var n=a("5e2e"),i=a("efb6"),r=a("2fcc"),o=a("802a"),s=a("55a3"),l=a("d02c");function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=i,c.prototype["delete"]=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},"7e8e":function(e,t){var a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function n(e){return a.test(e)}e.exports=n},"7eb6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("h3",[e._v("点击新增或编辑跳转到新的页面")]),a("avue-crud",{attrs:{option:e.option,data:e.data},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[a("el-button",{attrs:{size:"small",type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.handleForm(n.id)}}},[e._v("edit")])]}}])},[a("template",{slot:"menuLeft"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.handleForm()}}},[e._v("add")])],1)],2)],1)},i=[],r={data:function(){return{option:{addBtn:!1,editBtn:!1,column:[{label:"姓名",prop:"name"}]},data:[{id:1,name:"small"}]}},methods:{handleForm:function(e){this.$router.push({path:"/form-detail/index",query:{id:e}})}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},"7ec3":function(e,t,a){"use strict";a("0f98")},"7ede":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-test/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-test/detail"),method:"get",params:{id:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-test/remove"),method:"post",params:{ids:e}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-test/save"),method:"post",data:e})}},"7f32":function(e,t,a){"use strict";a("ca77")},"7f96":function(e,t,a){var n=a("6d8b"),i=n.isFunction;function r(e,t,a){return{seriesType:e,performRawSeries:!0,reset:function(e,n,r){var o=e.getData(),s=e.get("symbol"),l=e.get("symbolSize"),c=e.get("symbolKeepAspect"),u=e.get("symbolRotate"),d=i(s),p=i(l),h=i(u),f=d||p||h,g=!d&&s?s:t,m=p?null:l;if(o.setVisual({legendSymbol:a||g,symbol:g,symbolSize:m,symbolKeepAspect:c,symbolRotate:u}),!n.isSeriesFiltered(e))return{dataEach:o.hasItemOption||f?b:null};function b(t,a){if(f){var n=e.getRawValue(a),i=e.getDataParams(a);d&&t.setItemVisual(a,"symbol",s(n,i)),p&&t.setItemVisual(a,"symbolSize",l(n,i)),h&&t.setItemVisual(a,"symbolRotate",u(n,i))}if(t.hasItemOption){var r=t.getItemModel(a),o=r.getShallow("symbol",!0),c=r.getShallow("symbolSize",!0),g=r.getShallow("symbolRotate",!0),m=r.getShallow("symbolKeepAspect",!0);null!=o&&t.setItemVisual(a,"symbol",o),null!=c&&t.setItemVisual(a,"symbolSize",c),null!=g&&t.setItemVisual(a,"symbolRotate",g),null!=m&&t.setItemVisual(a,"symbolKeepAspect",m)}}}}}e.exports=r},"7f9e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,"modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"700px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{disabled:e.disabled,model:e.form,rules:e.rules,size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"环境",prop:"env"}},[a("el-input",{attrs:{placeholder:"请输入 环境"},model:{value:e.form.env,callback:function(t){e.$set(e.form,"env",t)},expression:"form.env"}})],1),a("el-form-item",{attrs:{label:"请求地址",prop:"reqUrl"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 请求地址"},model:{value:e.form.reqUrl,callback:function(t){e.$set(e.form,"reqUrl",t)},expression:"form.reqUrl"}})],1)],1)],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submitHandle}},[e._v(" 确 定 ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("6762"),a("2fdb"),a("96cf"),a("1da1")),o=(a("c5f6"),a("a2ea")),s=a("c54a"),l=function(e,t,a){""===t?a(new Error("必填")):Object(s["e"])(t)?a():a(new Error("URL格式不正确!"))},c={name:"address-detail",props:{visible:{type:Boolean,default:!1},type:{type:String,default:""},id:{type:Number}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}},title:function(){var e="";switch(this.type){case"add":e="新增环境信息";break;case"edit":e="修改环境信息";break;case"view":e="环境信息详情";break}return e}},data:function(){return{loading:!1,disabled:!1,form:{},rules:{env:[{required:!0,message:"必填",trigger:"blur"}],reqUrl:[{validator:l,required:!0,trigger:"blur"}]}}},methods:{getDetail:function(){var e=this;Object(o["b"])(this.id).then((function(t){e.form=t.data.data}))},submitHandle:function(){var e=this;this.$refs.form.validate((function(t){t&&e.saveHandle()}))},saveHandle:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="add"===this.type?o["a"]:o["e"],e.next=4,t(this.form).then((function(e){200===e.data.code?(a.$message({type:"success",message:e.data.msg||"保存成功！"}),a.dialogVisible=!1,a.$emit("doSearch")):a.$message({type:"error",message:e.data.msg||"保存失败！"})}),(function(){a.loading=!1}));case 4:this.loading=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){["edit","view"].includes(this.type)&&this.getDetail(),"view"===this.type&&(this.disabled=!0)}},u=c,d=(a("588e"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"5f0597f2",null);t["default"]=p.exports},"7fb3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,search:e.search,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"recvTimeSearch",fn:function(t){var n=t.size;return[a("datetime-range",{attrs:{defaultValue:e.search.recvTime,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",size:n,defaultTime:["00:00:00","00:00:00"]},on:{"update:defaultValue":function(t){return e.$set(e.search,"recvTime",t)},"update:default-value":function(t){return e.$set(e.search,"recvTime",t)},change:function(t){return e.search.recvTime=t}}})]}},{key:"targetsForm",fn:function(t){return[a("div",e._l(e.form.targets,(function(t,n){return a("div",{key:n},[a("b",[e._v(e._s(t.key)+":")]),t.value.ip?a("span",[e._v(e._s(t.value.ip)+":"+e._s(t.value.port))]):a("span",[e._v(e._s(t.value))])])})),0)]}},{key:"headersForm",fn:function(t){return[a("div",e._l(e.form.headers,(function(t,n){return a("div",{key:n},[a("b",[e._v(e._s(t.key)+"：")]),e._v(" "+e._s(t.value.join("; "))+"\n        ")])})),0)]}},{key:"bodyForm",fn:function(t){return[t.row.body?a("el-input",{staticClass:"playback-body",attrs:{type:"textarea",resize:"none",autosize:{minRows:3,maxRows:6},readonly:""},model:{value:t.row.body,callback:function(a){e.$set(t.row,"body",a)},expression:"scope.row.body"}}):a("div",[e._v(e._s(t.row.body))])]}},{key:"menu",fn:function(t){var n=t.row,i=t.type,r=t.size;return[e.permissionList.playbackBtn?a("el-button",{attrs:{icon:"el-icon-video-play",size:r,type:i},on:{click:function(t){return e.playback(n.id,n.callbackConfigId)}}},[e._v("回 放\n      ")]):e._e(),a("el-button",{attrs:{icon:"el-icon-document",size:r,type:i},on:{click:function(t){return e.goLogList(n)}}},[e._v("日 志\n      ")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),a("playback-dialog",{attrs:{visible:e.playbackDialog.visible,id:e.playbackDialog.id,"config-id":e.playbackDialog.configId},on:{"update:visible":function(t){return e.$set(e.playbackDialog,"visible",t)}}})],1)},i=[],r=(a("8e6e"),a("6762"),a("2fdb"),a("456d"),a("4f7f"),a("5df3"),a("1c4c"),a("ac6a"),a("ade3")),o=a("5880"),s=a("27fc"),l=a("4c7d"),c=a("d4b8"),u=a("8e7d");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={data:function(){return{search:{recvTime:[]},form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{dialogWidth:900,border:!0,index:!0,tip:!1,dialogClickModal:!1,viewBtn:!0,addBtn:!1,delBtn:!1,editBtn:!1,columnBtn:!1,menuPosition:"right",menuWidth:200,searchLabelWidth:90,labelWidth:120,column:[{label:"请求ID",prop:"id"},{label:"请求时间",prop:"recvTime",search:!0,searchslot:!0,searchRange:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"请求源IP",prop:"origin",search:!0,editDisabled:!0,overHidden:!0},{label:"请求方法",prop:"method",search:!0,type:"select",dicData:s["b"]},{label:"前端服务名",prop:"service",search:!0,overHidden:!0},{label:"前端路径",prop:"path",search:!0,overHidden:!0},{label:"查询字符串",prop:"query",search:!0,overHidden:!0},{label:"接收的服务实例",prop:"targets",hide:!0,formslot:!0,span:24},{label:"请求头",prop:"headers",hide:!0,formslot:!0,span:24},{label:"请求体",prop:"body",hide:!0,formslot:!0,span:24}]},data:[],playbackDialog:{visible:!1,id:"",configId:""}}},computed:p(p({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{playbackBtn:this.vaildData(this.permission.callback_playback_btn,!1)}},configIds:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.callbackConfigId)})),e=Array.from(new Set(e)),e.join(",")},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e=Array.from(new Set(e)),e.join(",")}}),components:{playbackDialog:c["default"],datetimeRange:u["default"]},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{goLogList:function(e){this.$router.push({path:"/callback/log",query:{callbackRequestId:e.id}})},handleObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return"string"===typeof e&&(e=JSON.parse(e)),Object.keys(e).forEach((function(a){t.push({key:a,value:e[a]})})),t},playback:function(e,t){this.playbackDialog.id=e,this.playbackDialog.configId=t,this.playbackDialog.visible=!0},handlePlayback:function(){0!==this.selectionList.length?this.playback(this.ids,this.configIds):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&Object(l["b"])(this.form.id).then((function(e){a.form=e.data.data,a.form.targets=a.handleObject(a.form.targets),a.form.headers=a.handleObject(a.form.headers)})),e()},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.recvTime&&(e.startTime=e.recvTime[0]||"",e.endTime=e.recvTime[1]||"",delete e.recvTime),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(l["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},f=h,g=(a("45d5"),a("2877")),m=Object(g["a"])(f,n,i,!1,null,null,null);t["default"]=m.exports},"7fc3":function(e,t,a){"use strict";a("a945")},"802a":function(e,t){function a(e){return this.__data__.get(e)}e.exports=a},8056:function(e,t,a){},8057:function(e,t){function a(e,t){var a=-1,n=null==e?0:e.length;while(++a<n)if(!1===t(e[a],a,e))break;return e}e.exports=a},8065:function(e,t,a){},8078:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,"modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"800px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("el-form",{ref:"formData",attrs:{model:e.form,rules:e.rules,disabled:e.disabled,size:"small","label-width":"155px"}},[a("el-form-item",{attrs:{label:"前端服务名",prop:"service"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:""},model:{value:e.form.service,callback:function(t){e.$set(e.form,"service",t)},expression:"form.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"前端API路径",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入前端API路径",clearable:""},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}}),a("span",{staticClass:"key-tips"},[e._v("如果接口URL为http://网关IP:port/proxy/user-service/user/list, 则输入/user/list，如果不配置路径则按服务熔断")])],1),a("el-form-item",{attrs:{label:"熔断策略:",prop:"strategy"}},[a("el-radio-group",{attrs:{placeholder:"请选择 熔断策略"},model:{value:e.form.strategy,callback:function(t){e.$set(e.form,"strategy",t)},expression:"form.strategy"}},e._l(e.strategyList,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),1===e.form.strategy?a("el-form-item",{attrs:{label:"比例阈值:",prop:"ratioThreshold"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:0,max:1,step:.1},model:{value:e.form.ratioThreshold,callback:function(t){e.$set(e.form,"ratioThreshold",t)},expression:"form.ratioThreshold"}}),a("span",{staticClass:"key-tips"},[e._v("异常的请求比例阈值，超过该值触发熔断，默认值为0.5")])],1):e._e(),2===e.form.strategy?a("el-form-item",{attrs:{label:"异常数:",prop:"exceptionCount"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:1},model:{value:e.form.exceptionCount,callback:function(t){e.$set(e.form,"exceptionCount",t)},expression:"form.exceptionCount"}}),a("span",{staticClass:"key-tips"},[e._v("异常的请求数，超过该值触发熔断，默认值为50")])],1):e._e(),a("el-form-item",{attrs:{label:"最小请求数:",prop:"minRequestCount"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:1},model:{value:e.form.minRequestCount,callback:function(t){e.$set(e.form,"minRequestCount",t)},expression:"form.minRequestCount"}}),a("span",{staticClass:"key-tips"},[e._v("请求数小于该值时即使异常请求超出阈值也不会熔断，默认值为100")])],1),a("el-form-item",{attrs:{label:"熔断时长:",prop:"timeWindow"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:1,max:300},model:{value:e.form.timeWindow,callback:function(t){e.$set(e.form,"timeWindow",t)},expression:"form.timeWindow"}}),a("span",{staticClass:"unit"},[e._v("秒")]),a("span",{staticClass:"key-tips"},[e._v("触发熔断后请求被熔断的时长，默认值为10")])],1),a("el-form-item",{attrs:{label:"统计时长:",prop:"statInterval"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:1,max:300},model:{value:e.form.statInterval,callback:function(t){e.$set(e.form,"statInterval",t)},expression:"form.statInterval"}}),a("span",{staticClass:"unit"},[e._v("秒")]),a("span",{staticClass:"key-tips"},[e._v("熔断的统计时长，默认值为10")])],1),a("el-form-item",{attrs:{label:"恢复策略:",prop:"recoveryStrategy"}},[a("el-radio-group",{attrs:{placeholder:"请选择 恢复策略"},model:{value:e.form.recoveryStrategy,callback:function(t){e.$set(e.form,"recoveryStrategy",t)},expression:"form.recoveryStrategy"}},[a("el-radio",{attrs:{label:1}},[a("span",{staticClass:"radio-label"},[e._v("尝试恢复")]),a("el-tooltip",{attrs:{placement:"bottom"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                             熔断结束后放通一个请求进入，请求成功时恢复服务，请求失败则立即进入下一个熔断时长。\n                          ")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-radio",{attrs:{label:2}},[a("span",{staticClass:"radio-label"},[e._v("逐步恢复")]),a("el-tooltip",{attrs:{placement:"bottom"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                              熔断结束后根据恢复时长按比例逐步放通请求，"),a("br"),e._v("\n                              例如配置恢复时长5秒，则第1秒放通20%的请求，第2秒放通40%的请求，...，第5秒放通100%的请求。\n                          ")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-radio",{attrs:{label:3}},[a("span",{staticClass:"radio-label"},[e._v("立即恢复")]),a("el-tooltip",{attrs:{placement:"bottom"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                             熔断结束后立即恢复服务，放通所有请求。\n                          ")]),a("i",{staticClass:"el-icon-question"})])],1)],1)],1),2===e.form.recoveryStrategy?a("el-form-item",{attrs:{label:"恢复时长:",prop:"recoveryTimeWindow"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:5,max:60},model:{value:e.form.recoveryTimeWindow,callback:function(t){e.$set(e.form,"recoveryTimeWindow",t)},expression:"form.recoveryTimeWindow"}}),a("span",{staticClass:"unit"},[e._v("秒")]),a("span",{staticClass:"key-tips"},[e._v("熔断结束后的恢复时长，默认值为5")])],1):e._e(),a("el-form-item",{attrs:{label:"熔断响应ContentType:",prop:"responseContentType"}},[a("el-input",{attrs:{placeholder:"请输入ContentType"},model:{value:e.form.responseContentType,callback:function(t){e.$set(e.form,"responseContentType",t)},expression:"form.responseContentType"}}),a("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的熔断响应ContentType")])],1),a("el-form-item",{attrs:{label:"熔断响应报文:",prop:"responseContent"}},[a("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入 熔断响应报文"},model:{value:e.form.responseContent,callback:function(t){e.$set(e.form,"responseContent",t)},expression:"form.responseContent"}}),a("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的熔断响应报文")])],1)],1)],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submit}},[e._v(" 确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("ade3")),o=(a("c5f6"),a("5880")),s=a("1dbd"),l=a("307b");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=[{label:"异常比例",value:1},{label:"异常数",value:2}],p={strategy:1,ratioThreshold:.5,exceptionCount:50,minRequestCount:100,timeWindow:10,statInterval:10,recoveryTimeWindow:5},h={props:{visible:{type:Boolean,default:!1},type:{type:String,default:""},id:{type:Number}},data:function(){return{loading:!1,disabled:!1,form:Object(l["a"])(p),rules:{service:[{required:!0,message:"必填",trigger:"change"}],strategy:[{required:!0,message:"必填",trigger:"change"}],ratioThreshold:[{required:!0,message:"必填",trigger:"change"}],exceptionCount:[{required:!0,message:"必填",trigger:"change"}],minRequestCount:[{required:!0,message:"必填",trigger:"change"}],timeWindow:[{required:!0,message:"必填",trigger:"change"}],statInterval:[{required:!0,message:"必填",trigger:"change"}],recoveryStrategy:[{required:!0,message:"必填",trigger:"change"}],recoveryTimeWindow:[{required:!0,message:"必填",trigger:"change"}],path:[{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}]},strategyList:d}},computed:u(u({},Object(o["mapGetters"])(["frontendServiceOptions"])),{},{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}},title:function(){var e="";switch(this.type){case"add":e="新增 熔断规则";break;case"edit":e="修改 熔断规则";break;case"view":e="熔断规则 详情";break}return e}}),methods:{submit:function(){var e=this;this.$refs.formData.validate((function(t){t?e.submitService():e.$message.warning("请完善表单信息！")}))},submitService:function(){var e=this;this.loading=!0;var t="add"===this.type?s["a"]:s["e"];t(this.form).then((function(t){200===t.data.code?(e.$emit("doSearch"),e.$message.success("add"===e.type?"保存成功！":"修改成功！"),e.dialogVisible=!1):e.$message.error(t.data.msg||"操作失败!"),e.loading=!1}),(function(){e.loading=!1}))},getDetail:function(){var e=this;Object(s["b"])(this.id).then((function(t){if(200===t.data.code){var a=t.data.data||{};e.form=u(u({},a),{},{strategy:a.strategy||p.strategy,ratioThreshold:a.ratioThreshold||p.ratioThreshold,exceptionCount:a.exceptionCount||p.exceptionCount,minRequestCount:a.minRequestCount||p.minRequestCount,timeWindow:a.timeWindow||p.timeWindow,statInterval:a.statInterval||p.statInterval,recoveryTimeWindow:a.recoveryTimeWindow||p.recoveryTimeWindow})}else e.$message.error(t.data.msg||"详情查询失败!")}))}},mounted:function(){"view"===this.type&&(this.disabled=!0),["edit","view"].includes(this.type)&&this.getDetail()}},f=h,g=(a("e58a"),a("eaf7"),a("2877")),m=Object(g["a"])(f,n,i,!1,null,"3131a2d5",null);t["default"]=m.exports},"80f0":function(e,t){function a(e){return e}function n(e,t,n,i,r){this._old=e,this._new=t,this._oldKeyGetter=n||a,this._newKeyGetter=i||a,this.context=r}function i(e,t,a,n,i){for(var r=0;r<e.length;r++){var o="_ec_"+i[n](e[r],r),s=t[o];null==s?(a.push(o),t[o]=r):(s.length||(t[o]=s=[s]),s.push(r))}}n.prototype={constructor:n,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,a={},n={},r=[],o=[];for(i(e,a,r,"_oldKeyGetter",this),i(t,n,o,"_newKeyGetter",this),u=0;u<e.length;u++){var s=r[u],l=n[s];if(null!=l){var c=l.length;c?(1===c&&(n[s]=null),l=l.shift()):n[s]=null,this._update&&this._update(l,u)}else this._remove&&this._remove(u)}for(var u=0;u<o.length;u++){s=o[u];if(n.hasOwnProperty(s)){l=n[s];if(null==l)continue;if(l.length){var d=0;for(c=l.length;d<c;d++)this._add&&this._add(l[d])}else this._add&&this._add(l)}}}};var r=n;e.exports=r},8138:function(e,t,a){"use strict";a("1120")},"81d7":function(e,t,a){"use strict";a("ef00")},"825b":function(e,t,a){},"828f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"tags",fn:function(t){var a=t.row;return[e._v("\n      "+e._s(a.tags.join(","))+"\n    ")]}},{key:"useWhiteList",fn:function(t){var a=t.row;return[e._v("\n      "+e._s(a.useWhiteList?"是":"否")+"\n    ")]}},{key:"useAuth",fn:function(t){var a=t.row;return[e._v("\n      "+e._s(a.useAuth?"是":"否")+"\n    ")]}},{key:"menu",fn:function(t){var n=t.row;return[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-s-operation"},on:{click:function(t){return e.openRouteDialog(n)}}},[e._v("路由权限")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"tagsSearch"},[a("el-input",{attrs:{placeholder:"标签",clearable:""},model:{value:e.search.tagCondition,callback:function(t){e.$set(e.search,"tagCondition",t)},expression:"search.tagCondition"}})],1)],2),a("el-dialog",{attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.rules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"appID",prop:"app"}},[a("el-input",{attrs:{placeholder:"请输入appID",disabled:"edit"===e.detailDialog.type,clearable:""},model:{value:e.dialogForm.app,callback:function(t){e.$set(e.dialogForm,"app",t)},expression:"dialogForm.app"}}),a("span",{staticClass:"key-tips"},[e._v("\n          调用方通过请求头fizz-appid传递appid\n          "),a("tooltip-appid",{staticClass:"link",attrs:{title:"示例"}})],1)],1),a("el-form-item",{attrs:{label:"应用名",prop:"appName"}},[a("el-input",{attrs:{placeholder:"请输入应用名",clearable:""},model:{value:e.dialogForm.appName,callback:function(t){e.$set(e.dialogForm,"appName",t)},expression:"dialogForm.appName"}})],1),a("el-form-item",{attrs:{label:"标签",prop:"tags"}},[e._l(e.dialogForm.tags,(function(t){return a("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return e.handleClose(t)}}},[e._v("\n          "+e._s(t)+"\n        ")])})),e.tagInputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm.apply(null,arguments)}},model:{value:e.tagInputValue,callback:function(t){e.tagInputValue=t},expression:"tagInputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ 新标签")])],2),a("el-form-item",{attrs:{label:"是否启用认证",prop:"useAuth"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.dialogForm.useAuth,callback:function(t){e.$set(e.dialogForm,"useAuth",t)},expression:"dialogForm.useAuth"}})],1),e.dialogForm.useAuth?[a("el-form-item",{attrs:{label:"认证方式",prop:"authType"}},[a("el-select",{attrs:{placeholder:"请选择认证方式",clearable:""},model:{value:e.dialogForm.authType,callback:function(t){e.$set(e.dialogForm,"authType",t)},expression:"dialogForm.authType"}},e._l(e.authType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"secret-key-item",attrs:{label:"密钥",prop:"secretkey"}},[a("el-input",{attrs:{placeholder:"请输入或生成密钥",clearable:""},model:{value:e.dialogForm.secretkey,callback:function(t){e.$set(e.dialogForm,"secretkey",t)},expression:"dialogForm.secretkey"}}),a("el-button",{attrs:{size:"small",type:"primary",loading:e.createLoading},on:{click:e.createScretkey}},[e._v("生成随机密钥")]),1===e.dialogForm.authType?a("div",{staticClass:"key-tips",staticStyle:{"padding-top":"8px"}},[e._v("\n            调用方需传签名请求头fizz-sign和时间戳请求头fizz-ts\n            "),a("tooltip-appid",{staticClass:"link",attrs:{title:"示例"}}),e._v("\n            ，生成MD5签名: MD5(appid+_+时间戳+_+密钥)\n            "),a("tooltip-md5",{staticClass:"link",attrs:{title:"样例说明"}})],1):2===e.dialogForm.authType?a("div",{staticClass:"key-tips",staticStyle:{"padding-top":"8px"}},[e._v("\n            自定义插件方式可定制签名和验签方法\n            "),a("tooltip-custom",{staticClass:"link",attrs:{title:"插件实例"}})],1):3===e.dialogForm.authType?a("div",{staticClass:"key-tips",staticStyle:{"padding-top":"8px"}},[e._v("\n            调用方需传签名请求头fizz-sign, 值为密钥\n            "),a("tooltip-appid",{staticClass:"link",attrs:{title:"示例",ts:!1}})],1):e._e()],1)]:e._e(),a("el-form-item",{attrs:{label:"是否启用IP白名单",prop:"useWhiteList"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.dialogForm.useWhiteList,callback:function(t){e.$set(e.dialogForm,"useWhiteList",t)},expression:"dialogForm.useWhiteList"}})],1),e.dialogForm.useWhiteList?a("el-form-item",{attrs:{label:"IP白名单",prop:"authIps"}},[a("el-input",{attrs:{type:"textarea",placeholder:"多个IP或IP段用逗号,分隔",clearable:""},model:{value:e.dialogForm.authIps,callback:function(t){e.$set(e.dialogForm,"authIps",t)},expression:"dialogForm.authIps"}}),a("span",{staticClass:"key-tips"},[e._v("IP段支持 1.2.3.100-120 和 1.2.3.*两种格式，仅最后一段可用范围或星号表示")])],1):e._e(),a("el-form-item",{attrs:{label:"自定义配置",prop:"customConfig"}},[a("el-input",{attrs:{type:"textarea",clearable:""},model:{value:e.dialogForm.customConfig,callback:function(t){e.$set(e.dialogForm,"customConfig",t)},expression:"dialogForm.customConfig"}}),a("span",{staticClass:"key-tips"},[e._v("\n          AppID级别的自定义配置供自定义插件使用，所有插件均可获取到此配置信息\n          "),a("tooltip-custom",{staticClass:"link",attrs:{title:"插件实例"}})],1)],1)],2),"view"!==e.detailDialog.type?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e()],1),e.routerVisible?a("routeDialog",{attrs:{visible:e.routerVisible,appCondition:e.appCondition},on:{changeVisible:function(t){e.routerVisible=!1}}}):e._e()],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ade3")),o=(a("ac6a"),a("28a5"),a("24a7")),s=a("5880"),l=a("16cd"),c=a("c54a"),u=a("17e0"),d=a("8fdd"),p=a("dd62"),h=a("ccbc");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m=[{label:"MD5签名",value:1},{label:"密钥认证",value:3},{label:"自定义认证插件",value:2}],b=function(e,t,a){var n=t.split(","),i=!0;n.forEach((function(e){Object(c["j"])(Object(l["a"])(e))||Object(c["i"])(Object(l["a"])(e))||(i=!1)})),i?a():a(new Error("ip白名单格式不正确"))},v={data:function(){return{routerVisible:!1,tagInputVisible:!1,tagInputValue:"",form:{},dialogForm:{tags:[]},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},search:{},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,columnBtn:!1,menuPosition:"right",menuWidth:"270px",column:[{label:"appID",prop:"app",search:!0,overHidden:!0},{label:"应用名",prop:"appName",search:!0,overHidden:!0},{label:"标签",prop:"tags",search:!0,overHidden:!0,searchslot:!0,slot:!0},{label:"是否启用认证",prop:"useAuth",type:"switch",slot:!0},{label:"认证方式",prop:"authType",search:!0,type:"select",dicData:m},{label:"密钥",prop:"secretkey",overHidden:!0,hide:!0},{label:"是否启用IP白名单",prop:"useWhiteList",type:"switch",slot:!0},{label:"IP白名单",prop:"authIps",placeholder:"多个IP用逗号,分隔",overHidden:!0},{label:"自定义配置",prop:"customConfig",overHidden:!0}]},data:[],authType:m,rules:{app:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[A-Za-z\d-_]+$/,message:"只能有字母或数字或连字符-或下划线_",trigger:"blur"}],appName:[{required:!0,message:"必填",trigger:"blur"}],secretkey:[{required:!0,message:"必填",trigger:"blur"}],authType:[{required:!0,message:"必填",trigger:"change"}],authIps:[{validator:b,trigger:"blur"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1},createLoading:!1,appCondition:{}}},computed:g(g({},Object(s["mapGetters"])(["permission","licenseInfo"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.proxy_appid_add,!1),viewBtn:this.vaildData(this.permission.proxy_appid_view,!1),editBtn:this.vaildData(this.permission.proxy_appid_edit,!1),delBtn:this.vaildData(this.permission.proxy_appid_delete,!1)}}}),components:{tooltipAppid:u["default"],tooltipMd5:d["default"],tooltipCustom:p["default"],routeDialog:h["default"]},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))},"dialogForm.authType":function(e){var t=this.rules.secretkey[0];t.required=2!==e}},methods:{openRouteDialog:function(e){this.appCondition={app:e.app,appName:e.appName},this.routerVisible=!0},handleClose:function(e){this.dialogForm.tags.splice(this.dialogForm.tags.indexOf(e),1)},showInput:function(){var e=this;this.tagInputVisible=!0,this.$nextTick((function(){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.tagInputValue;e&&this.dialogForm.tags.push(e),this.tagInputVisible=!1,this.tagInputValue=""},createScretkey:function(){var e=this;this.createLoading=!0,Object(o["c"])().then((function(t){var a=t.data.data;e.dialogForm=Object.assign({},e.dialogForm,{secretkey:a})})).finally((function(){e.createLoading=!1}))},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var a=Object(l["b"])(e.dialogForm);a.useAuth||(a.useAuth=0),"edit"===e.detailDialog.type?e.form.secretkey&&a.secretkey!==e.form.secretkey?e.$confirm("你已修改密钥，保存后旧密钥将失效，是否继续？?").then((function(){e.rowUpdate(a)})):e.rowUpdate(a):e.rowSave(a)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,Object(o["a"])(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,Object(o["h"])(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["g"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var a=this;switch(this.dialogForm={tags:[]},this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}["edit","view"].includes(t)?Object(o["e"])(this.form.id).then((function(e){a.form=e.data.data,a.dialogForm=Object.assign({},e.data.data||{}),a.detailDialog.visible=!0})):this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["f"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},y=v,w=(a("d442"),a("ce08"),a("2877")),_=Object(w["a"])(y,n,i,!1,null,"22429b2b",null);t["default"]=_.exports},8293:function(e,t,a){"use strict";a("3c73")},"82eb":function(e,t){var a={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},n=9;t.ContextCachedBy=a,t.WILL_BE_RESTORED=n},"82f9":function(e,t,a){var n=a("6d8b"),i=a("76a5"),r=a("2306");function o(e,t,a,n){e[0]=a,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function s(e){var t=this._zr=e.getZr();this._styleCoord=[0,0,0,0],o(this._styleCoord,t,e.getWidth()/2,e.getHeight()/2),this._show=!1,this._hideTimeout}s.prototype={constructor:s,_enterable:!0,update:function(e){var t=e.get("alwaysShowContent");t&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],a=e*this._zr.getWidth(),n=t*this._zr.getHeight();this.moveTo(a,n)},show:function(e){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,a){this.el&&this._zr.remove(this.el);var n={},o=e,s="{marker",l="|}",c=o.indexOf(s);while(c>=0){var u=o.indexOf(l),d=o.substr(c+s.length,u-c-s.length);d.indexOf("sub")>-1?n["marker"+d]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[d],textOffset:[3,0]}:n["marker"+d]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[d]},o=o.substr(u+1),c=o.indexOf("{marker")}var p=a.getModel("textStyle"),h=p.get("fontSize"),f=a.get("textLineHeight");null==f&&(f=Math.round(3*h/2)),this.el=new i({style:r.setTextStyle({},p,{rich:n,text:e,textBackgroundColor:a.get("backgroundColor"),textBorderRadius:a.get("borderRadius"),textFill:a.get("textStyle.color"),textPadding:a.get("padding"),textLineHeight:f}),z:a.get("z")}),this._zr.add(this.el);var g=this;this.el.on("mouseover",(function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0),g._inContent=!0})),this.el.on("mouseout",(function(){g._enterable&&g._show&&g.hideLater(g._hideDelay),g._inContent=!1}))},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){if(this.el){var a=this._styleCoord;o(a,this._zr,e,t),this.el.attr("position",[a[0],a[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var l=s;e.exports=l},8352:function(e,t,a){},"83b0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.reload?a("avue-crud",{staticClass:"param-table",attrs:{option:e.option,data:e.data,"table-loading":e.loading},on:{"row-del":e.rowDel,"row-update":e.addUpdate},scopedSlots:e._u([{key:"key",fn:function(t){var n=t.row,i=t.size;return[n.$cellEdit?a("div",[a("el-input",{staticStyle:{"padding-right":"6px"},attrs:{size:i,placeholder:"请输入字段(必填)",clearable:""},model:{value:n.key,callback:function(t){e.$set(n,"key",t)},expression:"row.key"}}),a("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("span",[e._v("\n            JSON和XML字段支持多级，用点分隔，如 user.name 或 user.address.city；"),a("br"),e._v("\n            form-data和x-www-form-urlencoded字段不支持多级；\n          ")])]),a("i",{staticClass:"el-icon-question"})])],1):a("div",[e._v(" "+e._s(n.key))])]}},{key:"paramType",fn:function(t){var n=t.row,i=t.size;return[n.$cellEdit?a("el-select",{attrs:{size:i,placeholder:"请选择类型(必填)"},on:{change:function(t){return e.paramTypeChange(n)}},model:{value:n.paramType,callback:function(t){e.$set(n,"paramType",t)},expression:"row.paramType"}},e._l(e.paramType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):a("div",[e._v("\n      "+e._s(e.getParamTypeName(n.paramType))+"\n    ")])]}},{key:"dataType",fn:function(t){var n=t.row,i=t.size;return[n.$cellEdit?a("div",["fixed"===n.paramType?a("el-select",{attrs:{size:i,placeholder:"请选择数据类型(必填)",clearable:""},on:{change:function(t){return e.dataTypeChange(n)}},model:{value:n.dataType,callback:function(t){e.$set(n,"dataType",t)},expression:"row.dataType"}},e._l(e.fixedDataType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):"quote"===n.paramType||"fn"===n.paramType?a("el-select",{staticStyle:{"padding-right":"6px"},attrs:{size:i,placeholder:"请选择数据类型(非必填)",clearable:""},on:{change:function(t){return e.dataTypeChange(n)}},model:{value:n.dataType,callback:function(t){e.$set(n,"dataType",t)},expression:"row.dataType"}},e._l(e.quoteDataType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),"quote"===n.paramType?a("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("span",[e._v("\n          引用值的数据类型为非必填，默认使用引用值原来的类型；"),a("br"),e._v("\n          如果选择了数据类型，系统会将引用值强转为所选类型，"),a("br"),e._v("\n          请确保引用值可以被强转为所选数据类型，如果强转失败会抛异常。"),a("br"),e._v("\n          如：引用值为abc, 数据类型选int时会导致强转失败。\n        ")])]),a("i",{staticClass:"el-icon-question"})]):e._e()],1):a("div",[e._v(" "+e._s(n.dataType))])]}},{key:"value",fn:function(t){var n=t.row,i=t.size;return[n.$cellEdit?a("div",["script"===n.paramType?a("el-button",{attrs:{type:"text",size:i},on:{click:function(t){return e.openScript(n)}}},[e._v("\n        "+e._s(n.value||"新增脚本")+"\n      ")]):"fixed"===n.paramType&&"boolean"===n.dataType?a("el-select",{attrs:{placeholder:"请选择字段值(必填)",size:i,clearable:""},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"row.value"}},[a("el-option",{attrs:{label:"true",value:!0}}),a("el-option",{attrs:{label:"false",value:!1}})],1):"fixed"===n.paramType&&"number"===n.dataType?a("el-input",{attrs:{size:i,placeholder:"请输入字段值(必填)",type:"number",clearable:""},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"row.value"}}):a("el-input",{staticStyle:{"padding-right":"6px"},attrs:{size:i,placeholder:"请输入字段值(必填)",clearable:""},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"row.value"}}),"quote"===n.paramType?a("quote-tooltip"):e._e(),"fn"===n.paramType?a("div",{staticClass:"fun-desc"},[e._v("\n        函数列表请参考： \n        "),a("el-link",{staticClass:"link",attrs:{type:"primary",href:"https://www.fizzgate.com/guide/aggregate/function.html",target:"_blank"}},[e._v("函数文档")])],1):e._e()],1):!n.$cellEdit&&"script"===n.paramType&&e.disabled?a("div",{staticClass:"script-view",on:{click:function(t){return e.openScript(n)}}},[e._v("\n      "+e._s(n.value||"无")+"\n    ")]):a("div",[e._v(" "+e._s(n.value))]),"script"===n.paramType?a("script-dialog",{attrs:{visible:e.scriptVisible,disabled:e.disabled,"business-type":e.businessType,callback:e.scriptCallback,id:e.scriptId,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:visible":function(t){e.scriptVisible=t},"update:id":function(t){e.scriptId=t}}}):e._e()]}}],null,!1,3140453166)}):e._e()},i=[],r=(a("6762"),a("2fdb"),a("7514"),a("456d"),a("ac6a"),a("53ca")),o=(a("28a5"),a("c5f6"),a("d263"),a("2fa9")),s=a("cc38"),l=a("e683"),c=a("c54a"),u="raw",d={name:"params-table",props:{fixed:{type:[Object,Array],default:function(){return{}}},quote:{type:[Object,Array],default:function(){return{}}},disabled:{type:Boolean,default:!1},businessType:{type:String},rules:{type:Object},multipleValues:{type:Boolean,default:!1},isDelScriptWithHttp:{type:Boolean,default:!0}},data:function(){return{reload:!1,loading:!1,scriptVisible:!1,scriptId:"",scriptRow:{},scriptContent:"",fixedDataType:l["f"],quoteDataType:l["h"],paramType:l["g"],data:[],option:{addBtn:!1,editBtn:!1,cancelBtn:!1,refreshBtn:!1,columnBtn:!1,cellBtn:!0,addBtnText:"添加",addRowBtn:!this.disabled,menu:!this.disabled,column:[{label:"字段",prop:"key",slot:!0,cell:!0,rules:[{required:!0,message:"请输入字段",trigger:"blur"}]},{label:"类型",prop:"paramType",type:"select",slot:!0,cell:!0,rules:[{required:!0,message:"请选择类型",trigger:"blur"}]},{label:"数据类型",prop:"dataType",slot:!0,cell:!0},{label:"值",prop:"value",cell:!0,slot:!0}]}}},components:{scriptDialog:o["default"],quoteTooltip:s["default"]},computed:{dataObj:function(){return{fixed:this.fixed,quote:this.quote}}},watch:{rules:{immediate:!0,deep:!0,handler:function(e){e&&this.initOption()}},dataObj:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},disabled:function(e,t){e!==t&&(this.option.addRowBtn=!e,this.option.menu=!e)},multipleValues:{immediate:!0,handler:function(){this.emitData()}}},methods:{initOption:function(){var e=this;this.option.column=this.option.column.map((function(t){if("key"===t.prop){var a=e.rules&&e.rules["key"]||[];t.rules=t.rules.concat(a)}if("value"===t.prop){var n=e.rules&&e.rules["value"]||[];t.rules=(t.rules||[]).concat(n)}return t}))},addUpdate:function(e,t,a,n){return"fixed"!==e.paramType||"json"!==e.dataType||Object(c["m"])(e.value)?"fixed"!==e.paramType||e.dataType?e.value||!1===e.value||0===e.value?"fn"===e.paramType&&"fn."!==e.value.substring(0,3)?(this.$message.error("第".concat(t+1,'行: 函数类型的字段值应该以 "fn." 开头')),n(),!1):("fixed"===e.paramType&&"number"===e.dataType&&(e.value=Number(e.value)),this.emitData(),n(),void a()):(this.$message.error("第".concat(t+1,"行: 字段值不能为空")),n(),!1):(this.$message.error("第".concat(t+1,"行: 固定值类型字段请选择数据类型")),n(),!1):(this.$message.error("第".concat(t+1,"行: json类型字段值格式不正确！")),n(),!1)},renderQuoteItem:function(e,t){if("string"===typeof t){var a=t.split(" "),n=this.quoteDataType.filter((function(e){return e.value===a[0]}));a=n.length>0?[n[0].value,t.substring(n[0].value.length+1)]:[t];var i=a[a.length-1]&&"fn."===a[a.length-1].substring(0,3);return{key:e,paramType:i?"fn":"quote",dataType:a.length>1?a[0]:u,value:a[a.length-1]}}if("object"===Object(r["a"])(t))return{key:e,paramType:"script",dataType:"",value:t}},initData:function(e){var t=this,a=e.fixed,n=e.quote;this.reload=!1;var i=[];Object(c["d"])(a,"object")?Object.keys(a).forEach((function(e){var t=Object(c["c"])(a[e])?"json":Object(r["a"])(a[e])||"",n=Object(c["c"])(a[e])?JSON.stringify(a[e]):a[e];i.push({key:e,paramType:"fixed",dataType:t,value:n})})):Object(c["d"])(a,"array")&&a.forEach((function(e){var t=Object(c["c"])(e.value)?"json":Object(r["a"])(e.value)||"",a=Object(c["c"])(e.value)?JSON.stringify(e.value):e.value;i.push({key:e.key,paramType:"fixed",dataType:t,value:a})})),Object(c["d"])(n,"object")?Object.keys(n).forEach((function(e){i.push(t.renderQuoteItem(e,n[e]))})):Object(c["d"])(n,"array")&&n.forEach((function(e){i.push(t.renderQuoteItem(e.key,e.value))})),this.data=i,this.reload=!0},handleData:function(){if(this.multipleValues){var e=[],t=[];return this.data.forEach((function(a){if("fixed"===a.paramType){var n="json"===a.dataType?JSON.parse(a.value):a.value;e.push({key:a.key,value:n})}else"quote"===a.paramType||"fn"===a.paramType?t.push({key:a.key,value:a.dataType&&a.dataType!==u?"".concat(a.dataType," ").concat(a.value):a.value}):t.push({key:a.key,value:a.value})})),{fixed:e,quote:t}}var a={},n={};return this.data.forEach((function(e){"fixed"===e.paramType?a[e.key]="json"===e.dataType?JSON.parse(e.value):e.value:"quote"===e.paramType||"fn"===e.paramType?n[e.key]=e.dataType&&e.dataType!==u?"".concat(e.dataType," ").concat(e.value):e.value:n[e.key]=e.value})),{fixed:a,quote:n}},getParamTypeName:function(e){var t=this.paramType.find((function(t){return t.value===e}))||{};return t.label||""},getScriptId:function(e){if(!e)return this.scriptId="","";var t="string"===typeof e?JSON.parse(e):e;return this.scriptId=t["aggregate_config_script_id"]||"",this.scriptId},dataTypeChange:function(e){"fixed"===e.paramType&&e.value?e.value=null:["quote","fn"].includes(e.paramType)&&!e.dataType&&(e.dataType=u)},paramTypeChange:function(e){["quote","fn"].includes(e.paramType)?e.dataType=u:e.dataType&&(e.dataType=""),e.value&&(e.value=null)},openScript:function(e){this.scriptRow=e,this.scriptId=this.getScriptId(e.value||""),this.scriptVisible=!0},scriptCallback:function(){this.scriptRow.value=this.scriptId?{aggregate_config_script_id:this.scriptId}:"",this.data[this.scriptRow.$index]=Object.assign({},this.scriptRow)},emitData:function(){var e=this.handleData(),t=e.fixed,a=e.quote;this.$emit("update:fixed",t),this.$emit("update:quote",a)},rowDel:function(e,t){this.isDelScriptWithHttp||"script"!==e.paramType||this.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e.value.aggregate_config_script_id),this.data.splice(t,1),this.emitData()}}},p=d,h=(a("7539"),a("af7b"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,"c38081b6",null);t["default"]=f.exports},"83da":function(e,t,a){},8439:function(e,t,a){"use strict";a("c1d4")},"843e":function(e,t,a){var n=a("6d8b"),i=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function r(e){n.each(i,(function(t){this[t]=n.bind(e[t],e)}),this)}var o=r;e.exports=o},"847a":function(e,t,a){"use strict";a("b9d9")},"849e":function(e,t,a){},"84a6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},i=[],r={name:"authredirect",created:function(){window.close();var e=this.$route.query,t=e.state,a=e.code;window.opener.location.href="".concat(window.location.origin,"/#/login?state=").concat(t,"&code=").concat(a)}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},"84c4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{search:e.search,"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:search":function(t){e.search=t},"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"serviceSearch"},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),a("template",{slot:"timeSearch"},[a("datetime-range",{attrs:{defaultValue:e.search.time,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",notMaxTodayStart:!0,notMaxtTodayEnd:!1,startClearable:!1},on:{"update:defaultValue":function(t){return e.$set(e.search,"time",t)},"update:default-value":function(t){return e.$set(e.search,"time",t)},change:e.handleDateTimePicker}})],1)],2)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("386d"),a("96cf"),a("1da1")),o=a("ade3"),s=a("8e7d"),l=a("84df"),c=a("b5c6"),u=a("da71");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=function(e,t,a){return Object(c["a"])({url:"".concat(u["a"],"/alarm-log/list"),method:"get",params:p(p({},a),{},{current:e,size:t})})},f=a("5880");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={name:"alarmList",components:{datetimeRange:s["default"]},data:function(){return{form:{},query:{},search:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,dialogClickModal:!1,menu:!1,columnBtn:!1,addBtn:!1,menuPosition:"right",labelWidth:100,menuWidth:320,column:[{label:"前端服务名",prop:"service",search:!0,searchslot:!0,searchLabelWidth:100,searchSpan:8},{label:"API Path",prop:"path",search:!0},{label:"告警类型",prop:"type",type:"select",dicData:[{label:"接口错误",value:1},{label:"接口超时",value:2},{label:"限流",value:3},{label:"熔断",value:4}],search:!0},{label:"错误原因",prop:"desc"},{label:"请求时间",prop:"reqTime"},{label:"请求时间",prop:"time",search:!0,searchslot:!0,searchSpan:12,showColumn:!1}]},data:[],defaultTime:[]}},computed:m({},Object(f["mapGetters"])(["frontendServiceOptions"])),methods:m(m({},Object(f["mapActions"])(["getFrontendServiceOptions"])),{},{searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=i.length>1&&void 0!==i[1]?i[1]:{},this.loading=!0,this.search.time&&this.search.time.length>0&&(this.query.startDate=this.search.time[0],this.query.endDate=this.search.time[1]||"",delete this.query.time),h(t.currentPage,t.pageSize,Object.assign(a,this.query)).then((function(e){var t=e.data.data;n.page.total=t.total,n.loading=!1,n.data=t.records}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleDateTimePicker:function(e){var t=new Date((new Date).setHours(0,0,0,0));if(e[0]){if(new Date(e[0]).getTime()>(new Date).getTime())return this.$message.warning("开始时间不能大于当前时间"),void this.$set(this.search,"time",[Object(l["b"])(t,"yyyy-MM-dd hh:mm:ss"),e[1]||null]);this.$set(this.search,"time",e)}else this.$message.warning("开始时间不能为空!"),this.$set(this.search,"time",[Object(l["b"])(t,"yyyy-MM-dd hh:mm:ss"),null])}}),created:function(){var e=new Date((new Date).setHours(0,0,0,0));this.$set(this.search,"time",[Object(l["b"])(e,"yyyy-MM-dd hh:mm:ss"),null]),this.query.startDate=this.search.time[0],this.getFrontendServiceOptions()}},v=b,y=a("2877"),w=Object(y["a"])(v,n,i,!1,null,"4b33b87a",null);t["default"]=w.exports},"84cd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-alert",{attrs:{title:"网关本地缓存的已发布接口信息，版本号为网关实际使用的接口版本。",type:"warning",closable:!1}}),a("el-card",{staticClass:"box-card"},[a("header",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("["+e._s(e.originId)+"] 网关详情")]),a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList,"cell-class-name":"api-cell"},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row,i=t.type,r=t.size;return[a("el-button",{attrs:{icon:"el-icon-view",size:r,type:i},on:{click:function(t){return e.getDetail(n)}}},[e._v("查看\n        ")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),a("el-dialog",{attrs:{title:"Config Json","append-to-body":"",top:"5vh",width:"900px",visible:e.configDialog},on:{"update:visible":function(t){e.configDialog=t}}},[e.form.serviceName?a("el-tag",[e._v("服务["+e._s(e.form.serviceName)+"]")]):e._e(),e._v(" \n    "),e.form.name?a("b",[e._v(" ["+e._s(e.form.name)+"] ")]):e._e(),a("el-divider"),a("code-highlight",{attrs:{language:"json",code:e.jsonCode,height:600}})],1)],1)},i=[],r=a("e5ec"),o=a("d480"),s={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{size:"mini",dialogWidth:900,menuWidth:120,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"所属服务",prop:"serviceName",search:!0},{label:"接口名",prop:"name",minWidth:120,search:!0},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120,search:!0},{label:"版本号",prop:"version",width:80}]},data:[],configDialog:!1,configJson:""}},computed:{originId:function(){return this.$route.query.originId||""},jsonCode:function(){var e="";if(this.configJson)try{e=JSON.parse(this.configJson)}catch(t){e=this.configJson||""}return JSON.stringify(e,null,"    ")}},components:{codeHighlight:o["default"]},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{getDetail:function(e){var t=this;e.configId?(this.form=e,Object(r["a"])({instanceId:this.originId,configId:e.configId}).then((function(e){t.configJson=e.data.data||"",t.configDialog=!0}))):this.$message.error("数据缺失，无法操作！")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,a.instanceId=this.originId,Object(r["b"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},l=s,c=(a("8be4"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,"096e071c",null);t["default"]=u.exports},"84ce":function(e,t,a){var n=a("6d8b"),i=n.each,r=n.map,o=a("3842"),s=o.linearMap,l=o.getPixelPrecision,c=o.round,u=a("e073"),d=u.createAxisTicks,p=u.createAxisLabels,h=u.calculateCategoryInterval,f=[0,1],g=function(e,t,a){this.dim=e,this.scale=t,this._extent=a||[0,0],this.inverse=!1,this.onBand=!1};function m(e,t){var a=e[1]-e[0],n=t,i=a/n/2;e[0]+=i,e[1]-=i}function b(e,t,a,n){var r=t.length;if(e.onBand&&!a&&r){var o,s,l=e.getExtent();if(1===r)t[0].coord=l[0],o=t[1]={coord:l[0]};else{var u=t[r-1].tickValue-t[0].tickValue,d=(t[r-1].coord-t[0].coord)/u;i(t,(function(e){e.coord-=d/2}));var p=e.scale.getExtent();s=1+p[1]-t[r-1].tickValue,o={coord:t[r-1].coord+d*s},t.push(o)}var h=l[0]>l[1];f(t[0].coord,l[0])&&(n?t[0].coord=l[0]:t.shift()),n&&f(l[0],t[0].coord)&&t.unshift({coord:l[0]}),f(l[1],o.coord)&&(n?o.coord=l[1]:t.pop()),n&&f(o.coord,l[1])&&t.push({coord:l[1]})}function f(e,t){return e=c(e),t=c(t),h?e>t:e<t}}g.prototype={constructor:g,contain:function(e){var t=this._extent,a=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]);return e>=a&&e<=n},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return l(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var a=this._extent;a[0]=e,a[1]=t},dataToCoord:function(e,t){var a=this._extent,n=this.scale;return e=n.normalize(e),this.onBand&&"ordinal"===n.type&&(a=a.slice(),m(a,n.count())),s(e,f,a,t)},coordToData:function(e,t){var a=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&(a=a.slice(),m(a,n.count()));var i=s(e,a,f,t);return this.scale.scale(i)},pointToData:function(e,t){},getTicksCoords:function(e){e=e||{};var t=e.tickModel||this.getTickModel(),a=d(this,t),n=a.ticks,i=r(n,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this),o=t.get("alignWithLabel");return b(this,i,o,e.clamp),i},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var a=this.scale.getMinorTicks(t),n=r(a,(function(e){return r(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this);return n},getViewLabels:function(){return p(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),a=t[1]-t[0]+(this.onBand?1:0);0===a&&(a=1);var n=Math.abs(e[1]-e[0]);return Math.abs(n)/a},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return h(this)}};var v=g;e.exports=v},"84ec":function(e,t){var a=Math.log(2);function n(e,t,i,r,o,s){var l=r+"-"+o,c=e.length;if(s.hasOwnProperty(l))return s[l];if(1===t){var u=Math.round(Math.log((1<<c)-1&~o)/a);return e[i][u]}var d=r|1<<i,p=i+1;while(r&1<<p)p++;for(var h=0,f=0,g=0;f<c;f++){var m=1<<f;m&o||(h+=(g%2?-1:1)*e[i][f]*n(e,t-1,p,d,o|m,s),g++)}return s[l]=h,h}function i(e,t){var a=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],i={},r=n(a,8,0,0,0,i);if(0!==r){for(var o=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==o[l]&&(o[l]=0),o[l]+=((s+l)%2?-1:1)*n(a,7,0===s?1:0,1<<s,1<<l,i)/r*t[s];return function(e,t,a){var n=t*o[6]+a*o[7]+1;e[0]=(t*o[0]+a*o[1]+o[2])/n,e[1]=(t*o[3]+a*o[4]+o[5])/n}}}t.buildTransformer=i},8514:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),e.visible?a("detailDialog",{attrs:{type:e.type,id:e.id,visible:e.visible},on:{changeVisible:function(t){e.visible=!1},doSearch:function(t){return e.onLoad({pageSize:e.page.pageSize,currentPage:1})}}}):e._e()],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("d15d"),l=a("0a6a");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"registerConfig",components:{detailDialog:s["default"]},data:function(){return{form:{},search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,columnBtn:!1,menuPosition:"right",searchLabelWidth:50,column:[{label:"名称",prop:"name",search:!0},{label:"描述",prop:"description",search:!0},{label:"类型",prop:"type",dicData:[{label:"Eureka",value:1},{label:"Nacos",value:2}]},{label:"健康状态",prop:"health",dicData:[{label:"正常",value:!0},{label:"异常",value:!1}]}]},data:[],visible:!1,type:"",id:""}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},computed:u(u({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.proxy_config_add,!1),editBtn:this.vaildData(this.permission.proxy_config_edit,!1),viewBtn:this.vaildData(this.permission.proxy_config_view,!1),delBtn:this.vaildData(this.permission.proxy_configs_remove,!1)}}}),methods:{rowDel:function(e){var t=this;this.$confirm("你确定要删除此注册配置吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.visible=!0,this.type=t,this.id=this.form.id},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(l["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},p=d,h=a("2877"),f=Object(h["a"])(p,n,i,!1,null,"6680ce01",null);t["default"]=f.exports},8517:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"chartLine",staticClass:"line-wrap",attrs:{id:e.id}})},i=[],r=(a("a481"),a("3eba")),o=(a("ef97"),a("007d"),a("627c"),a("cd12"),a("5450"),{name:"echartLine",props:{id:{type:String},title:{type:String,default:""},xData:{type:Array,default:function(){return[]}},seriesData:{type:Array,default:function(){return[]}}},data:function(){return{chartView:null}},methods:{renderOptions:function(){return{title:{text:this.title||""},grid:{left:20,right:20,bottom:20,top:50,containLabel:!0},tooltip:{trigger:"axis"},xAxis:{type:"category",data:this.xData||[],boundaryGap:!1,axisLabel:{formatter:function(e){return e.replace(" ","\n")}}},yAxis:{type:"value",boundaryGap:[0,"10%"]},series:[{type:"line",data:this.seriesData||[],smooth:.6,symbol:"arrow",lineStyle:{color:"green",width:2},areaStyle:{}}],visualMap:{show:!1,min:0,max:100,inRange:{color:["rgba(0, 180, 0, 0.1)","rgba(0, 180, 0, 0.6)"]}}}},init:function(){var e=this;this.chartView||(this.chartView=r["init"](document.getElementById(this.id)),window.addEventListener("resize",(function(){e.chartView.resize()}))),this.chartView.setOption(this.renderOptions())}},mounted:function(){}}),s=o,l=(a("4067"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"6de2ddd6",null);t["default"]=c.exports},"857d":function(e,t){var a=2*Math.PI;function n(e){return e%=a,e<0&&(e+=a),e}t.normalizeRadian=n},"859b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"appSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择调用方",filterable:"",clearable:""},model:{value:e.search.app,callback:function(t){e.$set(e.search,"app",t)},expression:"search.app"}},e._l(e.appOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}},{key:"serviceSearch",fn:function(t){return[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),a("el-dialog",{attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.dialogRules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"155px"}},[a("el-form-item",{attrs:{label:"应用名(appID)",prop:"app"}},[a("el-select",{attrs:{placeholder:"请选择调用方",filterable:"",clearable:""},model:{value:e.dialogForm.app,callback:function(t){e.$set(e.dialogForm,"app",t)},expression:"dialogForm.app"}},e._l(e.appOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"前端服务名",prop:"service"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:""},model:{value:e.dialogForm.service,callback:function(t){e.$set(e.dialogForm,"service",t)},expression:"dialogForm.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"前端API路径",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入前端API路径",clearable:""},model:{value:e.dialogForm.path,callback:function(t){e.$set(e.dialogForm,"path",t)},expression:"dialogForm.path"}}),a("span",{staticClass:"key-tips"},[e._v("如果接口URL为http://网关IP:port/proxy/user-service/user/list, 则输入/user/list，如果不配置路径则按服务限流")])],1),a("el-form-item",{attrs:{label:"集群共享QPS",prop:"qps"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.qps*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.qps,callback:function(t){e.$set(e.dialogForm,"qps",t)},expression:"dialogForm.qps"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),a("el-form-item",{attrs:{label:"集群共享并发数",prop:"concurrent"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.concurrent*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.concurrent,callback:function(t){e.$set(e.dialogForm,"concurrent",t)},expression:"dialogForm.concurrent"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),a("el-form-item",{attrs:{label:"限流响应ContentType:",prop:"responseContentType"}},[a("el-input",{attrs:{placeholder:"请输入ContentType",clearable:""},model:{value:e.dialogForm.responseContentType,callback:function(t){e.$set(e.dialogForm,"responseContentType",t)},expression:"dialogForm.responseContentType"}}),a("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应ContentType")])],1),a("el-form-item",{attrs:{label:"限流响应报文：",prop:"responseContent"}},[a("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入响应报文",clearable:""},model:{value:e.dialogForm.responseContent,callback:function(t){e.$set(e.dialogForm,"responseContent",t)},expression:"dialogForm.responseContent"}}),a("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应报文")])],1)],1),"view"!==e.detailDialog.type?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("ade3")),o=a("b5c6"),s=a("da71");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(e,t,a){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/app/list"),method:"get",params:c(c({},a),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/app/detail/").concat(e),method:"get"})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/app/remove"),method:"post",params:{ids:e}})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/app/save"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/app/update"),method:"post",data:e})},g=a("6be7"),m=a("5880"),b=a("16cd");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={name:"flow-appid",data:function(){return{form:{},search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",searchLabelWidth:95,column:[{label:"应用名(appID)",prop:"app",search:!0,searchslot:!0,searchLabelWidth:110},{label:"前端服务名",prop:"service",search:!0,searchslot:!0,searchSpan:8},{label:"前端API路径",prop:"path",search:!0},{label:"单机QPS",prop:"qps"},{label:"单机并发数",prop:"concurrent"}]},data:[],globalData:{},dialogForm:{},dialogRules:{app:[{required:!0,message:"必填",trigger:"change"}],path:[{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}],qps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],concurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1}}},computed:y(y({},Object(m["mapGetters"])(["permission","frontendServiceOptions","appOptions"])),{},{machineCount:function(){return this.globalData.machineCount||0}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},created:function(){this.getGlobalRule(),this.getFrontendServiceOptions(),this.getAppOptions()},methods:y(y({},Object(m["mapActions"])(["getFrontendServiceOptions","getAppOptions"])),{},{getGlobalRule:function(){var e=this;Object(g["a"])().then((function(t){var a=t.data.data;e.globalData=a||{}}))},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var a=Object(b["b"])(e.dialogForm);if(!a.qps&&!a.concurrent)return e.$message.error("单机QPS、单机并发数，请至少填写一个"),!1;"edit"===e.detailDialog.type?e.rowUpdate(a):e.rowSave(a)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,h(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,f(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("你确定要删除此流控规则吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var a=this;switch(this.dialogForm={},this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}["edit","view"].includes(t)?d(this.form.id).then((function(e){a.form=e.data.data,a.dialogForm=Object.assign({},e.data.data||{}),a.detailDialog.visible=!0})):this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}})},_=w,x=(a("980c"),a("2877")),O=Object(x["a"])(_,n,i,!1,null,"9add8536",null);t["default"]=O.exports},"85e3":function(e,t){function a(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}e.exports=a},8602:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"aggregate-api"},[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList,"cell-class-name":"api-cell"},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"currentState",fn:function(t){var n=t.row;return[n.debugMode?a("el-tag",{staticStyle:{"margin-bottom":"6px"},attrs:{size:"small"}},[e._v("Debug")]):e._e(),a("api-state-tag",{attrs:{"is-modified":n.isModified,"current-state":n.currentState,"approval-state":n.approvalState}})]}},{key:"menu",fn:function(t){var n=t.row,i=t.type,r=t.size;return[e.permissionList.viewBtn?a("el-button",{attrs:{icon:"el-icon-view",size:r,type:i},on:{click:function(t){return e.goDetail(n,"view")}}},[e._v("查看\n      ")]):e._e(),e.permissionList.editBtn&&1!==n.approvalState&&2!==n.approvalState&&3!==n.approvalState?a("el-button",{attrs:{icon:"el-icon-edit",size:r,type:i},on:{click:function(t){return e.goDetail(n,"edit")}}},[e._v("编辑\n      ")]):e._e(),e.permissionList.delBtn?a("el-button",{attrs:{icon:"el-icon-delete",size:r,type:i},on:{click:function(t){return e.rowDel(n)}}},[e._v("删除\n      ")]):e._e(),a("el-button",{attrs:{icon:"el-icon-box",size:r,type:i},on:{click:function(t){return e.rowTest(n)}}},[e._v("测试\n      ")]),e.permissionList.offlineBtn&&3===n.approvalState?a("el-button",{attrs:{icon:"el-icon-bottom",size:r,type:i},on:{click:function(t){return e.offline(n)}}},[e._v("下线\n      ")]):e._e(),e.permissionList.publishBtn&&2===n.approvalState?a("el-button",{attrs:{icon:"el-icon-s-promotion",size:r,type:i},on:{click:function(t){return e.publish(n)}}},[e._v("发布\n      ")]):e._e(),0!==n.currentState?a("el-button",{attrs:{icon:"el-icon-s-operation",size:r,type:i},on:{click:function(t){return e.publishHistory(n)}}},[e._v("发布历史\n      ")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permissionList.importBtn?a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-upload2",plain:""},on:{click:e.handleImport}},[e._v("导 入\n      ")]):e._e(),e.permissionList.exportBtn?a("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-download",plain:""},on:{click:e.handleExport}},[e._v("导 出\n      ")]):e._e(),e.permissionList.applyBtn?a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.handleApply}},[e._v("发布|下线申请\n      ")]):e._e(),e.permissionList.debugBtn?a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(t){return e.handleDebug(1)}}},[e._v("打开调试模式\n      ")]):e._e(),e.permissionList.debugBtn?a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:function(t){return e.handleDebug(0)}}},[e._v("关闭调试模式\n      ")]):e._e()],1)],2),a("el-dialog",{attrs:{title:"导入配置","append-to-body":"",visible:e.importDialog,"show-close":!1,width:"600px"},on:{"update:visible":function(t){e.importDialog=t}}},[a("div",[a("el-upload",{ref:"upload",attrs:{accept:"application/json",limit:1,"file-list":e.fileList,"on-change":e.handleChange,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传json文件")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticStyle:{padding:"12px 0"}},[a("el-checkbox",{model:{value:e.importData.force,callback:function(t){e.$set(e.importData,"force",t)},expression:"importData.force"}},[e._v("强制覆盖")])],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitUpload}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:e.closeImportDialog}},[e._v("取 消")])],1)]),a("publish-dialog",{attrs:{visible:e.publishDialog.visible,name:e.publishDialog.name,id:e.publishDialog.id,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.publishDialog,"visible",t)}}}),a("apply-dialog",{attrs:{visible:e.applyDialog.visible,list:e.applyDialog.list,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.applyDialog,"visible",t)}}})],1)},i=[],r=(a("8e6e"),a("456d"),a("7f7f"),a("ac6a"),a("ade3")),o=a("708f"),s=a("f874"),l=a("5880"),c=a("047b"),u=a("247e"),d=a("5a57");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{dialogWidth:900,border:!0,index:!0,selection:!0,tip:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"所属服务",prop:"serviceName",search:!0},{label:"接口名",prop:"name",minWidth:120,search:!0},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120,search:!0},{label:"开发人员",prop:"developer"},{label:"状态",prop:"currentState",slot:!0,width:100,align:"center",search:!0,type:"select",dicData:s["a"]},{label:"版本号",prop:"version",width:80}]},data:[],publishDialog:{visible:!1,title:"接口",name:"",id:""},applyDialog:{visible:!1,list:[]},importDialog:!1,fileList:[],files:null,importData:{force:!1},importHeaders:{"Content-Type":"multipart/form-data"}}},computed:h(h({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.aggregate_api_add,!1),viewBtn:this.vaildData(this.permission.aggregate_api_view,!1),delBtn:this.vaildData(this.permission.aggregate_api_delete,!1),editBtn:this.vaildData(this.permission.aggregate_api_edit,!1),publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1),offlineBtn:this.vaildData(this.permission.aggregate_api_offline,!1),importBtn:this.vaildData(this.permission.aggregate_api_import,!1),exportBtn:this.vaildData(this.permission.aggregate_api_export,!1),applyBtn:this.vaildData(this.permission.aggregate_api_apply,!1),debugBtn:this.vaildData(this.permission.aggregate_api_debug,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},serviceName:function(){return this.$route.query.serviceName||""}}),components:{publishDialog:c["default"],applyDialog:u["default"],apiStateTag:d["default"]},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(this.option.column=this.option.column.map((function(e){return e.searchValue&&(e.searchValue=""),e})),this.query={},a(),this.onLoad(this.page,Object.assign({},e.query)))},watch:{serviceName:{immediate:!0,handler:function(e){e&&(this.query.serviceName=e,this.option.column[0].searchValue=e)}},data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{goDetail:function(e,t){if(this.form=e,"add"===t||this.form.id){var a="/aggregate/detail/".concat(t);this.$router.push({path:a,query:{originId:this.form.id}})}else this.$message.error("数据缺失，无法操作！")},handleApply:function(){this.applyDialog.visible=!0},offline:function(e){var t=this;this.$confirm("确定下线【".concat(e.name,"】此接口吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["i"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"下线成功"})}))},publish:function(e){e.id?(this.publishDialog.visible=!0,this.publishDialog.name=e.name,this.publishDialog.id=e.id):this.$message.error("数据缺失，无法发布！")},publishHistory:function(e){e.id?this.$router.push({path:"/aggregate/history",query:{originId:e.id}}):this.$message.error("数据缺失，无法查看发布历史！")},handleImport:function(){this.importDialog=!0},handleChange:function(e,t){this.files=t&&t[0]},handleRemove:function(e,t){this.files=t&&t[0]},handleExceed:function(){this.$message.warning("文件超出个数限制，每次仅允许导入一个文件!")},closeImportDialog:function(){this.importDialog=!1,this.fileList=[],this.files=null},beforeUpload:function(e){var t=e&&e.raw,a=t&&t.name||"",n=t&&t.type||"",i=n.indexOf("json")>-1||!1;return a?i||(this.$message.warning("上传模板只能是json格式!"),!1):(this.$message.warning("请选择要上传的文件！"),!1)},submitUpload:function(){var e=this,t=this.beforeUpload(this.files);if(!t)return!1;var a=this.files.raw,n=a.name,i=new FormData;i.append("file",a,n),i.append("force",this.importData.force),Object(o["h"])(i).then((function(){e.$message.success("导入成功"),e.importDialog=!1,e.onLoad(e.page)}))},handleExport:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据导出?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["d"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"导出成功"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},rowDel:function(e){var t=this;this.$confirm("确定删除【".concat(e.name,"】此接口吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["l"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},rowTest:function(e){var t=this.$route;this.$router.push({path:"/aggregate/test",query:{originId:e.id,redirect:encodeURIComponent(t.fullPath)}})},handleDebug:function(e){var t=this;0!==this.selectionList.length?this.$confirm(e?"确定打开调试模式?":"确定关闭调试模式?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e?Object(o["j"])(t.ids):Object(o["c"])(t.ids)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"模式调整成功"}),t.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["l"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"删除成功"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){if("add"===t||this.form.id){var a="/aggregate/detail/".concat(t);this.$router.push({path:a,query:{originId:this.form.id}})}else this.$message.error("数据缺失，无法操作！")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["g"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},g=f,m=(a("7162"),a("2877")),b=Object(m["a"])(g,n,i,!1,null,null,null);t["default"]=b.exports},"862d":function(e,t,a){var n=a("6d8b"),i=n.createHashMap,r=n.each,o=n.isString,s=n.defaults,l=n.extend,c=n.isObject,u=n.clone,d=a("e0d3"),p=d.normalizeToArray,h=a("0f99"),f=h.guessOrdinal,g=h.BE_ORDINAL,m=a("ec6f"),b=a("2f45"),v=b.OTHER_DIMENSIONS,y=a("562e");function w(e,t,a){m.isInstance(t)||(t=m.seriesDataToSource(t)),a=a||{},e=(e||[]).slice();for(var n=(a.dimsDef||[]).slice(),d=i(),h=i(),b=[],w=_(t,e,n,a.dimCount),O=0;O<w;O++){var D=n[O]=l({},c(n[O])?n[O]:{name:n[O]}),C=D.name,k=b[O]=new y;null!=C&&null==d.get(C)&&(k.name=k.displayName=C,d.set(C,O)),null!=D.type&&(k.type=D.type),null!=D.displayName&&(k.displayName=D.displayName)}var S=a.encodeDef;!S&&a.encodeDefaulter&&(S=a.encodeDefaulter(t,w)),S=i(S),S.each((function(e,t){if(e=p(e).slice(),1===e.length&&!o(e[0])&&e[0]<0)S.set(t,!1);else{var a=S.set(t,[]);r(e,(function(e,n){o(e)&&(e=d.get(e)),null!=e&&e<w&&(a[n]=e,P(b[e],t,n))}))}}));var j=0;function P(e,t,a){null!=v.get(t)?e.otherDims[t]=a:(e.coordDim=t,e.coordDimIndex=a,h.set(t,!0))}r(e,(function(e,t){var a,n,i;if(o(e))a=e,e={};else{a=e.name;var l=e.ordinalMeta;e.ordinalMeta=null,e=u(e),e.ordinalMeta=l,n=e.dimsDef,i=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null}var d=S.get(a);if(!1!==d){d=p(d);if(!d.length)for(var h=0;h<(n&&n.length||1);h++){while(j<b.length&&null!=b[j].coordDim)j++;j<b.length&&d.push(j++)}r(d,(function(t,r){var o=b[t];if(P(s(o,e),a,r),null==o.name&&n){var l=n[r];!c(l)&&(l={name:l}),o.name=o.displayName=l.name,o.defaultTooltip=l.defaultTooltip}i&&s(o.otherDims,i)}))}}));var T=a.generateCoord,I=a.generateCoordCount,L=null!=I;I=T?I||1:0;for(var z=T||"value",$=0;$<w;$++){k=b[$]=b[$]||new y;var M=k.coordDim;null==M&&(k.coordDim=x(z,h,L),k.coordDimIndex=0,(!T||I<=0)&&(k.isExtraCoord=!0),I--),null==k.name&&(k.name=x(k.coordDim,d)),null!=k.type||f(t,$,k.name)!==g.Must&&(!k.isExtraCoord||null==k.otherDims.itemName&&null==k.otherDims.seriesName)||(k.type="ordinal")}return b}function _(e,t,a,n){var i=Math.max(e.dimensionsDetectCount||1,t.length,a.length,n||0);return r(t,(function(e){var t=e.dimsDef;t&&(i=Math.max(i,t.length))})),i}function x(e,t,a){if(a||null!=t.get(e)){var n=0;while(null!=t.get(e+n))n++;e+=n}return t.set(e,!0),e}var O=w;e.exports=O},"862dd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-empty",{directives:[{name:"show",rawName:"v-show",value:e.isEmpty,expression:"isEmpty"}],staticClass:"avue-empty",attrs:{"image-size":200}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEmpty,expression:"!isEmpty"}],staticClass:"inter-info"},[a("h2",[e._v(e._s(e.curJson.name))]),e.showOtherInfo?a("div",{staticClass:"other"},[a("el-form",{ref:"ruleForm",attrs:{size:"small",model:e.form,rules:e.rules,"label-width":"60px",disabled:e.disabled}},[a("el-form-item",{attrs:{label:"展示",prop:"isShow"}},[a("el-radio-group",{model:{value:e.form.isShow,callback:function(t){e.$set(e.form,"isShow",t)},expression:"form.isShow"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"认证",prop:"isAuth"}},[a("el-radio-group",{model:{value:e.form.isAuth,callback:function(t){e.$set(e.form,"isAuth",t)},expression:"form.isAuth"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"调试",prop:"isSupportDebug"}},[a("el-radio-group",{model:{value:e.form.isSupportDebug,callback:function(t){e.$set(e.form,"isSupportDebug",t)},expression:"form.isSupportDebug"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1):e._e(),a("div",{staticClass:"container"},[a("h3",{staticClass:"container-title"},[e._v("请求信息")]),a("div",{staticClass:"descriptions-wrapper"},[a("div",{staticClass:"descriptions-con"},[a("el-row",{staticClass:"descriptions-row",attrs:{gutter:24}},[a("el-col",{staticClass:"descriptions",attrs:{md:24,lg:12}},[a("span",{staticClass:"label"},[e._v("接口名")]),a("span",{staticClass:"value"},[e._v(e._s(e.curJson.name))])]),a("el-col",{staticClass:"descriptions",attrs:{md:24,lg:12}},[a("span",{staticClass:"label"},[e._v("版本号")]),a("span",{staticClass:"value"},[e._v(e._s(e.info.version))])])],1)],1),a("div",{staticClass:"descriptions-con"},[a("el-row",{staticClass:"descriptions-row",attrs:{gutter:24}},[a("el-col",{staticClass:"descriptions",attrs:{md:24,lg:12}},[a("span",{staticClass:"label"},[e._v("方法")]),a("span",{staticClass:"value"},[e._v(e._s(e.curJson.method))])]),a("el-col",{staticClass:"descriptions",attrs:{md:24,lg:12}},[a("span",{staticClass:"label"},[e._v("请求地址")]),a("span",{staticClass:"value"},[e._v(e._s(e.service?e.service+e.curJson.path:e.curJson.path))])])],1)],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.curJson.description,expression:"curJson.description"}],staticClass:"desc"},[a("h3",{staticClass:"container-title"},[e._v("接口描述")]),a("p",{staticClass:"desc-text"},[e._v(e._s(e.curJson.description))])]),a("div",{staticClass:"container"},[a("h3",{staticClass:"container-title"},[e._v("请求参数")]),a("el-table",{staticStyle:{width:"100%"},attrs:{"default-expand-all":"",data:e.requestTableData(),"row-key":"nodeKey",border:"","tree-props":{children:"children",hasChildren:"hasChildren"},size:"small"}},[a("el-table-column",{attrs:{prop:"name",label:"参数名称"}}),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),a("el-table-column",{attrs:{prop:"in",label:"请求类型"}}),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),a("el-table-column",{attrs:{prop:"required",label:"是否必填",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.required?"是":"否")+"\n          ")]}}])}),a("el-table-column",{attrs:{prop:"example",label:"示例值"}})],1)],1),a("div",{staticClass:"container"},[a("h3",{staticClass:"container-title"},[e._v("响应状态")]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",size:"small","default-expand-all":"",data:e.responseStatus}},[a("el-table-column",{attrs:{prop:"status",label:"状态",width:"70px"}}),a("el-table-column",{attrs:{prop:"description",label:"说明"}}),a("el-table-column",{attrs:{prop:"schema",label:"schema"}})],1)],1),a("div",{staticClass:"container"},[a("h3",{staticClass:"container-title"},[e._v("响应参数")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.responseParams,"row-key":"nodeKey",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"},size:"small"}},[a("el-table-column",{attrs:{prop:"name",label:"参数名"}}),a("el-table-column",{attrs:{prop:"description",label:"参数说明"}}),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),a("el-table-column",{attrs:{prop:"schema",label:"schema"}})],1)],1),a("div",{staticClass:"container"},[a("h3",{staticClass:"container-title"},[e._v("响应示例")]),e.responseDemo?a("data-editor",{attrs:{content:e.responseDemo,height:300,disabled:""}}):a("el-empty",{staticStyle:{"text-align":"center"},attrs:{"image-size":150}})],1)])],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("28a5"),a("7f7f"),a("ade3")),o=a("3835"),s=(a("ffc1"),a("ac6a"),a("2909")),l=a("307b"),c=a("4627"),u=a("c54a"),d=a("0e0b");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={isShow:1,isAuth:1,isSupportDebug:1,remark:""},g={name:"inter-info",components:{dataEditor:c["default"]},props:{curJson:{type:Object,default:function(){return{}}},docJson:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},otherInfo:{type:Object,defualt:function(){return{}}},showOtherInfo:{type:Boolean,default:!1},authInfo:{type:Object,default:function(){return{}}},securityDefinitions:{type:Object,default:function(){return{}}},service:{type:String,default:""}},data:function(){return{currentNodeKey:"",defaultExpandedKeys:[],defaultProps:{children:"children",label:"name"},form:Object(l["a"])(f),rules:{isShow:[{required:!0,message:"必填",trigger:"change"}],isAuth:[{required:!0,message:"必填",trigger:"change"}],isSupportDebug:[{required:!0,message:"必填",trigger:"change"}]},reqParameters:[],authRequest:[],responseObject:"",nodeKey:0,formMap:{}}},computed:{isEmpty:function(){return Object(u["o"])(this.curJson)},requestData:function(){var e=[].concat(Object(s["a"])(this.securityRequests),Object(s["a"])(this.authRequest),Object(s["a"])(this.businessRequests));return this.$emit("emitRequest",e||[]),e},securityRequests:function(){var e=[];return Object.entries(this.securityDefinitions).forEach((function(t){var a=Object(o["a"])(t,2),n=a[0],i=a[1];e.push(h(h({name:n},i),{},{nodeKey:Object(d["e"])(),hide:!0}))})),e},businessRequests:function(){return this.curJson&&this.curJson.parameters?this.formatParamtersToRequest(this.curJson.parameters):[]},responseStatus:function(){var e=this,t=[];return this.curJson&&this.curJson.responses&&Object.entries(this.curJson.responses).forEach((function(a){var n=Object(o["a"])(a,2),i=n[0],r=n[1];t.push({status:i,description:r.description||"",schema:r.schema&&r.schema.originalRef?r.schema.originalRef:""}),"200"===i&&(e.responseObject=e.getOriginalRef(r))})),t},responseParams:function(){var e=[];if(this.docJson.definitions&&this.docJson.definitions[this.responseObject]){var t=this.docJson.definitions[this.responseObject];e=this.renderResponseParams(t)}return e},responseDemo:function(){var e="";return this.responseParams.length>0&&(e=this.renderResponseDemo(this.responseParams)),e},paths:function(){return this.docJson.paths||{}},info:function(){return this.docJson.info||{}}},watch:{form:{deep:!0,handler:function(){this.curJson.path&&this.showOtherInfo&&(this.formMap[this.curJson.path]=Object(l["a"])(this.form),this.emitData())}},otherInfo:{deep:!0,immediate:!0,handler:function(){this.showOtherInfo&&(this.formMap=this.otherInfo,this.emitData())}},curJson:{deep:!0,immediate:!0,handler:function(){this.formMap[this.curJson.path]?this.form=Object(l["a"])(this.formMap[this.curJson.path]):this.form=Object(l["a"])(f)}},authInfo:{deep:!0,immediate:!0,handler:function(){if(this.authInfo&&this.authInfo.content){var e=JSON.parse(this.authInfo.content||[]),t=e.query,a=void 0===t?[]:t,n=e.header,i=void 0===n?[]:n,r=[];a.forEach((function(e){r.push({name:e.name,type:"string",required:!0,description:e.description,in:"query",example:e["x-example"]||e.example,nodeKey:Object(d["e"])()})})),i.forEach((function(e){r.push({name:e.name,type:"string",required:!0,description:e.description,in:"header",example:e["x-example"]||e.example,nodeKey:Object(d["e"])()})})),this.authRequest=r}}}},methods:{getOriginalRef:function(e){var t="",a=e.$ref||e.schema&&(e.schema.$ref||e.schema.items&&e.schema.items.$ref)||e.items&&e.items.$ref;if(a){var n=a.split("/");t=n[n.length-1]}return t},formatParamtersToRequest:function(e){var t=this,a=[];return e&&e.forEach((function(e){var n={name:e.name,type:e.type,required:e.required,description:e.description,example:e["x-example"]||e.example,in:e.in,nodeKey:Object(d["e"])()},i=t.getOriginalRef(e);if(i&&t.docJson.definitions[i]){var r=t.renderParamsChildren(e,i,e.in);r&&r.length>0&&(n.children=r)}a.push(n)})),a},renderParamsChildren:function(e,t,a){var n=this,i=[],r=this.docJson.definitions[t],s=r.properties,l=void 0===s?{}:s,c=r.required,u=void 0===c?[]:c;return Object.entries(l).forEach((function(t){var r=Object(o["a"])(t,2),s=r[0],l=r[1],c=u.includes(s),p={name:s,type:l.type,required:c,description:l.description,example:l["x-example"]||l.example,in:e.in||a,nodeKey:Object(d["e"])()},h=n.getOriginalRef(l);h&&n.docJson.definitions[h]&&(p.children=[],p.children=n.renderParamsChildren(l,h,e.in||a)),i.push(p)})),i},requestTableData:function(){return this.requestData.filter((function(e){return!e.hide}))||[]},renderResponseParams:function(e){var t=this,a=[],n=e.type,i=e.properties;return"object"===n&&Object.entries(i).forEach((function(e){var n=Object(o["a"])(e,2),i=n[0],r=n[1],s=t.getOriginalRef(r),l={type:r.type||r.originalRef,description:r.description,name:i,example:r["x-example"]||r.example||"",schema:s,nodeKey:++t.nodeKey};s&&t.docJson.definitions&&t.docJson.definitions[s]&&(l.children=[],l.children=t.renderResponseParams(t.docJson.definitions[s])),a.push(l)})),a},renderDefaultValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["integer","float","long","short","byte","character","number"].includes(e)?t.example||0:"string"===e?t.example||"":"boolean"===e?t.example||!0:"array"===e?t.example||[]:{}},renderResponseDemo:function(e){var t=this,a={};return e.forEach((function(e){a[e.name]=t.renderDefaultValue(e.type,e),e.children&&e.children.length>0&&(Array.isArray(a[e.name])?a[e.name]=[t.renderResponseDemo(e.children)]:a[e.name]=t.renderResponseDemo(e.children))})),a},emitData:function(){this.$emit("changeOtherInfo",this.formMap)}},mounted:function(){this.showOtherInfo&&this.$emit("getDefaultOhterInfo",f)}},m=g,b=(a("655d"),a("4c3b"),a("2877")),v=Object(b["a"])(m,n,i,!1,null,"60af9a24",null);t["default"]=v.exports},8728:function(e,t){function a(e,t,a,n,i,r){if(r>t&&r>n||r<t&&r<n)return 0;if(n===t)return 0;var o=n<t?1:-1,s=(r-t)/(n-t);1!==s&&0!==s||(o=n<t?.5:-.5);var l=s*(a-e)+e;return l===i?1/0:l>i?o:0}e.exports=a},"872a":function(e,t,a){var n=a("3b4a");function i(e,t,a){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}e.exports=i},"877e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"serviceSearch",fn:function(t){return[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)]}},{key:"methodSearch",fn:function(t){return[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.search.strategy,callback:function(t){e.$set(e.search,"strategy",t)},expression:"search.strategy"}},e._l(e.strategyList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),e.visible?a("detailDialog",{attrs:{type:e.type,visible:e.visible,id:e.curId},on:{changeVisible:function(t){e.visible=!1},doSearch:function(t){return e.onLoad({pageSize:e.page.pageSize,currentPage:1})}}}):e._e()],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("8078"),s=a("5880"),l=a("1dbd");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=[{label:"异常比例",value:1},{label:"异常数",value:2}],p={name:"interface",components:{detailDialog:o["default"]},data:function(){return{strategyList:d,form:{},search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,columnBtn:!1,menuPosition:"right",searchLabelWidth:95,column:[{label:"前端服务名",prop:"service",search:!0,searchslot:!0,searchSpan:8},{label:"前端API路径",prop:"path",search:!0},{label:"熔断策略",prop:"strategy",search:!0,type:"select",dicData:d},{label:"比例阈值",prop:"ratioThreshold"},{label:"异常数",prop:"exceptionCount"},{label:"最小请求数",prop:"minRequestCount"},{label:"熔断时长(秒)",prop:"timeWindow"},{label:"统计时长(秒)",prop:"statInterval"}]},data:[],visible:!1,type:"",curId:null}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},computed:u(u({},Object(s["mapGetters"])(["frontendServiceOptions","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.fuse_interface_add,!1),editBtn:this.vaildData(this.permission.fuse_interface_edit,!1),viewBtn:this.vaildData(this.permission.fuse_interface_view,!1),delBtn:this.vaildData(this.permission.fuse_interface_remove,!1)}}}),methods:u(u({},Object(s["mapActions"])(["getFrontendServiceOptions"])),{},{rowDel:function(e){var t=this;this.$confirm("你确定要删除此熔断规则吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["d"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.curId=this.form.id,this.visible=!0,this.type=t},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(l["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}),mounted:function(){this.getFrontendServiceOptions()}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,"1384e6dd",null);t["default"]=g.exports},"879d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"tree-load":e.treeLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[e.permission.data_scope_setting?a("el-button",{staticStyle:{border:"0","background-color":"transparent !important"},attrs:{type:"text",icon:"el-icon-setting",size:"small",plain:""},on:{click:function(t){return t.stopPropagation(),e.handleDataScope(n)}}},[e._v("权限配置\n      ")]):e._e()]}},{key:"source",fn:function(e){var t=e.row;return[a("div",{staticStyle:{"text-align":"center"}},[a("i",{class:t.source})])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),a("el-drawer",{attrs:{"append-to-body":"",title:"["+e.scopeMenuName+"] 数据权限配置",visible:e.drawerVisible,direction:e.direction,"before-close":e.handleDrawerClose,size:"1000px"},on:{"update:visible":function(t){e.drawerVisible=t}}},[a("basic-container",[a("avue-crud",{ref:"crudScope",attrs:{option:e.optionScope,data:e.dataScope,page:e.pageScope,"table-loading":e.scopeLoading,"before-open":e.beforeOpenScope},on:{"row-del":e.rowDelScope,"row-update":e.rowUpdateScope,"row-save":e.rowSaveScope,"search-change":e.searchChangeScope,"search-reset":e.searchResetScope,"selection-change":e.selectionChangeScope,"current-change":e.currentChangeScope,"size-change":e.sizeChangeScope,"on-load":e.onLoadScope},scopedSlots:e._u([{key:"scopeType",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(n.scopeTypeName))])]}}]),model:{value:e.formScope,callback:function(t){e.formScope=t},expression:"formScope"}},[a("template",{slot:"menuLeft"},[a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDeleteScope}},[e._v("删 除\n          ")])],1)],2)],1)],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("7f7f"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("a6dc"),s=a("7e26"),l=a("5880"),c=a("2457"),u=a("d9a3"),d=a("da71");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={data:function(){return{form:{},selectionList:[],query:{},loading:!0,parentId:0,page:{pageSize:10,currentPage:1,total:0},drawerVisible:!1,direction:"rtl",scopeMenuId:0,scopeMenuCode:"",scopeMenuName:"菜单",scopeLoading:!1,menu:!0,watchMode:!0,option:{lazy:!0,tip:!1,simplePage:!0,searchShow:!0,searchMenuSpan:6,dialogWidth:"60%",tree:!0,border:!0,index:!0,selection:!0,viewBtn:!1,editBtn:!1,addBtn:!1,delBtn:!1,menuWidth:150,dialogClickModal:!1,column:[{label:"菜单名称",prop:"name",search:!0,rules:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},{label:"路由地址",prop:"path",rules:[{required:!0,message:"请输入路由地址",trigger:"blur"}]},{label:"上级菜单",prop:"parentId",type:"tree",dicUrl:"".concat(d["a"],"/blade-system/menu/tree"),hide:!0,props:{label:"title"},rules:[{required:!1,message:"请选择上级菜单",trigger:"click"}]},{label:"菜单图标",prop:"source",type:"icon",slot:!0,width:80,iconList:c["a"],rules:[{required:!0,message:"请输入菜单图标",trigger:"click"}]},{label:"菜单编号",prop:"code",search:!0,rules:[{required:!0,message:"请输入菜单编号",trigger:"blur"}]},{label:"菜单类型",prop:"category",type:"radio",dicData:[{label:"菜单",value:1},{label:"按钮",value:2}],hide:!0,rules:[{required:!0,message:"请选择菜单类型",trigger:"blur"}]},{label:"菜单别名",prop:"alias",rules:[{required:!0,message:"请输入菜单别名",trigger:"blur"}]},{label:"按钮功能",prop:"action",type:"radio",dicData:[{label:"工具栏",value:0},{label:"操作栏",value:1},{label:"工具操作栏",value:2}],hide:!0,rules:[{required:!0,message:"请选择按钮功能",trigger:"blur"}]},{label:"菜单排序",prop:"sort",type:"number",width:80,rules:[{required:!0,message:"请输入菜单排序",trigger:"blur"}]},{label:"新窗口",prop:"isOpen",type:"radio",dicData:[{label:"否",value:0},{label:"是",value:1}],hide:!0},{label:"菜单备注",prop:"remark",type:"textarea",span:24,minRows:6,hide:!0}]},data:[],formScope:{},selectionListScope:[],pageScope:{pageSize:10,currentPage:1,total:0},optionScope:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,viewBtn:!0,selection:!0,menuWidth:200,dialogWidth:900,dialogClickModal:!1,column:[{label:"权限名称",prop:"scopeName",search:!0,value:"",rules:[{required:!0,message:"请输入数据权限名称",trigger:"blur"}]},{label:"权限编号",prop:"resourceCode",search:!0,width:100,rules:[{required:!0,message:"请输入数据权限编号",trigger:"blur"}]},{label:"权限字段",prop:"scopeColumn",width:130,rules:[{required:!0,message:"请输入数据权限编号",trigger:"blur"}]},{label:"规则类型",type:"select",dicUrl:"".concat(d["a"],"/blade-system/dict/dictionary?code=data_scope_type"),props:{label:"dictValue",value:"dictKey"},dataType:"number",slot:!0,width:140,prop:"scopeType",rules:[{required:!0,message:"请输入通知类型",trigger:"blur"}]},{label:"可见字段",prop:"scopeField",span:24,hide:!0,value:"*",rules:[{required:!0,message:"请输入数据权限可见的字段",trigger:"blur"}]},{label:"权限类名",prop:"scopeClass",span:24,hide:!0,rules:[{required:!0,message:"请输入MybatisMapper对应方法的完整类名路径",trigger:"blur"}]},{label:"规则值",prop:"scopeValue",span:24,minRows:5,type:"textarea",display:!0,hide:!0},{label:"备注",prop:"remark",span:24,hide:!0}]},dataScope:[]}},watch:{"formScope.scopeType":function(){this.initScope()}},computed:h(h({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.menu_add,!1),viewBtn:this.vaildData(this.permission.menu_view,!1),delBtn:this.vaildData(this.permission.menu_delete,!1),editBtn:this.vaildData(this.permission.menu_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")},scopeIds:function(){var e=[];return this.selectionListScope.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{initScope:function(){var e=this,t=u["a"].toInt(this.formScope.scopeType),a=this.watchMode,n="-",i="暂无";1===t?(n="-",i="全部可见"):2===t?(n="create_user",i="本人可见"):3===t?(n="create_dept",i="所在机构可见"):4===t?(n="create_dept",i="所在机构可见及子级可见"):5===t&&(n="",i="自定义"),this.$refs.crudScope.option.column.filter((function(r){a&&("scopeName"===r.prop&&(e.formScope.scopeName="".concat(e.scopeMenuName," [").concat(i,"]")),"resourceCode"===r.prop&&(e.formScope.resourceCode=e.scopeMenuCode),"scopeColumn"===r.prop&&(e.formScope.scopeColumn=n)),"scopeValue"===r.prop&&(r.display=5===t)}))},rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["i"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.parentId=0,this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.parentId="",this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["d"])(this.form.id).then((function(e){a.form=e.data.data})),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["c"])(this.parentId,Object.assign(a,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))},treeLoad:function(e,t,a){var n=e.id;Object(o["c"])(n).then((function(e){a(e.data.data)}))},handleDataScope:function(e){this.drawerVisible=!0,this.scopeMenuId=e.id,this.scopeMenuCode=e.code,this.scopeMenuName=e.name,this.onLoadScope(this.pageScope)},handleDrawerClose:function(e){e()},rowSaveScope:function(e,t,a){var n=this;e=h(h({},e),{},{menuId:this.scopeMenuId}),Object(s["b"])(e).then((function(){n.onLoadScope(n.pageScope),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdateScope:function(e,t,a,n){var i=this;e=h(h({},e),{},{menuId:this.scopeMenuId}),Object(s["j"])(e).then((function(){i.onLoadScope(i.pageScope),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDelScope:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["h"])(e.id)})).then((function(){t.onLoadScope(t.pageScope),t.$message({type:"success",message:"操作成功!"})}))},handleDeleteScope:function(){var e=this;0!==this.selectionListScope.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(s["h"])(e.scopeIds)})).then((function(){e.onLoadScope(e.pageScope),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudScope.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenScope:function(e,t){var a=this;["add"].includes(t)&&(this.watchMode=!0,this.initScope()),["edit","view"].includes(t)&&(this.watchMode=!1,Object(s["f"])(this.formScope.id).then((function(e){a.formScope=e.data.data}))),e()},searchResetScope:function(){this.onLoadScope(this.pageScope)},searchChangeScope:function(e,t){this.onLoadScope(this.pageScope,e),t()},selectionChangeScope:function(e){this.selectionListScope=e},currentChangeScope:function(e){this.pageScope.currentPage=e},sizeChangeScope:function(e){this.pageScope.pageSize=e},onLoadScope:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.scopeLoading=!0;var n=h(h({},a),{},{menuId:this.scopeMenuId});Object(s["d"])(e.currentPage,e.pageSize,Object.assign(n,this.query)).then((function(e){var a=e.data.data;t.pageScope.total=a.total,t.dataScope=a.records,t.selectionListScope=[],t.scopeLoading=!1}))}}},g=f,m=a("2877"),b=Object(m["a"])(g,n,i,!1,null,null,null);t["default"]=b.exports},"87a9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-container"},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("b",[e._v("实时数据")])]),a("el-row",{staticClass:"data-display",attrs:{span:24}},e._l(e.dataDisplayOption.data,(function(t,n){return a("el-col",{key:n,attrs:{md:e.dataDisplayOption.span,sm:12,xs:12}},[a("div",{staticClass:"item",class:{item_href:t.path},on:{click:function(a){return e.dataAction(t)}}},[a("avue-count-up",{staticClass:"count",attrs:{animation:e.dataDisplayOption.animation,decimals:t.decimals||e.dataDisplayOption.decimals,end:t.count}}),a("span",{staticClass:"splitLine"}),a("div",{staticClass:"title"},[e._v(e._s(t.title))])],1)])})),1)],1)],1)},i=[],r=a("ee6e"),o={name:"real-time-data",data:function(){return{data:{},timer:null}},props:{},computed:{refreshTime:function(){return+this.data.refreshIntervalMillis||3e3},dataDisplayOption:function(){return{span:6,animation:!0,data:[{count:this.data.todayInterfaceCount||0,title:"今天接口总数",path:"/proxy/ip"},{count:this.data.todayAccessCount||0,title:"今天访问次数"},{count:this.data.currentQps||0,title:"当前QPS",decimals:2},{count:this.data.currentConcurrent||0,title:"当前并发数"}]}}},watch:{refreshTime:{immediate:!0,handler:function(e){var t=this;this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){t.getCurrentData()}),e)}}},created:function(){this.getCurrentData()},beforeDestroy:function(){clearInterval(this.timer)},methods:{dataAction:function(e){e.path&&this.$router.push({path:e.path})},getCurrentData:function(){var e=this;Object(r["c"])().then((function(t){e.data=t.data.data||{}})).catch((function(){clearInterval(e.timer)}))}}},s=o,l=(a("0a77"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"9527f996",null);t["default"]=c.exports},"87b1":function(e,t,a){var n=a("cbe5"),i=a("4fac"),r=n.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){i.buildPath(e,t,!0)}});e.exports=r},"87c3":function(e,t,a){var n=a("6d8b"),i=n.map,r=a("cccd"),o=a("ee1a"),s=o.isDimensionStacked;function l(e){return{seriesType:e,plan:r(),reset:function(e){var t=e.getData(),a=e.coordinateSystem,n=e.pipelineContext,r=n.large;if(a){var o=i(a.dimensions,(function(e){return t.mapDimension(e)})).slice(0,2),l=o.length,c=t.getCalculationInfo("stackResultDimension");return s(t,o[0])&&(o[0]=c),s(t,o[1])&&(o[1]=c),l&&{progress:u}}function u(e,t){for(var n=e.end-e.start,i=r&&new Float32Array(n*l),s=e.start,c=0,u=[],d=[];s<e.end;s++){var p;if(1===l){var h=t.get(o[0],s);p=!isNaN(h)&&a.dataToPoint(h,null,d)}else{h=u[0]=t.get(o[0],s);var f=u[1]=t.get(o[1],s);p=!isNaN(h)&&!isNaN(f)&&a.dataToPoint(u,null,d)}r?(i[c++]=p?p[0]:NaN,i[c++]=p?p[1]:NaN):t.setItemLayout(s,p&&p.slice()||[NaN,NaN])}r&&t.setLayout("symbolPoints",i)}}}}e.exports=l},8890:function(e,t,a){"use strict";a("7631")},"88b0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("h3",[e._v("存储")]),a("el-tag",{staticClass:"title",attrs:{size:"small"}},[e._v("基本读写删(持久化存储)\n  ")]),a("div",{staticClass:"box"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.setItem({name:"username",value:"avuex"})}}},[e._v("set('username', 'avuex')\n    ")]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getItem({name:"username"})}}},[e._v("get('username')\n    ")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delItem({name:"username"})}}},[e._v("remove('username')\n    ")])],1),a("el-tag",{staticClass:"title",attrs:{size:"small"}},[e._v("设置session(session存储)\n  ")]),a("div",{staticClass:"box"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.setItem({name:"username",value:"avuex",type:"session"})}}},[e._v("set('username', 'avuex')\n    ")]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getItem({name:"username",type:"session"})}}},[e._v("get('username')\n    ")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delItem({name:"username",type:"session"})}}},[e._v("remove('username')\n    ")])],1),a("el-tag",{staticClass:"title",attrs:{size:"small"}},[e._v("获取所有可以获得的数据\n  ")]),a("div",{staticClass:"box"},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getAll()}}},[e._v("getAll(持久化存储)\n    ")]),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getAll({type:"session"})}}},[e._v("getAll(session存储)\n    ")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.clearAll()}}},[e._v("delAll(持久化存储)\n    ")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.clearAll({type:"session"})}}},[e._v("delAll(session存储)\n    ")])],1)],1)},i=[],r=(a("7f7f"),a("e3c4")),o={name:"store",methods:{setItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,a=e.value,n=e.type;Object(r["e"])({name:t,content:a,type:n}),this.$message("设置数据 ".concat(t," = ").concat(a))},getItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,a=e.type,n=Object(r["c"])({name:t,type:a});this.$message("获取数据 ".concat(t," = ").concat(n))},delItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,a=e.type;Object(r["d"])({name:t,type:a}),this.$message("删除数据 ".concat(t))},clearAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r["a"])(e),this.$message("清除全部数据完成")},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r["b"])(e);window.console.log(t),this.$message("结果已经打印到控制台")}}},s=o,l=(a("8293"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"216ce3bc",null);t["default"]=c.exports},"88b3":function(e,t){var a="\0__throttleOriginMethod",n="\0__throttleRate",i="\0__throttleType";function r(e,t,a){var n,i,r,o,s,l=0,c=0,u=null;function d(){c=(new Date).getTime(),u=null,e.apply(r,o||[])}t=t||0;var p=function(){n=(new Date).getTime(),r=this,o=arguments;var e=s||t,p=s||a;s=null,i=n-(p?l:c)-e,clearTimeout(u),p?u=setTimeout(d,e):i>=0?d():u=setTimeout(d,-i),l=n};return p.clear=function(){u&&(clearTimeout(u),u=null)},p.debounceNextCall=function(e){s=e},p}function o(e,t,o,s){var l=e[t];if(l){var c=l[a]||l,u=l[i],d=l[n];if(d!==o||u!==s){if(null==o||!s)return e[t]=c;l=e[t]=r(c,o,"debounce"===s),l[a]=c,l[i]=s,l[n]=o}return l}}function s(e,t){var n=e[t];n&&n[a]&&(e[t]=n[a])}t.throttle=r,t.createOrUpdate=o,t.clear=s},"88b69":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen,"before-close":e.beforeClose},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"tree-load":e.treeLoad},scopedSlots:e._u([{key:"menu",fn:function(t){return[e.userInfo.role_name.includes("admin")?a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(a){return a.stopPropagation(),e.handleAdd(t.row,t.index)}}},[e._v("新增子项\n      ")]):e._e()]}},{key:"deptCategory",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(n.deptCategoryName))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permission.dept_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("fcb7"),s=a("5880"),l=a("1ca4"),c=a("da71");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={data:function(){return{form:{},selectionList:[],query:{},loading:!0,parentId:0,page:{pageSize:10,currentPage:1,total:0},option:{lazy:!0,tip:!1,simplePage:!0,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:300,dialogClickModal:!1,column:[{label:"机构名称",prop:"deptName",search:!0,rules:[{required:!0,message:"请输入机构名称",trigger:"blur"}]},{label:"所属租户",prop:"tenantId",type:"tree",dicUrl:"".concat(c["a"],"/blade-system/tenant/select"),addDisplay:!1,editDisplay:!1,viewDisplay:l["a"].tenantMode,span:24,props:{label:"tenantName",value:"tenantId"},hide:!l["a"].tenantMode,search:l["a"].tenantMode,rules:[{required:!0,message:"请输入所属租户",trigger:"click"}]},{label:"机构全称",prop:"fullName",search:!0,rules:[{required:!0,message:"请输入机构全称",trigger:"blur"}]},{label:"上级机构",prop:"parentId",dicData:[],type:"tree",hide:!0,props:{label:"title"},rules:[{required:!1,message:"请选择上级机构",trigger:"click"}]},{label:"机构类型",type:"select",dicUrl:"".concat(c["a"],"/blade-system/dict/dictionary?code=org_category"),props:{label:"dictValue",value:"dictKey"},dataType:"number",width:120,prop:"deptCategory",slot:!0,rules:[{required:!0,message:"请输入机构类型",trigger:"blur"}]},{label:"排序",prop:"sort",type:"number",align:"right",width:80,rules:[{required:!0,message:"请输入排序",trigger:"blur"}]},{label:"备注",prop:"remark",rules:[{required:!1,message:"请输入备注",trigger:"blur"}],hide:!0}]},data:[]}},computed:d(d({},Object(s["mapGetters"])(["userInfo","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dept_add,!1),viewBtn:this.vaildData(this.permission.dept_view,!1),delBtn:this.vaildData(this.permission.dept_delete,!1),editBtn:this.vaildData(this.permission.dept_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{initData:function(){var e=this;Object(o["d"])().then((function(t){var a=e.findObject(e.option.column,"parentId");a.dicData=t.data.data}))},handleAdd:function(e){this.form={parentId:e.id};var t=this.findObject(this.option.column,"parentId");t.addDisabled=!0,this.$refs.crud.rowAdd()},rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(a){n.onLoad(n.page);var i=a.data.data;e.id=i.id,e.deptCategoryName=i.deptCategoryName,e.tenantId=i.tenantId,n.$message({type:"success",message:"操作成功!"}),t(e)}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["g"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a(e)}),(function(e){window.console.log(e),n()}))},rowDel:function(e,t,a){var n=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.id)})).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),a(e)}))},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.ids)})).then((function(){e.data=[],e.parentId=0,e.$refs.crud.refreshTable(),e.$refs.crud.toggleSelection(),e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"})})):this.$message.warning("请选择至少一条数据")},searchReset:function(){this.query={},this.parentId=0,this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.parentId="",this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},beforeOpen:function(e,t){var a=this;["add","edit"].includes(t)&&this.initData(),["edit","view"].includes(t)&&Object(o["b"])(this.form.id).then((function(e){a.form=e.data.data})),e()},beforeClose:function(e){this.form={};var t=this.findObject(this.option.column,"parentId");t.addDisabled=!1,e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["e"])(this.parentId,Object.assign(a,this.query)).then((function(e){t.data=e.data.data,t.loading=!1,t.selectionClear()}))},treeLoad:function(e,t,a){var n=e.id;Object(o["e"])(n).then((function(e){a(e.data.data)}))}}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,null,null);t["default"]=g.exports},8918:function(e,t,a){var n=a("6d8b"),i=a("625e"),r=i.parseClassType,o=0;function s(e){return[e||"",o++,Math.random().toFixed(5)].join("_")}function l(e){var t={};return e.registerSubTypeDefaulter=function(e,a){e=r(e),t[e.main]=a},e.determineSubType=function(a,n){var i=n.type;if(!i){var o=r(a).main;e.hasSubTypes(a)&&t[o]&&(i=t[o](n))}return i},e}function c(e,t){function a(e){var a={},o=[];return n.each(e,(function(s){var l=i(a,s),c=l.originalDeps=t(s),u=r(c,e);l.entryCount=u.length,0===l.entryCount&&o.push(s),n.each(u,(function(e){n.indexOf(l.predecessor,e)<0&&l.predecessor.push(e);var t=i(a,e);n.indexOf(t.successor,e)<0&&t.successor.push(s)}))})),{graph:a,noEntryList:o}}function i(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function r(e,t){var a=[];return n.each(e,(function(e){n.indexOf(t,e)>=0&&a.push(e)})),a}e.topologicalTravel=function(e,t,i,r){if(e.length){var o=a(t),s=o.graph,l=o.noEntryList,c={};n.each(e,(function(e){c[e]=!0}));while(l.length){var u=l.pop(),d=s[u],p=!!c[u];p&&(i.call(r,u,d.originalDeps.slice()),delete c[u]),n.each(d.successor,p?f:h)}n.each(c,(function(){throw new Error("Circle dependency may exists")}))}function h(e){s[e].entryCount--,0===s[e].entryCount&&l.push(e)}function f(e){c[e]=!0,h(e)}}}t.getUID=s,t.enableSubTypeDefaulter=l,t.enableTopologicalTravel=c},"892a":function(e,t,a){"use strict";a.r(t);a("a481"),a("7f7f");var n,i,r=a("65d4"),o=a("9653"),s={name:"log-detail",mixins:[r["default"]],data:function(){return{disabled:!0,businessType:"log"}},methods:{getDetail:function(){var e=this;if(!this.originId)return this.formData={},void(this.baseConfigs={});Object(o["a"])(this.originId).then((function(t){e.formData=t.data.data||{};var a=Object.assign({},e.formData),n=a.id,i=void 0===n?"":n,r=a.serviceId,o=void 0===r?"":r,s=a.name,l=void 0===s?"":s,c=a.method,u=void 0===c?"":c,d=a.path,p=void 0===d?"":d,h=a.developer,f=void 0===h?"":h,g=a.description,m=void 0===g?"":g,b=a.serviceName,v=void 0===b?"":b;p=p.replace("/proxy/".concat(v,"/"),""),e.baseConfigs={id:i,serviceId:o,name:l,method:u,path:p,developer:f,description:m,serviceName:v}}))}}},l=s,c=a("2877"),u=Object(c["a"])(l,n,i,!1,null,"b4acce16",null);t["default"]=u.exports},8971:function(e,t){var a="";"undefined"!==typeof navigator&&(a=navigator.platform||"");var n={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:a.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};e.exports=n},"897a":function(e,t,a){var n=a("22d1"),i=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function r(e){return n.browser.ie&&n.browser.version>=11?function(){var t,a=this.__clipPaths,n=this.style;if(a)for(var r=0;r<a.length;r++){var o=a[r],s=o&&o.shape,l=o&&o.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(var c=0;c<i.length;c++)i[c][2]=n[i[c][0]],n[i[c][0]]=i[c][1];t=!0;break}}if(e.apply(this,arguments),t)for(c=0;c<i.length;c++)n[i[c][0]]=i[c][2]}:e}e.exports=r},"89e3":function(e,t,a){var n=a("3842"),i=a("eda2"),r=a("e0d8"),o=a("944e"),s=n.round,l=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var a=this._extent;isNaN(e)||(a[0]=parseFloat(e)),isNaN(t)||(a[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),l.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=o.getIntervalPrecision(e)},getTicks:function(e){var t=this._interval,a=this._extent,n=this._niceExtent,i=this._intervalPrecision,r=[];if(!t)return r;var o=1e4;a[0]<n[0]&&(e?r.push(s(n[0]-t,i)):r.push(a[0]));var l=n[0];while(l<=n[1]){if(r.push(l),l=s(l+t,i),l===r[r.length-1])break;if(r.length>o)return[]}var c=r.length?r[r.length-1]:n[1];return a[1]>c&&(e?r.push(s(c+t,i)):r.push(a[1])),r},getMinorTicks:function(e){for(var t=this.getTicks(!0),a=[],i=this.getExtent(),r=1;r<t.length;r++){var o=t[r],s=t[r-1],l=0,c=[],u=o-s,d=u/e;while(l<e-1){var p=n.round(s+(l+1)*d);p>i[0]&&p<i[1]&&c.push(p),l++}a.push(c)}return a},getLabel:function(e,t){if(null==e)return"";var a=t&&t.precision;return null==a?a=n.getPrecisionSafe(e)||0:"auto"===a&&(a=this._intervalPrecision),e=s(e,a,!0),i.addCommas(e)},niceTicks:function(e,t,a){e=e||5;var n=this._extent,i=n[1]-n[0];if(isFinite(i)){i<0&&(i=-i,n.reverse());var r=o.intervalScaleNiceTicks(n,e,t,a);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var a=t[0];e.fixMax||(t[1]+=a/2),t[0]-=a/2}else t[1]=1;var n=t[1]-t[0];isFinite(n)||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=s(Math.floor(t[0]/i)*i)),e.fixMax||(t[1]=s(Math.ceil(t[1]/i)*i))}});l.create=function(){return new l};var c=l;e.exports=c},"8a0d":function(e,t,a){"use strict";a("cabe")},"8a56":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("16cd"),l=a("1eab");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"authentication",data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,column:[{label:"名称",prop:"name",search:!0,overHidden:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"描述",prop:"description",search:!0,overHidden:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]}]},data:[{}]}},computed:u(u({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.interface_authentication_add,!1),editBtn:this.vaildData(this.permission.interface_authentication_edit,!1),viewBtn:this.vaildData(this.permission.interface_authentication_view,!1),delBtn:this.vaildData(this.permission.interface_authentication_remove,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{handleSubmitData:function(e){return e=Object(s["b"])(e),e},rowDel:function(e){var t=this;this.$confirm("你确定要删除此认证信息吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["d"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.$router.push({path:"/interface/authentication/".concat(t),query:{id:this.form.id}})},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(l["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},p=d,h=a("2877"),f=Object(h["a"])(p,n,i,!1,null,"20acdd30",null);t["default"]=f.exports},"8adb":function(e,t){function a(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=a},"8b7f":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=i.createHashMap,o=(i.retrieve,i.each);function s(e){this.coordSysName=e,this.coordSysDims=[],this.axisMap=r(),this.categoryAxisMap=r(),this.firstCategoryDimIndex=null}function l(e){var t=e.get("coordinateSystem"),a=new s(t),n=c[t];if(n)return n(e,a,a.axisMap,a.categoryAxisMap),a}var c={cartesian2d:function(e,t,a,n){var i=e.getReferringComponents("xAxis")[0],r=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],a.set("x",i),a.set("y",r),u(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),u(r)&&(n.set("y",r),t.firstCategoryDimIndex,t.firstCategoryDimIndex=1)},singleAxis:function(e,t,a,n){var i=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],a.set("single",i),u(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,a,n){var i=e.getReferringComponents("polar")[0],r=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],a.set("radius",r),a.set("angle",o),u(r)&&(n.set("radius",r),t.firstCategoryDimIndex=0),u(o)&&(n.set("angle",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,a,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,a,n){var i=e.ecModel,r=i.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=r.dimensions.slice();o(r.parallelAxisIndex,(function(e,r){var o=i.getComponent("parallelAxis",e),l=s[r];a.set(l,o),u(o)&&null==t.firstCategoryDimIndex&&(n.set(l,o),t.firstCategoryDimIndex=r)}))}};function u(e){return"category"===e.get("type")}t.getCoordSysInfoBySeries=l},"8be4":function(e,t,a){"use strict";a("d80e")},"8c2a":function(e,t,a){var n=a("6d8b"),i=a("e0d8"),r=a("3842"),o=a("89e3"),s=i.prototype,l=o.prototype,c=r.getPrecisionSafe,u=r.round,d=Math.floor,p=Math.ceil,h=Math.pow,f=Math.log,g=i.extend({type:"log",base:10,$constructor:function(){i.apply(this,arguments),this._originalScale=new o},getTicks:function(e){var t=this._originalScale,a=this._extent,i=t.getExtent();return n.map(l.getTicks.call(this,e),(function(e){var n=r.round(h(this.base,e));return n=e===a[0]&&t.__fixMin?m(n,i[0]):n,n=e===a[1]&&t.__fixMax?m(n,i[1]):n,n}),this)},getMinorTicks:l.getMinorTicks,getLabel:l.getLabel,scale:function(e){return e=s.scale.call(this,e),h(this.base,e)},setExtent:function(e,t){var a=this.base;e=f(e)/f(a),t=f(t)/f(a),l.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=s.getExtent.call(this);t[0]=h(e,t[0]),t[1]=h(e,t[1]);var a=this._originalScale,n=a.getExtent();return a.__fixMin&&(t[0]=m(t[0],n[0])),a.__fixMax&&(t[1]=m(t[1],n[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=f(e[0])/f(t),e[1]=f(e[1])/f(t),s.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:function(e){e=e||10;var t=this._extent,a=t[1]-t[0];if(!(a===1/0||a<=0)){var n=r.quantity(a),i=e/a*n;i<=.5&&(n*=10);while(!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0)n*=10;var o=[r.round(p(t[0]/n)*n),r.round(d(t[1]/n)*n)];this._interval=n,this._niceExtent=o}},niceExtent:function(e){l.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});function m(e,t){return u(e,c(t))}n.each(["contain","normalize"],(function(e){g.prototype[e]=function(t){return t=f(t)/f(this.base),s[e].call(this,t)}})),g.create=function(){return new g};var b=g;e.exports=b},"8c58":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,size:"small"}},[e.disabled?e._e():a("el-button",{staticClass:"add-btn",attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addRow}},[e._v("添加")]),e.reload?a("el-table",{ref:"multipleTable",staticClass:"value-table",attrs:{data:e.form.list,size:"small"},on:{"selection-change":e.handleSelectionChange}},[e.disabled?e._e():a("el-table-column",{attrs:{type:"selection",width:"30",selectable:e.selectable}}),a("el-table-column",{attrs:{prop:"key",label:"字段"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,i=t.$index;return[e.disabled?a("span",[e._v(e._s(n.key))]):a("el-form-item",{attrs:{prop:"list."+i+".key",rules:e.form.rules.key,"show-message":!1}},[e.isUpload?a("el-input",{model:{value:n.key,callback:function(t){e.$set(n,"key",t)},expression:"row.key"}},[a("el-select",{staticClass:"input-with-select",attrs:{slot:"append",placeholder:"请选择"},on:{change:function(e){n.value=""}},slot:"append",model:{value:n.type,callback:function(t){e.$set(n,"type",t)},expression:"row.type"}},[a("el-option",{attrs:{label:"Text",value:"Text"}}),a("el-option",{attrs:{label:"File",value:"File"}})],1)],1):a("el-input",{model:{value:n.key,callback:function(t){e.$set(n,"key",t)},expression:"row.key"}})],1)]}}],null,!1,806158917)}),a("el-table-column",{attrs:{prop:"value",label:"值"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,i=t.$index;return[a("el-form-item",{attrs:{prop:"list."+i+".value",rules:n.required?e.form.rules.value:[],"show-message":!1}},[a("div",{staticClass:"value-row"},[e.isUpload&&"File"===n.type&&!e.disabled?a("div",[a("span",{staticClass:"upload"},[e._v("\n                Select Files\n                "),a("input",{staticClass:"upload-input",attrs:{type:"file",multiple:"multiplt"},on:{change:function(t){return e.getFile(t,i)}}})])]):e._e(),"File"===n.type||e.disabled?a("span",[e._v(e._s(n.value))]):a("el-input",{staticClass:"value-input",model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"row.value"}})],1)])]}}],null,!1,196387330)}),e.disabled?e._e():a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,i=t.$index;return[a("el-button",{attrs:{size:"small",type:"text",disabled:n.required},on:{click:function(t){return e.handleDelete(i)}}},[e._v("删除")])]}}],null,!1,602089605)})],1):e._e()],1)},i=[],r=(a("8e6e"),a("7f7f"),a("ade3")),o=(a("20d6"),a("456d"),a("ac6a"),a("c54a"));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={name:"valuesTable",props:{data:{type:[Object,Array],default:function(){return[]}},disabled:{type:Boolean,default:!1},isUpload:{type:Boolean,default:!1}},data:function(){return{reload:!1,multipleSelection:[],form:{list:[],rules:{key:[{required:!0,message:"请输入字段",trigger:"blur"}],value:[{required:!0,message:"请输入字段值或上传文件",trigger:"blur"}]}},isFirst:!0}},watch:{isUpload:{immediate:!0,handler:function(){var e=this.data.length>=this.form.list.length?this.data:this.form.list;this.initData(e)}}},methods:{addRow:function(){var e={key:"",value:"",type:"Text"};this.form.list.push(e),this.toggleSelection([e])},handleDelete:function(e){this.form.list.splice(e,1)},handleSelectionChange:function(e){this.multipleSelection=e},initData:function(e){var t=this;if(this.reload=!1,Object(o["d"])(e,"object")){var a=[];Object.keys(e).forEach((function(t){a.push({key:t,value:void 0===e[t]?"":e[t]})})),this.form.list=a}else{var n=[];e.forEach((function(e){t.isUpload&&!e.type&&(e.type="Text"),(t.isUpload||"File"!==e.type)&&(void 0===e.value&&(e.value=""),n.push(e))})),this.form.list=n}this.reload=!0,this.$nextTick((function(){t.toggleSelection(t.form.list),t.isFirst=!1}))},handleData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.form.list.forEach((function(n){var i=e.isUpload?{files:n.files,type:n.type}:{},r=e.multipleSelection.findIndex((function(e){return e===n}))>-1;(!t&&r||t)&&a.push(l({key:n.key,value:n.value,required:n.required},i))})),a},selectable:function(e){return!e.required},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e,!0)})):this.$refs.multipleTable.clearSelection()},getFile:function(e,t){for(var a=this,n=e.target.files,i=[],r=0;r<n.length;r++)i.push(n[r].name);var o=this.multipleSelection.findIndex((function(e){return e===a.form.list[t]})),s=l(l({},this.form.list[t]),{},{value:i.join(","),files:n});this.form.list.splice(t,1,s),o>-1&&this.toggleSelection([s])},emitData:function(){var e=this.handleData();this.$emit("update:data",e),this.$emit("updateData",e)},getCheckedData:function(){return this.handleData(!1)||[]},getAllData:function(){return this.handleData(!0)||[]},validate:function(){var e=this;return new Promise((function(t,a){e.$refs.form.validate((function(e){e?t():a("请完善表单！")}))}))}},mounted:function(){var e=this,t=[];Array.isArray(this.data)?t=this.data.length>=this.form.list.length?this.data:this.form.list:Object.keys(this.data).forEach((function(a){t.push({key:a,value:e.data[a]})})),this.initData(t)}},u=c,d=(a("0209"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},"8cb1":function(e,t,a){"use strict";a("c0c5")},"8cbd":function(e,t,a){},"8cc2":function(e,t,a){},"8d32":function(e,t,a){var n=a("cbe5"),i=n.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var a=t.cx,n=t.cy,i=Math.max(t.r,0),r=t.startAngle,o=t.endAngle,s=t.clockwise,l=Math.cos(r),c=Math.sin(r);e.moveTo(l*i+a,c*i+n),e.arc(a,n,i,r,o,!s)}});e.exports=i},"8de2":function(e,t,a){var n=a("8eeb"),i=a("9934");function r(e){return n(e,i(e))}e.exports=r},"8e43":function(e,t,a){var n=a("6d8b"),i=n.createHashMap,r=n.isObject,o=n.map;function s(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this._map}s.createByAxisModel=function(e){var t=e.option,a=t.data,n=a&&o(a,u);return new s({categories:n,needCollect:!n,deduplication:!1!==t.dedplication})};var l=s.prototype;function c(e){return e._map||(e._map=i(e.categories))}function u(e){return r(e)&&null!=e.value?e.value:e+""}l.getOrdinal=function(e){return c(this).get(e)},l.parseAndCollect=function(e){var t,a=this._needCollect;if("string"!==typeof e&&!a)return e;if(a&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var n=c(this);return t=n.get(e),null==t&&(a?(t=this.categories.length,this.categories[t]=e,n.set(e,t)):t=NaN),t};var d=s;e.exports=d},"8e7d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"datatime-range",class:e.className},[a("div",{staticClass:"picker-item"},[a("el-date-picker",{attrs:{type:e.type,placeholder:e.startPlaceholder,align:"right","picker-options":e.startPickerOptions,clearable:e.startClear,readonly:e.readonly,"value-format":e.valueFormat,size:e.size,"default-time":e.defaultTime[0]},on:{change:e.changeTime},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),a("span",{staticClass:"interval"},[e._v("-")]),a("div",{staticClass:"picker-item"},[a("el-date-picker",{attrs:{type:e.type,placeholder:e.endPlaceholder,align:"right","picker-options":e.endPickerOptions,clearable:e.endClear,readonly:e.readonly,"value-format":e.valueFormat,size:e.size,"default-time":e.defaultTime[1]},on:{change:e.changeTime},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)])},i=[],r=(a("6b54"),a("6762"),a("2fdb"),{name:"datatime-range",props:{className:{type:String,default:""},readonly:{type:Boolean,default:!1},size:{type:String,default:"small",validator:function(e){return-1!==["large","small","mini"].indexOf(e)}},type:{type:String,default:"datetime",validator:function(e){return-1!==["year","month","date","week","datetime"].indexOf(e)}},defaultValue:{type:Array,default:function(){return["",""]}},valueFormat:{type:String,default:"yyyy-MM-dd HH:mm:ss"},startOptions:{type:Object,default:function(){return{}}},endOptions:{type:Object,default:function(){return{}}},notMaxtTodayStart:{type:Boolean,default:!0},notMaxtTodayEnd:{type:Boolean,default:!0},startPlaceholder:{type:String,default:"请选择开始时间"},endPlaceholder:{type:String,default:"请选择结束时间"},defaultTime:{type:String|Array,default:function(e){return"string"===typeof e?[e,e]:e||["",""]}},clearable:{type:Boolean,default:!0},startClearable:{},endClearable:{}},computed:{startPickerOptions:function(){return["date","datetime"].includes(this.type)?Object.assign({},this.beginDate(),this.defaultOption,this.startOptions):Object.assign({},this.defaultOption,this.startOptions)},endPickerOptions:function(){return["date","datetime"].includes(this.type)?Object.assign({},this.processDate(),this.defaultOption,this.endOptions):Object.assign({},this.defaultOption,this.endOptions)}},data:function(){return{startTime:"",endTime:"",defaultOption:{},distance:0,startClear:!1,endClear:!1}},watch:{defaultValue:{immediate:!0,handler:function(){this.startTime=this.defaultValue[0]||"",this.endTime=this.defaultValue[1]||""}}},methods:{beginDate:function(){var e=this;return{disabledDate:function(t){var a=(new Date).getTime(),n=t.getTime();if(e.endTime){var i=new Date(e.endTime).getTime();return e.notMaxtTodayStart?Math.min(i,a)<n:i<n}if(e.notMaxtTodayStart)return a<n}}},processDate:function(){var e=this;return{disabledDate:function(t){var a=(new Date).getTime(),n=t.getTime();if(e.startTime){var i=new Date(e.startTime).getTime();return e.notMaxtTodayEnd?i-e.distance>n||n>a:i-e.distance>n}if(e.notMaxtTodayEnd)return a<n}}},changeTime:function(){if(this.distance=0,this.startTime&&"datetime"===this.type){var e=new Date(this.startTime);(e.getHours()>0||e.getMinutes()>0||e.getSeconds()>0)&&(this.distance=864e5)}if(this.startTime&&this.endTime){var t=new Date(this.startTime).getTime(),a=new Date(this.endTime).getTime();if(t>a)return this.$message({showClose:!0,message:"开始时间不能大于结束时间！",type:"warning"}),void(this.startTime=this.endTime)}this.$emit("change",[this.startTime,this.endTime]),this.$emit("update:time",[this.startTime,this.endTime])}},mounted:function(){this.startClear="[object Boolean]"!==Object.prototype.toString.call(this.startClearable)?this.clearable:this.startClearable,this.endClear="[object Boolean]"!==Object.prototype.toString.call(this.endClearable)?this.clearable:this.endClearable}}),o=r,s=(a("7050"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"4969b99b",null);t["default"]=l.exports},"8e9c":function(e,t,a){"use strict";a("db22")},"8ed2":function(e,t,a){a("48c7");var n=a("6cb7"),i=n.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});e.exports=i},"8eeb":function(e,t,a){var n=a("32b3"),i=a("872a");function r(e,t,a,r){var o=!a;a||(a={});var s=-1,l=t.length;while(++s<l){var c=t[s],u=r?r(a[c],e[c],c,a,e):void 0;void 0===u&&(u=e[c]),o?i(a,c,u):n(a,c,u)}return a}e.exports=r},"8f7a":function(e,t,a){"use strict";a("bc7f")},"8f8b":function(e,t,a){},"8f9b":function(e,t,a){"use strict";a("f04e")},"8fdd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{"popper-class":"tooltip-dark",placement:"top",title:e.title}},[a("div",{staticClass:"content"},[e._v("\n    如：MD5(10001_1605255335977_e4502ba3a71448bbbcecef22b305d2ba)\n  ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("("+e._s(e.title)+")")])])},i=[],r={name:"tooltip-md5",props:{title:{type:String,default:"示例"},ts:{type:Boolean,default:!0}}},o=r,s=(a("9af1"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},"8fe7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"createTimeSearch",fn:function(t){var n=t.size;return[a("datetime-range",{attrs:{defaultValue:e.search.createTime,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",size:n,defaultTime:["00:00:00","00:00:00"]},on:{"update:defaultValue":function(t){return e.$set(e.search,"createTime",t)},"update:default-value":function(t){return e.$set(e.search,"createTime",t)},change:function(t){return e.search.createTime=t}}})]}},{key:"type",fn:function(t){var a=t.row;return[e._v("\n      "+e._s((0===a.type?"发布":1===a.type&&"下线")||a.type)+"\n    ")]}},{key:"status",fn:function(t){var n=t.row;return[1===n.status?a("span",{staticClass:"color-danger"},[e._v("审核不通过")]):2===n.status?a("span",{staticClass:"color-success"},[e._v("审核通过")]):a("span",[e._v(e._s(0===n.status?"待审核":3===n.status&&"撤回"))])]}},{key:"menu",fn:function(t){var n=t.row,i=t.type,r=t.size;t.index;return[a("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowView(n)}}},[e._v("查看")]),!e.permissionList.applyBtn||3!==n.status&&1!==n.status?e._e():a("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowEidt(n)}}},[e._v("编辑")]),e.permissionList.revokeBtn&&0===n.status?a("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowRevoke(n)}}},[e._v("撤回")]):e._e(),a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){return e.copyID(n.id)}}},[e._v("复制发布ID")])]}}])},[a("template",{slot:"menuLeft"},[e.permissionList.applyBtn?a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:e.handleApply}},[e._v("发布|下线申请\n      ")]):e._e()],1)],2),a("input",{ref:"idInput",staticClass:"id-input"}),a("apply-detail",{attrs:{visible:e.detailDialog.visible,id:e.detailDialog.id,data:e.detailDialog.data,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}}),a("apply-dialog",{attrs:{visible:e.applyDialog.visible,list:e.applyDialog.list,form:e.applyDialog.form,id:e.applyDialog.id,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.applyDialog,"visible",t)}}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("0f43"),s=a("cec1"),l=a("5880"),c=a("1a1f"),u=a("7079"),d=a("247e"),p=a("8e7d");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={data:function(){return{search:{},applyDialog:{visible:!1,list:[]},option:{dialogWidth:900,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"发布ID",prop:"id"},{label:"申请时间",prop:"createTime",searchRange:!0,search:!0,searchslot:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"标题",prop:"title",search:!0,minWidth:180},{label:"操作类型",prop:"type",slot:!0,width:80},{label:"申请状态",prop:"status",slot:!0,width:100,search:!0,type:"select",dicData:s["a"]},{label:"审核人",prop:"approvalBy"},{label:"审核时间",prop:"approvalTime"}]}}},mixins:[c["default"]],components:{applyDetail:u["default"],applyDialog:d["default"],datetimeRange:p["default"]},computed:f(f({},Object(l["mapGetters"])(["permission"])),{},{permissionList:function(){return{viewBtn:this.vaildData(this.permission.aggregateRecord_apply_view,!1),revokeBtn:this.vaildData(this.permission.aggregate_apply_revoke,!1),applyBtn:this.vaildData(this.permission.aggregate_api_apply,!1)}}}),methods:{rowView:function(e){var t="/aggregateRecord/applyDetail";this.$router.push({path:t,query:{originId:e.id}})},rowEidt:function(e){var t=this;this.applyDialog.id=e.id,Object(o["e"])(e.id).then((function(e){var a=e.data.data;t.applyDialog.visible=!0,t.applyDialog.form=a,t.applyDialog.list=a.configs}))},handleApply:function(){this.applyDialog.id="",this.applyDialog.list=[],this.applyDialog.form={},this.applyDialog.visible=!0},rowRevoke:function(e){var t=this;this.$confirm("确定撤回【".concat(e.title,"】申请吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"撤回成功"})}))},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["f"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},copyID:function(e){this.$refs.idInput.value=e,this.$refs.idInput.select(),document.execCommand("copy"),this.$message({message:"发布ID已复制到粘贴板！",type:"success"})}}},m=g,b=(a("11f5f"),a("2877")),v=Object(b["a"])(m,n,i,!1,null,"543032d2",null);t["default"]=v.exports},9129:function(e,t,a){},9145:function(e,t,a){},"91e9":function(e,t){function a(e,t){return function(a){return e(t(a))}}e.exports=a},9201:function(e,t,a){"use strict";a("dcbf")},"921f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"xml-info",attrs:{title:"XML和JSON间的转换规则",center:"","append-to-body":"",visible:e.visible,"before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("ul",[a("li",[e._v("每个元素（节点）都会转换成一个JSON对象, 子元素转换为JSON对象的字段")]),a("li",[e._v("元素的属性名转换为JSON对象的一个字段，字段名会加上连字符前缀")]),a("li",[e._v("当元素有属性时元素的内容转换为JSON对象的#text字段")])]),a("el-table",{attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"xml",label:"XML"}}),a("el-table-column",{attrs:{prop:"json",label:"JSON"}})],1)],1)},i=[],r={name:"xml-info",data:function(){return{tableData:[{xml:'<?xml version="1.0" encoding="utf-8"?>\n<library>\n    <owner>John Doe</owner>\n    <book id="007">James Bond</book>\n    <book id="000">Book for the dummies</book>\n</library>',json:'转换为JSON:\n{\n  "library": {\n    "owner": "John Doe",\n    "book": [\n      {\n        "-id": "007",\n        "#text": "James Bond"\n      },\n      {\n        "-id": "000",\n        "#text": "Book for the dummies"\n      }\n    ]\n  }\n}'},{xml:'<?xml version="1.0" encoding="utf-8"?>\n<library>\n    <owner>John Doe</owner>\n    <date>2021-03-31</date>\n</library>',json:'转换为JSON:\n{\n  "library": {\n    "owner": "John Doe",\n    "date": "2021-03-31"\n  }\n}'},{xml:'<?xml version="1.0" encoding="utf-8"?>\n<library>\n    <book>James Bond</book>\n</library>',json:'默认转换为JSON:\n{\n  "library": { "book": "James Bond" }\n}\n\n可通过指明数组节点路径/library/book转换为JSON:\n{\n  "library": { "book": [“James Bond”] }\n}'}]}},props:{visible:{type:Boolean,default:!1}},methods:{handleClose:function(e){this.$emit("update:visible",!1),e&&e()}}},o=r,s=(a("36a5"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},9277:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("keep-alive",[e.$route.meta.$keepAlive?a("router-view",{staticClass:"avue-view"}):e._e()],1),e.$route.meta.$keepAlive?e._e():a("router-view",{staticClass:"avue-view"})],1)},i=[],r=a("2877"),o={},s=Object(r["a"])(o,n,i,!1,null,null,null);t["default"]=s.exports},9288:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"exec-break"},[a("h3",{staticClass:"header"},[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v(e._s(e.title)+"\n    "),a("span",{staticClass:"explain"},[e._v("\n      "+e._s(e.info)+"\n    ")]),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"el-icon-circle-plus-outline add-btn",on:{click:e.add}})]),a("el-tabs",{directives:[{name:"show",rawName:"v-show",value:e.conditions.length>0,expression:"conditions.length > 0"}],attrs:{"tab-position":"top",closable:!e.disabled,lazy:"",type:"border-card",size:"small"},on:{"tab-remove":e.remove},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.conditions,(function(t,n){return a("el-tab-pane",{key:t._uuid,attrs:{label:""+e.title+(n+1),name:""+e.title+(n+1)}},[a("compare-form",{ref:"compareForm",refInFor:!0,attrs:{data:t,disabled:e.disabled},on:{emitData:function(t){return e.conditions.splice(n,1,t)}}})],1)})),1),a("avue-empty",{directives:[{name:"show",rawName:"v-show",value:0===e.conditions.length,expression:"conditions.length === 0"}]})],1)},i=[],r=(a("5df3"),a("ac6a"),a("28a5"),a("c5f6"),a("e815")),o={name:"execBreak",components:{compareForm:r["default"]},props:{data:Object,disabled:Boolean,title:String,info:String},data:function(){return{activeTab:"",conditions:[],rules:{},uuid:1}},watch:{data:{deep:!0,immediate:!0,handler:function(e){var t=this;if(0===this.conditions.length&&e.map((function(e){return e._uuid=++t.uuid,e})),this.conditions=Object.assign([],e)||[],this.conditions.length>0){if(this.activeTab){var a=Number(this.activeTab.split(this.title)[1])-1;if(a<this.conditions.length)return}this.activeTab="".concat(this.title).concat(this.conditions.length)}}}},methods:{add:function(){this.conditions.push({_uuid:++this.uuid,type:"condition",desc:"",value1:{type:"",value:""},operator:"",value2:{type:"",value:""}}),this.activeTab="".concat(this.title).concat(this.conditions.length)},remove:function(e){var t=Number(e.split(this.title)[1])-1;this.conditions.splice(t,1),this.conditions.length>0&&this.activeTab&&t+1===Number(this.activeTab.split(this.title)[1])&&(this.activeTab="".concat(this.title).concat(this.conditions.length)),this.emitData()},validate:function(){var e=this;return new Promise((function(t,a){if(e.conditions&&e.conditions.length>0){var n=[];e.$refs.compareForm.forEach((function(e){n.push(e.validate())})),Promise.all(n).then((function(){e.emitData(),t()})).catch((function(){e.$message({showClose:!0,message:"请完善".concat(e.title,"！"),type:"warning"}),a()}))}else t()}))},emitData:function(){this.$emit("update:data",this.conditions),this.$emit("emitData",this.conditions)}}},s=o,l=(a("6093"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"b10afece",null);t["default"]=c.exports},"92c9":function(e,t,a){},9313:function(e,t,a){"use strict";a("d312")},"933e":function(e,t,a){"use strict";a("c8f6")},"936b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"api-header"},[e.serviceName?a("el-tag",[e._v("服务["+e._s(e.serviceName)+"]")]):e._e(),e._v(" \n  "),a("b",[e.apiName?a("span",[e._v("["+e._s(e.apiName)+"]")]):e._e(),e._v("\n    "+e._s(e.pageName)+"\n  ")])],1)},i=[],r=(a("7f7f"),{name:"index",props:{serviceName:{type:String,default:""},apiName:{type:String,default:""},pageName:{type:String,default:function(){return this.$route.name||""}}}}),o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,"359ed195",null);t["default"]=l.exports},"93d0":function(e,t){var a="original",n="arrayRows",i="objectRows",r="keyedColumns",o="unknown",s="typedArray",l="column",c="row";t.SOURCE_FORMAT_ORIGINAL=a,t.SOURCE_FORMAT_ARRAY_ROWS=n,t.SOURCE_FORMAT_OBJECT_ROWS=i,t.SOURCE_FORMAT_KEYED_COLUMNS=r,t.SOURCE_FORMAT_UNKNOWN=o,t.SOURCE_FORMAT_TYPED_ARRAY=s,t.SERIES_LAYOUT_BY_COLUMN=l,t.SERIES_LAYOUT_BY_ROW=c},"93ed":function(e,t,a){var n=a("4245");function i(e){var t=n(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},"942a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{staticClass:"data-params"},[e.hasBody?a("el-tab-pane",{attrs:{label:e.bodyName}},[e.getParamsKeys(e.fixedBody,e.body)>0?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{value:e.getParamsKeys(e.fixedBody,e.body),max:10,type:"success"}},[e._v(" "+e._s(e.bodyName)+" ")])],1):e._e(),e._t("body"),a("params-table",{attrs:{"business-type":e.businessType,fixed:e.fixedBody,quote:e.body,rules:e.bodyRules,"multiple-values":e.multipleValues&&("multipart/form-data"===e.contentType||"application/x-www-form-urlencoded"===e.contentType),disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:fixed":function(t){e.fixedBody=t},"update:quote":function(t){e.body=t}}})],2):e._e(),e.hasHeader?a("el-tab-pane",{attrs:{label:e.headerName}},[e.getParamsKeys(e.fixedHeaders,e.headers)>0?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{value:e.getParamsKeys(e.fixedHeaders,e.headers),max:10,type:"success"}},[e._v(" "+e._s(e.headerName)+" ")])],1):e._e(),e._t("header"),a("params-table",{attrs:{"business-type":e.businessType,fixed:e.fixedHeaders,quote:e.headers,rules:e.headerRules,"multiple-values":e.multipleValues,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:fixed":function(t){e.fixedHeaders=t},"update:quote":function(t){e.headers=t}}})],2):e._e(),e.hasQuery?a("el-tab-pane",{attrs:{label:e.queryName}},[e.getParamsKeys(e.fixedParams,e.params)>0?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{value:e.getParamsKeys(e.fixedParams,e.params),max:10,type:"success"}},[e._v(" "+e._s(e.queryName)+" ")])],1):e._e(),e._t("query"),a("params-table",{attrs:{"business-type":e.businessType,fixed:e.fixedParams,quote:e.params,rules:e.queryRules,"multiple-values":e.multipleValues,disabled:e.disabled,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:fixed":function(t){e.fixedParams=t},"update:quote":function(t){e.params=t}}})],2):e._e(),e.hasScript?a("el-tab-pane",{attrs:{label:"脚本"}},[e.scriptId?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{"is-dot":"",type:"paimary"}},[e._v("脚本")])],1):e._e(),a("el-form",{ref:"scriptForm",attrs:{model:e.scriptForm,"label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{label:"脚本配置"}},[e.scriptId?a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openScript()}}},[e._v("\n            "+e._s("{ aggregate_config_script_id: "+e.scriptId+" }")+"\n          ")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteScript(e.scriptId)}}},[e._v("\n            删除\n          ")])],1):a("el-button",{attrs:{type:"text",disabled:e.disabled},on:{click:function(t){return e.openScript()}}},[e._v("\n          "+e._s(e.disabled?"无":"新增")+"\n        ")]),a("script-dialog",{attrs:{visible:e.scriptVisible,content:e.scriptContent,"business-type":e.businessType,disabled:e.disabled,id:e.scriptId,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:visible":function(t){e.scriptVisible=t},"update:content":function(t){e.scriptContent=t},"update:id":function(t){e.scriptId=t}}})],1)],1)],1):e._e()],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("83b0"),s=a("2fa9"),l=a("5880");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"data-request",data:function(){return{activeTab:"header",fixedHeaders:{},headers:{},fixedBody:{},body:{},fixedParams:{},params:{},script:{},scriptVisible:!1,scriptId:"",scriptContent:"",others:{}}},props:{data:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},headerName:{type:String,default:"请求头"},bodyName:{type:String,default:"请求体"},queryName:{type:String,default:"Query参数"},headerRules:{type:Object},bodyRules:{type:Object},queryRules:{type:Object},hasHeader:{type:Boolean,default:!0},hasBody:{type:Boolean,default:!0},hasQuery:{type:Boolean,default:!0},hasScript:{type:Boolean,default:!0},businessType:{type:String},isDelWithHttp:{type:Boolean,default:!0},multipleValues:{type:Boolean,default:!1},contentType:{type:String,default:""},isDelScriptWithHttp:{type:Boolean,default:!0}},computed:{dataObj:function(){var e=Object.assign({},this.others);return this.hasHeader&&(e.fixedHeaders=this.fixedHeaders,e.headers=this.headers),this.hasBody&&(e.fixedBody=this.fixedBody,e.body=this.body),this.hasQuery&&(e.fixedParams=this.fixedParams,e.params=this.params),this.hasScript&&(e.script=this.scriptId?{aggregate_config_script_id:this.scriptId}:{}),e}},components:{paramsTable:o["default"],scriptDialog:s["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},script:{immediate:!0,deep:!0,handler:function(e){var t=e&&"string"===typeof e?JSON.parse(e):e;this.scriptId=t["aggregate_config_script_id"]||""}},dataObj:{deep:!0,handler:function(){this.emitData()}}},methods:u(u({},Object(l["mapActions"])(["removeScript"])),{},{getParamsKeys:function(e,t){var a=Object.keys(e||{})||[],n=Object.keys(t||{})||[],i=a.concat(n)||[];return i.length},emitData:function(){this.$emit("update:data",this.dataObj)},initData:function(e){var t=this;e=e||this.data||{};var a=e,n=a.fixedHeaders,i=a.headers,r=a.fixedBody,o=a.body,s=a.script,l=a.fixedParams,c=a.params;this.fixedHeaders=n||{},this.headers=i||{},this.fixedBody=r||{},this.body=o||{},this.fixedParams=l||{},this.params=c||{},this.script=s||{},Object.keys(e).forEach((function(a){var n=["fixedHeaders","headers","fixedBody","body","script","fixedParams","params"].some((function(e){return e===a}));n||(t.others[a]=e[a])}))},openScript:function(){this.scriptVisible=!0},deleteScript:function(e){var t=this;this.$confirm("确定删除该脚本?",{type:"warning"}).then((function(){t.isDelScriptWithHttp?t.removeScript(e).then((function(){t.scriptId="",t.$message.success("删除成功")})):(t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),t.scriptId="",t.$message.success("删除成功"))}))}})},p=d,h=(a("a2f9"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports},"944e":function(e,t,a){var n=a("3842"),i=n.round;function r(e,t,a,r){var s={},c=e[1]-e[0],u=s.interval=n.nice(c/t,!0);null!=a&&u<a&&(u=s.interval=a),null!=r&&u>r&&(u=s.interval=r);var d=s.intervalPrecision=o(u),p=s.niceTickExtent=[i(Math.ceil(e[0]/u)*u,d),i(Math.floor(e[1]/u)*u,d)];return l(p,e),s}function o(e){return n.getPrecisionSafe(e)+2}function s(e,t,a){e[t]=Math.max(Math.min(e[t],a[1]),a[0])}function l(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),s(e,0,t),s(e,1,t),e[0]>e[1]&&(e[0]=e[1])}t.intervalScaleNiceTicks=r,t.getIntervalPrecision=o,t.fixExtent=l},9470:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"codeEditor",style:{height:e.height+"px"}},[a("code-viewer",{attrs:{ctype:e.type,contents:e.content,highlight:e.highlight,options:e.options,"read-only":e.disabled,onChange:e.onChange,dirty:e.dirty,ctrls:e.ctrls},on:{"update:contents":function(t){e.content=t}}})],1)},i=[],r=(a("c5f6"),a("fb4e")),o={name:"CodeEditor",components:{CodeViewer:r["default"]},props:{type:{type:String,default:"javascript"},content:{type:String,default:""},disabled:{type:Boolean,default:!1},height:{type:[Number,String],default:240},highlight:Object,options:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},dirty:{default:!1,type:[Boolean,Number]},ctrls:Boolean},watch:{content:function(e){this.$emit("update:content",e),this.$emit("change",e)}}},s=o,l=(a("dbc0"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"6160ba68",null);t["default"]=c.exports},"94a6":function(e,t,a){},"950a":function(e,t,a){var n=a("30c9");function i(e,t){return function(a,i){if(null==a)return a;if(!n(a))return e(a,i);var r=a.length,o=t?r:-1,s=Object(a);while(t?o--:++o<r)if(!1===i(s[o],o,s))break;return a}}e.exports=i},9542:function(e,t,a){},9607:function(e,t,a){"use strict";a("6b32")},9638:function(e,t){function a(e,t){return e===t||e!==e&&t!==t}e.exports=a},9653:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-op-log/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-aggregate-op-log/detail/").concat(e),method:"get",params:{id:e}})}},9680:function(e,t){function a(e,t,a,n,i,r,o){if(0===i)return!1;var s=i,l=0,c=e;if(o>t+s&&o>n+s||o<t-s&&o<n-s||r>e+s&&r>a+s||r<e-s&&r<a-s)return!1;if(e===a)return Math.abs(r-e)<=s/2;l=(t-n)/(e-a),c=(e*n-a*t)/(e-a);var u=l*r-o+c,d=u*u/(l*l+1);return d<=s/2*s/2}t.containStroke=a},"970c":function(e,t,a){},9765:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,page:e.page,permission:e.permissionList,"before-open":e.beforeOpen},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permission.client_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("b5c6"),s=a("da71");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(e,t,a){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/client/list"),method:"get",params:c(c({},a),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/client/detail"),method:"get",params:{id:e}})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/client/remove"),method:"post",params:{ids:e}})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/client/submit"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/client/submit"),method:"post",data:e})},g=a("5880");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,viewBtn:!0,selection:!0,dialogClickModal:!1,column:[{label:"应用id",prop:"clientId",search:!0,rules:[{required:!0,message:"请输入客户端id",trigger:"blur"}]},{label:"应用密钥",prop:"clientSecret",search:!0,rules:[{required:!0,message:"请输入客户端密钥",trigger:"blur"}]},{label:"授权类型",prop:"authorizedGrantTypes",value:"refresh_token,password,authorization_code",rules:[{required:!0,message:"请输入授权类型",trigger:"blur"}]},{label:"授权范围",prop:"scope",value:"all",rules:[{required:!0,message:"请输入授权范围",trigger:"blur"}]},{label:"令牌秒数",prop:"accessTokenValidity",type:"number",value:3600,rules:[{required:!0,message:"请输入令牌过期秒数",trigger:"blur"}]},{label:"刷新秒数",prop:"refreshTokenValidity",type:"number",value:604800,hide:!0,rules:[{required:!0,message:"请输入刷新令牌过期秒数",trigger:"blur"}]},{label:"回调地址",prop:"webServerRedirectUri",hide:!0,rules:[{required:!0,message:"请输入回调地址",trigger:"blur"}]},{label:"资源集合",prop:"resourceIds",hide:!0,rules:[{message:"请输入资源集合",trigger:"blur"}]},{label:"权限",prop:"authorities",hide:!0,rules:[{message:"请输入权限",trigger:"blur"}]},{label:"自动授权",prop:"autoapprove",hide:!0,rules:[{message:"请输入自动授权",trigger:"blur"}]},{label:"附加说明",hide:!0,prop:"additionalInformation",span:24,rules:[{message:"请输入附加说明",trigger:"blur"}]}]},data:[]}},computed:b(b({},Object(g["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.client_add),viewBtn:this.vaildData(this.permission.client_view),delBtn:this.vaildData(this.permission.client_delete),editBtn:this.vaildData(this.permission.client_edit)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,a){var n=this;h(e).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;f(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&d(this.form.id).then((function(e){a.form=e.data.data})),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},y=v,w=a("2877"),_=Object(w["a"])(y,n,i,!1,null,null,null);t["default"]=_.exports},"97a9":function(e,t,a){"use strict";a("a94a")},"97ce":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[a("div",{staticClass:"box-header",attrs:{slot:"header"},slot:"header"},[a("b",[e._v("设置管理")]),e.editBtn?a("el-button",{attrs:{size:"mini",type:"primary",disabled:e.editing},on:{click:function(t){e.editing=!0}}},[e._v("编辑")]):e._e()],1),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,disabled:!e.editing,"label-width":"130px",size:"small"}},[a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("基础设置\n        "),a("span",{staticClass:"tips"},[a("i",{staticClass:"el-icon-warning"}),e._v("基础设置需重启服务才生效")])]),a("el-form-item",{attrs:{label:"网关端口"}},[a("el-input",{attrs:{type:"number"},model:{value:e.form["server.port"],callback:function(t){e.$set(e.form,"server.port",t)},expression:"form['server.port']"}}),a("div",{staticClass:"key-tips"},[e._v("网关的服务端口")])],1),a("el-form-item",{attrs:{label:"网关上下文"}},[a("el-input",{model:{value:e.form["gateway.prefix"],callback:function(t){e.$set(e.form,"gateway.prefix",t)},expression:"form['gateway.prefix']"}})],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"最大文件上传大小"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form["server.fileUpload.maxDiskUsagePerPart"],callback:function(t){e.$set(e.form,"server.fileUpload.maxDiskUsagePerPart",t)},expression:"form['server.fileUpload.maxDiskUsagePerPart']"}}),a("span",{staticClass:"unit"},[e._v("字节")]),a("div",{staticClass:"key-tips"},[e._v("默认100M")])],1),a("el-form-item",{attrs:{label:"开启CORS"}},[a("el-switch",{model:{value:e.form.cors,callback:function(t){e.$set(e.form,"cors",t)},expression:"form.cors"}}),a("div",{staticClass:"key-tips"},[e._v("开启时可接受跨域的Ajax请求")])],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("错误响应码")]),a("el-form-item",{attrs:{label:"启用HTTP状态码"}},[a("el-switch",{model:{value:e.form["fizz.error.response.http-status.enable"],callback:function(t){e.$set(e.form,"fizz.error.response.http-status.enable",t)},expression:"form['fizz.error.response.http-status.enable']"}}),a("div",{staticClass:"key-tips"},[e._v("当请求错误时响应HTTP状态码，不启用时响应200，如：4xx, 5xx错误")])],1),a("el-form-item",{attrs:{label:"错误码字段名"}},[a("el-input",{model:{value:e.form["fizz.error.response.code-field"],callback:function(t){e.$set(e.form,"fizz.error.response.code-field",t)},expression:"form['fizz.error.response.code-field']"}}),a("div",{staticClass:"key-tips"},[e._v("当请求错误时响应JSON报文的错误码字段名，默认值：msgCode")])],1),a("el-form-item",{attrs:{label:"错误信息字段名"}},[a("el-input",{model:{value:e.form["fizz.error.response.message-field"],callback:function(t){e.$set(e.form,"fizz.error.response.message-field",t)},expression:"form['fizz.error.response.message-field']"}}),a("div",{staticClass:"key-tips"},[e._v("当请求错误时响应JSON报文的错误码字段名，默认值：message")])],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("链路跟踪")]),a("el-form-item",{attrs:{label:"请求头"}},[a("el-input",{model:{value:e.form["fizz-trace-id.header"],callback:function(t){e.$set(e.form,"fizz-trace-id.header",t)},expression:"form['fizz-trace-id.header']"}}),a("div",{staticClass:"key-tips"},[e._v("链路跟踪的请求头")])],1),a("el-form-item",{attrs:{label:"ID生产策略"}},[a("el-select",{model:{value:e.form["fizz-trace-id.value-strategy"],callback:function(t){e.$set(e.form,"fizz-trace-id.value-strategy",t)},expression:"form['fizz-trace-id.value-strategy']"}},[a("el-option",{attrs:{label:"requestId",value:"requestId"}}),a("el-option",{attrs:{label:"uuid",value:"uuid"}})],1),a("div",{staticClass:"key-tips"},[e._v("链路跟踪ID的生产策略，默认为请求ID，可选UUID")])],1),a("el-form-item",{attrs:{label:"ID前缀"}},[a("el-input",{model:{value:e.form["fizz-trace-id.value-prefix"],callback:function(t){e.$set(e.form,"fizz-trace-id.value-prefix",t)},expression:"form['fizz-trace-id.value-prefix']"}}),a("div",{staticClass:"key-tips"},[e._v("链路跟踪ID的前缀，如ID: fizz-1234567890")])],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("自定义鉴权头")]),a("el-form-item",{attrs:{label:"app"}},[a("el-input",{model:{value:e.form["custom.header.appid"],callback:function(t){e.$set(e.form,"custom.header.appid",t)},expression:"form['custom.header.appid']"}}),a("div",{staticClass:"key-tips"},[e._v("默认fizz-appid，多个以逗号分隔，优先取默认请求头的值，如果没有值再按顺序取自定义请求头的值")])],1),a("el-form-item",{attrs:{label:"签名"}},[a("el-input",{model:{value:e.form["custom.header.sign"],callback:function(t){e.$set(e.form,"custom.header.sign",t)},expression:"form['custom.header.sign']"}}),a("div",{staticClass:"key-tips"},[e._v("默认fizz-sign，多个以逗号分隔，优先取默认请求头的值，如果没有值再按顺序取自定义请求头的值")])],1),a("el-form-item",{attrs:{label:"时间戳"}},[a("el-input",{model:{value:e.form["custom.header.ts"],callback:function(t){e.$set(e.form,"custom.header.ts",t)},expression:"form['custom.header.ts']"}}),a("div",{staticClass:"key-tips"},[e._v("默认fizz-ts，多个以逗号分隔，优先取默认请求头的值，如果没有值再按顺序取自定义请求头的值")])],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("Web Client")]),a("el-form-item",{attrs:{label:"tcp no delay"}},[a("el-switch",{model:{value:e.form["proxy-webclient.chTcpNodelay"],callback:function(t){e.$set(e.form,"proxy-webclient.chTcpNodelay",t)},expression:"form['proxy-webclient.chTcpNodelay']"}})],1),a("el-form-item",{attrs:{label:"会话保持"}},[a("el-switch",{model:{value:e.form["proxy-webclient.chSoKeepAlive"],callback:function(t){e.$set(e.form,"proxy-webclient.chSoKeepAlive",t)},expression:"form['proxy-webclient.chSoKeepAlive']"}})],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"连接超时时间"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form["proxy-webclient.chConnTimeout"],callback:function(t){e.$set(e.form,"proxy-webclient.chConnTimeout",t)},expression:"form['proxy-webclient.chConnTimeout']"}}),a("span",{staticClass:"unit"},[e._v("毫秒")])],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"读超时时间"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form["proxy-webclient.connReadTimeout"],callback:function(t){e.$set(e.form,"proxy-webclient.connReadTimeout",t)},expression:"form['proxy-webclient.connReadTimeout']"}}),a("span",{staticClass:"unit"},[e._v("毫秒")])],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"写超时时间"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form["proxy-webclient.connWriteTimeout"],callback:function(t){e.$set(e.form,"proxy-webclient.connWriteTimeout",t)},expression:"form['proxy-webclient.connWriteTimeout']"}}),a("span",{staticClass:"unit"},[e._v("毫秒")])],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"信任不安全的SSL"}},[a("el-switch",{model:{value:e.form["proxy-webclient.trustInsecureSSL"],callback:function(t){e.$set(e.form,"proxy-webclient.trustInsecureSSL",t)},expression:"form['proxy-webclient.trustInsecureSSL']"}})],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"启用压缩"}},[a("el-switch",{model:{value:e.form["proxy-webclient.compress"],callback:function(t){e.$set(e.form,"proxy-webclient.compress",t)},expression:"form['proxy-webclient.compress']"}})],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("日志设置")]),a("el-form-item",{attrs:{label:"接口统计"}},[a("el-switch",{model:{value:e.form["stat.open"],callback:function(t){e.$set(e.form,"stat.open",t)},expression:"form['stat.open']"}}),a("div",{staticClass:"key-tips"},[e._v("开启时统计接口数量")])],1),a("el-form-item",{attrs:{label:"推送日志"}},[a("el-switch",{model:{value:e.form["send-log.open"],callback:function(t){e.$set(e.form,"send-log.open",t)},expression:"form['send-log.open']"}}),a("div",{staticClass:"key-tips"},[e._v("开启时推送节点实例日志到管理后台")])],1),a("el-form-item",{attrs:{label:"可记录在日志中的请求头"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.form["log.headers"],callback:function(t){e.$set(e.form,"log.headers",t)},expression:"form['log.headers']"}}),a("div",{staticClass:"key-tips"},[e._v("节点实例请求日志记录的请求头，多个可用逗号分隔")])],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("服务编排")]),a("el-form-item",{attrs:{label:"输出null值"}},[a("el-switch",{model:{value:e.form["fizz.aggregate.writeMapNullValue"],callback:function(t){e.$set(e.form,"fizz.aggregate.writeMapNullValue",t)},expression:"form['fizz.aggregate.writeMapNullValue']"}}),a("div",{staticClass:"key-tips"},[e._v("开启时JSON报文包含值为null的字段，默认不开启")])],1),a("el-form-item",{attrs:{label:"默认添加的请求头"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.form["gateway.aggr.proxy_set_headers"],callback:function(t){e.$set(e.form,"gateway.aggr.proxy_set_headers",t)},expression:"form['gateway.aggr.proxy_set_headers']"}}),a("div",{staticClass:"key-tips"},[e._v("编排中调用接口默认添加的请求头，多个可用逗号分隔")])],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("Dubbo设置")]),a("el-form-item",{attrs:{label:"注册中心"}},[a("el-input",{model:{value:e.form["fizz-dubbo-client.address"],callback:function(t){e.$set(e.form,"fizz-dubbo-client.address",t)},expression:"form['fizz-dubbo-client.address']"}}),a("div",{staticClass:"key-tips"},[e._v("Dubbo服务使用的注册中心")])],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("专线配置\n        "),a("span",{staticClass:"tips"},[a("i",{staticClass:"el-icon-warning"}),e._v("专线配置需重启服务才生效")])]),a("el-form-item",{attrs:{label:"服务端"}},[a("el-switch",{model:{value:e.form["fizz.dedicated-line.server.enable"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.server.enable",t)},expression:"form['fizz.dedicated-line.server.enable']"}}),a("div",{staticClass:"key-tips"},[e._v("启用时网关对外提供 专线配对 接口")])],1),a("el-form-item",{attrs:{label:"客户端"}},[a("el-switch",{model:{value:e.form["fizz.dedicated-line.client.enable"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.client.enable",t)},expression:"form['fizz.dedicated-line.client.enable']"}}),a("div",{staticClass:"key-tips"},[e._v("启用时网关会启动专线服务，专线服务负责将内部请求转发给服务商网关")])],1),e.form["fizz.dedicated-line.client.enable"]?[a("el-form-item",{attrs:{label:"客户端端口"}},[a("el-input",{attrs:{type:"number"},on:{change:e.changeClientPort},model:{value:e.form["fizz.dedicated-line.client.port"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.client.port",t)},expression:"form['fizz.dedicated-line.client.port']"}})],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"签名时效"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form["fizz.dedicated-line.client.request.timeliness"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.client.request.timeliness",t)},expression:"form['fizz.dedicated-line.client.request.timeliness']"}}),a("span",{staticClass:"unit"},[e._v("秒")])],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"超时时间"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form["fizz.dedicated-line.client.request.timeout"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.client.request.timeout",t)},expression:"form['fizz.dedicated-line.client.request.timeout']"}}),a("span",{staticClass:"unit"},[e._v("毫秒")])],1),a("el-form-item",{attrs:{label:"重试次数"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form["fizz.dedicated-line.client.request.retry-count"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.client.request.retry-count",t)},expression:"form['fizz.dedicated-line.client.request.retry-count']"}})],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"重试间隔"}},[a("el-input-number",{attrs:{min:0},model:{value:e.form["fizz.dedicated-line.client.request.retry-interval"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.client.request.retry-interval",t)},expression:"form['fizz.dedicated-line.client.request.retry-interval']"}}),a("span",{staticClass:"unit"},[e._v("毫秒")])],1)]:e._e(),a("el-form-item",{attrs:{label:"注册中心"}},[a("el-select",{attrs:{clearable:""},on:{change:e.changeRegisterType},model:{value:e.form.registerType,callback:function(t){e.$set(e.form,"registerType",t)},expression:"form.registerType"}},[a("el-option",{attrs:{label:"Eureka",value:"Eureka"}}),a("el-option",{attrs:{label:"Nacos",value:"Nacos"}})],1)],1),"Eureka"===e.form.registerType?[a("el-form-item",{attrs:{label:"Eureka地址"}},[a("el-input",{model:{value:e.form["fizz.dedicated-line.client.service-registration.eureka.client.serviceUrl.defaultZone"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.client.service-registration.eureka.client.serviceUrl.defaultZone",t)},expression:"form['fizz.dedicated-line.client.service-registration.eureka.client.serviceUrl.defaultZone']"}})],1),a("el-form-item",{attrs:{label:"客户端应用名"}},[a("el-input",{model:{value:e.form["fizz.dedicated-line.client.service-registration.eureka.instance.appname"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.client.service-registration.eureka.instance.appname",t)},expression:"form['fizz.dedicated-line.client.service-registration.eureka.instance.appname']"}})],1)]:e._e(),"Nacos"===e.form.registerType?[a("el-form-item",{attrs:{label:"Nacos地址"}},[a("el-input",{model:{value:e.form["fizz.dedicated-line.client.service-registration.nacos.discovery.server-addr"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.client.service-registration.nacos.discovery.server-addr",t)},expression:"form['fizz.dedicated-line.client.service-registration.nacos.discovery.server-addr']"}})],1),a("el-form-item",{attrs:{label:"客户端应用名"}},[a("el-input",{model:{value:e.form["fizz.dedicated-line.client.service-registration.nacos.discovery.service"],callback:function(t){e.$set(e.form,"fizz.dedicated-line.client.service-registration.nacos.discovery.service",t)},expression:"form['fizz.dedicated-line.client.service-registration.nacos.discovery.service']"}})],1)]:e._e()],2),e.editing?a("footer",[a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),a("el-button",{attrs:{size:"small"},on:{click:e.cancelForm}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("3835")),o=(a("ffc1"),a("ac6a"),a("ade3")),s=a("b5c6"),l=a("da71"),c=function(){return Object(s["a"])({url:"".concat(l["a"],"/gateway-config/list-all"),method:"get"})},u=function(e){return Object(s["a"])({url:"".concat(l["a"],"/gateway-config/save-all"),method:"post",data:e})},d=a("5880");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={name:"setting",data:function(){return{data:{},editing:!1,loading:!1,form:{"server.port":8600,"gateway.prefix":"/proxy","proxy-webclient.connReadTimeout":null,"proxy-webclient.connWriteTimeout":null,"proxy-webclient.trustInsecureSSL":!1,"server.fileUpload.maxDiskUsagePerPart":104857600,"proxy-webclient.chTcpNodelay":!0,"proxy-webclient.chSoKeepAlive":!0,"proxy-webclient.compress":!0,"proxy-webclient.chConnTimeout":2e4,"stat.open":!0,"send-log.open":!0,"log.headers":"COOKIE,FIZZ-APPID,FIZZ-SIGN,FIZZ-TS,FIZZ-RSV,HOST",cors:!0,"gateway.aggr.proxy_set_headers":"X-Real-IP,X-Forwarded-Proto,X-Forwarded-For","fizz.aggregate.writeMapNullValue":!1,"fizz.error.response.http-status.enable":!0,"fizz.error.response.code-field":"msgCode","fizz.error.response.message-field":"message","fizz-trace-id.header":"X-Trace-Id","fizz-trace-id.value-strategy":"requestId","fizz-trace-id.value-prefix":"fizz","custom.header.appid":"fizz-appid","custom.header.sign":"fizz-sign","custom.header.ts":"fizz-ts","fizz-dubbo-client.address":"zookeeper","fizz.dedicated-line.server.enable":!0,"fizz.dedicated-line.client.enable":!0,"fizz.dedicated-line.client.port":8601,"fizz.dedicated-line.client.request.timeliness":300,"fizz.dedicated-line.client.request.timeout":0,"fizz.dedicated-line.client.request.retry-count":0,"fizz.dedicated-line.client.request.retry-interval":0,"fizz.dedicated-line.client.service-registration.eureka.server-port":8601,"fizz.dedicated-line.client.service-registration.eureka.client.serviceUrl.defaultZone":"http://3.3.3.3:6600/eureka","fizz.dedicated-line.client.service-registration.eureka.instance.appname":"fizz-dedicated-line","fizz.dedicated-line.client.service-registration.nacos.discovery.service":"fizz-dedicated-line","fizz.dedicated-line.client.service-registration.nacos.discovery.port":8601,"fizz.dedicated-line.client.service-registration.nacos.discovery.server-addr":"2.2.2.2:8848"},rules:{}}},computed:h(h({},Object(d["mapGetters"])(["permission"])),{},{editBtn:function(){return this.vaildData(this.permission.gateway_setting_edit,!1)}}),methods:{getDetail:function(){var e=this;c().then((function(t){var a=t.data;if(200==a.code){if(a.data.configs&&a.data.configs.length>0){var n={};a.data.configs.forEach((function(e){n[e.key]=e.value})),e.data=Object.assign({},n),e.form=Object.assign({},n),e.form["fizz.dedicated-line.client.service-registration.eureka.client.serviceUrl.defaultZone"]||e.form["fizz.dedicated-line.client.service-registration.eureka.instance.appname"]||"Eureka"===e.form.registerType||(e.form["fizz.dedicated-line.client.service-registration.eureka.client.serviceUrl.defaultZone"]="http://3.3.3.3:6600/eureka",e.form["fizz.dedicated-line.client.service-registration.eureka.instance.appname"]="fizz-dedicated-line"),e.form["fizz.dedicated-line.client.service-registration.nacos.discovery.server-addr"]||e.form["fizz.dedicated-line.client.service-registration.nacos.discovery.service"]||"Nacos"===e.form.registerType||(e.form["fizz.dedicated-line.client.service-registration.nacos.discovery.server-addr"]="2.2.2.2:8848",e.form["fizz.dedicated-line.client.service-registration.nacos.discovery.service"]="fizz-dedicated-line")}else e.data=Object.assign({},e.form);delete e.form["proxy-webclient.trust-insecure-SSL"],delete e.data["proxy-webclient.trust-insecure-SSL"]}}))},changeRegisterType:function(e){"Eureka"===e?(this.form["fizz.dedicated-line.client.service-registration.eureka.client.enabled"]=!0,this.form["fizz.dedicated-line.client.service-registration.eureka.instance.prefer-ip-address"]=!0,delete this.form["fizz.dedicated-line.client.service-registration.nacos.discovery.enabled"]):"Nacos"===e?(this.form["fizz.dedicated-line.client.service-registration.nacos.discovery.enabled"]=!0,delete this.form["fizz.dedicated-line.client.service-registration.eureka.client.enabled"],delete this.form["fizz.dedicated-line.client.service-registration.eureka.instance.prefer-ip-address"]):(delete this.form["fizz.dedicated-line.client.service-registration.nacos.discovery.enabled"],delete this.form["fizz.dedicated-line.client.service-registration.eureka.client.enabled"],delete this.form["fizz.dedicated-line.client.service-registration.eureka.instance.prefer-ip-address"])},changeClientPort:function(e){this.form["fizz.dedicated-line.client.service-registration.nacos.discovery.port"]=e,this.form["fizz.dedicated-line.client.service-registration.eureka.server-port=8601"]=e},cancelForm:function(){this.form=Object.assign({},this.data),this.editing=!1},submitForm:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.loading=!0;var a=Object.assign({},e.form);"Eureka"===a.registerType?(delete a["fizz.dedicated-line.client.service-registration.nacos.discovery.server-addr"],delete a["fizz.dedicated-line.client.service-registration.nacos.discovery.service"]):"Nacos"===a.registerType?(delete a["fizz.dedicated-line.client.service-registration.eureka.client.serviceUrl.defaultZone"],delete a["fizz.dedicated-line.client.service-registration.eureka.instance.appname"]):(delete a["fizz.dedicated-line.client.service-registration.nacos.discovery.server-addr"],delete a["fizz.dedicated-line.client.service-registration.nacos.discovery.service"],delete a["fizz.dedicated-line.client.service-registration.eureka.client.serviceUrl.defaultZone"],delete a["fizz.dedicated-line.client.service-registration.eureka.instance.appname"]);for(var n={configs:[]},i=0,o=Object.entries(a);i<o.length;i++){var s=Object(r["a"])(o[i],2),l=s[0],c=s[1];n.configs.push({key:l,value:c})}u(n).then((function(){e.$message({type:"success",message:"保存成功"}),e.getDetail(),e.loading=!1,e.editing=!1})).catch((function(){e.loading=!1}))}}))}},mounted:function(){this.getDetail()}},g=f,m=(a("0e3a"),a("2877")),b=Object(m["a"])(g,n,i,!1,null,"4d80d66b",null);t["default"]=b.exports},"980c":function(e,t,a){"use strict";a("de00e")},"980c4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",[a("div",{staticClass:"flow-default-header clearfix",attrs:{slot:"header"},slot:"header"},[a("b",[e._v("单机全局规则")]),a("el-button",{attrs:{size:"mini",type:"primary",disabled:e.editing},on:{click:function(t){e.editing=!0}}},[e._v("编辑")])],1),a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,disabled:!e.editing,size:"small","label-width":"155px"}},[a("el-form-item",{attrs:{label:"全局配置:",prop:"globalEnabled"}},[a("div",{attrs:{slot:"label"},slot:"label"},[e._v("\n          全局配置\n          "),a("el-tooltip",{attrs:{placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              全局配置对整个节点进行流量控制。"),a("br"),e._v("\n              例如配置 集群共享并发数：2000=1000（单机）* 2，"),a("br"),e._v("\n              当单个节点的所有请求并发数超过 1000 时，会被限流。"),a("br")]),a("i",{staticClass:"el-icon-question"})]),e._v("\n          :\n        ")],1),a("el-checkbox",{model:{value:e.formData.globalEnabled,callback:function(t){e.$set(e.formData,"globalEnabled",t)},expression:"formData.globalEnabled"}},[e._v("启用")])],1),e.formData.globalEnabled?a("div",{staticStyle:{"padding-left":"115px"}},[a("el-form-item",{attrs:{label:"集群共享并发数:",prop:"globalConcurrent"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.globalConcurrent*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.globalConcurrent,callback:function(t){e.$set(e.formData,"globalConcurrent",t)},expression:"formData.globalConcurrent"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),a("el-form-item",{attrs:{label:"集群共享QPS:",prop:"globalQps"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.globalQps*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.globalQps,callback:function(t){e.$set(e.formData,"globalQps",t)},expression:"formData.globalQps"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)])],1):e._e(),a("el-form-item",{attrs:{label:"服务默认配置:",prop:"serviceDefaultEnabled"}},[a("el-checkbox",{model:{value:e.formData.serviceDefaultEnabled,callback:function(t){e.$set(e.formData,"serviceDefaultEnabled",t)},expression:"formData.serviceDefaultEnabled"}},[e._v("启用")])],1),e.formData.serviceDefaultEnabled?a("div",{staticStyle:{"padding-left":"115px"}},[a("el-form-item",{attrs:{label:"集群共享并发数:",prop:"serviceDefaultConcurrent"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.serviceDefaultConcurrent*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.serviceDefaultConcurrent,callback:function(t){e.$set(e.formData,"serviceDefaultConcurrent",t)},expression:"formData.serviceDefaultConcurrent"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),a("el-form-item",{attrs:{label:"集群共享QPS:",prop:"serviceDefaultQps"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.serviceDefaultQps*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.serviceDefaultQps,callback:function(t){e.$set(e.formData,"serviceDefaultQps",t)},expression:"formData.serviceDefaultQps"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)])],1):e._e(),a("el-form-item",{attrs:{label:"appid默认配置:",prop:"appIdDefaultEnabled"}},[a("el-checkbox",{model:{value:e.formData.appIdDefaultEnabled,callback:function(t){e.$set(e.formData,"appIdDefaultEnabled",t)},expression:"formData.appIdDefaultEnabled"}},[e._v("启用")])],1),e.formData.appIdDefaultEnabled?a("div",{staticStyle:{"padding-left":"115px"}},[a("el-form-item",{attrs:{label:"集群共享并发数:",prop:"appIdDefaultConcurrent"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.appIdDefaultConcurrent*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.appIdDefaultConcurrent,callback:function(t){e.$set(e.formData,"appIdDefaultConcurrent",t)},expression:"formData.appIdDefaultConcurrent"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),a("el-form-item",{attrs:{label:"集群共享QPS:",prop:"appIdDefaultQps"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.formData.appIdDefaultQps*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticClass:"number-input",attrs:{clearable:""},model:{value:e.formData.appIdDefaultQps,callback:function(t){e.$set(e.formData,"appIdDefaultQps",t)},expression:"formData.appIdDefaultQps"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)])],1):e._e(),a("el-form-item",{attrs:{label:"限流响应ContentType:",prop:"responseContentType"}},[a("el-input",{attrs:{placeholder:"请输入ContentType",clearable:""},model:{value:e.formData.responseContentType,callback:function(t){e.$set(e.formData,"responseContentType",t)},expression:"formData.responseContentType"}})],1),a("el-form-item",{attrs:{label:"限流响应报文：",prop:"responseContent"}},[a("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入响应报文",clearable:""},model:{value:e.formData.responseContent,callback:function(t){e.$set(e.formData,"responseContent",t)},expression:"formData.responseContent"}})],1)],1),e.editing?a("footer",[a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),a("el-button",{attrs:{size:"small"},on:{click:e.cancelForm}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("6be7"),s=a("5880"),l=a("16cd");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"flow-default",data:function(){return{editing:!1,loading:!1,formData:{},data:{},rules:{globalConcurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],globalQps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],serviceDefaultConcurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],serviceDefaultQps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],appIdDefaultConcurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],appIdDefaultQps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}]}}},computed:u(u({},Object(s["mapGetters"])(["permission"])),{},{machineCount:function(){return this.formData.machineCount||0}}),watch:{},created:function(){this.initData()},methods:{getGlobalRule:function(){var e=this;Object(o["a"])().then((function(t){var a=t.data.data;e.data=a||{},e.formData=Object.assign({},a)}))},cancelForm:function(){this.formData=Object.assign({},this.data),this.editing=!1},submitForm:function(){var e=this;this.$refs.formData.validate((function(t){if(t){if(e.formData.globalEnabled&&!e.formData.globalConcurrent&&!e.formData.globalQps)return e.$message.error("全局配置启用时, 需要设置单机QPS或单机并发数"),!1;if(e.formData.serviceDefaultEnabled&&!e.formData.serviceDefaultConcurrent&&!e.formData.serviceDefaultQps)return e.$message.error("服务默认配置启用时, 需要设置单机QPS或单机并发数"),!1;if(e.formData.appIdDefaultEnabled&&!e.formData.appIdDefaultConcurrent&&!e.formData.appIdDefaultQps)return e.$message.error("appID默认配置启用时, 需要设置单机QPS或单机并发数"),!1;var a=Object(l["b"])(e.formData);e.loading=!0,Object(o["b"])(a).then((function(){e.$message({type:"success",message:"保存成功"}),e.initData(),e.loading=!1,e.editing=!1})).catch((function(){e.loading=!1}))}}))},initData:function(){this.getGlobalRule()}}},p=d,h=(a("f72d"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,"eeaacc02",null);t["default"]=f.exports},9850:function(e,t,a){var n=a("401b"),i=a("1687"),r=n.applyTransform,o=Math.min,s=Math.max;function l(e,t,a,n){a<0&&(e+=a,a=-a),n<0&&(t+=n,n=-n),this.x=e,this.y=t,this.width=a,this.height=n}l.prototype={constructor:l,union:function(e){var t=o(e.x,this.x),a=o(e.y,this.y);this.width=s(e.x+e.width,this.x+this.width)-t,this.height=s(e.y+e.height,this.y+this.height)-a,this.x=t,this.y=a},applyTransform:function(){var e=[],t=[],a=[],n=[];return function(i){if(i){e[0]=a[0]=this.x,e[1]=n[1]=this.y,t[0]=n[0]=this.x+this.width,t[1]=a[1]=this.y+this.height,r(e,e,i),r(t,t,i),r(a,a,i),r(n,n,i),this.x=o(e[0],t[0],a[0],n[0]),this.y=o(e[1],t[1],a[1],n[1]);var l=s(e[0],t[0],a[0],n[0]),c=s(e[1],t[1],a[1],n[1]);this.width=l-this.x,this.height=c-this.y}}}(),calculateTransform:function(e){var t=this,a=e.width/t.width,n=e.height/t.height,r=i.create();return i.translate(r,r,[-t.x,-t.y]),i.scale(r,r,[a,n]),i.translate(r,r,[e.x,e.y]),r},intersect:function(e){if(!e)return!1;e instanceof l||(e=l.create(e));var t=this,a=t.x,n=t.x+t.width,i=t.y,r=t.y+t.height,o=e.x,s=e.x+e.width,c=e.y,u=e.y+e.height;return!(n<o||s<a||r<c||u<i)},contain:function(e,t){var a=this;return e>=a.x&&e<=a.x+a.width&&t>=a.y&&t<=a.y+a.height},clone:function(){return new l(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},l.create=function(e){return new l(e.x,e.y,e.width,e.height)};var c=l;e.exports=c},"98b7":function(e,t){var a="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)};e.exports=a},"98f3":function(e,t,a){},9934:function(e,t,a){var n=a("6fcd"),i=a("41c3"),r=a("30c9");function o(e){return r(e)?n(e,!0):i(e)}e.exports=o},"998c":function(e,t,a){var n=a("6d8b"),i=a("2306"),r=a("e86a"),o=Math.PI;function s(e,t){t=t||{},n.defaults(t,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var a=new i.Group,s=new i.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});a.add(s);var l=t.fontSize+" sans-serif",c=new i.Rect({style:{fill:"none",text:t.text,font:l,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(a.add(c),t.showSpinner){var u=new i.Arc({shape:{startAngle:-o/2,endAngle:-o/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});u.animateShape(!0).when(1e3,{endAngle:3*o/2}).start("circularInOut"),u.animateShape(!0).when(1e3,{startAngle:3*o/2}).delay(300).start("circularInOut"),a.add(u)}return a.resize=function(){var a=r.getWidth(t.text,l),n=t.showSpinner?t.spinnerRadius:0,i=(e.getWidth()-2*n-(t.showSpinner&&a?10:0)-a)/2-(t.showSpinner?0:a/2),o=e.getHeight()/2;t.showSpinner&&u.setShape({cx:i,cy:o}),c.setShape({x:i-n,y:o-n,width:2*n,height:2*n}),s.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},a.resize(),a}e.exports=s},"99cd":function(e,t){function a(e){return function(t,a,n){var i=-1,r=Object(t),o=n(t),s=o.length;while(s--){var l=o[e?s:++i];if(!1===a(r[l],l,r))break}return t}}e.exports=a},"99d3":function(e,t,a){(function(e){var n=a("585a"),i=t&&!t.nodeType&&t,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===i,s=o&&n.process,l=function(){try{var e=r&&r.require&&r.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=l}).call(this,a("62e4")(e))},"9a2a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"添加路由",direction:"rtl","modal-append-to-body":!1,"append-to-body":!0,size:"900px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.search,"label-width":"90px",size:"small",inline:""}},[a("el-form-item",{attrs:{label:"网关分组"}},[a("el-select",{attrs:{placeholder:"网关分组",filterable:"",clearable:""},model:{value:e.search.gatewayGroup,callback:function(t){e.$set(e.search,"gatewayGroup",t)},expression:"search.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"前端服务名"}},[a("el-input",{attrs:{placeholder:"前端服务名"},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}})],1),a("el-form-item",{attrs:{label:"前端API路径"}},[a("el-input",{attrs:{placeholder:"前端API路径"},model:{value:e.search.path,callback:function(t){e.$set(e.search,"path",t)},expression:"search.path"}})],1),a("el-form-item",{attrs:{label:"请求方法"}},[a("el-select",{attrs:{placeholder:"请求方法",multiple:"",clearable:"","collapse-tags":""},model:{value:e.search.method,callback:function(t){e.$set(e.search,"method",t)},expression:"search.method"}},e._l(e.apiMethod,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"访问"}},[a("el-select",{attrs:{placeholder:"访问",clearable:""},model:{value:e.search.access,callback:function(t){e.$set(e.search,"access",t)},expression:"search.access"}},e._l(e.accessType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"search-btns"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.doSearch}},[e._v("搜 索")]),a("el-button",{attrs:{icon:"el-icon-delete",size:"small"},on:{click:e.clearSearch}},[e._v("清 空")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",size:"small",border:"",data:e.data},on:{"selection-change":e.handleSelectionChange,"current-change":e.selectRow}},[e.multiple?a("el-table-column",{attrs:{type:"selection",width:"55"}}):a("el-table-column",{attrs:{label:"",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row},model:{value:e.currentRow,callback:function(t){e.currentRow=t},expression:"currentRow"}},[a("i")])]}}])}),a("el-table-column",{attrs:{type:"index",width:"50",label:"#"}}),a("el-table-column",{attrs:{property:"gatewayGroup",label:"网关分组",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n         "+e._s(e.renderGatewayGroup(a.gatewayGroup))+"\n        ")]}}])}),a("el-table-column",{attrs:{property:"proxyMode",label:"路由类型",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n         "+e._s(e._f("proxyModeFilter")(a.proxyMode))+"\n        ")]}}])}),a("el-table-column",{attrs:{property:"isDedicatedLine",label:"是否专线路由",width:"94"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n         "+e._s(1===a.isDedicatedLine?"是":"否")+"\n        ")]}}])}),a("el-table-column",{attrs:{property:"service",label:"前端服务名"}}),a("el-table-column",{attrs:{property:"path",label:"前端API路径"}}),a("el-table-column",{attrs:{property:"method",label:"请求方法",width:"80"}}),a("el-table-column",{attrs:{property:"access",label:"访问",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:"a"===n.access?"success":"danger",size:"small"}},[e._v(e._s(e._f("accessFilter")(n.access)))])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,20,30,40,50,100],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleDrawerConfirm()}}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("386d"),a("ade3")),o=a("5880"),s=a("27fc"),l=a("3bfd"),c=a("c54a");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={props:{visible:{type:Boolean,default:!1},app:{type:String,default:""},multiple:{type:Boolean,default:!1}},data:function(){return{search:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},data:[],accessType:s["a"],currentRow:null,multipleSelection:[]}},computed:d(d({},Object(o["mapGetters"])(["apiMethod","groupOptions"])),{},{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}}}),filters:{proxyModeFilter:function(e){var t=s["e"].filter((function(t){return t.value===e}));return t.length>0?t[0].label:""},accessFilter:function(e){var t=s["a"].filter((function(t){return t.value===e}));return t.length>0?t[0].label:""}},methods:d(d({},Object(o["mapActions"])(["getGroupOptions","getPluginOptions"])),{},{onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,a.method&&Object(c["b"])(a.method)&&(a.method_in=a.method.join(",")||"",delete a.method),Object(l["k"])(e.currentPage,e.pageSize,Object.assign(a,this.query,{noAppCondition:this.app,isDedicatedLine:1})).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.page.currentPage>a.pages&&(t.page.currentPage=a.pages),t.loading=!1}))},renderGatewayGroup:function(e){var t="";if(this.groupOptions&&this.groupOptions.length>0){var a=this.groupOptions.filter((function(t){return t.value===e}));t=a.length>0?a[0].label+"("+a[0].value+")":""}return t},selectRow:function(e){this.multiple||(this.currentRow=e)},handleSelectionChange:function(e){this.multiple&&(this.multipleSelection=e)},handleSizeChange:function(e){this.page.pageSize=e,this.page.currentPage=1,this.onLoad(this.page,this.search)},handleCurrentChange:function(e){this.page.currentPage=e,this.onLoad(this.page,this.search)},handleDrawerConfirm:function(){!this.multiple&&!this.currentRow||this.multiple&&0===this.multipleSelection.length?this.$message.warning("请选择数据！"):(this.$emit("emitData",this.multiple?this.multipleSelection:this.currentRow),this.dialogVisible=!1)},doSearch:function(){this.page.currentPage=1,this.page.pageSize=20,this.onLoad(this.page,this.search)},clearSearch:function(){this.search={},this.page.currentPage=1,this.page.pageSize=20,this.onLoad(this.page,this.search)}}),mounted:function(){this.onLoad(this.page)},created:function(){this.getPluginOptions(),this.getGroupOptions()}},h=p,f=(a("163d9"),a("76ed"),a("2877")),g=Object(f["a"])(h,n,i,!1,null,"71e8f00b",null);t["default"]=g.exports},"9a39":function(e,t,a){},"9aa2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"aggregate-operation-log"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"opTimeSearch",fn:function(t){var n=t.size;return[a("datetime-range",{attrs:{defaultValue:e.search.opTime,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",size:n,defaultTime:["00:00:00","00:00:00"]},on:{"update:defaultValue":function(t){return e.$set(e.search,"opTime",t)},"update:default-value":function(t){return e.$set(e.search,"opTime",t)},change:function(t){return e.search.opTime=t}}})]}},{key:"opType",fn:function(t){var a=t.row;t.size;return[e._v("\n      "+e._s(e.getOperateStateName(a.opType))+"\n    ")]}},{key:"menu",fn:function(t){var n=t.row,i=t.type,r=t.size;return[a("el-button",{attrs:{icon:"el-icon-view",size:r,type:i},on:{click:function(t){return e.rowView(n)}}},[e._v("查看\n      ")])]}}])})],1)},i=[],r=(a("7514"),a("8e7d")),o=a("9653"),s=[{label:"新增",value:0},{label:"修改",value:1},{label:"发布",value:2},{label:"下线",value:3},{label:"回滚",value:4},{label:"删除",value:5}],l={name:"operation-log",components:{datetimeRange:r["default"]},data:function(){return{search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{menuWidth:80,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"所属服务",prop:"serviceName",search:!0},{label:"接口名",prop:"name",search:!0},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120,search:!0},{label:"操作人",prop:"opBy"},{label:"类型",prop:"opType",slot:!0,width:80,search:!0,type:"select",dicData:s},{label:"操作时间",prop:"opTime",searchRange:!0,search:!0,searchslot:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"版本号",prop:"version",width:80}]},data:[]}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{getOperateStateName:function(e){var t=s.find((function(t){return parseInt(t.value)===e}));return t&&t.label||e||"-"},rowView:function(e){e.id?this.$router.push({path:"/aggregate/logDetail",query:{originId:e.id}}):this.$message.error("数据缺失，无法操作！")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.opTime&&e.opTime.length>0&&(e.opTimeStart=e.opTime[0]||"",e.opTimeEnd=e.opTime[1]||"",delete e.opTime),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},c=l,u=a("2877"),d=Object(u["a"])(c,n,i,!1,null,"40d054d6",null);t["default"]=d.exports},"9af1":function(e,t,a){"use strict";a("6940")},"9aff":function(e,t,a){var n=a("9638"),i=a("30c9"),r=a("c098"),o=a("1a8c");function s(e,t,a){if(!o(a))return!1;var s=typeof t;return!!("number"==s?i(a)&&r(t,a.length):"string"==s&&t in a)&&n(a[t],e)}e.exports=s},"9b51":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"api-header"},[e.groupName?a("el-tag",[e._v("网关分组[ "+e._s(e.groupName)+" ]")]):e._e(),e._v(" \n  "),e.serviceName?a("el-tag",[e._v("服务[ "+e._s(e.serviceName)+" ]")]):e._e(),e._v(" \n  "),a("b",[e._v(e._s(e.pageName))])],1)},i=[],r=(a("7f7f"),{name:"index",props:{serviceName:{type:String,default:""},groupName:{type:String,default:""},pageName:{type:String,default:function(){return this.$route.name||""}}}}),o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,"7c207ce7",null);t["default"]=l.exports},"9b73":function(e,t,a){},"9b9b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"affix"},[a("avue-affix",{attrs:{id:"avue-view"}},[a("span",{staticClass:"affix-affix"},[e._v("固定在最顶部")])]),a("div",{staticClass:"affix-line"}),a("avue-affix",{attrs:{id:"avue-view","offset-top":50}},[a("span",{staticClass:"affix-affix"},[e._v("固定在距离顶部 50px 的位置")])]),a("div",{staticClass:"affix-line"}),a("avue-affix",{attrs:{id:"avue-view","offset-top":100}},[a("span",{staticClass:"affix-affix"},[e._v("固定在距离顶部 100px 的位置")])]),a("div",{staticClass:"affix-line"}),a("avue-affix",{attrs:{id:"avue-view","offset-top":150}},[a("span",{staticClass:"affix-affix"},[e._v("固定在距离顶部 150px 的位置")])]),e._m(0)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"2000px"}},[a("div",{staticStyle:{padding:"15px 20px","font-size":"18px"}},[e._v("往下拉就会出现图钉")])])}],r={},o=r,s=(a("c12c"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"71109a1e",null);t["default"]=l.exports},"9bdb":function(e,t,a){var n=a("282b"),i=n([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),r={getAreaStyle:function(e,t){return i(this,e,t)}};e.exports=r},"9c2c":function(e,t,a){var n=a("401b"),i=n.min,r=n.max,o=n.scale,s=n.distance,l=n.add,c=n.clone,u=n.sub;function d(e,t,a,n){var d,p,h,f,g=[],m=[],b=[],v=[];if(n){h=[1/0,1/0],f=[-1/0,-1/0];for(var y=0,w=e.length;y<w;y++)i(h,h,e[y]),r(f,f,e[y]);i(h,h,n[0]),r(f,f,n[1])}for(y=0,w=e.length;y<w;y++){var _=e[y];if(a)d=e[y?y-1:w-1],p=e[(y+1)%w];else{if(0===y||y===w-1){g.push(c(e[y]));continue}d=e[y-1],p=e[y+1]}u(m,p,d),o(m,m,t);var x=s(_,d),O=s(_,p),D=x+O;0!==D&&(x/=D,O/=D),o(b,m,-x),o(v,m,O);var C=l([],_,b),k=l([],_,v);n&&(r(C,C,h),i(C,C,f),r(k,k,h),i(k,k,f)),g.push(C),g.push(k)}return a&&g.push(g.shift()),g}e.exports=d},"9cf3":function(e,t,a){},"9cf9":function(e,t){var a=Math.round;function n(e,t,n){if(t){var i=t.x1,o=t.x2,s=t.y1,l=t.y2;e.x1=i,e.x2=o,e.y1=s,e.y2=l;var c=n&&n.lineWidth;c&&(a(2*i)===a(2*o)&&(e.x1=e.x2=r(i,c,!0)),a(2*s)===a(2*l)&&(e.y1=e.y2=r(s,c,!0)))}}function i(e,t,a){if(t){var n=t.x,i=t.y,o=t.width,s=t.height;e.x=n,e.y=i,e.width=o,e.height=s;var l=a&&a.lineWidth;l&&(e.x=r(n,l,!0),e.y=r(i,l,!0),e.width=Math.max(r(n+o,l,!1)-e.x,0===o?0:1),e.height=Math.max(r(i+s,l,!1)-e.y,0===s?0:1))}}function r(e,t,n){if(!t)return e;var i=a(2*e);return(i+a(t))%2===0?i/2:(i+(n?1:-1))/2}t.subPixelOptimizeLine=n,t.subPixelOptimizeRect=i,t.subPixelOptimize=r},"9d57":function(e,t,a){var n=a("6d8b"),i=a("3842"),r=i.parsePercent,o=a("ee1a"),s=o.isDimensionStacked,l=a("cccd"),c="__ec_stack_",u=.5,d="undefined"!==typeof Float32Array?Float32Array:Array;function p(e){return e.get("stack")||c+e.seriesIndex}function h(e){return e.dim+e.index}function f(e){var t=[],a=e.axis,i="axis0";if("category"===a.type){for(var r=a.getBandWidth(),o=0;o<e.count;o++)t.push(n.defaults({bandWidth:r,axisKey:i,stackId:c+o},e));var s=v(t),l=[];for(o=0;o<e.count;o++){var u=s[i][c+o];u.offsetCenter=u.offset+u.width/2,l.push(u)}return l}}function g(e,t){var a=[];return t.eachSeriesByType(e,(function(e){x(e)&&!O(e)&&a.push(e)})),a}function m(e){var t={};n.each(e,(function(e){var a=e.coordinateSystem,n=a.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=e.getData(),r=n.dim+"_"+n.index,o=i.mapDimension(n.dim),s=0,l=i.count();s<l;++s){var c=i.get(o,s);t[r]?t[r].push(c):t[r]=[c]}}));var a=[];for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r){r.sort((function(e,t){return e-t}));for(var o=null,s=1;s<r.length;++s){var l=r[s]-r[s-1];l>0&&(o=null===o?l:Math.min(o,l))}a[i]=o}}return a}function b(e){var t=m(e),a=[];return n.each(e,(function(e){var n,i=e.coordinateSystem,o=i.getBaseAxis(),s=o.getExtent();if("category"===o.type)n=o.getBandWidth();else if("value"===o.type||"time"===o.type){var l=o.dim+"_"+o.index,c=t[l],u=Math.abs(s[1]-s[0]),d=o.scale.getExtent(),f=Math.abs(d[1]-d[0]);n=c?u/f*c:u}else{var g=e.getData();n=Math.abs(s[1]-s[0])/g.count()}var m=r(e.get("barWidth"),n),b=r(e.get("barMaxWidth"),n),v=r(e.get("barMinWidth")||1,n),y=e.get("barGap"),w=e.get("barCategoryGap");a.push({bandWidth:n,barWidth:m,barMaxWidth:b,barMinWidth:v,barGap:y,barCategoryGap:w,axisKey:h(o),stackId:p(e)})})),v(a)}function v(e){var t={};n.each(e,(function(e,a){var n=e.axisKey,i=e.bandWidth,r=t[n]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=r.stacks;t[n]=r;var s=e.stackId;o[s]||r.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var l=e.barWidth;l&&!o[s].width&&(o[s].width=l,l=Math.min(r.remainedWidth,l),r.remainedWidth-=l);var c=e.barMaxWidth;c&&(o[s].maxWidth=c);var u=e.barMinWidth;u&&(o[s].minWidth=u);var d=e.barGap;null!=d&&(r.gap=d);var p=e.barCategoryGap;null!=p&&(r.categoryGap=p)}));var a={};return n.each(t,(function(e,t){a[t]={};var i=e.stacks,o=e.bandWidth,s=r(e.categoryGap,o),l=r(e.gap,1),c=e.remainedWidth,u=e.autoWidthCount,d=(c-s)/(u+(u-1)*l);d=Math.max(d,0),n.each(i,(function(e){var t=e.maxWidth,a=e.minWidth;if(e.width){n=e.width;t&&(n=Math.min(n,t)),a&&(n=Math.max(n,a)),e.width=n,c-=n+l*n,u--}else{var n=d;t&&t<n&&(n=Math.min(t,c)),a&&a>n&&(n=a),n!==d&&(e.width=n,c-=n+l*n,u--)}})),d=(c-s)/(u+(u-1)*l),d=Math.max(d,0);var p,h=0;n.each(i,(function(e,t){e.width||(e.width=d),p=e,h+=e.width*(1+l)})),p&&(h-=p.width*l);var f=-h/2;n.each(i,(function(e,n){a[t][n]=a[t][n]||{bandWidth:o,offset:f,width:e.width},f+=e.width*(1+l)}))})),a}function y(e,t,a){if(e&&t){var n=e[h(t)];return null!=n&&null!=a&&(n=n[p(a)]),n}}function w(e,t){var a=g(e,t),i=b(a),r={},o={};n.each(a,(function(e){var t=e.getData(),a=e.coordinateSystem,n=a.getBaseAxis(),l=p(e),c=i[h(n)][l],u=c.offset,d=c.width,f=a.getOtherAxis(n),g=e.get("barMinHeight")||0;r[l]=r[l]||[],o[l]=o[l]||[],t.setLayout({bandWidth:c.bandWidth,offset:u,size:d});for(var m=t.mapDimension(f.dim),b=t.mapDimension(n.dim),v=s(t,m),y=f.isHorizontal(),w=D(n,f,v),_=0,x=t.count();_<x;_++){var O,C,k,S,j=t.get(m,_),P=t.get(b,_),T=j>=0?"p":"n",I=w;if(v&&(r[l][P]||(r[l][P]={p:w,n:w}),I=r[l][P][T]),y){var L=a.dataToPoint([j,P]);O=I,C=L[1]+u,k=L[0]-w,S=d,Math.abs(k)<g&&(k=(k<0?-1:1)*g),isNaN(k)||v&&(r[l][P][T]+=k)}else{L=a.dataToPoint([P,j]);O=L[0]+u,C=I,k=d,S=L[1]-w,Math.abs(S)<g&&(S=(S<=0?-1:1)*g),isNaN(S)||v&&(r[l][P][T]+=S)}t.setItemLayout(_,{x:O,y:C,width:k,height:S})}}),this)}var _={seriesType:"bar",plan:l(),reset:function(e){if(x(e)&&O(e)){var t=e.getData(),a=e.coordinateSystem,n=a.grid.getRect(),i=a.getBaseAxis(),r=a.getOtherAxis(i),o=t.mapDimension(r.dim),s=t.mapDimension(i.dim),l=r.isHorizontal(),c=l?0:1,p=y(b([e]),i,e).width;return p>u||(p=u),{progress:h}}function h(e,t){var u,h=e.count,f=new d(2*h),g=new d(2*h),m=new d(h),b=[],v=[],y=0,w=0;while(null!=(u=e.next()))v[c]=t.get(o,u),v[1-c]=t.get(s,u),b=a.dataToPoint(v,null,b),g[y]=l?n.x+n.width:b[0],f[y++]=b[0],g[y]=l?b[1]:n.y+n.height,f[y++]=b[1],m[w++]=u;t.setLayout({largePoints:f,largeDataIndices:m,largeBackgroundPoints:g,barWidth:p,valueAxisStart:D(i,r,!1),backgroundStart:l?n.x:n.y,valueAxisHorizontal:l})}}};function x(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function O(e){return e.pipelineContext&&e.pipelineContext.large}function D(e,t,a){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}t.getLayoutOnAxis=f,t.prepareLayoutBarSeries=g,t.makeColumnLayout=b,t.retrieveColumnLayout=y,t.layout=w,t.largeLayout=_},"9d9e":function(e,t,a){},"9e2e":function(e,t,a){var n=a("a73c"),i=a("9850"),r=a("82eb"),o=r.WILL_BE_RESTORED,s=new i,l=function(){};l.prototype={constructor:l,drawRectText:function(e,t){var a=this.style;t=a.textRect||t,this.__dirty&&n.normalizeTextStyle(a,!0);var i=a.text;if(null!=i&&(i+=""),n.needDrawText(i,a)){e.save();var r=this.transform;a.transformText?this.setTransform(e):r&&(s.copy(t),s.applyTransform(r),t=s),n.renderText(this,e,i,a,t,o),e.restore()}}};var c=l;e.exports=c},"9e47":function(e,t,a){var n=a("6d8b"),i=a("71ad"),r=a("6cb7"),o=a("f934"),s=o.getLayoutParams,l=o.mergeLayoutParam,c=a("8e43"),u=["value","category","time","log"];function d(e,t,a,o){n.each(u,(function(r){t.extend({type:e+"Axis."+r,mergeDefaultAndTheme:function(t,i){var o=this.layoutMode,c=o?s(t):{},u=i.getTheme();n.merge(t,u.get(r+"Axis")),n.merge(t,this.getDefaultOption()),t.type=a(e,t),o&&l(t,c,o)},optionUpdated:function(){var e=this.option;"category"===e.type&&(this.__ordinalMeta=c.createByAxisModel(this))},getCategories:function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:n.mergeAll([{},i[r+"Axis"],o],!0)})})),r.registerSubTypeDefaulter(e+"Axis",n.curry(a,e))}e.exports=d},"9eb6":function(e,t,a){},"9f51":function(e,t,a){var n=a("857d"),i=n.normalizeRadian,r=2*Math.PI;function o(e,t,a,n,o,s,l,c,u){if(0===l)return!1;var d=l;c-=e,u-=t;var p=Math.sqrt(c*c+u*u);if(p-d>a||p+d<a)return!1;if(Math.abs(n-o)%r<1e-4)return!0;if(s){var h=n;n=i(o),o=i(h)}else n=i(n),o=i(o);n>o&&(o+=r);var f=Math.atan2(u,c);return f<0&&(f+=r),f>=n&&f<=o||f+r>=n&&f+r<=o}t.containStroke=o},"9f82":function(e,t,a){var n=a("ee1a"),i=n.isDimensionStacked,r=a("6d8b"),o=r.map;function s(e,t,a){var n,r=e.getBaseAxis(),s=e.getOtherAxis(r),c=l(s,a),u=r.dim,d=s.dim,p=t.mapDimension(d),h=t.mapDimension(u),f="x"===d||"radius"===d?1:0,g=o(e.dimensions,(function(e){return t.mapDimension(e)})),m=t.getCalculationInfo("stackResultDimension");return(n|=i(t,g[0]))&&(g[0]=m),(n|=i(t,g[1]))&&(g[1]=m),{dataDimsForPoint:g,valueStart:c,valueAxisDim:d,baseAxisDim:u,stacked:!!n,valueDim:p,baseDim:h,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function l(e,t){var a=0,n=e.scale.getExtent();return"start"===t?a=n[0]:"end"===t?a=n[1]:n[0]>0?a=n[0]:n[1]<0&&(a=n[1]),a}function c(e,t,a,n){var i=NaN;e.stacked&&(i=a.get(a.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=e.valueStart);var r=e.baseDataOffset,o=[];return o[r]=a.get(e.baseDim,n),o[1-r]=i,t.dataToPoint(o)}t.prepareDataCoordInfo=s,t.getStackedOnPoint=c},a029:function(e,t,a){var n=a("087d"),i=a("2dcb"),r=a("32f4"),o=a("d327"),s=Object.getOwnPropertySymbols,l=s?function(e){var t=[];while(e)n(t,r(e)),e=i(e);return t}:o;e.exports=l},a0ad:function(e,t,a){"use strict";a("9145")},a15a:function(e,t,a){var n=a("6d8b"),i=a("2306"),r=a("9850"),o=a("e86a"),s=o.calculateTextPosition,l=i.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var a=t.cx,n=t.cy,i=t.width/2,r=t.height/2;e.moveTo(a,n-r),e.lineTo(a+i,n+r),e.lineTo(a-i,n+r),e.closePath()}}),c=i.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var a=t.cx,n=t.cy,i=t.width/2,r=t.height/2;e.moveTo(a,n-r),e.lineTo(a+i,n),e.lineTo(a,n+r),e.lineTo(a-i,n),e.closePath()}}),u=i.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var a=t.x,n=t.y,i=t.width/5*3,r=Math.max(i,t.height),o=i/2,s=o*o/(r-o),l=n-r+o+s,c=Math.asin(s/o),u=Math.cos(c)*o,d=Math.sin(c),p=Math.cos(c),h=.6*o,f=.7*o;e.moveTo(a-u,l+s),e.arc(a,l,o,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(a+u-d*h,l+s+p*h,a,n-f,a,n),e.bezierCurveTo(a,n-f,a-u+d*h,l+s+p*h,a-u,l+s),e.closePath()}}),d=i.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var a=t.height,n=t.width,i=t.x,r=t.y,o=n/3*2;e.moveTo(i,r),e.lineTo(i+o,r+a),e.lineTo(i,r+a/4*3),e.lineTo(i-o,r+a),e.lineTo(i,r),e.closePath()}}),p={line:i.Line,rect:i.Rect,roundRect:i.Rect,square:i.Rect,circle:i.Circle,diamond:c,pin:u,arrow:d,triangle:l},h={line:function(e,t,a,n,i){i.x1=e,i.y1=t+n/2,i.x2=e+a,i.y2=t+n/2},rect:function(e,t,a,n,i){i.x=e,i.y=t,i.width=a,i.height=n},roundRect:function(e,t,a,n,i){i.x=e,i.y=t,i.width=a,i.height=n,i.r=Math.min(a,n)/4},square:function(e,t,a,n,i){var r=Math.min(a,n);i.x=e,i.y=t,i.width=r,i.height=r},circle:function(e,t,a,n,i){i.cx=e+a/2,i.cy=t+n/2,i.r=Math.min(a,n)/2},diamond:function(e,t,a,n,i){i.cx=e+a/2,i.cy=t+n/2,i.width=a,i.height=n},pin:function(e,t,a,n,i){i.x=e+a/2,i.y=t+n/2,i.width=a,i.height=n},arrow:function(e,t,a,n,i){i.x=e+a/2,i.y=t+n/2,i.width=a,i.height=n},triangle:function(e,t,a,n,i){i.cx=e+a/2,i.cy=t+n/2,i.width=a,i.height=n}},f={};n.each(p,(function(e,t){f[t]=new e}));var g=i.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,a){var n=s(e,t,a),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===t.textPosition&&(n.y=a.y+.4*a.height),n},buildPath:function(e,t,a){var n=t.symbolType;if("none"!==n){var i=f[n];i||(n="rect",i=f[n]),h[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,a)}}});function m(e,t){if("image"!==this.type){var a=this.style,n=this.shape;n&&"line"===n.symbolType?a.stroke=e:this.__isEmptyBrush?(a.stroke=e,a.fill=t||"#fff"):(a.fill&&(a.fill=e),a.stroke&&(a.stroke=e)),this.dirty(!1)}}function b(e,t,a,n,o,s,l){var c,u=0===e.indexOf("empty");return u&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),c=0===e.indexOf("image://")?i.makeImage(e.slice(8),new r(t,a,n,o),l?"center":"cover"):0===e.indexOf("path://")?i.makePath(e.slice(7),{},new r(t,a,n,o),l?"center":"cover"):new g({shape:{symbolType:e,x:t,y:a,width:n,height:o}}),c.__isEmptyBrush=u,c.setColor=m,c.setColor(s),c}t.createSymbol=b},a2db:function(e,t,a){var n=a("9e69"),i=n?n.prototype:void 0,r=i?i.valueOf:void 0;function o(e){return r?Object(r.call(e)):{}}e.exports=o},a2ea:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/env-info/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/env-info/save"),method:"post",data:e})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/env-info/update"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/env-info/remove"),method:"post",params:{ids:e}})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/open-doc/env-info/detail/").concat(e),method:"get"})}},a2f9:function(e,t,a){"use strict";a("7c76")},a454:function(e,t,a){var n=a("72f0"),i=a("3b4a"),r=a("cd9d"),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:r;e.exports=o},a4a9:function(e,t,a){"use strict";a("e00e")},a50b:function(e,t,a){"use strict";a("e17c")},a524:function(e,t,a){var n=a("4245");function i(e){return n(this,e).has(e)}e.exports=i},a597:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("h3",[e._v(e._s(e.$route.query.id?"编辑":"新增"))]),a("avue-form",{attrs:{option:e.option},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuForm"},[a("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(t){return e.handleBack()}}},[e._v("返 回")])],1)],2)],1)},i=[],r={data:function(){return{form:{},option:{labelWidth:110,column:[{label:"姓名",prop:"name"}]}}},methods:{handleBack:function(){this.$router.$avueRouter.closeTag(),this.$router.back()}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},a5fa:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-page"},[a("div",{staticClass:"img",staticStyle:{"background-image":"url('/img/bg/404.svg')"}}),a("div",{staticClass:"content"},[a("h1",[e._v("404")]),a("div",{staticClass:"desc"},[e._v("抱歉，你访问的页面不存在")]),a("div",{staticClass:"actions"},[a("router-link",{attrs:{to:{path:"/"}}},[a("el-button",{attrs:{type:"primary"}},[e._v("返回首页")])],1)],1)])])},i=[],r={name:"error-404"},o=r,s=(a("dc15"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"5e9f17e3",null);t["default"]=l.exports},a73c:function(e,t,a){var n=a("6d8b"),i=n.retrieve2,r=n.retrieve3,o=n.each,s=n.normalizeCssArray,l=n.isString,c=n.isObject,u=a("e86a"),d=a("5693"),p=a("5e76"),h=a("7d6d"),f=a("82eb"),g=f.ContextCachedBy,m=f.WILL_BE_RESTORED,b=u.DEFAULT_FONT,v={left:1,right:1,center:1},y={top:1,bottom:1,middle:1},w=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],_={},x={};function O(e){return D(e),o(e.rich,D),e}function D(e){if(e){e.font=u.makeFont(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||v[t]?t:"left";var a=e.textVerticalAlign||e.textBaseline;"center"===a&&(a="middle"),e.textVerticalAlign=null==a||y[a]?a:"top";var n=e.textPadding;n&&(e.textPadding=s(e.textPadding))}}function C(e,t,a,n,i,r){n.rich?S(e,t,a,n,i,r):k(e,t,a,n,i,r)}function k(e,t,a,n,i,r){"use strict";var o,s=I(n),l=!1,c=t.__attrCachedBy===g.PLAIN_TEXT;r!==m?(r&&(o=r.style,l=!s&&c&&o),t.__attrCachedBy=s?g.NONE:g.PLAIN_TEXT):c&&(t.__attrCachedBy=g.NONE);var d=n.font||b;l&&d===(o.font||b)||(t.font=d);var p=e.__computedFont;e.__styleFont!==d&&(e.__styleFont=d,p=e.__computedFont=t.font);var f=n.textPadding,v=n.textLineHeight,y=e.__textCotentBlock;y&&!e.__dirtyText||(y=e.__textCotentBlock=u.parsePlainText(a,p,f,v,n.truncate));var _=y.outerHeight,O=y.lines,D=y.lineHeight,C=$(x,e,n,i),k=C.baseX,S=C.baseY,j=C.textAlign||"left",T=C.textVerticalAlign;P(t,n,i,k,S);var z=u.adjustTextY(S,_,T),M=k,R=z;if(s||f){var B=u.getWidth(a,p),F=B;f&&(F+=f[1]+f[3]);var N=u.adjustTextX(k,F,j);s&&L(e,t,n,N,z,F,_),f&&(M=q(k,j,f),R+=f[0])}t.textAlign=j,t.textBaseline="middle",t.globalAlpha=n.opacity||1;for(var V=0;V<w.length;V++){var H=w[V],U=H[0],W=H[1],G=n[U];l&&G===o[U]||(t[W]=h(t,W,G||H[2]))}R+=D/2;var J=n.textStrokeWidth,X=l?o.textStrokeWidth:null,Y=!l||J!==X,K=!l||Y||n.textStroke!==o.textStroke,Q=E(n.textStroke,J),Z=A(n.textFill);if(Q&&(Y&&(t.lineWidth=J),K&&(t.strokeStyle=Q)),Z&&(l&&n.textFill===o.textFill||(t.fillStyle=Z)),1===O.length)Q&&t.strokeText(O[0],M,R),Z&&t.fillText(O[0],M,R);else for(V=0;V<O.length;V++)Q&&t.strokeText(O[V],M,R),Z&&t.fillText(O[V],M,R),R+=D}function S(e,t,a,n,i,r){r!==m&&(t.__attrCachedBy=g.NONE);var o=e.__textCotentBlock;o&&!e.__dirtyText||(o=e.__textCotentBlock=u.parseRichText(a,n)),j(e,t,o,n,i)}function j(e,t,a,n,i){var r=a.width,o=a.outerWidth,s=a.outerHeight,l=n.textPadding,c=$(x,e,n,i),d=c.baseX,p=c.baseY,h=c.textAlign,f=c.textVerticalAlign;P(t,n,i,d,p);var g=u.adjustTextX(d,o,h),m=u.adjustTextY(p,s,f),b=g,v=m;l&&(b+=l[3],v+=l[0]);var y=b+r;I(n)&&L(e,t,n,g,m,o,s);for(var w=0;w<a.lines.length;w++){var _,O=a.lines[w],D=O.tokens,C=D.length,k=O.lineHeight,S=O.width,j=0,z=b,M=y,E=C-1;while(j<C&&(_=D[j],!_.textAlign||"left"===_.textAlign))T(e,t,_,n,k,v,z,"left"),S-=_.width,z+=_.width,j++;while(E>=0&&(_=D[E],"right"===_.textAlign))T(e,t,_,n,k,v,M,"right"),S-=_.width,M-=_.width,E--;z+=(r-(z-b)-(y-M)-S)/2;while(j<=E)_=D[j],T(e,t,_,n,k,v,z+_.width/2,"center"),z+=_.width,j++;v+=k}}function P(e,t,a,n,i){if(a&&t.textRotation){var r=t.textOrigin;"center"===r?(n=a.width/2+a.x,i=a.height/2+a.y):r&&(n=r[0]+a.x,i=r[1]+a.y),e.translate(n,i),e.rotate(-t.textRotation),e.translate(-n,-i)}}function T(e,t,a,n,o,s,l,c){var u=n.rich[a.styleName]||{};u.text=a.text;var d=a.textVerticalAlign,p=s+o/2;"top"===d?p=s+a.height/2:"bottom"===d&&(p=s+o-a.height/2),!a.isLineHolder&&I(u)&&L(e,t,u,"right"===c?l-a.width:"center"===c?l-a.width/2:l,p-a.height/2,a.width,a.height);var h=a.textPadding;h&&(l=q(l,c,h),p-=a.height/2-h[2]-a.textHeight/2),M(t,"shadowBlur",r(u.textShadowBlur,n.textShadowBlur,0)),M(t,"shadowColor",u.textShadowColor||n.textShadowColor||"transparent"),M(t,"shadowOffsetX",r(u.textShadowOffsetX,n.textShadowOffsetX,0)),M(t,"shadowOffsetY",r(u.textShadowOffsetY,n.textShadowOffsetY,0)),M(t,"textAlign",c),M(t,"textBaseline","middle"),M(t,"font",a.font||b);var f=E(u.textStroke||n.textStroke,m),g=A(u.textFill||n.textFill),m=i(u.textStrokeWidth,n.textStrokeWidth);f&&(M(t,"lineWidth",m),M(t,"strokeStyle",f),t.strokeText(a.text,l,p)),g&&(M(t,"fillStyle",g),t.fillText(a.text,l,p))}function I(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function L(e,t,a,n,i,r,o){var s=a.textBackgroundColor,u=a.textBorderWidth,h=a.textBorderColor,f=l(s);if(M(t,"shadowBlur",a.textBoxShadowBlur||0),M(t,"shadowColor",a.textBoxShadowColor||"transparent"),M(t,"shadowOffsetX",a.textBoxShadowOffsetX||0),M(t,"shadowOffsetY",a.textBoxShadowOffsetY||0),f||u&&h){t.beginPath();var g=a.textBorderRadius;g?d.buildPath(t,{x:n,y:i,width:r,height:o,r:g}):t.rect(n,i,r,o),t.closePath()}if(f)if(M(t,"fillStyle",s),null!=a.fillOpacity){var m=t.globalAlpha;t.globalAlpha=a.fillOpacity*a.opacity,t.fill(),t.globalAlpha=m}else t.fill();else if(c(s)){var b=s.image;b=p.createOrUpdateImage(b,null,e,z,s),b&&p.isImageReady(b)&&t.drawImage(b,n,i,r,o)}if(u&&h)if(M(t,"lineWidth",u),M(t,"strokeStyle",h),null!=a.strokeOpacity){m=t.globalAlpha;t.globalAlpha=a.strokeOpacity*a.opacity,t.stroke(),t.globalAlpha=m}else t.stroke()}function z(e,t){t.image=e}function $(e,t,a,n){var i=a.x||0,r=a.y||0,o=a.textAlign,s=a.textVerticalAlign;if(n){var l=a.textPosition;if(l instanceof Array)i=n.x+R(l[0],n.width),r=n.y+R(l[1],n.height);else{var c=t&&t.calculateTextPosition?t.calculateTextPosition(_,a,n):u.calculateTextPosition(_,a,n);i=c.x,r=c.y,o=o||c.textAlign,s=s||c.textVerticalAlign}var d=a.textOffset;d&&(i+=d[0],r+=d[1])}return e=e||{},e.baseX=i,e.baseY=r,e.textAlign=o,e.textVerticalAlign=s,e}function M(e,t,a){return e[t]=h(e,t,a),e[t]}function E(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function A(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function R(e,t){return"string"===typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function q(e,t,a){return"right"===t?e-a[1]:"center"===t?e+a[3]/2-a[1]/2:e+a[3]}function B(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}t.normalizeTextStyle=O,t.renderText=C,t.getBoxPosition=$,t.getStroke=E,t.getFill=A,t.parsePercent=R,t.needDrawText=B},a746:function(e,t,a){"use strict";a("9cf3")},a8d0d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-page"},[a("div",{staticClass:"img",staticStyle:{"background-image":"url('/img/bg/403.svg')"}}),a("div",{staticClass:"content"},[a("h1",[e._v("403")]),a("div",{staticClass:"desc"},[e._v("抱歉，你无权访问该页面")]),a("div",{staticClass:"actions"},[a("router-link",{attrs:{to:{path:"/"}}},[a("el-button",{attrs:{type:"primary"}},[e._v("返回首页")])],1)],1)])])},i=[],r={name:"error-403"},o=r,s=(a("6580"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"2be0fc08",null);t["default"]=l.exports},a8eb:function(e,t,a){"use strict";a("227d")},a919:function(e,t,a){var n=a("ddc6"),i={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},r=n(i);e.exports=r},a945:function(e,t,a){},a94a:function(e,t,a){},a96b:function(e,t,a){var n=a("3eba"),i=n.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});e.exports=i},a994:function(e,t,a){var n=a("7d1f"),i=a("32f4"),r=a("ec69");function o(e){return n(e,r,i)}e.exports=o},a9ec:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{disabled:e.disabled,model:e.form,rules:e.rules,size:"small","label-width":"150px"}},[a("el-form-item",{attrs:{label:"服务名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入 服务名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("div",{staticClass:"key-tips"},[e._v("服务名称用于文档集展示时文档列表显示，如： 会员接口文档")])],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"版本",prop:"version"}},[a("el-input",{attrs:{placeholder:"请输入 版本"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}}),a("div",{staticClass:"key-tips"},[e._v("当版本变更后旧版本会生成历史记录，建议格式为 vX.Y.Z , 如： v1.0.0")])],1),a("el-form-item",{attrs:{label:"认证信息",prop:"authInfoId"}},[a("pagination-select",{attrs:{value:e.form.authInfoId,dataList:e.authInfo.data,pageInfo:e.authInfo.pageInfo,labelKey:e.authInfo.labelKey,valueKey:e.authInfo.valueKey,showPagination:!1,placeholder:"请选择 认证信息"},on:{"update:value":function(t){return e.$set(e.form,"authInfoId",t)},selectPageChange:e.authPageChange}})],1),a("el-form-item",{staticClass:"env-row",attrs:{label:"环境信息",prop:"envInfoIds"}},[a("div",{staticClass:"env-select"},[a("pagination-select",{attrs:{value:e.form.envInfoIds,dataList:e.envInfo.data,pageInfo:e.envInfo.pageInfo,labelKey:e.envInfo.labelKey,valueKey:e.envInfo.valueKey,showPagination:!1,placeholder:"请选择 环境信息",multiple:""},on:{"update:value":function(t){return e.$set(e.form,"envInfoIds",t)},selectPageChange:e.envPageChange}})],1),a("el-button",{staticClass:"add-env-btn",attrs:{type:"primary",size:"small"},on:{click:e.addEnv}},[e._v("新增环境")])],1),a("el-form-item",{attrs:{label:"文档来源",prop:"sourceType"}},[a("el-radio-group",{attrs:{placeholder:"请选择 文档来源"},on:{change:e.changeSource},model:{value:e.form.sourceType,callback:function(t){e.$set(e.form,"sourceType",t)},expression:"form.sourceType"}},[a("el-radio",{attrs:{label:1}},[e._v("服务")]),a("el-radio",{attrs:{label:2}},[e._v("API")]),a("el-radio",{attrs:{label:3}},[e._v("LOCAL")])],1)],1),1===e.form.sourceType?a("div",{staticClass:"form-item-required service"},[a("el-form-item",{attrs:{label:"服务"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("el-form-item",{attrs:{label:"",prop:"registryName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择 注册中心",clearable:""},on:{change:e.changeRegister},model:{value:e.form.registryName,callback:function(t){e.$set(e.form,"registryName",t)},expression:"form.registryName"}},e._l(e.registerList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1)],1),a("div",{staticClass:"col"},[a("el-form-item",{attrs:{label:"",prop:"service"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择 服务名"},model:{value:e.form.service,callback:function(t){e.$set(e.form,"service",t)},expression:"form.service"}},e._l(e.serviceList,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),a("div",{staticClass:"col json-col"},[a("el-form-item",{attrs:{label:"",prop:"serviceApiDocPath"}},[a("el-input",{attrs:{placeholder:"服务文档请求路径"},model:{value:e.form.serviceApiDocPath,callback:function(t){e.$set(e.form,"serviceApiDocPath",t)},expression:"form.serviceApiDocPath"}}),a("div",{staticClass:"key-tips"},[e._v("后端 swagger 请求地址，如：/fizz-manager/v2/api-docs?group=授权模块")])],1)],1),a("span",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getDocByService}},[e._v("获 取")])],1)])])],1):e._e(),2===e.form.sourceType?a("div",{staticClass:"form-item-required api"},[a("el-form-item",{attrs:{label:"OpenAPI接口地址"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col api-col"},[a("el-form-item",{attrs:{label:"",prop:"apiDocUrl"}},[a("el-input",{attrs:{placeholder:"请输入 OpenAPI接口地址"},model:{value:e.form.apiDocUrl,callback:function(t){e.$set(e.form,"apiDocUrl",t)},expression:"form.apiDocUrl"}}),a("div",{staticClass:"key-tips"},[e._v("后端 swagger 的完整请求地址，如： http://172.0.0.1:6666/fizz-manager/v2/api-docs?group=授权模块")])],1)],1),a("span",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getDocByApi}},[e._v("获 取")])],1)])])],1):e._e(),3===e.form.sourceType?a("div",{staticClass:"form-item-required local"},[a("el-form-item",{attrs:{label:"OpenAPI-V2(JSON)"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col api-col"},[a("el-form-item",{attrs:{label:"",prop:"apiDocJson"}},[a("el-input",{attrs:{rows:4,type:"textarea"},model:{value:e.form.apiDocJson,callback:function(t){e.$set(e.form,"apiDocJson",t)},expression:"form.apiDocJson"}}),a("div",{staticClass:"key-tips"},[e._v(" swagger json 数据可复制到文本框进行解析 ")])],1)],1),a("span",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.loadInter}},[e._v("加 载")])],1)])])],1):e._e()],1),e.visible?a("addressDetail",{attrs:{type:"add",visible:e.visible},on:{doSearch:e.searchEnv,changeDrawer:function(t){e.visible=!1}}}):e._e()],1)},i=[],r=(a("ac6a"),a("684b")),o=a("7f9e"),s=a("3bfd"),l=a("a2ea"),c=a("1eab"),u=a("52f7"),d=a("307b"),p=a("c54a"),h=a("0a6a"),f={name:"document-base",components:{paginationSelect:r["default"],addressDetail:o["default"]},props:{disabled:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},data:function(){return{form:{envInfoIds:[],sourceType:1},rules:{name:[{required:!0,message:"必填",trigger:"blur"}],version:[{required:!0,message:"必填",trigger:"blur"}],envInfoIds:[{required:!0,message:"必填",trigger:"change"}],sourceType:[{required:!0,message:"必填",trigger:"change"}],registryName:[{required:!0,message:"必填",trigger:"change"}],service:[{required:!0,message:"必填",trigger:"change"}],serviceApiDocPath:[{required:!0,message:"必填",trigger:"change"}],apiDocUrl:[{required:!0,message:"必填"}],apiDocJson:[{required:!0,message:"必填"}]},envInfo:{data:[],pageInfo:{pageNo:1,pageSize:-1,total:0},labelKey:"env",valueKey:"id"},authInfo:{data:[],pageInfo:{pageNo:1,pageSize:-1,total:0},labelKey:"name",valueKey:"id"},serviceList:[],documentName:"",docJson:{},registerList:[],visible:!1}},watch:{data:{deep:!0,handler:function(){this.form=Object(d["a"])(this.data)}},"form.registryName":{deep:!0,immediate:!0,handler:function(){this.fetchDiscoveryServiceOptions(this.form.registryName)}}},methods:{getAddressList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(l["c"])(this.envInfo.pageInfo.pageNo,this.envInfo.pageInfo.pageSize,{env:t}).then((function(t){if(200===t.data.code){var a=t.data.data;e.envInfo.data=a.records,e.envInfo.pageInfo.total=a.total}else e.$message({type:"error",message:t.data.msg||"获取环境列表失败！！"})}))},getAuthList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(c["c"])(this.authInfo.pageInfo.pageNo,this.authInfo.pageInfo.pageSize,{name:t}).then((function(t){if(200===t.data.code){var a=t.data.data;e.authInfo.data=a.records,e.authInfo.pageInfo.total=a.total}else e.$message({type:"error",message:t.data.msg||"获取认证信息列表失败！！"})}))},fetchDiscoveryServiceOptions:function(e){var t=this;e?Object(s["d"])({registryName:e}).then((function(e){200===e.data.code?t.serviceList=e.data.data:t.$message({type:"error",message:e.data.msg||"获取服务列表失败！"})})):this.serviceList=[]},envPageChange:function(e,t,a){this.envInfo.pageInfo.pageNo=e,this.envInfo.pageInfo.pageSize=t,this.getAddressList(a)},authPageChange:function(e,t,a){this.authInfo.pageInfo.pageNo=e,this.authInfo.pageInfo.pageSize=t,this.getAuthList(a)},searchEnv:function(){this.envInfo.pageInfo.pageNo=1,this.getAddressList()},getDocByService:function(){var e=this;this.form.registryName&&this.form.service&&this.form.serviceApiDocPath?Object(u["d"])({service:this.form.service,serviceApiDocPath:this.form.serviceApiDocPath}).then((function(t){200===t.data.code?(e.docJson=JSON.parse(t.data.data.jsonStr),e.loadInter()):e.$message({type:"error",message:t.data.msg||"获取指定服务的api-docs响应 失败！"})})):this.$message({type:"warning",message:"请完善服务信息！"})},getDocByApi:function(){var e=this;this.form.apiDocUrl?Object(u["c"])({apiDocUrl:this.form.apiDocUrl}).then((function(t){200===t.data.code?(e.docJson=JSON.parse(t.data.data.jsonStr),e.loadInter()):e.$message({type:"error",message:t.data.msg||"获取指定API的api-docs响应 失败！"})})):this.$message({type:"warning",message:"请完善OpenAPI接口地址！"})},changeSource:function(){this.docJson={}},loadInter:function(){try{if(3===this.form.sourceType){var e="";if(this.form.apiDocJson||(e="OpenAPI-V2(JSON) 不能为空！"),Object(p["k"])(this.form.apiDocJson)||(e="OpenAPI-V2(JSON) 数据格式有问题！"),e)return void this.$message({showClose:!0,message:e,type:"warning"});this.docJson=JSON.parse(this.form.apiDocJson)}this.$emit("goInter",this.docJson)}catch(t){console.log(t)}},addEnv:function(){this.visible=!0},validate:function(){var e=this;return new Promise((function(t,a){e.$refs.form.validate((function(n){n?(e.emitData(),t()):a("请完善基本信息！")}))}))},getRegisterNameList:function(){var e=this;Object(h["d"])().then((function(t){if(200===t.data.code){var a=t.data.data;a.forEach((function(t){e.registerList.push({label:t,value:t})}))}}))},changeRegister:function(e){this.$set(this.form,"service",""),this.fetchDiscoveryServiceOptions(e)},emitData:function(){this.$emit("update:data",this.form)}},mounted:function(){this.getAddressList(),this.getAuthList(),this.getRegisterNameList()}},g=f,m=(a("27ec"),a("f130"),a("2877")),b=Object(m["a"])(g,n,i,!1,null,"313f4f38",null);t["default"]=b.exports},a9fd:function(e,t,a){"use strict";a("9b73")},aab0:function(e,t,a){"use strict";a("4301")},aab6:function(e,t,a){"use strict";a("13a3")},ab05:function(e,t,a){var n=a("3eba"),i=a("6d8b"),r=a("2b8c"),o=a("5f14"),s=n.PRIORITY.VISUAL.COMPONENT;function l(e,t,a,n){for(var i=t.targetVisuals[n],r=o.prepareVisualTypes(i),s={color:e.getData().getVisual("color")},l=0,c=r.length;l<c;l++){var u=r[l],d=i["opacity"===u?"__alphaForOpacity":u];d&&d.applyVisual(a,p,h)}return s.color;function p(e){return s[e]}function h(e,t){s[e]=t}}n.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var a=[];return t.eachComponent("visualMap",(function(t){var n=e.pipelineContext;!t.isTargetSeries(e)||n&&n.large||a.push(r.incrementalApplyVisual(t.stateList,t.targetVisuals,i.bind(t.getValueState,t),t.getDataDimension(e.getData())))})),a}}),n.registerVisual(s,{createOnAllSeries:!0,reset:function(e,t){var a=e.getData(),n=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var r=t.getVisualMeta(i.bind(l,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimension(a),s=a.getDimensionInfo(o);null!=s&&(r.dimension=s.index,n.push(r))}})),e.getData().setVisual("visualMeta",n)}})},ab5c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("basic-container",[e._v("测试页")])],1)},i=[],r={name:"wel",data:function(){return{}},computed:{},created:function(){},methods:{}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,"1f96fafa",null);t["default"]=l.exports},ac0f:function(e,t,a){var n=a("cbe5"),i=a("401b"),r=a("4a3f"),o=r.quadraticSubdivide,s=r.cubicSubdivide,l=r.quadraticAt,c=r.cubicAt,u=r.quadraticDerivativeAt,d=r.cubicDerivativeAt,p=[];function h(e,t,a){var n=e.cpx2,i=e.cpy2;return null===n||null===i?[(a?d:c)(e.x1,e.cpx1,e.cpx2,e.x2,t),(a?d:c)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(a?u:l)(e.x1,e.cpx1,e.x2,t),(a?u:l)(e.y1,e.cpy1,e.y2,t)]}var f=n.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var a=t.x1,n=t.y1,i=t.x2,r=t.y2,l=t.cpx1,c=t.cpy1,u=t.cpx2,d=t.cpy2,h=t.percent;0!==h&&(e.moveTo(a,n),null==u||null==d?(h<1&&(o(a,l,i,h,p),l=p[1],i=p[2],o(n,c,r,h,p),c=p[1],r=p[2]),e.quadraticCurveTo(l,c,i,r)):(h<1&&(s(a,l,u,i,h,p),l=p[1],u=p[2],i=p[3],s(n,c,d,r,h,p),c=p[1],d=p[2],r=p[3]),e.bezierCurveTo(l,c,u,d,i,r)))},pointAt:function(e){return h(this.shape,e,!1)},tangentAt:function(e){var t=h(this.shape,e,!0);return i.normalize(t,t)}});e.exports=f},acd4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.loginForm,"label-width":"0"}},[a("el-form-item",{attrs:{prop:"phone"}},[a("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.phone")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}},[a("i",{staticClass:"icon-shouji",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:e.$t("login.code")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[a("i",{staticClass:"icon-yanzhengma",staticStyle:{"margin-top":"6px"},attrs:{slot:"prefix"},slot:"prefix"}),a("template",{slot:"append"},[a("span",{staticClass:"msg-text",class:[{display:e.msgKey}],on:{click:e.handleSend}},[e._v(e._s(e.msgText))])])],2)],1),a("el-form-item",[a("el-button",{staticClass:"login-submit",attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v(e._s(e.$t("login.submit")))])],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("c54a"),s=a("5880");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={name:"codelogin",data:function(){var e=function(e,t,a){Object(o["f"])(t)[0]?a(new Error(Object(o["f"])(t)[1])):a()},t=function(e,t,a){4!==t.length?a(new Error("请输入4位数的验证码")):a()};return{msgText:"",msgTime:"",msgKey:!1,loginForm:{phone:"",code:""},loginRules:{phone:[{required:!0,trigger:"blur",validator:e}],code:[{required:!0,trigger:"blur",validator:t}]}}},created:function(){this.msgText=this.config.MSGINIT,this.msgTime=this.config.MSGTIME},mounted:function(){},computed:c(c({},Object(s["mapGetters"])(["tagWel"])),{},{config:function(){return{MSGINIT:this.$t("login.msgText"),MSGSCUCCESS:this.$t("login.msgSuccess"),MSGTIME:60}}}),props:[],methods:{handleSend:function(){var e=this;if(!this.msgKey){this.msgText=this.msgTime+this.config.MSGSCUCCESS,this.msgKey=!0;var t=setInterval((function(){e.msgTime--,e.msgText=e.msgTime+e.config.MSGSCUCCESS,0===e.msgTime&&(e.msgTime=e.config.MSGTIME,e.msgText=e.config.MSGINIT,e.msgKey=!1,clearInterval(t))}),1e3)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&e.$store.dispatch("LoginByPhone",e.loginForm).then((function(){e.$router.push({path:e.tagWel.value})}))}))}}},d=u,p=(a("685e"),a("2877")),h=Object(p["a"])(d,n,i,!1,null,null,null);t["default"]=h.exports},acef:function(e,t,a){"use strict";a("640f")},add5:function(e,t,a){"use strict";a("7964")},adff:function(e,t,a){"use strict";a("8056")},ae69:function(e,t,a){var n=a("cbe5"),i=n.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var a=.5522848,n=t.cx,i=t.cy,r=t.rx,o=t.ry,s=r*a,l=o*a;e.moveTo(n-r,i),e.bezierCurveTo(n-r,i-l,n-s,i-o,n,i-o),e.bezierCurveTo(n+s,i-o,n+r,i-l,n+r,i),e.bezierCurveTo(n+r,i+l,n+s,i+o,n,i+o),e.bezierCurveTo(n-s,i+o,n-r,i+l,n-r,i),e.closePath()}});e.exports=i},aedd:function(e,t,a){},af24:function(e,t,a){a("48c7"),a("f273")},af60:function(e,t,a){},af7b:function(e,t,a){"use strict";a("6385")},afa0:function(e,t,a){var n=a("6d8b"),i=a("22d1"),r=a("e1fc"),o=a("04f6");function s(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var l=function(){this._roots=[],this._displayList=[],this._displayListLen=0};l.prototype={constructor:l,traverse:function(e,t){for(var a=0;a<this._roots.length;a++)this._roots[a].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,a=this._displayList,n=0,r=t.length;n<r;n++)this._updateAndAddDisplayable(t[n],null,e);a.length=this._displayListLen,i.canvasSupported&&o(a,s)},_updateAndAddDisplayable:function(e,t,a){if(!e.ignore||a){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var n=e.clipPath;if(n){t=t?t.slice():[];var i=n,r=e;while(i)i.parent=r,i.updateTransform(),t.push(i),r=i,i=i.clipPath}if(e.isGroup){for(var o=e._children,s=0;s<o.length;s++){var l=o[s];e.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,t,a)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof r&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var a=this._roots[t];a instanceof r&&a.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array){t=0;for(var i=e.length;t<i;t++)this.delRoot(e[t])}else{var o=n.indexOf(this._roots,e);o>=0&&(this.delFromStorage(e),this._roots.splice(o,1),e instanceof r&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:s};var c=l;e.exports=c},b047:function(e,t){function a(e){return function(t){return e(t)}}e.exports=a},b084:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,"modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"800px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"small",disabled:e.disabled}},[a("el-form-item",{attrs:{label:"键(Key)",prop:"key"}},[a("el-input",{attrs:{placeholder:"请输入 键(Key)"},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}}),a("span",{staticClass:"key-tips"},[e._v("Key只能包含字母、数字、下划线或中横线")])],1),a("el-form-item",{attrs:{label:"数据类型",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择 数据类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.params_type,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("span",{staticClass:"key-tips"},[e._v("字典值的数据类型，支持boolean、number、string 和 json")])],1),a("el-form-item",{attrs:{label:"值(Value)",prop:"value"}},[a("el-input",{attrs:{placeholder:"请输入 值(Value)",type:"textarea",rows:5},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submitHandle}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)],1)},i=[],r=(a("6762"),a("2fdb"),a("dd69")),o=a("c597"),s=a("c54a"),l=a("16cd"),c={name:"dictDetail",props:{visible:{type:Boolean,default:!1},type:{type:String,default:""},id:{type:String}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}},title:function(){var e="";switch(this.type){case"add":e="新增 公共资源";break;case"edit":e="修改 公共资源";break;case"view":e="公共资源 详情";break}return e}},data:function(){return{loading:!1,disabled:!1,form:{},rules:{key:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[0-9a-zA-Z_-]{1,}$/,message:"Key只能包含字母、数字、下划线或中横线",trigger:"blur"}],type:[{required:!0,message:"必填",trigger:"change"}],value:[{required:!0,message:"必填",trigger:"blur"}]},params_type:r["a"]}},methods:{submitHandle:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.form.value=Object(l["a"])(e.form.value);var a="";switch(e.form.type){case 1:["true","false"].includes(e.form.value)||(a="值(Value) 应为 true 或 false！");break;case 3:Object(s["l"])(e.form.value)||(a="值(Value) 应为 数字！");break;case 4:Object(s["m"])(e.form.value)||(a="值(Value) 应为json格式！");break}if(a)return void e.$message({type:"warning",message:a});var n="add"===e.type?o["a"]:o["f"];e.loading=!0,n(e.form).then((function(t){200===t.data.code?(e.$message({type:"success",message:"保存成功！"}),e.dialogVisible=!1,e.$emit("doSearch")):e.$message({type:"error",message:t.data.msg||"保存失败！"})})).finally((function(){e.loading=!1}))}}))},getDetail:function(){var e=this;Object(o["b"])(this.id).then((function(t){200===t.data.code?e.form=t.data.data:e.$message({type:"error",message:t.data.msg||"获取详情 失败！"})}))}},mounted:function(){["edit","view"].includes(this.type)&&this.getDetail(),"view"===this.type&&(this.disabled=!0)}},u=c,d=(a("db94"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"ec384f7c",null);t["default"]=p.exports},b0af:function(e,t,a){var n=a("2306"),i=a("3842"),r=i.round;function o(e,t,a){var i=e.getArea(),r=e.getBaseAxis().isHorizontal(),o=i.x,s=i.y,l=i.width,c=i.height,u=a.get("lineStyle.width")||2;o-=u/2,s-=u/2,l+=u,c+=u,o=Math.floor(o),l=Math.round(l);var d=new n.Rect({shape:{x:o,y:s,width:l,height:c}});return t&&(d.shape[r?"width":"height"]=0,n.initProps(d,{shape:{width:l,height:c}},a)),d}function s(e,t,a){var i=e.getArea(),o=new n.Sector({shape:{cx:r(e.cx,1),cy:r(e.cy,1),r0:r(i.r0,1),r:r(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&(o.shape.endAngle=i.startAngle,n.initProps(o,{shape:{endAngle:i.endAngle}},a)),o}function l(e,t,a){return e?"polar"===e.type?s(e,t,a):"cartesian2d"===e.type?o(e,t,a):null:null}t.createGridClipPath=o,t.createPolarClipPath=s,t.createClipPath=l},b12f:function(e,t,a){var n=a("e1fc"),i=a("8918"),r=a("625e"),o=function(){this.group=new n,this.uid=i.getUID("viewComponent")};o.prototype={constructor:o,init:function(e,t){},render:function(e,t,a,n){},dispose:function(){},filterForExposedEvent:null};var s=o.prototype;s.updateView=s.updateLayout=s.updateVisual=function(e,t,a,n){},r.enableClassExtend(o),r.enableClassManagement(o,{registerWhenExtend:!0});var l=o;e.exports=l},b152:function(e,t,a){"use strict";a("9a39")},b1d4:function(e,t,a){var n=a("862d");function i(e,t){return t=t||{},n(t.coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})}e.exports=i},b20a:function(e,t,a){var n=a("6ac0"),i=a("4caa"),r=a("ea72"),o="['’]",s=RegExp(o,"g");function l(e){return function(t){return n(r(i(t).replace(s,"")),e,"")}}e.exports=l},b218:function(e,t){var a=9007199254740991;function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}e.exports=n},b30b:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"b",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/callback-config/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-config/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-config/save"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-config/update"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/callback-config/detail/").concat(e),method:"get"})}},b336:function(e,t,a){var n=a("6d8b"),i=n.each;function r(e){var t=e&&e.visualMap;n.isArray(t)||(t=t?[t]:[]),i(t,(function(e){if(e){o(e,"splitList")&&!o(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&n.isArray(t)&&i(t,(function(e){n.isObject(e)&&(o(e,"start")&&!o(e,"min")&&(e.min=e.start),o(e,"end")&&!o(e,"max")&&(e.max=e.end))}))}}))}function o(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}e.exports=r},b3b6:function(e,t,a){},b3f0:function(e,t,a){},b4c0:function(e,t,a){var n=a("cb5a");function i(e){var t=this.__data__,a=n(t,e);return a<0?void 0:t[a][1]}e.exports=i},b4ef:function(e,t,a){},b599:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{directives:[{name:"loading",rawName:"v-loading",value:e.isFirstLoading,expression:"isFirstLoading"}]},[a("div",{staticClass:"proxy-flow"},[a("el-form",{attrs:{inline:"true",size:"small"}},[a("el-form-item",{staticClass:"type-row",attrs:{label:"资源分类"}},[a("el-select",{on:{change:e.resourceTypeChange},model:{value:e.search.type,callback:function(t){e.$set(e.search,"type",t)},expression:"search.type"}},[a("el-option",{attrs:{label:"服务/接口",value:1}}),a("el-option",{attrs:{label:"appID",value:2}}),a("el-option",{attrs:{label:"来源IP",value:3}}),a("el-option",{attrs:{label:"HOST",value:4}})],1),a("span",{directives:[{name:"show",rawName:"v-show",value:2===e.search.type||3===e.search.type,expression:"search.type === 2 || search.type === 3"}],staticClass:"none-http tips sm-hidden"},[a("i",{staticClass:"el-icon-warning-outline"}),e._v("\n            当启用appid或来源IP限流时，才统计相关流量数据\n          ")])],1),2===e.search.type?[a("el-form-item",{attrs:{label:"应用名(appID)",required:""}},[a("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},on:{change:e.handleRule},model:{value:e.search.appId,callback:function(t){e.$set(e.search,"appId",t)},expression:"search.appId"}},e._l(e.appOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1)]:e._e(),3===e.search.type?[a("el-form-item",{attrs:{label:"来源IP",required:""}},[a("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},on:{change:e.handleRule},model:{value:e.search.sourceIp,callback:function(t){e.$set(e.search,"sourceIp",t)},expression:"search.sourceIp"}},e._l(e.sourceIpOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1)]:e._e(),1===e.search.type?[a("el-form-item",{attrs:{label:"前端服务名"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"全部",filterable:"",clearable:""},on:{change:e.handlePath},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)]:e._e(),4===e.search.type?[a("el-form-item",{attrs:{label:"HOST"}},[a("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},on:{change:e.handlePath},model:{value:e.search.host,callback:function(t){e.$set(e.search,"host",t)},expression:"search.host"}},e._l(e.hostCondition,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)]:e._e(),e.search.service?[a("el-form-item",{attrs:{label:"前端API路径"}},[a("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},model:{value:e.search.path,callback:function(t){e.$set(e.search,"path",t)},expression:"search.path"}},e._l(e.pathOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1)]:e._e(),e.search.appId||e.search.sourceIp?[a("el-form-item",{attrs:{label:"规则"}},[a("el-select",{attrs:{placeholder:"全部",filterable:"",clearable:""},model:{value:e.search.rule,callback:function(t){e.$set(e.search,"rule",t)},expression:"search.rule"}},e._l(e.ruleOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)]:e._e(),e.search.gatewayGroup?e._e():a("el-form-item",{attrs:{label:"服务器IP"}},[a("el-select",{attrs:{placeholder:"全部节点",disabled:!!e.search.gatewayGroup,clearable:""},model:{value:e.search.serverIp,callback:function(t){e.$set(e.search,"serverIp",t)},expression:"search.serverIp"}},e._l(e.hostOptions,(function(e){return a("el-option",{key:e.host,attrs:{label:e.host,value:e.host}})})),1)],1),e.search.serverIp?e._e():a("el-form-item",{attrs:{label:"网关分组"}},[a("el-select",{attrs:{disabled:!!e.search.serverIp,clearable:"","popper-class":"gatewayGroup-popper"},model:{value:e.search.gatewayGroup,callback:function(t){e.$set(e.search,"gatewayGroup",t)},expression:"search.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sm-hidden",attrs:{label:"时间范围"}},[a("datetime-range",{attrs:{defaultValue:e.search.datetimeRange,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",defaultTime:["00:00:00","23:59:59"]},on:{"update:defaultValue":function(t){return e.$set(e.search,"datetimeRange",t)},"update:default-value":function(t){return e.$set(e.search,"datetimeRange",t)},change:e.handleDateTimePicker}})],1),a("el-form-item",{staticClass:"sm-show",staticStyle:{display:"none"},attrs:{label:"时间间隔"}},[a("el-select",{attrs:{clearable:""},model:{value:e.search.lastIntervalType,callback:function(t){e.$set(e.search,"lastIntervalType",t)},expression:"search.lastIntervalType"}},e._l(e.dateShortcuts,(function(e){return a("el-option",{key:e.type,attrs:{label:e.label,value:e.type}})})),1)],1),a("el-form-item",{staticClass:"sm-hidden",attrs:{label:"时间间隔"}},[a("el-button-group",e._l(e.dateShortcuts,(function(t,n){return a("el-button",{key:n,attrs:{type:e.search.lastIntervalType===t.type?"primary":"default",plain:""},on:{click:function(a){return e.setFlowDateTime(t)}}},[e._v("\n            "+e._s(t.text)+"\n          ")])})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.handleFlowSearch()}}},[e._v("查 询")]),e.noneHttp&&!e.loading?a("span",{staticClass:"none-http"},[a("i",{staticClass:"el-icon-warning-outline"}),e._v("\n           暂无查询到任何请求！\n        ")]):e._e()],1)],2),a("el-row",{staticClass:"data-tag",attrs:{gutter:20,span:24}},e._l(e.flowTagOption.data,(function(t,n){return a("el-col",{key:n,attrs:{md:4,sm:8,xs:12}},[a("div",{staticClass:"tag-item",style:{color:t.color}},[t.showTooltip?a("el-tooltip",{attrs:{placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.count||0)+e._s(t.unit||""))]),a("div",{staticClass:"count el-tooltip"},[a("span",[e._v(e._s(t.count||0)+e._s(t.unit||""))])])]):a("div",{staticClass:"count"},[e._v(e._s(t.count||0)+e._s(t.unit||""))]),a("div",{staticClass:"title"},[e._v(e._s(t.title))])],1)])})),1),a("el-row",{staticClass:"chart-area",attrs:{span:24}},[a("el-col",{attrs:{sm:12,xs:24}},[a("div",{staticClass:"chart-item"},[a("echart-line",{ref:"respChart",attrs:{id:"respChart",title:e.respChart.title,xData:e.respChart.xData,seriesData:e.respChart.seriesData}})],1)]),a("el-col",{staticClass:"radio-col",attrs:{sm:12,xs:24}},[a("el-radio-group",{staticClass:"radio-btn",attrs:{size:"small"},on:{change:e.renderQPSChart},model:{value:e.qpsRadio,callback:function(t){e.qpsRadio=t},expression:"qpsRadio"}},[a("el-radio-button",{attrs:{label:"peakQps"}},[e._v("峰值QPS")]),a("el-radio-button",{attrs:{label:"average"}},[e._v("平均QPS")])],1),a("div",{staticClass:"chart-item"},[a("echart-line",{ref:"qpsChart",attrs:{id:"qpsChart",title:e.qpsChart.title,xData:e.qpsChart.xData,seriesData:e.qpsChart.seriesData}})],1)],1),a("el-col",{attrs:{sm:12,xs:24}},[a("div",{staticClass:"chart-item"},[a("echart-line",{ref:"concurrentChart",attrs:{id:"concurrentChart",title:e.concurrentChart.title,xData:e.concurrentChart.xData,seriesData:e.concurrentChart.seriesData}})],1)]),a("el-col",{staticClass:"radio-col",attrs:{sm:12,xs:24}},[a("el-radio-group",{staticClass:"radio-btn",attrs:{size:"small"},on:{change:e.renderTotalChart},model:{value:e.requestRadio,callback:function(t){e.requestRadio=t},expression:"requestRadio"}},[a("el-radio-button",{attrs:{label:"total"}},[e._v("通过数")]),a("el-radio-button",{attrs:{label:"totalBlock"}},[e._v("拒绝数")])],1),a("div",{staticClass:"chart-item"},[a("echart-line",{ref:"totalChart",attrs:{id:"totalChart",title:e.totalChart.title,xData:e.totalChart.xData,seriesData:e.totalChart.seriesData}})],1)],1)],1)],1)])},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("386d"),a("ade3")),o=a("ee6e"),s=a("e5ec"),l=a("84df"),c=a("0e0b"),u=a("5880"),d=a("c54a"),p=a("8e7d"),h=a("8517");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={name:"flow-data",data:function(){return{noneHttp:!1,qpsRadio:"peakQps",requestRadio:"total",loading:!1,isFirstLoading:!1,data:{},timer:null,search:{type:1,datetimeRange:[],lastIntervalType:1},submitData:{type:1,lastIntervalType:1},hostOptions:[],dateShortcuts:[{text:"Last 5m",label:"Last 5m",type:1,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-3e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"30m",label:"Last 30m",type:2,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-18e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"1h",label:"Last 1h",type:3,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-36e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"3h",label:"Last 3h",type:4,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-108e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"6h",label:"Last 6h",type:5,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-216e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"12h",label:"Last 12h",type:6,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-432e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"1d",label:"Last 1d",type:7,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-864e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"3d",label:"Last 3d",type:8,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"7d",label:"Last 7d",type:9,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"14d",label:"Last 14d",type:10,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-12096e5),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"30d",label:"Last 30d",type:11,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[Object(l["b"])(t),Object(l["b"])(e)]}},{text:"90d",label:"Last 90d",type:12,getDate:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[Object(l["b"])(t),Object(l["b"])(e)]}}],apiCondition:[],appCondition:[],ipCondition:[],hostCondition:[],respChart:{},qpsChart:{},concurrentChart:{},totalChart:{}}},components:{datetimeRange:p["default"],echartLine:h["default"]},computed:g(g({},Object(u["mapGetters"])(["appOptions","groupOptions","frontendServiceOptions"])),{},{sourceIpOptions:function(){var e=Object(c["f"])(this.ipCondition);return this.transferOptions(e)||[]},pathOptions:function(){if(!this.search.service)return[];var e=this.apiCondition[this.search.service]||[];return this.transferOptions(e)||[]},ruleOptions:function(){if(2===this.search.type&&this.search.appId){var e=this.appCondition[this.search.appId]||{};return this.transferOptions(e)||[]}if(3===this.search.type){var t=this.ipCondition[this.search.sourceIp]||{};return this.transferOptions(t)||[]}},flowRefreshTime:function(){return+this.data.refreshIntervalMillis||8e3},flowTagOption:function(){return{animation:!0,data:[{count:this.data.min||0,title:"最小响应时间",color:"#67C23A",unit:"ms"},{count:this.data.max||0,title:"最大响应时间",color:"#F56C6C",unit:"ms"},{count:this.data.avg||0,title:"平均响应时间",color:"#409EFF",unit:"ms"},{count:this.data.requestsPerSecond||0,title:"平均QPS",color:"#E6A23C",decimals:2},{count:this.data.block||0,title:"请求拒绝数",color:"#813c85",showTooltip:!0},{count:this.data.total||0,title:"总请求数",showTooltip:!0}]}}}),watch:{"submitData.lastIntervalType":{deep:!0,handler:function(){this.refreshFlow()}},flowRefreshTime:{immediate:!0,handler:function(e){e&&this.refreshFlow()}}},created:function(){this.getFlowData(),this.getAppOptions(),this.getHostOption(),this.getApiCondition(),this.getAppCondition(),this.getIpCondition(),this.fetchHostCondition(),this.getFrontendServiceOptions()},beforeDestroy:function(){clearInterval(this.timer)},methods:g(g({},Object(u["mapActions"])(["getAppOptions","getFrontendServiceOptions"])),{},{transferOptions:function(e){if(Object(d["b"])(e))return e.map((function(e){return{label:e,value:e}}));var t=[];return Object.keys(e).forEach((function(a){t.push({label:e[a],value:a})})),t},resourceTypeChange:function(){this.$set(this.search,"appId",""),this.$set(this.search,"sourceIp",""),this.$set(this.search,"service",""),this.$set(this.search,"path",""),this.$set(this.search,"rule","")},handleRule:function(){this.$set(this.search,"rule","")},handlePath:function(){this.$set(this.search,"path","")},refreshFlow:function(){var e=this;this.timer&&clearInterval(this.timer),this.submitData.lastIntervalType&&(this.timer=setInterval((function(){e.getFlowData()}),this.flowRefreshTime))},setFlowDateTime:function(e){this.search.lastIntervalType&&this.search.lastIntervalType===e.type?this.search.lastIntervalType="":(this.search.lastIntervalType=e.type,this.search.datetimeRange=[])},handleFlowSearch:function(){return this.search&&this.search.datetimeRange&&this.search.datetimeRange.length&&this.search.datetimeRange[0]&&this.search.datetimeRange[1]||this.search.lastIntervalType?2!==this.search.type||this.search.appId?3!==this.search.type||this.search.sourceIp?(this.submitData.startDate=this.search.datetimeRange&&this.search.datetimeRange[0]||"",this.submitData.endDate=this.search.datetimeRange&&this.search.datetimeRange[1]||"",this.submitData.lastIntervalType=this.search.lastIntervalType||"",this.submitData.service=this.search.service||"",this.submitData.serverIp=this.search.serverIp||"",this.submitData.gatewayGroup=this.search.gatewayGroup||"",this.submitData.type=this.search.type||1,this.submitData.appId=this.search.appId||"",this.submitData.sourceIp=this.search.sourceIp||"",this.submitData.path=this.search.path||"",this.submitData.rule=this.search.rule||"",this.submitData.host=this.search.host||"",void this.getFlowData(!0)):(this.$message.error("请选择[来源IP]字段"),!1):(this.$message.error("请选择[应用名(appID)]字段"),!1):(this.$message.error("查询请选择时间范围或者时间间隔"),!1)},handleDateTimePicker:function(e){this.search.datetimeRange=e,this.search.lastIntervalType=""},getHostOption:function(){var e=this;Object(s["c"])().then((function(t){var a=t.data.data;e.hostOptions=a||[]}))},getIpCondition:function(){var e=this;Object(o["g"])().then((function(t){e.ipCondition=t.data.data}))},getAppCondition:function(){var e=this;Object(o["b"])().then((function(t){e.appCondition=t.data.data}))},getApiCondition:function(){var e=this;Object(o["a"])().then((function(t){e.apiCondition=t.data.data}))},getFlowData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.loading=!0);var a=Object.assign({},this.submitData);Object(o["d"])(a).then((function(t){e.loading=!1,e.isFirstLoading=!1,e.data=t.data.data||{},e.noneHttp=0===e.data.total,e.renderRespChart(),e.renderQPSChart(),e.renderConcurrentChart(),e.renderTotalChart()})).catch((function(){e.loading=!1}))},renderTotalChart:function(){var e=this,t=this.data.statDatum||[],a=t.map((function(e){return e["statTime"]})),n=t.map((function(t){return"total"===e.requestRadio?t["total"]:t["totalBlock"]}));this.totalChart={title:"请求数",xData:a,seriesData:n},this.$nextTick((function(){e.$refs.totalChart.init()}))},renderConcurrentChart:function(){var e=this,t=this.data.statDatum||[],a=t.map((function(e){return e["statTime"]})),n=t.map((function(e){return e["concurrent"]}));this.concurrentChart={title:"并发数",xData:a,seriesData:n},this.$nextTick((function(){e.$refs.concurrentChart.init()}))},renderQPSChart:function(){var e=this,t=this.data.statDatum||[],a=t.map((function(e){return e["statTime"]})),n=t.map((function(t){return"peakQps"===e.qpsRadio?t["peakQps"]:t["qps"]}));this.qpsChart={title:"QPS",xData:a,seriesData:n},this.$nextTick((function(){e.$refs.qpsChart.init()}))},renderRespChart:function(){var e=this,t=this.data.statDatum||[],a=t.map((function(e){return e["statTime"]})),n=t.map((function(e){return e["responseTime"]}));this.respChart={title:"平均响应时间",xData:a,seriesData:n},this.$nextTick((function(){e.$refs.respChart.init()}))},fetchHostCondition:function(){var e=this;Object(o["e"])().then((function(t){e.hostCondition=t.data.data||[]}))}})},b=m,v=(a("343b"),a("933e"),a("2877")),y=Object(v["a"])(b,n,i,!1,null,"35ba853e",null);t["default"]=y.exports},b5a7:function(e,t,a){var n=a("0b07"),i=a("2b3e"),r=n(i,"DataView");e.exports=r},b5fd:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"service",fn:function(t){var n=t.row;return[e.permissionList.apiAuthority?a("span",{staticClass:"text-link",on:{click:function(t){return e.goApiList(n)}}},[e._v(e._s(n.service))]):a("span",[e._v(e._s(n.service))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),a("service-detail",{attrs:{visible:e.detailDialog.visible,type:e.detailDialog.type,id:e.detailDialog.id,callback:e.onLoad},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("ade3")),o=a("7b22"),s=a("5880"),l=a("b874");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,labelWidth:100,border:!0,index:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",menuWidth:180,column:[{label:"服务名",prop:"service",search:!0},{label:"描述",prop:"description",search:!0},{label:"服务类型",prop:"type",search:!0,type:"radio",dicData:[{label:"Dubbo",value:1},{label:"gRPC",value:2},{label:"HTTP",value:3}]},{label:"版本",prop:"version",search:!0},{label:"分组",prop:"group",search:!0},{label:"实例列表",prop:"instance",overHidden:!0},{label:"负载均衡",prop:"loadBalanceType",overHidden:!0,type:"radio",dicData:[{label:"轮询",value:1},{label:"随机",value:2}]}]},data:[],detailDialog:{visible:!1,type:"",id:null}}},computed:u(u({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.rpc_service_add,!1),editBtn:this.vaildData(this.permission.rpc_service_edit,!1),delBtn:this.vaildData(this.permission.rpc_service_delete,!1),apiAuthority:this.vaildData(this.permission.rpc_api_view,!1)}}}),components:{serviceDetail:l["default"]},methods:{goApiList:function(e){e.service&&this.$router.push({path:"/rpc/api",query:{service:e.service}})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.detailDialog.type=t,["edit","view"].includes(t)?this.detailDialog.id=this.form.id:this.detailDialog.id="",this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,e=e||this.page,Object(o["d"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},p=d,h=(a("adff"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports},b719:function(e,t,a){var n=a("697e7");t.zrender=n;var i=a("1687");t.matrix=i;var r=a("401b");t.vector=r;var o=a("6d8b"),s=a("41ef");t.color=s;var l=a("2306"),c=a("3842");t.number=c;var u=a("eda2");t.format=u;var d=a("88b3");d.throttle;t.throttle=d.throttle;var p=a("1548");t.helper=p;var h=a("bda7");t.parseGeoJSON=h;var f=a("6179");t.List=f;var g=a("4319");t.Model=g;var m=a("84ce");t.Axis=m;var b=a("22d1");t.env=b;var v=h,y={};o.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(e){y[e]=o[e]}));var w={};o.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],(function(e){w[e]=l[e]})),t.parseGeoJson=v,t.util=y,t.graphic=w},b74c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:11}},[a("basic-container",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("公共参数列表")])]),a("div",{staticClass:"clearfix"},[a("avue-crud",{ref:"crud",attrs:{option:e.optionParent,"table-loading":e.loading,data:e.dataParent,page:e.pageParent,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"row-click":e.handleRowClick,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoadParent},scopedSlots:e._u([{key:"isSealed",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:e.formParent,callback:function(t){e.formParent=t},expression:"formParent"}},[a("template",{slot:"menuLeft"},[e.permission.dict_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n              ")]):e._e()],1)],2)],1)])],1)],1),a("el-col",{attrs:{span:13}},[a("basic-container",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("["+e._s(e.dictValue)+"] 公共参数详情")])]),a("div",{staticClass:"clearfix"},[a("avue-crud",{ref:"crudChild",attrs:{option:e.optionChild,"table-loading":e.loadingChild,data:e.dataChild,page:e.pageChild,permission:e.permissionList,"before-open":e.beforeOpenChild},on:{"row-del":e.rowDelChild,"row-update":e.rowUpdateChild,"row-save":e.rowSaveChild,"search-change":e.searchChangeChild,"search-reset":e.searchResetChild,"selection-change":e.selectionChangeChild,"current-change":e.currentChangeChild,"size-change":e.sizeChangeChild,"refresh-change":e.refreshChangeChild,"on-load":e.onLoadChild},scopedSlots:e._u([{key:"isSealed",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:e.formChild,callback:function(t){e.formChild=t},expression:"formChild"}},[a("template",{slot:"menuLeft"},[e.permission.dict_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n              ")]):e._e()],1)],2)],1)])],1)],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("b5c6"),s=a("da71");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(e,t,a){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/parent-list"),method:"get",params:c(c({},a),{},{current:e,size:t})})},d=function(e,t,a,n){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/child-list"),method:"get",params:c(c({},n),{},{current:e,size:t,parentId:a})})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/remove"),method:"post",params:{ids:e}})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/submit"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/submit"),method:"post",data:e})},g=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/detail"),method:"get",params:{id:e}})},m=function(){return Object(o["a"])({url:"".concat(s["a"],"/blade-system/dict-biz/tree?code=DICT"),method:"get"})},b={tip:!1,searchShow:!0,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:150,dialogWidth:880,dialogClickModal:!1,menuPosition:"right",column:[{label:"字典编号",prop:"code",search:!0,searchSpan:12,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,searchSpan:12,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",align:"right",width:80,hide:!0,rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"switch",align:"center",width:80,dicData:[{label:"否",value:0},{label:"是",value:1}],value:0,slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",hide:!0}]},v={tip:!1,searchShow:!0,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,menuWidth:150,dialogWidth:880,dialogClickModal:!1,menuPosition:"right",column:[{label:"字典编号",prop:"code",addDisabled:!0,editDisabled:!0,search:!0,searchSpan:12,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,searchSpan:12,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"上级字典",prop:"parentId",type:"tree",dicData:[],hide:!0,props:{label:"title"},addDisabled:!0,editDisabled:!0,rules:[{required:!1,message:"请选择上级字典",trigger:"click"}]},{label:"字典键值",prop:"dictKey",width:80,rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",align:"right",width:80,rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"switch",align:"center",width:80,dicData:[{label:"否",value:0},{label:"是",value:1}],value:0,slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",hide:!0}]},y=a("5880");function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x={data:function(){return{dictValue:"暂无",parentId:-1,formParent:{},formChild:{},selectionList:[],query:{},loading:!0,loadingChild:!0,pageParent:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},pageChild:{pageSize:10,pageSizes:[10,30,50,100,200],currentPage:1,total:0},dataParent:[],dataChild:[],optionParent:b,optionChild:v}},computed:_(_({},Object(y["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dictbiz_add,!1),delBtn:this.vaildData(this.permission.dictbiz_delete,!1),editBtn:this.vaildData(this.permission.dictbiz_edit,!1),viewBtn:!1}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),mounted:function(){var e=this;m().then((function(t){var a=e.findObject(e.optionChild.column,"parentId");a.dicData=t.data.data}))},methods:{rowSave:function(e,t,a){var n=this,i=_(_({},e),{},{dictKey:-1});h(i).then((function(){n.onLoadParent(n.pageParent),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;f(e).then((function(){i.onLoadParent(i.pageParent),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoadParent(t.pageParent),t.$message({type:"success",message:"操作成功!"})}))},handleRowClick:function(e){this.parentId=e.id,this.dictValue=e.dictValue,this.$refs.crudChild.value.code=e.code,this.$refs.crudChild.value.parentId=e.id,this.$refs.crudChild.option.column.filter((function(t){"code"===t.prop&&(t.value=e.code),"parentId"===t.prop&&(t.value=e.id)})),this.onLoadChild(this.pageChild)},searchReset:function(){this.query={},this.onLoadParent(this.pageParent)},searchChange:function(e,t){this.query=e,this.pageParent.currentPage=1,this.onLoadParent(this.pageParent,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.ids)})).then((function(){e.onLoadParent(e.pageParent),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&g(this.formParent.id).then((function(e){a.formParent=e.data.data})),e()},currentChange:function(e){this.pageParent.currentPage=e},sizeChange:function(e){this.pageParent.pageSize=e},refreshChange:function(){this.onLoadParent(this.pageParent,this.query)},rowSaveChild:function(e,t,a){var n=this;h(e).then((function(){n.onLoadChild(n.pageChild),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdateChild:function(e,t,a,n){var i=this;f(e).then((function(){i.onLoadChild(i.pageChild),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDelChild:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoadChild(t.pageChild),t.$message({type:"success",message:"操作成功!"})}))},searchResetChild:function(){this.query={},this.onLoadChild(this.pageChild)},searchChangeChild:function(e,t){this.query=e,this.pageChild.currentPage=1,this.onLoadChild(this.pageChild,e),t()},selectionChangeChild:function(e){this.selectionList=e},selectionClearChild:function(){this.selectionList=[],this.$refs.crudChild.toggleSelection()},handleDeleteChild:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.ids)})).then((function(){e.onLoadChild(e.pageChild),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudChild.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenChild:function(e,t){var a=this;["edit","view"].includes(t)&&g(this.formChild.id).then((function(e){a.formChild=e.data.data})),e()},currentChangeChild:function(e){this.pageChild.currentPage=e},sizeChangeChild:function(e){this.pageChild.pageSize=e},refreshChangeChild:function(){this.onLoadChild(this.pageChild,this.query)},onLoadParent:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.pageParent.total=a.total,t.dataParent=a.records,t.loading=!1,t.selectionClear()}))},onLoadChild:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loadingChild=!0,d(e.currentPage,e.pageSize,this.parentId,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.pageChild.total=a.total,t.dataChild=a.records,t.loadingChild=!1,t.selectionClear()}))}}},O=x,D=a("2877"),C=Object(D["a"])(O,n,i,!1,null,null,null);t["default"]=C.exports},b760:function(e,t,a){var n=a("872a"),i=a("9638");function r(e,t,a){(void 0!==a&&!i(e[t],a)||void 0===a&&!(t in e))&&n(e,t,a)}e.exports=r},b76d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-alert",{attrs:{title:"当前网关在线实例列表，点击查看按钮查看指定实例网关本地缓存的已发布接口信息。",type:"warning",closable:!1}}),a("avue-crud",{ref:"crud",attrs:{data:e.data,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row,i=t.type,r=t.size;return[a("el-button",{attrs:{icon:"el-icon-view",size:r,type:i},on:{click:function(t){return e.goDetail(n)}}},[e._v("查看\n      ")])]}}])})],1)},i=[],r=(a("386d"),a("e5ec")),o={data:function(){return{query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{menuWidth:120,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"IP",prop:"host"},{label:"端口",prop:"port"}]},data:[]}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{goDetail:function(e){if(e.instanceId){var t="/gateway/config";this.$router.push({path:t,query:{originId:e.instanceId}})}else this.$message.error("数据缺失，无法操作！")},searchReset:function(){this.query={},this.search.apiFilterConfigId=[],this.search.method=[],this.onLoad(this.page)},searchChange:function(e,t){this.search.apiFilterConfigId_in=this.search.apiFilterConfigId.join(",")||"",this.search.method_in=this.search.method.join(",")||"",e=Object.assign(e,this.search),e.apiFilterConfigId_in=e.apiFilterConfigId.join(",")||"",e.method_in=e.method.join(",")||"",delete e.apiFilterConfigId,delete e.method,this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud&&this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(r["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a,t.loading=!1,t.selectionClear()}))}}},s=o,l=a("2877"),c=Object(l["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports},b809:function(e,t,a){var n=a("6d8b"),i=a("29a8"),r=a("2b17"),o=r.retrieveRawValue;function s(e,t){var a=t.getModel("aria");if(a.get("show"))if(a.get("description"))e.setAttribute("aria-label",a.get("description"));else{var r=0;t.eachSeries((function(e,t){++r}),this);var s,l=a.get("data.maxCount")||10,c=a.get("series.maxCount")||10,u=Math.min(r,c);if(!(r<1)){var d=m();s=d?f(g("general.withTitle"),{title:d}):g("general.withoutTitle");var p=[],h=r>1?"series.multiple.prefix":"series.single.prefix";s+=f(g(h),{seriesCount:r}),t.eachSeries((function(e,t){if(t<u){var a,n=e.get("name"),i="series."+(r>1?"multiple":"single")+".";a=g(n?i+"withName":i+"withoutName"),a=f(a,{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:b(e.subType)});var s=e.getData();window.data=s,s.count()>l?a+=f(g("data.partialData"),{displayCnt:l}):a+=g("data.allData");for(var c=[],d=0;d<s.count();d++)if(d<l){var h=s.getName(d),m=o(s,d);c.push(f(g(h?"data.withName":"data.withoutName"),{name:h,value:m}))}a+=c.join(g("data.separator.middle"))+g("data.separator.end"),p.push(a)}})),s+=p.join(g("series.multiple.separator.middle"))+g("series.multiple.separator.end"),e.setAttribute("aria-label",s)}}function f(e,t){if("string"!==typeof e)return e;var a=e;return n.each(t,(function(e,t){a=a.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),a}function g(e){var t=a.get(e);if(null==t){for(var n=e.split("."),r=i.aria,o=0;o<n.length;++o)r=r[n[o]];return r}return t}function m(){var e=t.getModel("title").option;return e&&e.length&&(e=e[0]),e&&e.text}function b(e){return i.series.typeNames[e]||"自定义图"}}e.exports=s},b8ff:function(e,t,a){"use strict";a("8f8b")},b978:function(e,t,a){"use strict";a("4bae")},b979:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:5}},[a("basic-container",[a("avue-tree",{attrs:{option:e.treeOption,data:e.treeData},on:{"node-click":e.nodeClick}})],1)],1),a("el-col",{attrs:{span:19}},[a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.data,search:e.search,permission:e.permissionList,"before-open":e.beforeOpen,page:e.page},on:{"update:search":function(t){e.search=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"tenantName",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(n.tenantName))])]}},{key:"roleName",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(n.roleName))])]}},{key:"deptName",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(n.deptName))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"menuLeft"},[e.permission.user_delete?a("el-button",{attrs:{type:"danger",size:"small",plain:"",icon:"el-icon-delete"},on:{click:e.handleDelete}},[e._v("删 除\n          ")]):e._e(),e.permission.user_role?a("el-button",{attrs:{type:"info",size:"small",plain:"",icon:"el-icon-user"},on:{click:e.handleGrant}},[e._v("角色配置\n          ")]):e._e(),e.permission.user_reset?a("el-button",{attrs:{size:"small",plain:"",icon:"el-icon-refresh"},on:{click:e.handleReset}},[e._v("密码重置\n          ")]):e._e(),e.userInfo.role_name.includes("admin")?a("el-button",{attrs:{type:"success",size:"small",plain:"",icon:"el-icon-upload2"},on:{click:e.handleImport}},[e._v("导入\n          ")]):e._e(),e.userInfo.role_name.includes("admin")?a("el-button",{attrs:{type:"warning",size:"small",plain:"",icon:"el-icon-download"},on:{click:e.handleExport}},[e._v("导出\n          ")]):e._e()],1)],2),a("el-dialog",{attrs:{title:"用户角色配置","append-to-body":"",visible:e.roleBox,width:"345px"},on:{"update:visible":function(t){e.roleBox=t}}},[a("el-tree",{ref:"treeRole",attrs:{data:e.roleGrantList,"show-checkbox":"","default-expand-all":"","node-key":"id","default-checked-keys":e.roleTreeObj,props:e.props}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.roleBox=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitRole}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"用户数据导入","append-to-body":"",visible:e.excelBox,width:"555px"},on:{"update:visible":function(t){e.excelBox=t}}},[a("avue-form",{attrs:{option:e.excelOption,"upload-after":e.uploadAfter},model:{value:e.excelForm,callback:function(t){e.excelForm=t},expression:"excelForm"}},[a("template",{slot:"excelTemplate"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleTemplate()}}},[e._v("\n              点击下载"),a("i",{staticClass:"el-icon-download el-icon--right"})])],1)],2)],1)],1)],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("386d"),a("28a5"),a("ac6a"),a("ade3")),o=a("c0c7"),s=a("fcb7"),l=a("3528"),c=a("74b1"),u=a("5880"),d=a("1ca4"),p=a("0a5a"),h=a("c54a"),f=a("da71");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={data:function(){var e=this,t=function(e,t,a){t?Object(h["g"])(t)?a():a(new Error("密码必须包含大小写字母、数字")):a(new Error("请输入密码"))},a=function(t,a,n){""===a?n(new Error("请再次输入密码")):a!==e.form.password?n(new Error("两次输入密码不一致!")):n()};return{search:{},form:{},roleBox:!1,excelBox:!1,selectionList:[],query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},init:{roleTree:[],deptTree:[]},props:{label:"title",value:"key"},roleGrantList:[],roleTreeObj:[],treeDeptId:"",treeData:[],treeOption:{nodeKey:"id",lazy:!0,treeLoad:function(e,t){var a=0===e.level?0:e.data.id;Object(s["c"])(a).then((function(e){t(e.data.data.map((function(e){return m(m({},e),{},{leaf:!e.hasChildren})})))}))},addBtn:!1,menu:!1,size:"small",props:{labelText:"标题",label:"title",value:"value",children:"children"}},option:{height:"auto",calcHeight:120,tip:!1,searchShow:!0,searchMenuSpan:6,border:!0,index:!0,selection:!0,viewBtn:!0,dialogType:"drawer",dialogClickModal:!1,menuWidth:200,column:[{label:"登录账号",prop:"account",search:!0,display:!1},{label:"用户姓名",prop:"realName",search:!0,display:!1},{label:"所属角色",prop:"roleName",slot:!0,display:!1,overHidden:!0},{label:"所属部门",prop:"deptName",slot:!0,display:!1,overHidden:!0}],group:[{label:"基础信息",prop:"baseInfo",icon:"el-icon-user-solid",column:[{label:"登录账号",prop:"account",rules:[{required:!0,message:"请输入登录账号",trigger:"blur"}],span:d["a"].tenantMode?12:24},{label:"所属租户",prop:"tenantId",type:"tree",dicUrl:"".concat(f["a"],"/blade-system/tenant/select"),props:{label:"tenantName",value:"tenantId"},hide:!d["a"].tenantMode,addDisplay:d["a"].tenantMode,editDisplay:d["a"].tenantMode,viewDisplay:d["a"].tenantMode,search:d["a"].tenantMode,rules:[{required:!0,message:"请输入所属租户",trigger:"click"}]},{label:"密码",prop:"password",hide:!0,editDisplay:!1,viewDisplay:!1,rules:[{required:!0,message:"密码不能为空",trigger:"blur"},{validator:t,trigger:"blur"},{min:6,message:"密码长度至少6个字符",trigger:"blur"}]},{label:"确认密码",prop:"password2",hide:!0,editDisplay:!1,viewDisplay:!1,rules:[{required:!0,validator:a,trigger:"blur"}]}]},{label:"详细信息",prop:"detailInfo",icon:"el-icon-s-order",column:[{label:"用户昵称",prop:"name",hide:!0,rules:[{required:!0,message:"请输入用户昵称",trigger:"blur"}]},{label:"用户姓名",prop:"realName",rules:[{required:!0,message:"请输入用户姓名",trigger:"blur"},{min:2,max:5,message:"姓名长度在2到5个字符"}]},{label:"手机号码",prop:"phone",overHidden:!0},{label:"电子邮箱",prop:"email",hide:!0,overHidden:!0},{label:"用户性别",prop:"sex",type:"select",dicData:[{label:"男",value:1},{label:"女",value:2},{label:"未知",value:3}],hide:!0},{label:"用户生日",type:"date",prop:"birthday",format:"yyyy-MM-dd hh:mm:ss",valueFormat:"yyyy-MM-dd hh:mm:ss",hide:!0},{label:"账号状态",prop:"statusName",hide:!0,display:!1}]},{label:"职责信息",prop:"dutyInfo",icon:"el-icon-s-custom",column:[{label:"用户编号",prop:"code"},{label:"所属角色",prop:"roleId",multiple:!0,type:"tree",dicData:[],props:{label:"title"},checkStrictly:!0,slot:!0,rules:[{required:!0,message:"请选择所属角色",trigger:"click"}]},{label:"所属部门",prop:"deptId",type:"tree",multiple:!0,dicData:[],props:{label:"title"},checkStrictly:!0,slot:!0,rules:[{required:!0,message:"请选择所属部门",trigger:"click"}]},{label:"所属岗位",prop:"postId",type:"tree",multiple:!0,dicData:[],props:{label:"postName",value:"id"},rules:[{required:!0,message:"请选择所属岗位",trigger:"click"}]}]}]},data:[],excelForm:{},excelOption:{submitBtn:!1,emptyBtn:!1,column:[{label:"模板上传",prop:"excelFile",type:"upload",drag:!0,loadText:"模板上传中，请稍等",span:24,propsHttp:{res:"data"},tip:"请上传 .xls,.xlsx 标准格式文件",action:"".concat(f["a"],"/blade-user/import-user")},{label:"数据覆盖",prop:"isCovered",type:"switch",align:"center",width:80,dicData:[{label:"否",value:0},{label:"是",value:1}],value:0,slot:!0,rules:[{required:!0,message:"请选择是否覆盖",trigger:"blur"}]},{label:"模板下载",prop:"excelTemplate",formslot:!0,span:24}]}}},watch:{"form.tenantId":function(){""!==this.form.tenantId&&this.initData(this.form.tenantId)},"excelForm.isCovered":function(){if(""!==this.excelForm.isCovered){var e=this.findObject(this.excelOption.column,"excelFile");e.action="".concat(f["a"],"/blade-user/import-user?isCovered=").concat(this.excelForm.isCovered)}}},computed:m(m({},Object(u["mapGetters"])(["userInfo","permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.user_add,!1),viewBtn:this.vaildData(this.permission.user_view,!1),delBtn:this.vaildData(this.permission.user_delete,!1),editBtn:this.vaildData(this.permission.user_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),mounted:function(){d["a"].tenantMode||this.initData(d["a"].tenantId)},methods:{nodeClick:function(e){this.treeDeptId=e.id,this.page.currentPage=1,this.onLoad(this.page)},initData:function(e){var t=this;Object(l["d"])(e).then((function(e){var a=t.findObject(t.option.group,"roleId");a.dicData=e.data.data})),Object(s["d"])(e).then((function(e){var a=t.findObject(t.option.group,"deptId");a.dicData=e.data.data})),Object(c["d"])(e).then((function(e){var a=t.findObject(t.option.group,"postId");a.dicData=e.data.data}))},submitRole:function(){var e=this,t=this.$refs.treeRole.getCheckedKeys().join(",");Object(o["d"])(this.ids,t).then((function(){e.roleBox=!1,e.$message({type:"success",message:"操作成功!"}),e.onLoad(e.page)}))},rowSave:function(e,t,a){var n=this;e.deptId instanceof Array&&(e.deptId=e.deptId.join(",")),e.roleId instanceof Array&&(e.roleId=e.roleId.join(",")),e.postId instanceof Array&&(e.postId=e.postId.join(",")),Object(o["a"])(e).then((function(){n.onLoad(n.page),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;e.deptId instanceof Array&&(e.deptId=e.deptId.join(",")),e.roleId instanceof Array&&(e.roleId=e.roleId.join(",")),e.postId instanceof Array&&(e.postId=e.postId.join(",")),Object(o["g"])(e).then((function(){i.onLoad(i.page),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})}))},searchReset:function(){this.query={},this.treeDeptId="",this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(e.ids)})).then((function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},handleReset:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择账号密码重置为【AsdF1234!】?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.ids)})).then((function(){e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},handleGrant:function(){var e=this;0!==this.selectionList.length?(this.roleTreeObj=[],1===this.selectionList.length&&(this.roleTreeObj=this.selectionList[0].roleId.split(",")),Object(l["d"])().then((function(t){e.roleGrantList=t.data.data,e.roleBox=!0}))):this.$message.warning("请选择至少一条数据")},handleImport:function(){this.excelBox=!0},uploadAfter:function(e,t,a,n){window.console.log(n),this.excelBox=!1,this.refreshChange(),t()},handleExport:function(){var e=this;this.$confirm("是否导出用户数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.open("".concat(f["a"],"/blade-user/export-user?Blade-Auth=").concat(Object(p["a"])(),"&account=").concat(e.search.account,"&realName=").concat(e.search.realName))}))},handleTemplate:function(){window.open("".concat(f["a"],"/blade-user/export-template?Blade-Auth=").concat(Object(p["a"])()))},beforeOpen:function(e,t){["edit","view"].includes(t),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,Object.assign(a,this.query),this.treeDeptId).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},v=b,y=a("2877"),w=Object(y["a"])(v,n,i,!1,null,null,null);t["default"]=w.exports},b9d9:function(e,t,a){},ba11:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("api-header",{attrs:{"service-name":e.serviceName,"api-name":e.apiName,"page-name":"接口发布历史版本"}})],1),a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"publishType",fn:function(t){var n=t.row;return[0==n.publishType?a("el-tag",{attrs:{type:"success"}},[e._v("普通发布")]):e._e(),1==n.publishType?a("el-tag",{attrs:{type:"warning"}},[e._v("回滚")]):e._e()]}},{key:"menu",fn:function(t){var n=t.row,i=t.type,r=t.size,o=t.index;return[a("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowView(n)}}},[e._v("查看")]),0!==o&&e.permissionList.rollbackBtn?a("el-button",{attrs:{size:r,type:i},on:{click:function(t){return e.rowBack(n)}}},[e._v("回滚")]):e._e(),a("br"),0===o?a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("当前版本")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("ade3")),o=a("2b3f"),s=a("5880"),l=a("936b");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuWidth:100,column:[{label:"ID",prop:"id",width:50},{label:"所属服务",prop:"serviceName"},{label:"接口名",prop:"name"},{label:"方法",prop:"method",width:80},{label:"路径",prop:"path",minWidth:120},{label:"发布人",prop:"publisher",width:80},{label:"发布状态",prop:"publishType",slot:!0,width:92},{label:"发布日期",prop:"createTime"},{label:"备注",prop:"remark"},{label:"版本号",prop:"version",width:80}]},data:[]}},components:{apiHeader:l["default"]},computed:u(u({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{rollbackBtn:this.vaildData(this.permission.aggregate_history_rollback,!1)}},originId:function(){return this.$route.query.originId||""},serviceName:function(){var e=this.data[0]||{};return e.serviceName||""},apiName:function(){var e=this.data[0]||{};return e.name||""}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowView:function(e){this.$router.push({path:"/aggregate/historyDetail",query:{originId:e.id}})},rowBack:function(e){var t=this;this.$confirm("确定回滚至【ID-".concat(e.id,"】的发布记录吗?"),{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])({id:e.id,remark:""})})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"回滚成功"})}))},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,Object.assign(a,this.query,{originId:this.originId,descs:"create_time"})).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},p=d,h=a("2877"),f=Object(h["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports},baa8:function(e,t,a){"use strict";a("bf69")},bb0c:function(e,t,a){"use strict";a("51c0")},bb83:function(e,t,a){},bbb7:function(e,t,a){"use strict";a("74fd")},bbc0:function(e,t,a){var n=a("6044"),i="__lodash_hash_undefined__",r=Object.prototype,o=r.hasOwnProperty;function s(e){var t=this.__data__;if(n){var a=t[e];return a===i?void 0:a}return o.call(t,e)?t[e]:void 0}e.exports=s},bc52:function(e,t,a){},bc5f:function(e,t,a){var n=a("6cb7");n.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}))},bc7f:function(e,t,a){},bcdf:function(e,t){function a(){}e.exports=a},bd5b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",[a("div",{staticClass:"flow-default-header clearfix",attrs:{slot:"header"},slot:"header"},[a("b",[e._v("单机全局配置")]),a("el-button",{attrs:{size:"mini",type:"primary",disabled:e.editing},on:{click:function(t){e.editing=!0}}},[e._v("编辑")])],1),a("el-form",{ref:"formData",attrs:{model:e.form,rules:e.rules,disabled:!e.editing,size:"small","label-width":"130px"}},[a("el-form-item",{attrs:{label:"服务默认配置:",prop:"serviceDefaultEnabled","label-width":"150px"}},[a("el-checkbox",{on:{change:e.serviceEnabledChange},model:{value:e.form.serviceDefaultEnabled,callback:function(t){e.$set(e.form,"serviceDefaultEnabled",t)},expression:"form.serviceDefaultEnabled"}},[e._v("启用")])],1),e.form.serviceDefaultEnabled?a("div",{staticStyle:{"padding-left":"100px"}},[a("el-form-item",{attrs:{label:"熔断策略:",prop:"strategy"}},[a("el-radio-group",{attrs:{placeholder:"请选择 熔断策略"},model:{value:e.form.strategy,callback:function(t){e.$set(e.form,"strategy",t)},expression:"form.strategy"}},e._l(e.strategyList,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),1===e.form.strategy?a("el-form-item",{attrs:{label:"比例阈值:",prop:"ratioThreshold"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:0,max:1,step:.1},model:{value:e.form.ratioThreshold,callback:function(t){e.$set(e.form,"ratioThreshold",t)},expression:"form.ratioThreshold"}}),a("span",{staticClass:"key-tips"},[e._v("异常的请求比例阈值，超过该值触发熔断，默认值为0.5")])],1):e._e(),2===e.form.strategy?a("el-form-item",{attrs:{label:"异常数:",prop:"exceptionCount"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:1},model:{value:e.form.exceptionCount,callback:function(t){e.$set(e.form,"exceptionCount",t)},expression:"form.exceptionCount"}}),a("span",{staticClass:"key-tips"},[e._v("异常的请求数，超过该值触发熔断，默认值为50")])],1):e._e(),a("el-form-item",{attrs:{label:"最小请求数:",prop:"minRequestCount"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:1},model:{value:e.form.minRequestCount,callback:function(t){e.$set(e.form,"minRequestCount",t)},expression:"form.minRequestCount"}}),a("span",{staticClass:"key-tips"},[e._v("请求数小于该值时即使异常请求超出阈值也不会熔断，默认值为100")])],1),a("el-form-item",{attrs:{label:"熔断时长:",prop:"timeWindow"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:1,max:300},model:{value:e.form.timeWindow,callback:function(t){e.$set(e.form,"timeWindow",t)},expression:"form.timeWindow"}}),a("span",{staticClass:"unit"},[e._v("秒")]),a("span",{staticClass:"key-tips"},[e._v("触发熔断后请求被熔断的时长，默认值为10")])],1),a("el-form-item",{attrs:{label:"统计时长:",prop:"statInterval"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:1,max:300},model:{value:e.form.statInterval,callback:function(t){e.$set(e.form,"statInterval",t)},expression:"form.statInterval"}}),a("span",{staticClass:"unit"},[e._v("秒")]),a("span",{staticClass:"key-tips"},[e._v("熔断的统计时长，默认值为10")])],1),a("el-form-item",{attrs:{label:"恢复策略:",prop:"recoveryStrategy"}},[a("el-radio-group",{attrs:{placeholder:"请选择 恢复策略"},model:{value:e.form.recoveryStrategy,callback:function(t){e.$set(e.form,"recoveryStrategy",t)},expression:"form.recoveryStrategy"}},[a("el-radio",{attrs:{label:1}},[a("span",{staticClass:"radio-label"},[e._v("尝试恢复")]),a("el-tooltip",{attrs:{placement:"bottom"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                                  熔断结束后放通一个请求进入，请求成功时恢复服务，请求失败则立即进入下一个熔断时长。\n                              ")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-radio",{attrs:{label:2}},[a("span",{staticClass:"radio-label"},[e._v("逐步恢复")]),a("el-tooltip",{attrs:{placement:"bottom"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                                  熔断结束后根据恢复时长按比例逐步放通请求，"),a("br"),e._v("\n                                  例如配置恢复时长5秒，则第1秒放通20%的请求，第2秒放通40%的请求，...，第5秒放通100%的请求。\n                              ")]),a("i",{staticClass:"el-icon-question"})])],1),a("el-radio",{attrs:{label:3}},[a("span",{staticClass:"radio-label"},[e._v("立即恢复")]),a("el-tooltip",{attrs:{placement:"bottom"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                                  熔断结束后立即恢复服务，放通所有请求。\n                              ")]),a("i",{staticClass:"el-icon-question"})])],1)],1)],1),2===e.form.recoveryStrategy?a("el-form-item",{attrs:{label:"恢复时长:",prop:"recoveryTimeWindow"}},[a("el-input-number",{staticClass:"mini-input",attrs:{min:5,max:60},model:{value:e.form.recoveryTimeWindow,callback:function(t){e.$set(e.form,"recoveryTimeWindow",t)},expression:"form.recoveryTimeWindow"}}),a("span",{staticClass:"unit"},[e._v("秒")]),a("span",{staticClass:"key-tips"},[e._v("熔断结束后的恢复时长，默认值为5")])],1):e._e()],1):e._e(),a("el-form-item",{attrs:{label:"熔断响应ContentType:",prop:"responseContentType","label-width":"150px"}},[a("el-input",{attrs:{placeholder:"请输入ContentType"},model:{value:e.form.responseContentType,callback:function(t){e.$set(e.form,"responseContentType",t)},expression:"form.responseContentType"}})],1),a("el-form-item",{attrs:{label:"熔断响应报文:",prop:"responseContent","label-width":"150px"}},[a("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入 熔断响应报文"},model:{value:e.form.responseContent,callback:function(t){e.$set(e.form,"responseContent",t)},expression:"form.responseContent"}})],1)],1),e.editing?a("footer",[a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.submitForm}},[e._v("提 交\n          ")]),a("el-button",{attrs:{size:"small"},on:{click:e.cancelForm}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("8615"),a("ac6a"),a("ade3")),o=a("b5c6"),s=a("da71"),l=function(){return Object(o["a"])({url:"".concat(s["a"],"/degrade-rule/get-global-rule"),method:"get"})},c=function(e){return Object(o["a"])({url:"".concat(s["a"],"/degrade-rule/save-global-rule"),method:"post",data:e})};function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p=[{label:"异常比例",value:1},{label:"异常数",value:2}],h={strategy:1,ratioThreshold:.5,exceptionCount:50,minRequestCount:100,timeWindow:10,statInterval:10,recoveryTimeWindow:5},f={name:"default-rule",data:function(){return{data:{},form:{serviceDefaultEnabled:!0},rules:{strategy:[{required:!0,message:"必填",trigger:"change"}],ratioThreshold:[{required:!0,message:"必填",trigger:"change"}],exceptionCount:[{required:!0,message:"必填",trigger:"change"}],minRequestCount:[{required:!0,message:"必填",trigger:"change"}],timeWindow:[{required:!0,message:"必填",trigger:"change"}],statInterval:[{required:!0,message:"必填",trigger:"change"}],recoveryStrategy:[{required:!0,message:"必填",trigger:"change"}],recoveryTimeWindow:[{required:!0,message:"必填",trigger:"change"}]},editing:!1,loading:!1,strategyList:p}},methods:{getGlobalRule:function(){var e=this;l().then((function(t){if(200===t.data.code){var a=t.data.data;e.serviceEnabledChange(a.serviceDefaultEnabled),e.data=d(d({},a.degradeRule||{}),{},{responseContentType:a.responseContentType,responseContent:a.responseContent,serviceDefaultEnabled:a.serviceDefaultEnabled,ratioThreshold:a.degradeRule.ratioThreshold||h.ratioThreshold,exceptionCount:a.degradeRule.exceptionCount||h.exceptionCount}),e.form=Object.assign({},e.data)}}))},serviceEnabledChange:function(e){var t=!0;e&&Object.values(h).forEach((function(e){e||(t=!1)})),t&&e&&(this.form=d(d({},h),this.form))},submitForm:function(){var e=this;this.$refs.formData.validate((function(t){if(t){e.loading=!0;var a={degradeRule:{exceptionCount:e.form.exceptionCount,minRequestCount:e.form.minRequestCount,ratioThreshold:e.form.ratioThreshold,recoveryStrategy:e.form.recoveryStrategy,recoveryTimeWindow:e.form.recoveryTimeWindow,statInterval:e.form.statInterval,strategy:e.form.strategy,timeWindow:e.form.timeWindow},responseContent:e.form.responseContent,responseContentType:e.form.responseContentType,serviceDefaultEnabled:e.form.serviceDefaultEnabled};c(a).then((function(t){200===t.data.code?(e.$message.success("保存配置成功!"),e.editing=!1,e.getGlobalRule()):e.$message.error(t.data.msg||"保存配置失败!"),e.loading=!1}),(function(){e.loading=!1}))}else e.$message.warning("请完善表单信息!")}))},cancelForm:function(){this.form=Object.assign({},this.data),this.editing=!1}},mounted:function(){this.getGlobalRule()}},g=f,m=(a("9313"),a("8f9b"),a("2877")),b=Object(m["a"])(g,n,i,!1,null,"684633e0",null);t["default"]=b.exports},bd6b:function(e,t,a){var n=a("06ad"),i=a("4942"),r=a("6d8b"),o=r.isString,s=r.isFunction,l=r.isObject,c=r.isArrayLike,u=r.indexOf,d=function(){this.animators=[]};function p(e,t,a,n,i,r,l,c){o(n)?(r=i,i=n,n=0):s(i)?(r=i,i="linear",n=0):s(n)?(r=n,n=0):s(a)?(r=a,a=500):a||(a=500),e.stopAnimation(),h(e,"",e,t,a,n,c);var u=e.animators.slice(),d=u.length;function p(){d--,d||r&&r()}d||r&&r();for(var f=0;f<u.length;f++)u[f].done(p).start(i,l)}function h(e,t,a,n,i,r,o){var s={},u=0;for(var d in n)n.hasOwnProperty(d)&&(null!=a[d]?l(n[d])&&!c(n[d])?h(e,t?t+"."+d:d,a[d],n[d],i,r,o):(o?(s[d]=a[d],f(e,t,d,n[d])):s[d]=n[d],u++):null==n[d]||o||f(e,t,d,n[d]));u>0&&e.animate(t,!1).when(null==i?500:i,s).delay(r||0)}function f(e,t,a,n){if(t){var i={};i[t]={},i[t][a]=n,e.attr(i)}else e.attr(a,n)}d.prototype={constructor:d,animate:function(e,t){var a,r=!1,o=this,s=this.__zr;if(e){var l=e.split("."),c=o;r="shape"===l[0];for(var d=0,p=l.length;d<p;d++)c&&(c=c[l[d]]);c&&(a=c)}else a=o;if(a){var h=o.animators,f=new n(a,t);return f.during((function(e){o.dirty(r)})).done((function(){h.splice(u(h,f),1)})),h.push(f),s&&s.animation.addAnimator(f),f}i('Property "'+e+'" is not existed in element '+o.id)},stopAnimation:function(e){for(var t=this.animators,a=t.length,n=0;n<a;n++)t[n].stop(e);return t.length=0,this},animateTo:function(e,t,a,n,i,r){p(this,e,t,a,n,i,r)},animateFrom:function(e,t,a,n,i,r){p(this,e,t,a,n,i,r,!0)}};var g=d;e.exports=g},bda7:function(e,t,a){var n=a("6d8b"),i=a("f279");function r(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;null==t&&(t=1024);for(var a=e.features,n=0;n<a.length;n++)for(var i=a[n],r=i.geometry,s=r.coordinates,l=r.encodeOffsets,c=0;c<s.length;c++){var u=s[c];if("Polygon"===r.type)s[c]=o(u,l[c],t);else if("MultiPolygon"===r.type)for(var d=0;d<u.length;d++){var p=u[d];u[d]=o(p,l[c][d],t)}}return e.UTF8Encoding=!1,e}function o(e,t,a){for(var n=[],i=t[0],r=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=i,l+=r,i=s,r=l,n.push([s/a,l/a])}return n}function s(e,t){return r(e),n.map(n.filter(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var a=e.properties,r=e.geometry,o=r.coordinates,s=[];"Polygon"===r.type&&s.push({type:"polygon",exterior:o[0],interiors:o.slice(1)}),"MultiPolygon"===r.type&&n.each(o,(function(e){e[0]&&s.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})}));var l=new i(a[t||"name"],s,a.cp);return l.properties=a,l}))}e.exports=s},beac:function(e,t,a){"use strict";a("e54b")},bf69:function(e,t,a){},bf76:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"添加appid",direction:"rtl","modal-append-to-body":!1,"append-to-body":!0,size:"900px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"tags",fn:function(t){var a=t.row;return[e._v("\n        "+e._s(a.tags.join(","))+"\n      ")]}},{key:"useWhiteList",fn:function(t){var a=t.row;return[e._v("\n        "+e._s(a.useWhiteList?"是":"否")+"\n      ")]}},{key:"useAuth",fn:function(t){var a=t.row;return[e._v("\n        "+e._s(a.useAuth?"是":"否")+"\n      ")]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"tagsSearch"},[a("el-input",{attrs:{placeholder:"标签",clearable:""},model:{value:e.query.tagCondition,callback:function(t){e.$set(e.query,"tagCondition",t)},expression:"query.tagCondition"}})],1)],2)],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.confirm()}}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1)])},i=[],r=a("24a7"),o=[{label:"MD5签名",value:1},{label:"密钥认证",value:3},{label:"自定义认证插件",value:2}],s={props:{visible:{type:Boolean,default:!1},app:{type:String,default:""}},data:function(){return{selections:[],form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{selection:!0,menu:!1,dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,addBtn:!1,columnBtn:!1,menuPosition:"right",menuWidth:"280px",tip:!1,column:[{label:"appID",prop:"app",search:!0,overHidden:!0,searchSpan:12},{label:"应用名",prop:"appName",search:!0,overHidden:!0,searchSpan:12},{label:"标签",prop:"tags",search:!0,overHidden:!0,searchslot:!0,slot:!0,searchSpan:12},{label:"是否启用认证",prop:"useAuth",type:"switch",slot:!0},{label:"认证方式",prop:"authType",search:!0,type:"select",dicData:o,searchSpan:12},{label:"密钥",prop:"secretkey",overHidden:!0,hide:!0},{label:"是否启用IP白名单",prop:"useWhiteList",type:"switch",slot:!0},{label:"IP白名单",prop:"authIps",placeholder:"多个IP用逗号,分隔",overHidden:!0},{label:"自定义配置",prop:"customConfig",overHidden:!0}]},data:[],search:{}}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{searchReset:function(){this.query={},this.onLoad(this.page)},selectionChange:function(e){this.selections=e},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(r["f"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},confirm:function(){this.$emit("emitData",this.selections),this.dialogVisible=!1}}},l=s,c=(a("847a"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,"1a764cbc",null);t["default"]=u.exports},c096:function(e,t,a){},c098:function(e,t){var a=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?a:t,!!t&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},c0c5:function(e,t,a){},c0c7:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"f",(function(){return h})),a.d(t,"i",(function(){return f})),a.d(t,"h",(function(){return g})),a.d(t,"d",(function(){return m}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a,n){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/page"),method:"get",params:s(s({},a),{},{current:e,size:t,deptId:n})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/submit"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/update"),method:"post",data:e})},p=function(){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/info"),method:"get"})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/reset-password"),method:"post",params:{userIds:e}})},f=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/update-password"),method:"post",params:{oldPassword:e,newPassword:t,newPassword1:a}})},g=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/update-info"),method:"post",data:e})},m=function(e,t){return Object(i["a"])({url:"".concat(r["a"],"/blade-user/grant"),method:"post",params:{userIds:e,roleIds:t}})}},c12c:function(e,t,a){"use strict";a("d48a")},c1a1:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:e.src}})])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6b54"),a("a481"),a("ade3")),o=a("5880"),s=a("323e"),l=a.n(s);a("a5d8");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"AvueIframe",data:function(){return{urlPath:this.getUrlPath()}},created:function(){l.a.configure({showSpinner:!1})},mounted:function(){this.load(),this.resize()},props:["routerPath"],watch:{$route:function(){this.load()},routerPath:function(){this.urlPath=this.getUrlPath()}},computed:u(u({},Object(o["mapGetters"])(["screen"])),{},{src:function(){return this.$route.query.src?this.$route.query.src.replace("$","#"):this.urlPath}}),methods:{show:function(){l.a.start()},hide:function(){l.a.done()},resize:function(){var e=this;window.onresize=function(){e.iframeInit()}},load:function(){var e=this;this.show();var t=!0;void 0!==this.$route.query.src&&-1===this.$route.query.src.indexOf("?")&&(t=!1);var a=[];for(var n in this.$route.query)"src"!==n&&"name"!==n&&"i18n"!==n&&a.push("".concat(n,"= this.$route.query[key]"));a=a.join("&").toString(),this.$route.query.src=t?"".concat(this.$route.query.src).concat(a.length>0?"&list":""):"".concat(this.$route.query.src).concat(a.length>0?"?list":"");var i=3,r=setInterval((function(){i--,0===i&&(e.hide(),clearInterval(r))}),1e3);this.iframeInit()},iframeInit:function(){var e=this,t=this.$refs.iframe,a=document.documentElement.clientHeight-(screen>1?200:130);t&&(t.style.height="".concat(a,"px"),t.attachEvent?t.attachEvent("onload",(function(){e.hide()})):t.onload=function(){e.hide()})},getUrlPath:function(){var e=window.location.href;return e=e.replace("/myiframe",""),e}}},p=d,h=(a("30eb"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports},c1c9:function(e,t,a){var n=a("a454"),i=a("f3c1"),r=i(n);e.exports=r},c1d4:function(e,t,a){},c2b6:function(e,t,a){var n=a("f8af"),i=a("5d89"),r=a("6f6c"),o=a("a2db"),s=a("c8fe"),l="[object Boolean]",c="[object Date]",u="[object Map]",d="[object Number]",p="[object RegExp]",h="[object Set]",f="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",v="[object Float32Array]",y="[object Float64Array]",w="[object Int8Array]",_="[object Int16Array]",x="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]";function S(e,t,a){var S=e.constructor;switch(t){case m:return n(e);case l:case c:return new S(+e);case b:return i(e,a);case v:case y:case w:case _:case x:case O:case D:case C:case k:return s(e,a);case u:return new S;case d:case f:return new S(e);case p:return r(e);case h:return new S;case g:return o(e)}}e.exports=S},c2ee:function(e,t,a){},c2f4:function(e,t,a){"use strict";a("fb24")},c363:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"auth-detail"},[a("el-card",{staticClass:"main"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.name?a("el-tag",[e._v(e._s(e.form.name))]):e._e(),e._v(" \n       "),a("b",[e._v(e._s(e.title))])],1),a("el-form",{ref:"form",attrs:{size:"small","label-width":"60px",model:e.form,rules:e.rules,disabled:e.disabled}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"请求头",name:"header"}},[e.headerData.length>0?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{value:e.headerData.length,max:10,type:"success"}},[e._v("请求头")])],1):e._e(),a("request-table",{ref:"headerRef",attrs:{disabled:e.disabled,data:e.headerData},on:{"update:data":function(t){e.headerData=t}}})],1),a("el-tab-pane",{attrs:{label:"Query参数",name:"params"}},[e.queryData.length>0?a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{attrs:{value:e.queryData.length,max:10,type:"success"}},[e._v("Query参数")])],1):e._e(),a("request-table",{ref:"queryRef",attrs:{disabled:e.disabled,data:e.queryData},on:{"update:data":function(t){e.queryData=t}}})],1)],1)],1),e.disabled?e._e():a("footer",[a("el-button",{attrs:{icon:"el-icon-circle-check",type:"primary",size:"small"},on:{click:e.submit}},[e._v("保 存")]),a("el-button",{attrs:{icon:"el-icon-circle-close",size:"small"},on:{click:e.cancel}},[e._v("取 消")])],1)],1)},i=[],r=(a("8e6e"),a("6762"),a("2fdb"),a("7f7f"),a("ade3")),o=(a("96cf"),a("1da1")),s=(a("5df3"),a("ac6a"),a("456d"),a("3657")),l=a("1eab");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"authDetail",components:{requestTable:s["default"]},computed:{disabled:function(){return"view"===this.$route.params.actionType},pageType:function(){return this.$route.params.actionType},id:function(){return this.$route.query.id},title:function(){var e="认证信息详情";switch(this.pageType){case"add":e="新增认证信息";break;case"edit":e="编辑认证信息";break;case"view":e="认证信息详情";break}return e}},data:function(){return{form:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]},loading:!1,activeTab:"header",headerData:[],queryData:[]}},methods:{getParamsKeys:function(e){var t=Object.keys(e.properties||{})||[];return t.length},cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/interface/authentication"})},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a=["headerRef","queryRef"],n=[];a.forEach((function(t){n.push(e.$refs[t].validate())})),Promise.all(n).then((function(){e.saveData()}))}}))},saveData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="add"===this.pageType?l["a"]:l["e"],e.next=4,t(this.handleData()).then((function(){a.$message({type:"success",message:"保存成功！"}),a.cancel()}),(function(e){console.log(e),a.loading=!1}));case 4:this.loading=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleData:function(){return u(u({},this.form),{},{content:JSON.stringify({header:this.headerData,query:this.queryData})})},getDetail:function(){var e=this;Object(l["b"])(this.id).then((function(t){if(t.data&&200===t.data.code){var a=t.data.data,n=a.name,i=a.description,r=a.content,o=a.id;e.form={name:n,description:i,id:o};try{var s=JSON.parse(r||{}),l=s.header,c=s.query;e.headerData=l||[],e.queryData=c||[]}catch(u){console.error(u)}}else e.$message({type:"error",message:t.data.msg||"查看详情有误！"})}))}},mounted:function(){["view","edit"].includes(this.pageType)&&this.getDetail()}},p=d,h=(a("b8ff"),a("1659"),a("2877")),f=Object(h["a"])(p,n,i,!1,null,"009f7aa4",null);t["default"]=f.exports},c3fc:function(e,t,a){var n=a("42a2"),i=a("1310"),r="[object Set]";function o(e){return i(e)&&n(e)==r}e.exports=o},c42a:function(e,t,a){"use strict";a("62bb")},c43f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"撤回关联配置","append-to-body":"",visible:e.visible,"before-close":e.handleClose,width:"500px"},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"b-tip"},[e._v("确定撤回该申请的【"+e._s(e.form.name)+"】接口吗?")]),a("el-form",{ref:"revokeForm",attrs:{model:e.revokeForm,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入备注"},model:{value:e.revokeForm.remark,callback:function(t){e.$set(e.revokeForm,"remark",t)},expression:"revokeForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.loading},on:{click:e.confirm}},[e._v("确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取 消")])],1)],1)},i=[],r=(a("c5f6"),a("0f43")),o={name:"publish-dialog",data:function(){return{loading:!1,revokeForm:{},rules:{remark:[{required:!0,message:"备注不能为空",trigger:"blur"}]}}},props:{visible:{type:Boolean,default:!1},form:{type:Object,default:function(){return{}}},id:{type:[String,Number],required:!0},callback:{type:Function}},watch:{visible:function(e){e||(this.revokeForm.remark="")}},methods:{confirm:function(){var e=this;this.id?this.$refs.revokeForm.validate((function(t){if(t)return e.loading=!0,Object(r["j"])({applyId:e.id,configId:e.form.id,remark:e.revokeForm.remark}).then((function(){e.callback&&"function"===typeof e.callback&&e.callback(),e.$message.success("撤回成功"),e.$emit("update:visible",!1)})).finally((function(){e.loading=!1}))})):this.$message.error("信息错误，请重新选择！")},handleClose:function(e){this.$emit("update:visible",!1),e&&e()}}},s=o,l=(a("7ec3"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"9763a388",null);t["default"]=c.exports},c533:function(e,t){var a=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],n={color:a,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],a]};e.exports=n},c597:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"c",(function(){return h}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/gateway-param/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/gateway-param/save"),method:"post",data:e})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/gateway-param/update"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/gateway-param/detail/").concat(e),method:"get"})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/gateway-param/remove"),method:"post",params:{ids:e}})},h=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/gateway-param-history/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})}},c60d:function(e,t,a){},c640:function(e,t,a){},c674:function(e,t,a){},c6bd:function(e,t,a){},c775f:function(e,t,a){var n=a("2b17"),i=n.retrieveRawValue;function r(e,t){var a=e.mapDimension("defaultedLabel",!0),n=a.length;if(1===n)return i(e,t,a[0]);if(n){for(var r=[],o=0;o<a.length;o++){var s=i(e,t,a[o]);r.push(s)}return r.join(" ")}}t.getDefaultLabel=r},c7a2:function(e,t,a){var n=a("cbe5"),i=a("5693"),r=a("9cf9"),o=r.subPixelOptimizeRect,s={},l=n.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var a,n,r,l;this.subPixelOptimize?(o(s,t,this.style),a=s.x,n=s.y,r=s.width,l=s.height,s.r=t.r,t=s):(a=t.x,n=t.y,r=t.width,l=t.height),t.r?i.buildPath(e,t):e.rect(a,n,r,l),e.closePath()}});e.exports=l},c869:function(e,t,a){var n=a("0b07"),i=a("2b3e"),r=n(i,"Set");e.exports=r},c87c:function(e,t){var a=Object.prototype,n=a.hasOwnProperty;function i(e){var t=e.length,a=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(a.index=e.index,a.input=e.input),a}e.exports=i},c8b6:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("avue-crud",{ref:"crud",attrs:{id:"addAppidTable",data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"tags",fn:function(t){var a=t.row;return[e._v("\n    "+e._s(a.tags.join(","))+"\n  ")]}},{key:"tagsSearch",fn:function(t){return[a("el-input",{attrs:{placeholder:"标签",clearable:""},model:{value:e.search.tagCondition,callback:function(t){e.$set(e.search,"tagCondition",t)},expression:"search.tagCondition"}})]}}])})},i=[],r=(a("ac6a"),a("24a7")),o={data:function(){return{loading:!0,query:{},page:{pageSize:10,currentPage:1,total:0,pageSizes:[10,20,30,40,50,100,1e3,3e3,5e3]},search:{},option:{size:"mini",border:!0,selection:!0,tip:!1,columnBtn:!1,addBtn:!1,menu:!1,searchMenuSpan:12,column:[{label:"appID",prop:"app",search:!0,searchSpan:12},{label:"应用名",prop:"appName",search:!0,searchSpan:12},{label:"标签",prop:"tags",search:!0,searchSpan:12,searchslot:!0,slot:!0}]},data:[],selectionList:[]}},props:{selection:{type:[Object,Array]}},computed:{ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}},watch:{selectionList:{deep:!0,handler:function(){this.emitData()}}},methods:{emitData:function(){this.$emit("update:selection",this.selectionList)},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(r["f"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1,t.selectionClear()}))}}},s=o,l=a("2877"),c=Object(l["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports},c8f6:function(e,t,a){},c8fe:function(e,t,a){var n=a("f8af");function i(e,t){var a=t?n(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}e.exports=i},c983:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"add-btn-con"},[a("span",{staticClass:"label"},[e._v("添加组件")]),a("el-dropdown",{on:{command:e.commandHandle}},[a("el-button",{staticClass:"add-btn",attrs:{size:"small",type:"primary",plain:"",disabled:e.disabled}},[e._v("\n        选择组件"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{staticClass:"select-menu",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.optionsList,(function(t){return a("el-dropdown-item",{key:t.value,attrs:{command:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),1)],1)],1),a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.components.length>0,expression:"components.length > 0"}],staticStyle:{width:"100%"},attrs:{data:e.components,border:"",size:"small"}},[a("el-table-column",{attrs:{prop:"date",label:"组件名","min-width":"70%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("descFilter")(t.row))+"\n        "),a("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",content:e.tooltipInfo[t.row.type],placement:"bottom"}},[a("i",{staticClass:"el-icon-question"})])]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作","min-width":"30%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.moveVisible(t.row,t.$index,"up")?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.move(t.$index,"up")}}},[a("i",{staticClass:"el-icon-top"}),e._v("上移\n        ")]):e._e(),e.moveVisible(t.row,t.$index,"down")?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.move(t.$index,"down")}}},[a("i",{staticClass:"el-icon-bottom"}),e._v("下移\n        ")]):e._e(),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.goDetail(t.row,"detail",t.$index)}}},[a("i",{staticClass:"el-icon-view"}),e._v("查看\n        ")]),e.disabled?e._e():a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.goDetail(t.row,"edit",t.$index)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("编辑\n        ")]),e.disabled?e._e():a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteHandle(t.$index)}}},[a("i",{staticClass:"el-icon-delete"}),e._v(" 删除\n        ")])]}}])})],1)],1),e.conditionVisible?a("condition-dialog",{attrs:{visible:e.conditionVisible,dialogType:e.dialogType,data:e.dialogData,disabled:e.disabled},on:{changeDrawer:function(t){e.command="",e.dialogData=null},emitData:e.getConditionData}}):e._e(),e.circleVisible?a("circleDialog",{attrs:{visible:e.circleVisible,dialogType:e.dialogType,data:e.dialogData,disabled:e.disabled},on:{changeDrawer:function(t){e.command="",e.dialogData=null},emitData:e.getCircleData}}):e._e()],1)},i=[],r=(a("28a5"),a("7f7f"),a("ac6a"),a("20d6"),a("44d0")),o=a("04b4"),s=[{value:"condition",label:"判断条件"},{value:"circle",label:"循环组件"}],l={name:"addComponent",props:{disabled:Boolean,data:Object},components:{conditionDialog:r["default"],circleDialog:o["default"]},data:function(){return{command:"",components:[],maxIndex:0,tooltipInfo:{condition:"当判断条件为true时执行该步骤",circle:"当数据源不为空时执行循环"},dialogData:null,dialogType:"",operaIndex:-1}},computed:{conditionVisible:function(){return this.command===s[0].value},circleVisible:function(){return this.command===s[1].value},optionsList:function(){var e=this.components.findIndex((function(e){return"circle"===e.type}));return e>-1?[s[0]]:s}},watch:{components:{immediate:!0,deep:!0,handler:function(){this.emitData()}},data:{immediate:!0,deep:!0,handler:function(e){this.components=e}}},filters:{descFilter:function(e){var t="condition"===e.type?"判断条件":"循环组件";return e.desc?"".concat(t,"  (").concat(e.desc,")"):t}},methods:{moveVisible:function(e,t,a){var n=this.components.filter((function(e){return e.type===s[0].value})).length||0;return"up"===a?0!==t&&e.type===s[0].value&&!this.disabled:t<n-1&&e.type===s[0].value&&!this.disabled},commandHandle:function(e){this.command=e,this.dialogType="add"},goDetail:function(e,t,a){this.command=e.type,this.dialogType=t,this.dialogData=e,this.operaIndex=a},getConditionData:function(e){var t=0;this.components.forEach((function(e,a){"condition"===e.type&&(t=++a,e.name&&parseInt(e.name.split("判断条件")[1])>a&&(t=e.name.split("判断条件")[1]))})),this.maxIndex=t,"add"===this.dialogType?1===this.optionsList.length?this.components.splice(this.components.length-1,0,e):this.components.splice(this.components.length,0,e):this.components.splice(this.operaIndex,1,e)},getCircleData:function(e){"add"===this.dialogType?this.components.push(e):this.components.splice(this.operaIndex,1,e)},move:function(e,t){var a=this.components[e];this.components.splice(e,1),"up"===t?this.components.splice(e-1,0,a):this.components.splice(e+1,0,a)},deleteHandle:function(e){var t=this;this.$confirm("确定删除该条件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.components.splice(e,1)}))},emitData:function(){this.$emit("update:data",this.components)}}},c=l,u=(a("add5"),a("f039"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"7e36b3ca",null);t["default"]=d.exports},ca77:function(e,t,a){},ca98:function(e,t,a){var n=a("6d8b"),i=a("e0d3"),r=a("6cb7"),o=n.each,s=n.clone,l=n.map,c=n.merge,u=/^(min|max)?(.+)$/;function d(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function p(e,t,a){var i,r,s=[],l=[],c=e.timeline;if(e.baseOption&&(r=e.baseOption),(c||e.options)&&(r=r||{},s=(e.options||[]).slice()),e.media){r=r||{};var u=e.media;o(u,(function(e){e&&e.option&&(e.query?l.push(e):i||(i=e))}))}return r||(r=e),r.timeline||(r.timeline=c),o([r].concat(s).concat(n.map(l,(function(e){return e.option}))),(function(e){o(t,(function(t){t(e,a)}))})),{baseOption:r,timelineOptions:s,mediaDefault:i,mediaList:l}}function h(e,t,a){var i={width:t,height:a,aspectratio:t/a},r=!0;return n.each(e,(function(e,t){var a=t.match(u);if(a&&a[1]&&a[2]){var n=a[1],o=a[2].toLowerCase();f(i[o],e,n)||(r=!1)}})),r}function f(e,t,a){return"min"===a?e>=t:"max"===a?e<=t:e===t}function g(e,t){return e.join(",")===t.join(",")}function m(e,t){t=t||{},o(t,(function(t,a){if(null!=t){var n=e[a];if(r.hasClass(a)){t=i.normalizeToArray(t),n=i.normalizeToArray(n);var o=i.mappingToExists(n,t);e[a]=l(o,(function(e){return e.option&&e.exist?c(e.exist,e.option,!0):e.exist||e.option}))}else e[a]=c(n,t,!0)}}))}d.prototype={constructor:d,setOption:function(e,t){e&&n.each(i.normalizeToArray(e.series),(function(e){e&&e.data&&n.isTypedArray(e.data)&&n.setAsPrimitive(e.data)})),e=s(e);var a=this._optionBackup,r=p.call(this,e,t,!a);this._newBaseOption=r.baseOption,a?(m(a.baseOption,r.baseOption),r.timelineOptions.length&&(a.timelineOptions=r.timelineOptions),r.mediaList.length&&(a.mediaList=r.mediaList),r.mediaDefault&&(a.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=l(t.timelineOptions,s),this._mediaList=l(t.mediaList,s),this._mediaDefault=s(t.mediaDefault),this._currentMediaIndices=[],s(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,a=this._timelineOptions;if(a.length){var n=e.getComponent("timeline");n&&(t=s(a[n.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),a=this._api.getHeight(),n=this._mediaList,i=this._mediaDefault,r=[],o=[];if(!n.length&&!i)return o;for(var c=0,u=n.length;c<u;c++)h(n[c].query,t,a)&&r.push(c);return!r.length&&i&&(r=[-1]),r.length&&!g(r,this._currentMediaIndices)&&(o=l(r,(function(e){return s(-1===e?i.option:n[e].option)}))),this._currentMediaIndices=r,o}};var b=d;e.exports=b},cabe:function(e,t,a){},cadc:function(e,t,a){"use strict";a("f84e")},cb11:function(e,t,a){var n=a("cbe5"),i=a("9cf9"),r=i.subPixelOptimizeLine,o={},s=n.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var a,n,i,s;this.subPixelOptimize?(r(o,t,this.style),a=o.x1,n=o.y1,i=o.x2,s=o.y2):(a=t.x1,n=t.y1,i=t.x2,s=t.y2);var l=t.percent;0!==l&&(e.moveTo(a,n),l<1&&(i=a*(1-l)+i*l,s=n*(1-l)+s*l),e.lineTo(i,s))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}});e.exports=s},cb5a:function(e,t,a){var n=a("9638");function i(e,t){var a=e.length;while(a--)if(n(e[a][0],t))return a;return-1}e.exports=i},cb6d:function(e,t){function a(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function n(e,t){return{target:e,topTarget:t&&t.topTarget}}a.prototype={constructor:a,_dragStart:function(e){var t=e.target;while(t&&!t.draggable)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(n(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var a=e.offsetX,i=e.offsetY,r=a-this._x,o=i-this._y;this._x=a,this._y=i,t.drift(r,o,e),this.dispatchToElement(n(t,e),"drag",e.event);var s=this.findHover(a,i,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.dispatchToElement(n(l,e),"dragleave",e.event),s&&s!==l&&this.dispatchToElement(n(s,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(n(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(n(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var i=a;e.exports=i},cb79:function(e,t,a){},cb8f:function(e,t,a){var n=a("3eba"),i=a("6d8b"),r=a("cd33"),o=a("eb6b");a("48ac"),a("d4b1"),a("4a9d"),n.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!i.isArray(t)&&(e.axisPointer.link=[t])}})),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=r.collect(e,t)})),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},o)},cbb0:function(e,t,a){var n=a("6d8b"),i=a("f934"),r=i.getLayoutRect;function o(e,t,a){var n=e.option,i=n.align;if(null!=i&&"auto"!==i)return i;for(var o={width:t.getWidth(),height:t.getHeight()},s="horizontal"===n.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],c=l[s],u=[0,null,10],d={},p=0;p<3;p++)d[l[1-s][p]]=u[p],d[c[p]]=2===p?a[0]:n[c[p]];var h=[["x","width",3],["y","height",0]][s],f=r(d,o,n.padding);return c[(f.margin[h[2]]||0)+f[h[0]]+.5*f[h[1]]<.5*o[h[1]]?0:1]}function s(e,t){return n.each(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}t.getItemAlign=o,t.makeHighDownBatch=s},cbe5:function(e,t,a){var n=a("19eb"),i=a("6d8b"),r=a("20c8"),o=a("d833"),s=a("dc2f"),l=s.prototype.getCanvasPattern,c=Math.abs,u=new r(!0);function d(e){n.call(this,e),this.path=null}d.prototype={constructor:d,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var a,n=this.style,i=this.path||u,r=n.hasStroke(),o=n.hasFill(),s=n.fill,c=n.stroke,d=o&&!!s.colorStops,p=r&&!!c.colorStops,h=o&&!!s.image,f=r&&!!c.image;(n.bind(e,this,t),this.setTransform(e),this.__dirty)&&(d&&(a=a||this.getBoundingRect(),this._fillGradient=n.getGradient(e,s,a)),p&&(a=a||this.getBoundingRect(),this._strokeGradient=n.getGradient(e,c,a)));d?e.fillStyle=this._fillGradient:h&&(e.fillStyle=l.call(s,e)),p?e.strokeStyle=this._strokeGradient:f&&(e.strokeStyle=l.call(c,e));var g=n.lineDash,m=n.lineDashOffset,b=!!e.setLineDash,v=this.getGlobalScale();if(i.setScale(v[0],v[1],this.segmentIgnoreThreshold),this.__dirtyPath||g&&!b&&r?(i.beginPath(e),g&&!b&&(i.setLineDash(g),i.setLineDashOffset(m)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),o)if(null!=n.fillOpacity){var y=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,i.fill(e),e.globalAlpha=y}else i.fill(e);if(g&&b&&(e.setLineDash(g),e.lineDashOffset=m),r)if(null!=n.strokeOpacity){y=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,i.stroke(e),e.globalAlpha=y}else i.stroke(e);g&&b&&e.setLineDash([]),null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,a){},createPathProxy:function(){this.path=new r},getBoundingRect:function(){var e=this._rect,t=this.style,a=!e;if(a){var n=this.path;n||(n=this.path=new r),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),e=n.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||a){i.copy(e);var o=t.lineWidth,s=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),s>1e-10&&(i.width+=o/s,i.height+=o/s,i.x-=o/s/2,i.y-=o/s/2)}return i}return e},contain:function(e,t){var a=this.transformCoordToLocal(e,t),n=this.getBoundingRect(),i=this.style;if(e=a[0],t=a[1],n.contain(e,t)){var r=this.path.data;if(i.hasStroke()){var s=i.lineWidth,l=i.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(i.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),o.containStroke(r,s/l,e,t)))return!0}if(i.hasFill())return o.contain(r,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):n.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var a=this.shape;if(a){if(i.isObject(e))for(var n in e)e.hasOwnProperty(n)&&(a[n]=e[n]);else a[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&c(e[0]-1)>1e-10&&c(e[3]-1)>1e-10?Math.sqrt(c(e[0]*e[3]-e[2]*e[1])):1}},d.extend=function(e){var t=function(t){d.call(this,t),e.style&&this.style.extendFrom(e.style,!1);var a=e.shape;if(a){this.shape=this.shape||{};var n=this.shape;for(var i in a)!n.hasOwnProperty(i)&&a.hasOwnProperty(i)&&(n[i]=a[i])}e.init&&e.init.call(this,t)};for(var a in i.inherits(t,d),e)"style"!==a&&"shape"!==a&&(t.prototype[a]=e[a]);return t},i.inherits(d,n);var p=d;e.exports=p},cbe6:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"gatewayGroupSearch",fn:function(t){return[a("el-select",{attrs:{placeholder:"网关分组",clearable:""},model:{value:e.search.gatewayGroup,callback:function(t){e.$set(e.search,"gatewayGroup",t)},expression:"search.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("386d"),a("ade3")),o=a("b5c6"),s=a("da71");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(e,t,a){return Object(o["a"])({url:"".concat(s["a"],"/blade-source-stat/list"),method:"get",params:c(c({},a),{},{current:e,size:t})})},d=a("4870"),p=a("5880");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,indexWidth:90,addBtn:!1,columnBtn:!1,menuPosition:"right",menu:!1,column:[{label:"来源IP",prop:"ip",search:!0,width:140},{label:"网关分组",prop:"gatewayGroup",search:!0,searchslot:!0,type:"select",dicData:[],width:130},{label:"服务名",prop:"service",search:!0},{label:"请求方法",prop:"apiMethod",search:!0,type:"select",dicData:d["b"],width:70},{label:"appID",prop:"appid",search:!0,width:90},{label:"API Path",prop:"apiPath",search:!0},{label:"请求次数",prop:"reqCount",width:88},{label:"最近请求时间",prop:"recentReqTime",width:150}]},data:[],search:{}}},computed:f({},Object(p["mapGetters"])(["groupOptions"])),watch:{groupOptions:function(e){var t=this.findObject(this.option.column,"gatewayGroup");t.dicData=e||[]}},created:function(){this.getGroupOptions()},methods:f(f({},Object(p["mapActions"])(["getGroupOptions"])),{},{searchReset:function(){this.query={},this.search={},this.onLoad(this.page)},searchChange:function(e,t){e=Object.assign(e,this.search),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}})},m=g,b=a("2877"),v=Object(b["a"])(m,n,i,!1,null,null,null);t["default"]=v.exports},cbe9:function(e,t,a){var n=a("6d8b"),i=a("9850"),r=a("cf7e");function o(e){r.call(this,e)}o.prototype={constructor:o,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),a=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&a.contain(a.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,a){var n=this.getAxis("x"),i=this.getAxis("y");return a=a||[],a[0]=n.toGlobalCoord(n.dataToCoord(e[0])),a[1]=i.toGlobalCoord(i.dataToCoord(e[1])),a},clampData:function(e,t){var a=this.getAxis("x").scale,n=this.getAxis("y").scale,i=a.getExtent(),r=n.getExtent(),o=a.parse(e[0]),s=n.parse(e[1]);return t=t||[],t[0]=Math.min(Math.max(Math.min(i[0],i[1]),o),Math.max(i[0],i[1])),t[1]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),t},pointToData:function(e,t){var a=this.getAxis("x"),n=this.getAxis("y");return t=t||[],t[0]=a.coordToData(a.toLocalCoord(e[0])),t[1]=n.coordToData(n.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")},getArea:function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),a=Math.min(e[0],e[1]),n=Math.min(t[0],t[1]),r=Math.max(e[0],e[1])-a,o=Math.max(t[0],t[1])-n,s=new i(a,n,r,o);return s}},n.inherits(o,r);var s=o;e.exports=s},cc38:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},e._l(e.tips,(function(t,n){return a("span",{key:n},[0!==n?a("br"):e._e(),e._v("\n      "+e._s(t.title)),a("br"),e._v("\n      "+e._s(t.msg)),a("br")])})),0),a("i",{staticClass:"el-icon-question"})])},i=[],r={name:"quoteTooltip",data:function(){return{tips:[{title:"获取入参请求头aaa的值",msg:"input.request.headers.aaa"},{title:"获取入参请求体bbb字段的值",msg:"input.request.body.bbb"},{title:"获取入参URL Query参数fff字段的值",msg:"input.request.params.fff"},{title:"获取步骤1里request1的请求头ccc的值",msg:"step1.request1.request.headers.ccc"},{title:"获取步骤1里request1的响应体ddd的值",msg:"step1.request1.response.body.ddd"},{title:"获取步骤1结果里eee的值",msg:"step1.result.eee"},{title:"获取步骤1里request1的响应码的值",msg:"step1.request1.response.httpStatus"},{title:"获取公共资源account.name的值",msg:"g.account.name"},{title:"默认值：input.request.body.bbb|123",msg:"管道符|后面是默认值，当引用值为空时返回默认值"}]}}},o=r,s=(a("b152"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"e43a0e30",null);t["default"]=l.exports},cc45:function(e,t,a){var n=a("1a2d"),i=a("b047"),r=a("99d3"),o=r&&r.isMap,s=o?i(o):n;e.exports=s},ccb2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("input",{ref:"urlInput",staticClass:"url-input"}),a("div",{staticClass:"filter-con"},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-check"},on:{click:function(t){e.codeVisible=!0}}},[e._v("配对")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},e._l(e.list,(function(t){return a("div",{key:t.id,staticClass:"document-item"},[a("div",{staticClass:"header"},[a("span",{staticClass:"company"},[e._v(e._s(t.org))])]),a("div",{staticClass:"card-con"},[e._l(t.dedicatedLineBizRelations,(function(t,n){return a("div",{key:n,staticClass:"card-item"},[a("div",{staticClass:"card-item-padding"},[a("div",{staticClass:"card-item-left",class:{open:t.status}},[a("i",{staticClass:"el-icon-connection"}),a("div",{staticClass:"card-item-left-con"},[a("p",{staticClass:"title",attrs:{title:t.name}},[e._v(e._s(t.name))]),a("p",{staticClass:"description",attrs:{title:t.description}},[e._v(e._s(t.description||"暂无描述"))])])]),a("div",{staticClass:"card-item-right"},[0===t.status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.apply(t)}}},[e._v("申    请")]):e._e(),1===t.status&&1===t.type&&t.docSetId?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showDoc(t)}}},[e._v("查看文档")]):e._e(),1!==t.status||1!==t.type||t.docSetId?e._e():a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showUsage(t)}}},[e._v("使用说明")]),1===t.status&&2===t.type?a("el-button",{staticClass:"two-buttons",attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showView(t)}}},[e._v("浏  览")]):e._e(),1===t.status&&2===t.type?a("el-button",{staticClass:"two-buttons",attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(a){return e.showGateway(t)}}},[e._v("设置网关地址")]):e._e()],1)])])})),0===t.dedicatedLineBizRelations.length?a("avue-empty"):e._e()],2)])})),0),0===e.list.length?a("avue-empty"):e._e(),e.codeVisible?a("pairCodeDialog",{attrs:{visible:e.codeVisible},on:{changeVisible:function(t){e.codeVisible=!1},doSearch:e.getList}}):e._e(),e.useageVisible?a("usageDialog",{attrs:{visible:e.useageVisible,services:e.services},on:{changeVisible:function(t){e.useageVisible=!1}}}):e._e(),e.gatewayVisible?a("setGatewayDialog",{attrs:{visible:e.gatewayVisible,dedicatedLineBizId:e.dedicatedLineBizId,webUrl:e.websiteUrl,entrancePath:e.entrancePath},on:{changeVisible:function(t){e.gatewayVisible=!1},doSearch:e.getList}}):e._e()],1)},i=[],r=(a("7f7f"),a("776d")),o=a("6e09"),s=a("d5ef"),l=a("d462"),c=a("c54a"),u={name:"match",components:{pairCodeDialog:r["default"],usageDialog:o["default"],setGatewayDialog:s["default"]},data:function(){return{list:[],loading:!1,codeVisible:!1,useageVisible:!1,gatewayVisible:!1,dedicatedLineBizId:null,websiteUrl:"",entrancePath:"",services:[]}},methods:{apply:function(e){var t=this;this.$refs.urlInput.value=e.email,this.$refs.urlInput.select(),document.execCommand("copy"),this.$confirm("商务合作请联系 ".concat(e.email),"提示",{confirmButtonText:"复制邮箱",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"邮箱地址已复制到粘贴板了!"})}))},showDoc:function(e){this.$router.push({path:"/public-network/interface/preview",query:{pairId:e.pairId,id:e.docSetId,dedicatedLineBizId:e.dedicatedLineBizId,documentName:e.name,type:"match",pageType:""}})},showUsage:function(e){this.useageVisible=!0,this.services=e.services},showView:function(e){if(e.websiteUrl&&e.entrancePath){var t=e.websiteUrl+e.entrancePath;if(!Object(c["n"])(t))return void this.$message.warning("地址不正确，无法浏览！");window.open(t)}},showGateway:function(e){this.gatewayVisible=!0,this.dedicatedLineBizId=e.id,this.websiteUrl=e.websiteUrl,this.entrancePath=e.entrancePath},getList:function(){var e=this;this.loading=!0,Object(l["a"])().then((function(t){200===t.data.code&&(e.list=t.data.data.records),e.loading=!1}),(function(){e.loading=!1}))}},mounted:function(){this.getList()}},d=u,p=(a("1191"),a("97a9"),a("2877")),h=Object(p["a"])(d,n,i,!1,null,"20659880",null);t["default"]=h.exports},ccbc:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,modal:!1,size:"880px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"selection-change":e.selectionChange},scopedSlots:e._u([{key:"menuLeft",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",plain:""},on:{click:e.batchDel}},[e._v("批量删除")])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),e.addVisible?a("add-route-dialog",{attrs:{visible:e.addVisible,app:e.app},on:{doSearch:e.doSearch,changeDrawer:function(t){e.addVisible=!1}}}):e._e()],1)},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("386d"),a("ade3")),o=a("3bfd"),s=a("27fc"),l=a("5880"),c=a("3e31");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"circle-dialog",components:{addRouteDialog:c["default"]},props:{visible:{type:Boolean,default:!1},appCondition:{type:Object,default:function(){return{}}}},data:function(){return{loading:!0,selectionData:[],page:{pageSize:10,currentPage:1,total:0},search:{},form:{},data:[],option:{selection:!0,dialogWidth:900,border:!0,index:!1,dialogClickModal:!1,viewBtn:!0,addBtnText:"添加路由",editBtn:!1,addBtn:!0,columnBtn:!1,menuPosition:"right",menuWidth:"150px",column:[{label:"网关分组",prop:"gatewayGroup",dicData:[]},{label:"路由类型",prop:"proxyMode",dicData:s["e"],width:80},{label:"前端服务名",prop:"service",overHidden:!0},{label:"前端API路径",prop:"path",overHidden:!0},{label:"请求方法",prop:"method",dicData:this.apiMethod,overHidden:!0,width:80}]},addVisible:!1,app:""}},computed:d(d({},Object(l["mapGetters"])(["permission","apiMethod","groupOptions"])),{},{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}},permissionList:function(){return{addBtn:this.vaildData(this.permission.proxy_appid_add,!1),viewBtn:this.vaildData(this.permission.proxy_appid_view,!1),editBtn:this.vaildData(this.permission.proxy_appid_edit,!1),delBtn:this.vaildData(this.permission.proxy_appid_delete,!1)}},title:function(){return this.appCondition.appName?"【".concat(this.appCondition.appName,"】 路由权限"):"路由权限"}}),watch:{groupOptions:function(e){var t=this.findObject(this.option.column,"gatewayGroup");t.dicData=e||[]}},methods:d(d({},Object(l["mapActions"])(["getGroupOptions"])),{},{selectionChange:function(e){this.selectionData=e},rowDel:function(e){this.delHandle(e.id)},delHandle:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["m"])({ids:e,appId:t.appCondition.app})})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},doSearch:function(){this.page.currentPage=1,this.onLoad(this.page)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["k"])(e.currentPage,e.pageSize,Object.assign(a,this.query,{appCondition:this.appCondition.app||""})).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.search)},beforeOpen:function(e,t){if("add"===t||this.form.id){if("add"===t)return this.addVisible=!0,void(this.app=this.appCondition.app);var a="/proxy/detail/".concat(t);this.$router.push({path:a,query:{originId:this.form.id,app:this.appCondition.app,appName:this.appCondition.appName}})}else this.$message.error("数据缺失，无法操作！")},batchDel:function(){if(0!==this.selectionData.length){var e=[];this.selectionData.forEach((function(t){e.push(t.id)})),this.delHandle(e.join(","))}else this.$message.warning("请选择要删除的数据！")}}),mounted:function(){this.getGroupOptions()}},h=p,f=(a("bb0c"),a("2877")),g=Object(f["a"])(h,n,i,!1,null,"44b7f296",null);t["default"]=g.exports},ccbe:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"g",(function(){return p})),a.d(t,"f",(function(){return h})),a.d(t,"d",(function(){return f}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/detail"),method:"get",params:{id:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/remove"),method:"post",params:{ids:e}})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/submit"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/submit"),method:"post",data:e})},h=function(e,t){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/setting"),method:"post",params:s(s({},t),{},{ids:e})})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/tenant/info"),method:"get",params:{domain:e}})}},cccd:function(e,t,a){var n=a("e0d3"),i=n.makeInner;function r(){var e=i();return function(t){var a=e(t),n=t.pipelineContext,i=a.large,r=a.progressiveRender,o=a.large=n&&n.large,s=a.progressiveRender=n&&n.progressiveRender;return!!(i^o||r^s)&&"reset"}}e.exports=r},ccdc:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{"popper-class":"tooltip-dark",placement:"top",title:e.title,width:"500"}},[a("div",{staticClass:"content"},[e._v("\n    API路径匹配规则说明：\n    "),a("br"),a("br"),e._v("\n    ?   匹配一个字符"),a("br"),e._v("\n    *   匹配一级目录内的0个或多个字符"),a("br"),e._v("\n    **  匹配0级或多级目录"),a("br"),e._v("\n    {fizz:[a-z]+} 匹配正则表达式 [a-z]+，匹配结果赋值给名为fizz的路径变量"),a("br"),a("br"),e._v("\n    后端API路径可以通过{$1}-{$n}来获取前端API路径中通配符和正则表达式的值，正则表达式的值也可以通过命名变量来获取；\n    "),a("br"),a("br"),e._v("\n    例子："),a("br"),e._v("\n    前端API路径： /x/{fizz:[a-z]+}/z/**"),a("br"),e._v("\n    后端API路径： /x/{fizz}/{$2} 或 /x/{$1}/{$2}"),a("br"),e._v("\n    此例中 {fizz} 和{$1} 取的都是前端API路径中正则表达式{fizz:[a-z]+}的值\n    "),a("br"),a("br"),e._v("\n    当请求接口路径/x/y/z/a/b/c时，会匹配到上面的路由，{fizz} 和{$1}的值为y, {$2}的值为a/b/c\n  ")]),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("("+e._s(e.title)+")")])])},i=[],r={name:"tooltip-path",props:{title:{type:String,default:"规则说明"}}},o=r,s=(a("51a5"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},cd12:function(e,t,a){a("01ed"),a("4a9d"),a("cb8f")},cd33:function(e,t,a){var n=a("6d8b"),i=a("4319"),r=n.each,o=n.curry;function s(e,t){var a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return l(a,e,t),a.seriesInvolved&&u(a,e),a}function l(e,t,a){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),s=i.get("link",!0)||[],l=[];r(a.getCoordinateSystems(),(function(a){if(a.axisPointerEnabled){var u=b(a.model),p=e.coordSysAxesInfo[u]={};e.coordSysMap[u]=a;var h=a.model,f=h.getModel("tooltip",n);if(r(a.getAxes(),o(w,!1,null)),a.getTooltipAxes&&n&&f.get("show")){var g="axis"===f.get("trigger"),v="cross"===f.get("axisPointer.type"),y=a.getTooltipAxes(f.get("axisPointer.axis"));(g||v)&&r(y.baseAxes,o(w,!v||"cross",g)),v&&r(y.otherAxes,o(w,"cross",!1))}}function w(n,r,o){var u=o.model.getModel("axisPointer",i),h=u.get("show");if(h&&("auto"!==h||n||m(u))){null==r&&(r=u.get("triggerTooltip")),u=n?c(o,f,i,t,n,r):u;var g=u.get("snap"),v=b(o.model),y=r||g||"category"===o.type,w=e.axesInfo[v]={key:v,axis:o,coordSys:a,axisPointerModel:u,triggerTooltip:r,involveSeries:y,snap:g,useHandle:m(u),seriesModels:[]};p[v]=w,e.seriesInvolved|=y;var _=d(s,o);if(null!=_){var x=l[_]||(l[_]={axesInfo:{}});x.axesInfo[v]=w,x.mapper=s[_].mapper,w.linkGroup=x}}}}))}function c(e,t,a,o,s,l){var c=t.getModel("axisPointer"),u={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(e){u[e]=n.clone(c.get(e))})),u.snap="category"!==e.type&&!!l,"cross"===c.get("type")&&(u.type="line");var d=u.label||(u.label={});if(null==d.show&&(d.show=!1),"cross"===s){var p=c.get("label.show");if(d.show=null==p||p,!l){var h=u.lineStyle=c.get("crossStyle");h&&n.defaults(d,h.textStyle)}}return e.model.getModel("axisPointer",new i(u,a,o))}function u(e,t){t.eachSeries((function(t){var a=t.coordinateSystem,n=t.get("tooltip.trigger",!0),i=t.get("tooltip.show",!0);a&&"none"!==n&&!1!==n&&"item"!==n&&!1!==i&&!1!==t.get("axisPointer.show",!0)&&r(e.coordSysAxesInfo[b(a.model)],(function(e){var n=e.axis;a.getAxis(n.dim)===n&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}),this)}function d(e,t){for(var a=t.model,n=t.dim,i=0;i<e.length;i++){var r=e[i]||{};if(p(r[n+"AxisId"],a.id)||p(r[n+"AxisIndex"],a.componentIndex)||p(r[n+"AxisName"],a.name))return i}}function p(e,t){return"all"===e||n.isArray(e)&&n.indexOf(e,t)>=0||e===t}function h(e){var t=f(e);if(t){var a=t.axisPointerModel,n=t.axis.scale,i=a.option,r=a.get("status"),o=a.get("value");null!=o&&(o=n.parse(o));var s=m(a);null==r&&(i.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function f(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[b(e)]}function g(e){var t=f(e);return t&&t.axisPointerModel}function m(e){return!!e.get("handle.show")}function b(e){return e.type+"||"+e.id}t.collect=s,t.fixValue=h,t.getAxisInfo=f,t.getAxisPointerModel=g,t.makeKey=b},cd67:function(e,t,a){"use strict";a("bc52")},cd9d:function(e,t){function a(e){return e}e.exports=a},cdaa:function(e,t,a){var n=a("607d"),i=n.addEventListener,r=n.removeEventListener,o=n.normalizeEvent,s=n.getNativeEvent,l=a("6d8b"),c=a("1fab"),u=a("22d1"),d=300,p=u.domSupported,h=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],a={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=l.map(e,(function(e){var t=e.replace("mouse","pointer");return a.hasOwnProperty(t)?t:e}));return{mouse:e,touch:t,pointer:n}}(),f={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function g(e){return"mousewheel"===e&&u.browser.firefox?"DOMMouseScroll":e}function m(e){var t=e.pointerType;return"pen"===t||"touch"===t}function b(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.touching=!1,e.touchTimer=null}),700)}function v(e){e&&(e.zrByTouch=!0)}function y(e,t){return o(e.dom,new _(e,t),!0)}function w(e,t){var a=t,n=!1;while(a&&9!==a.nodeType&&!(n=a.domBelongToZr||a!==t&&a===e.painterRoot))a=a.parentNode;return n}function _(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var x=_.prototype;x.stopPropagation=x.stopImmediatePropagation=x.preventDefault=l.noop;var O={mousedown:function(e){e=o(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=o(this.dom,e);var t=this._mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||P(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=o(this.dom,e),P(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=o(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=w(this,t),this.trigger("mouseout",e)},touchstart:function(e){e=o(this.dom,e),v(e),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),O.mousemove.call(this,e),O.mousedown.call(this,e)},touchmove:function(e){e=o(this.dom,e),v(e),this.handler.processGesture(e,"change"),O.mousemove.call(this,e)},touchend:function(e){e=o(this.dom,e),v(e),this.handler.processGesture(e,"end"),O.mouseup.call(this,e),+new Date-this._lastTouchMoment<d&&O.click.call(this,e)},pointerdown:function(e){O.mousedown.call(this,e)},pointermove:function(e){m(e)||O.mousemove.call(this,e)},pointerup:function(e){O.mouseup.call(this,e)},pointerout:function(e){m(e)||O.mouseout.call(this,e)}};l.each(["click","mousewheel","dblclick","contextmenu"],(function(e){O[e]=function(t){t=o(this.dom,t),this.trigger(e,t)}}));var D={pointermove:function(e){m(e)||D.mousemove.call(this,e)},pointerup:function(e){D.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;P(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function C(e,t){var a=t.domHandlers;u.pointerEventsSupported?l.each(h.pointer,(function(n){S(t,n,(function(t){a[n].call(e,t)}))})):(u.touchEventsSupported&&l.each(h.touch,(function(n){S(t,n,(function(i){a[n].call(e,i),b(t)}))})),l.each(h.mouse,(function(n){S(t,n,(function(i){i=s(i),t.touching||a[n].call(e,i)}))})))}function k(e,t){function a(a){function n(n){n=s(n),w(e,n.target)||(n=y(e,n),t.domHandlers[a].call(e,n))}S(t,a,n,{capture:!0})}u.pointerEventsSupported?l.each(f.pointer,a):u.touchEventsSupported||l.each(f.mouse,a)}function S(e,t,a,n){e.mounted[t]=a,e.listenerOpts[t]=n,i(e.domTarget,g(t),a,n)}function j(e){var t=e.mounted;for(var a in t)t.hasOwnProperty(a)&&r(e.domTarget,g(a),t[a],e.listenerOpts[a]);e.mounted={}}function P(e,t){if(e._mayPointerCapture=null,p&&e._pointerCapturing^t){e._pointerCapturing=t;var a=e._globalHandlerScope;t?k(e,a):j(a)}}function T(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function I(e,t){c.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new T(e,O),p&&(this._globalHandlerScope=new T(document,D)),this._pointerCapturing=!1,this._mayPointerCapture=null,C(this,this._localHandlerScope)}var L=I.prototype;L.dispose=function(){j(this._localHandlerScope),p&&j(this._globalHandlerScope)},L.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},l.mixin(I,c);var z=I;e.exports=z},ce08:function(e,t,a){"use strict";a("b4ef")},ce64:function(e,t,a){},ce86:function(e,t,a){var n=a("9e69"),i=a("7948"),r=a("6747"),o=a("ffd6"),s=1/0,l=n?n.prototype:void 0,c=l?l.toString:void 0;function u(e){if("string"==typeof e)return e;if(r(e))return i(e,u)+"";if(o(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=u},cf7e:function(e,t,a){var n=a("6d8b");function i(e){return this._axes[e]}var r=function(e){this._axes={},this._dimList=[],this.name=e||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return n.map(this._dimList,i,this)},getAxesByScale:function(e){return e=e.toLowerCase(),n.filter(this.getAxes(),(function(t){return t.scale.type===e}))},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var a=this._dimList,n=e instanceof Array?[]:{},i=0;i<a.length;i++){var r=a[i],o=this._axes[r];n[r]=o[t](e[r])}return n}};var o=r;e.exports=o},d02c:function(e,t,a){var n=a("5e2e"),i=a("79bc"),r=a("7b83"),o=200;function s(e,t){var a=this.__data__;if(a instanceof n){var s=a.__data__;if(!i||s.length<o-1)return s.push([e,t]),this.size=++a.size,this;a=this.__data__=new r(s)}return a.set(e,t),this.size=a.size,this}e.exports=s},d15d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,"modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"800px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,disabled:e.disabled,size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入 名称",clearable:"",disabled:"edit"===e.type},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("span",{staticClass:"key-tips"},[e._v("名称可自定义, 网关会根据该名称来获取注册中心的配置，如：Eureka_1; 保存后名称不能修改")])],1),a("el-form-item",{attrs:{label:"描述:",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入 描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"类型:",prop:"type"}},[a("el-radio-group",{attrs:{placeholder:"请选择 类型"},on:{change:e.renderDefaultContent},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-radio",{attrs:{label:1}},[e._v("Eureka")]),a("el-radio",{attrs:{label:2}},[e._v("Nacos")])],1)],1),a("el-form-item",{attrs:{label:"配置格式:",prop:"format"}},[a("el-radio-group",{attrs:{placeholder:"请选择 配置格式"},on:{change:e.renderDefaultContent},model:{value:e.form.format,callback:function(t){e.$set(e.form,"format",t)},expression:"form.format"}},[a("el-radio",{attrs:{label:1}},[e._v("yml")]),a("el-radio",{attrs:{label:2}},[e._v("properties")])],1)],1),a("el-form-item",{attrs:{label:"配置内容:",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入 配置内容"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1)],1),"view"!==e.type?a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.submitHandle}},[e._v(" 确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取 消 ")])],1):e._e()])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("ade3")),o=a("5880"),s=a("0a6a");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={props:{visible:{type:Boolean,default:!1},type:{type:String,default:""},id:{type:String,default:""}},data:function(){return{disabled:!1,form:{content:""},rules:{name:[{required:!0,message:"必填",trigger:"blur"}],type:[{required:!0,message:"必填",trigger:"change"}],format:[{required:!0,message:"必填",trigger:"change"}],content:[{required:!0,message:"必填",trigger:"change"}]},loading:!1}},computed:c(c({},Object(o["mapGetters"])(["frontendServiceOptions"])),{},{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}},title:function(){var e="";switch(this.type){case"add":e="新增 注册中心";break;case"edit":e="修改 注册中心";break;case"view":e="注册中心 详情";break}return e}}),methods:{getDetail:function(){var e=this;this.id&&Object(s["b"])(this.id).then((function(t){200===t.data.code?e.form=t.data.data:e.$message({type:"error",message:t.data.msg||"详情查询失败！"})}))},submitHandle:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.loading=!0;var a="add"===e.type?s["a"]:s["f"];a(e.form).then((function(t){200===t.data.code&&(e.$message({type:"success",message:"add"===e.type?"保存成功！":"修改成功！"}),e.dialogVisible=!1,e.$emit("doSearch")),e.loading=!1})).catch((function(){e.loading=!1}))}}))},renderDefaultContent:function(){1===this.form.type&&1===this.form.format?this.form.content="eureka:\n  client:\n    serviceUrl:\n      # need replace\n      defaultZone: http://6.6.6.6:6600/eureka/\n":1===this.form.type&&2===this.form.format?this.form.content="eureka.client.serviceUrl.defaultZone=http://6.6.6.6:6600/eureka/ ":2===this.form.type&&1===this.form.format?this.form.content="nacos:\n  discovery:\n    # need replace\n    server-addr: 6.6.6.6:8848\n    namespace: null\n    group: DEFAULT_GROUP \n":2===this.form.type&&2===this.form.format&&(this.form.content="# need replace \nnacos.discovery.server-addr=6.6.6.6:8848\nnacos.discovery.namespace=null\nnacos.discovery.group=DEFAULT_GROUP\n")}},mounted:function(){"view"===this.type&&(this.disabled=!0),["edit","view"].includes(this.type)&&this.getDetail()}},d=u,p=(a("d83d"),a("e775"),a("2877")),h=Object(p["a"])(d,n,i,!1,null,"29f7e7f0",null);t["default"]=h.exports},d15d0:function(e,t,a){var n=a("6d8b"),i=n.createHashMap,r=n.each;function o(e){var t=i();e.eachSeries((function(e){var a=e.get("stack");if(a){var n=t.get(a)||t.set(a,[]),i=e.getData(),r={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:e};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;n.length&&i.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(r)}})),t.each(s)}function s(e){r(e,(function(t,a){var n=[],i=[NaN,NaN],r=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=o.map(r,(function(r,l,c){var u,d,p=o.get(t.stackedDimension,c);if(isNaN(p))return i;s?d=o.getRawIndex(c):u=o.get(t.stackedByDimension,c);for(var h=NaN,f=a-1;f>=0;f--){var g=e[f];if(s||(d=g.data.rawIndexOf(g.stackedByDimension,u)),d>=0){var m=g.data.getByRawIndex(g.stackResultDimension,d);if(p>=0&&m>0||p<=0&&m<0){p+=m,h=m;break}}}return n[0]=p,n[1]=h,n}));o.hostModel.setData(l),t.data=l}))}e.exports=o},d2bc:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,search:e.search,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:search":function(t){e.search=t},"update:page":function(t){e.page=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("template",{slot:"serviceSearch"},[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],2)],1)},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("8615"),a("96cf"),a("1da1")),o=(a("6762"),a("2fdb"),a("ade3")),s=a("5880"),l=a("4c02");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=[{label:"接口错误",value:"1"},{label:"接口超时",value:"2"},{label:"限流",value:"3"},{label:"熔断",value:"4"}],p={name:"subscriptionAlarm",components:{},data:function(){return{form:{},query:{},search:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,editBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,menuWidth:320,column:[{label:"主题",prop:"subject",search:!0},{label:"前端服务名",prop:"service",search:!0,searchslot:!0,searchLabelWidth:100,searchSpan:8},{label:"告警类型",prop:"type",type:"select",dicData:d},{label:"用户",prop:"user",search:!0},{label:"创建时间",prop:"createTime"},{label:"更新时间",prop:"updateTime"}]},data:[]}},computed:u(u({},Object(s["mapGetters"])(["permission","frontendServiceOptions"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.alarm_subscription_add,!1),editBtn:this.vaildData(this.permission.alarm_subscription_edit,!1),delBtn:this.vaildData(this.permission.alarm_subscription_remove,!1),viewBtn:this.vaildData(this.permission.alarm_subscription_view,!1)}}}),methods:u(u({},Object(s["mapActions"])(["getFrontendServiceOptions"])),{},{rowDel:function(e){var t=this;this.$confirm("你确定要删除此订阅告警吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){["add","edit","view"].includes(t)&&this.$router.push({path:"/alarm/subscription/".concat(t),query:{type:t,id:this.form.id}})},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=i.length>1&&void 0!==i[1]?i[1]:{},this.loading=!0,Object(l["c"])(t.currentPage,t.pageSize,Object.assign(a,this.query)).then((function(e){var t=e.data.data;n.page.total=t.total,n.data=t.records,n.data.map((function(e){e.service=e.services.join(",");var t=[];return d.forEach((function(a){(e.types.indexOf("0")>-1||e.types.indexOf(a.value)>-1)&&t.push(a.label)})),e.type=t.join(","),e.user=Object.values(e.userId2NameMap||[]).join(","),e})),n.loading=!1})).catch((function(){n.loading=!1}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}),created:function(){this.getFrontendServiceOptions()}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,"6868b6d6",null);t["default"]=g.exports},d2bd:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"serviceSearch",fn:function(t){return[a("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.search.service,callback:function(t){e.$set(e.search,"service",t)},expression:"search.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),a("el-dialog",{attrs:{"append-to-body":"",width:"900px","close-on-click-modal":!1,title:e.detailDialog.title,visible:e.detailDialog.visible},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.dialogForm,rules:e.dialogRules,size:"small",disabled:"view"===e.detailDialog.type,"label-width":"155px"}},[a("el-form-item",{attrs:{label:"来源IP",prop:"ip"}},[a("el-input",{staticStyle:{width:"193px"},attrs:{placeholder:"请输入来源IP",clearable:""},model:{value:e.dialogForm.ip,callback:function(t){e.$set(e.dialogForm,"ip",t)},expression:"dialogForm.ip"}})],1),a("el-form-item",{attrs:{label:"前端服务名",prop:"service"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:""},model:{value:e.dialogForm.service,callback:function(t){e.$set(e.dialogForm,"service",t)},expression:"dialogForm.service"}},e._l(e.frontendServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"前端API路径",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入前端API路径",clearable:""},model:{value:e.dialogForm.path,callback:function(t){e.$set(e.dialogForm,"path",t)},expression:"dialogForm.path"}}),a("span",{staticClass:"key-tips"},[e._v("如果接口URL为http://网关IP:port/proxy/user-service/user/list, 则输入/user/list，如果不配置路径则按服务限流")])],1),a("el-form-item",{attrs:{label:"集群共享QPS",prop:"qps"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.qps*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.qps,callback:function(t){e.$set(e.dialogForm,"qps",t)},expression:"dialogForm.qps"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),a("el-form-item",{attrs:{label:"集群共享并发数",prop:"concurrent"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"num-tips"},[e._v(e._s(e.dialogForm.concurrent*e.machineCount||""))]),a("span",[e._v("  =  ")]),a("el-input",{staticStyle:{width:"180px"},attrs:{clearable:""},model:{value:e.dialogForm.concurrent,callback:function(t){e.$set(e.dialogForm,"concurrent",t)},expression:"dialogForm.concurrent"}}),a("span",[e._v("（单机）* "+e._s(e.machineCount))])],1)]),a("el-form-item",{attrs:{label:"限流响应ContentType:",prop:"responseContentType"}},[a("el-input",{attrs:{placeholder:"请输入ContentType",clearable:""},model:{value:e.dialogForm.responseContentType,callback:function(t){e.$set(e.dialogForm,"responseContentType",t)},expression:"dialogForm.responseContentType"}}),a("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应ContentType")])],1),a("el-form-item",{attrs:{label:"限流响应报文：",prop:"responseContent"}},[a("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入响应报文",clearable:""},model:{value:e.dialogForm.responseContent,callback:function(t){e.$set(e.dialogForm,"responseContent",t)},expression:"dialogForm.responseContent"}}),a("span",{staticClass:"key-tips"},[e._v("如果不配置则使用默认规则里的限流响应报文")])],1)],1),"view"!==e.detailDialog.type?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small",loading:e.detailDialog.loading},on:{click:e.submitForm}},[e._v("提 交\n      ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailDialog.visible=!1}}},[e._v("取 消")])],1):e._e()],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("ade3")),o=a("b5c6"),s=a("da71");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(e,t,a){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/ip/list"),method:"get",params:c(c({},a),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/ip/detail/").concat(e),method:"get"})},p=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/ip/remove"),method:"post",params:{ids:e}})},h=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/ip/save"),method:"post",data:e})},f=function(e){return Object(o["a"])({url:"".concat(s["a"],"/flow-control-rule/ip/update"),method:"post",data:e})},g=a("6be7"),m=a("5880"),b=a("16cd"),v=a("c54a");function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={name:"flow-ip",data:function(){return{form:{},search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,columnBtn:!1,menuPosition:"right",searchLabelWidth:95,column:[{label:"来源IP",prop:"ip",search:!0},{label:"前端服务名",prop:"service",search:!0,searchslot:!0,searchSpan:8},{label:"前端API路径",prop:"path",search:!0},{label:"单机QPS",prop:"qps"},{label:"单机并发数",prop:"concurrent"}]},data:[],globalData:{},dialogForm:{},dialogRules:{ip:[{required:!0,message:"必填",trigger:"blur"},{validator:function(e,t,a){t&&!Object(v["j"])(Object(b["a"])(t))?a(new Error("请输入正确的IP")):a()},trigger:"blur"}],path:[{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}],qps:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}],concurrent:[{pattern:/^[1-9][0-9]*$/,message:"请输入大于0的整数",trigger:"blur"}]},detailDialog:{visible:!1,title:"详情",type:"",loading:!1}}},computed:w(w({},Object(m["mapGetters"])(["permission","frontendServiceOptions"])),{},{machineCount:function(){return this.globalData.machineCount||0}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},created:function(){this.getGlobalRule(),this.getFrontendServiceOptions()},methods:w(w({},Object(m["mapActions"])(["getFrontendServiceOptions"])),{},{getGlobalRule:function(){var e=this;Object(g["a"])().then((function(t){var a=t.data.data;e.globalData=a||{}}))},submitForm:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var a=Object(b["b"])(e.dialogForm);if(!a.qps&&!a.concurrent)return e.$message.error("单机QPS、单机并发数，请至少填写一个"),!1;"edit"===e.detailDialog.type?e.rowUpdate(a):e.rowSave(a)}}))},rowSave:function(e){var t=this;this.detailDialog.loading=!0,h(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"保存成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowUpdate:function(e){var t=this;this.detailDialog.loading=!0,f(e).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"修改成功"}),t.detailDialog.visible=!1}),(function(e){window.console.log(e)})).finally((function(){t.detailDialog.loading=!1}))},rowDel:function(e){var t=this;this.$confirm("你确定要删除此流控规则吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){var a=this;switch(this.dialogForm={},this.detailDialog.type=t,t){case"add":this.detailDialog.title="新增";break;case"edit":this.detailDialog.title="编辑";break;case"view":this.detailDialog.title="查看";break;default:this.detailDialog.title="详情";break}["edit","view"].includes(t)?d(this.form.id).then((function(e){a.form=e.data.data,a.dialogForm=Object.assign({},e.data.data||{}),a.detailDialog.visible=!0})):this.detailDialog.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}})},x=_,O=(a("f458"),a("2877")),D=Object(O["a"])(x,n,i,!1,null,"86674b7c",null);t["default"]=D.exports},d2bf:function(e,t,a){"use strict";a("09a8")},d2cf:function(e,t,a){var n=a("6d8b"),i=a("401b"),r=a("cb6d"),o=a("1fab"),s=a("607d"),l=a("0b44"),c="silent";function u(e,t,a){return{type:e,event:a,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch,which:a.which,stop:d}}function d(){s.stop(this.event)}function p(){}p.prototype.dispose=function(){};var h=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],f=function(e,t,a,n){o.call(this),this.storage=e,this.painter=t,this.painterRoot=n,a=a||new p,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,r.call(this),this.setHandlerProxy(a)};function g(e,t,a){if(e[e.rectHover?"rectContain":"contain"](t,a)){var n,i=e;while(i){if(i.clipPath&&!i.clipPath.contain(t,a))return!1;i.silent&&(n=!0),i=i.parent}return!n||c}return!1}function m(e,t,a){var n=e.painter;return t<0||t>n.getWidth()||a<0||a>n.getHeight()}f.prototype={constructor:f,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(n.each(h,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,a=e.zrY,n=m(this,t,a),i=this._hovered,r=i.target;r&&!r.__zr&&(i=this.findHover(i.x,i.y),r=i.target);var o=this._hovered=n?{x:t,y:a}:this.findHover(t,a),s=o.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),r&&s!==r&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(o,"mousemove",e),s&&s!==r&&this.dispatchToElement(o,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,a=e.zrIsToLocalDOM;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&!a&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var a=this[e];a&&a.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,a){e=e||{};var n=e.target;if(!n||!n.silent){var i="on"+t,r=u(t,e,a);while(n)if(n[i]&&(r.cancelBubble=n[i].call(n,r)),n.trigger(t,r),n=n.parent,r.cancelBubble)break;r.cancelBubble||(this.trigger(t,r),this.painter&&this.painter.eachOtherLayer((function(e){"function"===typeof e[i]&&e[i].call(e,r),e.trigger&&e.trigger(t,r)})))}},findHover:function(e,t,a){for(var n=this.storage.getDisplayList(),i={x:e,y:t},r=n.length-1;r>=0;r--){var o;if(n[r]!==a&&!n[r].ignore&&(o=g(n[r],e,t))&&(!i.topTarget&&(i.topTarget=n[r]),o!==c)){i.target=n[r];break}}return i},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new l);var a=this._gestureMgr;"start"===t&&a.clear();var n=a.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&a.clear(),n){var i=n.type;e.gestureEvent=i,this.dispatchToElement({target:n.target},i,n.event)}}},n.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){f.prototype[e]=function(t){var a,n,r=t.zrX,o=t.zrY,s=m(this,r,o);if("mouseup"===e&&s||(a=this.findHover(r,o),n=a.target),"mousedown"===e)this._downEl=n,this._downPoint=[t.zrX,t.zrY],this._upEl=n;else if("mouseup"===e)this._upEl=n;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||i.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,e,t)}})),n.mixin(f,o),n.mixin(f,r);var b=f;e.exports=b},d312:function(e,t,a){},d322:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isShow?a("footer",{staticClass:"licensed-footer"},[a("span",{staticClass:"licensed"},[e._v("AGPL v3 Licensed | Copyright © 2020-present Fizz")]),a("p",[e.website?a("a",{attrs:{target:"_blank",href:"http://beian.miit.gov.cn"}},[e._v("\n      "+e._s(e.website)+"\n    ")]):e._e(),a("span",{directives:[{name:"show",rawName:"v-show",value:e.website&&e.netSecurity,expression:"website && netSecurity"}],staticClass:"space-line"},[e._v(" | ")]),e.netSecurity?a("a",{attrs:{target:"_blank",href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode="+e.recordCode}},[a("img",{staticStyle:{position:"relative",top:"3px"},attrs:{src:"/img/beian.png"}}),e._v("\n      "+e._s(e.netSecurity)+"\n    ")]):e._e()])]):e._e()},i=[],r=(a("a481"),a("c24f")),o={name:"main",data:function(){return{website:"",netSecurity:""}},computed:{isShow:function(){return this.website||this.netSecurity||!1},recordCode:function(){return this.netSecurity.replace(/[^0-9]/gi,"")||""}},created:function(){var e=this;Object(r["c"])().then((function(t){var a=t.data.data;e.website=a.website,e.netSecurity=a.netSecurity}))}},s=o,l=(a("8439"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"2ec9f580",null);t["default"]=c.exports},d327:function(e,t){function a(){return[]}e.exports=a},d370:function(e,t,a){var n=a("253c"),i=a("1310"),r=Object.prototype,o=r.hasOwnProperty,s=r.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},d442:function(e,t,a){"use strict";a("3a57")},d44f:function(e,t,a){"use strict";a("f23f")},d462:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return c}));var n=a("b5c6"),i=a("da71"),r=function(){return Object(n["a"])({url:"".concat(i["a"],"/pair/list"),method:"get",params:{current:1,size:-1}})},o=function(e){return Object(n["a"])({url:"".concat(i["a"],"/pair/pairing-req-info"),method:"post",data:e})},s=function(e,t){return Object(n["a"])({url:t,headers:e,method:"get"})},l=function(e){return Object(n["a"])({url:"".concat(i["a"],"/pair/pairing"),method:"post",data:e})},c=function(e){return Object(n["a"])({url:"".concat(i["a"],"/pair/update-website-url"),method:"post",data:e})}},d48a:function(e,t,a){},d498:function(e,t,a){var n=a("cbe5"),i=a("4fac"),r=n.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){i.buildPath(e,t,!1)}});e.exports=r},d4b0:function(e,t,a){},d4b1:function(e,t,a){var n=a("3eba"),i=a("17d6"),r=n.extendComponentView({type:"axisPointer",render:function(e,t,a){var n=t.getComponent("tooltip"),r=e.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";i.register("axisPointer",a,(function(e,t,a){"none"!==r&&("leave"===e||r.indexOf(e)>=0)&&a({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},remove:function(e,t){i.unregister(t.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(e,t){i.unregister("axisPointer",t),r.superApply(this._model,"dispose",arguments)}}),o=r;e.exports=o},d4b8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{"append-to-body":"","before-close":e.handleClose,visible:e.visible,title:"回放数据 ID-【"+e.id+"】",size:"60%"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,size:"small"}},[a("el-form-item",{attrs:{label:"回放方式:",prop:"mode",rules:{required:!0,message:"请选择回放方式",trigger:"change"}}},e._l(e.playbackMode,(function(t,n){return a("el-radio",{key:n,attrs:{label:t.value},model:{value:e.formData.mode,callback:function(t){e.$set(e.formData,"mode",t)},expression:"formData.mode"}},[e._v(e._s(t.label))])})),1),2===e.formData.mode?[a("el-form-item",{attrs:{label:"回放服务:",required:""}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addBackendConfig()}}}),a("el-table",{staticStyle:{margin:"10px 0 20px"},attrs:{data:e.callbackReceivers,border:"",stripe:"",size:"mini","max-height":"240"}},[a("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAll},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}})]}},{key:"default",fn:function(t){return[a("el-checkbox",{on:{change:e.handleCheckbox},model:{value:t.row.check,callback:function(a){e.$set(t.row,"check",a)},expression:"scope.row.check"}})]}}],null,!1,3696716012)}),a("el-table-column",{attrs:{label:"服务类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s((1===t.row.type?"服务编排":2===t.row.type&&"服务发现")||t.row.type)+"\n          ")]}}],null,!1,477322755)}),a("el-table-column",{attrs:{prop:"service",label:"服务名"}}),a("el-table-column",{attrs:{prop:"path",label:"路径"}})],1),e._l(e.formData.receivers,(function(t,n){return a("div",{key:n,staticClass:"multiple-config"},[a("el-form-item",{attrs:{label:"【新增服务"+(n+1)+"】类型：","label-width":"180px",required:""}},[a("el-radio-group",{on:{change:function(a){return e.changeType(t)}},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"item.type"}},[a("el-radio",{attrs:{label:1}},[e._v("服务编排")]),a("el-radio",{attrs:{label:2}},[e._v("服务发现")])],1)],1),2===t.type?a("el-form-item",{attrs:{label:"注册中心：","label-width":"92px",prop:"receivers."+n+".registryName",rules:[{required:!0,message:"注册中心不能为空",trigger:"change"}]}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择 注册中心",clearable:""},on:{change:function(a){return e.changeRegister(t)}},model:{value:t.registryName,callback:function(a){e.$set(t,"registryName",a)},expression:"item.registryName"}},e._l(e.registerList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"服务名：","label-width":"80px",prop:"receivers."+n+".service",rules:{required:!0,message:"服务名不能为空",trigger:"change"}}},[1===t.type?[a("el-select",{attrs:{placeholder:"请选择服务名",filterable:"",clearable:""},model:{value:t.service,callback:function(a){e.$set(t,"service",a)},expression:"item.service"}},e._l(e.aggregateServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]:2===t.type?[a("el-select",{attrs:{filterable:"",placeholder:"请选择服务名",clearable:""},model:{value:t.service,callback:function(a){e.$set(t,"service",a)},expression:"item.service"}},e._l(e.registerMap[t.registryName],(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)]:e._e()],2),a("el-form-item",{attrs:{label:"路径：","label-width":"80px",prop:"receivers."+n+".path",rules:[{required:!0,message:"路径不能为空",trigger:"blur"},{pattern:/^(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,message:"请填写正确的路径",trigger:"blur"}]}},[a("el-input",{staticClass:"backend-path",attrs:{placeholder:"转发目标路径，不支持模糊匹配",clearable:""},model:{value:t.path,callback:function(a){e.$set(t,"path",a)},expression:"item.path"}})],1),a("div",[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteRow(n,e.formData.receivers)}}})],1)],1)}))],2)]:e._e()],2),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:e.hadnleConfirm}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleClose()}}},[e._v("取 消")])],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("ade3")),o=(a("c5f6"),a("5880")),s=a("27fc"),l=a("4c7d"),c=a("3bfd"),u=a("0a6a");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={name:"publish-dialog",data:function(){return{loading:!1,formData:{receivers:[]},rules:{},playbackMode:s["d"],callbackReceivers:[],isIndeterminate:!1,checkAll:!1,registerMap:{},registerList:[]}},props:{visible:{type:Boolean,default:!1},name:{type:String,default:"*"},id:{type:[String,Number],required:!0},configId:{type:[String,Number],required:!0}},watch:{visible:function(e){e||(this.remark="")},configId:function(e){e&&this.getCallbackReceivers(e)},callbackReceivers:{deep:!0,handler:function(){this.handleCheckbox()}}},computed:p(p({},Object(o["mapGetters"])(["aggregateServiceOptions","discoveryServiceOptions"])),{},{checkList:function(){return this.callbackReceivers.filter((function(e){return!0===e.check}))||[]}}),created:function(){this.getAggregateServiceOptions(),this.getRegisterNameList()},methods:p(p({},Object(o["mapActions"])(["getAggregateServiceOptions"])),{},{deleteRow:function(e,t){t.splice(e,1)},addBackendConfig:function(){this.formData.receivers.push({type:1,service:"",path:"",registryName:""})},getCallbackReceivers:function(e){var t=this;Object(l["a"])(e).then((function(e){t.callbackReceivers=e.data.data||[]}))},handleCheckbox:function(){var e=this.callbackReceivers.filter((function(e){return!0===e.check})),t=e.length;this.checkAll=t===this.callbackReceivers.length,this.isIndeterminate=t>0&&t<this.callbackReceivers.length},handleCheckAll:function(e){this.callbackReceivers=this.callbackReceivers.map((function(t){return t.check=e,t})),this.isIndeterminate=!1},hadnleConfirm:function(){var e=this;this.$refs.formData.validate((function(t){if(t){var a={id:e.id,mode:e.formData.mode};if(e.formData.receivers.map((function(e){return 1===e.type&&delete e.registryName,e})),a.receivers=(e.checkList||[]).concat(e.formData.receivers||[]),2===e.formData.mode&&!a.receivers.length)return e.$message.error("选择接收回放的服务，服务不能为空"),!1;e.loading=!0,Object(l["d"])(a).then((function(){e.$message.success("回放成功"),e.$emit("update:visible",!1)})).finally((function(){e.loading=!1}))}}))},handleClose:function(e){this.$emit("update:visible",!1),e&&e()},changeRegister:function(e){e.service="",this.getDiscoveryServiceOptions(e.registryName)},getDiscoveryServiceOptions:function(e){var t=this;e&&Object(c["d"])({registryName:e}).then((function(a){var n=a.data.data||[],i=[];n.forEach((function(e){i.push({label:e,value:e})})),t.$set(t.registerMap,e,i)}))},getRegisterNameList:function(){var e=this;Object(u["d"])().then((function(t){if(200===t.data.code){var a=t.data.data;a.forEach((function(t){e.registerList.push({label:t,value:t})}))}}))},changeType:function(e){e.service="",e.registryName=""}})},f=h,g=(a("ea49"),a("2877")),m=Object(g["a"])(f,n,i,!1,null,"10b73090",null);t["default"]=m.exports},d4c6:function(e,t,a){var n=a("cbe5"),i=n.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,a=0;a<t.length;a++)e=e||t[a].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),a=0;a<e.length;a++)e[a].path||e[a].createPathProxy(),e[a].path.setScale(t[0],t[1],e[a].segmentIgnoreThreshold)},buildPath:function(e,t){for(var a=t.paths||[],n=0;n<a.length;n++)a[n].buildPath(e,a[n].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),n.prototype.getBoundingRect.call(this)}});e.exports=i},d4c8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("avue-back-top",{attrs:{id:"avue-view"}}),a("avue-back-top",{attrs:{id:"avue-view",height:100,bottom:200}},[a("div",{staticClass:"top"},[e._v("返回顶端")])])],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"2000px","background-color":"#fff"}},[a("div",{staticStyle:{padding:"15px 20px","font-size":"18px"}},[e._v("往下拉就会出现返回菜单")])])}],r={},o=r,s=(a("56c5"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"9b5b37d8",null);t["default"]=l.exports},d4d1:function(e,t,a){var n=a("cbe5"),i=a("401b"),r=a("897a"),o=i.min,s=i.max,l=i.scaleAndAdd,c=i.copy,u=[],d=[],p=[];function h(e){return isNaN(e[0])||isNaN(e[1])}function f(e,t,a,n,i,r,o,s,l,c,u){return"none"!==c&&c?g.apply(this,arguments):m.apply(this,arguments)}function g(e,t,a,n,i,r,o,s,l,u,f){for(var g=0,m=a,b=0;b<n;b++){var v=t[m];if(m>=i||m<0)break;if(h(v)){if(f){m+=r;continue}break}if(m===a)e[r>0?"moveTo":"lineTo"](v[0],v[1]);else if(l>0){var y=t[g],w="y"===u?1:0,_=(v[w]-y[w])*l;c(d,y),d[w]=y[w]+_,c(p,v),p[w]=v[w]-_,e.bezierCurveTo(d[0],d[1],p[0],p[1],v[0],v[1])}else e.lineTo(v[0],v[1]);g=m,m+=r}return b}function m(e,t,a,n,r,f,g,m,b,v,y){for(var w=0,_=a,x=0;x<n;x++){var O=t[_];if(_>=r||_<0)break;if(h(O)){if(y){_+=f;continue}break}if(_===a)e[f>0?"moveTo":"lineTo"](O[0],O[1]),c(d,O);else if(b>0){var D=_+f,C=t[D];if(y)while(C&&h(t[D]))D+=f,C=t[D];var k=.5,S=t[w];C=t[D];if(!C||h(C))c(p,O);else{var j,P;if(h(C)&&!y&&(C=O),i.sub(u,C,S),"x"===v||"y"===v){var T="x"===v?0:1;j=Math.abs(O[T]-S[T]),P=Math.abs(O[T]-C[T])}else j=i.dist(O,S),P=i.dist(O,C);k=P/(P+j),l(p,O,u,-b*(1-k))}o(d,d,m),s(d,d,g),o(p,p,m),s(p,p,g),e.bezierCurveTo(d[0],d[1],p[0],p[1],O[0],O[1]),l(d,O,u,b*k)}else e.lineTo(O[0],O[1]);w=_,_+=f}return x}function b(e,t){var a=[1/0,1/0],n=[-1/0,-1/0];if(t)for(var i=0;i<e.length;i++){var r=e[i];r[0]<a[0]&&(a[0]=r[0]),r[1]<a[1]&&(a[1]=r[1]),r[0]>n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])}return{min:t?a:n,max:t?n:a}}var v=n.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(n.prototype.brush),buildPath:function(e,t){var a=t.points,n=0,i=a.length,r=b(a,t.smoothConstraint);if(t.connectNulls){for(;i>0;i--)if(!h(a[i-1]))break;for(;n<i;n++)if(!h(a[n]))break}while(n<i)n+=f(e,a,n,i,i,1,r.min,r.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),y=n.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(n.prototype.brush),buildPath:function(e,t){var a=t.points,n=t.stackedOnPoints,i=0,r=a.length,o=t.smoothMonotone,s=b(a,t.smoothConstraint),l=b(n,t.smoothConstraint);if(t.connectNulls){for(;r>0;r--)if(!h(a[r-1]))break;for(;i<r;i++)if(!h(a[i]))break}while(i<r){var c=f(e,a,i,r,r,1,s.min,s.max,t.smooth,o,t.connectNulls);f(e,n,i+c-1,c,r,-1,l.min,l.max,t.stackedOnSmooth,o,t.connectNulls),i+=c+1,e.closePath()}}});t.Polyline=v,t.Polygon=y},d51b:function(e,t){var a=function(){this.head=null,this.tail=null,this._len=0},n=a.prototype;n.insert=function(e){var t=new i(e);return this.insertEntry(t),t},n.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.remove=function(e){var t=e.prev,a=e.next;t?t.next=a:this.head=a,a?a.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.len=function(){return this._len},n.clear=function(){this.head=this.tail=null,this._len=0};var i=function(e){this.value=e,this.next,this.prev},r=function(e){this._list=new a,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},o=r.prototype;o.put=function(e,t){var a=this._list,n=this._map,r=null;if(null==n[e]){var o=a.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=a.head;a.remove(l),delete n[l.key],r=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new i(t),s.key=e,a.insertEntry(s),n[e]=s}return r},o.get=function(e){var t=this._map[e],a=this._list;if(null!=t)return t!==a.tail&&(a.remove(t),a.insertEntry(t)),t.value},o.clear=function(){this._list.clear(),this._map={}};var s=r;e.exports=s},d5b7:function(e,t,a){var n=a("de00"),i=a("1fab"),r=a("0cde"),o=a("bd6b"),s=a("6d8b"),l=function(e){r.call(this,e),i.call(this,e),o.call(this,e),this.id=e.id||n()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=e,a[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var a=this[e];a||(a=this[e]=[]),a[0]=t[0],a[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"===typeof e)this.attrKV(e,t);else if(s.isObject(e))for(var a in e)e.hasOwnProperty(a)&&this.attrKV(a,e[a]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var a=0;a<t.length;a++)e.animation.addAnimator(t[a]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var a=0;a<t.length;a++)e.animation.removeAnimator(t[a]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},s.mixin(l,o),s.mixin(l,r),s.mixin(l,i);var c=l;e.exports=c},d5ef:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"设置网关专线地址","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"600px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"网关专线地址",prop:"websiteUrl"}},[a("div",{staticClass:"row"},[a("el-input",{model:{value:e.form.websiteUrl,callback:function(t){e.$set(e.form,"websiteUrl",t)},expression:"form.websiteUrl"}}),a("span",{staticClass:"url-suffix"},[e._v(e._s(e.entrancePath))])],1),a("p",{staticClass:"key-tips"},[e._v("输入网关专线地址，如：http://网关IP:8601（如果无法直接访问网关IP，需配置代理，在此处填入代理地址） ")])])],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.submitForm()}}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)},i=[],r=(a("c5f6"),a("d462")),o={name:"setGatewayDialog",data:function(){return{form:{websiteUrl:""},rules:{websiteUrl:[{required:!0,message:"请输入 网关地址",trigger:"blur"}]},loading:!1}},props:{visible:{type:Boolean,default:!1},id:{type:String|Number},dedicatedLineBizId:{},webUrl:{type:String,default:""},entrancePath:{type:String,default:""}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}}},methods:{submitForm:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.loading=!0,Object(r["e"])({dedicatedLineBizRelationId:e.dedicatedLineBizId,websiteUrl:e.form.websiteUrl}).then((function(t){200===t.data.code?(e.$message.success("网关专线地址设置 成功！"),e.dialogVisible=!1,e.$emit("doSearch")):e.$message.success(t.data.msg),e.loading=!1}),(function(){e.loading=!1})))}))}},mounted:function(){this.form.websiteUrl=this.webUrl}},s=o,l=(a("e7d4"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"0cc24f44",null);t["default"]=c.exports},d65e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"Fizz gateway 商业授权","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"700px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"授权证书",prop:"code"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1),a("div",{staticClass:"contact-con"},[a("p",{staticClass:"contact"},[e._v("商业授权请联系： sale@fizzgate.com")]),a("p",{staticClass:"document"},[e._v("使用文档")])]),e.disabled?e._e():a("footer",[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 取消 ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v(" 激活 ")])],1)],1)},i=[],r={name:"authCodeDialog",data:function(){return{form:{code:""},rules:{code:[{required:!0,message:"必填",trigger:"blur"}]}}},props:{visible:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeVisible")}}},methods:{}},o=r,s=(a("8a0d"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"9add0c6a",null);t["default"]=l.exports},d691:function(e,t,a){},d6ef:function(e,t,a){var n=a("3eba"),i={type:"selectDataRange",event:"dataRangeSelected",update:"update"};n.registerAction(i,(function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))}))},d7d1:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.getPermission},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"instanceIpsForm",fn:function(t){return[a("div",[a("el-input",{attrs:{type:"textarea",placeholder:"网关实例IP",autosize:{minRows:3,maxRows:8},clearable:""},model:{value:e.form.instanceIps,callback:function(t){e.$set(e.form,"instanceIps",t)},expression:"form.instanceIps"}}),a("span",{staticClass:"key-tips"},[e._v("多个IP用逗号,分隔，需填写实际IP，不能填写127.0.0.1")])],1)]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},i=[],r=(a("8e6e"),a("456d"),a("ade3")),o=(a("ac6a"),a("28a5"),a("0468")),s=a("5880"),l=a("16cd"),c=a("c54a");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{dialogWidth:900,border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,column:[{label:"分组ID",prop:"groupId",search:!0,editDisabled:!0,overHidden:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"分组名称",prop:"groupName",search:!0,overHidden:!0,rules:[{required:!0,message:"必填",trigger:"blur"}]},{label:"插件名称",prop:"pluginNames"},{label:"网关实例IP",prop:"instanceIps",placeholder:"多个IP用逗号,分隔",overHidden:!0,type:"textarea",span:24,minRows:3,formslot:!0,rules:[{required:!0,message:"必填",trigger:"blur"},{validator:function(e,t,a){var n=t.split(","),i=!0,r=!1;if(n.forEach((function(e){e&&!Object(c["j"])(Object(l["a"])(e))?i=!1:"127.0.0.1"===Object(l["a"])(e)&&(i=!1,r=!0)})),t&&!i){var o=r?"请勿填写127.0.0.1":"请输入正确的IP";a(new Error(o))}else a()},trigger:"blur"}]}]},data:[]}},computed:d(d({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.gateway_group_add,!1),editBtn:this.vaildData(this.permission.gateway_group_edit,!1),viewBtn:this.vaildData(this.permission.gateway_group_view,!1),delBtn:this.vaildData(this.permission.gateway_group_delete,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{getPermission:function(e,t){return!("addBtn"===e&&!this.permissionList.addBtn)&&(!("viewBtn"===e&&!this.permissionList.viewBtn)&&(!("editBtn"===e&&!this.permissionList.editBtn)&&!!("delBtn"!==e||"default"!==t.groupId&&this.permissionList.delBtn)))},handleSubmitData:function(e){e=Object(l["b"])(e);var t=e.instanceIps.split(",");return t=t.map((function(e){return Object(l["a"])(e)})),t=t.join(","),e.instanceIps=t,e},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["f"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.type=t,this.id=this.form.id,this.$router.push({path:"/gateway/group/".concat(t),query:{id:this.form.id}})},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["e"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},h=p,f=(a("2ffa"),a("2877")),g=Object(f["a"])(h,n,i,!1,null,"466c504a",null);t["default"]=g.exports},d7ee:function(e,t,a){var n=a("c3fc"),i=a("b047"),r=a("99d3"),o=r&&r.isSet,s=o?i(o):n;e.exports=s},d80e:function(e,t,a){},d833:function(e,t,a){var n=a("20c8"),i=a("9680"),r=a("e7d2"),o=a("68ab"),s=a("9f51"),l=a("857d"),c=l.normalizeRadian,u=a("4a3f"),d=a("8728"),p=n.CMD,h=2*Math.PI,f=1e-4;function g(e,t){return Math.abs(e-t)<f}var m=[-1,-1,-1],b=[-1,-1];function v(){var e=b[0];b[0]=b[1],b[1]=e}function y(e,t,a,n,i,r,o,s,l,c){if(c>t&&c>n&&c>r&&c>s||c<t&&c<n&&c<r&&c<s)return 0;var d=u.cubicRootAt(t,n,r,s,c,m);if(0===d)return 0;for(var p,h,f=0,g=-1,y=0;y<d;y++){var w=m[y],_=0===w||1===w?.5:1,x=u.cubicAt(e,a,i,o,w);x<l||(g<0&&(g=u.cubicExtrema(t,n,r,s,b),b[1]<b[0]&&g>1&&v(),p=u.cubicAt(t,n,r,s,b[0]),g>1&&(h=u.cubicAt(t,n,r,s,b[1]))),2===g?w<b[0]?f+=p<t?_:-_:w<b[1]?f+=h<p?_:-_:f+=s<h?_:-_:w<b[0]?f+=p<t?_:-_:f+=s<p?_:-_)}return f}function w(e,t,a,n,i,r,o,s){if(s>t&&s>n&&s>r||s<t&&s<n&&s<r)return 0;var l=u.quadraticRootAt(t,n,r,s,m);if(0===l)return 0;var c=u.quadraticExtremum(t,n,r);if(c>=0&&c<=1){for(var d=0,p=u.quadraticAt(t,n,r,c),h=0;h<l;h++){var f=0===m[h]||1===m[h]?.5:1,g=u.quadraticAt(e,a,i,m[h]);g<o||(m[h]<c?d+=p<t?f:-f:d+=r<p?f:-f)}return d}f=0===m[0]||1===m[0]?.5:1,g=u.quadraticAt(e,a,i,m[0]);return g<o?0:r<t?f:-f}function _(e,t,a,n,i,r,o,s){if(s-=t,s>a||s<-a)return 0;var l=Math.sqrt(a*a-s*s);m[0]=-l,m[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u%h<1e-4){n=0,i=h;var d=r?1:-1;return o>=m[0]+e&&o<=m[1]+e?d:0}if(r){l=n;n=c(i),i=c(l)}else n=c(n),i=c(i);n>i&&(i+=h);for(var p=0,f=0;f<2;f++){var g=m[f];if(g+e>o){var b=Math.atan2(s,g);d=r?1:-1;b<0&&(b=h+b),(b>=n&&b<=i||b+h>=n&&b+h<=i)&&(b>Math.PI/2&&b<1.5*Math.PI&&(d=-d),p+=d)}}return p}function x(e,t,a,n,l){for(var c=0,u=0,h=0,f=0,m=0,b=0;b<e.length;){var v=e[b++];switch(v===p.M&&b>1&&(a||(c+=d(u,h,f,m,n,l))),1===b&&(u=e[b],h=e[b+1],f=u,m=h),v){case p.M:f=e[b++],m=e[b++],u=f,h=m;break;case p.L:if(a){if(i.containStroke(u,h,e[b],e[b+1],t,n,l))return!0}else c+=d(u,h,e[b],e[b+1],n,l)||0;u=e[b++],h=e[b++];break;case p.C:if(a){if(r.containStroke(u,h,e[b++],e[b++],e[b++],e[b++],e[b],e[b+1],t,n,l))return!0}else c+=y(u,h,e[b++],e[b++],e[b++],e[b++],e[b],e[b+1],n,l)||0;u=e[b++],h=e[b++];break;case p.Q:if(a){if(o.containStroke(u,h,e[b++],e[b++],e[b],e[b+1],t,n,l))return!0}else c+=w(u,h,e[b++],e[b++],e[b],e[b+1],n,l)||0;u=e[b++],h=e[b++];break;case p.A:var x=e[b++],O=e[b++],D=e[b++],C=e[b++],k=e[b++],S=e[b++];b+=1;var j=1-e[b++],P=Math.cos(k)*D+x,T=Math.sin(k)*C+O;b>1?c+=d(u,h,P,T,n,l):(f=P,m=T);var I=(n-x)*C/D+x;if(a){if(s.containStroke(x,O,C,k,k+S,j,t,I,l))return!0}else c+=_(x,O,C,k,k+S,j,I,l);u=Math.cos(k+S)*D+x,h=Math.sin(k+S)*C+O;break;case p.R:f=u=e[b++],m=h=e[b++];var L=e[b++],z=e[b++];P=f+L,T=m+z;if(a){if(i.containStroke(f,m,P,m,t,n,l)||i.containStroke(P,m,P,T,t,n,l)||i.containStroke(P,T,f,T,t,n,l)||i.containStroke(f,T,f,m,t,n,l))return!0}else c+=d(P,m,P,T,n,l),c+=d(f,T,f,m,n,l);break;case p.Z:if(a){if(i.containStroke(u,h,f,m,t,n,l))return!0}else c+=d(u,h,f,m,n,l);u=f,h=m;break}}return a||g(h,m)||(c+=d(u,h,f,m,n,l)||0),0!==c}function O(e,t,a){return x(e,0,!1,t,a)}function D(e,t,a,n){return x(e,t,!0,a,n)}t.contain=O,t.containStroke=D},d83d:function(e,t,a){"use strict";a("9eb6")},d9a3:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("28a5"),a("456d"),a("ac6a"),a("c5f6"),a("ee1d");var n=a("d4ec"),i=a("bee2"),r=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,null,[{key:"notEmpty",value:function(e){return!this.isEmpty(e)}},{key:"isUndefined",value:function(e){return null===e||"undefined"===typeof e}},{key:"isEmpty",value:function(e){return null===e||"undefined"===typeof e||"string"===typeof e&&""===e&&"undefined"!==e}},{key:"toInt",value:function(e,t){if(this.isEmpty(e))return void 0===t?-1:t;var a=parseInt(e,0);return Number.isNaN(a)?void 0===t?-1:t:a}},{key:"toFormData",value:function(e){var t=new FormData;return Object.keys(e).forEach((function(a){t.append(a,Array.isArray(e[a])?e[a].join(","):e[a])})),t}},{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return e?e.format(t):null}},{key:"join",value:function(e){return e?e.join(","):""}},{key:"split",value:function(e){return e?String(e).split(","):""}}]),e}()},d9b3:function(e,t,a){},d9c3:function(e,t,a){"use strict";a("c674")},d9fc:function(e,t,a){var n=a("cbe5"),i=n.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,a){a&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}});e.exports=i},da03:function(e,t,a){var n=a("2b3e"),i=n["__core-js_shared__"];e.exports=i},da31:function(e,t,a){"use strict";a("61cb")},db22:function(e,t,a){},db94:function(e,t,a){"use strict";a("e6e8")},dbc0:function(e,t,a){"use strict";a("af60")},dbd4:function(e,t,a){"use strict";a("54b2")},dc15:function(e,t,a){"use strict";a("f9e9")},dc2a:function(e,t,a){},dc2f:function(e,t){var a=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};a.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var n=a;e.exports=n},dc57:function(e,t){var a=Function.prototype,n=a.toString;function i(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=i},dcb3:function(e,t,a){var n=a("6d8b"),i=a("625e"),r=a("2306"),o=a("cd33"),s=a("607d"),l=a("88b3"),c=a("e0d3"),u=c.makeInner,d=u(),p=n.clone,h=n.bind;function f(){}function g(e,t,a,n){m(d(a).lastProp,n)||(d(a).lastProp=n,t?r.updateProps(a,n,e):(a.stopAnimation(),a.attr(n)))}function m(e,t){if(n.isObject(e)&&n.isObject(t)){var a=!0;return n.each(t,(function(t,n){a=a&&m(e[n],t)})),!!a}return e===t}function b(e,t){e[t.get("label.show")?"show":"hide"]()}function v(e){return{position:e.position.slice(),rotation:e.rotation||0}}function y(e,t,a){var n=t.get("z"),i=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=i&&(e.zlevel=i),e.silent=a)}))}f.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,a,i){var o=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=a,i||this._lastValue!==o||this._lastStatus!==s){this._lastValue=o,this._lastStatus=s;var l=this._group,c=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(c&&c.hide());l&&l.show(),c&&c.show();var u={};this.makeElOption(u,o,e,t,a);var d=u.graphicKey;d!==this._lastGraphicKey&&this.clear(a),this._lastGraphicKey=d;var p=this._moveAnimation=this.determineAnimation(e,t);if(l){var h=n.curry(g,t,p);this.updatePointerEl(l,u,h,t),this.updateLabelEl(l,u,h,t)}else l=this._group=new r.Group,this.createPointerEl(l,u,e,t),this.createLabelEl(l,u,e,t),a.getZr().add(l);y(l,t,!0),this._renderHandle(o)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var a=t.get("animation"),n=e.axis,i="category"===n.type,r=t.get("snap");if(!r&&!i)return!1;if("auto"===a||null==a){var s=this.animationThreshold;if(i&&n.getBandWidth()>s)return!0;if(r){var l=o.getAxisInfo(e).seriesDataCount,c=n.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return!0===a},makeElOption:function(e,t,a,n,i){},createPointerEl:function(e,t,a,n){var i=t.pointer;if(i){var o=d(e).pointerEl=new r[i.type](p(t.pointer));e.add(o)}},createLabelEl:function(e,t,a,n){if(t.label){var i=d(e).labelEl=new r.Rect(p(t.label));e.add(i),b(i,n)}},updatePointerEl:function(e,t,a){var n=d(e).pointerEl;n&&t.pointer&&(n.setStyle(t.pointer.style),a(n,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,a,n){var i=d(e).labelEl;i&&(i.setStyle(t.label.style),a(i,{shape:t.label.shape,position:t.label.position}),b(i,n))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,a=this._axisPointerModel,i=this._api.getZr(),o=this._handle,c=a.getModel("handle"),u=a.get("status");if(!c.get("show")||!u||"hide"===u)return o&&i.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=r.createIcon(c.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){s.stop(e.event)},onmousedown:h(this._onHandleDragMove,this,0,0),drift:h(this._onHandleDragMove,this),ondragend:h(this._onHandleDragEnd,this)}),i.add(o)),y(o,a,!1);var d=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];o.setStyle(c.getItemStyle(null,d));var p=c.get("size");n.isArray(p)||(p=[p,p]),o.attr("scale",[p[0]/2,p[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",c.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){g(this._axisPointerModel,!t&&this._moveAnimation,this._handle,v(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var a=this._handle;if(a){this._dragging=!0;var n=this.updateHandleTransform(v(a),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n,a.stopAnimation(),a.attr(v(n)),d(a).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var e=this._handle;if(e){var t=this._payloadInfo,a=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:a.axis.dim,axisIndex:a.componentIndex}]})}},_onHandleDragEnd:function(e){this._dragging=!1;var t=this._handle;if(t){var a=this._axisPointerModel.get("value");this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),a=this._group,n=this._handle;t&&a&&(this._lastGraphicKey=null,a&&t.remove(a),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,a){return a=a||0,{x:e[a],y:e[1-a],width:t[a],height:t[1-a]}}},f.prototype.constructor=f,i.enableClassExtend(f);var w=f;e.exports=w},dcbe:function(e,t,a){var n=a("30c9"),i=a("1310");function r(e){return i(e)&&n(e)}e.exports=r},dcbf:function(e,t,a){},dd4b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("basic-container",[a("el-row",[a("el-col",{attrs:{span:24}},[a("avue-crud",{ref:"crud",attrs:{option:e.option,"table-loading":e.loading,data:e.dataParent,page:e.pageParent,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"row-click":e.handleRowClick,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoadParent},scopedSlots:e._u([{key:"isSealed",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:e.formParent,callback:function(t){e.formParent=t},expression:"formParent"}},[a("template",{slot:"menuLeft"},[e.permission.dict_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n            ")]):e._e()],1)],2)],1)],1)],1),a("basic-container",[a("el-row",[a("el-col",{attrs:{span:24}},[a("avue-crud",{ref:"crudChild",attrs:{option:e.option,"table-loading":e.loading,data:e.dataChild,page:e.pageChild,permission:e.permissionList,"before-open":e.beforeOpenChild},on:{"row-del":e.rowDelChild,"row-update":e.rowUpdateChild,"row-save":e.rowSaveChild,"search-change":e.searchChangeChild,"search-reset":e.searchResetChild,"selection-change":e.selectionChangeChild,"current-change":e.currentChangeChild,"size-change":e.sizeChangeChild,"refresh-change":e.refreshChangeChild,"on-load":e.onLoadChild},scopedSlots:e._u([{key:"isSealed",fn:function(t){var n=t.row;return[a("el-tag",[e._v(e._s(0===n.isSealed?"否":"是"))])]}}]),model:{value:e.formChild,callback:function(t){e.formChild=t},expression:"formChild"}},[a("template",{slot:"menuLeft"},[e.permission.dict_delete?a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n            ")]):e._e()],1)],2)],1)],1)],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),a("ade3")),o=a("7754"),s=a("5880");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={data:function(){return{parentId:0,formParent:{},formChild:{},selectionList:[],query:{},loading:!0,pageParent:{pageSize:5,pageSizes:[5,10,30,50,100,200],currentPage:1,total:0},pageChild:{pageSize:5,pageSizes:[5,10,30,50,100,200],currentPage:1,total:0},dataParent:[],dataChild:[],option:{tip:!1,searchShow:!0,searchMenuSpan:6,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,height:300,menuWidth:300,dialogWidth:880,column:[{label:"字典编号",prop:"code",search:!0,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典键值",prop:"dictKey",type:"number",rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,align:"center",rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"封存",prop:"isSealed",type:"select",dicData:[{label:"否",value:0},{label:"是",value:1}],slot:!0,rules:[{required:!0,message:"请选择封存",trigger:"blur"}]},{label:"字典备注",prop:"remark",search:!0,hide:!0}]}}},computed:c(c({},Object(s["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),viewBtn:this.vaildData(this.permission.dict_view,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach((function(t){e.push(t.id)})),e.join(",")}}),methods:{rowSave:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoadParent(n.pageParent),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdate:function(e,t,a,n){var i=this;Object(o["i"])(e).then((function(){i.onLoadParent(i.pageParent),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadParent(t.pageParent),t.$message({type:"success",message:"操作成功!"})}))},handleRowClick:function(e){this.parentId=e.id,this.onLoadChild(this.pageChild)},searchReset:function(){this.query={},this.onLoadParent(this.pageParent)},searchChange:function(e,t){this.query=e,this.pageParent.currentPage=1,this.onLoadParent(this.pageParent,e),t()},selectionChange:function(e){this.selectionList=e},selectionClear:function(){this.selectionList=[],this.$refs.crud.toggleSelection()},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadParent(e.pageParent),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["c"])(this.formParent.id).then((function(e){a.formParent=e.data.data})),e()},currentChange:function(e){this.pageParent.currentPage=e},sizeChange:function(e){this.pageParent.pageSize=e},refreshChange:function(){this.onLoadParent(this.page,this.query)},rowSaveChild:function(e,t,a){var n=this;Object(o["a"])(e).then((function(){n.onLoadChild(n.pageChild),n.$message({type:"success",message:"操作成功!"}),t()}),(function(e){window.console.log(e),a()}))},rowUpdateChild:function(e,t,a,n){var i=this;Object(o["i"])(e).then((function(){i.onLoadChild(i.pageChild),i.$message({type:"success",message:"操作成功!"}),a()}),(function(e){window.console.log(e),n()}))},rowDelChild:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.id)})).then((function(){t.onLoadChild(t.pageChild),t.$message({type:"success",message:"操作成功!"})}))},searchResetChild:function(){this.query={},this.onLoadChild(this.pageChild)},searchChangeChild:function(e,t){this.query=e,this.pageChild.currentPage=1,this.onLoadChild(this.pageChild,e),t()},selectionChangeChild:function(e){this.selectionList=e},selectionClearChild:function(){this.selectionList=[],this.$refs.crudChild.toggleSelection()},handleDeleteChild:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["h"])(e.ids)})).then((function(){e.onLoadChild(e.pageChild),e.$message({type:"success",message:"操作成功!"}),e.$refs.crudChild.toggleSelection()})):this.$message.warning("请选择至少一条数据")},beforeOpenChild:function(e,t){var a=this;["edit","view"].includes(t)&&Object(o["c"])(this.formChild.id).then((function(e){a.formChild=e.data.data})),e()},currentChangeChild:function(e){this.pageChild.currentPage=e},sizeChangeChild:function(e){this.pageChild.pageSize=e},refreshChangeChild:function(){this.onLoadChild(this.pageChild,this.query)},onLoadParent:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["g"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.pageParent.total=a.total,t.dataParent=a.records,t.loading=!1,t.selectionClear()}))},onLoadChild:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(o["b"])(e.currentPage,e.pageSize,this.parentId,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.pageChild.total=a.total,t.dataChild=a.records,t.loading=!1,t.selectionClear()}))}}},d=u,p=a("2877"),h=Object(p["a"])(d,n,i,!1,null,null,null);t["default"]=h.exports},dd4f:function(e,t,a){},dd62:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{"popper-class":"tooltip-dark",placement:"top",title:e.title,width:"830"}},[a("div",{staticClass:"content"},[a("code-highlight",{attrs:{code:e.content,height:600}})],1),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("("+e._s(e.title)+")")])])},i=[],r=a("d480"),o={name:"tooltip-custom",props:{title:{type:String,default:"示例"}},data:function(){return{content:'package we.plugin;\n\nimport java.util.Map;\nimport javax.annotation.Resource;\nimport org.springframework.web.server.ServerWebExchange;\nimport reactor.core.publisher.Mono;\nimport we.plugin.auth.App;\nimport we.plugin.auth.AppService;\nimport we.util.ReactorUtils;\nimport we.util.WebUtils;\n\npublic class MyPluginFilter implements FizzPluginFilter {\n\n     @Resource\n     AppService appService;\n\n     @SuppressWarnings({ "unchecked", "rawtypes", "unused" })\n     @Override\n     public Mono<Void> filter(ServerWebExchange exchange, Map<String, Object> config) {\n          String customConfig = (String) config.get(PluginConfig.CUSTOM_CONFIG); // 获取插件级别的自定义配置信息\n          String appid = WebUtils.getAppId(exchange); // 获取客户端请求携带的appid\n          App app = appService.getApp(appid); // 获取在网关对应的 app\n          String appCustomConfig = app != null ? app.config : null; // 从 app 中取得自定义配置\n\n          doSomething(); // 执行一些逻辑\n          exchange.getAttributes().put("11", "22"); // 往后续插件或逻辑传递参数\n          Mono next = FizzPluginFilterChain.next(exchange); // 执行下一个插件或后续逻辑\n          return next.defaultIfEmpty(ReactorUtils.NULL).flatMap(nil -> {\n               doAfterNext(); // 当 next 完成时执行一些逻辑\n               return Mono.empty();\n          });\n     }\n\n     public void doSomething() {\n\n     }\n\n     public void doAfterNext() {\n       \n     }\n}'}},components:{codeHighlight:r["default"]}},s=o,l=(a("c2f4"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports},dd78:function(e,t,a){"use strict";a("ea63")},ddc6:function(e,t){function a(e){return function(t){return null==e?void 0:e[t]}}e.exports=a},dded:function(e,t,a){var n=a("6d8b"),i=a("42e5"),r=function(e,t,a,n,r){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==a?.5:a,this.type="radial",this.global=r||!1,i.call(this,n)};r.prototype={constructor:r},n.inherits(r,i);var o=r;e.exports=o},de00:function(e,t){var a=2311;function n(){return a++}e.exports=n},de00e:function(e,t,a){},de1c:function(e,t){var a={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};e.exports=a},de3f:function(e,t,a){},dedb:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"添加专线业务",direction:"rtl","modal-append-to-body":!1,"append-to-body":!1,size:"900px",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"main"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad,"selection-change":e.selectionChange},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("\n      确 定\n    ")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("\n      取 消\n    ")])],1)])},i=[],r=a("7485"),o=a("1e18"),s={props:{visible:{type:Boolean,default:!1}},data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{selection:!0,border:!0,index:!0,dialogClickModal:!1,addBtn:!1,menuPosition:"right",labelWidth:100,menu:!1,searchSpan:12,column:[{label:"专线业务",prop:"name",search:!0},{label:"专线类型",prop:"type",search:!0,dicData:o["a"],type:"select"},{label:"是否公开",prop:"isPublic",dicData:o["b"]},{label:"文档集",prop:"docSetName"},{label:"联系邮箱",prop:"email"}]},data:[],selectionData:[]}},computed:{dialogVisible:{get:function(){return this.visible},set:function(){this.$emit("changeDrawer")}}},methods:{searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(r["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},selectionChange:function(e){this.selectionData=e},submit:function(){0!==this.selectionData.length?(this.$emit("emitData",this.selectionData),this.dialogVisible=!1):this.$message.warning("请选择数据！")}}},l=s,c=(a("faa8"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,"ef4921c6",null);t["default"]=u.exports},deff:function(e,t,a){},df14:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"gateway-dict"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,search:e.query,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList,"before-open":e.beforeOpen},on:{"update:search":function(t){e.query=t},"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[e.permissionList.historyBtn?a("el-button",{attrs:{icon:"el-icon-bank-card",size:"small",type:"text"},on:{click:function(t){return e.handleHistory(n.id)}}},[e._v("更改历史")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),e.visible?a("dict-detail-dialog",{attrs:{visible:e.visible,type:e.type,id:e.id},on:{doSearch:e.doSearch,changeVisible:function(t){e.visible=!1}}}):e._e()],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("5880"),s=a("b084"),l=a("c597"),c=a("dd69");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"dict",components:{dictDetailDialog:s["default"]},data:function(){return{query:{},form:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,editBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,menuWidth:300,column:[{label:"键(Key)",prop:"key",search:!0},{label:"值(Value)",prop:"value",search:!0},{label:"数据类型",prop:"type",dicData:c["a"]},{label:"创建时间",prop:"createTime"},{label:"更新时间",prop:"updateTime"}]},data:[],visible:!1,id:null}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},computed:d(d({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{addBtn:this.vaildData(this.permission.gateway_dict_add,!1),editBtn:this.vaildData(this.permission.gateway_dict_edit,!1),delBtn:this.vaildData(this.permission.gateway_dict_remove,!1),historyBtn:this.vaildData(this.permission.gateway_dict_history,!1)}}}),methods:{rowDel:function(e){var t=this;this.$confirm("你确定要删除此公共参数吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["e"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){this.id=this.form.id,this.type=t,this.visible=!0},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(l["d"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},doSearch:function(){this.onLoad({currentPage:1,pageSize:this.page.pageSize})},handleHistory:function(e){this.$router.push({path:"/gateway/dictHistory",query:{id:e}})}}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,"21b8be74",null);t["default"]=g.exports},e00e:function(e,t,a){},e073:function(e,t,a){var n=a("6d8b"),i=a("e86a"),r=a("e0d3"),o=r.makeInner,s=a("697e"),l=s.makeLabelFormatter,c=s.getOptionCategoryInterval,u=s.shouldShowAllLabels,d=o();function p(e){return"category"===e.type?f(e):b(e)}function h(e,t){return"category"===e.type?m(e,t):{ticks:e.scale.getTicks()}}function f(e){var t=e.getLabelModel(),a=g(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:a.labelCategoryInterval}:a}function g(e,t){var a,i,r=v(e,"labels"),o=c(t),s=y(r,o);return s||(n.isFunction(o)?a=C(e,o):(i="auto"===o?_(e):o,a=D(e,i)),w(r,o,{labels:a,labelCategoryInterval:i}))}function m(e,t){var a,i,r=v(e,"ticks"),o=c(t),s=y(r,o);if(s)return s;if(t.get("show")&&!e.scale.isBlank()||(a=[]),n.isFunction(o))a=C(e,o,!0);else if("auto"===o){var l=g(e,e.getLabelModel());i=l.labelCategoryInterval,a=n.map(l.labels,(function(e){return e.tickValue}))}else i=o,a=D(e,i,!0);return w(r,o,{ticks:a,tickCategoryInterval:i})}function b(e){var t=e.scale.getTicks(),a=l(e);return{labels:n.map(t,(function(t,n){return{formattedLabel:a(t,n),rawLabel:e.scale.getLabel(t),tickValue:t}}))}}function v(e,t){return d(e)[t]||(d(e)[t]=[])}function y(e,t){for(var a=0;a<e.length;a++)if(e[a].key===t)return e[a].value}function w(e,t,a){return e.push({key:t,value:a}),a}function _(e){var t=d(e).autoInterval;return null!=t?t:d(e).autoInterval=e.calculateCategoryInterval()}function x(e){var t=O(e),a=l(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,r=e.scale,o=r.getExtent(),s=r.count();if(o[1]-o[0]<1)return 0;var c=1;s>40&&(c=Math.max(1,Math.floor(s/40)));for(var u=o[0],p=e.dataToCoord(u+1)-e.dataToCoord(u),h=Math.abs(p*Math.cos(n)),f=Math.abs(p*Math.sin(n)),g=0,m=0;u<=o[1];u+=c){var b=0,v=0,y=i.getBoundingRect(a(u),t.font,"center","top");b=1.3*y.width,v=1.3*y.height,g=Math.max(g,b,7),m=Math.max(m,v,7)}var w=g/h,_=m/f;isNaN(w)&&(w=1/0),isNaN(_)&&(_=1/0);var x=Math.max(0,Math.floor(Math.min(w,_))),D=d(e.model),C=e.getExtent(),k=D.lastAutoInterval,S=D.lastTickCount;return null!=k&&null!=S&&Math.abs(k-x)<=1&&Math.abs(S-s)<=1&&k>x&&D.axisExtend0===C[0]&&D.axisExtend1===C[1]?x=k:(D.lastTickCount=s,D.lastAutoInterval=x,D.axisExtend0=C[0],D.axisExtend1=C[1]),x}function O(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function D(e,t,a){var n=l(e),i=e.scale,r=i.getExtent(),o=e.getLabelModel(),s=[],c=Math.max((t||0)+1,1),d=r[0],p=i.count();0!==d&&c>1&&p/c>2&&(d=Math.round(Math.ceil(d/c)*c));var h=u(e),f=o.get("showMinLabel")||h,g=o.get("showMaxLabel")||h;f&&d!==r[0]&&b(r[0]);for(var m=d;m<=r[1];m+=c)b(m);function b(e){s.push(a?e:{formattedLabel:n(e),rawLabel:i.getLabel(e),tickValue:e})}return g&&m-c!==r[1]&&b(r[1]),s}function C(e,t,a){var i=e.scale,r=l(e),o=[];return n.each(i.getTicks(),(function(e){var n=i.getLabel(e);t(e,n)&&o.push(a?e:{formattedLabel:r(e),rawLabel:n,tickValue:e})})),o}t.createAxisLabels=p,t.createAxisTicks=h,t.calculateCategoryInterval=x},e077:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"dedicated-line-detail"},[a("el-card",{staticClass:"main"},[a("div",{attrs:{slot:"header"},slot:"header"},[e.form.name?a("el-tag",[e._v(e._s(e.form.name))]):e._e(),e._v(" \n            "),a("b",[e._v(e._s(e.title))])],1),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"106px",disabled:e.disabled}},[a("el-form-item",{attrs:{label:"专线名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入 专线名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("div",{staticClass:"key-tips"},[e._v("一般一个对接方用一条专线，可用公司名作为专线名称，如：XXXX公司")])],1),a("el-form-item",{attrs:{label:"颁发机构",prop:"org"}},[a("el-input",{attrs:{placeholder:"请输入 颁发机构"},model:{value:e.form.org,callback:function(t){e.$set(e.form,"org",t)},expression:"form.org"}}),a("div",{staticClass:"key-tips"},[e._v("颁发机构可自定义，如：XXXX公司，该机构名称展示在配对方的配对页面")])],1),a("el-form-item",{attrs:{label:"网关地址",prop:"gatewayUrl"}},[a("div",{staticClass:"url-form"},[a("el-input",{attrs:{placeholder:"请输入 网关地址"},model:{value:e.form.gatewayUrl,callback:function(t){e.$set(e.form,"gatewayUrl",t)},expression:"form.gatewayUrl"}}),a("span",{staticClass:"url"},[e._v("/_fizz-dedicated-line/pair")])],1),a("div",{staticClass:"key-tips"},[e._v("输入网关的公网地址，如：https://网关域名[:端口]/proxy（如果网关前缀/proxy已修改, 则改为相应的前缀）")])]),a("el-form-item",{staticClass:"form-item-required",attrs:{label:"专线业务"}},[e.disabled?e._e():a("el-button",{staticClass:"line-add-btn",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addLine}},[e._v("添 加")]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.form.dedicatedLineBizs,size:"mini"}},[a("el-table-column",{attrs:{prop:"dedicatedLineBizName",label:"业务名称"}}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.delBusRow(n)}}},[e._v("删除")])]}}])})],1)],1),a("el-form-item",{attrs:{label:"最多配对次数",prop:"maxCount"}},[a("el-input-number",{attrs:{"controls-position":"right",min:1},model:{value:e.form.maxCount,callback:function(t){e.$set(e.form,"maxCount",t)},expression:"form.maxCount"}}),a("span",{staticClass:"unit"},[e._v("次")])],1),a("el-form-item",{attrs:{label:"自定义配置",prop:"customConfig"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入 自定义配置",rows:5},model:{value:e.form.customConfig,callback:function(t){e.$set(e.form,"customConfig",t)},expression:"form.customConfig"}}),a("div",{staticClass:"key-tips"},[e._v("\n                    自定义配置供自定义插件使用，所有插件均可获取到此配置信息\n                     "),a("tooltip-custom",{staticClass:"link",attrs:{title:"插件实例"}})],1)],1)],1),e.disabled?e._e():a("footer",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check",loading:e.loading},on:{click:e.submitHandle}},[e._v("保 存")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.cancel}},[e._v(" 取 消 ")])],1)],1),e.businessVisible?a("addBusinessDialog",{attrs:{visible:e.businessVisible},on:{changeDrawer:function(t){e.businessVisible=!1},emitData:e.changeBusiness}}):e._e()],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("7f7f"),a("20d6"),a("ade3")),o=(a("ac6a"),a("96cf"),a("1da1")),s=a("2f32"),l=a("dd62"),c=a("dedb"),u=a("16cd");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={name:"matchDetail",components:{tooltipCustom:l["default"],addBusinessDialog:c["default"]},data:function(){return{disabled:!1,loading:!1,form:{maxCount:1,dedicatedLineBizs:[]},rules:{name:[{required:!0,message:"请输入 专线名称",trigger:"blur"}],org:[{required:!0,message:"请输入 颁发机构",trigger:"blur"}],gatewayUrl:[{required:!0,message:"请输入 网关地址",trigger:"blur"}],dedicatedLineBizs:[{required:!0,message:"必填"}],maxCount:[{required:!0,message:"请输入 最多配对次数",trigger:"blur"}]},businessVisible:!1}},computed:{title:function(){var e="";switch(this.type){case"add":e="新增配对码";break;case"edit":e="修改配对码";break;case"view":e="配对码详情";break}return e},type:function(){return this.$route.params.actionType},id:function(){return this.$route.query.id}},methods:{getDetail:function(){var e=this;Object(s["b"])(this.id).then((function(t){200===t.data.code&&(e.form=t.data.data)}))},submitHandle:function(){var e=this;this.$refs.form.validate((function(t){if(t){if(0===e.form.dedicatedLineBizs.length)return void e.$message.warning("专线业务列表不能为空！");e.saveHandle()}}))},saveHandle:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="add"===this.type?s["a"]:s["g"],a=[],this.form.dedicatedLineBizs.forEach((function(e){a.push({dedicatedLineBizId:e.dedicatedLineBizId,dedicatedLineBizName:e.dedicatedLineBizName})})),this.form.customConfig=Object(u["a"])(this.form.customConfig)||"",e.next=7,t(p(p({},this.form),{},{dedicatedLineBizs:a})).then((function(e){200===e.data.code?(n.$message({type:"success",message:e.data.msg||"保存成功！"}),"add"===n.type?n.cancel():n.init()):n.$message({type:"error",message:e.data.msg||"保存失败！"}),n.loading=!1}),(function(){n.loading=!1}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$router.$avueRouter.closeTag(),this.$router.push({path:"/public-network/dedicated-line"})},delBusRow:function(e){this.form.dedicatedLineBizs.splice(e,1)},addLine:function(){this.businessVisible=!0},changeBusiness:function(e){var t=this;e.forEach((function(e){var a=t.form.dedicatedLineBizs.findIndex((function(t){return t.dedicatedLineBizId===e.id}));-1===a&&t.form.dedicatedLineBizs.push({dedicatedLineBizName:e.name,dedicatedLineBizId:e.id})}))},init:function(){["edit","view"].includes(this.type)?this.getDetail():this.showApi=!0,"view"===this.type&&(this.disabled=!0)}},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(a(),this.init())},mounted:function(){this.init()}},f=h,g=(a("a9fd"),a("0501"),a("2877")),m=Object(g["a"])(f,n,i,!1,null,"4abc804e",null);t["default"]=m.exports},e0d3:function(e,t,a){var n=a("6d8b"),i=a("22d1"),r=n.each,o=n.isObject,s=n.isArray,l="series\0";function c(e){return e instanceof Array?e:null==e?[]:[e]}function u(e,t,a){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,i=a.length;n<i;n++){var r=a[n];!e.emphasis[t].hasOwnProperty(r)&&e[t].hasOwnProperty(r)&&(e.emphasis[t][r]=e[t][r])}}}var d=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function p(e){return!o(e)||s(e)||e instanceof Date?e:e.value}function h(e){return o(e)&&!(e instanceof Array)}function f(e,t){t=(t||[]).slice();var a=n.map(e||[],(function(e,t){return{exist:e}}));return r(t,(function(e,n){if(o(e)){for(var i=0;i<a.length;i++)if(!a[i].option&&null!=e.id&&a[i].exist.id===e.id+"")return a[i].option=e,void(t[n]=null);for(i=0;i<a.length;i++){var r=a[i].exist;if(!a[i].option&&(null==r.id||null==e.id)&&null!=e.name&&!b(e)&&!b(r)&&r.name===e.name+"")return a[i].option=e,void(t[n]=null)}}})),r(t,(function(e,t){if(o(e)){for(var n=0;n<a.length;n++){var i=a[n].exist;if(!a[n].option&&!b(i)&&null==e.id){a[n].option=e;break}}n>=a.length&&a.push({option:e})}})),a}function g(e){var t=n.createHashMap();r(e,(function(e,a){var n=e.exist;n&&t.set(n.id,e)})),r(e,(function(e,a){var i=e.option;n.assert(!i||null==i.id||!t.get(i.id)||t.get(i.id)===e,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&t.set(i.id,e),!e.keyInfo&&(e.keyInfo={})})),r(e,(function(e,a){var n=e.exist,i=e.option,r=e.keyInfo;if(o(i)){if(r.name=null!=i.name?i.name+"":n?n.name:l+a,n)r.id=n.id;else if(null!=i.id)r.id=i.id+"";else{var s=0;do{r.id="\0"+r.name+"\0"+s++}while(t.get(r.id))}t.set(r.id,e)}}))}function m(e){var t=e.name;return!(!t||!t.indexOf(l))}function b(e){return o(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function v(e,t){var a={},n={};return i(e||[],a),i(t||[],n,a),[r(a),r(n)];function i(e,t,a){for(var n=0,i=e.length;n<i;n++)for(var r=e[n].seriesId,o=c(e[n].dataIndex),s=a&&a[r],l=0,u=o.length;l<u;l++){var d=o[l];s&&s[d]?s[d]=null:(t[r]||(t[r]={}))[d]=1}}function r(e,t){var a=[];for(var n in e)if(e.hasOwnProperty(n)&&null!=e[n])if(t)a.push(+n);else{var i=r(e[n],!0);i.length&&a.push({seriesId:n,dataIndex:i})}return a}}function y(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?n.isArray(t.dataIndex)?n.map(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?n.isArray(t.name)?n.map(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}function w(){var e="__\0ec_inner_"+_+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var _=0;function x(e,t,a){if(n.isString(t)){var i={};i[t+"Index"]=0,t=i}var o=a&&a.defaultMainType;!o||O(t,o+"Index")||O(t,o+"Id")||O(t,o+"Name")||(t[o+"Index"]=0);var s={};return r(t,(function(i,r){i=t[r];if("dataIndex"!==r&&"dataIndexInside"!==r){var o=r.match(/^(\w+)(Index|Id|Name)$/)||[],l=o[1],c=(o[2]||"").toLowerCase();if(!(!l||!c||null==i||"index"===c&&"none"===i||a&&a.includeMainTypes&&n.indexOf(a.includeMainTypes,l)<0)){var u={mainType:l};"index"===c&&"all"===i||(u[c]=i);var d=e.queryComponents(u);s[l+"Models"]=d,s[l+"Model"]=d[0]}}else s[r]=i})),s}function O(e,t){return e&&e.hasOwnProperty(t)}function D(e,t,a){e.setAttribute?e.setAttribute(t,a):e[t]=a}function C(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function k(e){return"auto"===e?i.domSupported?"html":"richText":e||"html"}function S(e,t){var a=n.createHashMap(),i=[];return n.each(e,(function(e){var n=t(e);(a.get(n)||(i.push(n),a.set(n,[]))).push(e)})),{keys:i,buckets:a}}t.normalizeToArray=c,t.defaultEmphasis=u,t.TEXT_STYLE_OPTIONS=d,t.getDataItemValue=p,t.isDataItemOption=h,t.mappingToExists=f,t.makeIdAndName=g,t.isNameSpecified=m,t.isIdInner=b,t.compressBatches=v,t.queryDataIndex=y,t.makeInner=w,t.parseFinder=x,t.setAttribute=D,t.getAttribute=C,t.getTooltipRenderMode=k,t.groupData=S},e0d8:function(e,t,a){var n=a("625e");function i(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}i.prototype.parse=function(e){return e},i.prototype.getSetting=function(e){return this._setting[e]},i.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},i.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},i.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},i.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},i.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(e,t){var a=this._extent;isNaN(e)||(a[0]=e),isNaN(t)||(a[1]=t)},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(e){this._isBlank=e},i.prototype.getLabel=null,n.enableClassExtend(i),n.enableClassManagement(i,{registerWhenExtend:!0});var r=i;e.exports=r},e0ef:function(e,t,a){var n=a("4b17"),i="Expected a function";function r(e,t){var a;if("function"!=typeof t)throw new TypeError(i);return e=n(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=void 0),a}}e.exports=r},e17c:function(e,t,a){},e1f3:function(e,t,a){"use strict";a("dc2a")},e1fc:function(e,t,a){var n=a("6d8b"),i=a("d5b7"),r=a("9850"),o=function(e){for(var t in e=e||{},i.call(this,e),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};o.prototype={constructor:o,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,a=0;a<t.length;a++)if(t[a].name===e)return t[a]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var a=this._children,n=a.indexOf(t);n>=0&&(a.splice(n,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,a=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof o&&e.addChildrenToStorage(t)),a&&a.refresh()},remove:function(e){var t=this.__zr,a=this.__storage,i=this._children,r=n.indexOf(i,e);return r<0||(i.splice(r,1),e.parent=null,a&&(a.delFromStorage(e),e instanceof o&&e.delChildrenFromStorage(a)),t&&t.refresh()),this},removeAll:function(){var e,t,a=this._children,n=this.__storage;for(t=0;t<a.length;t++)e=a[t],n&&(n.delFromStorage(e),e instanceof o&&e.delChildrenFromStorage(n)),e.parent=null;return a.length=0,this},eachChild:function(e,t){for(var a=this._children,n=0;n<a.length;n++){var i=a[n];e.call(t,i,n)}return this},traverse:function(e,t){for(var a=0;a<this._children.length;a++){var n=this._children[a];e.call(t,n),"group"===n.type&&n.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var a=this._children[t];e.addToStorage(a),a instanceof o&&a.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var a=this._children[t];e.delFromStorage(a),a instanceof o&&a.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,a=new r(0,0,0,0),n=e||this._children,i=[],o=0;o<n.length;o++){var s=n[o];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),c=s.getLocalTransform(i);c?(a.copy(l),a.applyTransform(c),t=t||a.clone(),t.union(a)):(t=t||l.clone(),t.union(l))}}return t||a}},n.inherits(o,i);var s=o;e.exports=s},e20e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"dedicated-line"},[a("avue-crud",{ref:"crud",attrs:{"before-open":e.beforeOpen,data:e.data,page:e.page,option:e.option,"table-loading":e.loading,permission:e.permissionList},on:{"update:page":function(t){e.page=t},"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"menu",fn:function(t){var n=t.row;return[e.permissionList.viewCodeBtn?a("el-button",{attrs:{icon:"el-icon-tickets",size:"small",type:"text"},on:{click:function(t){return e.showCodeDialog(n.id)}}},[e._v("查看配对码")]):e._e()]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),e.codeVisible?a("matchCodeDialog",{attrs:{visible:e.codeVisible,id:e.curId},on:{doSearch:function(t){return e.onLoad(e.page)},changeVisible:function(t){e.codeVisible=!1}}}):e._e()],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("ade3")),o=a("5880"),s=a("59df"),l=a("2f32"),c=a("1e18");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"match",components:{matchCodeDialog:s["default"]},data:function(){return{form:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,dialogClickModal:!1,viewBtn:!0,editBtn:!0,columnBtn:!1,menuPosition:"right",labelWidth:100,column:[{label:"专线名称",prop:"name",search:!0},{label:"配对状态",prop:"status",dicData:c["c"],type:"select",search:!0,width:90},{label:"已配对次数",prop:"pairCount",width:90},{label:"最多配对次数",prop:"maxCount",width:96},{label:"配对时间",prop:"pairTime"},{label:"颁发机构",prop:"org"},{label:"网关地址",prop:"gatewayUrl"},{label:"创建时间",prop:"createTime",width:130},{label:"更新时间",prop:"updateTime",width:130}]},data:[],codeVisible:!1,curId:null}},computed:d(d({},Object(o["mapGetters"])(["permission"])),{},{permissionList:function(){return{viewBtn:this.vaildData(this.permission.interface_dedicatedLine_view,!1),addBtn:this.vaildData(this.permission.interface_dedicatedLine_add,!1),editBtn:this.vaildData(this.permission.interface_dedicatedLine_edit,!1),delBtn:this.vaildData(this.permission.interface_dedicatedLine_remove,!1),viewCodeBtn:this.vaildData(this.permission.interface_dedicatedLine_viewCode,!1)}}}),watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowDel:function(e){var t=this;this.$confirm("你确定要删除此专线吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["f"])(e.id)})).then((function(){t.onLoad(t.page),t.$message({type:"success",message:"删除成功"})}))},beforeOpen:function(e,t){["add","edit","view"].includes(t)&&this.$router.push({path:"/public-network/dedicated-line/".concat(t),query:{id:this.form.id}})},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,Object(l["c"])(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){if(200===e.data.code){var a=e.data.data;t.page.total=a.total,t.data=a.records}t.loading=!1}),(function(){t.loading=!1}))},showCodeDialog:function(e){this.codeVisible=!0,this.curId=e}}},h=p,f=a("2877"),g=Object(f["a"])(h,n,i,!1,null,"78ad192a",null);t["default"]=g.exports},e24b:function(e,t,a){var n=a("49f4"),i=a("1efc"),r=a("bbc0"),o=a("7a48"),s=a("2524");function l(e){var t=-1,a=null==e?0:e.length;this.clear();while(++t<a){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype["delete"]=i,l.prototype.get=r,l.prototype.has=o,l.prototype.set=s,e.exports=l},e263:function(e,t,a){var n=a("401b"),i=a("4a3f"),r=Math.min,o=Math.max,s=Math.sin,l=Math.cos,c=2*Math.PI,u=n.create(),d=n.create(),p=n.create();function h(e,t,a){if(0!==e.length){var n,i=e[0],s=i[0],l=i[0],c=i[1],u=i[1];for(n=1;n<e.length;n++)i=e[n],s=r(s,i[0]),l=o(l,i[0]),c=r(c,i[1]),u=o(u,i[1]);t[0]=s,t[1]=c,a[0]=l,a[1]=u}}function f(e,t,a,n,i,s){i[0]=r(e,a),i[1]=r(t,n),s[0]=o(e,a),s[1]=o(t,n)}var g=[],m=[];function b(e,t,a,n,s,l,c,u,d,p){var h,f=i.cubicExtrema,b=i.cubicAt,v=f(e,a,s,c,g);for(d[0]=1/0,d[1]=1/0,p[0]=-1/0,p[1]=-1/0,h=0;h<v;h++){var y=b(e,a,s,c,g[h]);d[0]=r(y,d[0]),p[0]=o(y,p[0])}for(v=f(t,n,l,u,m),h=0;h<v;h++){var w=b(t,n,l,u,m[h]);d[1]=r(w,d[1]),p[1]=o(w,p[1])}d[0]=r(e,d[0]),p[0]=o(e,p[0]),d[0]=r(c,d[0]),p[0]=o(c,p[0]),d[1]=r(t,d[1]),p[1]=o(t,p[1]),d[1]=r(u,d[1]),p[1]=o(u,p[1])}function v(e,t,a,n,s,l,c,u){var d=i.quadraticExtremum,p=i.quadraticAt,h=o(r(d(e,a,s),1),0),f=o(r(d(t,n,l),1),0),g=p(e,a,s,h),m=p(t,n,l,f);c[0]=r(e,s,g),c[1]=r(t,l,m),u[0]=o(e,s,g),u[1]=o(t,l,m)}function y(e,t,a,i,r,o,h,f,g){var m=n.min,b=n.max,v=Math.abs(r-o);if(v%c<1e-4&&v>1e-4)return f[0]=e-a,f[1]=t-i,g[0]=e+a,void(g[1]=t+i);if(u[0]=l(r)*a+e,u[1]=s(r)*i+t,d[0]=l(o)*a+e,d[1]=s(o)*i+t,m(f,u,d),b(g,u,d),r%=c,r<0&&(r+=c),o%=c,o<0&&(o+=c),r>o&&!h?o+=c:r<o&&h&&(r+=c),h){var y=o;o=r,r=y}for(var w=0;w<o;w+=Math.PI/2)w>r&&(p[0]=l(w)*a+e,p[1]=s(w)*i+t,m(f,p,f),b(g,p,g))}t.fromPoints=h,t.fromLine=f,t.fromCubic=b,t.fromQuadratic=v,t.fromArc=y},e282:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"api-test-wrapper"},[a("el-container",{staticClass:"api-test-container"},[a("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.historyList.length>0,expression:"historyList.length > 0"}],attrs:{width:"240px"}},[a("div",{staticClass:"history-header"},[e._v("历史测试记录")]),a("el-menu",{staticClass:"history-list",attrs:{"default-active":e.menuActive},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.historyList,(function(t,n){return a("el-menu-item",{key:n,attrs:{index:n},on:{click:function(a){return e.addHistoryTab(t)}}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n            "+e._s(t.name)+"\n            "),a("transition",{attrs:{name:"fade"}},[a("el-button",{staticClass:"history-del-btn",attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return a.stopPropagation(),e.deleteHistory(t,n)}}})],1)],1)])})),1)],1),a("el-container",[a("el-header",[a("api-header",{attrs:{"service-name":e.serviceName,"api-name":e.apiName,"page-name":"接口测试"}}),a("div",[a("el-button",{attrs:{size:"small"},on:{click:e.goBack}},[e._v("返回")])],1)],1),a("el-main",[a("el-tabs",{attrs:{type:"card"},on:{edit:e.handleStepTabs},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.testList,(function(t,n){return a("el-tab-pane",{key:n,attrs:{name:n+1,closable:0!==n}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-badge",{staticClass:"item",attrs:{"is-dot":!t.id}},[e._v(e._s(t.name))])],1),a("test-item",{ref:"testItem",refInFor:!0,attrs:{data:t,domain:e.domain,refresh:e.addRefresh},on:{"update:data":function(e){t=e}}})],1)})),1)],1)],1)],1)],1)},i=[],r=(a("ac6a"),a("7f7f"),a("7ede")),o=a("708f"),s=a("936b"),l=a("efcc"),c={name:"test",data:function(){return{formData:{},currentTab:1,menuActive:"",tabIndex:1,testList:[{name:"New Test"}],historyList:[],domain:"",loading:!1}},computed:{originId:function(){return this.$route.query.originId||""},serviceName:function(){return this.formData.serviceName||""},apiName:function(){return this.formData.title||""},tabCount:function(){return this.testList&&this.testList.length||1}},created:function(){this.init()},components:{apiHeader:s["default"],testItem:l["default"]},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(a((function(e){e.originId||e.goBack()})),this.init())},methods:{init:function(){this.getList(),this.initData()},initData:function(){var e=this;if(this.currentTab=1,!this.originId)return this.formData={},void(this.testList=[{name:"New Test"}]);Object(o["f"])(this.originId).then((function(t){var a=t.data.data||{},n=a.id,i=a.method,r=a.path,o=a.name,s=a.serviceName,l=a.formalPathPrefix;e.formData={configId:n,method:i,path:r,title:o,serviceName:s,formalPathPrefix:l},e.testList[0]=Object.assign({name:e.formData.method+" "+e.formData.path,content:""},e.formData)}))},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.loading=!0,t.configId=this.originId,new Promise((function(a,n){Object(r["c"])(1,1e3,t).then((function(t){var n=t.data.data;e.domain=n.gatewayUrl,e.historyList=n.records,e.loading=!1,a(t)})).catch((function(e){n(e)}))}))},handleStepTabs:function(e,t){"add"===t&&(this.tabIndex=this.tabCount,this.currentTab=++this.tabIndex,this.testList.push({name:"New Test"})),"remove"===t&&(this.testList.splice(e-1,1),this.currentTab=e-1)},addHistoryTab:function(e){var t=this,a=!1;this.testList.forEach((function(n,i){n.id===e.id&&(a=!0,t.currentTab=i+1)})),a||Object(r["b"])(e.id).then((function(e){var a=e.data.data||{},n=a.configId,i=a.content,r=a.id,o=a.name;t.tabIndex=t.tabCount,t.currentTab=++t.tabIndex,t.testList.push(Object.assign({configId:n,content:i,id:r,name:o},t.formData))}))},addRefresh:function(){var e=this;this.handleStepTabs(this.currentTab,"remove"),this.initData(),this.getList().then((function(){if(e.historyList&&e.historyList.length>0){e.menuActive="0";var t=e.historyList&&e.historyList[0];e.addHistoryTab(t,e.currentTab)}}))},deleteHistory:function(e){var t=this;this.$confirm("确定删除该历史测试记录?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(r["d"])(e.id)})).then((function(){t.menuActive="0",t.getList(),t.testList.forEach((function(a,n){a.id===e.id&&t.handleStepTabs(n+1,"remove")})),t.$message({type:"success",message:"删除成功"})}))},goBack:function(){var e=decodeURIComponent(this.$route.query.redirect);this.$router.$avueRouter.closeTag(),this.$route.query.redirect&&e&&this.$router.push(e)},openCookies:function(){console.log("openCookies::::")}}},u=c,d=(a("7476"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},e3ca:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card api-detail-page"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("api-header",{attrs:{"service-name":e.serviceName,"group-name":e.groupName,"page-name":e.pageName}})],1),a("h3",[a("i",{staticClass:"el-icon-edit-outline avue-group__icon"}),e._v("基础信息")]),a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,size:"small",disabled:e.disabled,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"网关分组：",prop:"gatewayGroup"}},[a("el-select",{attrs:{placeholder:"请选择网关分组",filterable:"",clearable:""},model:{value:e.formData.gatewayGroup,callback:function(t){e.$set(e.formData,"gatewayGroup",t)},expression:"formData.gatewayGroup"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label+"("+e.value+")",value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"访问：",prop:"access"}},[a("el-radio-group",{model:{value:e.formData.access,callback:function(t){e.$set(e.formData,"access",t)},expression:"formData.access"}},e._l(e.accessType,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label)+"\n          ")])})),1)],1),a("el-form-item",{attrs:{label:"是否专线路由：",prop:"isDedicatedLine"}},[a("el-radio-group",{attrs:{disabled:""},model:{value:e.formData.isDedicatedLine,callback:function(t){e.$set(e.formData,"isDedicatedLine",t)},expression:"formData.isDedicatedLine"}},e._l(e.isDedicatedLineDic,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label)+"\n          ")])})),1)],1),a("el-form-item",{attrs:{label:"路由类型：",prop:"proxyMode"}},[a("el-radio-group",{on:{change:e.proxyModeChange},model:{value:e.formData.proxyMode,callback:function(t){e.$set(e.formData,"proxyMode",t)},expression:"formData.proxyMode"}},e._l(e.proxyMode,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label)+"\n          ")])})),1)],1),2===e.formData.proxyMode?[a("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":e.discoveryModeChange},model:{value:e.formData.discoveryMode,callback:function(t){e.$set(e.formData,"discoveryMode",t)},expression:"formData.discoveryMode"}},[a("el-tab-pane",{attrs:{name:"1",label:"HTTP"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-radio",{attrs:{label:"1"},model:{value:e.formData.discoveryMode,callback:function(t){e.$set(e.formData,"discoveryMode",t)},expression:"formData.discoveryMode"}},[e._v("HTTP")])],1),1===parseInt(e.formData.discoveryMode)?[a("el-form-item",{attrs:{label:"注册中心：",prop:"registryName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择 注册中心",clearable:""},on:{change:e.changeRegister},model:{value:e.formData.registryName,callback:function(t){e.$set(e.formData,"registryName",t)},expression:"formData.registryName"}},e._l(e.registerList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"后端服务名：",prop:"backendService"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择服务名",clearable:""},on:{change:e.serviceChange},model:{value:e.formData.backendService,callback:function(t){e.$set(e.formData,"backendService",t)},expression:"formData.backendService"}},e._l(e.serviceList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1),a("div",{staticClass:"key-tips"},[e._v("路由转发目标服务")])],1),a("el-form-item",{attrs:{label:"后端API路径：",prop:"backendPath"}},[a("el-input",{staticClass:"lg-input",attrs:{placeholder:"请输入后端API路径",clearable:""},on:{change:e.pathChange},model:{value:e.formData.backendPath,callback:function(t){e.$set(e.formData,"backendPath",t)},expression:"formData.backendPath"}}),a("div",{staticClass:"key-tips"},[e._v("\n                  路由转发目标路径，支持精确匹配和引用前端API路径的变量\n                  "),a("tooltip-path",{staticClass:"link",attrs:{title:"规则说明"}}),e._v("\n                  ，如：/a/b/c 或 /a/b/{$1}\n                ")],1)],1)]:e._e()],2),a("el-tab-pane",{attrs:{name:"2",label:"Dubbo"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("el-radio",{attrs:{label:"2"},model:{value:e.formData.discoveryMode,callback:function(t){e.$set(e.formData,"discoveryMode",t)},expression:"formData.discoveryMode"}},[e._v("Dubbo")])],1),2===parseInt(e.formData.discoveryMode)?[a("el-form-item",{key:"serviceName",attrs:{label:"后端服务名",prop:"backendService"}},[e.dubboSeriviceLabel?[a("el-tooltip",{attrs:{content:e.dubboSeriviceLabel,placement:"top-start"}},[a("el-input",{staticStyle:{width:"50%","margin-right":"10px"},attrs:{placeholder:"请选择接口",disabled:""},model:{value:e.dubboSeriviceLabel,callback:function(t){e.dubboSeriviceLabel=t},expression:"dubboSeriviceLabel"}})],1)]:a("el-input",{staticStyle:{width:"50%","margin-right":"10px"},attrs:{placeholder:"请选择接口",disabled:""},model:{value:e.dubboSeriviceLabel,callback:function(t){e.dubboSeriviceLabel=t},expression:"dubboSeriviceLabel"}}),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showRpcSelector=!0}}},[e._v("选择接口")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.showRpcAdd=!0}}},[e._v("新增接口")])],2),a("el-form-item",{key:"rpcMethod",attrs:{label:"方法名",prop:"rpcMethod"}},[e.formData.rpcParamTypes?[a("el-tooltip",{attrs:{content:"参数类型："+e.formData.rpcParamTypes,placement:"top-start"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.formData.rpcMethod,callback:function(t){e.$set(e.formData,"rpcMethod",t)},expression:"formData.rpcMethod"}})],1)]:a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.formData.rpcMethod,callback:function(t){e.$set(e.formData,"rpcMethod",t)},expression:"formData.rpcMethod"}})],2)]:e._e()],2)],1)]:[1===e.formData.proxyMode?[a("el-form-item",{attrs:{label:"后端服务名：",prop:"backendService"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择服务名",clearable:""},on:{change:e.serviceChange},model:{value:e.formData.backendService,callback:function(t){e.$set(e.formData,"backendService",t)},expression:"formData.backendService"}},e._l(e.aggregateServiceOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1),a("div",{staticClass:"key-tips"},[e._v("路由转发目标服务")])],1)]:a("div",[a("el-form-item",{attrs:{label:"后端服务器："}},[e._l(e.apiBackends,(function(t,n){return a("div",{key:n,staticClass:"service-url"},[a("el-input",{staticClass:"service-url-input",attrs:{placeholder:"请输入后端服务器IP/域名和端口, 如: http://ip:port 或 http://domain:port"},model:{value:t.backendUrl,callback:function(a){e.$set(t,"backendUrl",a)},expression:"item.backendUrl"}}),n?e._e():a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addServiceUrl()}}}),n?a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.delServiceUrl(n)}}}):e._e()],1)})),a("div",{staticClass:"key-tips"},[e._v("路由转发目标服务器，请填写后端服务器IP/域名和端口, 如: http://ip:port 或 http://domain:port，有多台服务器时网关会轮询调用")])],2)],1),a("el-form-item",{attrs:{label:"后端API路径：",prop:"backendPath"}},[a("el-input",{staticClass:"lg-input",attrs:{placeholder:"请输入后端API路径",clearable:""},on:{change:e.pathChange},model:{value:e.formData.backendPath,callback:function(t){e.$set(e.formData,"backendPath",t)},expression:"formData.backendPath"}}),a("div",{staticClass:"key-tips"},[e._v("\n            路由转发目标路径，支持精确匹配和引用前端API路径的变量\n            "),a("tooltip-path",{staticClass:"link",attrs:{title:"规则说明"}}),e._v("\n            ，如：/a/b/c 或 /a/b/{$1}\n          ")],1)],1)],a("el-form-item",{attrs:{label:"前端服务名：",prop:"service"}},[a("el-input",{attrs:{placeholder:"请输入服务名",disabled:e.hasServiceSame&&e.serviceSame,clearable:""},model:{value:e.formData.service,callback:function(t){e.$set(e.formData,"service",t)},expression:"formData.service"}}),e.hasServiceSame?a("el-checkbox",{staticClass:"relate-checkbox",on:{change:e.serviceChange},model:{value:e.serviceSame,callback:function(t){e.serviceSame=t},expression:"serviceSame"}},[e._v("\n          与后端服务名一致\n        ")]):e._e(),a("div",{staticClass:"key-tips"},[e._v("\n          服务名为访问URL其中一级路径，建议与后端服务名一致\n          "),3===e.formData.proxyMode?a("span",[e._v("，无服务名时可自定义一个名称")]):e._e()])],1),a("el-form-item",{staticClass:"service-remark",attrs:{label:"前端服务名描述:"}},[a("el-input",{staticClass:"lg-input",attrs:{disabled:""},model:{value:e.serviceDesObj.description,callback:function(t){e.$set(e.serviceDesObj,"description",t)},expression:"serviceDesObj.description"}}),a("el-button",{staticClass:"setting-btn",attrs:{size:"small",type:"primary",plain:"",disabled:!e.formData.service},on:{click:e.showRemarkDialog}},[e._v("设置")])],1),a("el-form-item",{attrs:{label:"前端API路径：",prop:"path"}},[a("el-input",{staticClass:"lg-input",attrs:{placeholder:"请输入前端API路径",disabled:e.pathSame,clearable:""},model:{value:e.formData.path,callback:function(t){e.$set(e.formData,"path",t)},expression:"formData.path"}}),a("el-button",{staticClass:"relate-button",attrs:{type:"primary",size:"small",disabled:!e.formData.path,plain:""},on:{click:function(t){return e.checkPath()}}},[e._v("\n          测试\n        ")]),a("div",{staticClass:"key-tips"},[e._v("调用方访问路径，支持精确匹配、前缀匹配和正则表达式\n          "),a("tooltip-path",{staticClass:"link",attrs:{title:"规则说明"}}),e._v("\n          ，如：/x/y/z 或 /x/y/**\n        ")],1)],1),a("el-form-item",{attrs:{label:"调用方(appID)：",prop:"appEnabled"}},[a("el-checkbox",{model:{value:e.formData.appEnabled,callback:function(t){e.$set(e.formData,"appEnabled",t)},expression:"formData.appEnabled"}},[e._v("启用")]),a("div",{staticClass:"key-tips"},[e._v("\n          限制调用方访问，请求URL需在请求头中加应用授权\n          "),a("tooltip-appid",{staticClass:"link",attrs:{title:"示例"}}),e._v("\n          ，不启用不限制\n        ")],1)],1),e.formData.appEnabled?a("div",{staticStyle:{margin:"0 0 18px 120px"}},[a("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){e.appidDrawer=!0}}},[e._v("添加\n        ")]),a("el-table",{attrs:{data:e.appidData,border:"",stripe:"",size:"mini","max-height":"240"}},[a("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleAppidCheckAll},model:{value:e.appidCheckAll,callback:function(t){e.appidCheckAll=t},expression:"appidCheckAll"}})]}},{key:"default",fn:function(t){return[a("el-checkbox",{on:{change:e.handleAppidCheck},model:{value:t.row.enabled,callback:function(a){e.$set(t.row,"enabled",a)},expression:"scope.row.enabled"}})]}}],null,!1,469018870)}),a("el-table-column",{attrs:{label:"appID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.appName)+" ("+e._s(t.row.app)+")\n            ")]}}],null,!1,3248570262)}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteAppid(t.$index,e.appidData)}}},[e._v("\n                删除\n              ")])]}}],null,!1,356933876)})],1)],1):e._e(),a("el-form-item",{attrs:{label:"请求方法：",prop:"method"}},[a("el-select",{attrs:{placeholder:"请选择请求方法",clearable:""},model:{value:e.formData.method,callback:function(t){e.$set(e.formData,"method",t)},expression:"formData.method"}},e._l(e.apiMethod,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"超时时间：",prop:"timeout"}},[a("div",{staticClass:"form-item-with-unit"},[a("el-input-number",{attrs:{placeholder:"例：2000",min:0,"controls-position":"right"},model:{value:e.formData.timeout,callback:function(t){e.$set(e.formData,"timeout",t)},expression:"formData.timeout"}}),a("span",{staticClass:"unit"},[e._v(" 毫秒")])],1),a("div",{staticClass:"key-tips"},[e._v("默认超时时间为20秒")])]),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"失败重试：",prop:"retryCount"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.formData.retryCount,callback:function(t){e.$set(e.formData,"retryCount",t)},expression:"formData.retryCount"}}),a("span",{staticClass:"unit"},[e._v(" 次")])],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"重试间隔：",prop:"retryInterval"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.formData.retryInterval,callback:function(t){e.$set(e.formData,"retryInterval",t)},expression:"formData.retryInterval"}}),a("span",{staticClass:"unit"},[e._v(" 毫秒")])],1),a("el-form-item",{attrs:{label:"路由结果："}},[a("el-link",{attrs:{type:"primary"}},[e._v("/"+e._s(e.formData.service)+e._s(e.formData.path))]),a("span",[e._v("  转发至：")]),3===e.formData.proxyMode?[e._l(e.apiBackends,(function(t,n){return n<2?a("span",{key:n},[n?a("span",[e._v(" | ")]):e._e(),a("el-link",{attrs:{type:"primary"}},[e._v(e._s(t.backendUrl)+e._s(e.formData.backendPath))])],1):e._e()})),a("span",{directives:[{name:"show",rawName:"v-show",value:e.apiBackends.length>2,expression:"apiBackends.length > 2"}]},[e._v(" | ...")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.apiBackends.length>1,expression:"apiBackends.length > 1"}]},[e._v("(均衡负载)")])]:2===e.formData.proxyMode&&2===parseInt(e.formData.discoveryMode)?[a("el-link",{attrs:{type:"primary"}},[e._v("\n            dubbo://"+e._s(e.formData.backendService)+"/"+e._s(e.formData.rpcMethod)+"\n          ")])]:[a("el-link",{attrs:{type:"primary"}},[e._v("\n            http://"+e._s(e.formData.backendService)+e._s(e.formData.backendPath)+"\n          ")])]],2),a("div",{staticClass:"key-tips"},[e._v("提示：网关访问地址格式为: http://{fizz网关ip:port}"+e._s(e.gatewayPrefix)+"/{前端服务名}/{前端API路径}")])],2),a("plugin-config-con",{ref:"pluginConfigCon",attrs:{disabled:e.disabled,config:e.apiPlugins,groupConfig:e.groupPlugins,isDedicatedLine:1===e.formData.isDedicatedLine,showType:""},on:{emitData:function(t){return e.apiPlugins=t}}}),e.disabled?e._e():a("footer",[a("el-button",{attrs:{size:"small",icon:"el-icon-circle-check",loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v("保存\n      ")]),a("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:e.handleClose}},[e._v("取消")])],1)],1),a("el-drawer",{ref:"appidDrawer",attrs:{"append-to-body":"",title:"添加调用方(appID)",size:"50%",visible:e.appidDrawer},on:{"update:visible":function(t){e.appidDrawer=t}}},[a("div",[a("div",{staticStyle:{"padding-bottom":"50px"}},[a("add-appid",{attrs:{selection:e.selectionAppid},on:{"update:selection":function(t){e.selectionAppid=t}}})],1),a("footer",{staticClass:"drawer-footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleAppidDrawer()}}},[e._v("确 定")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.appidDrawer=!1}}},[e._v("取 消")])],1)])]),a("rpc-api-selector",{ref:"rpcApiSelector",attrs:{visible:e.showRpcSelector,type:"DUBBO"},on:{"update:visible":function(t){e.showRpcSelector=t},confirm:e.getRpcApi}}),a("rpc-api-detail",{attrs:{type:"add",title:"新增DUBBO接口",visible:e.showRpcAdd,callback:e.addRpcCallback},on:{"update:visible":function(t){e.showRpcAdd=t}}}),a("test-path",{attrs:{visible:e.testPathDialog,frontendPath:e.formData.path,backendPath:e.formData.backendPath},on:{"update:visible":function(t){e.testPathDialog=t}}}),a("service-remark-dialog",{ref:"serviceRemark",attrs:{visible:e.remarkDialogVisible,service:e.formData.service,detail:e.serviceDesObj},on:{emitData:function(t){return e.serviceDesObj=t},changeVisible:function(){return e.remarkDialogVisible=!1}}})],1)},i=[],r=(a("8e6e"),a("456d"),a("6b54"),a("6762"),a("2fdb"),a("4f7f"),a("5df3"),a("1c4c"),a("ac6a"),a("7514"),a("7f7f"),a("28a5"),a("ade3")),o=a("5880"),s=a("27fc"),l=a("3bfd"),c=a("0a6a"),u=a("0468"),d=a("9b51"),p=a("7555"),h=a("60cc"),f=a("ccdc"),g=a("17e0"),m=a("2d92"),b=a("c8b6"),v=a("1763"),y=a("74a0"),w=a("378a"),_=a("0144");function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D={name:"detail",data:function(){return{loading:!1,formData:{},accessType:s["a"],isDedicatedLineDic:[{label:"否",value:0},{label:"是",value:1}],proxyMode:s["e"],rules:{isDedicatedLine:[{required:!0,message:"必填",trigger:"change"}],gatewayGroup:[{required:!0,message:"必填",trigger:"change"}],backendService:[{required:!0,message:"必填",trigger:"change"}],rpcMethod:[{required:!0,message:"必填",trigger:"change"}],service:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[^\\]*$/,message:"不能输入 \\ 字符",trigger:"blur"}],access:[{required:!0,message:"必填",trigger:"change"}],proxyMode:[{required:!0,message:"必填",trigger:"change"}],path:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}],registryName:[{required:!0,message:"必填",trigger:"change"}],backendPath:[{required:!0,message:"必填",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"请勿输入中文字符",trigger:"blur"},{pattern:/^(\/)+/,message:"请参照例子正确填写路径, 开头不可缺少 '/' 符号",trigger:"blur"}]},apiPlugins:[],appidDrawer:!1,selectionPlugins:[],selectionAppid:[],appidData:[],appidCheckAll:!1,isIndeterminate:!1,apiBackends:[{}],pathSame:!1,serviceSame:!1,testPathDialog:!1,showRpcSelector:!1,showRpcAdd:!1,apiMethod:[{label:"AUTO",value:""},{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"PATCH",value:"PATCH"},{label:"HEAD",value:"HEAD"},{label:"OPTIONS",value:"OPTIONS"},{label:"TRACE",value:"TRACE"}],groupPlugins:[],registerList:[],serviceList:[],remarkDialogVisible:!1,serviceDesObj:{}}},computed:O(O({},Object(o["mapGetters"])(["permission","aggregateServiceOptions","groupOptions","pluginOptions","gatewayPrefix"])),{},{permissionList:function(){return{publishBtn:this.vaildData(this.permission.aggregate_api_publish,!1)}},originId:function(){return this.$route.query.originId||""},app:function(){return this.$route.query.app||""},appName:function(){return this.$route.query.appName||""},actionType:function(){var e=this.$route.path.split("/");return e[e.length-1]||"add"},disabled:function(){return"view"===this.actionType||!1},pageName:function(){return"add"===this.actionType?"新增API":this.$route.name},groupName:function(){var e=this,t=this.groupOptions.find((function(t){return t.value===e.formData.gatewayGroup}));return t&&t.label||""},serviceName:function(){return this.formData.service||""},hasServiceSame:function(){return 1===this.formData.proxyMode||2===this.formData.proxyMode&&1===parseInt(this.formData.discoveryMode)||!1},dubboSeriviceLabel:function(){return this.formData.rpcVersion||this.formData.rpcGroup?this.formData.backendService+" ("+this.formData.rpcVersion+"-"+this.formData.rpcGroup+")":this.formData.backendService},instanceId:function(){return this.$route.query.instanceId||""}}),components:{apiHeader:d["default"],pluginList:p["default"],pluginConfig:h["default"],tooltipPath:f["default"],tooltipAppid:g["default"],testPath:m["default"],addAppid:b["default"],rpcApiSelector:v["default"],rpcApiDetail:y["default"],pluginConfigCon:w["default"],serviceRemarkDialog:_["default"]},watch:{appidData:{deep:!0,handler:function(){this.handleAppidCheck()}},"formData.gatewayGroup":function(){this.getGroupDetail(this.formData.gatewayGroup)},"formData.service":function(){this.getFroServiceDes()}},created:function(){this.getPluginOptions(),this.getGroupOptions(),this.getAggregateServiceOptions(),this.getGatewayPrefix(),this.getRegisterNameList(),this.init()},beforeRouteUpdate:function(e,t,a){e.fullPath!==t.fullPath&&(a(),this.init())},methods:O(O({},Object(o["mapActions"])(["getAggregateServiceOptions","getGroupOptions","getGatewayPrefix","getPluginOptions"])),{},{addRpcCallback:function(){this.$refs.rpcApiSelector.onLoad()},getRpcApi:function(e){var t=e[0]||{};this.$set(this.formData,"backendService",t.service||""),this.$set(this.formData,"rpcVersion",t.version||""),this.$set(this.formData,"rpcGroup",t.group||""),this.$set(this.formData,"rpcMethod",t.method||""),this.$set(this.formData,"rpcParamTypes",t.paramTypes||""),this.$set(this.formData,"path","/"+this.formData.rpcMethod)},discoveryModeChange:function(){this.$set(this.formData,"backendService","")},proxyModeChange:function(e){this.$set(this.formData,"backendService",""),2===e&&this.$set(this.formData,"discoveryMode","1"),this.serviceChange()},pathChange:function(){this.pathSame&&(this.formData.path=this.formData.backendPath)},serviceChange:function(){this.serviceSame&&(this.formData.service=this.formData.backendService)},checkPath:function(){this.formData.backendPath?this.testPathDialog=!0:this.$message.error("路径测试请先填写后端API路径")},addServiceUrl:function(){this.apiBackends.push({})},delServiceUrl:function(e){this.apiBackends.splice(e,1)},initPlugins:function(e,t){var a=this,n=[];return e&&e.length&&e.forEach((function(e){var i=a.pluginOptions.find((function(t){return t.id===e.plugin}));i&&(t?(e=O({apiPluginConfigs:e.gatewayGroupPluginConfigs},e),delete e.gatewayGroupPluginConfigs):e=O(O({},e),{},{disabled:e.dedicatedLine||!1}),n.push(Object.assign({},i,e)))})),n},addAppid:function(e){var t={},a=this.appidData.concat(e);a=Array.from(new Set(a)),a=a.reduce((function(e,a){var n=a.app;return t[n]||(t[n]=!0,e.push(a)),e}),[]),this.appidData=a.map((function(e){return{app:e.app,appName:e.appName,enabled:!1!==e.enabled}}))},deleteAppid:function(e,t){t.splice(e,1)},handleAppidDrawer:function(){this.addAppid(this.selectionAppid),this.appidDrawer=!1},handleAppidCheck:function(){var e=this.appidData.filter((function(e){return!0===e.enabled})),t=e.length;this.appidCheckAll=t===this.appidData.length,this.isIndeterminate=t>0&&t<this.appidData.length},handleAppidCheckAll:function(e){this.appidData=this.appidData.map((function(t){return t.enabled=e,t})),this.isIndeterminate=!1},handleSubmitData:function(){var e=Object.assign({},this.formData);return 3===e.proxyMode?e.apiBackends=this.apiBackends:e.apiBackends=[],2===e.proxyMode&&2===parseInt(e.discoveryMode)||(e.rpcVersion="",e.rpcGroup="",e.rpcMethod="",e.rpcParamTypes=""),"string"===typeof e.discoveryMode&&(e.discoveryMode=parseInt(e.discoveryMode)),e.apiPlugins=this.apiPlugins,e.apps=this.appidData,e},handleSubmit:function(){var e=this;this.$refs.formData.validate((function(t){t?e.$refs.pluginConfigCon.validate().then((function(){var t=e.handleSubmitData();"add"===e.actionType?e.add(t):e.update(t),e.$refs.serviceRemark.handleSubmit()}),(function(t){e.$message.error(t)})):e.$message.error("请完善基础信息")}))},handleClose:function(){this.$router.$avueRouter.closeTag(),this.app?this.$router.push({path:"/proxy/appid"}):this.$router.push({path:"/proxy/api"})},getDetail:function(){var e=this;if(!this.originId)return this.formData={isDedicatedLine:this.$route.query.isDedicatedLine?1:0,proxyMode:1,access:"a",path:"/**",backendPath:"/{$1}",service:"",appEnabled:!1,discoveryMode:"1",method:""},void(this.appidData=[]);if(["edit","view"].includes(this.actionType)){var t=this.instanceId?Object(l["g"])(this.instanceId,this.originId):Object(l["i"])(this.originId);t.then((function(t){var a=t.data.data||{};a.apiBackends&&a.apiBackends.length||(a.apiBackends=[{}]);var n=null===a.retryCount?void 0:a.retryCount,i=null===a.retryInterval?void 0:a.retryInterval,r=null===a.timeout?void 0:a.timeout;e.formData=Object.assign(a,{retryCount:n,retryInterval:i,timeout:r}),e.apiPlugins=e.initPlugins(e.formData.apiPlugins),e.apiBackends=e.formData.apiBackends,e.appidData=e.formData.apps||[],"number"===typeof e.formData.discoveryMode&&e.$set(e.formData,"discoveryMode",e.formData.discoveryMode.toString()),e.getDiscoveryServiceOptions(e.formData.registryName)}))}},add:function(e){var t=this;return this.loading=!0,Object(l["a"])(e).then((function(){t.$message.success("保存成功");var e=setTimeout((function(){t.handleClose(),clearTimeout(e)}),300)})).finally((function(){t.loading=!1}))},update:function(e){var t=this;return this.loading=!0,Object(l["n"])(e).then((function(){t.$message.success("修改成功"),t.init()})).finally((function(){t.loading=!1}))},init:function(){var e=this;"add"===this.actionType&&(this.formData={},this.apiPlugins=[],this.apiBackends=[{}],this.groupPlugins=[],this.$nextTick((function(){e.app&&(e.$set(e.formData,"appEnabled",!0),e.selectionAppid=[{app:e.app,appName:e.appName,enabled:!0}],e.handleAppidDrawer())}))),this.getDetail()},getGroupDetail:function(e){var t=this;Object(u["d"])(e).then((function(e){if(200===e.data.code){var a=e.data.data.gatewayGroupPlugins;t.groupPlugins=t.initPlugins(a,!0)}}))},getRegisterNameList:function(){var e=this;Object(c["d"])().then((function(t){if(200===t.data.code){var a=t.data.data;a.forEach((function(t){e.registerList.push({label:t,value:t})}))}}))},changeRegister:function(e){this.formData.backendService="",this.getDiscoveryServiceOptions(e)},getDiscoveryServiceOptions:function(e){var t=this;e?Object(l["d"])({registryName:e}).then((function(e){var a=e.data.data||[];t.serviceList=[],a.forEach((function(e){t.serviceList.push({label:e,value:e})}))})):this.serviceList=[]},getFroServiceDes:function(){var e=this;this.formData.service&&Object(l["j"])(this.formData.service).then((function(t){if(200==t.data.code){var a=t.data.data;e.serviceDesObj={description:a.description,service:a.service,team:a.team}}}))},showRemarkDialog:function(){this.remarkDialogVisible=!0}})},C=D,k=(a("7a50"),a("e1f3"),a("2877")),S=Object(k["a"])(C,n,i,!1,null,"78d05992",null);t["default"]=S.exports},e3f0:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"gateway-log"},[e.isOpenLog?e._e():a("el-alert",{staticClass:"alert-tip",attrs:{title:"未启用网关日志功能，如需使用请在设置管理里开启。",type:"warning",closable:!1}}),a("avue-crud",{ref:"crud",attrs:{data:e.data,search:e.search,page:e.page,option:e.option,"table-loading":e.loading},on:{"update:search":function(t){e.search=t},"update:page":function(t){e.page=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"expand",fn:function(t){var n=t.row;return[a("el-input",{attrs:{type:"textarea",rows:8,resize:"none",readonly:""},model:{value:n.content,callback:function(t){e.$set(n,"content",t)},expression:"row.content"}})]}},{key:"search",fn:function(t){var n=t.size;return[a("el-checkbox",{attrs:{size:n},model:{value:e.search.bizIdExactMatchingFlag,callback:function(t){e.$set(e.search,"bizIdExactMatchingFlag",t)},expression:"search.bizIdExactMatchingFlag"}},[e._v("全匹配")])]}},{key:"logTimeSearch",fn:function(t){var n=t.size;return[a("datetime-range",{attrs:{defaultValue:e.search.logTime,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",size:n,defaultTime:["00:00:00","00:00:00"]},on:{"update:defaultValue":function(t){return e.$set(e.search,"logTime",t)},"update:default-value":function(t){return e.$set(e.search,"logTime",t)},change:function(t){return e.search.logTime=t}}})]}}])})],1)},i=[],r=a("e5ec"),o=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),s=a("b5c6"),l=a("da71");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e,t,a){return Object(s["a"])({url:"".concat(l["a"],"/gateway-log/list"),method:"get",params:u(u({},a),{},{current:e,size:t})})},p=function(){return Object(s["a"])({url:"".concat(l["a"],"/gateway-log/is-send-log-on"),method:"get"})},h=a("8e7d"),f=[{label:"FATAL",value:100},{label:"ERROR",value:200},{label:"WARN",value:300},{label:"INFO",value:400},{label:"DEBUG",value:500},{label:"TRACE",value:600}],g={components:{datetimeRange:h["default"]},data:function(){return{isOpenLog:!0,search:{bizIdExactMatchingFlag:!0},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{border:!0,index:!0,addBtn:!1,columnBtn:!1,menuPosition:"right",menu:!1,expand:!0,align:"center",defaultExpandAll:!0,expandFixed:!1,expandWidth:30,column:[{label:"日志时间",prop:"logTime",search:!0,searchslot:!0,searchRange:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"服务器IP",prop:"serverIp",search:!0,type:"select",dicData:[],props:{label:"host",value:"host"},searchPlaceholder:"全部"},{label:"日志等级",prop:"level",search:!0,type:"select",dicData:f,searchMultiple:!0,searchTags:!0},{label:"日志内容",prop:"content",search:!0,hide:!0},{label:"业务ID",prop:"bizId",search:!0}]},data:[]}},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},created:function(){this.isSendLogOn(),this.getHostOption()},methods:{getHostOption:function(){var e=this;Object(r["c"])().then((function(t){var a=e.findObject(e.option.column,"serverIp");a.dicData=t.data.data}))},searchReset:function(){this.query={},this.search={bizIdExactMatchingFlag:!1},this.onLoad(this.page)},searchChange:function(e,t){e.logTime&&e.logTime.length>0&&(e.logStartTime=e.logTime[0]||"",e.logEndTime=e.logTime[1]||"",delete e.logTime),e.level&&e.level.length>0&&(e.levels=e.level.join(","),delete e.level),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,d(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))},isSendLogOn:function(){var e=this;p().then((function(t){200==t.data.code&&(e.isOpenLog=t.data.data,e.isOpenLog||e.$message.warning("未启用网关日志功能，如需使用请在设置管理里开启。"))}))}}},m=g,b=(a("0479"),a("6ee0"),a("2877")),v=Object(b["a"])(m,n,i,!1,null,"ea0e7166",null);t["default"]=v.exports},e47b:function(e,t,a){var n=a("e0d3"),i=n.makeInner,r=n.normalizeToArray,o=i();function s(e,t){for(var a=e.length,n=0;n<a;n++)if(e[n].length>t)return e[n];return e[a-1]}var l={clearColorPalette:function(){o(this).colorIdx=0,o(this).colorNameMap={}},getColorFromPalette:function(e,t,a){t=t||this;var n=o(t),i=n.colorIdx||0,l=n.colorNameMap=n.colorNameMap||{};if(l.hasOwnProperty(e))return l[e];var c=r(this.get("color",!0)),u=this.get("colorLayer",!0),d=null!=a&&u?s(u,a):c;if(d=d||c,d&&d.length){var p=d[i];return e&&(l[e]=p),n.colorIdx=(i+1)%d.length,p}}};e.exports=l},e4d1:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",{staticClass:"aggregate-operation-log"},[a("avue-crud",{ref:"crud",attrs:{data:e.data,page:e.page,search:e.search,option:e.option,"table-loading":e.loading},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"refresh-change":e.refreshChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"approvalTimeSearch",fn:function(t){var n=t.size;return[a("datetime-range",{attrs:{defaultValue:e.search.approvalTime,"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"datetime",size:n,defaultTime:["00:00:00","00:00:00"]},on:{"update:defaultValue":function(t){return e.$set(e.search,"approvalTime",t)},"update:default-value":function(t){return e.$set(e.search,"approvalTime",t)},change:function(t){return e.search.approvalTime=t}}})]}},{key:"type",fn:function(t){var a=t.row;return[e._v("\n      "+e._s((0===a.type?"发布":1===a.type&&"下线")||a.type||"-")+"\n    ")]}},{key:"approvalResult",fn:function(t){var n=t.row;t.size;return[2===n.approvalResult?a("span",{staticClass:"color-success"},[e._v("通过")]):e._e(),1===n.approvalResult?a("span",{staticClass:"color-danger"},[e._v("不通过")]):e._e()]}},{key:"menu",fn:function(t){var n=t.row,i=t.type,r=t.size;return[a("el-button",{attrs:{icon:"el-icon-view",size:r,type:i},on:{click:function(t){return e.rowView(n)}}},[e._v("查看\n      ")])]}}])}),a("audit-detail",{attrs:{visible:e.detailDialog.visible,title:"发布|下线审核日志",id:e.detailDialog.id,data:e.detailDialog.data,callback:e.refreshChange},on:{"update:visible":function(t){return e.$set(e.detailDialog,"visible",t)}}})],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("b5c6"),s=a("da71");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function(e,t,a){return Object(o["a"])({url:"".concat(s["a"],"/blade-aggregate-apply-approval-log/list"),method:"get",params:c(c({},a),{},{current:e,size:t})})},d=function(e){return Object(o["a"])({url:"".concat(s["a"],"/blade-aggregate-apply-approval-log/detail/").concat(e),method:"get",params:{id:e}})},p=a("cec1"),h=a("218b"),f=a("8e7d"),g={name:"audit-log",data:function(){return{search:{},query:{},loading:!0,page:{pageSize:10,currentPage:1,total:0},option:{menuWidth:80,border:!0,index:!0,addBtn:!1,editBtn:!1,delBtn:!1,columnBtn:!1,menuPosition:"right",column:[{label:"申请时间",prop:"applyTime"},{label:"标题",prop:"title",search:!0},{label:"申请人",prop:"applyBy"},{label:"申请类型",prop:"type",width:80,slot:!0},{label:"审核人",prop:"approvalBy"},{label:"审核结果",prop:"approvalResult",slot:!0,width:80,search:!0,type:"select",dicData:p["b"]},{label:"审核时间",prop:"approvalTime",searchRange:!0,search:!0,searchslot:!0,searchSpan:12,type:"datetime",valueFormat:"yyyy-MM-dd HH:mm:ss"}]},data:[],detailDialog:{visible:!1,data:[],id:""}}},components:{auditDetail:h["default"],datetimeRange:f["default"]},watch:{data:function(){var e=this;this.$nextTick((function(){e.$refs.crud.refreshTable()}))}},methods:{rowView:function(e){var t=this;e.id?(this.detailDialog.id=e.id,d(this.detailDialog.id).then((function(e){t.detailDialog.data=e.data.data,t.detailDialog.visible=!0}))):this.$message.error("数据有误！")},searchReset:function(){this.query={},this.onLoad(this.page)},searchChange:function(e,t){e.approvalTime&&e.approvalTime.length>0&&(e.approvalTimeStart=e.approvalTime[0]||"",e.approvalTimeEnd=e.approvalTime[1]||"",delete e.approvalTime),this.query=e,this.page.currentPage=1,this.onLoad(this.page,e),t()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},refreshChange:function(){this.onLoad(this.page,this.query)},onLoad:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!0,u(e.currentPage,e.pageSize,Object.assign(a,this.query)).then((function(e){var a=e.data.data;t.page.total=a.total,t.data=a.records,t.loading=!1}))}}},m=g,b=a("2877"),v=Object(b["a"])(m,n,i,!1,null,"6d9d7892",null);t["default"]=v.exports},e538:function(e,t,a){(function(e){var n=a("2b3e"),i=t&&!t.nodeType&&t,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===i,s=o?n.Buffer:void 0,l=s?s.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var a=e.length,n=l?l(a):new e.constructor(a);return e.copy(n),n}e.exports=c}).call(this,a("62e4")(e))},e546:function(e,t,a){},e54b:function(e,t,a){},e565:function(e,t,a){"use strict";a("768d")},e58a:function(e,t,a){"use strict";a("8cc2")},e58c:function(e,t,a){"use strict";a("83da")},e5ec:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/fizz-gateway-aggregate/get-instance-list"),method:"get",params:s(s({},a),{},{current:e,size:t})})},c=function(e,t,a){return Object(i["a"])({url:"".concat(r["a"],"/fizz-gateway-aggregate/get-config-list"),method:"post",params:s(s({},a),{},{current:e,size:t})})},u=function(e){var t=e.instanceId,a=e.configId;return Object(i["a"])({url:"".concat(r["a"],"/fizz-gateway-aggregate/get-config-str/").concat(t,"/").concat(a),method:"get"})}},e5fd:function(e,t,a){"use strict";a("aedd")},e683:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"g",(function(){return o})),a.d(t,"h",(function(){return s})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return u}));var n=[{label:"固定值",value:"fixed"},{label:"引用值",value:"ref"}],i={fixed:[{label:"number",value:"number"},{label:"string",value:"string"},{label:"boolean",value:"boolean"}],ref:[{label:"int",value:"int"},{label:"long",value:"long"},{label:"float",value:"float"},{label:"double",value:"double"},{label:"string",value:"string"},{label:"boolean",value:"boolean"},{label:"array",value:"array"}]},r=[{label:"等于 =",value:"eq"},{label:"大于 >",value:"gt"},{label:"大于或等于 >=",value:"ge"},{label:"小于 <",value:"lt"},{label:"小于或等于 <=",value:"le"},{label:"不等于 !=",value:"ne"},{label:"包含",value:"contains"},{label:"不包含",value:"notContain"},{label:"包含任何一个",value:"containsAny"},{label:"is null",value:"isNull"},{label:"is not null",value:"isNotNull"},{label:"is blank",value:"isBlank"},{label:"is not blank",value:"isNotBlank"},{label:"is empty",value:"isEmpty"},{label:"is not empty",value:"isNotEmpty"}],o=[{label:"固定值",value:"fixed"},{label:"引用值",value:"quote"},{label:"脚本",value:"script"},{label:"函数",value:"fn"}],s=[{label:"raw",value:"raw"},{label:"int",value:"int"},{label:"long",value:"long"},{label:"float",value:"float"},{label:"double",value:"double"},{label:"string",value:"string"},{label:"boolean",value:"boolean"}],l=[{label:"number",value:"number"},{label:"string",value:"string"},{label:"boolean",value:"boolean"},{label:"json",value:"json"}],c=[{label:"固定值",value:"fixed"},{label:"引用值",value:"ref"},{label:"函数",value:"func"}],u=[{label:"100 - Continue",value:100},{label:"101 - Switching Protocols",value:101},{label:"102 - Processing",value:102},{label:"103 - Checkpoint",value:103},{label:"200 - OK",value:200},{label:"201 - Created",value:201},{label:"202 - Accepted",value:202},{label:"203 - Non-Authoritative Information",value:203},{label:"204 - No Content",value:204},{label:"205 - Reset Content",value:205},{label:"206 - Partial Content",value:206},{label:"207 - Multi-Status",value:207},{label:"208 - Already Reported",value:208},{label:"226 - IM Used",value:226},{label:"300 - Multiple Choices",value:300},{label:"301 - Moved Permanently",value:301},{label:"302 - Found",value:302},{label:"302 - Moved Temporarily",value:302},{label:"303 - See Other",value:303},{label:"304 - Not Modified",value:304},{label:"305 - Use Proxy",value:305},{label:"307 - Temporary Redirect",value:307},{label:"308 - Permanent Redirect",value:308},{label:"400 - Bad Request",value:400},{label:"401 - Unauthorized",value:401},{label:"402 - Payment Required",value:402},{label:"403 - Forbidden",value:403},{label:"404 - Not Found",value:404},{label:"405 - Method Not Allowed",value:405},{label:"406 - Not Acceptable",value:406},{label:"407 - Proxy Authentication Required",value:407},{label:"408 - Request Timeout",value:408},{label:"409 - Conflict",value:409},{label:"410 - Gone",value:410},{label:"411 - Length Required",value:411},{label:"412 - Precondition Failed",value:412},{label:"413 - Payload Too Large",value:413},{label:"413 - Request Entity Too Large",value:413},{label:"414 - URI Too Long",value:414},{label:"414 - Request-URI Too Long",value:414},{label:"415 - Unsupported Media Type",value:415},{label:"416 - Requested range not satisfiable",value:416},{label:"417 - Expectation Failed",value:417},{label:"418 - I'm a teapot",value:418},{label:"419 - Insufficient Space On Resource",value:419},{label:"420 - Method Failure",value:420},{label:"421 - Destination Locked",value:421},{label:"422 - Unprocessable Entity",value:422},{label:"423 - Locked",value:423},{label:"424 - Failed Dependency",value:424},{label:"425 - Too Early",value:425},{label:"426 - Upgrade Required",value:426},{label:"428 - Precondition Required",value:428},{label:"429 - Too Many Requests",value:429},{label:"431 - Request Header Fields Too Large",value:431},{label:"451 - Unavailable For Legal Reasons",value:451},{label:"500 - Internal Server Error",value:500},{label:"501 - Not Implemented",value:501},{label:"502 - Bad Gateway",value:502},{label:"503 - Service Unavailable",value:503},{label:"504 - Gateway Timeout",value:504},{label:"505 - HTTP Version not supported",value:505},{label:"506 - Variant Also Negotiates",value:506},{label:"507 - Insufficient Storage",value:507},{label:"508 - Loop Detected",value:508},{label:"509 - Bandwidth Limit Exceeded",value:509},{label:"510 - Not Extended",value:510},{label:"511 - Network Authentication Required",value:511}]},e6e8:function(e,t,a){},e722:function(e,t,a){},e732:function(e,t,a){},e775:function(e,t,a){"use strict";a("3a1d")},e784:function(e,t,a){"use strict";a("f08d")},e7d2:function(e,t,a){var n=a("4a3f");function i(e,t,a,i,r,o,s,l,c,u,d){if(0===c)return!1;var p=c;if(d>t+p&&d>i+p&&d>o+p&&d>l+p||d<t-p&&d<i-p&&d<o-p&&d<l-p||u>e+p&&u>a+p&&u>r+p&&u>s+p||u<e-p&&u<a-p&&u<r-p&&u<s-p)return!1;var h=n.cubicProjectPoint(e,t,a,i,r,o,s,l,u,d,null);return h<=p/2}t.containStroke=i},e7d4:function(e,t,a){"use strict";a("c60d")},e815:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px",size:"small",disabled:e.disabled}},[a("el-form-item",{attrs:{label:"条件描述:",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"如：是否会员"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),a("div",{staticClass:"form-item-required"},[a("el-form-item",{attrs:{label:"值1:"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("el-form-item",{attrs:{label:"",prop:"value1.type"}},[a("el-select",{attrs:{placeholder:"固定值/引用值"},on:{change:function(t){return e.changeHandle("value1")}},model:{value:e.form.value1.type,callback:function(t){e.$set(e.form.value1,"type",t)},expression:"form.value1.type"}},e._l(e.valueType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"col"},[a("el-form-item",{attrs:{label:"",prop:"fixed"===e.form.value1.type?"value1.fixedDataType":"value1.refDataType"}},["fixed"===e.form.value1.type?a("el-select",{attrs:{placeholder:"ref"===e.form.value1.type?"数据类型（非必填）":"fixed"===e.form.value1.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value1")}},model:{value:e.form.value1.fixedDataType,callback:function(t){e.$set(e.form.value1,"fixedDataType",t)},expression:"form.value1.fixedDataType"}},e._l(e.dataType1,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):a("el-select",{attrs:{placeholder:"ref"===e.form.value1.type?"数据类型（非必填）":"fixed"===e.form.value1.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value1")}},model:{value:e.form.value1.refDataType,callback:function(t){e.$set(e.form.value1,"refDataType",t)},expression:"form.value1.refDataType"}},e._l(e.dataType1,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"col"},[a("el-form-item",{attrs:{label:"",prop:"value1.value"}},["boolean"===e.form.value1.fixedDataType&&"fixed"===e.form.value1.type?a("el-select",{attrs:{placeholder:"字段值",size:e.size,clearable:""},model:{value:e.form.value1.value,callback:function(t){e.$set(e.form.value1,"value",t)},expression:"form.value1.value"}},e._l(e.booleanOptions,(function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1):"number"===e.form.value1.fixedDataType&&"fixed"===e.form.value1.type?a("el-input",{attrs:{"controls-position":"right",clearable:"",placeholder:"字段值",type:"number"},model:{value:e.form.value1.value,callback:function(t){e.$set(e.form.value1,"value",t)},expression:"form.value1.value"}}):a("el-input",{attrs:{placeholder:"字段值"},model:{value:e.form.value1.value,callback:function(t){e.$set(e.form.value1,"value",t)},expression:"form.value1.value"}})],1)],1),a("div",{staticClass:"tooltip"},["ref"===e.form.value1.type?a("quote-tooltip",{staticClass:"tooltip"}):e._e()],1)])])],1),a("el-form-item",{attrs:{label:"比较符:",prop:"operator"}},[a("el-select",{model:{value:e.form.operator,callback:function(t){e.$set(e.form,"operator",t)},expression:"form.operator"}},e._l(e.operatorSymbol,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.showValue2(e.form.operator)?a("div",{staticClass:"form-item-required"},[a("el-form-item",{attrs:{label:"值2:"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("el-form-item",{attrs:{label:"",prop:"value2.type"}},[a("el-select",{attrs:{placeholder:"固定值/引用值"},on:{change:function(t){return e.changeHandle("value2")}},model:{value:e.form.value2.type,callback:function(t){e.$set(e.form.value2,"type",t)},expression:"form.value2.type"}},e._l(e.valueType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"col"},[a("el-form-item",{attrs:{label:"",prop:"fixed"===e.form.value2.type?"value2.fixedDataType":"value2.refDataType"}},["fixed"===e.form.value2.type?a("el-select",{attrs:{placeholder:"ref"===e.form.value2.type?"数据类型（非必填）":"fixed"===e.form.value2.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value2")}},model:{value:e.form.value2.fixedDataType,callback:function(t){e.$set(e.form.value2,"fixedDataType",t)},expression:"form.value2.fixedDataType"}},e._l(e.dataType2,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):a("el-select",{attrs:{placeholder:"ref"===e.form.value2.type?"数据类型（非必填）":"fixed"===e.form.value2.type?"数据类型（必填）":"请选择数据类型",clearable:""},on:{change:function(t){return e.dataTypeChange("value2")}},model:{value:e.form.value2.refDataType,callback:function(t){e.$set(e.form.value2,"refDataType",t)},expression:"form.value2.refDataType"}},e._l(e.dataType2,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("div",{staticClass:"col"},[a("el-form-item",{attrs:{label:"",prop:"value2.value"}},["boolean"===e.form.value2.fixedDataType&&"fixed"===e.form.value2.type?a("el-select",{attrs:{placeholder:"字段值",size:e.size,clearable:""},model:{value:e.form.value2.value,callback:function(t){e.$set(e.form.value2,"value",t)},expression:"form.value2.value"}},e._l(e.booleanOptions,(function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1):"number"===e.form.value2.fixedDataType&&"fixed"===e.form.value2.type?a("el-input",{attrs:{clearable:"",placeholder:"字段值",type:"number"},model:{value:e.form.value2.value,callback:function(t){e.$set(e.form.value2,"value",t)},expression:"form.value2.value"}}):a("el-input",{attrs:{placeholder:"字段值"},model:{value:e.form.value2.value,callback:function(t){e.$set(e.form.value2,"value",t)},expression:"form.value2.value"}})],1)],1),a("div",{staticClass:"tooltip"},["ref"===e.form.value2.type?a("quote-tooltip"):e._e()],1)])])],1):e._e()],1)},i=[],r=(a("456d"),a("ac6a"),a("c5f6"),a("6762"),a("28a5"),a("e683")),o=a("cc38"),s=a("307b"),l={name:"compareForm",components:{quoteTooltip:o["default"]},props:{data:{type:Object,default:function(){return{}}},disabled:Boolean,rule:{type:Object,default:function(){}}},data:function(){return{booleanOptions:[{label:"true",value:!0},{label:"false",value:!1}],form:{type:"condition",desc:"",value1:{type:"",value:""},operator:"",value2:{type:"",value:""}},rules:{"value1.type":[{required:!0,message:"请选择【固定值/引用值】",trigger:"change"}],"value1.fixedDataType":[{validator:this.validateDataType,trigger:"change"}],"value1.refDataType":[{validator:this.validateDataType,trigger:"change"}],"value1.value":[{required:!0,message:"【值】不为空",trigger:"blur"},{required:!0,message:"【值】不为空",trigger:"change"}],operator:[{required:!0,message:"请选择【比较符】",trigger:"change"}],"value2.type":[{required:!0,message:"请选择【固定值/引用值】",trigger:"change"}],"value2.fixedDataType":[{validator:this.validateDataType,trigger:"change"}],"value2.refDataType":[{validator:this.validateDataType,trigger:"change"}],"value2.value":[{required:!0,message:"【值】不为空",trigger:"blur"},{required:!0,message:"【值】不为空",trigger:"change"}]},valueType:r["c"],operatorSymbol:r["b"]}},watch:{rule:{immediate:!0,deep:!0,handler:function(){this.rules=Object.assign(this.rules,this.rule)}}},computed:{dataType1:function(){try{return this.form.value1.type?r["a"][this.form.value1.type]:[]}catch(e){return[]}},dataType2:function(){try{return this.form.value2.type?r["a"][this.form.value2.type]:[]}catch(e){return[]}}},methods:{validateDataType:function(e,t,a){var n="value1"===e.field.split(".")[0]?this.form.value1.type:this.form.value2.type;"fixed"===n&&(t||a(new Error("【数据类型】不为空！"))),a()},showValue2:function(e){if(e){var t=["isNull","isNotNull","isBlank","isNotBlank","isEmpty","isNotEmpty"];return!t.includes(e)}return!0},handleData:function(){var e=Object(s["a"])(this.form),t=["isNull","isNotNull","isBlank","isNotBlank","isEmpty","isNotEmpty"];return"fixed"===e.value1.type&&"number"===e.value1.fixedDataType&&(e.value1.value=Number(e.value1.value)),Object.keys(e.value1).forEach((function(t){var a=e.value1[t];""===a&&delete e.value1[t]})),t.includes(e.operator)?delete e.value2:("fixed"===e.value2.type&&"number"===e.value2.fixedDataType&&(e.value2.value=Number(e.value2.value)),Object.keys(e.value2).forEach((function(t){var a=e.value2[t];""===a&&delete e.value2[t]}))),e},emitData:function(){var e=this.handleData();this.$emit("update:data",e),this.$emit("emitData",e)},validate:function(){var e=this;return new Promise((function(t,a){e.$refs.form.validate((function(n){n?(e.emitData(),t()):a()}))}))},changeHandle:function(e){this.form[e].fixedDataType&&(this.form[e].fixedDataType=""),this.form[e].refDataType&&(this.form[e].refDataType=""),this.form[e].value=""},dataTypeChange:function(e){"fixed"===this.form[e].type&&this.form[e].value&&(this.form[e].value=null)}},mounted:function(){"{}"!==JSON.stringify(this.data)&&(this.form=Object(s["a"])(this.data))}},c=l,u=(a("329b"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"4f8f66ba",null);t["default"]=d.exports},e86a:function(e,t,a){var n=a("9850"),i=a("5e76"),r=a("6d8b"),o=r.getContext,s=r.extend,l=r.retrieve2,c=r.retrieve3,u=r.trim,d={},p=0,h=5e3,f=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,g="12px sans-serif",m={};function b(e,t){m[e]=t}function v(e,t){t=t||g;var a=e+":"+t;if(d[a])return d[a];for(var n=(e+"").split("\n"),i=0,r=0,o=n.length;r<o;r++)i=Math.max(I(n[r],t).width,i);return p>h&&(p=0,d={}),p++,d[a]=i,i}function y(e,t,a,n,i,r,o,s){return o?_(e,t,a,n,i,r,o,s):w(e,t,a,n,i,r,s)}function w(e,t,a,i,r,o,s){var l=L(e,t,r,o,s),c=v(e,t);r&&(c+=r[1]+r[3]);var u=l.outerHeight,d=x(0,c,a),p=O(0,u,i),h=new n(d,p,c,u);return h.lineHeight=l.lineHeight,h}function _(e,t,a,i,r,o,s,l){var c=z(e,{rich:s,truncate:l,font:t,textAlign:a,textPadding:r,textLineHeight:o}),u=c.outerWidth,d=c.outerHeight,p=x(0,u,a),h=O(0,d,i);return new n(p,h,u,d)}function x(e,t,a){return"right"===a?e-=t:"center"===a&&(e-=t/2),e}function O(e,t,a){return"middle"===a?e-=t/2:"bottom"===a&&(e-=t),e}function D(e,t,a){var n=t.textPosition,i=t.textDistance,r=a.x,o=a.y;i=i||0;var s=a.height,l=a.width,c=s/2,u="left",d="top";switch(n){case"left":r-=i,o+=c,u="right",d="middle";break;case"right":r+=i+l,o+=c,d="middle";break;case"top":r+=l/2,o-=i,u="center",d="bottom";break;case"bottom":r+=l/2,o+=s+i,u="center";break;case"inside":r+=l/2,o+=c,u="center",d="middle";break;case"insideLeft":r+=i,o+=c,d="middle";break;case"insideRight":r+=l-i,o+=c,u="right",d="middle";break;case"insideTop":r+=l/2,o+=i,u="center";break;case"insideBottom":r+=l/2,o+=s-i,u="center",d="bottom";break;case"insideTopLeft":r+=i,o+=i;break;case"insideTopRight":r+=l-i,o+=i,u="right";break;case"insideBottomLeft":r+=i,o+=s-i,d="bottom";break;case"insideBottomRight":r+=l-i,o+=s-i,u="right",d="bottom";break}return e=e||{},e.x=r,e.y=o,e.textAlign=u,e.textVerticalAlign=d,e}function C(e,t,a){var n={textPosition:e,textDistance:a};return D({},n,t)}function k(e,t,a,n,i){if(!t)return"";var r=(e+"").split("\n");i=S(t,a,n,i);for(var o=0,s=r.length;o<s;o++)r[o]=j(r[o],i);return r.join("\n")}function S(e,t,a,n){n=s({},n),n.font=t;a=l(a,"...");n.maxIterations=l(n.maxIterations,2);var i=n.minChar=l(n.minChar,0);n.cnCharWidth=v("国",t);var r=n.ascCharWidth=v("a",t);n.placeholder=l(n.placeholder,"");for(var o=e=Math.max(0,e-1),c=0;c<i&&o>=r;c++)o-=r;var u=v(a,t);return u>o&&(a="",u=0),o=e-u,n.ellipsis=a,n.ellipsisWidth=u,n.contentWidth=o,n.containerWidth=e,n}function j(e,t){var a=t.containerWidth,n=t.font,i=t.contentWidth;if(!a)return"";var r=v(e,n);if(r<=a)return e;for(var o=0;;o++){if(r<=i||o>=t.maxIterations){e+=t.ellipsis;break}var s=0===o?P(e,i,t.ascCharWidth,t.cnCharWidth):r>0?Math.floor(e.length*i/r):0;e=e.substr(0,s),r=v(e,n)}return""===e&&(e=t.placeholder),e}function P(e,t,a,n){for(var i=0,r=0,o=e.length;r<o&&i<t;r++){var s=e.charCodeAt(r);i+=0<=s&&s<=127?a:n}return r}function T(e){return v("国",e)}function I(e,t){return m.measureText(e,t)}function L(e,t,a,n,i){null!=e&&(e+="");var r=l(n,T(t)),o=e?e.split("\n"):[],s=o.length*r,c=s,u=!0;if(a&&(c+=a[0]+a[2]),e&&i){u=!1;var d=i.outerHeight,p=i.outerWidth;if(null!=d&&c>d)e="",o=[];else if(null!=p)for(var h=S(p-(a?a[1]+a[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),f=0,g=o.length;f<g;f++)o[f]=j(o[f],h)}return{lines:o,height:s,outerHeight:c,lineHeight:r,canCacheByTextString:u}}function z(e,t){var a={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return a;var n,r=f.lastIndex=0;while(null!=(n=f.exec(e))){var o=n.index;o>r&&$(a,e.substring(r,o)),$(a,n[2],n[1]),r=f.lastIndex}r<e.length&&$(a,e.substring(r,e.length));var s=a.lines,u=0,d=0,p=[],h=t.textPadding,g=t.truncate,m=g&&g.outerWidth,b=g&&g.outerHeight;h&&(null!=m&&(m-=h[1]+h[3]),null!=b&&(b-=h[0]+h[2]));for(var y=0;y<s.length;y++){for(var w=s[y],_=0,x=0,O=0;O<w.tokens.length;O++){var D=w.tokens[O],C=D.styleName&&t.rich[D.styleName]||{},S=D.textPadding=C.textPadding,j=D.font=C.font||t.font,P=D.textHeight=l(C.textHeight,T(j));if(S&&(P+=S[0]+S[2]),D.height=P,D.lineHeight=c(C.textLineHeight,t.textLineHeight,P),D.textAlign=C&&C.textAlign||t.textAlign,D.textVerticalAlign=C&&C.textVerticalAlign||"middle",null!=b&&u+D.lineHeight>b)return{lines:[],width:0,height:0};D.textWidth=v(D.text,j);var I=C.textWidth,L=null==I||"auto"===I;if("string"===typeof I&&"%"===I.charAt(I.length-1))D.percentWidth=I,p.push(D),I=0;else{if(L){I=D.textWidth;var z=C.textBackgroundColor,M=z&&z.image;M&&(M=i.findExistImage(M),i.isImageReady(M)&&(I=Math.max(I,M.width*P/M.height)))}var E=S?S[1]+S[3]:0;I+=E;var A=null!=m?m-x:null;null!=A&&A<I&&(!L||A<E?(D.text="",D.textWidth=I=0):(D.text=k(D.text,A-E,j,g.ellipsis,{minChar:g.minChar}),D.textWidth=v(D.text,j),I=D.textWidth+E))}x+=D.width=I,C&&(_=Math.max(_,D.lineHeight))}w.width=x,w.lineHeight=_,u+=_,d=Math.max(d,x)}a.outerWidth=a.width=l(t.textWidth,d),a.outerHeight=a.height=l(t.textHeight,u),h&&(a.outerWidth+=h[1]+h[3],a.outerHeight+=h[0]+h[2]);for(y=0;y<p.length;y++){D=p[y];var R=D.percentWidth;D.width=parseInt(R,10)/100*d}return a}function $(e,t,a){for(var n=""===t,i=t.split("\n"),r=e.lines,o=0;o<i.length;o++){var s=i[o],l={styleName:a,text:s,isLineHolder:!s&&!n};if(o)r.push({tokens:[l]});else{var c=(r[r.length-1]||(r[0]={tokens:[]})).tokens,u=c.length;1===u&&c[0].isLineHolder?c[0]=l:(s||!u||n)&&c.push(l)}}}function M(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&u(t)||e.textFont||e.font}m.measureText=function(e,t){var a=o();return a.font=t||g,a.measureText(e)},t.DEFAULT_FONT=g,t.$override=b,t.getWidth=v,t.getBoundingRect=y,t.adjustTextX=x,t.adjustTextY=O,t.calculateTextPosition=D,t.adjustTextPositionOnRect=C,t.truncateText=k,t.getLineHeight=T,t.measureText=I,t.parsePlainText=L,t.parseRichText=z,t.makeFont=M},e887:function(e,t,a){var n=a("6d8b"),i=n.each,r=a("e1fc"),o=a("8918"),s=a("625e"),l=a("e0d3"),c=a("2306"),u=a("f47d"),d=u.createTask,p=a("cccd"),h=l.makeInner(),f=p();function g(){this.group=new r,this.uid=o.getUID("viewChart"),this.renderTask=d({plan:y,reset:w}),this.renderTask.context={view:this}}g.prototype={type:"chart",init:function(e,t){},render:function(e,t,a,n){},highlight:function(e,t,a,n){v(e.getData(),n,"emphasis")},downplay:function(e,t,a,n){v(e.getData(),n,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var m=g.prototype;function b(e,t,a){if(e&&(e.trigger(t,a),e.isGroup&&!c.isHighDownDispatcher(e)))for(var n=0,i=e.childCount();n<i;n++)b(e.childAt(n),t,a)}function v(e,t,a){var n=l.queryDataIndex(e,t),r=t&&null!=t.highlightKey?c.getHighlightDigit(t.highlightKey):null;null!=n?i(l.normalizeToArray(n),(function(t){b(e.getItemGraphicEl(t),a,r)})):e.eachItemGraphicEl((function(e){b(e,a,r)}))}function y(e){return f(e.model)}function w(e){var t=e.model,a=e.ecModel,n=e.api,i=e.payload,r=t.pipelineContext.progressiveRender,o=e.view,s=i&&h(i).updateMethod,l=r?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](t,a,n,i),_[l]}m.updateView=m.updateLayout=m.updateVisual=function(e,t,a,n){this.render(e,t,a,n)},s.enableClassExtend(g,["dispose"]),s.enableClassManagement(g,{registerWhenExtend:!0}),g.markUpdateMethod=function(e,t){h(e).updateMethod=t};var _={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},x=g;e.exports=x},e931:function(e,t,a){"use strict";a.r(t);a("a481"),a("7f7f");var n,i,r=a("65d4"),o=a("2b3f"),s={name:"history-detail",mixins:[r["default"]],data:function(){return{disabled:!0,businessType:"history"}},methods:{getDetail:function(){var e=this;if(!this.originId)return this.formData={},void(this.baseConfigs={});Object(o["a"])(this.originId).then((function(t){e.formData=t.data.data||{};var a=Object.assign({},e.formData),n=a.id,i=void 0===n?"":n,r=a.serviceId,o=void 0===r?"":r,s=a.name,l=void 0===s?"":s,c=a.method,u=void 0===c?"":c,d=a.path,p=void 0===d?"":d,h=a.developer,f=void 0===h?"":h,g=a.description,m=void 0===g?"":g,b=a.serviceName,v=void 0===b?"":b;p=p.replace("/proxy/".concat(v,"/"),""),e.baseConfigs={id:i,serviceId:o,name:l,method:u,path:p,developer:f,description:m,serviceName:v}}))}}},l=s,c=a("2877"),u=Object(c["a"])(l,n,i,!1,null,"9bd3495e",null);t["default"]=u.exports},e954:function(e,t,a){"use strict";a("e732")},e9cf:function(e,t,a){},ea49:function(e,t,a){"use strict";a("e722")},ea63:function(e,t,a){},ea72:function(e,t,a){var n=a("7559"),i=a("7e8e"),r=a("76dd"),o=a("f4d9");function s(e,t,a){return e=r(e),t=a?void 0:t,void 0===t?i(e)?o(e):n(e):e.match(t)||[]}e.exports=s},eac5:function(e,t){var a=Object.prototype;function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||a;return e===n}e.exports=n},eaea:function(e,t,a){var n=a("3eba"),i=a("6d8b"),r=a("22d1"),o=a("60e3"),s=a("5f14"),l=a("2b8c"),c=a("e0d3"),u=a("3842"),d=s.mapVisual,p=s.eachVisual,h=i.isArray,f=i.each,g=u.asc,m=u.linearMap,b=i.noop,v=n.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,a){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,a)},optionUpdated:function(e,t){var a=this.option;r.canvasSupported||(a.realtime=!1),!t&&l.replaceVisualOption(a,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=i.bind(e,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,t,e),this.targetVisuals=l.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,a){t.push(a)})):t=c.normalizeToArray(e),t},eachTargetSeries:function(e,t){i.each(this.getTargetSeriesIndices(),(function(a){e.call(t,this.ecModel.getSeriesByIndex(a))}),this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries((function(a){a===e&&(t=!0)})),t},formatValueText:function(e,t,a){var n,r,o=this.option,s=o.precision,l=this.dataBound,c=o.formatter;return a=a||["<",">"],i.isArray(e)&&(e=e.slice(),n=!0),r=t?e:n?[u(e[0]),u(e[1])]:u(e),i.isString(c)?c.replace("{value}",n?r[0]:r).replace("{value2}",n?r[1]:r):i.isFunction(c)?n?c(e[0],e[1]):c(e):n?e[0]===l[0]?a[0]+" "+r[1]:e[1]===l[1]?a[1]+" "+r[0]:r[0]+" - "+r[1]:r;function u(e){return e===l[0]?"min":e===l[1]?"max":(+e).toFixed(Math.min(s,20))}},resetExtent:function(){var e=this.option,t=g([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,a=e.dimensions;if(null!=t||a.length){if(null!=t)return e.getDimension(t);for(var n=e.dimensions,i=n.length-1;i>=0;i--){var r=n[i],o=e.getDimensionInfo(r);if(!o.isCalculationCoord)return r}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,a={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),r=t.controller||(t.controller={});i.merge(n,a),i.merge(r,a);var l=this.isCategory();function c(a){h(t.color)&&!a.inRange&&(a.inRange={color:t.color.slice().reverse()}),a.inRange=a.inRange||{color:e.get("gradientColor")},f(this.stateList,(function(e){var t=a[e];if(i.isString(t)){var n=o.get(t,"active",l);n?(a[e]={},a[e][t]=n):delete a[e]}}),this)}function u(e,t,a){var n=e[t],i=e[a];n&&!i&&(i=e[a]={},f(n,(function(e,t){if(s.isValidType(t)){var a=o.get(t,"inactive",l);null!=a&&(i[t]=a,"color"!==t||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}})))}function g(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,a=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,n=this.get("inactiveColor");f(this.stateList,(function(r){var o=this.itemSize,s=e[r];s||(s=e[r]={color:l?n:[n]}),null==s.symbol&&(s.symbol=t&&i.clone(t)||(l?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=a&&i.clone(a)||(l?o[0]:[o[0],o[0]])),s.symbol=d(s.symbol,(function(e){return"none"===e||"square"===e?"roundRect":e}));var c=s.symbolSize;if(null!=c){var u=-1/0;p(c,(function(e){e>u&&(u=e)})),s.symbolSize=d(c,(function(e){return m(e,[0,u],[0,o[0]],!0)}))}}),this)}c.call(this,n),c.call(this,r),u.call(this,n,"inRange","outOfRange"),g.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:b,getValueState:b,getVisualMeta:b}),y=v;e.exports=y},eaf7:function(e,t,a){"use strict";a("5614")},eb6b:function(e,t,a){var n=a("6d8b"),i=a("e0d3"),r=i.makeInner,o=a("cd33"),s=a("133d"),l=n.each,c=n.curry,u=r();function d(e,t,a){var i=e.currTrigger,r=[e.x,e.y],o=e,u=e.dispatchAction||n.bind(a.dispatchAction,a),d=t.getComponent("axisPointer").coordSysAxesInfo;if(d){_(r)&&(r=s({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var h=_(r),x=o.axesInfo,O=d.axesInfo,D="leave"===i||_(r),C={},k={},S={list:[],map:{}},j={showPointer:c(f,k),showTooltip:c(g,S)};l(d.coordSysMap,(function(e,t){var a=h||e.containPoint(r);l(d.coordSysAxesInfo[t],(function(e,t){var n=e.axis,i=y(x,e);if(!D&&a&&(!x||i)){var o=i&&i.value;null!=o||h||(o=n.pointToData(r)),null!=o&&p(e,o,j,!1,C)}}))}));var P={};return l(O,(function(e,t){var a=e.linkGroup;a&&!k[t]&&l(a.axesInfo,(function(t,n){var i=k[n];if(t!==e&&i){var r=i.value;a.mapper&&(r=e.axis.scale.parse(a.mapper(r,w(t),w(e)))),P[e.key]=r}}))})),l(P,(function(e,t){p(O[t],e,j,!0,C)})),m(k,O,C),b(S,r,e,u),v(O,u,a),C}}function p(e,t,a,i,r){var o=e.axis;if(!o.scale.isBlank()&&o.containData(t))if(e.involveSeries){var s=h(t,e),l=s.payloadBatch,c=s.snapToValue;l[0]&&null==r.seriesIndex&&n.extend(r,l[0]),!i&&e.snap&&o.containData(c)&&null!=c&&(t=c),a.showPointer(e,t,l,r),a.showTooltip(e,s,c)}else a.showPointer(e,t)}function h(e,t){var a=t.axis,n=a.dim,i=e,r=[],o=Number.MAX_VALUE,s=-1;return l(t.seriesModels,(function(t,c){var u,d,p=t.getData().mapDimension(n,!0);if(t.getAxisTooltipData){var h=t.getAxisTooltipData(p,e,a);d=h.dataIndices,u=h.nestestValue}else{if(d=t.getData().indicesOfNearest(p[0],e,"category"===a.type?.5:null),!d.length)return;u=t.getData().get(p[0],d[0])}if(null!=u&&isFinite(u)){var f=e-u,g=Math.abs(f);g<=o&&((g<o||f>=0&&s<0)&&(o=g,s=f,i=u,r.length=0),l(d,(function(e){r.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:r,snapToValue:i}}function f(e,t,a,n){e[t.key]={value:a,payloadBatch:n}}function g(e,t,a,n){var i=a.payloadBatch,r=t.axis,s=r.model,l=t.axisPointerModel;if(t.triggerTooltip&&i.length){var c=t.coordSys.model,u=o.makeKey(c),d=e.map[u];d||(d=e.map[u]={coordSysId:c.id,coordSysIndex:c.componentIndex,coordSysType:c.type,coordSysMainType:c.mainType,dataByAxis:[]},e.list.push(d)),d.dataByAxis.push({axisDim:r.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:i.slice()})}}function m(e,t,a){var n=a.axesInfo=[];l(t,(function(t,a){var i=t.axisPointerModel.option,r=e[a];r?(!t.useHandle&&(i.status="show"),i.value=r.value,i.seriesDataIndices=(r.payloadBatch||[]).slice()):!t.useHandle&&(i.status="hide"),"show"===i.status&&n.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})}))}function b(e,t,a,n){if(!_(t)&&e.list.length){var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:a.tooltipOption,position:a.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}else n({type:"hideTip"})}function v(e,t,a){var i=a.getZr(),r="axisPointerLastHighlights",o=u(i)[r]||{},s=u(i)[r]={};l(e,(function(e,t){var a=e.axisPointerModel.option;"show"===a.status&&l(a.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;s[t]=e}))}));var c=[],d=[];n.each(o,(function(e,t){!s[t]&&d.push(e)})),n.each(s,(function(e,t){!o[t]&&c.push(e)})),d.length&&a.dispatchAction({type:"downplay",escapeConnect:!0,batch:d}),c.length&&a.dispatchAction({type:"highlight",escapeConnect:!0,batch:c})}function y(e,t){for(var a=0;a<(e||[]).length;a++){var n=e[a];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function w(e){var t=e.axis.model,a={},n=a.axisDim=e.axis.dim;return a.axisIndex=a[n+"AxisIndex"]=t.componentIndex,a.axisName=a[n+"AxisName"]=t.name,a.axisId=a[n+"AxisId"]=t.id,a}function _(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}e.exports=d},ec02:function(e,t,a){var n=a("6d8b"),i=a("84ce"),r=function(e,t,a,n,r){i.call(this,e,t,a),this.type=n||"value",this.position=r||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},n.inherits(r,i);var o=r;e.exports=o},ec34:function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=i.createHashMap,o=i.isString,s=i.isArray,l=i.each,c=(i.assert,a("3041")),u=c.parseXML,d=r(),p={registerMap:function(e,t,a){var n;return s(t)?n=t:t.svg?n=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(a=t.specialAreas,t=t.geoJson),n=[{type:"geoJSON",source:t,specialAreas:a}]),l(n,(function(e){var t=e.type;"geoJson"===t&&(t=e.type="geoJSON");var a=h[t];a(e)})),d.set(e,n)},retrieveMap:function(e){return d.get(e)}},h={geoJSON:function(e){var t=e.source;e.geoJSON=o(t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=u(e.source)}};e.exports=p},ec69:function(e,t,a){var n=a("6fcd"),i=a("03dd"),r=a("30c9");function o(e){return r(e)?n(e):i(e)}e.exports=o},ec6f:function(e,t,a){var n=a("6d8b"),i=n.createHashMap,r=n.isTypedArray,o=a("625e"),s=o.enableClassCheck,l=a("93d0"),c=l.SOURCE_FORMAT_ORIGINAL,u=l.SERIES_LAYOUT_BY_COLUMN,d=l.SOURCE_FORMAT_UNKNOWN,p=l.SOURCE_FORMAT_TYPED_ARRAY,h=l.SOURCE_FORMAT_KEYED_COLUMNS;function f(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===h?{}:[]),this.sourceFormat=e.sourceFormat||d,this.seriesLayoutBy=e.seriesLayoutBy||u,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&i(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}f.seriesDataToSource=function(e){return new f({data:e,sourceFormat:r(e)?p:c,fromDataset:!1})},s(f);var g=f;e.exports=g},ec8c:function(e,t){function a(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}e.exports=a},ec8f:function(e,t,a){},ed00:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"chartLine",staticClass:"line-wrap",attrs:{id:e.id}})},i=[],r=a("3eba"),o=(a("ef97"),a("007d"),a("627c"),a("cd12"),a("5450"),{name:"interfaceEchartLine",props:{id:{type:String},title:{type:String,default:""},xData:{type:Array,default:function(){return[]}},seriesData:{type:Array,default:function(){return[]}},lineColor:{type:String,default:"#37a2da"}},data:function(){return{chartView:null}},methods:{renderOptions:function(){return{title:{text:this.title||[]},grid:{left:10,right:10,bottom:0,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.xData||[]},yAxis:{type:"value"},series:[{type:"line",data:this.seriesData||[],itemStyle:{normal:{color:this.lineColor,lineStyle:{color:this.lineColor}}}}]}},init:function(){var e=this;this.chartView||(this.chartView=r["init"](document.getElementById(this.id)),window.addEventListener("resize",(function(){e.chartView.resize()}))),this.chartView.setOption(this.renderOptions())}},mounted:function(){}}),s=o,l=(a("4e62"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"69d41d40",null);t["default"]=c.exports},ed02:function(e,t,a){},ed21:function(e,t,a){var n=a("2cf4"),i=n.devicePixelRatio,r=a("6d8b"),o=a("4942"),s=a("9850"),l=a("04f6"),c=a("5e68"),u=a("98b7"),d=a("0da8"),p=a("22d1"),h=1e5,f=314159,g=.01,m=.001;function b(e){return parseInt(e,10)}function v(e){return!!e&&(!!e.__builtin__||"function"===typeof e.resize&&"function"===typeof e.refresh)}var y=new s(0,0,0,0),w=new s(0,0,0,0);function _(e,t,a){return y.copy(e.getBoundingRect()),e.transform&&y.applyTransform(e.transform),w.width=t,w.height=a,!y.intersect(w)}function x(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!0;return!1}function O(e,t){for(var a=0;a<e.length;a++){var n=e[a];n.setTransform(t),t.beginPath(),n.buildPath(t,n.shape),t.clip(),n.restoreTransform(t)}}function D(e,t){var a=document.createElement("div");return a.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",a}var C=function(e,t,a){this.type="canvas";var n=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=a=r.extend({},a||{}),this.dpr=a.devicePixelRatio||i,this._singleCanvas=n,this.root=e;var o=e.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var s=this._zlevelList=[],l=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,n){var u=e.width,d=e.height;null!=a.width&&(u=a.width),null!=a.height&&(d=a.height),this.dpr=a.devicePixelRatio||1,e.width=u*this.dpr,e.height=d*this.dpr,this._width=u,this._height=d;var p=new c(e,this,this.dpr);p.__builtin__=!0,p.initContext(),l[f]=p,p.zlevel=f,s.push(f),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=D(this._width,this._height);e.appendChild(h)}this._hoverlayer=null,this._hoverElements=[]};C.prototype={constructor:C,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),a=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var n=0;n<a.length;n++){var i=a[n],r=this._layers[i];if(!r.__builtin__&&r.refresh){var o=0===n?this._backgroundColor:null;r.refresh(o)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var a=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return a.__from=e,e.__hoverMir=a,t&&a.setStyle(t),this._hoverElements.push(a),a}},removeHover:function(e){var t=e.__hoverMir,a=this._hoverElements,n=r.indexOf(a,t);n>=0&&a.splice(n,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,a=0;a<t.length;a++){var n=t[a].__from;n&&(n.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,a=this._hoverlayer;if(a&&a.clear(),t){l(e,this.storage.displayableSortFunc),a||(a=this._hoverlayer=this.getLayer(h));var n={};a.ctx.save();for(var i=0;i<t;){var r=e[i],o=r.__from;o&&o.__zr?(i++,o.invisible||(r.transform=o.transform,r.invTransform=o.invTransform,r.__clipPaths=o.__clipPaths,this._doPaintEl(r,a,!0,n))):(e.splice(i,1),o.__hoverMir=null,t--)}a.ctx.restore()}},getHoverLayer:function(){return this.getLayer(h)},_paintList:function(e,t,a){if(this._redrawId===a){t=t||!1,this._updateLayerStatus(e);var n=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var i=this;u((function(){i._paintList(e,t,a)}))}}},_compositeManually:function(){var e=this.getLayer(f).ctx,t=this._domRoot.width,a=this._domRoot.height;e.clearRect(0,0,t,a),this.eachBuiltinLayer((function(n){n.virtual&&e.drawImage(n.dom,0,0,t,a)}))},_doPaintList:function(e,t){for(var a=[],n=0;n<this._zlevelList.length;n++){var i=this._zlevelList[n],o=this._layers[i];o.__builtin__&&o!==this._hoverlayer&&(o.__dirty||t)&&a.push(o)}for(var s=!0,l=0;l<a.length;l++){o=a[l];var c=o.ctx,u={};c.save();var d=t?o.__startIndex:o.__drawIndex,h=!t&&o.incremental&&Date.now,f=h&&Date.now(),g=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,g);else if(d===o.__startIndex){var m=e[d];m.incremental&&m.notClear&&!t||o.clear(!1,g)}-1===d&&(console.error("For some unknown reason. drawIndex is -1"),d=o.__startIndex);for(var b=d;b<o.__endIndex;b++){var v=e[b];if(this._doPaintEl(v,o,t,u),v.__dirty=v.__dirtyText=!1,h){var y=Date.now()-f;if(y>15)break}}o.__drawIndex=b,o.__drawIndex<o.__endIndex&&(s=!1),u.prevElClipPaths&&c.restore(),c.restore()}return p.wxa&&r.each(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),s},_doPaintEl:function(e,t,a,n){var i=t.ctx,r=e.transform;if((t.__dirty||a)&&!e.invisible&&0!==e.style.opacity&&(!r||r[0]||r[3])&&(!e.culling||!_(e,this._width,this._height))){var o=e.__clipPaths,s=n.prevElClipPaths;s&&!x(o,s)||(s&&(i.restore(),n.prevElClipPaths=null,n.prevEl=null),o&&(i.save(),O(o,i),n.prevElClipPaths=o)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,n.prevEl||null),n.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=f);var a=this._layers[e];return a||(a=new c("zr_"+e,this,this.dpr),a.zlevel=e,a.__builtin__=!0,this._layerConfig[e]?r.merge(a,this._layerConfig[e],!0):this._layerConfig[e-g]&&r.merge(a,this._layerConfig[e-g],!0),t&&(a.virtual=t),this.insertLayer(e,a),a.initContext()),a},insertLayer:function(e,t){var a=this._layers,n=this._zlevelList,i=n.length,r=null,s=-1,l=this._domRoot;if(a[e])o("ZLevel "+e+" has been used already");else if(v(t)){if(i>0&&e>n[0]){for(s=0;s<i-1;s++)if(n[s]<e&&n[s+1]>e)break;r=a[n[s]]}if(n.splice(s+1,0,e),a[e]=t,!t.virtual)if(r){var c=r.dom;c.nextSibling?l.insertBefore(t.dom,c.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom)}else o("Layer of zlevel "+e+" is not valid")},eachLayer:function(e,t){var a,n,i=this._zlevelList;for(n=0;n<i.length;n++)a=i[n],e.call(t,this._layers[a],a)},eachBuiltinLayer:function(e,t){var a,n,i,r=this._zlevelList;for(i=0;i<r.length;i++)n=r[i],a=this._layers[n],a.__builtin__&&e.call(t,a,n)},eachOtherLayer:function(e,t){var a,n,i,r=this._zlevelList;for(i=0;i<r.length;i++)n=r[i],a=this._layers[n],a.__builtin__||e.call(t,a,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(e){r&&(r.__endIndex!==e&&(r.__dirty=!0),r.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var a=1;a<e.length;a++){var n=e[a];if(n.zlevel!==e[a-1].zlevel||n.incremental){this._needsManuallyCompositing=!0;break}}var i,r=null,s=0;for(a=0;a<e.length;a++){n=e[a];var l,c=n.zlevel;i!==c&&(i=c,s=0),n.incremental?(l=this.getLayer(c+m,this._needsManuallyCompositing),l.incremental=!0,s=1):l=this.getLayer(c+(s>0?g:0),this._needsManuallyCompositing),l.__builtin__||o("ZLevel "+c+" has been used by unkown layer "+l.id),l!==r&&(l.__used=!0,l.__startIndex!==a&&(l.__dirty=!0),l.__startIndex=a,l.incremental?l.__drawIndex=-1:l.__drawIndex=a,t(a),r=l),n.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=a))}t(a),this.eachBuiltinLayer((function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var a=this._layerConfig;a[e]?r.merge(a[e],t,!0):a[e]=t;for(var n=0;n<this._zlevelList.length;n++){var i=this._zlevelList[n];if(i===e||i===e+g){var o=this._layers[i];r.merge(o,a[e],!0)}}}},delLayer:function(e){var t=this._layers,a=this._zlevelList,n=t[e];n&&(n.dom.parentNode.removeChild(n.dom),delete t[e],a.splice(r.indexOf(a,e),1))},resize:function(e,t){if(this._domRoot.style){var a=this._domRoot;a.style.display="none";var n=this._opts;if(null!=e&&(n.width=e),null!=t&&(n.height=t),e=this._getSize(0),t=this._getSize(1),a.style.display="",this._width!==e||t!==this._height){for(var i in a.style.width=e+"px",a.style.height=t+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);r.each(this._progressiveLayers,(function(a){a.resize(e,t)})),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(f).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[f].dom;var t=new c("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var a=t.dom.width,n=t.dom.height,i=t.ctx;this.eachLayer((function(e){e.__builtin__?i.drawImage(e.dom,0,0,a,n):e.renderToCanvas&&(t.ctx.save(),e.renderToCanvas(t.ctx),t.ctx.restore())}))}else for(var r={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var l=o[s];this._doPaintEl(l,t,!0,r)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,a=["width","height"][e],n=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],r=["paddingRight","paddingBottom"][e];if(null!=t[a]&&"auto"!==t[a])return parseFloat(t[a]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[n]||b(s[a])||b(o.style[a]))-(b(s[i])||0)-(b(s[r])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var a=document.createElement("canvas"),n=a.getContext("2d"),i=e.getBoundingRect(),r=e.style,o=r.shadowBlur*t,s=r.shadowOffsetX*t,l=r.shadowOffsetY*t,c=r.hasStroke()?r.lineWidth:0,u=Math.max(c/2,-s+o),p=Math.max(c/2,s+o),h=Math.max(c/2,-l+o),f=Math.max(c/2,l+o),g=i.width+u+p,m=i.height+h+f;a.width=g*t,a.height=m*t,n.scale(t,t),n.clearRect(0,0,g,m),n.dpr=t;var b={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[u-i.x,h-i.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(n);var v=d,y=new v({style:{x:0,y:0,image:a}});return null!=b.position&&(y.position=e.position=b.position),null!=b.rotation&&(y.rotation=e.rotation=b.rotation),null!=b.scale&&(y.scale=e.scale=b.scale),y}};var k=C;e.exports=k},eda2:function(e,t,a){var n=a("6d8b"),i=a("e86a"),r=a("3842");function o(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""))}function s(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var l=n.normalizeCssArray,c=/([&<>"'])/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function d(e){return null==e?"":(e+"").replace(c,(function(e,t){return u[t]}))}var p=["a","b","c","d","e","f","g"],h=function(e,t){return"{"+e+(null==t?"":t)+"}"};function f(e,t,a){n.isArray(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var s=p[o];e=e.replace(h(s),h(s,0))}for(var l=0;l<i;l++)for(var c=0;c<r.length;c++){var u=t[l][r[c]];e=e.replace(h(p[c],l),a?d(u):u)}return e}function g(e,t,a){return n.each(t,(function(t,n){e=e.replace("{"+n+"}",a?d(t):t)})),e}function m(e,t){e=n.isString(e)?{color:e,extraCssText:t}:e||{};var a=e.color,i=e.type,r=(t=e.extraCssText,e.renderMode||"html"),o=e.markerId||"X";return a?"html"===r?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+d(a)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+d(a)+";"+(t||"")+'"></span>':{renderMode:r,content:"{marker"+o+"|}  ",style:{color:a}}:""}function b(e,t){return e+="","0000".substr(0,t-e.length)+e}function v(e,t,a){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var n=r.parseDate(t),i=a?"UTC":"",o=n["get"+i+"FullYear"](),s=n["get"+i+"Month"]()+1,l=n["get"+i+"Date"](),c=n["get"+i+"Hours"](),u=n["get"+i+"Minutes"](),d=n["get"+i+"Seconds"](),p=n["get"+i+"Milliseconds"]();return e=e.replace("MM",b(s,2)).replace("M",s).replace("yyyy",o).replace("yy",o%100).replace("dd",b(l,2)).replace("d",l).replace("hh",b(c,2)).replace("h",c).replace("mm",b(u,2)).replace("m",u).replace("ss",b(d,2)).replace("s",d).replace("SSS",b(p,3)),e}function y(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}var w=i.truncateText;function _(e){return i.getBoundingRect(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)}function x(e,t,a,n,r,o,s,l){return i.getBoundingRect(e,t,a,n,r,l,o,s)}function O(e,t){if("_blank"===t||"blank"===t){var a=window.open();a.opener=null,a.location=e}else window.open(e,t)}t.addCommas=o,t.toCamelCase=s,t.normalizeCssArray=l,t.encodeHTML=d,t.formatTpl=f,t.formatTplSimple=g,t.getTooltipMarker=m,t.formatTime=v,t.capitalFirst=y,t.truncateText=w,t.getTextBoundingRect=_,t.getTextRect=x,t.windowOpen=O},ee1a:function(e,t,a){var n=a("6d8b"),i=n.each,r=n.isString;function o(e,t,a){a=a||{};var n,o,s,l,c=a.byIndex,u=a.stackedCoordDimension,d=!(!e||!e.get("stack"));if(i(t,(function(e,a){r(e)&&(t[a]=e={name:e}),d&&!e.isExtraCoord&&(c||n||!e.ordinalMeta||(n=e),o||"ordinal"===e.type||"time"===e.type||u&&u!==e.coordDim||(o=e))})),!o||c||n||(c=!0),o){s="__\0ecstackresult",l="__\0ecstackedover",n&&(n.createInvertedIndices=!0);var p=o.coordDim,h=o.type,f=0;i(t,(function(e){e.coordDim===p&&f++})),t.push({name:s,coordDim:p,coordDimIndex:f,type:h,isExtraCoord:!0,isCalculationCoord:!0}),f++,t.push({name:l,coordDim:l,coordDimIndex:f,type:h,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:n&&n.name,isStackedByIndex:c,stackedOverDimension:l,stackResultDimension:s}}function s(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function l(e,t){return s(e,t)?e.getCalculationInfo("stackResultDimension"):t}t.enableDataStack=o,t.isDimensionStacked=s,t.getStackedDimension=l},ee6e:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"g",(function(){return p}));var n=a("b5c6"),i=a("da71"),r=function(e){return Object(n["a"])({url:"".concat(i["a"],"/blade-source-stat/interface-stat"),method:"post",data:e})},o=function(e){return Object(n["a"])({url:"".concat(i["a"],"/flow-stat/global-stat"),method:"post",data:e})},s=function(){return Object(n["a"])({url:"".concat(i["a"],"/flow-stat/host-condition"),method:"get"})},l=function(){return Object(n["a"])({url:"".concat(i["a"],"/flow-stat/global-current"),method:"get"})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["a"])({url:"".concat(i["a"],"/flow-stat/recent-top"),method:"post",data:e})},u=function(){return Object(n["a"])({url:"".concat(i["a"],"/flow-stat/path-condition"),method:"get"})},d=function(){return Object(n["a"])({url:"".concat(i["a"],"/flow-stat/app-condition"),method:"get"})},p=function(){return Object(n["a"])({url:"".concat(i["a"],"/flow-stat/ip-condition"),method:"get"})}},ee84:function(e,t,a){var n=a("20c8"),i=a("401b"),r=i.applyTransform,o=n.CMD,s=[[],[],[]],l=Math.sqrt,c=Math.atan2;function u(e,t){var a,n,i,u,d,p=e.data,h=o.M,f=o.C,g=o.L,m=o.R,b=o.A,v=o.Q;for(i=0,u=0;i<p.length;){switch(a=p[i++],u=i,n=0,a){case h:n=1;break;case g:n=1;break;case f:n=3;break;case v:n=2;break;case b:var y=t[4],w=t[5],_=l(t[0]*t[0]+t[1]*t[1]),x=l(t[2]*t[2]+t[3]*t[3]),O=c(-t[1]/x,t[0]/_);p[i]*=_,p[i++]+=y,p[i]*=x,p[i++]+=w,p[i++]*=_,p[i++]*=x,p[i++]+=O,p[i++]+=O,i+=2,u=i;break;case m:D[0]=p[i++],D[1]=p[i++],r(D,D,t),p[u++]=D[0],p[u++]=D[1],D[0]+=p[i++],D[1]+=p[i++],r(D,D,t),p[u++]=D[0],p[u++]=D[1]}for(d=0;d<n;d++){var D=s[d];D[0]=p[i++],D[1]=p[i++],r(D,D,t),p[u++]=D[0],p[u++]=D[1]}}}e.exports=u},ef00:function(e,t,a){},ef6a:function(e,t){function a(e,t,a,r,o,s){e=e||0;var l=a[1]-a[0];if(null!=o&&(o=i(o,[0,l])),null!=s&&(s=Math.max(s,null!=o?o:0)),"all"===r){var c=Math.abs(t[1]-t[0]);c=i(c,[0,l]),o=s=i(c,[o,s]),r=0}t[0]=i(t[0],a),t[1]=i(t[1],a);var u=n(t,r);t[r]+=e;var d=o||0,p=a.slice();u.sign<0?p[0]+=d:p[1]-=d,t[r]=i(t[r],p);var h=n(t,r);null!=o&&(h.sign!==u.sign||h.span<o)&&(t[1-r]=t[r]+u.sign*o);h=n(t,r);return null!=s&&h.span>s&&(t[1-r]=t[r]+h.sign*s),t}function n(e,t){var a=e[t]-e[1-t];return{span:Math.abs(a),sign:a>0?-1:a<0?1:t?-1:1}}function i(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}e.exports=a},ef97:function(e,t,a){var n=a("3eba");a("217b8"),a("f17f");var i=a("7f96"),r=a("87c3"),o=a("fdde");a("01ed"),n.registerVisual(i("line","circle","line")),n.registerLayout(r("line")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,o("line"))},efb6:function(e,t,a){var n=a("5e2e");function i(){this.__data__=new n,this.size=0}e.exports=i},efcc:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"testForm",staticClass:"test-item-form",attrs:{size:"small",model:e.testForm,rules:e.rules,disabled:e.disabled}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:"自动生成测试用例的名称，格式 POST/GET URL,  用户可手动输入或修改"},model:{value:e.testForm.name,callback:function(t){e.$set(e.testForm,"name",t)},expression:"testForm.name"}},[a("template",{slot:"prepend"},[e._v("标题")])],2)],1),a("div",{staticClass:"proxy-type"},[a("el-radio",{attrs:{label:"proxytest"},model:{value:e.proxyType,callback:function(t){e.proxyType=t},expression:"proxyType"}},[e._v("测试接口")]),a("el-radio",{attrs:{label:"proxy"},model:{value:e.proxyType,callback:function(t){e.proxyType=t},expression:"proxyType"}},[e._v("正式接口")])],1),a("el-form-item",{staticClass:"test-request",attrs:{prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入字段值（例：0 或 zh)"},model:{value:e.testForm.path,callback:function(t){e.$set(e.testForm,"path",t)},expression:"testForm.path"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"方法",disabled:""},slot:"prepend",model:{value:e.testForm.method,callback:function(t){e.$set(e.testForm,"method",t)},expression:"testForm.method"}},e._l(e.apiMethod,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-button",{attrs:{size:"small",loading:e.sendLoading,type:"primary"},on:{click:function(t){return e.handleAction("send")}}},[e._v("发送")]),a("el-button",{attrs:{size:"small",loading:e.saveLoading,type:"primary",plain:""},on:{click:function(t){return e.handleAction("save")}}},[e._v("保存")])],1),a("el-form-item",[a("el-tabs",["GET"!==e.testForm.method?a("el-tab-pane",{attrs:{label:"请求体",lazy:!0}},[a("el-radio",{attrs:{label:"JSON"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),a("el-radio",{attrs:{label:"form-data"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),a("el-radio",{attrs:{label:"x-www-form-urlencoded"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),a("el-radio",{attrs:{label:"XML"},model:{value:e.bodyType,callback:function(t){e.bodyType=t},expression:"bodyType"}}),"JSON"===e.bodyType?a("data-editor",{attrs:{content:e.body,height:300,disabled:e.disabled},on:{"update:content":function(t){e.body=t}}}):"form-data"===e.bodyType||"x-www-form-urlencoded"===e.bodyType?a("values-table",{ref:"formBody",attrs:{data:e.formBody,"is-upload":"form-data"===e.bodyType,disabled:e.disabled},on:{"update:data":function(t){e.formBody=t}}}):"XML"===e.bodyType?a("code-editor",{attrs:{type:"xml",content:e.xmlBody,height:300},on:{"update:content":function(t){e.xmlBody=t}}}):e._e()],1):e._e(),a("el-tab-pane",{attrs:{label:"请求头"}},[a("el-checkbox",{model:{value:e.returnContext,callback:function(t){e.returnContext=t},expression:"returnContext"}},[e._v("返回Context")]),a("values-table",{ref:"headers",attrs:{data:e.headers,disabled:e.disabled},on:{"update:data":function(t){e.headers=t}}})],1),a("el-tab-pane",{attrs:{label:"Query参数"}},[a("values-table",{ref:"query",attrs:{data:e.query,disabled:e.disabled},on:{"update:data":function(t){e.query=t}}})],1)],1)],1),a("div",{staticClass:"response-hr",class:"response-hr-"+e.responseState},[e._v("Response 响应结果")]),a("el-form-item",[a("el-tabs",[a("el-tab-pane",{attrs:{label:"响应体"}},[a("el-radio-group",{staticStyle:{cursor:"not-allowed","pointer-events":"none"},model:{value:e.responseBodyType,callback:function(t){e.responseBodyType=t},expression:"responseBodyType"}},[a("el-radio",{attrs:{label:"JSON"}}),a("el-radio",{attrs:{label:"XML"}}),a("el-radio",{attrs:{label:"ELSE"}},[e._v("其他类型")])],1),"JSON"===e.responseBodyType?[a("code-highlight",{attrs:{id:"json",language:"json",code:e.jsonResponseBody,height:300}})]:"XML"===e.responseBodyType?[a("code-highlight",{attrs:{id:"xml",language:"xml",code:e.xmlResponseBody,height:300}})]:[a("el-input",{attrs:{type:"textarea",autosize:{minRows:12,maxRows:20},readonly:""},model:{value:e.responseBody,callback:function(t){e.responseBody=t},expression:"responseBody"}})]],2),a("el-tab-pane",{attrs:{label:"响应头"}},[e.renderResHeaderCom?a("values-table",{attrs:{data:e.responseHeaders,disabled:""},on:{"update:data":function(t){e.responseHeaders=t}}}):e._e()],1)],1)],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("6762"),a("2fdb"),a("28a5"),a("a481"),a("ac6a"),a("ade3")),o=a("942a"),s=a("83b0"),l=a("8c58"),c=(a("6b54"),a("cebe")),u=a.n(c),d=a("323e"),p=a.n(d),h=(a("a5d8"),a("ff40")),f=u.a.create({timeout:2e4,withCredentials:!0});p.a.configure({showSpinner:!1}),f.interceptors.request.use((function(e){return p.a.start(),e}),(function(e){return Promise.reject(e)})),f.interceptors.response.use((function(e){p.a.done();var t=e.status;return 200!==t?Promise.reject(e):e}),(function(e){return"[object Error]"===Object.prototype.toString.call(e)&&Object(h["a"])({message:"请求出错了：".concat(e),type:"error"}),p.a.done(),Promise.reject(new Error(e))}));var g=f,m=a("5880"),b=a("7ede"),v=(a("4917"),a("3b2b"),a("386d"),a("c54a"));function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";for(var a in e)Object(v["a"])(e,a)&&""!==a&&(Object(v["b"])(e[a])&&(e[a]=e[a].join(",")),t+="".concat(a,"=").concat(e[a],"&"));return t.slice(0,-1)}var w=a("4627"),_=a("d480"),x=a("9470");function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C={name:"test-item",data:function(){return{editorHeight:400,testForm:{},rules:{name:[{required:!0,message:"请填写测试用例名称",trigger:"blur"}]},returnContext:!1,proxyType:"proxytest",bodyType:"JSON",headers:{},body:{},formBody:[],xmlBody:"",query:{},sendLoading:!1,saveLoading:!1,responseState:"",responseBody:null,responseHeaders:{},responseBodyType:"",renderResHeaderCom:!0}},computed:D(D({},Object(m["mapGetters"])(["apiMethod"])),{},{serviceName:function(){return this.data.serviceName||""},request:function(){var e=this.encodeValuesQuery(this.query)||"",t=this.headers||{},a={};if(t=this.handleHeaders(t),"form-data"===this.bodyType){Object(v["d"])(this.formBody,"object")&&this.$refs.formBody.emitData();var n=new FormData;this.formBody.forEach((function(e){if(e.type&&"File"===e.type&&e.files)for(var t=0;t<e.files.length;t++)n.append(e.key,e.files[t]);else e.key&&e.value&&n.append(e.key,e.value)})),a=n}else"x-www-form-urlencoded"===this.bodyType?(Object(v["d"])(this.formBody,"object")&&this.$refs.formBody.emitData(),a=this.encodeValuesQuery(this.formBody)):a="XML"===this.bodyType?this.xmlBody||"":this.body||{};return{headers:t,body:a,query:e}},content:function(){var e=this.getValueTableParams(!0),t=e.formBody,a=e.query,n=e.headers,i="XML"===this.bodyType?this.xmlBody:"JSON"===this.bodyType?this.body:t;return JSON.stringify({headers:this.formatContent(n),body:"form-data"===this.bodyType||"x-www-form-urlencoded"===this.bodyType?this.formatContent(i):i,query:this.formatContent(a),proxyType:this.proxyType,returnContext:this.returnContext,bodyType:this.bodyType})},jsonResponseBody:function(){if(this.responseBody){var e=this.responseBody;return Object(v["d"])(this.responseBody,"object")&&(e=Object.assign({},this.responseBody)),JSON.stringify(e,null,"  ")}return""},xmlResponseBody:function(){var e=this.responseBody||"";return e=e.replace(/></g,">\n<"),e}}),props:{data:{type:Array,default:function(){return[]}},domain:{type:String,default:""},refresh:{type:Function},disabled:{type:Boolean,default:!1}},components:{dataParams:o["default"],paramsTable:s["default"],valuesTable:l["default"],dataEditor:w["default"],codeHighlight:_["default"],codeEditor:x["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(){this.initData()}},proxyType:{handler:function(e){this.testForm.path=this.domain+this.changePath(this.data.path,e)}},domain:{handler:function(e){this.testForm.path=e+this.changePath(this.data.path,this.proxyType)}}},methods:{formatContent:function(e){if(Object(v["d"])(e,"array"))for(var t=0;t<e.length;t++)delete e[t].$index,""===e[t].key&&(e.splice(t,1),t--);else if(Object(v["d"])(e,"object"))for(var a in e)""===a&&delete e[a];return e},encodeValuesQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Object(v["d"])(e,"array")){var t=[];return e.forEach((function(e){e.key&&e.value&&t.push("".concat(e.key,"=").concat(e.value))})),t.join("&")}return y(e)},checkResponseBodyType:function(e){return e=e.split(";"),e=e.map((function(e){return e.toLowerCase()})),e.includes("application/xml")||e.includes("text/xml")?"XML":e.includes("application/json")?"JSON":"ELSE"},handleHeaders:function(e){var t={};return Object(v["d"])(e,"array")&&e.forEach((function(e){e.key&&(t[e.key]?t[e.key]=t[e.key]+","+e.value:t[e.key]=e.value)})),this.returnContext?t.returnContext=!0:t.returnContext&&delete t.returnContext,"GET"===this.testForm.method||t["Content-Type"]||("form-data"===this.bodyType?t["Content-Type"]="multipart/form-data":"x-www-form-urlencoded"===this.bodyType?t["Content-Type"]="application/x-www-form-urlencoded":"XML"===this.bodyType?t["Content-Type"]="application/xml":t["Content-Type"]="application/json"),t},handleAction:function(e){var t=this,a=this.getValueTableParams(!1),n=a.formBody,i=a.query,r=a.headers;this.formBody=n,this.query=i,this.headers=r,this.$nextTick((function(){var a=Object(v["k"])(t.body);if(!a)return t.$message.error("请求体JSON格式有误"),!1;"save"===e&&t.handleSave(),"send"===e&&t.validateUpload()&&t.handleSend()}))},getValueTableParams:function(e){var t=e?"getAllData":"getCheckedData",a=this.$refs.formBody&&this.$refs.formBody[t]()||[],n=this.$refs.query&&this.$refs.query[t]()||[],i=this.$refs.headers&&this.$refs.headers[t]()||[];return{formBody:a,query:n,headers:i}},validateUpload:function(){if("form-data"===this.bodyType){var e=[];if(this.formBody.forEach((function(t,a){t.type&&"File"===t.type&&t.files&&t.files.length!==t.value.split(",").length&&e.push(a+1)})),e.length>0)return this.$message({showClose:!0,message:"第".concat(e.join(","),"行 未上传文件！"),type:"warning"}),!1}return!0},handleSend:function(){var e=this;this.clearResponse(),this.sendLoading=!0;var t=this.testForm.method,a=this.testForm.path+(this.request.query?"?".concat(this.request.query):""),n=this.request.headers||{},i=this.request.body||{};g({url:a,method:t,headers:n,data:i}).then((function(t){e.responseState="success",e.responseBody=t.data,e.responseHeaders=t.headers,e.responseBodyType=e.checkResponseBodyType(t.headers["content-type"]),e.sendLoading=!1})).catch((function(t){console.error(t),e.responseState="error",e.responseBody=t.data,e.responseHeaders=t.headers,t.headers&&t.headers["content-type"]&&(e.responseBodyType=e.checkResponseBodyType(t.headers["content-type"])),e.sendLoading=!1})).then((function(){e.renderResHeaderCom=!1,e.$nextTick((function(){e.renderResHeaderCom=!0}))}))},changePath:function(e,t){return e?(e="proxytest"===t?e.replace("/proxy/".concat(this.serviceName,"/"),"/_proxytest/".concat(this.serviceName,"/")):e.replace("/proxy/".concat(this.serviceName,"/"),"".concat(this.data.formalPathPrefix,"/").concat(this.serviceName,"/")),e):e},handleSave:function(){var e=this;this.saveLoading=!0;var t=Object.assign({},this.testForm);t.content=this.content,Object(b["a"])(t).then((function(){e.$message.success("测试用例保存成功"),e.refresh()})).finally((function(){e.saveLoading=!1}))},initData:function(){var e=Object.assign({},this.data),t=e.content||"{}";try{t=JSON.parse(t)}catch(f){console.log("[error in test data]",f)}var a=t,n=a.headers,i=void 0===n?{}:n,r=a.body,o=void 0===r?{}:r,s=a.query,l=void 0===s?{}:s,c=a.proxyType,u=void 0===c?"proxytest":c,d=a.returnContext,p=a.bodyType;if(this.returnContext=d||i.returnContext||!1,delete i.returnContext,p)this.bodyType=p;else{var h=(i["Content-Type"]||"").split(";");h.includes("application/xml")?(this.bodyType="XML",h.splice(h.indexOf("application/xml"),1)):h.includes("multipart/form-data")?(this.bodyType="form-data",h.splice(h.indexOf("multipart/form-data"),1)):h.includes("application/x-www-form-urlencoded")?(this.bodyType="x-www-form-urlencoded",h.splice(h.indexOf("application/x-www-form-urlencoded"),1)):h.includes("application/json")&&(this.bodyType="JSON",h.splice(h.indexOf("application/json"),1)),i["Content-Type"]=h.join(";"),i["Content-Type"]||delete i["Content-Type"]}"XML"===this.bodyType?this.xmlBody=o:"form-data"===this.bodyType||"x-www-form-urlencoded"===this.bodyType?this.formBody=o:this.body=o,this.headers=i,this.query=l,this.proxyType=u,e.path=this.domain+this.changePath(e.path,this.proxyType),this.testForm=e},validate:function(){var e=this;return new Promise((function(t,a){e.$refs.testForm.validate((function(e){e?t():a()}))}))},clearResponse:function(){var e=this;this.responseState="",this.responseBody="",this.responseBodyType="",this.responseHeaders={},this.renderResHeaderCom=!1,this.$nextTick((function(){e.renderResHeaderCom=!0}))}}},k=C,S=(a("1c28"),a("2877")),j=Object(S["a"])(k,n,i,!1,null,null,null);t["default"]=j.exports},efdf:function(e,t,a){var n=a("b20a"),i=n((function(e,t,a){return e+(a?"_":"")+t.toLowerCase()}));e.exports=i},effc:function(e,t,a){"use strict";a("110c")},f039:function(e,t,a){"use strict";a("c6bd")},f04e:function(e,t,a){},f08d:function(e,t,a){},f0bf:function(e,t,a){"use strict";a("2db3")},f100:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-container",[a("h3",[e._v("这个页面会被 keep-alive")]),a("el-tag",[e._v("在下面的输入框输入任意字符后，切换到其它页面，再回到此页时输入框文字保留，证明被缓存")]),a("br"),a("br"),a("el-tag",[e._v("同时滚动下拉，返回时还会保持滚动条所在的位置")]),a("br"),a("br"),a("el-input",{attrs:{placeholder:"input here"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),a("div",{staticStyle:{height:"1000px"}})],1)},i=[],r={data:function(){return{value:""}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);t["default"]=l.exports},f123:function(e,t,a){var n=a("9f82"),i=n.prepareDataCoordInfo,r=n.getStackedOnPoint;function o(e,t){var a=[];return t.diff(e).add((function(e){a.push({cmd:"+",idx:e})})).update((function(e,t){a.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){a.push({cmd:"-",idx:e})})).execute(),a}function s(e,t,a,n,s,l,c,u){for(var d=o(e,t),p=[],h=[],f=[],g=[],m=[],b=[],v=[],y=i(s,t,c),w=i(l,e,u),_=0;_<d.length;_++){var x=d[_],O=!0;switch(x.cmd){case"=":var D=e.getItemLayout(x.idx),C=t.getItemLayout(x.idx1);(isNaN(D[0])||isNaN(D[1]))&&(D=C.slice()),p.push(D),h.push(C),f.push(a[x.idx]),g.push(n[x.idx1]),v.push(t.getRawIndex(x.idx1));break;case"+":var k=x.idx;p.push(s.dataToPoint([t.get(y.dataDimsForPoint[0],k),t.get(y.dataDimsForPoint[1],k)])),h.push(t.getItemLayout(k).slice()),f.push(r(y,s,t,k)),g.push(n[k]),v.push(t.getRawIndex(k));break;case"-":k=x.idx;var S=e.getRawIndex(k);S!==k?(p.push(e.getItemLayout(k)),h.push(l.dataToPoint([e.get(w.dataDimsForPoint[0],k),e.get(w.dataDimsForPoint[1],k)])),f.push(a[k]),g.push(r(w,l,e,k)),v.push(S)):O=!1}O&&(m.push(x),b.push(b.length))}b.sort((function(e,t){return v[e]-v[t]}));var j=[],P=[],T=[],I=[],L=[];for(_=0;_<b.length;_++){k=b[_];j[_]=p[k],P[_]=h[k],T[_]=f[k],I[_]=g[k],L[_]=m[k]}return{current:j,next:P,stackedOnCurrent:T,stackedOnNext:I,status:L}}e.exports=s},f130:function(e,t,a){"use strict";a("0ef3")},f17f:function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=a("e263"),o=r.fromPoints,s=a("f706"),l=a("1418"),c=a("f123"),u=a("2306"),d=a("e0d3"),p=a("d4d1"),h=p.Polyline,f=p.Polygon,g=a("e887"),m=a("9f82"),b=m.prepareDataCoordInfo,v=m.getStackedOnPoint,y=a("b0af"),w=y.createGridClipPath,_=y.createPolarClipPath;function x(e,t){if(e.length===t.length){for(var a=0;a<e.length;a++){var n=e[a],i=t[a];if(n[0]!==i[0]||n[1]!==i[1])return}return!0}}function O(e,t){var a=[],n=[],i=[],r=[];return o(e,a,n),o(t,i,r),Math.max(Math.abs(a[0]-i[0]),Math.abs(a[1]-i[1]),Math.abs(n[0]-r[0]),Math.abs(n[1]-r[1]))}function D(e){return"number"===typeof e?e:e?.5:0}function C(e,t,a){if(!a.valueDim)return[];for(var n=[],i=0,r=t.count();i<r;i++)n.push(v(a,e,t,i));return n}function k(e,t,a){for(var n=t.getBaseAxis(),i="x"===n.dim||"radius"===n.dim?0:1,r=[],o=0;o<e.length-1;o++){var s=e[o+1],l=e[o];r.push(l);var c=[];switch(a){case"end":c[i]=s[i],c[1-i]=l[1-i],r.push(c);break;case"middle":var u=(l[i]+s[i])/2,d=[];c[i]=d[i]=u,c[1-i]=l[1-i],d[1-i]=s[1-i],r.push(c),r.push(d);break;default:c[i]=l[i],c[1-i]=s[1-i],r.push(c)}}return e[o]&&r.push(e[o]),r}function S(e,t){var a=e.getVisual("visualMeta");if(a&&a.length&&e.count()&&"cartesian2d"===t.type){for(var n,r,o=a.length-1;o>=0;o--){var s=a[o].dimension,l=e.dimensions[s],c=e.getDimensionInfo(l);if(n=c&&c.coordDim,"x"===n||"y"===n){r=a[o];break}}if(r){var d=t.getAxis(n),p=i.map(r.stops,(function(e){return{coord:d.toGlobalCoord(d.dataToCoord(e.value)),color:e.color}})),h=p.length,f=r.outerColors.slice();h&&p[0].coord>p[h-1].coord&&(p.reverse(),f.reverse());var g=10,m=p[0].coord-g,b=p[h-1].coord+g,v=b-m;if(v<.001)return"transparent";i.each(p,(function(e){e.offset=(e.coord-m)/v})),p.push({offset:h?p[h-1].offset:.5,color:f[1]||"transparent"}),p.unshift({offset:h?p[0].offset:.5,color:f[0]||"transparent"});var y=new u.LinearGradient(0,0,0,0,p,!0);return y[n]=m,y[n+"2"]=b,y}}}function j(e,t,a){var n=e.get("showAllSymbol"),r="auto"===n;if(!n||r){var o=a.getAxesByScale("ordinal")[0];if(o&&(!r||!P(o,t))){var s=t.mapDimension(o.dim),l={};return i.each(o.getViewLabels(),(function(e){l[e.tickValue]=1})),function(e){return!l.hasOwnProperty(t.get(s,e))}}}}function P(e,t){var a=e.getExtent(),n=Math.abs(a[1]-a[0])/e.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),r=Math.max(1,Math.round(i/5)),o=0;o<i;o+=r)if(1.5*l.getSymbolSize(t,o)[e.isHorizontal()?1:0]>n)return!1;return!0}function T(e,t,a){if("cartesian2d"===e.type){var n=e.getBaseAxis().isHorizontal(),i=w(e,t,a);if(!a.get("clip",!0)){var r=i.shape,o=Math.max(r.width,r.height);n?(r.y-=o,r.height+=2*o):(r.x-=o,r.width+=2*o)}return i}return _(e,t,a)}var I=g.extend({type:"line",init:function(){var e=new u.Group,t=new s;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,a){var n=e.coordinateSystem,r=this.group,o=e.getData(),s=e.getModel("lineStyle"),l=e.getModel("areaStyle"),c=o.mapArray(o.getItemLayout),u="polar"===n.type,d=this._coordSys,p=this._symbolDraw,h=this._polyline,f=this._polygon,g=this._lineGroup,m=e.get("animation"),v=!l.isEmpty(),y=l.get("origin"),w=b(n,o,y),_=C(n,o,w),O=e.get("showSymbol"),P=O&&!u&&j(e,o,n),I=this._data;I&&I.eachItemGraphicEl((function(e,t){e.__temp&&(r.remove(e),I.setItemGraphicEl(t,null))})),O||p.remove(),r.add(g);var L,z=!u&&e.get("step");n&&n.getArea&&e.get("clip",!0)&&(L=n.getArea(),null!=L.width?(L.x-=.1,L.y-=.1,L.width+=.2,L.height+=.2):L.r0&&(L.r0-=.5,L.r1+=.5)),this._clipShapeForSymbol=L,h&&d.type===n.type&&z===this._step?(v&&!f?f=this._newPolygon(c,_,n,m):f&&!v&&(g.remove(f),f=this._polygon=null),g.setClipPath(T(n,!1,e)),O&&p.updateData(o,{isIgnore:P,clipShape:L}),o.eachItemGraphicEl((function(e){e.stopAnimation(!0)})),x(this._stackedOnPoints,_)&&x(this._points,c)||(m?this._updateAnimation(o,_,n,a,z,y):(z&&(c=k(c,n,z),_=k(_,n,z)),h.setShape({points:c}),f&&f.setShape({points:c,stackedOnPoints:_})))):(O&&p.updateData(o,{isIgnore:P,clipShape:L}),z&&(c=k(c,n,z),_=k(_,n,z)),h=this._newPolyline(c,n,m),v&&(f=this._newPolygon(c,_,n,m)),g.setClipPath(T(n,!0,e)));var $=S(o,n)||o.getVisual("color");h.useStyle(i.defaults(s.getLineStyle(),{fill:"none",stroke:$,lineJoin:"bevel"}));var M=e.get("smooth");if(M=D(e.get("smooth")),h.setShape({smooth:M,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),f){var E=o.getCalculationInfo("stackedOnSeries"),A=0;f.useStyle(i.defaults(l.getAreaStyle(),{fill:$,opacity:.7,lineJoin:"bevel"})),E&&(A=D(E.get("smooth"))),f.setShape({smooth:M,stackedOnSmooth:A,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=o,this._coordSys=n,this._stackedOnPoints=_,this._points=c,this._step=z,this._valueOrigin=y},dispose:function(){},highlight:function(e,t,a,n){var i=e.getData(),r=d.queryDataIndex(i,n);if(!(r instanceof Array)&&null!=r&&r>=0){var o=i.getItemGraphicEl(r);if(!o){var s=i.getItemLayout(r);if(!s)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s[0],s[1]))return;o=new l(i,r),o.position=s,o.setZ(e.get("zlevel"),e.get("z")),o.ignore=isNaN(s[0])||isNaN(s[1]),o.__temp=!0,i.setItemGraphicEl(r,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else g.prototype.highlight.call(this,e,t,a,n)},downplay:function(e,t,a,n){var i=e.getData(),r=d.queryDataIndex(i,n);if(null!=r&&r>=0){var o=i.getItemGraphicEl(r);o&&(o.__temp?(i.setItemGraphicEl(r,null),this.group.remove(o)):o.downplay())}else g.prototype.downplay.call(this,e,t,a,n)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new h({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new f({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(a),this._polygon=a,a},_updateAnimation:function(e,t,a,n,i,r){var o=this._polyline,s=this._polygon,l=e.hostModel,d=c(this._data,e,this._stackedOnPoints,t,this._coordSys,a,this._valueOrigin,r),p=d.current,h=d.stackedOnCurrent,f=d.next,g=d.stackedOnNext;if(i&&(p=k(d.current,a,i),h=k(d.stackedOnCurrent,a,i),f=k(d.next,a,i),g=k(d.stackedOnNext,a,i)),O(p,f)>3e3||s&&O(h,g)>3e3)return o.setShape({points:f}),void(s&&s.setShape({points:f,stackedOnPoints:g}));o.shape.__points=d.current,o.shape.points=p,u.updateProps(o,{shape:{points:f}},l),s&&(s.setShape({points:p,stackedOnPoints:h}),u.updateProps(s,{shape:{points:f,stackedOnPoints:g}},l));for(var m=[],b=d.status,v=0;v<b.length;v++){var y=b[v].cmd;if("="===y){var w=e.getItemGraphicEl(b[v].idx1);w&&m.push({el:w,ptIdx:v})}}o.animators&&o.animators.length&&o.animators[0].during((function(){for(var e=0;e<m.length;e++){var t=m[e].el;t.attr("position",o.shape.__points[m[e].ptIdx])}}))},remove:function(e){var t=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl((function(e,n){e.__temp&&(t.remove(e),a.setItemGraphicEl(n,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});e.exports=I},f1bc:function(e,t,a){},f219:function(e,t){var a="#eee",n=function(){return{axisLine:{lineStyle:{color:a}},axisTick:{lineStyle:{color:a}},axisLabel:{textStyle:{color:a}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:a}}}},i=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],r={color:i,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:a},crossStyle:{color:a},label:{color:"#000"}}},legend:{textStyle:{color:a}},textStyle:{color:a},title:{textStyle:{color:a}},toolbox:{iconStyle:{normal:{borderColor:a}}},dataZoom:{textStyle:{color:a}},visualMap:{textStyle:{color:a}},timeline:{lineStyle:{color:a},itemStyle:{normal:{color:i[1]}},label:{normal:{textStyle:{color:a}}},controlStyle:{normal:{color:a,borderColor:a}}},timeAxis:n(),logAxis:n(),valueAxis:n(),categoryAxis:n(),line:{symbol:"circle"},graph:{color:i},gauge:{title:{textStyle:{color:a}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};r.categoryAxis.splitLine.show=!1;var o=r;e.exports=o},f231:function(e,t,a){"use strict";a("4aa1")},f23f:function(e,t,a){},f273:function(e,t,a){var n=a("6d8b"),i=a("2306"),r=a("fab22"),o=a("6679"),s=a("0156"),l=a("58df"),c=l.rectCoordAxisBuildSplitArea,u=l.rectCoordAxisHandleRemove,d=["axisLine","axisTickLabel","axisName"],p=["splitArea","splitLine","minorSplitLine"],h=o.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,a,o){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new i.Group,this.group.add(this._axisGroup),e.get("show")){var c=e.getCoordSysModel(),u=s.layout(c,e),f=new r(e,u);n.each(d,f.add,f),this._axisGroup.add(f.getGroup()),n.each(p,(function(t){e.get(t+".show")&&this["_"+t](e,c)}),this),i.groupTransition(l,this._axisGroup,e),h.superCall(this,"render",e,t,a,o)}},remove:function(){u(this)},_splitLine:function(e,t){var a=e.axis;if(!a.scale.isBlank()){var r=e.getModel("splitLine"),o=r.getModel("lineStyle"),s=o.get("color");s=n.isArray(s)?s:[s];for(var l=t.coordinateSystem.getRect(),c=a.isHorizontal(),u=0,d=a.getTicksCoords({tickModel:r}),p=[],h=[],f=o.getLineStyle(),g=0;g<d.length;g++){var m=a.toGlobalCoord(d[g].coord);c?(p[0]=m,p[1]=l.y,h[0]=m,h[1]=l.y+l.height):(p[0]=l.x,p[1]=m,h[0]=l.x+l.width,h[1]=m);var b=u++%s.length,v=d[g].tickValue;this._axisGroup.add(new i.Line({anid:null!=v?"line_"+d[g].tickValue:null,subPixelOptimize:!0,shape:{x1:p[0],y1:p[1],x2:h[0],y2:h[1]},style:n.defaults({stroke:s[b]},f),silent:!0}))}}},_minorSplitLine:function(e,t){var a=e.axis,n=e.getModel("minorSplitLine"),r=n.getModel("lineStyle"),o=t.coordinateSystem.getRect(),s=a.isHorizontal(),l=a.getMinorTicksCoords();if(l.length)for(var c=[],u=[],d=r.getLineStyle(),p=0;p<l.length;p++)for(var h=0;h<l[p].length;h++){var f=a.toGlobalCoord(l[p][h].coord);s?(c[0]=f,c[1]=o.y,u[0]=f,u[1]=o.y+o.height):(c[0]=o.x,c[1]=f,u[0]=o.x+o.width,u[1]=f),this._axisGroup.add(new i.Line({anid:"minor_line_"+l[p][h].tickValue,subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:d,silent:!0}))}},_splitArea:function(e,t){c(this,this._axisGroup,e,t)}});h.extend({type:"xAxis"}),h.extend({type:"yAxis"})},f279:function(e,t,a){var n=a("9850"),i=a("e263"),r=a("401b"),o=a("0655");function s(e,t,a){if(this.name=e,this.geometries=t,a)a=[a[0],a[1]];else{var n=this.getBoundingRect();a=[n.x+n.width/2,n.y+n.height/2]}this.center=a}s.prototype={constructor:s,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,a=[t,t],o=[-t,-t],s=[],l=[],c=this.geometries,u=0;u<c.length;u++)if("polygon"===c[u].type){var d=c[u].exterior;i.fromPoints(d,s,l),r.min(a,a,s),r.max(o,o,l)}return 0===u&&(a[0]=a[1]=o[0]=o[1]=0),this._rect=new n(a[0],a[1],o[0]-a[0],o[1]-a[1])},contain:function(e){var t=this.getBoundingRect(),a=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var n=0,i=a.length;n<i;n++)if("polygon"===a[n].type){var r=a[n].exterior,s=a[n].interiors;if(o.contain(r,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(o.contain(s[l]))continue e;return!0}}return!1},transformTo:function(e,t,a,i){var o=this.getBoundingRect(),s=o.width/o.height;a?i||(i=a/s):a=s*i;for(var l=new n(e,t,a,i),c=o.calculateTransform(l),u=this.geometries,d=0;d<u.length;d++)if("polygon"===u[d].type){for(var p=u[d].exterior,h=u[d].interiors,f=0;f<p.length;f++)r.applyTransform(p[f],p[f],c);for(var g=0;g<(h?h.length:0);g++)for(f=0;f<h[g].length;f++)r.applyTransform(h[g][f],h[g][f],c)}o=this._rect,o.copy(l),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(e){null==e&&(e=this.name);var t=new s(e,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}};var l=s;e.exports=l},f38d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"match-api"},[e.disabled?e._e():a("el-button",{attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.documentVisible=!0}}},[e._v("添加")]),a("el-form",{ref:"form",attrs:{disabled:e.disabled,size:"small","label-width":"60px"}},[0===e.documentList.length?a("avue-empty"):a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.fistLoading,expression:"fistLoading"}],ref:"tabs",staticClass:"api-tab",attrs:{"tab-position":"left",closable:!e.disabled},on:{"tab-remove":e.removeTab},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.documentList,(function(t){return a("el-tab-pane",{key:t.id,ref:"tabPane",refInFor:!0,attrs:{label:t.name,name:t.id,disabled:e.fistLoading||e.apiLoading}},[a("span",{staticClass:"tab-pane-title",attrs:{slot:"label",title:t.name},slot:"label"},[e._v(e._s(t.name))]),a("div",{staticClass:"tab-con"},[a("div",{staticClass:"interface-table"},[a("div",{staticClass:"key-tips"},[e._v("请勾选文档集包含的接口")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.apiLoading,expression:"apiLoading"}],ref:"multipleTable",refInFor:!0,staticStyle:{width:"100%"},attrs:{border:"",data:e.openDocApis,"tooltip-effect":"dark",size:"small","row-key":function(e){return e.path+"_"+e.method}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"接口名称",prop:"name"}}),a("el-table-column",{attrs:{label:"API路径",prop:"path"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(" "+e._s(a.path)+" ")]}}],null,!0)}),a("el-table-column",{attrs:{label:"请求方法",prop:"method"}})],1)],1)])])})),1)],1),e.documentVisible?a("documentDialog",{attrs:{visible:e.documentVisible},on:{changeDrawer:function(t){e.documentVisible=!1},emitData:e.changeDocumentList}}):e._e()],1)},i=[],r=(a("456d"),a("ffc1"),a("20d6"),a("8615"),a("5df3"),a("7f7f"),a("ac6a"),a("c5f6"),a("3ec6")),o=a("52f7"),s=a("c54a"),l={name:"api",components:{documentDialog:r["default"]},props:{disabled:{type:Boolean,defaut:!1},data:{type:Array,default:function(){return[]}},isPair:{type:Number,default:1}},data:function(){return{multipleSelection:[],openDocApis:[],documentList:[],activeTab:"",openDocs:{},documentVisible:!1,apiLoading:!1,allDocs:{},fistLoading:!1,isUpdateData:!0}},watch:{activeTab:function(e){if(this.allDocs[e]&&this.openDocs[e]){var t=this.allDocs[e];this.openDocApis=t,this.syncData(e);var a=this.openDocs[e].openDocApis;this.setColumnSelect(a)}else e&&this.getDocumentDetail()},data:{deep:!0,immediate:!0,handler:function(e){var t=this;if(this.documentList=[],e.forEach((function(e){t.documentList.push({id:e.openDocId,name:e.openDocName}),t.openDocs[e.openDocId]={openDocApis:e.openDocApis,openDocId:e.openDocId,apiAuthId:e.apiAuthId,service:e.service,id:e.id||void 0}})),this.documentList.length>0&&this.isUpdateData&&this.documentList[0].name){var a=[];this.documentList.forEach((function(e){a.push(t.getDocumentDetail(e.id))})),this.fistLoading=!0,Promise.all(a).then((function(){t.fistLoading=!1,t.activeTab=t.documentList[0].id})).catch((function(){t.fistLoading=!1,t.activeTab=t.documentList[0].id})),this.isUpdateData=!1}}}},methods:{handleSelectionChange:function(e){this.multipleSelection=e,this.openDocs[this.activeTab].openDocApis=e},handleData:function(){var e=this,t=[];return Object.values(this.openDocs).forEach((function(a){if(a.openDocId){var n=[];a.openDocApis.forEach((function(e){n.push({method:e.method,path:e.path})})),t.push({apiAuthId:e.isPair?a.apiAuthId:void 0,id:a.id||void 0,openDocApis:n,openDocId:a.openDocId})}})),t},changeDocumentList:function(e){var t=this;e.forEach((function(e){var a=t.documentList.findIndex((function(t){return e.id===t.id}));-1===a&&t.documentList.push(e)}));var a=[];this.documentList.forEach((function(e){t.allDocs[e.id]&&!t.openDocs[e.id]?t.openDocs[e.id]={openDocApis:t.allDocs[e.id].filter((function(e){return e.isShow})),openDocId:e.id}:t.openDocs[e.id]||a.push(t.getDocumentDetail(e.id))})),a.length>0&&(this.fistLoading=!0,Promise.all(a).then((function(){t.fistLoading=!1})).catch((function(){t.fistLoading=!1}))),""===this.activeTab&&this.documentList.length>0&&(this.activeTab=this.documentList[0].id)},getDocumentDetail:function(e){var t=this;return e||(this.apiLoading=!0,this.openDocApis=[]),Object(o["b"])(e||this.activeTab).then((function(a){if(200!==a.data.code)return t.$message.error(a.data.msg||"获取数据失败！"),void(t.apiLoading=!1);var n=a.data.data,i=JSON.parse(n.content||"{}");n.openDocApis=t.renderPathAndMethod(i,n.openDocApis),t.allDocs[e||t.activeTab]=n.openDocApis,e||(t.openDocApis=n.openDocApis);var r=[];t.openDocs[e||t.activeTab]?(t.syncData(e||t.activeTab),e||(r=t.openDocs[t.activeTab].openDocApis,t.setColumnSelect(r))):(n.openDocApis.forEach((function(e){e.isShow&&r.push(e)})),t.openDocs[e||t.activeTab]={openDocApis:r,openDocId:n.id}),t.apiLoading=!1}),(function(){t.apiLoading=!1}))},syncData:function(e){var t=this,a=[];return this.openDocs[e].openDocApis.forEach((function(n){var i=t.allDocs[e].findIndex((function(e){return"".concat(e.path,"_").concat(e.method)==="".concat(n.path,"_").concat(n.method)}));i>-1&&a.push(t.allDocs[e][i])})),this.openDocs[e].openDocApis=a},renderPathAndMethod:function(e,t){var a=[];return!Object(s["o"])(e)&&e.paths&&Object.entries(e.paths).forEach((function(e){Object.entries(e[1]).forEach((function(n){var i=t.findIndex((function(t){var a=JSON.parse(t.content).curJson,i=Object.keys(a).filter((function(e){return"path"!==e}))[0];return"".concat(i,"_").concat(a.path)==="".concat(n[0],"_").concat(e[0])}));i>-1&&a.push(Object.assign(t[i],{path:e[0],method:n[0],name:n[1].summary}))}))})),a},setColumnSelect:function(e,t){var a=this;this.$nextTick((function(){var n=a.documentList.findIndex((function(e){return e.id===a.activeTab}))||0;t?a.$refs.multipleTable[n]&&a.$refs.multipleTable[n].toggleAllSelection():a.openDocApis.forEach((function(t){var i=e.findIndex((function(e){return e.path+"_"+e.method===t.path+"_"+t.method}));a.$refs.multipleTable[n]&&a.$refs.multipleTable[n].toggleRowSelection(t,i>-1)}))}))},emitData:function(){this.$emit("update:data",this.handleData()),this.isUpdateData=!0},validate:function(){var e=this,t=[];return this.documentList.forEach((function(a){e.openDocs[a.id]&&0===e.openDocs[a.id].openDocApis.length&&t.push(a.name)})),new Promise((function(a,n){t.length>0?n("【".concat(t.join("、"),"】文档的接口列表不能为空！")):0===e.documentList.length?n("请选择文档！"):a()}))},removeTab:function(e){var t=this.documentList.findIndex((function(t){return t.id===e})),a=this.documentList[t].id;delete this.openDocs[a],this.documentList.splice(t,1),this.documentList.length>0&&this.activeTab===a&&(this.activeTab=this.documentList[0].id),0===this.documentList.length&&(this.activeTab="")}}},c=l,u=(a("effc"),a("ffc2"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"27125560",null);t["default"]=d.exports},f3c1:function(e,t){var a=800,n=16,i=Date.now;function r(e){var t=0,r=0;return function(){var o=i(),s=n-(o-r);if(r=o,s>0){if(++t>=a)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=r},f458:function(e,t,a){"use strict";a("9d9e")},f47d:function(e,t,a){var n=a("6d8b"),i=(n.assert,n.isArray),r=a("4e08");r.__DEV__;function o(e){return new s(e)}function s(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var l=s.prototype;l.perform=function(e){var t,a=this._upstream,n=e&&e.skip;if(this._dirty&&a){var r=this.context;r.data=r.outputData=a.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(t=this._plan(this.context));var o,s=h(this._modBy),l=this._modDataCount||0,c=h(e&&e.modBy),p=e&&e.modDataCount||0;function h(e){return!(e>=1)&&(e=1),e}s===c&&l===p||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,o=d(this,n)),this._modBy=c,this._modDataCount=p;var f=e&&e.step;if(this._dueEnd=a?a._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var g=this._dueIndex,m=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(o||g<m)){var b=this._progress;if(i(b))for(var v=0;v<b.length;v++)u(this,b[v],g,m,c,p);else u(this,b,g,m,c,p)}this._dueIndex=m;var y=null!=this._settedOutputEnd?this._settedOutputEnd:m;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var c=function(){var e,t,a,n,i,r={reset:function(l,c,u,d){t=l,e=c,a=u,n=d,i=Math.ceil(n/a),r.next=a>1&&n>0?s:o}};return r;function o(){return t<e?t++:null}function s(){var r=t%i*a+Math.ceil(t/i),o=t>=e?null:r<n?r:t;return t++,o}}();function u(e,t,a,n,i,r){c.reset(a,n,i,r),e._callingProgress=t,e._callingProgress({start:a,end:n,count:n-a,next:c.next},e.context)}function d(e,t){var a,n;e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null,!t&&e._reset&&(a=e._reset(e.context),a&&a.progress&&(n=a.forceFirstProgress,a=a.progress),i(a)&&!a.length&&(a=null)),e._progress=a,e._modBy=e._modDataCount=null;var r=e._downstream;return r&&r.dirty(),n}l.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},l.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},l.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},l.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},l.getUpstream=function(){return this._upstream},l.getDownstream=function(){return this._downstream},l.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t.createTask=o},f4d9:function(e,t){var a="\\ud800-\\udfff",n="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=n+i+r,s="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",c="\\xac\\xb1\\xd7\\xf7",u="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d="\\u2000-\\u206f",p=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",h="A-Z\\xc0-\\xd6\\xd8-\\xde",f="\\ufe0e\\ufe0f",g=c+u+d+p,m="['’]",b="["+g+"]",v="["+o+"]",y="\\d+",w="["+s+"]",_="["+l+"]",x="[^"+a+g+y+s+l+h+"]",O="\\ud83c[\\udffb-\\udfff]",D="(?:"+v+"|"+O+")",C="[^"+a+"]",k="(?:\\ud83c[\\udde6-\\uddff]){2}",S="[\\ud800-\\udbff][\\udc00-\\udfff]",j="["+h+"]",P="\\u200d",T="(?:"+_+"|"+x+")",I="(?:"+j+"|"+x+")",L="(?:"+m+"(?:d|ll|m|re|s|t|ve))?",z="(?:"+m+"(?:D|LL|M|RE|S|T|VE))?",$=D+"?",M="["+f+"]?",E="(?:"+P+"(?:"+[C,k,S].join("|")+")"+M+$+")*",A="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",R="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",q=M+$+E,B="(?:"+[w,k,S].join("|")+")"+q,F=RegExp([j+"?"+_+"+"+L+"(?="+[b,j,"$"].join("|")+")",I+"+"+z+"(?="+[b,j+T,"$"].join("|")+")",j+"?"+T+"+"+L,j+"+"+z,R,A,y,B].join("|"),"g");function N(e){return e.match(F)||[]}e.exports=N},f6d3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"api-detail-response"},[a("el-form",{ref:"form",attrs:{size:"small",model:e.response,rules:e.rules}},[a("el-form-item",{staticClass:"http-status",attrs:{label:"HTTP状态码",prop:"httpStatus"}},[a("el-form-item",{staticClass:"http-status-col",attrs:{prop:"httpStatus.type"}},[a("el-select",{attrs:{placeholder:"固定值/引用值/函数",clearable:"",disabled:e.disabled},on:{change:function(t){return e.dataTypeChange(e.response.httpStatus.type)}},model:{value:e.response.httpStatus.type,callback:function(t){e.$set(e.response.httpStatus,"type",t)},expression:"response.httpStatus.type"}},e._l(e.httpStatus_type,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"fixed"===e.response.httpStatus.type?a("el-form-item",{staticClass:"http-status-col http-status-value",attrs:{prop:"httpStatus.value","show-message":!1}},[a("el-select",{attrs:{clearable:"",disabled:e.disabled},model:{value:e.response.httpStatus.value,callback:function(t){e.$set(e.response.httpStatus,"value",t)},expression:"response.httpStatus.value"}},e._l(e.httpStatus,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),"ref"===e.response.httpStatus.type?a("el-form-item",{staticClass:"http-status-col http-status-value",attrs:{prop:"httpStatus.value","show-message":!1}},[a("el-input",{attrs:{placeholder:"请输入字段值(必填)",disabled:e.disabled},model:{value:e.response.httpStatus.value,callback:function(t){e.$set(e.response.httpStatus,"value",t)},expression:"response.httpStatus.value"}}),a("quote-tooltip",{staticClass:"quote-tooltip"})],1):e._e(),"func"===e.response.httpStatus.type?a("el-form-item",{staticClass:"http-status-col http-status-value",attrs:{prop:"httpStatus.value","show-message":!1}},[a("el-input",{attrs:{placeholder:"请输入字段值(必填)",disabled:e.disabled},model:{value:e.response.httpStatus.value,callback:function(t){e.$set(e.response.httpStatus,"value",t)},expression:"response.httpStatus.value"}}),a("div",{staticClass:"fun-desc"},[e._v("函数列表请参考： \n                "),a("el-link",{staticClass:"link",attrs:{type:"primary",href:"https://www.fizzgate.com/guide/aggregate/function.html",target:"_blank"}},[e._v("函数文档")])],1)],1):e._e()],1),a("data-params",e._b({attrs:{"header-name":"响应头","body-name":"响应体","has-query":!1,data:e.response,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){e.response=t}}},"data-params",e.$attrs,!1),[a("template",{slot:"body"},[a("el-form-item",{attrs:{label:"内容类型",prop:"contentType"}},[a("el-radio-group",{model:{value:e.response.contentType,callback:function(t){e.$set(e.response,"contentType",t)},expression:"response.contentType"}},[a("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),a("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"application/xml"===e.response.contentType,expression:"response.contentType === 'application/xml'"}],staticClass:"key-tips"},[e._v("\n                按JSON配置，网关会把JSON转换为XML，请参考\n                "),a("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("XML和JSON间的转换规则")])],1)],1)],1)],2)],1),a("xml-info",{attrs:{visible:e.xmlInoVisible},on:{"update:visible":function(t){e.xmlInoVisible=t}}})],1)},i=[],r=(a("96cf"),a("1da1")),o=a("942a"),s=a("921f"),l=a("e683"),c=a("cc38"),u={name:"api-detail-response",data:function(){return{response:{httpStatus:{value:200,type:"fixed",fixedDataType:"number"}},xmlInoVisible:!1,httpStatus_type:l["e"],httpStatus:l["d"],rules:{"httpStatus.type":[{required:!0,message:"必填"}],"httpStatus.value":[{required:!0,message:"必填",trigger:"blur"}]}}},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}},isDelScriptWithHttp:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},computed:{dataObj:function(){return{response:this.response}}},components:{dataParams:o["default"],xmlInfo:s["default"],quoteTooltip:c["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.initData(e)}},dataObj:{deep:!0,handler:function(){this.emitData()}}},methods:{emitData:function(){this.$emit("update:data",this.dataObj)},initData:function(e){e=e||this.data,this.response=e&&e.response||{},this.response.httpStatus||(this.response.httpStatus={value:200,type:"fixed",fixedDataType:"number"}),this.response.contentType||(this.response.contentType="application/json")},dataTypeChange:function(e){var t=this;delete this.response.httpStatus.fixedDataType,delete this.response.httpStatus.refDataType,"fixed"===e?(this.response.httpStatus.value=200,this.response.httpStatus.fixedDataType="number"):"ref"===e?(this.response.httpStatus.value="",this.response.httpStatus.refDataType="int"):this.$set(this.response.httpStatus,"value",""),this.$nextTick((function(){t.$refs.form.clearValidate()}))},validate:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.emitData(),t=!0,a="",e.next=5,this.$refs.form.validate((function(e){e||(t=!1,a="请完善配置输出！")}));case 5:return t&&"func"===this.response.httpStatus.type&&"fn."!==this.response.httpStatus.value.substring(0,3)&&(t=!1,a='HTTP状态码: 函数类型的字段值应该以 "fn." 开头!'),e.abrupt("return",{validate:t,message:a});case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},d=u,p=(a("8e9c"),a("2877")),h=Object(p["a"])(d,n,i,!1,null,"ef268530",null);t["default"]=h.exports},f706:function(e,t,a){var n=a("2306"),i=a("1418"),r=a("6d8b"),o=r.isObject;function s(e){this.group=new n.Group,this._symbolCtor=e||i}var l=s.prototype;function c(e,t,a,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(a))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(a,"symbol")}function u(e){return null==e||o(e)||(e={isIgnore:e}),e||{}}function d(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}l.updateData=function(e,t){t=u(t);var a=this.group,i=e.hostModel,r=this._data,o=this._symbolCtor,s=d(e);r||a.removeAll(),e.diff(r).add((function(n){var i=e.getItemLayout(n);if(c(e,i,n,t)){var r=new o(e,n,s);r.attr("position",i),e.setItemGraphicEl(n,r),a.add(r)}})).update((function(l,u){var d=r.getItemGraphicEl(u),p=e.getItemLayout(l);c(e,p,l,t)?(d?(d.updateData(e,l,s),n.updateProps(d,{position:p},i)):(d=new o(e,l),d.attr("position",p)),a.add(d),e.setItemGraphicEl(l,d)):a.remove(d)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&t.fadeOut((function(){a.remove(t)}))})).execute(),this._data=e},l.isPersistent=function(){return!0},l.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl((function(t,a){var n=e.getItemLayout(a);t.attr("position",n)}))},l.incrementalPrepareUpdate=function(e){this._seriesScope=d(e),this._data=null,this.group.removeAll()},l.incrementalUpdate=function(e,t,a){function n(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}a=u(a);for(var i=e.start;i<e.end;i++){var r=t.getItemLayout(i);if(c(t,r,i,a)){var o=new this._symbolCtor(t,i,this._seriesScope);o.traverse(n),o.attr("position",r),this.group.add(o),t.setItemGraphicEl(i,o)}}},l.remove=function(e){var t=this.group,a=this._data;a&&e?a.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}))})):t.removeAll()};var p=s;e.exports=p},f72d:function(e,t,a){"use strict";a("ed02")},f7b7:function(e,t,a){"use strict";a("0dda")},f84e:function(e,t,a){},f8af:function(e,t,a){var n=a("2474");function i(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}e.exports=i},f909:function(e,t,a){var n=a("7e64"),i=a("b760"),r=a("72af"),o=a("4f50"),s=a("1a8c"),l=a("9934"),c=a("8adb");function u(e,t,a,d,p){e!==t&&r(t,(function(r,l){if(p||(p=new n),s(r))o(e,t,l,a,u,d,p);else{var h=d?d(c(e,l),r,l+"",e,t,p):void 0;void 0===h&&(h=r),i(e,l,h)}}),l)}e.exports=u},f934:function(e,t,a){var n=a("6d8b"),i=a("9850"),r=a("3842"),o=r.parsePercent,s=a("eda2"),l=n.each,c=["left","right","top","bottom","width","height"],u=[["width","left","right"],["height","top","bottom"]];function d(e,t,a,n,i){var r=0,o=0;null==n&&(n=1/0),null==i&&(i=1/0);var s=0;t.eachChild((function(l,c){var u,d,p=l.position,h=l.getBoundingRect(),f=t.childAt(c+1),g=f&&f.getBoundingRect();if("horizontal"===e){var m=h.width+(g?-g.x+h.x:0);u=r+m,u>n||l.newline?(r=0,u=m,o+=s+a,s=h.height):s=Math.max(s,h.height)}else{var b=h.height+(g?-g.y+h.y:0);d=o+b,d>i||l.newline?(r+=s+a,o=0,d=b,s=h.width):s=Math.max(s,h.width)}l.newline||(p[0]=r,p[1]=o,"horizontal"===e?r=u+a:o=d+a)}))}var p=d,h=n.curry(d,"vertical"),f=n.curry(d,"horizontal");function g(e,t,a){var n=t.width,i=t.height,r=o(e.x,n),l=o(e.y,i),c=o(e.x2,n),u=o(e.y2,i);return(isNaN(r)||isNaN(parseFloat(e.x)))&&(r=0),(isNaN(c)||isNaN(parseFloat(e.x2)))&&(c=n),(isNaN(l)||isNaN(parseFloat(e.y)))&&(l=0),(isNaN(u)||isNaN(parseFloat(e.y2)))&&(u=i),a=s.normalizeCssArray(a||0),{width:Math.max(c-r-a[1]-a[3],0),height:Math.max(u-l-a[0]-a[2],0)}}function m(e,t,a){a=s.normalizeCssArray(a||0);var n=t.width,r=t.height,l=o(e.left,n),c=o(e.top,r),u=o(e.right,n),d=o(e.bottom,r),p=o(e.width,n),h=o(e.height,r),f=a[2]+a[0],g=a[1]+a[3],m=e.aspect;switch(isNaN(p)&&(p=n-u-g-l),isNaN(h)&&(h=r-d-f-c),null!=m&&(isNaN(p)&&isNaN(h)&&(m>n/r?p=.8*n:h=.8*r),isNaN(p)&&(p=m*h),isNaN(h)&&(h=p/m)),isNaN(l)&&(l=n-u-p-g),isNaN(c)&&(c=r-d-h-f),e.left||e.right){case"center":l=n/2-p/2-a[3];break;case"right":l=n-p-g;break}switch(e.top||e.bottom){case"middle":case"center":c=r/2-h/2-a[0];break;case"bottom":c=r-h-f;break}l=l||0,c=c||0,isNaN(p)&&(p=n-g-l-(u||0)),isNaN(h)&&(h=r-f-c-(d||0));var b=new i(l+a[3],c+a[0],p,h);return b.margin=a,b}function b(e,t,a,r,o){var s=!o||!o.hv||o.hv[0],l=!o||!o.hv||o.hv[1],c=o&&o.boundingMode||"all";if(s||l){var u;if("raw"===c)u="group"===e.type?new i(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var d=e.getLocalTransform();u=u.clone(),u.applyTransform(d)}t=m(n.defaults({width:u.width,height:u.height},t),a,r);var p=e.position,h=s?t.x-u.x:0,f=l?t.y-u.y:0;e.attr("position","raw"===c?[h,f]:[p[0]+h,p[1]+f])}}function v(e,t){return null!=e[u[t][0]]||null!=e[u[t][1]]&&null!=e[u[t][2]]}function y(e,t,a){!n.isObject(a)&&(a={});var i=a.ignoreSize;!n.isArray(i)&&(i=[i,i]);var r=s(u[0],0),o=s(u[1],1);function s(a,n){var r={},o=0,s={},u=0,p=2;if(l(a,(function(t){s[t]=e[t]})),l(a,(function(e){c(t,e)&&(r[e]=s[e]=t[e]),d(r,e)&&o++,d(s,e)&&u++})),i[n])return d(t,a[1])?s[a[2]]=null:d(t,a[2])&&(s[a[1]]=null),s;if(u!==p&&o){if(o>=p)return r;for(var h=0;h<a.length;h++){var f=a[h];if(!c(r,f)&&c(e,f)){r[f]=e[f];break}}return r}return s}function c(e,t){return e.hasOwnProperty(t)}function d(e,t){return null!=e[t]&&"auto"!==e[t]}function p(e,t,a){l(e,(function(e){t[e]=a[e]}))}p(u[0],e,r),p(u[1],e,o)}function w(e){return _({},e)}function _(e,t){return t&&e&&l(c,(function(a){t.hasOwnProperty(a)&&(e[a]=t[a])})),e}t.LOCATION_PARAMS=c,t.HV_NAMES=u,t.box=p,t.vbox=h,t.hbox=f,t.getAvailableSize=g,t.getLayoutRect=m,t.positionElement=b,t.sizeCalculable=v,t.mergeLayoutParam=y,t.getLayoutParams=w,t.copyLayoutParams=_},f982:function(e,t,a){},f9e9:function(e,t,a){},fa21:function(e,t,a){var n=a("7530"),i=a("2dcb"),r=a("eac5");function o(e){return"function"!=typeof e.constructor||r(e)?{}:n(i(e))}e.exports=o},fa97:function(e,t,a){"use strict";a("421d")},faa8:function(e,t,a){"use strict";a("179e")},fab22:function(e,t,a){var n=a("6d8b"),i=n.retrieve,r=n.defaults,o=n.extend,s=n.each,l=a("eda2"),c=a("2306"),u=a("4319"),d=a("3842"),p=d.isRadianAroundZero,h=d.remRadian,f=a("a15a"),g=f.createSymbol,m=a("1687"),b=a("401b"),v=b.applyTransform,y=a("697e"),w=y.shouldShowAllLabels,_=Math.PI,x=function(e,t){this.opt=t,this.axisModel=e,r(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new c.Group;var a=new c.Group({position:t.position.slice(),rotation:t.rotation});a.updateTransform(),this._transform=a.transform,this._dumbGroup=a};x.prototype={constructor:x,hasBuilder:function(e){return!!O[e]},add:function(e){O[e].call(this)},getGroup:function(){return this.group}};var O={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var a=this.axisModel.axis.getExtent(),n=this._transform,i=[a[0],0],r=[a[1],0];n&&(v(i,i,n),v(r,r,n));var l=o({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new c.Line({anid:"line",subPixelOptimize:!0,shape:{x1:i[0],y1:i[1],x2:r[0],y2:r[1]},style:l,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var u=t.get("axisLine.symbol"),d=t.get("axisLine.symbolSize"),p=t.get("axisLine.symbolOffset")||0;if("number"===typeof p&&(p=[p,p]),null!=u){"string"===typeof u&&(u=[u,u]),"string"!==typeof d&&"number"!==typeof d||(d=[d,d]);var h=d[0],f=d[1];s([{rotate:e.rotation+Math.PI/2,offset:p[0],r:0},{rotate:e.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}],(function(t,a){if("none"!==u[a]&&null!=u[a]){var n=g(u[a],-h/2,-f/2,h,f,l.stroke,!0),r=t.r+t.offset,o=[i[0]+r*Math.cos(e.rotation),i[1]-r*Math.sin(e.rotation)];n.attr({rotation:t.rotate,position:o,silent:!0,z2:11}),this.group.add(n)}}),this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,a=z(this,e,t),n=M(this,e,t);j(e,n,a),$(this,e,t)},axisName:function(){var e=this.opt,t=this.axisModel,a=i(e.axisName,t.get("name"));if(a){var n,r,s=t.get("nameLocation"),u=e.nameDirection,d=t.getModel("nameTextStyle"),p=t.get("nameGap")||0,h=this.axisModel.axis.getExtent(),f=h[0]>h[1]?-1:1,g=["start"===s?h[0]-f*p:"end"===s?h[1]+f*p:(h[0]+h[1])/2,I(s)?e.labelOffset+u*p:0],m=t.get("nameRotate");null!=m&&(m=m*_/180),I(s)?n=C(e.rotation,null!=m?m:e.rotation,u):(n=k(e,s,m||0,h),r=e.axisNameAvailableWidth,null!=r&&(r=Math.abs(r/Math.sin(n.rotation)),!isFinite(r)&&(r=null)));var b=d.getFont(),v=t.get("nameTruncate",!0)||{},y=v.ellipsis,w=i(e.nameTruncateMaxWidth,v.maxWidth,r),x=null!=y&&null!=w?l.truncateText(a,w,b,y,{minChar:2,placeholder:v.placeholder}):a,O=t.get("tooltip",!0),j=t.mainType,P={componentType:j,name:a,$vars:["name"]};P[j+"Index"]=t.componentIndex;var T=new c.Text({anid:"name",__fullText:a,__truncatedText:x,position:g,rotation:n.rotation,silent:S(t),z2:1,tooltip:O&&O.show?o({content:a,formatter:function(){return a},formatterParams:P},O):null});c.setTextStyle(T.style,d,{text:x,textFont:b,textFill:d.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:d.get("align")||n.textAlign,textVerticalAlign:d.get("verticalAlign")||n.textVerticalAlign}),t.get("triggerEvent")&&(T.eventData=D(t),T.eventData.targetType="axisName",T.eventData.name=a),this._dumbGroup.add(T),T.updateTransform(),this.group.add(T),T.decomposeTransform()}}},D=x.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},C=x.innerTextLayout=function(e,t,a){var n,i,r=h(t-e);return p(r)?(i=a>0?"top":"bottom",n="center"):p(r-_)?(i=a>0?"bottom":"top",n="center"):(i="middle",n=r>0&&r<_?a>0?"right":"left":a>0?"left":"right"),{rotation:r,textAlign:n,textVerticalAlign:i}};function k(e,t,a,n){var i,r,o=h(a-e.rotation),s=n[0]>n[1],l="start"===t&&!s||"start"!==t&&s;return p(o-_/2)?(r=l?"bottom":"top",i="center"):p(o-1.5*_)?(r=l?"top":"bottom",i="center"):(r="middle",i=o<1.5*_&&o>_/2?l?"left":"right":l?"right":"left"),{rotation:o,textAlign:i,textVerticalAlign:r}}var S=x.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};function j(e,t,a){if(!w(e.axis)){var n=e.get("axisLabel.showMinLabel"),i=e.get("axisLabel.showMaxLabel");t=t||[],a=a||[];var r=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],c=a[0],u=a[1],d=a[a.length-1],p=a[a.length-2];!1===n?(P(r),P(c)):T(r,o)&&(n?(P(o),P(u)):(P(r),P(c))),!1===i?(P(s),P(d)):T(l,s)&&(i?(P(l),P(p)):(P(s),P(d)))}}function P(e){e&&(e.ignore=!0)}function T(e,t,a){var n=e&&e.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(n&&i){var r=m.identity([]);return m.rotate(r,r,-e.rotation),n.applyTransform(m.mul([],r,e.getLocalTransform())),i.applyTransform(m.mul([],r,t.getLocalTransform())),n.intersect(i)}}function I(e){return"middle"===e||"center"===e}function L(e,t,a,n,i){for(var r=[],o=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=a,t&&(v(o,o,t),v(s,s,t));var d=new c.Line({anid:i+"_"+e[l].tickValue,subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,silent:!0});r.push(d)}return r}function z(e,t,a){var n=t.axis,i=t.getModel("axisTick");if(i.get("show")&&!n.scale.isBlank()){for(var o=i.getModel("lineStyle"),s=a.tickDirection*i.get("length"),l=n.getTicksCoords(),c=L(l,e._transform,s,r(o.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),"ticks"),u=0;u<c.length;u++)e.group.add(c[u]);return c}}function $(e,t,a){var n=t.axis,i=t.getModel("minorTick");if(i.get("show")&&!n.scale.isBlank()){var o=n.getMinorTicksCoords();if(o.length)for(var s=i.getModel("lineStyle"),l=a.tickDirection*i.get("length"),c=r(s.getLineStyle(),r(t.getModel("axisTick").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})),u=0;u<o.length;u++)for(var d=L(o[u],e._transform,l,c,"minorticks_"+u),p=0;p<d.length;p++)e.group.add(d[p])}}function M(e,t,a){var n=t.axis,r=i(a.axisLabelShow,t.get("axisLabel.show"));if(r&&!n.scale.isBlank()){var o=t.getModel("axisLabel"),l=o.get("margin"),d=n.getViewLabels(),p=(i(a.labelRotate,o.get("rotate"))||0)*_/180,h=C(a.rotation,p,a.labelDirection),f=t.getCategories&&t.getCategories(!0),g=[],m=S(t),b=t.get("triggerEvent");return s(d,(function(i,r){var s=i.tickValue,d=i.formattedLabel,p=i.rawLabel,v=o;f&&f[s]&&f[s].textStyle&&(v=new u(f[s].textStyle,o,t.ecModel));var y=v.getTextColor()||t.get("axisLine.lineStyle.color"),w=n.dataToCoord(s),_=[w,a.labelOffset+a.labelDirection*l],x=new c.Text({anid:"label_"+s,position:_,rotation:h.rotation,silent:m,z2:10});c.setTextStyle(x.style,v,{text:d,textAlign:v.getShallow("align",!0)||h.textAlign,textVerticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||h.textVerticalAlign,textFill:"function"===typeof y?y("category"===n.type?p:"value"===n.type?s+"":s,r):y}),b&&(x.eventData=D(t),x.eventData.targetType="axisLabel",x.eventData.value=p),e._dumbGroup.add(x),x.updateTransform(),g.push(x),e.group.add(x),x.decomposeTransform()})),g}}var E=x;e.exports=E},fb05:function(e,t,a){var n=a("6d8b"),i=n.each,r=n.isArray,o=n.isObject,s=a("26e1"),l=a("e0d3"),c=l.normalizeToArray;function u(e,t){t=t.split(",");for(var a=e,n=0;n<t.length;n++)if(a=a&&a[t[n]],null==a)break;return a}function d(e,t,a,n){t=t.split(",");for(var i,r=e,o=0;o<t.length-1;o++)i=t[o],null==r[i]&&(r[i]={}),r=r[i];(n||null==r[t[o]])&&(r[t[o]]=a)}function p(e){i(h,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}var h=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],f=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function g(e,t){s(e,t),e.series=c(e.series),i(e.series,(function(e){if(o(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t)null!=e.clockWise&&(e.clockwise=e.clockWise);else if("gauge"===t){var a=u(e,"pointer.color");null!=a&&d(e,"itemStyle.color",a)}p(e)}})),e.dataRange&&(e.visualMap=e.dataRange),i(f,(function(t){var a=e[t];a&&(r(a)||(a=[a]),i(a,(function(e){p(e)})))}))}e.exports=g},fb24:function(e,t,a){},fba5:function(e,t,a){var n=a("cb5a");function i(e){return n(this.__data__,e)>-1}e.exports=i},fba9:function(e,t,a){},fcb7:function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return f}));a("8e6e"),a("ac6a"),a("456d");var n=a("ade3"),i=a("b5c6"),r=a("da71");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=function(e,t){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/lazy-list"),method:"get",params:s(s({},t),{},{parentId:e})})},c=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/remove"),method:"post",params:{ids:e}})},u=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/submit"),method:"post",data:e})},d=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/submit"),method:"post",data:e})},p=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/detail"),method:"get",params:{id:e}})},h=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/tree"),method:"get",params:{tenantId:e}})},f=function(e){return Object(i["a"])({url:"".concat(r["a"],"/blade-system/dept/lazy-tree"),method:"get",params:{parentId:e}})}},fcd9:function(e,t,a){"use strict";a("7325")},fd18:function(e,t,a){},fd63:function(e,t,a){var n=a("42e5"),i=a("6d8b"),r=i.isFunction,o={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var a=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),o=e.get(i),s=!r(o)||o instanceof n?null:o;o&&!s||(o=e.getColorFromPalette(e.name,null,t.getSeriesCount())),a.setVisual("color",o);var l=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),c=e.get(l);if(a.setVisual("borderColor",c),!t.isSeriesFiltered(e)){s&&a.each((function(t){a.setItemVisual(t,"color",s(e.getDataParams(t)))}));var u=function(e,t){var a=e.getItemModel(t),n=a.get(i,!0),r=a.get(l,!0);null!=n&&e.setItemVisual(t,"color",n),null!=r&&e.setItemVisual(t,"borderColor",r)};return{dataEach:a.hasItemOption?u:null}}}};e.exports=o},fd89:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"add-component"},[a("add-component",{attrs:{data:e.requestForm.components,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm,"components",t)}}})],1),a("el-form",{ref:"requestForm",staticClass:"request-item-form",attrs:{size:"small",model:e.requestForm,rules:e.rules,disabled:e.disabled,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"接口类型",prop:"type",required:""}},[a("el-radio-group",{on:{change:e.handleTypeChange},model:{value:e.requestForm.type,callback:function(t){e.$set(e.requestForm,"type",t)},expression:"requestForm.type"}},[a("el-radio",{attrs:{label:"REQUEST"}},[e._v("RESTful")]),a("el-radio",{attrs:{label:"DUBBO"}},[e._v("Dubbo")]),a("el-radio",{attrs:{label:"GRPC"}},[e._v("gRPC")])],1)],1),"DUBBO"===e.requestForm.type||"GRPC"===e.requestForm.type?[a("el-form-item",{key:"serviceName",attrs:{label:"服务名",prop:"serviceName"}},[a("el-input",{staticStyle:{width:"50%","margin-right":"10px"},attrs:{placeholder:"请选择接口",disabled:""},model:{value:e.requestForm.serviceName,callback:function(t){e.$set(e.requestForm,"serviceName",t)},expression:"requestForm.serviceName"}}),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showRpcSelector=!0}}},[e._v("选择接口")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.showRpcAdd=!0}}},[e._v("新增接口")])],1),a("el-form-item",{key:"method",attrs:{label:"方法名",prop:"method"}},[a("el-input",{attrs:{disabled:""},model:{value:e.requestForm.method,callback:function(t){e.$set(e.requestForm,"method",t)},expression:"requestForm.method"}})],1),"DUBBO"===e.requestForm.type?[a("el-form-item",{attrs:{label:"版本",prop:"version"}},[a("el-input",{attrs:{disabled:""},model:{value:e.requestForm.version,callback:function(t){e.$set(e.requestForm,"version",t)},expression:"requestForm.version"}}),a("span",{staticClass:"key-tips"},[e._v("Dubbo服务的版本号")])],1),a("el-form-item",{attrs:{label:"分组",prop:"group"}},[a("el-input",{attrs:{disabled:""},model:{value:e.requestForm.group,callback:function(t){e.$set(e.requestForm,"group",t)},expression:"requestForm.group"}}),a("span",{staticClass:"key-tips"},[e._v("Dubbo服务的分组")])],1),a("el-form-item",{attrs:{label:"参数类型",prop:"paramTypes"}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.requestForm.paramTypes,callback:function(t){e.$set(e.requestForm,"paramTypes",t)},expression:"requestForm.paramTypes"}})],1)]:e._e()]:[a("el-form-item",{key:"method",attrs:{label:"请求方法",prop:"method"}},[a("el-select",{attrs:{placeholder:"请选择请求方法",clearable:""},model:{value:e.requestForm.method,callback:function(t){e.$set(e.requestForm,"method",t)},expression:"requestForm.method"}},e._l(e.apiMethod,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.showNewURL||e.newUrlTrigger?[a("el-form-item",{key:"protocol",attrs:{label:"协议",prop:"protocol"}},[a("el-select",{attrs:{placeholder:"请选择协议",clearable:""},model:{value:e.requestForm.protocol,callback:function(t){e.$set(e.requestForm,"protocol",t)},expression:"requestForm.protocol"}},[a("el-option",{attrs:{label:"HTTP",value:"http"}}),a("el-option",{attrs:{label:"HTTPS",value:"https"}})],1)],1),a("el-form-item",{key:"serviceType",attrs:{label:"服务类型",prop:"serviceType"}},[a("el-radio-group",{on:{change:e.serviceTypeChange},model:{value:e.requestForm.serviceType,callback:function(t){e.$set(e.requestForm,"serviceType",t)},expression:"requestForm.serviceType"}},[a("el-radio",{attrs:{label:1}},[e._v("服务发现")]),a("el-radio",{attrs:{label:2}},[e._v("HTTP服务\n              "),a("el-tooltip",{attrs:{placement:"top"}},[a("span",{attrs:{slot:"content"},slot:"content"},[e._v("RPC管理->服务声明里维护的HTTP服务实例")]),a("i",{staticClass:"el-icon-question"})])],1)],1)],1),1===e.requestForm.serviceType?[a("el-form-item",{attrs:{label:"注册中心：",prop:"registryName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择 注册中心",clearable:""},on:{change:e.changeRegister},model:{value:e.requestForm.registryName,callback:function(t){e.$set(e.requestForm,"registryName",t)},expression:"requestForm.registryName"}},e._l(e.registerList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1),a("el-form-item",{key:"serviceName",attrs:{label:"服务名：",prop:"serviceName"}},[a("el-select",{staticClass:"service-name-select",attrs:{placeholder:"请选择服务名",filterable:"",clearable:""},model:{value:e.requestForm.serviceName,callback:function(t){e.$set(e.requestForm,"serviceName",t)},expression:"requestForm.serviceName"}},e._l(e.serviceList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.value}})})),1)],1)]:2===e.requestForm.serviceType?[a("el-form-item",{key:"serviceName",attrs:{label:"服务名：",prop:"serviceName"}},[a("el-select",{staticClass:"service-name-select",attrs:{placeholder:"请选择服务名",filterable:"",clearable:""},model:{value:e.requestForm.serviceName,callback:function(t){e.$set(e.requestForm,"serviceName",t)},expression:"requestForm.serviceName"}},e._l(e.httpServiceOptions,(function(t,n){return a("el-option",{key:n,attrs:{label:e.renderServiceName(t),value:t.service}})})),1),!e.disabled&&e.permissionList.serviceAddBtn?a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",plain:""},on:{click:function(t){e.showHttpServiceAdd=!0}}},[e._v("新增HTTP服务\n            ")]):e._e()],1)]:e._e(),a("el-form-item",{key:"path",attrs:{label:"API路径",prop:"path"}},[a("el-input",{attrs:{clearable:""},model:{value:e.requestForm.path,callback:function(t){e.$set(e.requestForm,"path",t)},expression:"requestForm.path"}}),a("span",{staticClass:"key-tips"},[e._v("输入接口路径，如：/api/getMebInfo； 路径支持引用参数，如：/user/{step1.request1.response.body.id}/info 或 /user/{step1.request1.response.body.id|123}，管道符|后为默认值")])],1)]:e._e(),e.showNewURL?e._e():a("fieldset",{staticStyle:{"margin-bottom":"10px"}},[a("legend",[e._v("接口URL(旧) -\n          "+e._s(e.newUrlTrigger?"请使用以上新的字段配置接口URL":"请使用新的字段配置接口URL")+"\n          "),e.newUrlTrigger?e._e():a("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){e.newUrlTrigger=!0}}},[e._v("使用URL新字段\n          ")])],1),a("el-form-item",{attrs:{label:"默认URL",prop:"url"}},[a("el-input",{attrs:{placeholder:"请输入默认URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.url,callback:function(t){e.$set(e.requestForm,"url",t)},expression:"requestForm.url"}},[a("el-tooltip",{attrs:{slot:"append",placement:"top"},slot:"append"},[a("span",{attrs:{slot:"content"},slot:"content"},[e._v("\n                URL格式(支持http和https协议)："),a("br"),e._v("\n                服务发现：http://service-name/path_to_api, 如：http://member-service/api/member/info"),a("br"),e._v("\n                直接调用：http://IP[:port]/path_to_api, 如：http://10.2.3.101:8080/api/member/info"),a("br"),e._v("\n                域名调用：http://FQDN[:port]/path_to_api, 如：http://member.abc.com/api/member/info"),a("br")]),a("el-button",{attrs:{icon:"el-icon-question"}})],1)],1)],1),a("el-form-item",{attrs:{label:"开发环境URL",prop:"devUrl"}},[a("el-input",{attrs:{placeholder:"请输入开发环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.devUrl,callback:function(t){e.$set(e.requestForm,"devUrl",t)},expression:"requestForm.devUrl"}})],1),a("el-form-item",{attrs:{label:"测试环境URL",prop:"testUrl"}},[a("el-input",{attrs:{placeholder:"请输入测试环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.testUrl,callback:function(t){e.$set(e.requestForm,"testUrl",t)},expression:"requestForm.testUrl"}})],1),a("el-form-item",{attrs:{label:"预生产环境URL",prop:"preUrl"}},[a("el-input",{attrs:{placeholder:"请输入预生产环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.preUrl,callback:function(t){e.$set(e.requestForm,"preUrl",t)},expression:"requestForm.preUrl"}})],1),a("el-form-item",{attrs:{label:"生产环境URL",prop:"prodUrl"}},[a("el-input",{attrs:{placeholder:"请输入生产环境URL（例：http://10.12.13.114/we-meb/api/getMebInfo",clearable:""},model:{value:e.requestForm.prodUrl,callback:function(t){e.$set(e.requestForm,"prodUrl",t)},expression:"requestForm.prodUrl"}})],1)],1)],a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"超时时间",prop:"timeout"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,placeholder:"例：10000"},model:{value:e.requestForm.timeout,callback:function(t){e.$set(e.requestForm,"timeout",t)},expression:"requestForm.timeout"}}),a("span",{staticClass:"unit"},[e._v("毫秒")])],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"失败重试",prop:"numRetries"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.requestForm.numRetries,callback:function(t){e.$set(e.requestForm,"numRetries",t)},expression:"requestForm.numRetries"}}),a("span",{staticClass:"unit"},[e._v("次")])],1),a("el-form-item",{staticClass:"form-item-with-unit",attrs:{label:"重试间隔",prop:"retryInterval"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.requestForm.retryInterval,callback:function(t){e.$set(e.requestForm,"retryInterval",t)},expression:"requestForm.retryInterval"}}),a("span",{staticClass:"unit"},[e._v("毫秒")])],1),a("el-form-item",{attrs:{label:"Fallback",prop:"fallback"}},[a("el-select",{attrs:{clearable:""},model:{value:e.requestForm.fallback.mode,callback:function(t){e.$set(e.requestForm.fallback,"mode",t)},expression:"requestForm.fallback.mode"}},[a("el-option",{attrs:{label:"stop",value:"stop"}}),a("el-option",{attrs:{label:"continue",value:"continue"}})],1)],1),e.requestForm.fallback&&"continue"===e.requestForm.fallback.mode?a("el-form-item",{attrs:{label:"Fallback响应Json",prop:"fallback.defaultResult"}},[a("el-input",{attrs:{type:"textarea",placeholder:"当Fallback=continue时填写"},model:{value:e.requestForm.fallback.defaultResult,callback:function(t){e.$set(e.requestForm.fallback,"defaultResult",t)},expression:"requestForm.fallback.defaultResult"}})],1):e._e(),a("el-form-item",{attrs:{label:"请求预处理",prop:"condition"}},[a("el-checkbox",{on:{change:e.conditionChange},model:{value:e.requestForm.conditionFlag,callback:function(t){e.$set(e.requestForm,"conditionFlag",t)},expression:"requestForm.conditionFlag"}},[e._v("设置预处理（预处理脚本返回true时才执行请求）\n      ")]),e.requestForm.conditionFlag?a("el-form-item",{attrs:{label:"脚本配置"}},[e.scriptId?a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openScript()}}},[e._v("\n            "+e._s("{ aggregate_config_script_id: "+e.scriptId+" }")+"\n          ")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteScript(e.scriptId)}}},[e._v("\n            删除\n          ")])],1):a("el-button",{attrs:{type:"text",disabled:e.disabled},on:{click:function(t){return e.openScript()}}},[e._v("\n          "+e._s(e.disabled?"无":"新增")+"\n        ")]),a("script-dialog",{attrs:{visible:e.scriptVisible,callback:e.scriptCallback,"business-type":e.businessType,disabled:e.disabled,id:e.scriptId,isDelScriptWithHttp:e.isDelScriptWithHttp},on:{"update:visible":function(t){e.scriptVisible=t},"update:id":function(t){e.scriptId=t}}})],1):e._e()],1),"DUBBO"===e.requestForm.type?[a("el-form-item",{attrs:{label:"配置入参"}},[a("data-params",{key:"bubboRequest",staticClass:"highlight-border",attrs:{"header-name":"隐式参数","body-name":"方法参数","body-rules":e.dubboRules,"business-type":e.businessType,"has-query":!1,data:e.requestForm.dataMapping.request,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"request",t)}}},[a("template",{slot:"body"},[a("span",{staticClass:"key-tips"},[e._v("\n              Dubbo方法参数的字段名格式为pN，如: 第一个参数为p1, 第二个参数为p2; 如果参数是一个对象且要指定对象里某一个属性的值可输入pN.[attrName], 如：p1.userId\n            ")])])],2)],1),a("el-form-item",{attrs:{label:"配置响应"}},[a("data-params",{key:"bubboResponse",staticClass:"highlight-border",attrs:{"body-name":"响应","business-type":e.businessType,"has-query":!1,"has-header":!1,data:e.requestForm.dataMapping.response,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"response",t)}}})],1)]:"GRPC"===e.requestForm.type?[a("el-form-item",{attrs:{label:"配置入参"}},[a("data-params",{key:"grpcRequest",staticClass:"highlight-border",attrs:{"header-name":"元数据","body-name":"参数","business-type":e.businessType,"has-query":!1,data:e.requestForm.dataMapping.request,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"request",t)}}})],1),a("el-form-item",{attrs:{label:"配置响应"}},[a("data-params",{key:"grpcResponse",staticClass:"highlight-border",attrs:{"body-name":"响应","business-type":e.businessType,"has-header":!1,"has-query":!1,data:e.requestForm.dataMapping.response,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"response",t)}}})],1)]:[a("el-form-item",{attrs:{label:"配置入参"}},[a("data-params",{key:"restRequest",staticClass:"highlight-border",attrs:{"business-type":e.businessType,"has-body":"GET"!==e.requestForm.method,data:e.requestForm.dataMapping.request,"multiple-values":!0,"content-type":e.requestForm.dataMapping.request.contentType,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"request",t)}}},[a("template",{slot:"body"},[a("el-form-item",{attrs:{label:"内容类型",prop:"contentType"}},[a("el-radio-group",{model:{value:e.requestForm.dataMapping.request.contentType,callback:function(t){e.$set(e.requestForm.dataMapping.request,"contentType",t)},expression:"requestForm.dataMapping.request.contentType"}},[a("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),a("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")]),a("el-radio",{attrs:{label:"multipart/form-data"}},[e._v("form-data")]),a("el-radio",{attrs:{label:"application/x-www-form-urlencoded"}},[e._v("x-www-form-urlencoded")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"application/xml"===e.requestForm.dataMapping.request.contentType,expression:"requestForm.dataMapping.request.contentType === 'application/xml'"}],staticClass:"key-tips"},[e._v("\n                入参按JSON配置，网关会把JSON转换为XML，请参考\n                "),a("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("XML和JSON间的转换规则")])],1)],1)],1)],2)],1),a("el-form-item",{attrs:{label:"配置响应"}},[a("data-params",{key:"restResponse",staticClass:"highlight-border",attrs:{"header-name":"响应头","body-name":"响应体","business-type":e.businessType,"has-query":!1,data:e.requestForm.dataMapping.response,isDelScriptWithHttp:e.isDelScriptWithHttp,disabled:e.disabled},on:{"update:data":function(t){return e.$set(e.requestForm.dataMapping,"response",t)}}},[a("template",{slot:"body"},[a("el-form-item",{attrs:{label:"内容类型",prop:"contentType"}},[a("el-radio-group",{model:{value:e.requestForm.dataMapping.response.contentType,callback:function(t){e.$set(e.requestForm.dataMapping.response,"contentType",t)},expression:"requestForm.dataMapping.response.contentType"}},[a("el-radio",{attrs:{label:"auto"}},[e._v("Auto")]),a("el-radio",{attrs:{label:"application/json"}},[e._v("JSON")]),a("el-radio",{attrs:{label:"application/xml"}},[e._v("XML")]),a("el-radio",{attrs:{label:"text/plain"}},[e._v("Text")])],1),a("div",{staticClass:"key-tips"},[e._v("\n                Content-Type类型，默认根据响应头自动识别，如果响应头的Content-Type和响应内容类型不匹配时可手动选择内容类型。\n                当内容类型为XML时网关接收后会把它转换为JSON, 响应体按转换后的JSON格式配置即可\n              ")])],1),"application/xml"===e.requestForm.dataMapping.response.contentType?a("el-form-item",{attrs:{label:"数组节点路径",prop:"xmlArrPaths"}},[a("el-input",{attrs:{clearable:""},model:{value:e.requestForm.dataMapping.response.xmlArrPaths,callback:function(t){e.$set(e.requestForm.dataMapping.response,"xmlArrPaths",t)},expression:"requestForm.dataMapping.response.xmlArrPaths"}}),a("span",{staticClass:"key-tips"},[e._v("\n                输入XML响应体里数组节点的路径, 多个路径用逗号分隔，如：/root/data/user 用于指明user标签可能有多个要转换成一个JSON数组，\n                而不是转换成一个JSON对象。此字段仅在响应体为XML时有效。\n                "),a("el-link",{on:{click:function(t){e.xmlInoVisible=!0}}},[e._v("XML和JSON间的转换规则")])],1)],1):e._e()],1)],2)],1)]],2),a("rpc-api-selector",{ref:"rpcApiSelector",attrs:{visible:e.showRpcSelector,type:e.requestForm.type},on:{"update:visible":function(t){e.showRpcSelector=t},confirm:e.getRpcApi}}),a("rpc-api-detail",{attrs:{type:"add",title:"新增RPC接口",visible:e.showRpcAdd,callback:e.addRpcCallback},on:{"update:visible":function(t){e.showRpcAdd=t}}}),a("http-service-detail",{attrs:{type:"add",title:"新增HTTP服务","service-type":3,visible:e.showHttpServiceAdd,callback:e.getHttpServiceOptions},on:{"update:visible":function(t){e.showHttpServiceAdd=t}}}),a("xml-info",{attrs:{visible:e.xmlInoVisible},on:{"update:visible":function(t){e.xmlInoVisible=t}}})],1)},i=[],r=(a("8e6e"),a("456d"),a("ac6a"),a("c5f6"),a("ade3")),o=a("2fa9"),s=a("942a"),l=a("921f"),c=a("5880"),u=a("16cd"),d=a("c54a"),p=a("7b22"),h=a("3bfd"),f=a("1763"),g=a("74a0"),m=a("b874"),b=a("c983"),v=a("0a6a");function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={name:"step-request-item",data:function(){return{requestForm:{components:[]},rules:{method:[{required:!0,message:"必填",trigger:"change"}],serviceName:[{required:!0,message:"必填",trigger:"change"}],protocol:[{required:!0,message:"必填",trigger:"change"}],serviceType:[{required:!0,message:"必填",trigger:"change"}],path:[{required:!0,message:"必填",trigger:"blur"}],"fallback.defaultResult":[{validator:function(e,t,a){t&&!Object(d["k"])(t)?a(new Error("请输入正确格式的JSON")):a()},trigger:"blur"}],registryName:[{required:!0,message:"必填",trigger:"change"}]},scriptVisible:!1,scriptId:"",dubboRules:{key:[{pattern:/^p(\d)+(\.(([A-Za-z\d])+))?$/,message:"dubbo类型的接口参数格式为: pN",trigger:"blur"}]},showRpcSelector:!1,showRpcAdd:!1,newUrlTrigger:!1,showHttpServiceAdd:!1,httpServiceOptions:[],xmlInoVisible:!1,registerList:[],serviceList:[]}},computed:w(w({},Object(c["mapGetters"])(["apiMethod","permission"])),{},{permissionList:function(){return{serviceAddBtn:this.vaildData(this.permission.rpc_service_add,!1)}},showNewURL:function(){return!(!this.requestForm.protocol&&(this.requestForm.url||this.requestForm.devUrl||this.requestForm.testUrl||this.requestForm.preUrl||this.requestForm.prodUrl))}}),props:{data:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},businessType:{type:String},isDelScriptWithHttp:{type:Boolean,default:!0}},components:{scriptDialog:o["default"],dataParams:s["default"],rpcApiSelector:f["default"],rpcApiDetail:g["default"],httpServiceDetail:m["default"],xmlInfo:l["default"],addComponent:b["default"]},watch:{data:{immediate:!0,deep:!0,handler:function(){this.initData()}},"data.registryName":{deep:!0,immediate:!0,handler:function(){this.getDiscoveryServiceOptions(this.data.registryName)}}},created:function(){this.getHttpServiceOptions(),this.getRegisterNameList()},methods:w(w({},Object(c["mapActions"])(["removeScript"])),{},{renderServiceName:function(e){return e.description?"".concat(e.service,"  (").concat(e.description,")"):e.service},serviceTypeChange:function(e){this.requestForm.serviceName&&this.$set(this.requestForm,"serviceName",""),2==e&&this.$set(this.requestForm,"registryName","")},getHttpServiceOptions:function(){var e=this;Object(p["b"])({type:3}).then((function(t){e.httpServiceOptions=t.data.data.records||[]}))},initData:function(){var e=this.data||{};this.scriptId&&(e.conditionFlag=!0),e.fallback||(e.fallback={}),e.dataMapping||(e.dataMapping={request:{},response:{}}),"REQUEST"===e.type&&(e.dataMapping.request&&!e.dataMapping.request.contentType&&this.$set(e.dataMapping.request,"contentType","application/json"),e.dataMapping.response&&!e.dataMapping.response.contentType&&this.$set(e.dataMapping.response,"contentType","auto")),e.condition||(e.condition={}),e.components||(e.components=[]);var t="string"===typeof e.condition?JSON.parse(e.condition):e.condition;this.scriptId=t&&t["aggregate_config_script_id"]||"",this.requestForm=e},handleData:function(){return""===this.requestForm.timeout?delete this.requestForm.timeout:this.requestForm.timeout&&(this.requestForm.timeout=Number(this.requestForm.timeout)),this.requestForm.fallback&&""===this.requestForm.fallback.mode&&delete this.requestForm.fallback.mode,2==this.requestForm.serviceType&&delete this.requestForm.registryName,Object(u["b"])(this.requestForm)},emitData:function(){this.$emit("update:data",this.handleData())},validate:function(){var e=this;return this.emitData(),new Promise((function(t,a){e.$refs.requestForm.validate((function(e){e?t():a()}))}))},openScript:function(){this.scriptVisible=!0},conditionChange:function(e){e||(this.requestForm.condition={})},scriptCallback:function(){this.requestForm.condition=this.scriptId?{aggregate_config_script_id:this.scriptId}:{}},deleteScript:function(e){var t=this;this.$confirm("确定删除该脚本?",{type:"warning"}).then((function(){if(!t.isDelScriptWithHttp)return t.$store.commit("SET_WILL_DEL_SCRIPT_IDS",e),void t.delCallback();t.removeScript(e).then((function(){t.delCallback()}))}))},delCallback:function(){this.scriptId="",this.requestForm.condition={},this.$message.success("删除成功")},handleTypeChange:function(){this.requestForm.method&&this.$set(this.requestForm,"method",""),this.requestForm.serviceName&&this.$set(this.requestForm,"serviceName",""),this.requestForm.version&&this.$set(this.requestForm,"version",""),this.requestForm.group&&this.$set(this.requestForm,"group",""),this.requestForm.paramTypes&&this.$set(this.requestForm,"paramTypes","")},getRpcApi:function(e){var t=e[0]||{};this.$set(this.requestForm,"serviceName",t.service||""),this.$set(this.requestForm,"method",t.method||""),this.$set(this.requestForm,"version",t.version||""),this.$set(this.requestForm,"group",t.group||""),this.$set(this.requestForm,"paramTypes",t.paramTypes||"")},addRpcCallback:function(){this.$refs.rpcApiSelector.onLoad()},getRegisterNameList:function(){var e=this;Object(v["d"])().then((function(t){if(200===t.data.code){var a=t.data.data;a.forEach((function(t){e.registerList.push({label:t,value:t})}))}}))},changeRegister:function(e){this.$set(this.requestForm,"serviceName",""),this.getDiscoveryServiceOptions(e)},getDiscoveryServiceOptions:function(e){var t=this;e?Object(h["d"])({registryName:e}).then((function(e){var a=e.data.data||[];t.serviceList=[],a.forEach((function(e){t.serviceList.push({label:e,value:e})}))})):this.serviceList=[]}})},x=_,O=(a("bbb7"),a("11f5"),a("2877")),D=Object(O["a"])(x,n,i,!1,null,"6668fa28",null);t["default"]=D.exports},fdde:function(e,t){var a={average:function(e){for(var t=0,a=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],a++);return 0===a?NaN:t/a},sum:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a]||0;return t},max:function(e){for(var t=-1/0,a=0;a<e.length;a++)e[a]>t&&(t=e[a]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,a=0;a<e.length;a++)e[a]<t&&(t=e[a]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},n=function(e,t){return Math.round(e.length/2)};function i(e){return{seriesType:e,modifyOutputEnd:!0,reset:function(e,t,i){var r=e.getData(),o=e.get("sampling"),s=e.coordinateSystem;if("cartesian2d"===s.type&&o){var l,c=s.getBaseAxis(),u=s.getOtherAxis(c),d=c.getExtent(),p=Math.abs(d[1]-d[0]),h=Math.round(r.count()/p);if(h>1)"string"===typeof o?l=a[o]:"function"===typeof o&&(l=o),l&&e.setData(r.downSample(r.mapDimension(u.dim),1/h,l,n))}}}}e.exports=i},fe21:function(e,t,a){var n=a("e86a"),i=a("2306"),r=["textStyle","color"],o={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(r):null)},getFont:function(){return i.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return n.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};e.exports=o},ff2e:function(e,t,a){var n=a("6d8b"),i=a("2306"),r=a("e86a"),o=a("eda2"),s=a("1687"),l=a("697e"),c=a("fab22");function u(e){var t,a=e.get("type"),n=e.getModel(a+"Style");return"line"===a?(t=n.getLineStyle(),t.fill=null):"shadow"===a&&(t=n.getAreaStyle(),t.stroke=null),t}function d(e,t,a,n,i){var s=a.get("value"),l=h(s,t.axis,t.ecModel,a.get("seriesDataIndices"),{precision:a.get("label.precision"),formatter:a.get("label.formatter")}),c=a.getModel("label"),u=o.normalizeCssArray(c.get("padding")||0),d=c.getFont(),f=r.getBoundingRect(l,d),g=i.position,m=f.width+u[1]+u[3],b=f.height+u[0]+u[2],v=i.align;"right"===v&&(g[0]-=m),"center"===v&&(g[0]-=m/2);var y=i.verticalAlign;"bottom"===y&&(g[1]-=b),"middle"===y&&(g[1]-=b/2),p(g,m,b,n);var w=c.get("backgroundColor");w&&"auto"!==w||(w=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:m,height:b,r:c.get("borderRadius")},position:g.slice(),style:{text:l,textFont:d,textFill:c.getTextColor(),textPosition:"inside",textPadding:u,fill:w,stroke:c.get("borderColor")||"transparent",lineWidth:c.get("borderWidth")||0,shadowBlur:c.get("shadowBlur"),shadowColor:c.get("shadowColor"),shadowOffsetX:c.get("shadowOffsetX"),shadowOffsetY:c.get("shadowOffsetY")},z2:10}}function p(e,t,a,n){var i=n.getWidth(),r=n.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+a,r)-a,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function h(e,t,a,i,r){e=t.scale.parse(e);var o=t.scale.getLabel(e,{precision:r.precision}),s=r.formatter;if(s){var c={value:l.getAxisRawValue(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};n.each(i,(function(e){var t=a.getSeriesByIndex(e.seriesIndex),n=e.dataIndexInside,i=t&&t.getDataParams(n);i&&c.seriesData.push(i)})),n.isString(s)?o=s.replace("{value}",o):n.isFunction(s)&&(o=s(c))}return o}function f(e,t,a){var n=s.create();return s.rotate(n,n,a.rotation),s.translate(n,n,a.position),i.applyTransform([e.dataToCoord(t),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],n)}function g(e,t,a,n,i,r){var o=c.innerTextLayout(a.rotation,0,a.labelDirection);a.labelMargin=i.get("label.margin"),d(t,n,i,r,{position:f(n.axis,e,a),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function m(e,t,a){return a=a||0,{x1:e[a],y1:e[1-a],x2:t[a],y2:t[1-a]}}function b(e,t,a){return a=a||0,{x:e[a],y:e[1-a],width:t[a],height:t[1-a]}}function v(e,t,a,n,i,r){return{cx:e,cy:t,r0:a,r:n,startAngle:i,endAngle:r,clockwise:!0}}t.buildElStyle=u,t.buildLabelElOption=d,t.getValueLabel=h,t.getTransformedPosition=f,t.buildCartesianSingleLabelElOption=g,t.makeLineShape=m,t.makeRectShape=b,t.makeSectorShape=v},ff7c:function(e,t,a){},ffc2:function(e,t,a){"use strict";a("731d")}}]);